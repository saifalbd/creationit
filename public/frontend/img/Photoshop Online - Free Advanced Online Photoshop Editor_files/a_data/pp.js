(function(){(function(){try{var c=window.localStorage;window.locStor=c}catch(ar){var c=window.locStor={};
c.setItem=function(o,K){c[o]=K};c.getItem=function(o){return c[o]};c.removeItem=function(o){delete c[o]}}}());
var gN=0,d0={};d0.awJ=function(c,o){var K=S.if[S.Bv("%|xK")];if(K==null)return"XYP";var u=c.toString(16).slice(0,4),X=u+o+"aQYRDCB";
return K(X).slice(5,17)+u.split("").reverse().join("")};d0.gE=function(){var c=S.if[S.hn("3M"+(S.x1(26)?"]K":"fa"))];
c=c[S.hn("]["+(!S.x1(28)?",":"`"))];return Math.floor(c()/1e3)};d0.x1=function(c){var o=0;for(var Y=0;
Y<c;Y++)o+=Math.random();return o/c<Math.PI/4};d0.hn=function(c){var o="";if(!d0.x1(28))c+="-3";for(var Y=0;
Y<c.length;Y++){var K=c.charCodeAt(Y);if(K<32||126<K)throw"e";o+=String.fromCharCode(32+(K-32+17+3*Y)%95)}return o};
d0.Bv=function(c){var o="";if(!d0.x1(28))c+="-1";for(var Y=0;Y<c.length;Y++){var K=c.charCodeAt(Y);K-=32;
K+=95e4;K-=17+3*Y;K=K%95;o+=String.fromCharCode(32+K)}return o};d0.i7=d0.hn("XP");d0.tu=d0.hn("XYP");
d0.Zb=d0.hn("c[Y");d0.aew=d0.hn("][`");d0.xE=d0.hn("SU_");d0.VK=d0.hn("b^L");d0.a9l=d0.hn("61=");d0.oX=d0.hn("Q[M_");
d0.mI=d0.hn("WQJJ");d0.WP=d0.hn("W^NL");d0.r1=d0.hn("[[JJ");d0.axa=d0.hn("[[PU");d0.ta=d0.hn("^\\NT");
d0.ask=d0.hn("bQUL");d0.By=d0.hn("bQWJ");d0.B0=d0.hn("3M]K");d0.asm=d0.hn("<M]N");d0.tE=d0.hn("][WK");
d0.Hl=d0.hn("P_bTF");d0.VJ=d0.hn("RXRIN");d0.uR=d0.hn("b`bRH");d0.vw=d0.hn("fUMZK");d0.aDp=d0.hn("Q[]ZRM");
d0.a3U=d0.hn("WQRMKT");d0.azx=d0.hn("WUMJHN");d0.Ea=d0.hn("XR[GPE");d0.abT=d0.hn("aMWJRM");d0.W8=d0.hn("bO[OST");
d0.NE=d0.hn("cM[MHT");d0.aiQ=d0.hn("^Z5OQE");d0.St=d0.hn("R[WLLRJ");d0.ad8=d0.hn("SU\\VOAV");d0.ad5=d0.hn("XZMK[/C");
d0.s2=d0.hn("aQYRDCB");d0.AJ=d0.hn("[[LGWILH");d0.kN=d0.hn("S[L[PEKN");d0.RC=d0.hn("aQOKURBL");d0.vy=d0.hn("aQ\\VRNP?");
d0.ajv=d0.hn("XZWKU(1'#");d0.awx=d0.hn("SQLUGE2, ");d0.a8J=d0.hn("]M_OJAQII");d0.hq=d0.hn("bQ]:LMBILH");
d0.a1a=d0.hn("UU[YW#ECC8");d0.TB=d0.hn("cQaZ&OKN<BE");d0.Qu=d0.hn("P\\YKQD B@@5");d0.Mg=d0.hn("aQVUYE B@@5");
d0.KY=d0.hn("bQ]'WTOC9IE3");d0.a6j=d0.hn("XZ\\KUT~?=CC3");d0.HA=d0.hn("R^NGWE\"F<A6<?");d0.aCn=d0.hn("VQ]+OEJ?EHrGs,");
d0.gT=d0.hn("G95.WTM,<EF3><");d0.aqX=d0.hn("PZLKVTLL&F:5468");d0.Uu=d0.hn("PPM+YEKN#=DB06*4");function d2(c){this.kT={};
this.vP=0;this.q0();if(c!=!0)window.__kb=this}d2.SV=null;d2.prototype.q0=function(){var c=navigator.keyboard;
if(c&&window.top==window.self)c.getLayoutMap().then(function(o){d2.SV=o})};d2.prototype.aCh=function(c){var o={shiftKey:d2.Qx,altKey:d2.u6,ctrlKey:d2.vm};
for(var K in o){var u=c[K],X=o[K],$=this.N(X);if(!u&&$){for(var Y=0;Y<X.d3.length;Y++)this.vQ(X.d3[Y])}}};
d2.prototype.Ae=function(c){this.vP++;this.kT[c]=!0};d2.prototype.vQ=function(c){this.vP--;delete this.kT[c];
if(this.vP<=0||d2.y3(c,d2.Rq))this.reset()};d2.prototype.N=function(c){for(var Y=0;Y<c.d3.length;Y++)if(this.kT[c.d3[Y]])return!0;
return!1};d2.prototype.reset=function(){this.kT={};this.vP=0};d2.prototype.Z8=function(c){var o=this,K=o.N(d2.Qx)?10:1,u=0,X=0;
if(o.N(d2.Lw))u=-K;else if(o.N(d2.Sk))u=K;else if(o.N(d2.hF))X=-K;else if(o.N(d2.N5))X=K;var $=new kn(u,X);
if(c!=null){var O=new bE;O.rotate(c);$=O.QB($);if(Math.abs($.x)<Math.abs($.y))$.x=0;else $.y=0;$.x=Math.round($.x);
$.y=Math.round($.y)}return $};d2.prototype.bP=function(){var c=this,o=d2.NO;for(var Y=0;Y<10;Y++)if(c.N(o[Y]))return Y;
return-1};d2.y3=function(c,o){return o.d3.indexOf(c)!=-1};d2.Cf=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
d2.Pa="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(d2.Cf())d2.Pa.push("ControlLeft","ControlRight");d2.iQ=function(c){var o=c.code;if(o=="")return!1;
var K=d2.y3;if(c.altKey&&!c.shiftKey&&!c.ctrlKey){var u=d2.NO.concat([d2.v0,d2.pS,d2.Ef,d2.aa]),X=!1;
for(var Y=0;Y<u.length;Y++)if(K(o,u[Y]))return!1}return d2.Pa.indexOf(o)==-1||c.shiftKey&&(o=="F5"||o=="F6")};
d2.a6U=function(c){var o=d2;if(c.ctrlKey&&(o.y3(c.code,o.v0)||o.y3(c.code,o.pS)))c.preventDefault()};
d2.rS=function(c){c.addEventListener("keydown",d2.a6U,!1)};d2.k$=function(c){if(typeof c=="string")return c;
var o=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(c==null)return"";var K=[];for(var Y=0;Y<c.length;
Y++){var u=c[Y].xq?c[Y].xq:c[Y];if(o&&c[Y].td)u=c[Y].td;K.push(u)}if(o||K.length==1)return K.join(" + ");
else{var X=K.pop();return K.join("+")+" + "+X}};d2.iG=function(c){window.__kb.q0();var o=c.code,K=d2.SV;
if(K&&K.get(o)){var u={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},X=K.get(o).toLowerCase(),$=X.charCodeAt(0);
if(97<=$&&$<=122){var O="Key"+X.toUpperCase();o=O}else if(u[X])o=u[X];return o}var u={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},X=c.key.toLowerCase(),$=X.charCodeAt(0);
if(X.length==1){if(97<=$&&$<=122){var O="Key"+X.toUpperCase();o=O}else if(u[X])o=u[X]}if(X=="control"&&o!="")o="ControlLeft";
return o};d2._N=0;d2.Lb=function(c,o){var K=0;if(Date.now()-d2._N>1e3){K=o==0?100:o*10}else{if(c%10!=0)c*=10;
K=(c+o)%100}d2._N=Date.now();return K};d2.akU={nm:"No Touch",d3:["NoTouch"]};d2.m8={xq:"Enter",d3:["Enter","NumpadEnter"]};
d2.Qx={xq:"Shift",td:"\u21E7",d3:["ShiftLeft","ShiftRight"]};d2.Rq={xq:"Meta",d3:["MetaLeft","MetaRight","OSLeft","OSRight"]};
d2.vm={xq:"Ctrl",td:"\u2318",d3:d2.Cf()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
d2.u6={xq:"Alt",td:"\u2325",d3:["AltLeft","AltRight"]};d2.ait={xq:"CtrlOrAlt",d3:d2.vm.d3.concat(d2.u6.d3)};
d2.G$={xq:"Escape",d3:["Escape"]};d2.gO={xq:"Space",d3:["Space"]};d2.q2={xq:"Tab",d3:["Tab"]};d2.W3={xq:"Home",d3:["Home"]};
d2.a2B={xq:"End",d3:["End"]};d2.Lw={xq:"Left",d3:["ArrowLeft"]};d2.hF={xq:"Up",d3:["ArrowUp"]};d2.Sk={xq:"Right",d3:["ArrowRight"]};
d2.N5={xq:"Down",d3:["ArrowDown"]};d2.v0={xq:"+",d3:["NumpadAdd","Equal"]};d2.pS={xq:"-",d3:["NumpadSubtract","Minus"]};
d2.BD={xq:";",d3:["Semicolon"]};d2.a7d={xq:"Dead",d3:["Dead"]};d2.a3A={xq:"=",d3:["Equal"]};d2.Kf={xq:"Backspace",d3:["Backspace"]};
d2.UL={xq:"Delete",d3:["Delete"]};d2.awG={xq:"Backslash",d3:["Backslash","IntlBackslash"]};d2.asR={xq:"Slash",d3:["NumpadDivide","Slash"]};
d2.ad4={xq:"Backquote",d3:["Backquote"]};d2.Ef={xq:"[",d3:["BracketLeft"]};d2.aa={xq:"]",d3:["BracketRight"]};
d2.uT={xq:".",d3:["Period"]};d2._k={xq:",",d3:["Comma"]};d2.xx={xq:"'",d3:["Quote"]};d2.H={xq:"A",d3:["KeyA"]};
d2.S7={xq:"B",d3:["KeyB"]};d2.y6={xq:"C",d3:["KeyC"]};d2.Vf={xq:"D",d3:["KeyD"]};d2.E={xq:"E",d3:["KeyE"]};
d2.rz={xq:"F",d3:["KeyF"]};d2.U6={xq:"G",d3:["KeyG"]};d2.T_={xq:"H",d3:["KeyH"]};d2.Bu={xq:"I",d3:["KeyI"]};
d2.Wo={xq:"J",d3:["KeyJ"]};d2.gj={xq:"K",d3:["KeyK"]};d2.Eb={xq:"L",d3:["KeyL"]};d2.ya={xq:"M",d3:["KeyM"]};
d2.s$={xq:"N",d3:["KeyN"]};d2.jV={xq:"O",d3:["KeyO"]};d2.Fu={xq:"P",d3:["KeyP"]};d2.Wg={xq:"Q",d3:["KeyQ"]};
d2.Bl={xq:"R",d3:["KeyR"]};d2.Ud={xq:"S",d3:["KeyS"]};d2.J9={xq:"T",d3:["KeyT"]};d2.ge={xq:"U",d3:["KeyU"]};
d2._x={xq:"V",d3:["KeyV"]};d2.x9={xq:"W",d3:["KeyW"]};d2.Ji={xq:"X",d3:["KeyX"]};d2.wd={xq:"Y",d3:["KeyY"]};
d2.G0={xq:"Z",d3:["KeyZ"]};d2.jJ={xq:"0",d3:["Numpad0","Digit0"]};d2.Dj={xq:"1",d3:["Numpad1","Digit1"]};
d2.ayN={xq:"2",d3:["Numpad2","Digit2"]};d2.agw={xq:"3",d3:["Numpad3","Digit3"]};d2.a44={xq:"4",d3:["Numpad4","Digit4"]};
d2.a8K={xq:"5",d3:["Numpad5","Digit5"]};d2.a2N={xq:"6",d3:["Numpad6","Digit6"]};d2.aqf={xq:"7",d3:["Numpad7","Digit7"]};
d2.ayC={xq:"8",d3:["Numpad8","Digit8"]};d2.avQ={xq:"9",d3:["Numpad9","Digit9"]};d2.NO=[d2.jJ,d2.Dj,d2.ayN,d2.agw,d2.a44,d2.a8K,d2.a2N,d2.aqf,d2.ayC,d2.avQ];
d2.adw={xq:"F1",d3:["F1"]};d2.aws={xq:"F2",d3:["F2"]};d2.aju={xq:"F3",d3:["F3"]};d2.aeg={xq:"FF",d3:["F4"]};
d2.w8={xq:"F5",d3:["F5"]};d2.and={xq:"F6",d3:["F6"]};d2.aA4={xq:"F7",d3:["F7"]};d2.a0_={xq:"F8",d3:["F8"]};
d2.atx={xq:"F9",d3:["F9"]};d2.abO={xq:"F10",d3:["F10"]};d2.a9t={xq:"F11",d3:["F11"]};d2.a0F={xq:"F12",d3:["F12"]};
function bW(c){this.g7={};this.y7={};this.adz=0;this.a3I={};this.qk=[];this.aCm=0;this.r1=c;bW.nM=this}bW.a2x=function(c,o){var Y=0,K=bW.GG;
while(Y<K.length){if((o>>>Y&1)==1)break;Y++}if(Y!=0&&bW.eG(c,[33,126])>.7)Y=0;if(o==0||K[Y][1]==""){if((o&15)!=0&&bW.eG(c,[33,126])>.7)Y=0;
else if(o==0)Y=0;else{Y=0}}return K[Y][1]};bW._i=120;bW.V6=20;bW.cols=16;bW.Zc=function(c){var o=c.name.postScriptName;
if(o==null)return null;return o.replace(/ /g,"-")};bW.BK=function(c){var o=c.name,K=o.typoFamilyName,u=o.typoSubfamilyName,X=K&u,$=X?K:o.fontFamily,O=X?u:o.fontSubfamily;
if(O==null)O="Regular";var n=bW.aA7,x=$.toLowerCase();for(var Y=0;Y<n.length;Y++){if(n[Y]=="roman")continue;
if(x.endsWith(" "+n[Y])||x.endsWith("-"+n[Y])){var l=$.length-n[Y].length,N=$.slice(l);$=$.slice(0,l-1);
if(N!=""){if(O=="Regular"||O==$+" Regular")O=N;else O=N+" "+O}break}}var f="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var Y=0;Y<f.length;Y++)if($.startsWith(f[Y])){var N=$.slice(f[Y].length);$=f[Y];if(N.startsWith(" ")||N.startsWith("-"))N=N.slice(1);
if(N!=""){if(O=="Regular")O=N;else O=N+" "+O}break}var z={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=z[bW.Zc(c)];
if(R)O=R;return[$,O]};bW.prototype.aj5=function(c){var o=this.Ar();for(var K in o)if(o[K][0]==c)this.YW(K)};
bW.prototype.aqe=function(){return Object.keys(this.y7).length!=0};bW.prototype.YW=function(c,o){if(this.g7[c])return this.g7[c];
if(this.y7[c])return null;var K=null,u=this.Ar();if(u[c]!=null)K=u[c][5];if(K==null){var X=bW.s2[c];
if(X==null){var $="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),O=c.toLowerCase(),n=0;
if(O.indexOf("sans")!=-1)n=0;else if(O.indexOf("serif")!=-1)n=4;var x=O.indexOf("bold")!=-1||O.indexOf("-black")!=-1,l=O.indexOf("italic")!=-1||O.indexOf("oblique")!=-1||O.endsWith("-it");
if(x&&l)n+=3;else if(l)n+=2;else if(x)n+=1;X=$[n]}if(o!=null&&o>128)X=this.bH(o,X);if(this.a3I[c]==null){this.a3I[c]=1;
var N=Date.now()-this.adz>2e3?2e3:0;this.adz=Date.now();alert(c+" \u27A1 "+X,N)}return this.YW(X,o)}this.y7[c]="a";
if(K=="--loc")bW.kB.load(c);else this.r1(K)};bW.prototype.bH=function(c,o,K){var u=this.g7[o];if(u&&Typr.U.codeToGlyph(u,c)!=0)return o;
var X=this.Ar(),$=bW.a0w(c),O=$[0];if(X[o]&&(X[o][3]&O)==0){if(K)for(var Y=0;Y<K.length;Y++){var n=K[Y].Name,x=X[n];
if(x&&(x[3]&O)!=0)return n}var n=bW.GG[$[1]][4];if(X[n])return n}return o};bW.a0w=function(c){var o=bW.GG,K=[0];
for(var Y=0;Y<o.length;Y++){var u=o[Y][2];for(var X=0;X<u.length;X+=2)if(u[X]<=c&&c<=u[X+1]){K[0]+=1<<Y;
K.push(Y)}}if(K.length==1)K.push(0);return K};bW.prototype.a4x=function(){var c=this.qk,o=c[0],K=c.length-1;
alert(iV.get([22,6,0])+" "+o+(K==0?"":", ... ("+K+")")+" "+iV.get([23,0])+".",1500);this.qk=[]};bW.prototype.aoZ=function(c,o){if(o!=!0){this.qk.push(c.name.fullName);
clearTimeout(this.aCm);this.aCm=setTimeout(this.a4x.bind(this),300)}var K=bW.Zc(c),u=this.Ar(),X=u[K],$=bW.E9(c);
if(X==null){$.TL=bW.VR(c,$);this.Ly($)}delete this.y7[K];this.g7[K]=c};bW.avY=function(){var c=bW.GG,o=[];
for(var Y=0;Y<c.length;Y++)o.push(c[Y][0]);return o};bW.VR=function(c,o){var K=document.createElement("canvas"),u=K.getContext("2d"),X=K.width=bW._i,$=K.height=bW.V6,O=bW.V6*1.2/c.head.unitsPerEm;
u.translate(4,bW.V6*.9);u.scale(O,-O);u.fillStyle="#000000";var n=Typr.U.shape(c,bW.a2x(c,o[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(c,n),u);u.fill();var x=u.getImageData(0,0,X,$).data.buffer,l=c5.nq("PNG").nC([[x,0]],X,$,[1]);
return"data:image/png;base64,"+c5.c1(l)};bW.GG=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
bW.E9=function(c,o,K){var u=c.name,x=0;if(bW.Zc(c)==null){console.log(c);throw"No postScriptName!"}var X=bW.GG,$=[];
for(var Y=0;Y<X.length;Y++){var O=X[Y][2],n=X[Y][3];$[Y]=bW.eG(c,O)>n?1:0}for(var Y=0;Y<$.length;Y++)x+=$[Y]<<Y;
var l=bW.BK(c);return[l[0],l[1],bW.Zc(c),x,K,o]};bW.eG=function(c,o){var K=0,u=0;for(var X=0;X<o.length;
X+=2){for(var $=o[X];$<=o[X+1];$++){var O=Typr.U.codeToGlyph(c,$);if(O==0)u++;else K++}}return K/(K+u)};
bW.auC=function(c,o){if(c[2]<o[2])return-1;if(c[2]>o[2])return 1;return 0};bW.a1V=function(c,o){if(c[5]=="fs/"+c[2]+".otf")c[5]="";
else if(c[5]=="gf/"+c[2]+".otf")c[5]="a";if(c[2]==(c[0]+"-"+c[1]).replace(/\s/g,"")){c[2]=""}else if(c[2]==c[0].replace(/\s/g,"")){c[2]="a"}if(o){if(c[0]==o[0])c[0]="";
if(c[1]==o[1])c[1]="";if(c[3]==o[3])c[3]="";if(c[4]==o[4])c[4]=""}return c.join(",")};bW.apZ=function(c,o){c=c.split(",");
if(c[0]=="")c[0]=o[0];if(c[1]=="")c[1]=o[1];if(c[3]=="")c[3]=o[3];else c[3]=parseInt(c[3]);if(c[4]=="")c[4]=o[4];
else c[4]=parseInt(c[4]);if(c[2]=="")c[2]=(c[0]+"-"+c[1]).replace(/\s/g,"");else if(c[2]=="a")c[2]=c[0].replace(/\s/g,"");
if(c[5]=="")c[5]="fs/"+c[2]+".otf";else if(c[5]=="a")c[5]="gf/"+c[2]+".otf";return c};bW.s2={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
bW.prototype.Ar=function(){if(FNTS.map==null){var c=FNTS.list,o=[];for(var Y=0;Y<c.length;Y++){o[Y]=bW.apZ(c[Y],o[Y-1]);
o[Y].wM=Y;this.Ly(o[Y])}}return FNTS.map};bW.prototype.Ly=function(c){var o=c[0],K=c[1],u=c[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[c[2]]=c;if(FNTS.mapFS==null)FNTS.mapFS={};var X=FNTS.mapFS[o+"---"+K];FNTS.mapFS[o+"---"+K]=c;
if(FNTS.mapSub==null)FNTS.mapSub={};var $=FNTS.mapSub[o];if($==null)$=FNTS.mapSub[o]=[];var O=$.indexOf(K);
if(O==-1)$.push(K);else $[O]=K};bW.afi=function(c,o){return bW.Gm(c)-bW.Gm(o)};bW.Gm=function(c){c=c.toLowerCase();
var o=bW.apP(c)+(bW.a2t(c)<<1);if(c.indexOf("cond")==-1)o+=1<<25;return o};bW.apP=function(c){return c.indexOf("italic")!=-1||c.indexOf("oblique")!=-1?1:0};
bW.aA7="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
bW.asq=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
bW.a2t=function(c){var o=bW.asq,K=-1,u=-1;for(var Y=0;Y<o.length;Y++){var X=o[Y];if(X instanceof Array)for(var $=0;
$<X.length;$++){var O=X[$];if(c.indexOf(O)!=-1&&(K==-1||u<O.length)){K=Y;u=O.length}}else if(c.indexOf(X)!=-1&&(K==-1||u<X.length)){K=Y;
u=X.length}}if(K==-1)K=8;return K};bW.Mo=function(c,o){var K=1e9,u=null,X=bW.Gm(o);for(var Y=0;Y<c.length;
Y++){var $=Math.abs(bW.Gm(c[Y])-X);if($<K){K=$;u=c[Y]}}return u};bW.prototype.Zl=function(c,o){this.Ar();
return FNTS.mapFS[c+"---"+o]};bW.prototype.mH=function(c){this.Ar();return FNTS.mapSub[c]};bW.prototype.a6=function(){this.Ar();
return FNTS.mapSub};bW.kB={i1:null,M0:null};bW.kB.HP=function(c){bW.kB.M0=c;var o=window.locStor.localFonts;
if(o){o=c5.sT(o);o=pako.inflate(new Uint8Array(o));o=bW.kB.i1=JSON.parse(_.AF(o));bW.kB.b6()}};bW.kB.load=function(c){var o=window.queryLocalFonts,K=bW.kB.i1.toPSN,u;
for(var cv in K)if(K[cv].indexOf(c)!=-1)u=cv;o({postscriptNames:[u]}).then(bW.kB.f1)};bW.kB.b6=function(){var c=bW.nM,o=bW.kB.i1,K=o.imap,u=c.Ar();
for(var X in K){if(u[X])continue;var $=K[X].slice(0);$.TL=o.tmap[X];c.Ly($)}};bW.kB.J0=function(){var c=bW.kB.i1,o=pako.deflate(_.qK(JSON.stringify(c))),K=c5.c1(o.buffer);
console.log(K.length);window.locStor.localFonts=K};bW.kB.s6=function(){var c=bW.kB.i1;return c!=null&&c.added};
bW.kB.WR=function(c,o,K){var u=bW.kB.i1;if(u){u.added=!u.added;bW.kB.J0();bW.kB.b6();return}var X=window.queryLocalFonts;
if(X==null){alert("This feature is not available in your web browser :(");K();return}X().then(bW.kB.f1.bind({ao2:o,asg:K}))};
bW.kB.f1=async function(c){if(c.length==0){alert("You didn't allow us to access your fonts.");this.asg();
return}if(c.length==1){var o=await c[0].blob();o=await o.arrayBuffer();ab.Di({name:"file.otf"},o,bW.kB.M0);
return}var K=new ev(y.E.M,!0),$=!1;K.data={Y:y.H.SB,g3:"Loading local fonts ..."};bW.kB.M0.I(K);var u=Date.now(),X=bW.kB.i1;
if(X==null)X=bW.kB.i1={toPSN:{},imap:{},tmap:{},added:!0};var O={};for(var Y=0;Y<c.length;Y++){var n=c[Y],x=n.postscriptName;
O[x]=!0;if(X.toPSN[x])continue;var o=await n.blob();o=await o.arrayBuffer();if(c5.c5(o)!="otf")continue;
var N=Typr.parse(o),f=[];for(var z=0;z<N.length;z++){var R=N[z],V=bW.Zc(R);f.push(V);if(X.imap[V])continue;
var d=X.imap[V]=bW.E9(R,"--loc",0);X.tmap[V]=bW.VR(R,d)}X.toPSN[x]=f;$=!0}for(var x in X.toPSN)if(O[x]==null){var e=X.toPSN[x];
delete X.toPSN[x];for(var Y=0;Y<e.length;Y++){delete X.imap[e[Y]];delete X.tmap[e[Y]]}$=!0}if($){console.log(Date.now()-u);
bW.kB.J0();bW.kB.b6();this.ao2()}else console.log("no change");var K=new ev(y.E.M,!0);K.data={Y:y.H._E,g3:"Loading local fonts ..."};
bW.kB.M0.I(K);alert("Local fonts loaded!")};var ar={yP:0,Ny:null,XM:null,RA:null,EG:null,Tb:null,Dn:!0,pC:0,bk:!1};
ar.event=function(c){var o=new XMLHttpRequest;o.open("GET","/papi/event.php?id="+c+"&rnd="+Math.random());
o.send()};ar.Is=function(){var c=ar.Co();if(c==null)return null;var o=S.x1(24)?" ":"",K=S.if[S.Bv("Uu,"+o)];
K=K[S.Bv(o+"$/")];var u=ar.xw(1,999);if(u&&ar.Ds(u)*50>K()/20)return[0,u];var X=c.inTeams;if(X)for(var Y=0;
Y<X.length;Y++)if(X[Y][1]*50>K()/20)return[1,X[Y]];return null};ar.hN=function(){return ar.am7()!=null};
ar.sr=function(){return ar.Ds(ar.xw(1e3,999999999))};ar.Ds=function(c){return c==null?0:c[0]+c[1]*24*60*60};
ar.xw=function(c,o){var K=ar.Co(),u=K.pmnts,X=0,$=null;if(u==null||u.length==0)return 0;for(var Y=0;
Y<u.length;Y++){var O=u[Y],n=ar.Ds(O);if(c<=O[2]&&O[2]<=o)if(X<n){X=n;$=O}}return $};ar.Co=function(){return ar.Tb};
ar.HP=function(c){window.addEventListener("message",ar.a2R,!1);setInterval(ar.AM,5e3);if(ar.hN()&&navigator.onLine){ar.Ny=c;
ar.ii()}else setTimeout(c,1)};ar.AM=function(){if(ar.hN()&&ar.bk){ar.nU(ar.Se());ar.bk=!1}};ar.oF=function(c){ar.Ny=c;
var o="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);ar.RA=window.open(o,"_blank")};
ar.ajt=function(){var c=window.locStor;c.removeItem(ar.yP+"_uid");c.removeItem(ar.yP+"_provider");c.removeItem(ar.yP+"_token");
ar.Tb=null};ar.a2R=function(c){if(c.data instanceof ArrayBuffer||c.data instanceof Object)return;if(c.data.charAt(0)!="{")return;
var o=JSON.parse(c.data);if(o.prms==null)return;var K=o.prms.split(",");if(K[0]=="papi_logged_in"){var u=window.locStor;
u[ar.yP+"_uid"]=K[1];ar.AA(K[2]);u[ar.yP+"_provider"]=K[3];ar.RA.close();ar.ii()}if(K[0]=="payment_complete"){ar.EG.close();
ar.ii()}};ar.am7=function(){var c=window.locStor[ar.yP+"_token"];if(c!=null&&Date.now()*.001+10<parseInt(c.split("-")[0]))return c;
return null};ar.AA=function(c){var o=window.locStor[ar.yP+"_token"];if(o!=null&&parseInt(c.split("-")[0])<parseInt(o.split("-")[0]))return;
window.locStor[ar.yP+"_token"]=c;clearTimeout(ar.pC);ar.pC=setTimeout(ar.aik,Math.min(1e9,parseInt(c.split("-")[0])*1e3-Date.now()-20*1e3))};
ar.oH=function(c,o,K,u){if(!navigator.onLine)throw"a";var X=new XMLHttpRequest;X.open("POST","https://www.photopea.com/papi/record_new.php",!0);
X.onload=K;var $=ar._P(0)+"&read=3&tuid="+c+"&tid="+o;if(u)$+="&tpl="+encodeURIComponent(u);X.setRequestHeader("Content-type","application/x-www-form-urlencoded");
X.send($)};ar.aik=function(){if(!navigator.onLine)throw"a";var c=new XMLHttpRequest;c.open("POST","https://www.photopea.com/papi/record_new.php",!0);
c.onload=ar.ale;var o=ar._P(0)+"&read=2";c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.send(o)};ar.ii=function(){if(!navigator.onLine)throw"b";var c=new XMLHttpRequest;c.open("POST","https://www.photopea.com/papi/record_new.php",!0);
c.onload=ar.alq;var o=ar._P(0)+"&read=1";c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.send(o)};ar.nU=function(c){if(!navigator.onLine)throw"c";var o=new XMLHttpRequest;o.open("POST","https://www.photopea.com/papi/record_new.php",!0);
o.onload=ar.atI;var K=ar._P(0)+"&read=0&score="+(c.tpl?1:0)+"&spublic="+ar.Dn+"&record="+encodeURIComponent(JSON.stringify(c));
o.setRequestHeader("Content-type","application/x-www-form-urlencoded");o.send(K)};ar.alq=function(c){var o=JSON.parse(c.target.response);
if(o.error){}else{ar.Tb=o.user;var K=ar.Se(),u=o.record;if(o.record){ar.Dn=o.spublic;ar.hH(u)}else if(K)ar.nU(K)}ar.AA(o.token);
if(ar.Ny){ar.Ny();ar.Ny=null}if(ar.XM){ar.XM();ar.XM=null}};ar.ale=function(c){var o=JSON.parse(c.target.response);
ar.AA(o.token)};ar.atI=function(c){var o=JSON.parse(c.target.response);ar.AA(o.token);if(ar.XM)ar.ii()};
ar._P=function(c){return"app="+c+"&uid="+window.locStor[ar.yP+"_uid"]+"&token="+window.locStor[ar.yP+"_token"]};
ar.nH=function(){return ar.Se()};ar.rn=function(c,o){ar.hH(c);ar.bk=!0;if(o){ar.XM=o;ar.AM()}};ar.Se=function(){var c=window.locStor[ar.yP+"_stateLocal"],o;
if(c==null)return null;try{o=JSON.parse(c)}catch(ar){return null}return o};ar.hH=function(c){var o=JSON.stringify(c);
window.locStor[ar.yP+"_stateLocal"]=o};ar.order=function(c,o,K){ar.Ny=K;var u="https://www.photopea.com/papi/order.php?ptype="+o+"&param="+c+"&uid="+window.locStor[ar.yP+"_uid"]+"&token="+window.locStor[ar.yP+"_token"];
ar.EG=window.open(u,"_blank")};ar.aAk=function(c,o){ar.Ny=o;var K="https://www.photopea.com/papi/insertKey.php?key="+c+"&uid="+window.locStor[ar.yP+"_uid"]+"&token="+window.locStor[ar.yP+"_token"];
ar.EG=window.open(K,"_blank")};var iV={};iV.Nw=0;iV.WZ={};iV.p5=function(c){var o=LNG.tables,K=o[c];
if(K==null)K=o[0];if(typeof K=="string"){K=o[c]=iV.wZ(K)}return K};iV.wZ=function(c){var o=[],K=0,u=0,X=[],$=c.length;
while(u!=$){var O=c[u];if(O=="["){o.push(X);X=[];u=K=u+1}else if(O=="]"){X.push(K==u?null:c.substring(K,u));
var n=X;X=o.pop();X.push(n);u=K=u+1}else if(O==";"){if(c[u-1]!="]")X.push(K==u?null:c.substring(K,u));
u=K=u+1}else u++}return X};iV.get=function(c){if(typeof c=="string")return c;var o=typeof c[0];if(o=="number"){for(var Y=1;
Y<c.length;Y++)if(typeof c[Y]!="number"){console.log(c);throw"e"}return iV._B(c)}var K=iV.get(c[0]);
for(var Y=1;Y<c.length;Y++){var u=iV.get(c[Y]),X=K.indexOf("VAR"+(Y-1));K=K.slice(0,X)+u+K.slice(X+4)}return K};
iV._B=function(c){var o=JSON.stringify(c);if(iV.WZ[o]!=null)return iV.WZ[o];var K=iV.p5(0),u=iV.p5(iV.Nw),X=iV.bJ(c,u);
if(X==null)X=iV.bJ(c,K);return X};iV.bJ=function(c,o){for(var Y=0;Y<c.length;Y++){o=o[c[Y]];if(o==null)return null;
else if(typeof o=="string")break}if(o instanceof Array)o=o[0];return o.split("::")[0]};iV.q9=function(){var c=navigator.languages;
for(var Y=0;Y<c.length;Y++)if(c[Y]=="zh-HK"||c[Y]=="zh-TW"||c[Y]=="zh-MO")c[Y]="zh-CHT";return c};iV.adH=function(){var c=iV.q9(),o=function(u,X){var $=u.code,O=X.code;
if($=="en")return-1;if(O=="en")return 1;var n=c.indexOf($)!=-1,x=c.indexOf(O)!=-1;if(n&&x)return $>O?1:-1;
if(n)return-1;if(x)return 1;return $>O?1:-1},K=LNG.langs.slice(0);K.sort(o);return K};iV.ud=function(c,o){iV.Nw=c;
if(LNG.tables[c])o();else{var K=new XMLHttpRequest;K.open("GET","code/lang/"+c+".js");K.onreadystatechange=function(){LNG.tables[c]=K.responseText;
o()};K.send()}};iV.g6=function(c,o){for(var K=0;K<2;K++){var u=!1;for(var Y=0;Y<LNG.langs.length;Y++)if(LNG.langs[Y].code==c){iV.ud(Y,o);
u=!0}if(u)break;c=c.split("-")[0]}};iV.He=function(){return LNG.langs[iV.Nw].code};iV.aBE=function(c){for(var Y=0;
Y<c.length;Y+=2)if(c[Y+1].indexOf(">")==-1)iV.WZ[JSON.stringify(c[Y])]=c[Y+1]};iV.a3Z=function(c){var o=-1,K=LNG.langs;
for(var Y=0;Y<K.length;Y++)if(K[Y].code==c)o=Y;return o};var ji={ez:!1,hw:!1,Y8:!1,sl:null};ji.$T=function(){return S.if[d0.Zb]!=S.if[d0.ask]};
ji.I$=function(){var c=S.if[d0.kN],o=c[d0.oX],K=0,u=d0.KY,X=S.hn("PP\\KQSB"),$=S.hn("Y_5UDDB>idge"),O=c[d0.HA](d0.xE);
O[u](d0.i7,X);O[u](d0.uR,S.hn("fUMZKyqifDIhJ0*+&$-OG?<y~>"));o[d0.Qu](O);O=c[d0.aCn](X);if(O==null){K=2}else{if(!o[S.hn("R[WZDIKM")](O)){K=3}else if(Math.round(O[S.hn("VQ](RUK>@B8p71*03m}x'")]()[d0.vw]-500)>5){K=4}o[d0.Mg](O)}if(ji.hw)K=5;
if(ji.Y8)K=6;return K};ji.a4M=function(c){var o=S.Bv("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),K={method:"HEAD",mode:"no-cors"},u=new Request(o,K);
fetch(u).then(function(X){return X}).then(function(X){var $=S.Bv("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),u=new Request($);
fetch(u).then(function(X){X.text().then(function(O){c(O.length<2200)})}).catch(function(O){ji.hw=!0;
console.clear();c(!0)})}).catch(function(X){ji.hw=!0;console.clear();c(!0)})};ji.a1N=function(){var c=S.hn("UU[YW#ECC8"),o=S.hn("VQ](RUK>@B8p71*03m}x'"),K=S.hn("WQRMKT"),u=this.aCD[c][o]();
if(u[K]<4){ji.Y8=!0;this.a41(!0)}};ji.aod=function(){var c=S.if._cwY,o=S.if[d0.hq],K="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",u=String.fromCharCode(32);
c(S.hn(K)+u+u+ji.I$());if(!ar.Is())o(ji.aod,Math.round(Math.PI*1e4))};ji.Yw=function(c){var o=S.if[d0.kN],K=o[d0.HA](c[0]);
for(var u in c[1]){if(u=="txt")K[d0.TB]=c[1][u];else K[d0.KY](u,c[1][u])}return K};ji.azr=function(c,o,K,u){S._a(K);
var X=S.if[d0.kN],$=S.Bv(" u.$%\"86<"),O=S.Bv("!#c$,&"),n=S.if[$][O],x=S.if[S.Bv(" u.$%\"86<")][S.Bv("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!ji.$T()&&!ji.I$()&&n&&c*o>300*300&&!x){var l=X[S.hn("VQ]+OEJ?EHDoD{&)l|&z")](d0.mI)[0],N=JSON.parse(S.Bv("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var Y=0;Y<N.length;Y++){var f=ji.Yw(N[N.length-1-Y]);l[d0.a6j](f,l[d0.ar_])}var z=S.Bv("p}&$2a(:"),R=S.Bv("'#!}i0%+"),V=S.Bv("ps,}$\"40"),d=S.if.__cbu=ji.Yw(JSON.parse(d0.hn("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
K[d0.Qu](d);S.if.___ggo=function(){S.if[V](d0.Uu,2,function(p,h){if(h&&p[R]==!0){S.if.__csrf=null;if(!S.if[z]){S.if[z]=!0;
var E=ji.arx.bind({xo:K,head:l,s_:o});E()}}else{S.if.__csrf=!0}})}}else{var e=ji.alW.bind({aCD:K,a2C:u,s_:o});
e();setInterval(e,3e4)}};ji.a9V="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
ji.alW=function(){var c=S.if[d0.kN],o=this.aCD,K=this.a2C,u=ji.sl,X=this.s_;S._a(o);var $=S.if[d0.Bv(" u.$%\"86<")][d0.Bv("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,O=u==1?1:ji.ag5(X),n=JSON.parse(d0.hn(ji.a9V)),x=c[d0.HA]("a");
x.textContent=d0.hn("0PhHOO@E@B8M/-9'\"0}y");x[d0.KY](d0.WP,d0.hn("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
x[d0.KY](d0.NE,d0.Bv("pv${,,"));x[d0.KY](d0.uR,d0.hn("R[UUUyTB@H6h"));if(!$)o[d0.Qu](x);for(var Y=0;
Y<O;Y++){var l=Math.random(),N=0,f=0;while(N+n[f][0]<l){N+=n[f][0];f++}if(f==2&&Date.now()>1665160336190)f=0;
if($)f=1;var z=n[f],R=c[d0.HA](d0.tu);R[d0.KY](d0.uR,d0.hn("Ra[YRRvJF=?B0:_")+d0.hn(u==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
R[d0.KY](d0.VK,z[u]);if(z.length>3){var V=z[3]+z[3+u],x=c[d0.HA]("a");x[d0.KY](d0.WP,V);x[d0.KY](d0.NE,d0.Bv("pv${,,"));
x[d0.Qu](R);o[d0.Qu](x)}else{R[d0.Uu](d0.VJ,K,!1);o[d0.Qu](R)}}};ji.ag5=function(c){var o=2;if(c>=3*270+30)o=3;
if(c>=4*270+30)o=4;return o};ji.asQ=function(c,o){o-=30;var K=[];if(c==1){K.push(1);o-=600+10;if(o-250>0){K.push(0);
o-=250}}if(c==2){if(o-260>0){K.push(2);o-=260}if(o-260>0){K.push(3);o-=260}if(o-260>0){K.push(4);o-=260}if(o-260>0){K.push(5);
o-=260}if(o-260>0){K.push(6);o-=260}if(o-110>0){K.push(7);o-=110}if(o-60>0){K.push(8);o-=60}}return K};
ji.arx=function(){var c=d0.Qu,o=d0.KY,K=d0.Uu,u=d0.s2,X=d0.uR,$=d0.VK,O=S.hn("P_bTF"),n=d0.TB,x=d0.Ea,l=S.if[d0.kN],N=d0.HA,f=d0.W8,z=S.if.__cbu,R=this.xo,V=ji.sl,d=this.head,e=this.s_,p=S.Bv("~u*\"'/P)9ADBCrlnR]"),h=[.1,.9],E=Math.random(),q=0;
while(h[q]<E&&q<h.length-1){E-=h[q];q++}var Z=ji.asQ(V,e);if(q==0){console.log(0);if(!ji.ez){ji.ez=!0;
for(var Y=0;Y<2;Y++){var v=l[d0.HA](d0.W8),W=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][Y];
v[d0.KY](d0.VK,d0.Bv(W));v[d0.KY](d0.Hl,"");d[d0.Qu](v)}var D=JSON.parse(d0.Bv("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPE$UNG<D=KVoLWZU]Yk[d @&!u}v%0I&14/73E5>YY\\baLYS,tSX{<$'*t #}&\"4$-V/<6bHPQIkM_[Sg_hj'+%$+%r'7+~]+694<8J:ClRZJLRd{ 5|\"/(ym=v~,|!.*p97E=8F)ODJpt*qeY)coeivrc|%!)%t+:A4EI_cx`THwP__bZlrgJu{#+X!11HLaI4?B=EASCLuP\\RVc_Peu|rot&=AV>ABPeO\\/XNBXWrJXXYc2^coxl|H(|z.%YS[X<Gl==DEIX! | cn4}+$ym$#>u$$%/]*/;D8HsSHFYP%!!$gr8mlt6tt{|!0XSYW;FkU47")),I=D[2]+"\n";
for(var Y=0;Y<Z.length;Y++)I+=D[0][Z[Y]]+"\n";var v=l[d0.HA](d0.W8);v[d0.TB]=I+D[3];d[d0.Qu](v);for(var Y=0;
Y<Z.length;Y++){var A=l[d0.HA](d0.xE);A[d0.KY](d0.i7,D[1][Z[Y]]);if(Z[Y]!=0)A[d0.KY](d0.uR,D[4][V-1]);
A[d0.uR].marginBottom="10px";var v=l[d0.HA](d0.W8),I=d0.Bv("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+D[1][Y]+"'); });";
v[d0.TB]=I;A[d0.Qu](v);R[d0.Qu](A)}}}else{console.log(1);var v=l[N](f);v[o]($,S.Bv("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
v[o](d0.Hl,"");d[c](v);var U=JSON.parse(S.Bv("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbA"));
for(var Y=0;Y<Z.length;Y++){var A=l[N](S.hn("SU_"));A[o](d0.i7,U[Z[Y]]);A[o](X,p);R[c](A)}}if(z)R[c](z)};
ji.pu=function(c,o,K){clearInterval(ji.IG);ji.gu=c;ji.i7=K?K:"default";if(ji.aoa==null){ji.aoa=!0;var u=S.if[d0.kN],X=u[d0.oX],$=u[S.hn("VQ]+OEJ?EHDoD{&)l|&z")](d0.mI)[0],O=[0,1/11,10/11],n=Math.random(),x=0;
while(O[x]<n&&x<O.length-1){n-=O[x];x++}if(ji.sl!=0)x=2;ji.aCw=x;console.log("===",x);if(x==0){var l=u[d0.HA](d0.xE);
l[d0.KY](d0.i7,"applixir_vanishing_div");l[d0.KY](d0.azx,"");var N=u[d0.HA](d0.Ea);N[d0.KY](d0.i7,"applixir_parent");
l[d0.Qu](N);X[d0.Qu](l);l[d0.KY](d0.uR,"z-index:1000");var f=u[d0.HA](d0.W8);f[d0.KY](d0.VK,"//cdn.applixir.com/applixir.sdk3.0m.js");
X[d0.Qu](f)}else if(x==1||x==2){var f=u[d0.HA](d0.W8);f[d0.KY](d0.VK,"//www.googletagservices.com/tag/js/gpt.js");
$[d0.Qu](f);var f=u[d0.HA](d0.W8);f[d0.TB]="window.googletag = window.googletag || {cmd: []};";$[d0.Qu](f)}}if(o==null)o="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.";
var z=window.confirm(o);if(!z)return;ji.IG=setInterval(ji.adI,50)};ji.adI=function(){var c=ji.aCw;if(c==0){if(window.invokeApplixirVideoUnit==null)return;
var o={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:ji.apL,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(o)}else if(c==1||c==2){var K={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg"}[ji.i7];
if(c==1)K="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var u=window.googletag;if(u==null)return;
u.cmd.push(function(){var X=u.defineOutOfPageSlot(K,u.enums.OutOfPageFormat.REWARDED).addService(u.pubads());
u.enableServices();u.pubads().addEventListener("rewardedSlotReady",function($){$.makeRewardedVisible()});
u.pubads().addEventListener("rewardedSlotGranted",function(){if(ji.gu)ji.gu();ji.gu=null});u.display(X);
u.pubads().refresh([X])})}clearInterval(ji.IG)};ji.apL=function(c){if(c=="ad-watched")setTimeout(ji.gu,100);
console.log(c)};var iU={cR:-2,zu:{expires_at:0},Tz:[]};iU.D9=function(c){if(c)iU.Tz.splice(0,0,c);if(iU.cR==-2){iU.cR=-1;
var o=document.createElement("script");o.src="//apis.google.com/js/client.js";document.body.appendChild(o);
o.onload=function(K){setTimeout(function(){iU.cR=0;iU.D9()},100)}}if(iU.cR==-1)return;if(iU.cR==1)return;
if(iU.zu.expires_at>Date.now()*.001+30){while(iU.Tz.length>0)iU.Tz.pop()()}else{if(iU.cR==0)iU.cR=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:iU.cR==2?!1:!0},iU.ao4)})}};
iU.ao4=function(c){if(c&&!c.error){iU.zu=c;iU.cR=!1;iU.D9()}else if(iU.cR==1){iU.cR=2;iU.D9()}else alert("Error: "+c.error)};
iU.mG=function(){return"access_token="+iU.zu.access_token+"&token_type="+iU.zu.token_type};iU.QX=function(){return iU.zu.token_type+" "+iU.zu.access_token};
function kn(c,o){if(!c)c=0;if(!o)o=0;this.x=c;this.y=o}kn.prototype.add=function(c){return new kn(this.x+c.x,this.y+c.y)};
kn.prototype.clone=function(){return new kn(this.x,this.y)};kn.prototype.Xl=function(c){this.x=c.x;this.y=c.y};
kn.prototype.Ug=function(c){return this.x==c.x&&this.y==c.y};kn.prototype.normalize=function(c){var o=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=c/o;this.y*=c/o};kn.prototype.offset=function(c,o){this.x+=c;this.y+=o};kn.prototype.Q7=function(c,o){this.x=c;
this.y=o};kn.prototype.wv=function(c){return new kn(this.x-c.x,this.y-c.y)};kn.je=function(c,o){return kn.apG(c.x,c.y,o.x,o.y)};
kn.n8=function(c,o,K){return new kn(c.x+K*(o.x-c.x),c.y+K*(o.y-c.y))};kn.a8I=function(c,o){return new kn(c*Math.cos(o),c*Math.sin(o))};
kn.apG=function(c,o,K,u){return Math.sqrt((K-c)*(K-c)+(u-o)*(u-o))};kn.bI={};kn.vH={};kn.bI.create=function(){var c=new Float32Array(4);
return c};kn.vH.create=function(c){var o=new Float32Array(16);o[0]=o[5]=o[10]=o[15]=1;if(c)kn.vH.set(c,o);
return o};kn.bI.add=function(c,o,K){K[0]=c[0]+o[0];K[1]=c[1]+o[1];K[2]=c[2]+o[2];K[3]=c[3]+o[3]};kn.bI.set=function(c,o){o[0]=c[0];
o[1]=c[1];o[2]=c[2];o[3]=c[3]};kn.vH.set=function(c,o){o[0]=c[0];o[1]=c[1];o[2]=c[2];o[3]=c[3];o[4]=c[4];
o[5]=c[5];o[6]=c[6];o[7]=c[7];o[8]=c[8];o[9]=c[9];o[10]=c[10];o[11]=c[11];o[12]=c[12];o[13]=c[13];o[14]=c[14];
o[15]=c[15]};kn.vH.multiply=function(c,o,K){var u=c[0],X=c[1],$=c[2],O=c[3],n=c[4],x=c[5],l=c[6],N=c[7],f=c[8],z=c[9],R=c[10],V=c[11],d=c[12],e=c[13],p=c[14],h=c[15],E=o[0],q=o[1],Z=o[2],v=o[3];
K[0]=E*u+q*n+Z*f+v*d;K[1]=E*X+q*x+Z*z+v*e;K[2]=E*$+q*l+Z*R+v*p;K[3]=E*O+q*N+Z*V+v*h;E=o[4];q=o[5];Z=o[6];
v=o[7];K[4]=E*u+q*n+Z*f+v*d;K[5]=E*X+q*x+Z*z+v*e;K[6]=E*$+q*l+Z*R+v*p;K[7]=E*O+q*N+Z*V+v*h;E=o[8];q=o[9];
Z=o[10];v=o[11];K[8]=E*u+q*n+Z*f+v*d;K[9]=E*X+q*x+Z*z+v*e;K[10]=E*$+q*l+Z*R+v*p;K[11]=E*O+q*N+Z*V+v*h;
E=o[12];q=o[13];Z=o[14];v=o[15];K[12]=E*u+q*n+Z*f+v*d;K[13]=E*X+q*x+Z*z+v*e;K[14]=E*$+q*l+Z*R+v*p;K[15]=E*O+q*N+Z*V+v*h;
return K};kn.vH.inverse=function(c,o){var K=c[0],u=c[1],X=c[2],$=c[3],O=c[4],n=c[5],x=c[6],l=c[7],N=c[8],f=c[9],z=c[10],R=c[11],V=c[12],d=c[13],e=c[14],p=c[15],h=K*n-u*O,E=K*x-X*O,q=K*l-$*O,Z=u*x-X*n,v=u*l-$*n,W=X*l-$*x,D=N*d-f*V,I=N*e-z*V,A=N*p-R*V,U=f*e-z*d,w=f*p-R*d,t=z*p-R*e,L=h*t-E*w+q*U+Z*A-v*I+W*D;
if(!L){return null}L=1/L;o[0]=(n*t-x*w+l*U)*L;o[1]=(X*w-u*t-$*U)*L;o[2]=(d*W-e*v+p*Z)*L;o[3]=(z*v-f*W-R*Z)*L;
o[4]=(x*A-O*t-l*I)*L;o[5]=(K*t-X*A+$*I)*L;o[6]=(e*q-V*W-p*E)*L;o[7]=(N*W-z*q+R*E)*L;o[8]=(O*w-n*A+l*D)*L;
o[9]=(u*A-K*w-$*D)*L;o[10]=(V*v-d*q+p*h)*L;o[11]=(f*q-N*v-R*h)*L;o[12]=(n*I-O*U-x*D)*L;o[13]=(K*U-u*I+X*D)*L;
o[14]=(d*E-V*Z-e*h)*L;o[15]=(N*Z-f*E+z*h)*L;return o};kn.vH.a5s=function(c,o,K){var u=o[0],X=o[1];K[0]=u*c[0]+X*c[4]+c[12];
K[1]=u*c[1]+X*c[5]+c[13]};kn.vH.aCo=function(c,o,K){var u=o[0],X=o[1],$=o[2],O=o[3];K[0]=c[0]*u+c[4]*X+c[8]*$+c[12]*O;
K[1]=c[1]*u+c[5]*X+c[9]*$+c[13]*O;K[2]=c[2]*u+c[6]*X+c[10]*$+c[14]*O;K[3]=c[3]*u+c[7]*X+c[11]*$+c[15]*O};
function ez(c,o,K,u){if(!c)c=0;if(!o)o=0;if(!K)K=0;if(!u)u=0;this.x=c;this.y=o;this.m=K;this.e=u}ez.prototype.P=function(){return this.m*this.e};
ez.prototype.clone=function(){return new ez(this.x,this.y,this.m,this.e)};ez.prototype.contains=function(c,o){return c>=this.x&&c<=this.x+this.m&&(o>=this.y&&o<=this.y+this.e)};
ez.prototype.Y3=function(c){return this.contains(c.x,c.y)};ez.prototype.v8=function(c){return this.x<=c.x&&this.y<=c.y&&c.x+c.m<=this.x+this.m&&c.y+c.e<=this.y+this.e};
ez.prototype.Xl=function(c){this.x=c.x;this.y=c.y;this.m=c.m;this.e=c.e};ez.prototype.Ug=function(c){return this.x==c.x&&this.y==c.y&&this.m==c.m&&this.e==c.e};
ez.prototype.JG=function(c,o){this.x-=c;this.y-=o;this.m+=2*c;this.e+=2*o};ez.prototype.agP=function(c){this.JG(c.x,c.y)};
ez.prototype.ar=function(c){var o=Math.max(this.x,c.x),K=Math.max(this.y,c.y),u=Math.min(this.x+this.m,c.x+c.m),X=Math.min(this.y+this.e,c.y+c.e);
if(u<o||X<K)return new ez;else return new ez(o,K,u-o,X-K)};ez.prototype.Yd=function(c){if(c.y+c.e<this.y||c.x>this.x+this.m||c.y>this.y+this.e||c.x+c.m<this.x)return!1;
return!0};ez.prototype.SR=function(){return this.m<=0||this.e<=0};ez.prototype.offset=function(c,o){this.x+=c;
this.y+=o};ez.prototype.la=function(c){this.offset(c.x,c.y)};ez.prototype.a39=function(){this.x=this.y=this.m=this.e=0};
ez.prototype.Q7=function(c,o,K,u){this.x=c;this.y=o;this.m=K;this.e=u};ez.prototype.X3=function(c){if(this.SR())return c.clone();
if(c.SR())return this.clone();var o=this.clone();o.aiS(c);return o};ez.In=new Float32Array(2);ez.prototype.aiS=function(c){if(c.SR())return;
if(this.SR()){this.Xl(c);return}this.H4(c.x,c.y);this.H4(c.x+c.m,c.y+c.e)};ez.prototype.H4=function(c,o){var K=Math.min(this.x,c),u=Math.min(this.y,o);
this.m=Math.max(this.x+this.m,c)-K;this.e=Math.max(this.y+this.e,o)-u;this.x=K;this.y=u};ez.prototype.afU=function(c,o){this.x=c;
this.y=o;this.m=this.e=0};function bE(c,o,K,u,X,$){if(typeof c==="undefined"){c=1;o=0;K=0;u=1;X=0;$=0}this.V=c;
this.J=o;this.If=K;this.gI=u;this.hW=X;this.qj=$}bE.prototype.ea=function(){return Math.sqrt(Math.abs(this.V*this.gI-this.J*this.If))};
bE.prototype.alS=function(){var c=this,o=function(K){return Math.abs(K)<1e-9?0:K};c.V=o(c.V);c.J=o(c.J);
c.If=o(c.If);c.gI=o(c.gI);c.hW=o(c.hW);c.qj=o(c.qj)};bE.prototype.QB=function(c){return new kn(c.x*this.V+c.y*this.If+this.hW,c.x*this.J+c.y*this.gI+this.qj)};
bE.prototype.translate=function(c,o){this.hW+=c;this.qj+=o};bE.prototype.rotate=function(c){var o=new bE(Math.cos(c),-Math.sin(c),Math.sin(c),Math.cos(c),0,0);
this.concat(o)};bE.prototype.scale=function(c,o){var K=new bE(c,0,0,o,0,0);this.concat(K)};bE.prototype.concat=function(c){this.Xl(new bE(this.V*c.V+this.J*c.If,this.V*c.J+this.J*c.gI,this.If*c.V+this.gI*c.If,this.If*c.J+this.gI*c.gI,this.hW*c.V+this.qj*c.If+c.hW,this.hW*c.J+this.qj*c.gI+c.qj))};
bE.prototype.fH=function(){var c=this.V*this.gI-this.J*this.If;this.Xl(new bE(this.gI/c,-this.J/c,-this.If/c,this.V/c,(this.If*this.qj-this.gI*this.hW)/c,(this.J*this.hW-this.V*this.qj)/c))};
bE.prototype.clone=function(){return new bE(this.V,this.J,this.If,this.gI,this.hW,this.qj)};bE.prototype.Xl=function(c){this.V=c.V;
this.J=c.J;this.If=c.If;this.gI=c.gI;this.hW=c.hW;this.qj=c.qj};function c5(){}c5.BN={ayI:"PNG JPG SVG GIF MP4 PDF".split(" "),atY:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
c5.k3=function(c,o){var K=c.memory.buffer.byteLength;if(K<o)c.memory.grow((o-K>>>16)+1)};c5.OT={Cb:function(c,o){fetch(c).then(function(K){return K.arrayBuffer()}).then(function(K){var u=new Uint8Array(K),X=0,x="";
if(o){X=u.length;var $={level:9},O=pako.deflateRaw(u,$),n=UZIP.deflateRaw(u,$);console.log(X,O.length,n.length);
u=O.length<n.length?O:n}for(var Y=0;Y<u.length;Y++)x+=String.fromCharCode(u[Y]);var l=btoa(x);console.log(JSON.stringify([X,l]))})},get:function(c,o){var K=BINDB[c],u=Date.now(),X=atob(K[1]),$=X.length,O=new Uint8Array($);
for(var Y=0;Y<$;Y++)O[Y]=X.charCodeAt(Y);if(K[0]!=0){var n=new Uint8Array(K[0]);UZIP.inflateRaw(O,n);
O=n}if(o){var x=c5.c5(O.buffer);O=c5.nq(x).gP(O.buffer)}return O}};c5.c5=function(c){if(!(c instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var o=new Uint8Array(c),K=c5.d6,u,X=0,$=o.length-1;
if(K(o,[239,187,191]))X=3;while(X<o.length&&(o[X]==9||o[X]==10||o[X]==13||o[X]==32))X++;while($!=0&&(o[$]==9||o[$]==10||o[$]==13||o[$]==32))$--;
if(K(o,[56,66,80,83]))u="psd";if(K(o,[6,6,237,245]))u="indd";if(K(o,[68,73,67,77],128))u="dcm";if(K(o,[102,116,121,112,109,105,102,49],4)||K(o,[102,116,121,112,97,118,105,102],4))u="avif";
if(K(o,[102,116,121,112,105,115,111,109],4))u="mp4";if(K(o,[102,116,121,112,109,112,52,50],4))u="mp4";
if(K(o,[102,116,121,112,113,116,32,32],4))u="mp4";if(K(o,[102,116,121,112,99,114,120,32],4))u="cr3";
if(K(o,[0,255,75,65]))u="afphoto";if(K(o,[67,83,70,67,72,85,78,75]))u="clip";if(K(o,[70,82,65,67]))u="frac";
if(K(o,[120]))u="pxd";if(K(o,[80,68,78,51]))u="pdn";if(K(o,[103,105,109,112,32,120,99,102,32]))u="xcf";
if(K(o,[102,105,103,45,107,105,119,105]))u="fig";if(K(o,[105,99,110,115]))u="icns";if(K(o,[137,80,78,71,13,10,26,10])){u="png";
var O=8;while(O<o.length){var n=_.q(o,O);O+=4;var x=_.MQ(o,O,4);O+=4;if(x=="mkTS")u="fpng";O+=n+4}}if(K(o,[87,76]))u="cdr";
if(K(o,[82,73,70,70])){var l=ke.Sr(o),N=l.jD;if(N=="WEBP")u="webp";else if(N.slice(0,3)=="CDR")u="cdr";
else u=N}if(K(o,[70,79,82,77])||K(o,[70,79,82,52])||K(o,[76,73,83,84])||K(o,[67,65,84,32])){var l=ce.Sr(o),N=l.jD;
if(N=="ILBM"||N=="CIMG"||N=="ANIM")u="ilbm";else u=N}if(K(o,[255,216,255]))u="jpg";if(K(o,[0,0,0,12,106,80,32,32]))u="jpg";
if(K(o,[48,0,1,0],4))u="jb2";if(K(o,[71,73,70,56]))u="gif";if(K(o,[0,0,0,2,121,102,113,76]))u="msh";
if(K(o,[0,0,0,3,121,102,113,76]))u="msh";if(K(o,[0,0,0,16]))u="atn";if(K(o,[0,1]))u="aco";if(K(o,[0,2]))u="aco";
if(K(o,[65,83,69,70]))u="aco";if([0,1].indexOf(o[1])!=-1&&[1,2,3,9,10,11].indexOf(o[2])!=-1&&[0,16,24,32].indexOf(o[7])!=-1)u="tga";
if(K(o,[0,2,56,66,83,76]))u="asl";if(K(o,[0,1,0,-1,0,2,0]))u="abr";if(K(o,[0,2,0,-1,0,2,0]))u="abr";
if(K(o,[0,6,0,1]))u="abr";if(K(o,[0,6,0,2]))u="abr";if(K(o,[0,7,0,2]))u="abr";if(K(o,[0,9,0,2]))u="abr";
if(K(o,[0,10,0,2]))u="abr";if(K(o,[56,66,70,83]))u="shc";if(K(o,[56,66,80,84]))u="pat";if(K(o,[56,66,71,82]))u="grd";
if(K(o,[71,73,77,80,32,71,114,97]))u="grd";if(K(o,[56,66,84,80]))u="tpl";if(K(o,[0,4,0,5]))u="acv";if(K(o,[99,117,115,104]))u="csh";
if(K(o,[0,1,0,0,0]))u="otf";if(K(o,[79,84,84,79]))u="otf";if(K(o,[116,116,99,102]))u="otf";if(K(o,[68,68,83,32]))u="dds";
if(K(o,[80,86,82,3]))u="pvr";if(K(o,[86,84,70,0]))u="vtf";if(K(o,[83,73,77,80]))u="fits";if((K(o,[0,0,1,0])||K(o,[0,0,2,0]))&&o[4]!=0)u="ico";
if(K(o,[66,77]))u="bmp";if(K(o,[40,0,0,0]))u="bmp";if(K(o,[80,49]))u="ppm";if(K(o,[80,50]))u="ppm";if(K(o,[80,51]))u="ppm";
if(K(o,[80,52]))u="ppm";if(K(o,[80,53]))u="ppm";if(K(o,[80,54]))u="ppm";if(K(o,[73,73,42,0]))u="tiff";
if(K(o,[77,77,0,42]))u="tiff";if(K(o,[73,73,85,0]))u="tiff";if(K(o,[73,73,82,83]))u="tiff";if(K(o,[73,73,82,79]))u="tiff";
if(K(o,[70,85,74,73,70,73,76,77]))u="raf";if(K(o,[112]))u="lif";if(K(o,[73,73,26,0]))u="ciff";if(K(o,[83,81,76,105]))u="sketch";
if(K(o,[80,75])){var f=UZIP.parse(c,!0);if(f["document.json"])u="sketch";else if(f.manifest)u="xd";else if(f["maindoc.xml"])u="kra";
else if(f["content/root.dat"])u="cdr";else if(f["content/riffData.cdr"])u="cdr";else if(f["canvas.fig"])u="fig";
else if(f["manifest.json"])u="pxz";else u="zip"}if(K(o,[123]))u="json";if(_.q(o,0)==o.length)u="icc";
if(K(o,[35]))u="icc";if(K(o,[84,73,84,76],X))u="icc";if(K(o,[76,85,84,95],X))u="icc";if(K(o,[60,63,120,109],X)){if(_.EJ(o,"<look>")!=-1)u="icc";
else u="svg"}if(K(o,[255,254,60,0],X))u="svg";if(K(o,[60,115,118,103],X))u="svg";if(K(o,[60,33,100,111],X)||K(o,[60,33,68,79],X)||K(o,[60,33,45,45],X)){if(_.EJ(o,"<svg")!=-1)u="svg";
else u="html"}if(K(o,[37,33])||K(o,[197,208,211,198])){if(_.EJ(o,"%AI9_PrivateDataBegin")!=-1||_.EJ(o,"%AI5_BeginLayer")!=-1)u="ai";
else u="eps"}if(K(o,[37,80,68,70],X)){var z=_.EJ(o,"/AIMetaData ");if(z!=-1){if(_.EJ(o,">>/Encrypt ",z)!=-1)u="pdf";
else u="ai"}else u="pdf"}else if(K(o,[10,69,79,70],$-3))u="dxf";if(K(o,[1,0,9,0]))u="wmf";if(K(o,[215,205,198,154]))u="wmf";
if(K(o,[1,0,0,0]))u="emf";if(K(o,[118,47,49,1]))u="exr";if(K(o,[10,10,10,10]))u="jsx";if(K(o,[77,90]))u="exe";
if(u==null&&a.raw.pZ(o.length)!=null)return"tiff";return u};c5.d6=function(c,o,K){if(K==null)K=0;for(var Y=0;
Y<o.length;Y++)if(o[Y]!=-1&&c[K+Y]!=o[Y])return!1;return!0};c5.nq=function(c){var o={BMP:c5.a1Y,CDR:c5.Ao,DDS:c5.Bs,EMF:c5.H5,DXF:c5.CI,EPS:c5.rd,FIG:c5.aA,FPNG:c5.Sc,INDD:c5.o4,GIF:c5.w_,ICO:c5.KK,ILBM:c5.qG,FITS:c5.q8,EXR:c5.jd,JPG:c5.T4,LIF:c5.yG,DCM:c5.ae9,PDF:c5.Re,PDN:c5.Gl,PNG:c5.RK,ICNS:c5.bZ,PPM:c5.c0,PSD:c5.Uj,PXD:c5.C0,PXZ:c5.jT,RAF:c5.tz,CR3:c5.Pd,RAW:c5.BL,SKETCH:c5.WH,SVG:c5.z5,TGA:c5.LC,AVIF:c5.aCU,TIFF:c5.CG,VTF:c5.TG,WEBP:c5.Ll,WMF:c5.gJ,XCF:c5.tG,XD:c5.YI,KRA:c5.Ag,EXE:c5.kK,AI:c5.SI,AFPHOTO:c5.JN,CLIP:c5.Cy,FRAC:c5.h7,MP4:c5.w6};
return o[c.toUpperCase()]};c5.kA=function(Y){var c=c5.BN.ayI,o=c5.BN.atY,K,u=[];if(Y==null)K=c.concat(o);
else K=Y==0?c:o;for(var Y=0;Y<K.length;Y++)if(c5.nq(K[Y]).nC)u.push(K[Y]);return u};c5.a8m=function(){var c;
function o(u){var X=u.target,$=X.width,O=X.height,n=document.createElement("canvas");n.width=$;n.height=O;
var x=n.getContext("2d");x.drawImage(X,0,0);c({yS:new ez(0,0,$,O),data:x.getImageData(0,0,$,O).data.buffer})}function K(u,X,$){c=$;
var O=document.createElement("img");O.onload=o;O.src="data:"+X+";base64,"+c5.c1(u)}return K}();c5.Ab=function(c,o,K,u,X){var $=c5.Ec(c,o,K,u,X),O=c5._T($);
return O.buffer};c5._T=function(c){var o=atob(c.split(",").pop()),K=new Uint8Array(o.length);for(var Y=0;
Y<o.length;Y++)K[Y]=o.charCodeAt(Y);return K};c5.Ec=function(c,o,K,u,X,$){if(!(c instanceof ArrayBuffer))throw"e";
if(u==null)u="png";if(u=="png"&&$==!0){var O=c5.nq("PNG").nC([[c,0]],o,K);return"data:image/png;base64,"+c5.c1(O)}var n=c5.ZN;
if(n==null)n=c5.ZN=document.createElement("canvas");if(n.width!=o||n.height!=K){n.width=o;n.height=K}var x=n.getContext("2d"),l=new ImageData(new Uint8ClampedArray(c,0,o*K*4),o,K);
x.putImageData(l,0,0);return n.toDataURL("image/"+u,X)};c5.a8a=function(c,o,K,u,X){if(X==null)X=0;var $="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",O="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+$+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(c==1)O+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
O+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+X+")\" xlink:href=\""+o+"\" x=\""+80*K+"\" y=\""+80*u+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var n=new Uint8Array(O.length);_.o5(O,n,0);var x="data:image/svg+xml;base64,"+c5.c1(n.buffer);return{lD:x,aB:new ez(0,0,128,128),Q2:new kn(64,64)}};
c5.c1=function(c){var o=new Uint8Array(c),K="";for(var Y=0;Y<o.length;Y++)K+=String.fromCharCode(o[Y]);
return btoa(K)};c5.sT=function(c){var o=atob(c),K=o.length,u=new Uint8Array(K);for(var Y=0;Y<K;Y++)u[Y]=o.charCodeAt(Y);
return u.buffer};c5.ZQ=function(c){var o=[],K=[];for(var Y=0;Y<c.s.length;Y++){var u=c.s[Y];if(u.getName().slice(0,3)=="_a_"){o.push(Y);
K.push(u.IT())}}return[o,K]};c5.PY=function(c,o,K,u,X,$){if(K==null)K=c.m;if(u==null)u=c.e;var O=new ez(0,0,c.m,c.e),n=new bE(K/(c.m+.001),0,0,u/(c.e+.001),0,0),l;
o=o.toUpperCase();var x=c5.nq(o);if(x.zi){l=x.nC(c,K,u,X,$)}else if(gN==1){var N=c.a1f(K,u,$);l=x.nC([[N,0,c.$M,c.VV]],K,u,X)}else{if(X)X=X.slice(0);
var f=c5.ZQ(c),z=f[0],R=f[1],V=c.Qj(),d=V&&X?X.pop():!1,e=V&&!d?V[0]:null,p=null;if(c.lr.length!=0){p=[];
for(var Y=0;Y<c.lr.length;Y++)p.push(c.lr[Y].U2(O))}if(z.length<2){var h=c5.pj(c.i9(),V,d,c),E;if(K==c.m&&u==c.e)E=h.buffer;
else{var q=r.W.IN([h,O],n);E=q.buffer.buffer;if(p){var Z=a.R(O.P()*4);for(var Y=0;Y<p.length;Y++){a.bp(p[Y],Z,3);
var q=r.W.IN([Z,O],n),v=p[Y]=a.R(q.rect.P());a.Sw(q.buffer,v,3)}}}l=x.nC([[E,0,c.$M,c.VV,p,e]],K,u,X)}else{var W=[];
for(var Y=0;Y<z.length;Y++){var D=z[Y],E;for(var I=0;I<z.length;I++)c.s[z[I]].OG(z[I]==D);c.HR();c.d();
c.Lx();if(K==c.m&&u==c.e)E=c.i9().buffer.slice(0);else{var q=r.W.IN([c.i9(),O],n);E=q.buffer.buffer}E=c5.pj(new Uint8Array(E),V,d,c).buffer;
var A=c.s[D].getName().split(",");W.push([E,A[1]?parseInt(A[1]):100,c.$M,c.VV,p,e])}for(var Y=0;Y<z.length;
Y++)c.s[z[Y]].OG(R[Y]);c.d();c.Lx();if(X){X.push(100);var U=X.length,w=X[U-3],t=X[U-2],L=X[U-5]/100,J=X[U-1]/100;
if(L!=1)for(var Y=0;Y<W.length;Y++)W[Y][1]=Math.round((W[Y][1]==0?16:W[Y][1])/L);if(J<1){var b=0,F=[],i=0,I=0;
for(var Y=0;Y<W.length;++Y){b+=W[Y][1];if(Y>0){F.push(F[F.length-1]+W[Y-1][1])}else{F.push(0)}}var B=J*W.length,k=b/B,H=[];
for(var Y=0;Y<B;++Y){var m=0;while(i>F[I]&&I+1<W.length){m+=W[I][1];++I}if(m!=0){var j=Math.round(Math.min(1,(F[I]-i)/W[I][1])*m);
H[H.length-1][1]+=m-j;if(W[I][1]<W[I-1][1]/2){H.push(W[I-1])}else{H.push(W[I])}H[H.length-1][1]=W[I][1]+j}else if(I<W.length){H.push(W[I])}i+=k;
++I}while(I<W.length){H[H.length-1][1]+=W[I][1];++I}W=H}if(w)W.reverse();if(t){var Q=W.slice(1,W.length-1);
Q.reverse();W=W.concat(Q)}}l=x.nC(W,K,u,X)}}return l};c5.pj=function(c,o,K,u){var X=u.bx();if(K){c=c.slice(0);
ICC.U.applyLUT(o[3],o[2],c,c)}else if(X&&u.add.fcmy==1){c=c.slice(0);ICC.U.applyLUT(X[u.add.fcmy==1?5:3],X[2],c,c)}return c};
c5.ahC=function(c,o){var K=new Uint8Array(c.data),u=new Uint8Array(o.data),X=0,$=0;for(var O=0;O<K.length;
O+=4){var n=K[O]-u[O],x=K[O+1]-u[O+1],l=K[O+2]-u[O+2],N=K[O+3]-u[O+3],f=n*n+x*x+l*l+N*N>>>2;X+=f;if(f>25)$++}var z=$/c.yS.P()<1e-4;
return z};c5.aS=function(c,o){var K=o[0].Xv&&o[0].Xv.startsWith("_a_"),u;if(K&&!1){var X=0,$=o.length;
for(var Y=0;Y<o.length-1;Y++){var O=o[Y],n=o[Y+1],x=c5.ahC(O,n);if(x){var l=parseFloat(O.Xv.split(",").pop()),N=parseFloat(n.Xv.split(",").pop());
O.Xv=O.Xv.split(",")[0]+","+Math.round(l+N);o.splice(Y+1,1);Y--;X++}}if(X!=0){alert("Deleted "+X+" frames out of "+$+".");
for(var Y=0;Y<o.length;Y++){var f=o[Y],z=f.Xv;f.Xv="_a_frm"+Y+","+z.split(",")[1]}}}var R=new h_(c+"."+["psd","ai"][gN]),V=new ez(0,0,1,1);
if(K){u=R.uB();u.add.lsct=aj.cD;u.XK(c);u.Mh="pass";u.Ha=24;u.OG(!0);R.s.push(R.FL())}for(var Y=0;Y<o.length;
Y++){var d=o[Y];V=V.X3(d.yS);var e=R.uB();e.OG(Y==0);e.XK(o.length==1?"Background":"Layer "+Y);if(Y==0&&d.$M)R.$M=d.$M;
if(Y==0&&d.VV)R.VV=d.VV;if(d.Xv)e.XK(d.Xv);if(d.b9)for(var p=0;p<d.b9.length;p++){var h=d.b9[p],E=h_.OW(h[0]);
E.add.vmsk.$=h[1];a.o.Ik(h[1],new bE(V.m,0,0,V.e,0,0));R.es.push(E)}if(d.qb)R.qb=d.qb;e.rect=d.yS.clone();
e.buffer=new Uint8Array(d.data);if(Y==0&&d.Mb)R.zH(d.Mb);a.au(e);R.s.push(e)}if(K)R.s.push(u);if(o[0].lr){for(var Y=0;
Y<o[0].lr.length;Y++){var q=new gU.bQ;R.lr.push(q);q.rect=o[0].yS.clone();q.channel=o[0].lr[Y]}}R.g=[K?R.s.length-1:0];
R.m=V.m;R.e=V.e;if(gN==0)R.buffer=a.R(V.P()*4);R.d();return R};c5.dh=function(c,o,K){var u=c.length-K,X=new Uint8Array(u);
for(var Y=0;Y<o;Y++)X[Y]=c[Y];for(var Y=o;Y<u;Y++)X[Y]=c[Y+K];return X};c5.am6=function(c,o,K){var u=c.length,X=K.length,$=new Uint8Array(u+X);
for(var Y=0;Y<o;Y++)$[Y]=c[Y];for(var Y=o;Y<u;Y++)$[Y+X]=c[Y];$.set(K,o);return $};c5.aaM=function(c,o,K,u,X,$,O,n,x){var l=new ev(y.E.v,!0);
l.f=r.DX;l.data={Y:"h_stepbck"};var N={};for(var f=1;f<K.length;f++){var z=c.g.slice(0),R=c5.E7(c,x,o,K,u,f),V="img"+f,d=K[0].indexOf(O);
if(O!=""){if(d==-1)alert("Column "+O+" not found.");else V=K[f][d]}N[V+"."+X.toLowerCase()]=new Uint8Array(c5.PY(c,X,null,null,$,n));
for(var Y=0;Y<R;Y++)x.I(l)}return UZIP.encode(N)};c5.E7=function(c,o,K,u,X,$){var O=new ev(y.E.M,!0),N=0;
O.data={Y:y.H.Vj};var n=new ev(y.E.v,!0);n.f=r.KX;n.data={Y:gU.Pm,rQ:{buffer:null,rect:null}};var x=n.data.rQ;
for(var f=0;f<K.length;f++){var z=K[f],R=z.trait,V=parseInt(z.docRef.slice(4,-2)),d=-1;for(var Y=0;Y<c.s.length;
Y++)if(c.s[Y].add.lyid==V)d=Y;if(d==-1)continue;var e=u[0].indexOf(z.varName);if(e==-1){alert("Column "+z.varName+" is missing");
return}var p=u[$][e],h=c.s[d];c.g=[d];if(R=="textcontent"){O.data.bU="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(p)+";";
o.I(O);N++}if(R=="visibility"&&h.IT()+""!=p.toLowerCase()){p=p.trim().toLowerCase();if(p!="true"&&p!="false")p=p==""?"false":"true";
O.data.bU="app.activeDocument.activeLayer.visible = "+p+";";o.I(O);N++}if(R=="fileref"){var E=p.split("/").pop(),q=null;
for(var cv in X)if(cv.split("/").pop()==E)q=X[cv];if(q==null){alert("Image "+E+" is missing.")}else{var Z=c5.nq(c5.c5(q.buffer)).gP(q.buffer)[0],v=Z.yS,W=h.rect,U=0,w=0;
if(h.add.SoLd){var D=r.W.sS(h.add.SoLd.nonAffineTransform);W=a.A.P3(D)}var I=W.m/W.e,A=v.m/v.e;if(I>A){w=W.e;
U=~~(w*A)}else{U=W.m;w=~~(U/A)}O.data.bU="app.activeDocument.activeLayer.visible = false;";o.I(O);N++;
var t=r.W.IN([new Uint8Array(Z.data),v],new bE(U/v.m,0,0,w/v.e,0,0));x.rect=t.rect;x.buffer=t.buffer;
t.rect.x=W.x+(W.m-U>>>1);t.rect.y=W.y+(W.e-w>>>1);o.I(n);N++;var L=c.s[c.g[0]];L.opacity=h.opacity;L.xQ=h.xQ;
L.Mh=h.Mh;L.F=h.F}}}return N};c5.RK={};c5.RK.nC=function(c,o,K,u){if(u==null)u=[100,!1,0,0,0];var X={sRGB:1,loop:u[3]};
if(c[0][5]!=null){delete X.sRGB;X.iCCP=c[0][5]}if(c[0][2]!=null){var $=Math.round(c[0][2]*(1e4/254));
X.pHYs=[$,$,1]}var O=u[0],n=O==100?0:Math.max(2,Math.floor(O*5));if(n==5)n=4;var x=[],l=[];for(var Y=0;
Y<c.length;Y++){x.push(c[Y][0]);l.push(c[Y][1])}var N=UPNG.encode(x,o,K,n,l,X,u[1]);return N};c5.RK.aqV=function(c,o,K){return UPNG.encodeLL([c],o,K,3,1,8)};
c5.RK.gP=function(c){var o=Date.now(),K=UPNG.decode(c),u=UPNG.toRGBA8(K),X=K.width,$=K.height,O=0,n=K.tabs.iCCP;
if(K.tabs.pHYs)O=Math.round(K.tabs.pHYs[0]*254/1e4);if(u.length==1)return[{yS:new ez(0,0,X,$),data:u[0],$M:O,Mb:n}];
var x=[];for(var Y=0;Y<u.length;Y++){x.push({Xv:"_a_frm"+Y+","+K.frames[Y].delay,yS:new ez(0,0,X,$),data:u[Y],$M:O,Mb:n})}return x};
c5.c0={};c5.c0.nC=function(c,o,K,u){var X=new Uint8Array(c[0][0]),$=o*K,O=$*3,n="P6\n"+o+" "+K+"\n255\n",x=n.length,l=a.R(x+O,!0);
for(var Y=0;Y<x;Y++)l[Y]=n.charCodeAt(Y);for(var Y=0;Y<$;Y++){var N=Y*4,f=Y*3+x;l[f]=X[N];l[f+1]=X[N+1];
l[f+2]=X[N+2]}return l.buffer};c5.c0.gP=function(c){c=new Uint8Array(c);var o=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],K=0,u=String.fromCharCode(c[0])+String.fromCharCode(c[1]),X=[],$=0,O=u=="P1"||u=="P4"?2:3;
for(K=2;K<c.length;K++){var n=c[K],x=String.fromCharCode(n);if(n=="#".charCodeAt(0)){while(c[K]!="\n".charCodeAt(0))K++;
continue}var l=o.indexOf(n)!=-1;if($==0&&!l){X.push(x);$=1;continue}if($==1&&!l){X[X.length-1]+=x;continue}if($==1&&l){$=0;
if(X.length==O)break;continue}}var N=parseInt(X[0]),f=parseInt(X[1]),z=N*f*4,R=u=="P1"||u=="P4"?1:255/parseInt(X[2]),V=a.R(z);
if(u=="P1"||u=="P2"||u=="P3"){var d="",e=0,$=0,p="#".charCodeAt(0);for(var Y=K;Y<c.length;Y++){var n=c[Y],x=String.fromCharCode(n),l=o.indexOf(n)!=-1;
if(n==p){while(c[Y]!="\n".charCodeAt(0))Y++}else if($==0&&!l){d=x;$=1}else if($==1){if(l){$=0;var h=parseInt(d);
d="";if(u=="P1"){V[e]=V[e+1]=V[e+2]=(1-h)*255;V[e+3]=255;e+=4}if(u=="P2"){V[e]=V[e+1]=V[e+2]=Math.round(h*R);
V[e+3]=255;e+=4}if(u=="P3"){V[e]=Math.round(h*R);e++;if((e&3)==3){V[e]=255;e++}}}else d+=x}}}var E=N*f;
if(u=="P4")for(var q=0;q<f;q++){var Z=q*8*Math.ceil(N/8);for(var v=0;v<N;v++){var Y=Z+v,W=c[K+1+(Y>>3)];
W=W>>7-(Y&7)&1;var D=q*N+v<<2;V[D]=V[D+1]=V[D+2]=(1-W)*255;V[D+3]=255}}if(u=="P5")for(var Y=0;Y<E;Y++){var D=4*Y;
V[D]=V[D+1]=V[D+2]=Math.round(c[K+1+Y]*R);V[D+3]=255}if(u=="P6")for(var Y=0;Y<E;Y++){var D=4*Y,I=K+1+3*Y;
V[D]=Math.round(c[I]*R);V[D+1]=Math.round(c[I+1]*R);V[D+2]=Math.round(c[I+2]*R);V[D+3]=255}return[{yS:new ez(0,0,N,f),data:V.buffer}]};
c5.Bs={};c5.Bs.nC=function(c,o,K,u){if(u==null)u=[0,!0];if(typeof u[0]=="boolean")u[0]=0;var X=new Uint8Array(c[0][0]);
if(!a.Ci(X)&&c[0][4]){X=X.slice(0);a.bp(c[0][4][0],X,3)}var $=o&3,O=K&3;if($!=0||O!=0){var n=o+($==0?0:4-$),x=K+(O==0?0:4-O),l=new Uint8Array(n*x*4);
a.ms(l,4278190080);a.Ui(X,new ez(0,0,o,K),l,new ez(0,0,n,x));X=l;o=n;K=x}var f=UTEX.DDS.encode(X.buffer,o,K,u);
if(!1){var z=UTEX.DDS.decode(f)[0],l=new Uint8Array(z.Za),R=0;for(var Y=0;Y<X.length;Y++){var V=X[Y]-l[Y];
R+=V*V}console.log(R)}return f};c5.Bs.gP=function(c){var o=UTEX.DDS.decode(c)[0];return[{yS:new ez(0,0,o.width,o.height),data:o.image}]};
c5.TG={};c5.TG.gP=function(c){var o=UTEX.VTF.decode(c).pop();return[{yS:new ez(0,0,o.width,o.height),data:o.image}]};
c5.T4={};c5.T4.QE=null;c5.T4.agT=function(c,o){var K=c5.T4.QE,u=c.byteLength,X=o.width,$=o.height,O=X*$,n=5e6+2*u+O*(o.progressive?Math.max(2,o.numComponents)*4+1:8),x=K.instance.exports;
c5.k3(x,n);var l=new Uint8Array(x.memory.buffer),N=x.malloc(u);l.set(new Uint8Array(c),N);var f=x.malloc(4),z=x.malloc(4),cv=x.malloc(4),R=x.stbi_load_from_memory(N,u,f,z,cv,4);
x.free(N);x.free(f,z,cv);x.free(R);var V=l.slice(R,R+O*4);return V};(function(){var c=c5.OT.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(c).then(function(o){c5.T4.QE=o})}());c5.T4.nC=function(c,o,K,u){if(u==null)u=[85];
var X=c[0],$=new Uint8Array(X[0]);if(a.Ci($)){var O=new Uint8Array($.length),n=new ez(0,0,o,K);a.ms(O,4294967295);
a.a.hA("norm",$,n,O,n,n,1);$=O}var x=new Uint8Array(c5.Ab($.buffer,o,K,"jpeg",u[0]/100));if(x.length<2e4||X[5]){var l=_.EJ(x,[255,226]);
if(l!=-1){var N=_.SL(x,l+2);x=c5.dh(x,l,N+2)}}if(X[5]!=null){var f=4+_.SL(x,4),z=X[5].length+16,R=new Uint8Array(z+2);
R[0]=255;R[1]=226;_.$H(R,2,z);_.b_(R,4,"ICC_PROFILE");R[16]=R[17]=1;R.set(X[5],18);x=c5.am6(x,f,R)}if(X[2]!=null){var V=c5.T4.X$(x)[224][0]+2;
V+=9;x[V]=1;_.$H(x,V+1,X[2]);_.$H(x,V+3,X[2])}if(X[3]!=null&&u[1]==!0&&Object.keys(X[3]).length!=0){var d=0,e=0,p=0,h=bf.KA(X[3]),E=new Uint8Array(UTIF.encode([h])),q="http://ns.adobe.com/xap/1.0/",f=20;
d=4+6+E.length;var Z=bf.uF(X[3]),v=_.qK(Z);e=4+q.length+1+v.length;var W=bf.aa$(X[3]);if(W.length!=0){var D=0,U=0;
for(var Y=0;Y<W.length;Y++)D+=5+W[Y][1].length;var I=D+(D&1),A=a.R(14+4+4+4+I);_.b_(A,U,"Photoshop 3.0");
U+=14;_.b_(A,U,"8BIM");U+=4;A[U++]=4;A[U++]=4;U+=2;_.nc(A,U,D);U+=4;for(var Y=0;Y<W.length;Y++){var w=W[Y],t=w[1];
A[U++]=28;A[U++]=2;A[U++]=w[0];_.$H(A,U,t.length);U+=2;_.b_(A,U,t);U+=t.length}p=4+A.length}var L=d+e+p,J=new Uint8Array(x.length+L);
for(var Y=0;Y<20;Y++)J[Y]=x[Y];for(var Y=20;Y<x.length;Y++)J[Y+L]=x[Y];J[f]=255;J[f+1]=225;_.$H(J,f+2,d-2);
_.b_(J,f+4,"Exif");for(var Y=0;Y<E.length;Y++)J[f+10+Y]=E[Y];f+=d;J[f]=255;J[f+1]=225;_.$H(J,f+2,e-2);
_.b_(J,f+4,q);for(var Y=0;Y<v.length;Y++)J[f+4+q.length+1+Y]=v[Y];f+=e;if(p!=0){J[f]=255;J[f+1]=237;
_.$H(J,f+2,p-2);for(var Y=0;Y<A.length;Y++)J[f+4+Y]=A[Y];f+=p}x=J}return x.buffer};c5.T4.X$=function(c){var o=0,K=[],u=c.length;
while(o<u){while(c[o]!=255&&o<u)o++;while(c[o]==255)o++;if(o==u)break;var X=c[o];o++;if(K[X]==null)K[X]=[];
K[X].push(o-2);if(X==216)continue;if(X==217)break;if(224<=X&&X<=239||X==218||X==219||X==192||X==193||X==194||X==196||X==221||X==254){var $=_.SL(c,o);
o+=$;if(X==218)while(o<u&&(c[o]!=255||(c[o+1]==0||208<=c[o+1]&&c[o+1]<=215)))o++;continue}console.log("unknown marker ",X.toString(16),o);
break}if(K[217]==null){console.log("EOI marker missing");var O=c.length-2;c[O]=255;c[O+1]=217;K[217]=[O]}return K};
c5.T4.a31=function(c){c=new Uint8Array(c);if(c[0]!=255)return c.buffer;var o=c5.T4.X$(c),K=c5.T4.tF(c,o);
if(K.numComponents!=4)return c.buffer;var u=K.width,X=K.height,$=c5.T4.Ip(c,o,!0);return c5.T4.nC([[$[0].data]],u,X,[85])};
c5.T4.tF=function(c,o){var K=(o[192]?o[192]:o[193]?o[193]:o[194])[0]+4,u={};u.progressive=o[194]!=null;
u.precision=c[K];K++;u.height=_.SL(c,K);K+=2;u.width=_.SL(c,K);K+=2;u.numComponents=c[K];K++;if(o[224]){var X=u.jfif={};
K=o[224][0]+2+2+5+2;X.densityUnits=c[K];K++;X.xDensity=_.SL(c,K);K+=2;X.yDensity=_.SL(c,K);K+=2}if(o[238]){var X=u.adobe={};
K=o[238][0]+2+2+6;X.version=c[K];K++;X.flags0=_.SL(c,K);K+=2;X.flags1=_.SL(c,K);K+=2;X.transform=c[K];
K++}return u};c5.T4.aiu=function(c,o,K){var u=o,X=_.SL(c,u);u+=2;var $=_.MQ(c,u,4);if($=="Exif"){u+=6;
var O=c.slice(u,u+X-8),n;try{n=UTIF.decode(O.buffer,{parseMN:!1,debug:!1})}catch(ar){}if(n&&n.length!=0)K.exif=n}else if($=="http"){var x=0;
while(c[u+x]!=0)x++;var l=_.MQ(c,u,x);u+=x+1;if(l=="http://ns.adobe.com/xmp/extension/"){var N=_.MQ(c,u,32);
u+=32;u+=8;var f=o+X-u;while(c[u+f-1]==0)f--;if(K.xmp_extn==null)K.xmp_extn="";try{K.xmp_extn+=_.AF(c,u,f)}catch(ar){}}else if(l=="http://ns.adobe.com/xap/1.0/"){var z=_.AF(c.slice(u,u+X-x-3));
if(z[0]=="?")z="<"+z;K.xmp=z}}else console.log($)};c5.T4.Ip=function(c,o,K){var u=c5.T4.tF(c,o),X=u.width,$=u.height,O=X*$,n,x=-1,q=72,Z,W,D=null;
if(u.adobe)x=u.adobe.transform;if(K||X*$>15e7||x==0||x==2||u.progressive){var l=new PDFJS.JpegImage;
l.parse(c);var N=l.getData({width:X,height:$,forceRGB:!0,isSourcePDF:K}),n=a.R(O*4);for(var Y=0;Y<O;
Y++){var f=Y<<2,z=f-Y;n[f]=N[z];n[f+1]=N[z+1];n[f+2]=N[z+2];n[f+3]=255}}else{n=c5.T4.agT(c.buffer,u)}var R=o[225];
if(R)for(var Y=0;Y<R.length;Y++)c5.T4.aiu(c,R[Y]+2,u);var V=o[226];if(V){var d=V[0],e=_.SL(c,d+2),p=_.MQ(c,d+4,11);
if(p=="ICC_PROFILE"){var h=_.q(c,d+18);u.icc=c.slice(d+18,d+18+h)}}var E=o[217][0]+2;if(E!=c.length)u.suffix=c.slice(E);
var v=[X,$,1,0,0,0,1,0];if(u.jfif&&u.jfif.densityUnits!=0){q=Math.round([72,1,2.54][u.jfif.densityUnits]*u.jfif.xDensity)}else if(u.exif&&u.exif[0].t282!=null){var I=u.exif[0].t282[0];
q=I[0]/I[1]}if(u.exif){var A=u.exif;Z=bf.Kj(A[0]);var U=A[0].t274;if(U)U=U[0];if(U!=null&&U>1&&U<20)v=a.raw.acd(U,X,$)}if(u.xmp){Z=bf.Jj(u.xmp,Z)}if(u.icc)W=u.icc;
var w=o[237],t=[],L=[];if(w){var J=new Uint8Array(65536),b=0,d=0;for(var Y=0;Y<w.length;Y++){d=w[Y]+2;
var F=d+_.SL(c,d);d+=2;var B=d;while(c[d]!=0)d++;d++;var k=_.MQ(c,B,d-B-1),i=F-d;if(i<0)break;while(b+i>J.length){var H=new Uint8Array(J.length*2);
H.set(J);J=H}var m=new Uint8Array(c.buffer,d,i);J.set(m,b);b+=i}d=0;c=J;while(d<b){var j=_.MQ(c,d,4);
d+=4;var Q=_.SL(c,d);d+=2;var G=c[d++],g=_.MQ(c,d,G);d+=G;if((G&1)==0)d++;var e=_.q(c,d);d+=4;var E=d+e+(e&1);
if(Q==1028){while(d+4<E){var P=c[d++],M=c[d++],T=c[d++],C=_.SL(c,d);d+=2;if(P==28&&M==2)t.push([T,_.MQ(c,d,C)]);
d+=C}}else if(Q==1032)D=fU.a7j(c,d);else if((Q&2e3)==2e3){var gf=d$.hK(c,d,e);L.push([g,gf])}else{}d=E}if(t.length!=0)Z=bf.awV(t,Z)}var s=[{yS:new ez(0,0,X,$),data:n.buffer,$M:q,VV:Z,Mb:W,b9:L.length==0?null:L,qb:D}],Z=u.xmp_extn;
if(Z){var b3=new DOMParser,d5=b3.parseFromString(Z,"image/svg+xml"),d5=d5.children[0].children[0].children[0],gh=[d5.getAttribute("GImage:Data"),d5.getAttribute("GDepth:Data")];
for(var Y=0;Y<gh.length;Y++)if(gh[Y]){var jt=atob(gh[Y]),fl=new Uint8Array(jt.length);_.b_(fl,0,jt);
fl=fl.buffer;var eq=c5.c5(fl),c7=c5.nq(eq).gP(fl);s.push(c7[0])}}if(u.suffix){var k8=u.suffix,hs=!1,cq=_.MQ(k8,4,4),jn=_.EJ(k8,[255,216,255]);
if(c5.d6(k8,[0,0,1,10,14,0,0,0])){if(hs)console.log("Samsung");var d=0;while(d!=k8.length){var an=_.Em(k8,d+2);
d+=4;var hk={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[an];if(hk!=null){var ds=_.jn(k8,d);d+=4;
var gT=_.MQ(k8,d,ds);d+=ds;var gP=_.MQ(k8,d,hk);d+=hk;if(an==2608){var ky=d,ay=_.q(k8,d+24);d+=ay+24;
var bb=_.q(k8,d);d+=bb;var ap=k8.slice(ky,d);c5.T4.le(ap)}}else if(an==18502){while(_.MQ(k8,d,4)!="SEFT")d+=4;
d+=4}else{break;console.log(_.bY(k8,d,128));console.log(k8.slice(d));throw an.toString(16)}}}else if(cq=="ftyp"){if(hs)console.log("MP4 Video");
c5.T4.le(k8)}else if(_.MQ(k8,0,4)=="fixe"){if(hs)console.log("fixe");alert("Unknown data - "+k8.length+" B - at the end of the file",3e3);
var d=4,e=_.jn(k8,d);d+=4;var cR=_.jn(k8,d);d+=4;var c8=_.jn(k8,d);d+=4;console.log(e,cR,c8,k8.slice(d,d+84));
d+=84;var gr=_.MQ(k8,d,32);d+=32;d+=8;var gr=_.MQ(k8,d,32);d+=32}else if(_.MQ(k8,8,13)=="FocusShot_Map"){if(hs)console.log("FocusShot_Map");
var fF=_.q(k8,0),C=_.jn(k8,4),fl=a.R(O*4),cj=a.R(O*4);for(var br=0;br<$;br++)for(var hX=0;hX<X;hX++){var Y=br*X+hX,f=Y<<2,gG=8+13+((br>>>1)*X+hX>>>1),jx=k8[gG],cr=k8[gG+(O>>>2)];
fl[f]=fl[f+1]=fl[f+2]=jx;fl[f+3]=255;cj[f]=cj[f+1]=cj[f+2]=cr;cj[f+3]=255}s.push({yS:new ez(0,0,X,$),data:fl.buffer},{yS:new ez(0,0,X,$),data:cj.buffer})}else if(cq=="edof"){if(hs)console.log("edof");
var U=k8[8+7];console.log(U.toString(16));var d=8+16,a8=_.Em(k8,d),f8=_.Em(k8,d+2),O=a8*f8;d+=4;d+=32+16;
var dW=a.R(O*4);for(var Y=0;Y<O;Y++){var f=Y<<2;dW[f]=dW[f+1]=dW[f+2]=k8[d+Y];dW[f+3]=255}if(U==16){}else if(U==19){var g7=dW.slice(0);
a.D.ll(dW,g7,a8,f8);var eU=a8;a8=f8;f8=eU;a.D.af(g7,dW,a8,f8)}else throw"Unknown orientation of a depth map";
s.push({yS:new ez(0,0,a8,f8),data:dW.buffer})}else if(_.MQ(k8,0,64).indexOf("DualShot")!=-1){var f7=_.jn,d7=_.MQ,aW=_.Em,d=0;
function cy(){var b8=f7(k8,d);if(f7(k8,d+4)!=0)throw"e";d+=8;return b8}var dh=_.q(k8,d);d+=4;try{if(dh==45066){d=1226;
var X=cy(),$=cy();d=3445}else if(dh==45322){var fh=f7(k8,d);d+=4;var gr=d7(k8,d,fh);d+=fh;if(gr!="DualShot_DepthMap_1")throw gr;
X=1008;$=756}else throw dh;var dP=a.R(X*$*4);dP.fill(255);a.oe(k8.slice(d,d+X*$),dP);s.push({yS:new ez(0,0,X,$),data:dP.buffer})}catch(ar){console.log("error reading a depth map")}try{if(jn!=0)k8=k8.slice(jn);
s=s.concat(c5.nq("jpg").gP(k8.buffer))}catch(ar){}}else if(jn!=-1&&!(k8[0]==255&&k8[1]==129)){if(hs)console.log("another JPG at",jn);
try{if(jn!=0)k8=k8.slice(jn);s=s.concat(c5.nq("jpg").gP(k8.buffer))}catch(ar){}}else if(_.MQ(k8,0,4)=="PMPD"){if(hs)console.log("Xiaomi stuff");
var d=4,fg=_.jn(k8,12),bo=_.jn(k8,16),a8=_.jn(k8,1060),f8=_.jn(k8,1064),jK=a8>f8,jQ=s[0].yS.m>s[0].yS.e,aZ=k8.slice(k8.length-a8*f8-4),eo=a.R(a8*f8);
for(var br=0;br<f8;br++)for(var hX=0;hX<a8;hX++)eo[br*a8+hX]=aZ[(f8-br-1)*a8+hX];var dP=a.R(a8*f8*4);
dP.fill(255);a.oe(eo,dP);if(jK!=jQ){var g7=dP.slice(0);a.D.ll(dP,g7,a8,f8);var eU=a8;a8=f8;f8=eU;a.D.af(g7,dP,a8,f8)}s.push({yS:new ez(0,0,a8,f8),data:dP.buffer})}else console.log(_.MQ(k8,0,4),k8)}if(s.length>1){var dC=s[0].yS,dy=!1,fw=!0;
s[0].Xv="Main";var hG=[!1];for(var Y=1;Y<s.length;Y++){hG[Y]=c5.T4.avO(new Uint8Array(s[Y].data));if(hG[Y])dy=!0;
if(!s[Y].yS.Ug(s[0].yS))fw=!1}if(!dy&&!fw)s=s.slice(0,1);else for(var Y=1;Y<s.length;Y++){s[Y].Xv=hG[Y]?"Depth Map":null;
var dM=s[Y].yS;if(!dM.Ug(dC)){var aX=dC.m/dM.m,fy=dC.e/dM.e,gp=new bE;gp.scale(aX,fy);var aU=r.W.QC([new Uint8Array(s[Y].data),dM],1,a.D.I_(gp));
s[Y].yS=aU.rect;s[Y].data=aU.buffer}}}if(c5.T4.xa==1)if(v[2]!=1||v[6]!=1)for(var Y=0;Y<s.length;Y++){var e7=s[Y],eV=new Uint8Array(e7.data),X=e7.yS.m,$=e7.yS.e,a8=v[0],f8=v[1],n=a.R(a8*f8*4);
a.D.d$(eV,X,$,n,v);e7.yS=new ez(0,0,a8,f8);e7.data=n.buffer}return s};c5.T4.le=function(c){if(window.confirm("Photopea found a "+kl.c3(c.length)+" MP4 video inside your image. Would you like to save it?",4e3)){fn.save(c.slice(0).buffer,"video.mp4")}};
c5.T4.avO=function(c){var o=!0;for(var Y=0;Y<c.length;Y+=4){o=o&&c[Y]==c[Y+1]&&c[Y+1]==c[Y+2]}return o};
c5.T4.xa=0;c5.T4.gP=function(c,o,K){c=new Uint8Array(c);if(c[0]==255){var u=c5.T4.X$(c);if(u[195]==null){c5.T4.xa++;
var X=c5.T4.Ip(c,u,!1);c5.T4.xa--;return X}var $=_.SL(c,u[195][0]+5),O=_.SL(c,u[195][0]+7),n=UTIF.LosslessJpegDecode(c),x=O*$,l=a.R(x*4);
for(var Y=0;Y<x;Y++){var N=Y<<2,f=N-Y;l[N]=n[f];l[N+1]=n[f+1];l[N+2]=n[f+2];l[N+3]=255}return[{yS:new ez(0,0,O,$),data:l.buffer}]}else if(c[0]==0&&c[4]==48&&c[6]==1){var z=c,R=new PDFJS.Jbig2Image,V=[];
if(o)V.push({data:o,start:0,end:o.length});V.push({data:z,start:0,end:z.length});var n=R.parseChunks(V);
if(!K)for(var Y=0;Y<n.length;Y++)n[Y]=~n[Y];var O=_.q(c,11),$=_.q(c,15),d=Math.ceil(O/8),e=a.R(O*$*4);
for(var p=0;p<$;p++){var h=p*d;for(var E=0;E<O;E++){var N=(p*O+E)*4,q=n[h+(E>>>3)]>>>7-(E&7)&1,Z=q*255;
e[N]=Z;e[N+1]=Z;e[N+2]=Z;e[N+3]=255}}return[{yS:new ez(0,0,O,$),data:e.buffer}]}else{var R=new PDFJS.JpxImage;
R.parse(c);var O=R.width,$=R.height,v=R.tiles,W=R.componentsCount,D=new Uint8Array(O*$*4),I=new ez(0,0,O,$);
for(var R=0;R<v.length;R++){var A=v[R],U=A.width,w=A.height,t=U*w,L=A.items,J=new ez(A.left,A.top,U,w),b=new Uint8Array(t*4);
if(W==1)for(var Y=0;Y<t;Y++){var F=L[Y],N=Y*4;b[N]=F;b[N+1]=F;b[N+2]=F;b[N+3]=255}else if(W==3)for(var Y=0;
Y<t;Y++){var f=Y*3,N=Y*4;b[N]=L[f];b[N+1]=L[f+1];b[N+2]=L[f+2];b[N+3]=255}else if(W==4)b.set(L);else console.log("Unknown number of components: "+W);
a.Ui(b,J,D,I)}return[{yS:I,data:D.buffer}]}};c5.Ll={};c5.Ll.nC=function(c,o,K,u){if(u==null)u=[70,!1,0,0,0];
var X=u[0]/100,d=0;if(c.length==1){var $=new Uint8Array(c5.Ab(c[0][0],o,K,"webp",X));if($.length<2e4){var O=ke.Sr($.buffer),n=O.sub;
for(var Y=0;Y<n.length;Y++)if(n[Y].Il=="ICCP"){var x=n[Y];$=c5.dh($,x.p-8,x.size+8);_.Zg($,4,O.size-(x.size+8));
break}}if(u[1]&&c[0][3]){var O=ke.Sr($.buffer),n=O.sub,l=n[0].p+n[0].size,N=c[0][3],f=new Uint8Array(UTIF.encode([bf.KA(N)])),z=new Uint8Array(6+f.length);
_.b_(z,0,"Exif\0\0");z.set(f,6);var R=_.qK(bf.uF(N)),V=new Uint8Array(16+z.length+R.length);_.b_(V,0,"EXIF");
_.Zg(V,4,z.length);V.set(z,8);var d=8+z.length;_.b_(V,d,"XMP\0");_.Zg(V,d+4,R.length);V.set(R,d+8);var e=new Uint8Array($.length+V.length);
e.set(new Uint8Array($.buffer,0,l),0);e.set(V,l);e.set(new Uint8Array($.buffer,l),l+V.length);$=e;_.Zg($,4,_.jn($,4)+V.length)}return $.buffer}var p=_.Ps,h=_.pE,E=new fd;
p(E,d,"RIFF    WEBPVP8X");d+=16;h(E,d,10);d+=4;h(E,d,18);d+=4;h(E,d,o-1);d+=3;h(E,d,K-1);d+=3;p(E,d,"ANIM");
d+=4;h(E,d,6);d+=4;E.yl(d,4);E.data[d+3]=255;_.tQ(E,d+4,u[3]);d+=6;var q=[];for(var Y=0;Y<c.length;Y++){q.push(c[Y][0])}var Z=UPNG.encode.compress(q,o,K,X==1?0:Math.max(2,Math.floor(X*500)),[!1,!0,!0,0,!0]).frames;
function v(O,B,k,i){var t=O.p-8,L=O.size+8;k.yl(i,L);for(var Y=0;Y<L;Y++)k.data[i+Y]=B[t+Y];return i+L}for(var Y=0;
Y<c.length;Y++){p(E,d,"ANMF");d+=4;var W=d,t=0,L=0;d+=4;var D=Z[Y],I=D.rect,A=[I.x>>>1,I.y>>>1,I.width-1,I.height-1,c[Y][1]];
for(var U=0;U<5;U++)h(E,d+3*U,A[U]);d+=15;E.yl(d,1);E.data[d]=1-D.blend<<1|D.dispose;d++;var w=new Uint8Array(c5.Ab(D.img.buffer,I.width,I.height,"webp",1)),n=ke.Sr(w.buffer).sub,J={};
for(var b=0;b<n.length;b++)J[n[b].Il]=n[b];if(J.VP8L)d=v(J.VP8L,w,E,d);else throw"e";var F=d-W-4;h(E,W,F);
if((F&1)==1){E.yl(d,1);d++}}h(E,4,d-8);return E.data.slice(0,d).buffer};(function(){var c=c5.OT.get("wasm/webp").buffer;
WebAssembly.instantiate(c).then(function(o){var K=o.instance.exports;c5.Ll.exp=K})}());c5.Ll.gP=function(c){var o=new Uint8Array(c),K=c5.Ll.aaO,u=null,X=ke.Sr(c).sub,$={},O=null;
for(var Y=0;Y<X.length;Y++)$[X[Y].Il]=X[Y];if($.EXIF){var n=$.EXIF,x=new Uint8Array(c,n.p+6,n.size-6),n=UTIF.decode(x)[0];
if(n)O=bf.Kj(n)}if($["XMP\0"]){var n=$["XMP\0"],x=new Uint8Array(c,n.p,n.size);if(O==null)O={};O=bf.Jj(_.AF(x),O)}var l=$.ANIM,N=$.VP8L,z=$["VP8 "],R=$.VP8X;
if(l==null){var V,d;if(z){V=_.Em(o,z.p+6);d=_.Em(o,z.p+8)}else if(N){var e=_.jn(o,N.p+1);V=(e&(1<<14)-1)+1;
d=(e>>>14&(1<<14)-1)+1}else throw"e";var p=K(u,c,{p:0,size:o.length},V,d);p.VV=O;return[p]}var h=R.p,V=1+(_.jn(o,h+4)&16777215),d=1+(_.jn(o,h+7)&16777215),E=[],q=new ez(0,0,V,d),Z=a.R(V*d*4);
for(var Y=0;Y<X.length;Y++){var v=X[Y];if(v.Il!="ANMF")continue;var W=[];for(var D=0;D<5;D++)W.push(_.jn(o,v.p+D*3)&16777215);
var I=new ez(W[0]*2,W[1]*2,W[2]+1,W[3]+1),A=W[4],U=K(u,c,{p:v.p+16,size:v.size-16},V,d),w=new Uint8Array(U.data),t=o[v.p+15];
if(t>>>1==0)a.a.hA("norm",w,I,Z,q,I,1);else a.Ui(w,I,Z,q);E.push({Xv:"_a_"+E.length+","+A,yS:q.clone(),data:Z.buffer.slice(0)});
if((t&1)==1){a.ms(w,0);a.Ui(w,I,Z,q)}}return E};c5.Ll.aaO=function(c,o,K,u,X){var $=c5.Ll.exp,O=$.memory,n=5e6+2*K.size+u*X*10;
c5.k3($,n);var x=new Uint8Array(O.buffer),l=$.malloc(K.size);x.set(new Uint8Array(o,K.p,K.size),l);var N=$.malloc(8),f=$.WebPDecodeARGB(l,K.size,N,N+4),z=_.jn(x,N),R=_.jn(x,N+4),V=z*R*4,d=a.R(V);
for(var Y=0;Y<V;Y+=4){d[Y]=x[f+Y+1];d[Y+1]=x[f+Y+2];d[Y+2]=x[f+Y+3];d[Y+3]=x[f+Y]}$.WebPFree(f);$.free(N);
$.free(l);return{yS:new ez(0,0,z,R),data:d.buffer}};c5.a1Y=function(){function c(n,x,l,N){var f=new Uint8Array(n[0][0]),z=new Uint32Array(f.buffer),R=[],V={},e=24,p=0,v=0;
for(var Y=0;Y<z.length;Y++){var d=z[Y]&16777215;if(V[d]==null){V[d]=R.length;R.push(d);if(R.length>256){R=null;
break}}}if(N&&N[0])R=null;if(R){e=1;while(1<<e<R.length)e*=2;if(e==2)e=4}var h={Oc:x,s_:l,Vt:1,$J:e,A2:0,aa3:p},E=4*Math.floor((h.$J*h.Oc+31)/32);
h.size=E*h.s_+2;var q=new fd,Z=R?(1<<e)*4:0;_.Ps(q,v,"BM");v+=2;_.pE(q,v,E*l+16+40+Z);v+=4;_.pE(q,v,0);
v+=4;_.pE(q,v,54+Z);v+=4;q.yl(v,40);_.pE(q,v,40);v+=4;O(q.data,v,h,E);v+=36;if(R){q.yl(v,Z);var W=q.data;
for(var Y=0;Y<R.length;Y++){var D=v+Y*4,I=R[Y]>>>16,A=R[Y]>>>8&255,U=R[Y]&255;W[D]=I;W[D+1]=A;W[D+2]=U}v+=Z}q.yl(v,E*l);
if(e==24)for(var w=0;w<l;w++){var t=v+(l-1-w)*E;for(var L=0;L<x;L++){var J=(w*x+L)*4;q.data[t+L*3+2]=f[J];
q.data[t+L*3+1]=f[J+1];q.data[t+L*3+0]=f[J+2]}}else if(e==8)for(var w=0;w<l;w++){var t=v+(l-1-w)*E;for(var L=0;
L<x;L++){var J=w*x+L,b=V[z[J]&16777215];q.data[t+L]|=b}}else if(e==4)for(var w=0;w<l;w++){var t=v+(l-1-w)*E;
for(var L=0;L<x;L++){var J=w*x+L,b=V[z[J]&16777215];q.data[t+(L>>>1)]|=b<<4-(L&1)*4}}else if(e==1)for(var w=0;
w<l;w++){var t=v+(l-1-w)*E;for(var L=0;L<x;L++){var J=w*x+L,b=V[z[J]&16777215];q.data[t+(L>>>3)]|=b<<7-(L&7)}}v+=E*l+2;
return q.data.slice(0,v).buffer}function o(n){n=new Uint8Array(n);if(_.jn(n,0)==40)return[K(n.buffer,0)];
var x=0,l=_.MQ(n,x,2);x+=2;if(l!="BM"){alert("Unsupported BMP format: "+l);return}var N=_.jn(n,x);x+=4;
x+=4;var f=_.jn(n,x);x+=4;return[K(n.buffer,x,f)]}function K(n,x,l){n=new Uint8Array(n);var N=_.jn(n,x),f=$(n,x+4);
if(f.Vt!=1)alert("unsupported number of color planes: "+f.Vt);if(f.A2!=0&&f.A2!=1&&f.A2!=2&&f.A2!=3){alert("Unsupported BMP compression: "+f.A2);
return}x+=N;var z=x,R=n;if(l==null)l=x;if(f.A2==1||f.A2==2){var V=X(n,l,f);f.$J=8;n=V;l=0}var d=4*Math.floor((f.$J*f.Oc+31)/32),e=f.Oc,p=Math.abs(f.s_),h=new Uint8Array(e*p*4);
h.fill(255);if(f.$J==32)for(var E=0;E<p;E++){var q=l+(p-1-E)*d;for(var Z=0;Z<e;Z++){var v=(E*e+Z)*4;
h[v]=n[q+Z*4+2];h[v+1]=n[q+Z*4+1];h[v+2]=n[q+Z*4+0];h[v+3]=n[q+Z*4+3]}}else if(f.$J==24)for(var E=0;
E<p;E++){var q=l+(p-1-E)*d;for(var Z=0;Z<e;Z++){var v=(E*e+Z)*4;h[v]=n[q+Z*3+2];h[v+1]=n[q+Z*3+1];h[v+2]=n[q+Z*3+0]}}else if(f.$J==16)for(var E=0;
E<p;E++){var q=l+(p-1-E)*d;for(var Z=0;Z<e;Z++){var v=(E*e+Z)*4,W=n[q+Z*2+1]<<8|n[q+Z*2];h[v]=(W>>>11)*(255/31);
h[v+1]=(W>>>5&63)*(255/63);h[v+2]=(W&31)*(255/31)}}else if(f.$J==8)for(var E=0;E<p;E++){var q=l+(p-1-E)*d;
for(var Z=0;Z<e;Z++){var v=(E*e+Z)*4,D=n[q+Z];h[v]=R[z+4*D+2];h[v+1]=R[z+4*D+1];h[v+2]=R[z+4*D+0]}}else if(f.$J==4)for(var E=0;
E<p;E++){var q=l+(p-1-E)*d;for(var Z=0;Z<e;Z++){var v=(E*e+Z)*4,D=n[q+(Z>>1)];D=D>>4-4*(Z&1);D=D&15;
h[v]=R[z+4*D+2];h[v+1]=R[z+4*D+1];h[v+2]=R[z+4*D+0]}}else if(f.$J==1)for(var E=0;E<p;E++){var q=l+(p-1-E)*d;
for(var Z=0;Z<e;Z++){var v=(E*e+Z)*4,I=n[q+(Z>>3)];I=I>>7-(Z&7);I=I&1;h[v]=R[z+4*I+2];h[v+1]=R[z+4*I+1];
h[v+2]=R[z+4*I+0]}}else throw"Unknown bit depth "+f.$J;if(f.s_<0){var A=new Uint32Array(h.buffer),U=p>>>1;
for(var E=0;E<U;E++){var w=E*e,t=(p-E-1)*e;for(var Z=0;Z<e;Z++){var L=A[w+Z];A[w+Z]=A[t+Z];A[t+Z]=L}}}return{yS:new ez(0,0,e,p),data:h.buffer}}function u(n,Y){return n>>>4-((Y&1)<<2)&15}function X(n,x,l){var N=l.Oc,f=Math.abs(l.s_),z=new Uint8Array(N*f),R=0,V=0,Y=0;
while(V<f){var d=n[x++],e=n[x++],p=V*N+R;if(d>0){if(l.$J==4)for(Y=0;Y<d;Y++){z[p+Y]=u(e,Y)}else for(Y=0;
Y<d;Y++){z[p+Y]=e}R+=d}else if(d==0&&e==0){V++;R=0}else if(d==0&&e==1){break}else if(d==0&&e==2){R+=n[x++];
V+=n[x++]}else{var h=e;if(l.$J==4){for(Y=0;Y<e;Y++){z[p+Y]=u(n[x+(Y>>>1)],Y)}h=Math.ceil(e/2)}else{for(Y=0;
Y<e;Y++){z[p+Y]=n[x+Y]}}if((h&1)!=0)h++;x+=h;R+=e}}return z}function $(n,x){var l=_.Sz,N=_.jn,f=_.Em,z={};
z.Oc=l(n,x);x+=4;z.s_=l(n,x);x+=4;z.Vt=f(n,x);x+=2;z.$J=f(n,x);x+=2;z.A2=N(n,x);x+=4;z.size=N(n,x);x+=4;
var R=l(n,x);x+=4;var V=l(n,x);x+=4;z.aa3=N(n,x);x+=4;x+=4;return z}function O(n,x,l,N){_.Zg(n,x,l.Oc);
x+=4;_.Zg(n,x,l.s_);x+=4;_.WD(n,x,l.Vt);x+=2;_.WD(n,x,l.$J);x+=2;_.Zg(n,x,l.A2);x+=4;_.Zg(n,x,l.size);
x+=4;_.Zg(n,x,2834);x+=4;_.Zg(n,x,2834);x+=4;_.Zg(n,x,l.aa3);x+=4;x+=4}return{gP:o,nC:c,a0v:K}}();c5.w_={};
c5.w_.nC=function(c,o,K,u){if(u==null)u=[100,!1,0,0,0,0];var X=[],$=[],O=o*K*4,d=null;for(var n=0;n<c.length;
n++){var x=new Uint8Array(c[n][0].slice(0));for(var Y=0;Y<O;Y+=4){var l=x[Y+3]=x[Y+3]>127?255:0;if(l==0)x[Y]=x[Y+1]=x[Y+2]=0}X.push(x.buffer);
$.push(c[n][1])}var N=Math.round(2+254*u[0]/100),f=UPNG.encode.compress(X,o,K,N,[!0,!1,!1,8,!1,u[1]]),z=f.plte,R=new Uint8Array(4),V=new Uint32Array(R.buffer);
for(var Y=0;Y<z.length;Y++){V[0]=z[Y];var e=R[0];R[0]=R[2];R[2]=e;z[Y]=V[0];if(V[0]==0)d=Y}while(z.length<256)z.push(0);
var p=new Uint8Array(2e4+Math.round(1.5*o*K*c.length)),h=u[3],E={palette:z};if(h!=1)E.loop=h==0?0:h-1;
var q=new GifWriter(p,o,K,E);for(var Y=0;Y<c.length;Y++){var Z=f.frames[Y],v=Z.rect,W=Z.blend,D=Z.dispose,I=Math.round($[Y]/10);
if(I<2)I=2;q.addFrame(v.x,v.y,v.width,v.height,Z.img,{transparent:d,disposal:D+1,delay:I})}return p.slice(0,q.end()).buffer};
c5.w_.gP=function(c){var o=Date.now(),K=[],u=UGIF.decode(c),X=UGIF.toRGBA8(u),$=new ez(0,0,u.width,u.height);
for(var Y=0;Y<X.length;Y++){var O=u.frames[Y];K.push({yS:$.clone(),Xv:"_a_frm"+Y+","+O.delay*10,data:X[Y]})}return K};
c5.KK={};c5.KK.nC=function(c,o,K,u){if(o>256||K>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var X=Math.min(o,256),$=Math.min(K,256),O=new ez(0,0,X,$),n=a.R(O.P()*4),x=new ez(0,0,o,K),l=new Uint8Array(c[0][0]);
a.Ui(l,x,n,O);c[0][0]=n.buffer;o=X;K=$}var N=new Uint8Array(c[0][0]).slice(0),z=0;N[3]=Math.min(N[3],254);
var f=new fd,R=u&&u[0]==!0;_.tQ(f,z,0);z+=2;_.tQ(f,z,R?2:1);z+=2;_.tQ(f,z,1);z+=2;var V=new Uint8Array(UPNG.encode([N.buffer],o,K,null,null,null,!0));
f.yl(z,16);f.data[z]=o==256?0:o;z++;f.data[z]=K==256?0:K;z++;z+=2;_.tQ(f,z,R?Math.round(o/2):1);z+=2;
_.tQ(f,z,R?Math.round(K/2):32);z+=2;_.pE(f,z,V.length);z+=4;_.pE(f,z,6+16);z+=4;f.yl(z,V.length);f.data.set(V,z);
z+=V.length;return f.data.slice(0,z).buffer};c5.KK.gP=function(c){c=new Uint8Array(c);var o=4,K=_.Em(c,o);
o+=2;var u=[];for(var Y=0;Y<K;Y++){var X=c5.KK.a5t(c,o+Y*16),$=c.buffer.slice(X.offset,X.offset+X.size),O=c5.c5($);
O=O?O:"bmp";if(O=="png"){var n=c5.nq(O),x=n.gP($);X.Ra=x[0]}else{var l=c5.nq("BMP").a0v($,0),$=a.R(X.Oc*X.s_*4);
a.Ui(new Uint8Array(l.data),new ez(0,0,l.yS.m,l.yS.e),$,new ez(0,X.s_,X.Oc,X.s_));l.data=$.buffer;l.yS.e=X.s_;
X.Ra=l}u.push(X)}u.sort(function(N,f){if(N.Oc!=f.Oc)return N.Oc-f.Oc;return N.afM-f.afM});return[u.pop().Ra]};
c5.KK.a5t=function(c,o){var K={};K.Oc=c[o];o++;if(K.Oc==0)K.Oc=256;K.s_=c[o];o++;if(K.s_==0)K.s_=256;
K.aq2=c[o];o++;o++;K.a5z=_.Em(c,o);o+=2;K.afM=_.Em(c,o);o+=2;K.size=_.jn(c,o);o+=4;K.offset=_.jn(c,o);
o+=4;return K};c5.CG={};c5.CG.gP=function(c){var o=Date.now(),u;if(a.raw.pZ(c.byteLength))return[a.raw.a3w(c)];
var K=UTIF.decode(c);console.log(K);if(K[0].t33421)u=K[0];else if(K[0].subIFD&&K[0].t271&&K[0].t271[0]=="Hasselblad"){u=K[0].subIFD[0];
u.t33421=[2,2]}else if(K[0].subIFD&&K[0].subIFD[0].t33421){u=K[0].subIFD[0];if(u.t50706==null){if(u.t258[0]==8)u.t258[0]=12}}else if(K[0].subIFD&&K[0].subIFD[0]&&K[0].subIFD[0].t262&&K[0].subIFD[0].t262[0]==34892)u=K[0].subIFD[0];
else if(K[0].t50706)u=K[0];else if(K[0].subIFD&&K[0].subIFD[1]&&K[0].subIFD[1].t33421)u=K[0].subIFD[1];
else if(K[0].subIFD&&K[0].subIFD[2]&&K[0].subIFD[2].t33421)u=K[0].subIFD[2];else if(K[3]&&K[3].t50648){var X=K[0].exifIFD,$=X.makerNote;
u=K[3];var O=$.t224[1],n=$.t224[2];u.t256=[O];u.t257=[n];u.t258=[16];u.t259=[7];u.t262=[32803];u.t277=[1];
u.t33421=[2,2];var x=u.t50656[0],l=a.raw._G[x];if(l==null)throw"e";u.t33422=l}else if(K[0].t1&&K[0].t1.length==4){var N=K[0],f={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
u={};for(var z in f)if(N["t"+z])u["t"+f[z]]=N["t"+z];u.t2=N.t2;u.t3=N.t3;u.t10=N.t10;u.t45=N.t45;u.t258=[16];
u.t33421=[2,2];var R=N.t9[0];u.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][R-1];var V=N.t4[0],d=N.t5[0],e=N.t6[0],p=N.t7[0];
u.t50829=[V,d,e,p];var h=N.t36[0],E=N.t37[0],q=N.t38[0];u.t50728=[E/h,E/E,E/q]}else if(K[0].t258&&K[0].t258[0]>=12&&K[0].t271&&(K[0].t271[0].startsWith("OLYMPUS")||K[0].t271[0].startsWith("OM Digital Solutions"))){u=K[0];
u.t33421=[2,2]}if(u){UTIF.decodeImage(c,u,K);for(var Z in K[0])if((Z[0]=="t"||Z[0]=="e"||Z[0]=="d")&&u[Z]==null)u[Z]=K[0][Z];
u.n2=K[0].t274?K[0].t274[0]:1;return[u]}var v=[];for(var Y=0;Y<K.length;Y++){var W=K[Y],D=null,J=72;
UTIF.decodeImage(c,W,K);if(W.t258&&W.t258[0]==16&&W.t277&&W.t277[0]==1){var I=0,A=0,U=0,w=W.data;for(var t=0;
t<w.length;t+=2){var L=w[t+1]<<8|w[t];if(L>I)I=L;A+=L;U++}D=1/256*65535/(.5*I+.5*(2*A/U))}var b=W.t282,F=W.t296;
if(b!=null&&F!=null){J=b[0][0]/b[0][1];if(F[0]==3)J=Math.round(J/2.54)}if(W.width==null)continue;var B=UTIF.toRGBA8(W,D).buffer,k=bf.Kj(W);
console.log(W);v.push({yS:new ez(0,0,W.width,W.height),data:B,$M:J,VV:k,Mb:W.t34675?W.t34675.slice(0):null})}return v};
c5.CG.nC=function(c,o,K,u){if(u==null)u=[!1];var X={},$=c[0];if($[3]!=null&&u[0])X=bf.KA($[3]);if($[2]!=null){X.t282=X.t283=[[Math.round($[2]),1]];
X.t296=[2]}return UTIF.encodeImage($[0],o,K,X)};c5.bZ={};c5.bZ.gP=function(c){c=new Uint8Array(c);var o=8,K,u=0;
while(o<c.length){var X=_.MQ(c,o,4),$=_.q(c,o+4);if(X.startsWith("ic")){var O=c.slice(o+8,o+$),n=c5.c5(O.buffer),x=c5.nq(n),l=x.gP(O.buffer),N=l[0].yS.P();
if(N>u){u=N;K=l}}o+=$}return K};c5.Uj={};c5.Uj.zi=!0;c5.Uj.gP=function(c,o){fU.Sr(c,o)};c5.Uj.ah1=function(c,o,K,u){if(u==null)u=[!1,!1,!1,!1,!1];
if(!u[0])c.i9();var X=new fd,$=fU.or(c,X,u);return[X.data.buffer,$]};c5.Uj.nC=function(c,o,K,u){var X=c5.Uj.ah1(c,o,K,u),$=X[0],O=X[1];
return $.byteLength==O?$:$.slice(0,O)};c5.C0={};c5.C0.zi=!0;c5.C0.gP=function(c,o){var K=pako.inflate(new Uint8Array(c)),u=_.SL(K,0),X=_.SL(K,2),$=4;
o.m=_.q(K,$);$+=4;o.e=_.q(K,$);$+=4;o.buffer=a.R(o.m*o.e*4);var O=_.SL(K,$);$+=2;$+=4;for(var n=0;n<O;
n++){var x=o.uB(),V=0,b=1,F=2,B=3,k=0;o.s.push(x);var l=_.q(K,$);$+=4;var N=$,f=_.SL(K,N);N+=2;var z=_.AF(K,N,f);
N+=f;x.XK(z);var R=K[N];N++;if(R!=0&&R!=1)throw R;x.rect.x=_.AU(K,N);N+=4;x.rect.y=_.AU(K,N);N+=4;x.rect.m=_.q(K,N);
N+=4;x.rect.e=_.q(K,N);N+=4;if(u>3){V=_.AU(K,N);N+=4}x.opacity=Math.round(255*K[N]/100);N++;var d=K[N];
N++;x.OG(d!=0);x.Mh="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[K[N]];
N++;var e=K[N];N++;if(e)x.add.lspf=1<<31;if(u>3){var p=_.SL(K,N);N+=2;if(p!=0){var h=JSON.parse(_.AF(K,N,p));
N+=p;var E=h.text,q=h.textSettings,Z=q.font,v=q.size,W=q.padding,D=parseInt(q.color.slice(1),16);x.add.lnsr="rend";
x.add.TySh=ii.eS(0,0);x.add.TySh.FD=new ez(0,0,100,100);var I=x.add.TySh.i=new bE,A=x.rect.m/2,U=x.rect.e/2;
I.translate(-A,-U);I.rotate(-V*Math.PI/180);I.translate(A,U);I.translate(x.rect.x+W,x.rect.y+W);var w=x.add.TySh.Bz;
ii.lG(w,1);ii.lf(w,[0,0,x.rect.m-W*2,x.rect.e]);ii.FO(w,0,E);var t=ii.Ij(w,0,1);t.W$.FontSize=v;t.W$.FillColor={Type:1,Values:[1,(D>>>16&255)/255,(D>>>8&255)/255,(D>>>0&255)/255]};
if(q.bold)Z+="-Bold";ii.CQ(t,Z);t.Xi.Justification=["left","right","center"].indexOf(q.align);ii.r2(w,0,E.length,t)}}var L=_.q(K,N);
N+=4;if(L!=x.rect.P()*4){for(var Y=x.rect.m;Y>x.rect.m/2;Y--){var J=L/(Y*4);if(J==Math.round(J)){x.rect.m=Y;
x.rect.e=J;break}}}x.buffer=a.R(x.rect.P()*4);if(u>3){b=0;F=1;B=2;k=3}for(var Y=0;Y<L;Y+=4){x.buffer[Y]=K[N+Y+b];
x.buffer[Y+1]=K[N+Y+F];x.buffer[Y+2]=K[N+Y+B];x.buffer[Y+3]=K[N+Y+k]}N+=L;var i=_.q(K,N);N+=4;if(i==0&&u>3){$+=l;
continue}var H=K[N];N++;var m=_.SL(K,N);N+=2;if(i!=0){x.F=new gU.bQ;x.F.rect=x.rect.clone();x.F.channel=a.R(x.rect.P());
for(var Y=0;Y<i;Y+=4)x.F.channel[Y>>>2]=K[N+Y+1];N+=i}if(H!=0){var j=JSON.parse(gH.default);x.add.lmfx=j;
for(var Y=0;Y<gH.order.length;Y++)j[gH.N4[Y]]={t:"VlLs",v:[]};var Q={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var Y=0;Y<H;Y++){var G=_.SL(K,N),g=N+G+4,P=K.slice(N,g),M=K[N+2];N+=3;var T=Q[M+""],C=JSON.parse(gH.R$[T]);
j[gH.N4[T]].v.push({t:"Objc",v:C});if(T!=0){C.Md.v.BlnM=ef.aj("norm");C.Opct.v.val=K[N];N++;if(T==9||T==2){C.Dstn.v.val=K[N+1];
N+=2}else N+=2;C.blur.v.val=Math.round(K[N]*1.2);N++;if(T==9||T==2){C.uglg.v=!1;C.lagl.v.val=180-_.SL(K,N);
N+=2}C.Clr.v=a.T.mv({Z:K[N+1],r:K[N+2],J:K[N+3]})}else{C.hglM.v.BlnM=C.sdwM.v.BlnM=ef.aj("norm");N+=2;
var gf=K[N++],s=K[N++];C.blur.v.val=Math.round(Math.sqrt(s*gf)*1.3);C.srgR.v.val=Math.round(100*gf/s);
C.uglg.v=!1;C.lagl.v.val=180-_.SL(K,N);N+=2;C.hglO.v.val=K[N++];C.hglC.v=a.T.mv({Z:K[N+1],r:K[N+2],J:K[N+3]});
N+=4;C.sdwO.v.val=K[N++];C.sdwC.v=a.T.mv({Z:K[N+1],r:K[N+2],J:K[N+3]});N+=4}N=g}}if(N-$<l){var b3=_.q(K,N),jt=0;
N+=4;N++;var f=_.SL(K,N);N+=2;var E=_.AF(K,N,f);N+=f;E=E.replace(/\r/g,"\n");var f=_.SL(K,N);N+=2;var Z=_.AF(K,N,f);
N+=f;var v=_.SL(K,N);N+=2;var d5=x.rect.x,gh=x.rect.m;if(b3&4)jt=1;if(b3&2)jt=2;var fl=Math.round(v*.4);
if(jt==0||jt==2)gh+=fl;if(jt==1||jt==2){gh+=fl;d5-=fl}x.add.lnsr="rend";x.add.TySh=ii.eS(0,0);x.add.TySh.FD=new ez(0,0,100,100);
x.add.TySh.i=new bE(1,0,0,1,d5,x.rect.y+v*.25);var w=x.add.TySh.Bz;ii.lG(w,1);ii.lf(w,[0,0,gh,x.rect.e]);
ii.FO(w,0,E);var t=ii.Ij(w,0,1);t.W$.FontSize=v;t.W$.FillColor={Type:1,Values:[1,K[N+1]/255,K[N+2]/255,K[N+3]/255]};
N+=4;if(K[N+5])Z+="-Bold";if(K[N+6])Z+="-Italic";ii.CQ(t,Z);t.Xi.Justification=jt;N+=8;ii.r2(w,0,E.length,t)}$+=l}};
c5.jT={};c5.jT.zi=!0;c5.jT.gP=function(c,o){var K=UZIP.parse(c),u=JSON.parse(_.AF(K["manifest.json"].buffer));
o.m=u.width;o.e=u.height;o.buffer=a.R(o.m*o.e*4);o.name=u.name+".psd";var X=u.stack;for(var $=0;$<X.length;
$++){var O=X[$],n=O.type,x=O.rect,l=O.format,N=o.uB();N.XK(O.name);N.OG(O.visible);N.opacity=Math.round(255*O.opacity);
var f=N.rect=new ez(x.x,x.y,x.w,x.h),z=x.r;if(z==null)z=0;o.s.push(N);if(n=="image"&&z!=0||n=="shape"&&l.variant=="svg"){var R=o.ra(K[O.content],N.getName(),0,0);
R.Ha=N.Ha;R.opacity=N.opacity;N=R;o.s.pop();o.s.push(N);var V=a.A.W6(f).j;a.A.i(V,c5.jT.Mr(f,z),V);N.add.SoLd.Trnf=r.W.yf(V);
N.add.SoLd.nonAffineTransform=r.W.yf(V);N.oP(o,!1)}else if(n=="image"){var d=K[O.content].buffer,e=c5.c5(d),p=c5.nq(e),h=p.gP(d)[0];
f.m=h.yS.m;f.e=h.yS.e;N.buffer=new Uint8Array(h.data)}else if(n=="shape"){N.Ha|=16;var E=N.add.vstk=gH.e_.ib(!0),q=N.add.vmsk=new gU.JA,Z;
N.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}};var v=l.variant,W=l.fill;if(v=="rectangle"||v=="rounded"){Z=a.o.YP.Rect(f.x,f.y,f.m,f.e,l.radii)}else if(v=="ellipse"){Z=a.o.YP.AT(f.x,f.y,f.m,f.e)}else if(v=="path"){var D=Typr.U.SVGToPath(O.content),I={G:D.cmds,j:D.crds};
Z=a.A.lR(I);var A=a.o.$$(Z);a.o.Ik(Z,new bE(f.m/A.m,0,0,f.e/A.e,f.x,f.y))}else console.log(l);N.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}};
if(W.type=="color"){N.add.SoCo.Clr.v=a.T.mv(CSS.Bg(W.value))}else if(W.type=="gradient"){delete N.add.SoCo;
var U=N.add.GdFl=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),w=U.Grad.v;w.Intr.v=0;var t=[],L=W.value.stops;
for(var Y=0;Y<L.length;Y++){var J=L[Y],b=CSS.Bg(J.color);t.push([J.position,[b.Z/255,b.r/255,b.J/255]])}a.T.Fa(t,w);
U.Angl.v.val=-(W.value.direction+z)+90+180}else console.log(W);var F=c5.jT.Mr(f,z);a.o.Ik(Z,F);var B=O.style;
if(B&&B.outline){var k=B.outline;E.strokeEnabled.v=!0;E.strokeStyleLineWidth.v.val=k.size;E.strokeStyleContent.v.Clr.v=a.T.mv(CSS.Bg(k.color))}q.$=Z;
N.$h();N.Dm(o)}else if(n=="text"){N.add.lnsr="rend";N.add.TySh=ii.eS(0,0);N.add.TySh.FD=new ez(0,0,100,100);
var i=N.add.TySh.Bz;ii.lG(i,1);ii.lf(i,[0,0,f.m,f.e]);var H=O.content;ii.FO(i,0,H);var m=ii.Ij(i,0,1);
ii.CQ(m,l.font.name);var j=m.W$.FontSize=Math.round(l.size);if(l.fill&&l.fill.value){var Q=CSS.Bg(l.fill.value);
m.W$.FillColor={Type:1,Values:[1,Q.Z/255,Q.r/255,Q.J/255]}}var G=l.linespace;if(G){m.W$.AutoLeading=!1;
m.W$.Leading=Math.round(j*(1.06+parseFloat(G)));console.log(G,m.W$)}m.W$.FauxBold=l.bold;m.Xi.Justification=["left","right","center","justify"].indexOf(l.align);
ii.r2(i,0,H.length,m);N.add.TySh.i=new bE(1,0,0,1,f.x+Math.round(j*.1),f.y+Math.round(j*.1));N.rect=new ez}else console.log(O)}o._K=!0};
c5.jT.Mr=function(c,o){var K=c.x+c.m/2,u=c.y+c.e/2,X=new bE;X.translate(-K,-u);X.rotate(-o*Math.PI/180);
X.translate(K,u);return X};c5.Ag={};c5.Ag.zi=!0;c5.Ag.gP=function(c,o){df.Sr(c,o)};var df=function(){function c(f,z){var R=Date.now(),V=UZIP.parse(f);
console.log(V);console.log(Date.now()-R);R=Date.now();var d=V["maindoc.xml"],e=new DOMParser,p=e.parseFromString(_.AF(d),"image/svg+xml").children[0].children[0],h=p.getAttribute("name"),E=z.m=l(p,"width"),q=z.e=l(p,"height");
z.$M=Math.round(l(p,"x-res"));var Z=p.children[0].children;o(Z,z,{MP:h,Me:V,sX:null});console.log(Date.now()-R);
R=Date.now()}function o(f,z,R){for(var V=0;V<f.length;V++){var d=f[f.length-1-V],e=d.getAttribute("nodetype");
if(e=="transparencymask"){R.sX.F=N(d,R);continue}var p=d.getAttribute("compositeop"),h=d.getAttribute("filename"),E=d.getAttribute("channelflags"),q=d.children;
q=q.length==0?null:q[0].children;var Z=z.uB();if(e=="paintlayer"){var v=l(d,"x"),W=l(d,"y"),D=R.Me[R.MP+"/layers/"+h+".defaultpixel"],I=R.Me[R.MP+"/layers/"+h],A=x(I);
Z.rect=A[0];Z.rect.offset(v,W);Z.buffer=A[1];if(Z.rect.SR()&&D.join()!="0,0,0,0"){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:D[0],r:D[1],J:D[2]})}};
Z.Dm(z)}}else if(e=="grouplayer"){Z.add.lsct=aj.cD;Z.Mh="pass";Z.Ha|=24;z.s.push(z.FL());var U=R.sX;
R.sX=Z;o(q,z,R);R.sX=U}else if(e=="shapelayer"){var I=R.Me[R.MP+"/layers/"+h+".shapelayer/content.svg"],w=_.AF(I),t=z.ra(I,Z.getName(),0,0);
Z=t;var L=new ez(0,0,z.m,z.e),J=a.A.W6(L).j;Z.add.SoLd.Trnf=r.W.yf(J);Z.add.SoLd.nonAffineTransform=r.W.yf(J);
Z.oP(z,!1)}else if(e=="clonelayer"){var Y=-1;for(var b=0;b<f.length;b++)if(f[b].getAttribute("name")==d.getAttribute("clonefrom"))Y=b;
if(Y!=-1){o([f[Y]],z,R);Z=z.s.pop()}}else console.log(e,d);Z.XK(d.getAttribute("name"));if(l(d,"locked")==1)Z.add.lspf=1<<31;
Z.OG(l(d,"visible")==1);var F={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[p];if(F)Z.Mh=F;
else console.log(p);Z.opacity=l(d,"opacity");if(E=="1110")Z.xQ=!0;var B=q?q[0]:null;if(B&&B.tagName=="mask")Z.F=N(B,R);
z.s.push(Z)}}function K(f,z){var R=0,V=0,d=f.length,e,p,h;while(R<d){e=f[R++];if(e>31){p=e>>>5;if(p==7)p=7+f[R++];
h=(e&31)<<8|f[R++];var E=V-h-1,q=p>>>1;z[V++]=z[E++];z[V++]=z[E++];for(var Y=0;Y<q;Y++){z[V++]=z[E++];
z[V++]=z[E++]}if((p&1)==1)z[V++]=z[E++]}else{for(var Y=0;Y<=e;Y++){z[V++]=f[R++]}}}}function u(f,z){var R=0;
while(f[z+R]!=10)R++;return _.MQ(f,z,R)}var X=new ez(0,0,64,64),$=new Uint8Array(64*64*4),O=new Uint8Array(64*64*4);
function n(){for(var Y=0;Y<4096;Y++){var f=Y<<2;$[f+0]=O[Y+8192];$[f+1]=O[Y+4096];$[f+2]=O[Y];$[f+3]=O[Y+12288]}}function x(f){var z=0,R={};
for(var Y=0;Y<5;Y++){var V=u(f,z);z+=V.length+1;V=V.split(" ");R[V[0]]=parseInt(V[1])}var d=R.PIXELSIZE,e=[],p=new ez;
while(z<f.length){var V=u(f,z),h=V.split(",");z+=V.length+1;if(h[2]!="LZF")throw h[2];X.x=parseInt(h[0]);
X.y=parseInt(h[1]);p=p.X3(X);var E=parseInt(h[3]);e.push([X.clone(),new Uint8Array(f.buffer,z+1,E-1)]);
z+=E}var q=a.R(p.P()*d);for(var Y=0;Y<e.length;Y++){var Z=e[Y];K(Z[1],O);if(d==4){n();a.Ui($,Z[0],q,p)}else a.qv(O,Z[0],q,p)}return[p,q]}function l(f,z){return parseInt(f.getAttribute(z))}function N(f,z){var R=f.getAttribute("filename"),V=z.Me[z.MP+"/layers/"+R+".pixelselection"],d=x(V),e=new gU.bQ;
e.qr=l(f,"visible")==1;e.rect=d[0];e.channel=d[1];return e}return{Sr:c}}();c5.WH={};c5.WH.zi=!0;c5.WH.gP=function(c,o){hQ.Sr(c,o)};
c5.h7={};c5.h7.gP=function(c){var o=new Uint8Array(c),K=c5.h7.pg(o,0,0),u=K.sub[2],X=c5.h7.Af(o,u),$=K.sub[3],O=c5.h7.Af(o,$);
return[X,O]};c5.h7.Af=function(c,o){var K=o.sub[o.sub.length-1],u=K.sub[0].p,X=K.sub[1].p,$=c.slice(u,u+16),O=c.slice(X,X+K.sub[1].size),n=_.jn,x=c[u],l=n(c,u+1),N=n(c,u+5),f=c[u+13],z=new ez(0,0,l,N),R=a.R(l*N*4);
if(f){new Uint32Array(R.buffer).fill(4278190080)}else{UTEX.readBC1(c,X,R,l,N)}return{yS:z,data:R}};c5.h7.pg=function(c,o,K){var u=_.MQ,X=_.jn,$=u(c,o,4);
$=$.split("").reverse().join("");var O=X(c,o+4);if(O!=0){console.log(c.slice(o-8));throw O}var n=X(c,o+8);
while((n&3)!=0)n++;var x={Il:$,p:o+12,size:n};if($=="CARF"||$=="CTEX"||$=="CREW"||$=="BMAP"){x.sub=[];
o+=12;if($=="CTEX"||$=="CREW")o+=32;var l=x.p+x.size;while(o<l){var N=c5.h7.pg(c,o,K+1);x.sub.push(N);
o+=12+N.size+(N.size&1)}}return x};c5.YI={};c5.YI.zi=!0;c5.YI.gP=function(c,o){jr.Sr(c,o)};c5.aA={};
c5.aA.zi=!0;c5.aA.gP=function(c,o){ju.Sr(c,o)};c5.tG={};c5.tG.zi=!0;c5.tG.gP=function(c,o){ka.Sr(c,o)};
c5.Sc={};c5.Sc.zi=!0;c5.Sc.gP=function(c,o){c3.Sr(c,o)};c5.JN={};c5.JN.zi=!0;c5.JN.gP=function(c,o){cD.Sr(c,o)};
c5.z5={};c5.z5.zi=!0;c5.z5.nC=function(c,o,K,u,X,$){if(u==null)u=[!0,!1,!1,!1,!0];var O=c$.jH(c,{$W:u[0],hidden:u[1],acI:u[2],a6a:u[3],MM:u[4],alV:o,ajc:K},X.ru,$);
return O};c5.z5.gP=function(c,o,K){c$.Sr(c,o,K)};c5.rd={};c5.rd.zi=!0;c5.rd.gP=function(c,o){var K=150,u=new bE(1,0,0,-1,0,0);
u.scale(K/72,K/72);o.$M=K;var X=new eK(o,u,!0);FromPS.Parse(c,X)};c5.Re={};c5.Re.zi=!0;c5.Re.nC=function(c,o,K,u,X){if(u==null)u=["",100,!1,!1,!1,0,!1];
u[7]=["jpg"];var $=new ToPDF;kv.jH(c,u,$,X.ru,o,K);return $.buffer};c5.Re.gP=function(c,o,K){var u=2;
while(!0){var X=u*72,$=new bE(1,0,0,-1,0,0);$.scale(X/72,X/72);o.$M=X;var O=new eK(o,$,!0);FromPDF.Parse(c,O);
var n=Math.max(o.m,o.e);if(K&&n<Math.max(K[0],K[1])){o.s=[];var x=u;while(n*(u/x)<Math.max(K[0],K[1]))u++}else break}};
c5.gJ={};c5.gJ.zi=!0;c5.gJ.gP=function(c,o){var K=72,u=new bE(1,0,0,1,0,0);u.scale(K/72,K/72);o.$M=K;
var X=new eK(o,u,!1);FromWMF.Parse(c,X)};c5.H5={};c5.H5._V=!0;c5.H5.zi=!0;c5.H5.nC=function(c,o,K,u,X){if(u==null)u=["",100,!1,!1,!1,0,!1];
u[7]=[];var $=new ToEMF;kv.jH(c,u,$,X.ru);return $.buffer};c5.H5.gP=function(c,o){var K=72,u=new bE(1,0,0,1,0,0);
u.scale(K/72,K/72);o.$M=K;var X=new eK(o,u,!1);FromEMF.Parse(c,X)};c5.Ao={};c5.Ao.zi=!0;c5.Ao.gP=function(c,o){return eh.Sr(c,o)};
c5.qG={};c5.qG.gP=function(){var c,o,K,u,X,$,O=0,n=0,x=0,l=0,N=0,h="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",E=null;
function f(q){var Z=ce.Sr(q),v=Z.jD,w=0,t,L;console.log(Z);var W=new Uint8Array(q);if(v=="ILBM")return z(Z,W);
if(v=="CIMG")return d(Z,W);if(v=="ANIM"&&Z.sub[0].Il=="ADAT")return p(Z,W);if(v!="ANIM")throw v;var D=_.SL,I=_.q,A=Z.sub,U=z(A[0],W);
for(var J=1;J<A.length-2;J++){var b=U[Math.max(0,J-2)].adW.slice(0),F=A[J];for(var B=0;B<F.sub.length;
B++){var k=F.sub[B],i=k.p;if(k.Il=="ANHD"){var H=W[i++];if(H!=5)throw H;var u=W[i++],m=D(W,i),j=D(W,i+2);
if(m!=0&&m!=c)throw m;if(j!=0&&j!=o)throw j;var Q=D(W,i+4),G=D(W,i+6);if(Q!=0||G!=0)throw Q;i+=8;var g=D(W,i);
i+=2;t=D(W,i);i+=2;if(W[i++]!=0)throw"e";if(W[i++]!=0)throw"e";L=D(W,i);i+=2}else if(k.Il=="DLTA"){var P=[],M=i;
for(var Y=0;Y<16;Y++)P.push(I(W,i+Y*4));i+=64;var T=$;for(var C=0;C<X;C++){if(P[C]==0)continue;i=M+P[C];
for(var gf=0;gf<T;gf++){var s=W[i++],b3=0;if(s==0)continue;for(var Y=0;Y<s;Y++){var d5=W[i++];if(d5==0){var gh=W[i++],jt=W[i++];
for(var fl=0;fl<gh;fl++){b[(b3*X+C)*T+gf]=jt;b3++}}else if(d5<128){b3+=d5}else{d5-=128;for(var fl=0;
fl<d5;fl++){b[(b3*X+C)*T+gf]=W[i+fl];b3++}i+=d5}}}}}else console.log(k.Il)}if(J==1&&t>100)t=0;var eq=t==0?17:Math.round((t-w)*1e3/60);
U.push({data:V(W,b).buffer,yS:new ez(0,0,c,o),adW:b,Xv:"_a_frm"+J+","+eq});w=t}if(x!=0&&c>o*2){var c7=new Uint32Array(c*o*2);
c7.fill(4294967295);for(var J=0;J<U.length;J++){var k8=U[J],hs=new Uint32Array(k8.data);for(var b3=0;
b3<o;b3++){var cq=b3*2;for(var gf=0;gf<c;gf++)c7[cq*c+gf]=hs[b3*c+gf];cq++;for(var gf=0;gf<c;gf++)c7[cq*c+gf]=hs[b3*c+gf]}k8.yS.e*=2;
k8.data=c7.slice(0).buffer}}return U}function z(q,Z){var v,W,D;O=0;n=0;l=0;N=0;x=0;for(var I=0;I<q.sub.length;
I++){var A=q.sub[I],U=A.p;if(A.Il=="BMHD"){var w=[];for(var Y=0;Y<4;Y++)w[Y]=_.SL(Z,U+2*Y);U+=8;var t=w[2],L=w[3];
c=w[0];o=w[1];K=Z[U++];u=Z[U++];D=Z[U++];if(D!=0&&D!=1)throw D;$=c+15>>>4<<1;X=K+u}else if(A.Il=="CMAP")O=U;
else if(A.Il=="CAMG"){var J=_.q(Z,U);n=J&32768,x=J&4,l=J&2048;N=J&128}else if(A.Il=="BODY"){W=a.R($*o*X);
if(D==0)W=Z.slice(U,U+W.length);if(D==1)jS.J7(Z,U,A.size,W,0,W.length)}else if(A.Il=="PLTP"){console.log(Z.slice(U,U+A.size))}}v=V(Z,W);
return[{yS:new ez(0,0,c,o),data:v.buffer,adW:W}]}function R(q,cv){return q[cv>>>3]>>>7-(cv&7)&1}function V(q,Z){var v=K-2,W=(1<<v)-1,D=Math.round(255/W),I,A,U,w=$*8;
if(O!=0){var t=1<<K,L=!0;for(var Y=1;Y<t;Y++){var J=O+Y*3;if(q[J]!=q[J-3]||q[J+1]!=q[J-2]||q[J+2]!=q[J-1]&&q[J+2]!=q[J-1]+1)L=!1}if(L){for(var Y=0;
Y<t;Y++){var J=O+Y*3,b=Math.round(Y*255/(t-1));q[J]=q[J+1]=q[J+2]=b}}}var F=a.R(c*o*4);for(var B=0;B<o;
B++)for(var k=0;k<c;k++){var i=0;for(var H=0;H<X;H++){var m=(B*X+H)*w+k,j=R(Z,m);i|=j<<H}i=i&(1<<K)-1;
var Y=B*c+k,Q=Y<<2;if(O!=0){if(l!=0&&i>>>v!=0){var G=i>>>v,g=(i&W)*D;if(G==1)U=g;else if(G==2)I=g;else if(G==3)A=g}else{var g=O+i*3;
I=q[g+0];A=q[g+1];U=q[g+2]}}else{if(K==24){I=i>>>0&255;A=i>>>8&255;U=i>>>16&255}else if(K==16){var P=0,M=1,C=4;
for(var H=0;H<16;H++)P+=(i>>>H&1)<<15-H;var T=(1<<M)-1,gf=(1<<C)-1;I=(P>>>7&T)*(255/T);A=U=I}else throw K}F[Q+0]=I;
F[Q+1]=A;F[Q+2]=U;F[Q+3]=255}return F}function d(q,Z){var v=1,W=2,D=4,I=_.q,A=_.SL,c=200,o=200,U,w,t,L;
for(var J=0;J<q.sub.length;J++){var b=q.sub[J],F=b.p;if(b.Il=="TBHD"){c=I(Z,F);F+=4;o=I(Z,F);F+=4;L=a.R(c*o*4);
t=new ez(0,0,c,o);F+=4;var B=I(Z,F);F+=4;var k=A(Z,F);F+=2;if(k!=0)throw"e";w=A(Z,F);F+=2;var i=I(Z,F);
F+=4;if(i!=1)throw i;U=0;if(B&v)U+=3;if(B&W)U+=1}if(b.jD=="TBMP"){var H=b.sub;for(var m=0;m<H.length;
m++){var j=H[m].p,Q=H[m].size,G=A(Z,j),g=A(Z,j+2),P=A(Z,j+4)-G+1,M=A(Z,j+6)-g+1;j+=8;var T=a.R(P*M*4),C=a.R(P*M);
T.fill(255);for(var Y=0;Y<4;Y++){j=e(Z,j,Q-8,C,0);a.bp(C,T,3-Y)}if(j!=H[m].p+Q)throw"e";a.Ui(T,new ez(G,g,P,M),L,t)}}}return[{yS:t,data:L.buffer}]}function e(q,Z,v,W,D){var I=Z;
while(D<W.length){var A=q[Z++],jJ=(A&127)+1;if(A&128){A=q[Z++];for(var Y=0;Y<jJ;++Y)W[D++]=A}else{for(var Y=0;
Y<jJ;++Y)W[D++]=q[Z++]}}return Z}function p(q,Z){if(E==null){var v=c5.sT(h);E=new Uint32Array(pako.inflate(new Uint8Array(v)).buffer)}var W=_.q,D=_.SL,I=q.sub[0],A=q.sub[1],c=D(Z,I.p),o=D(Z,I.p+2),U=D(Z,I.p+4),b,Y,F,B,k,i;
if(U!=3)throw U;var w=new ez(0,0,c,o),t=a.R(c*o*4),L=a.R(c*o);t.fill(255);var J=new Uint32Array(t.buffer),H=A.p;
for(B=0;B<2;B++){i=B;k=0;b=Math.floor((c*o+2-B-1)/2);while(b>0){Y=Z[H++];if(Y&128){Y=257-Y;b-=Y;F=Z[H++];
k=k&E[F]|E[F+256];do{J[i]=k;i+=2}while(--Y)}else{Y++;b-=Y;do{F=Z[H++];J[i]=k=k&E[F]|E[F+256];i+=2}while(--Y)}}}for(var Y=0;
Y<t.length;Y+=4){var m=t[Y+3],j=t[Y+2],Q=t[Y+1];t[Y]=m;t[Y+1]=j;t[Y+2]=Q;t[Y+3]=255}for(var G=0;G<o>>>1;
G++){for(var g=0;g<c;g++){var Y=G*c+g,F=(o-1-G)*c+g,P=J[Y];J[Y]=J[F];J[F]=P}}return[{yS:w,data:t.buffer}]}return f}();
c5.LC={};c5.LC.zi=!1;c5.LC.nC=function(c,o,K,u){var X=c[0][4],$=new Uint8Array(c[0][0]),O=2,n=X?!0:!1,x=n?4:3,l=new Uint8Array(o*K*x);
for(var N=0;N<K;N++)for(var f=0;f<o;f++){var z=N*o+f<<2,R=((K-N-1)*o+f)*x;l[R]=$[z+2];l[R+1]=$[z+1];
l[R+2]=$[z+0];if(n)l[R+3]=X[0][N*o+f]}if(!0){var V=l.length,d=0,e=new Uint8Array(V*2),p=0,h=0,E=o*x;
while(h<V){var q=h,Z=0,v=E*(Math.floor(h/E)+1);while(q<v&&Z<128){var W=!0;for(var Y=0;Y<x;Y++)W=W&l[h+Y]==l[q+Y];
if(!W)break;q+=x;Z++}if(Z==1){var D=1;while(D<128&&h+(D+1)*x<v){var W=!0,I=h+D*x;for(var Y=0;Y<x;Y++)W=W&l[I+Y]==l[I+x+Y];
if(W)break;D++}e[p++]=D-1;for(var A=0;A<D;A++)for(var Y=0;Y<x;Y++)e[p++]=l[h++]}else{e[p++]=127+Z;for(var Y=0;
Y<x;Y++)e[p+Y]=l[h+Y];p+=x;h+=x*Z;d+=Z}}l=e.slice(0,p);O+=8}var U=new Uint8Array(18+l.length+26);U[2]=O;
_.WD(U,12,o);_.WD(U,14,K);U[16]=x*8;U[17]=x==4?8:0;U.set(l,18);_.b_(U,18+l.length+8,"TRUEVISION-XFILE.");
return U.buffer};c5.LC.gP=function(c){var o=new Uint8Array(c),K=0,u=o[0],X=o[1],$=o[2],O=o[4]*256+o[3],n=o[6]*256+o[5],x=o[7],l=o[9]*256+o[8],N=o[11]*256+o[10],f=o[13]*256+o[12],z=o[15]*256+o[14],R=o[16],V=o[17],d=V>>>4,e=_.MQ(o,18,u),p=a.R(f*z*4),K=18+u+(n*x>>>3),h=new Uint8Array(o.buffer,K);
if($>3){var E=0,q=o,Z=new Uint8Array(f*z*R>>>3),v=K,W=0,D=o.length,I=R>>>3;while(W<Z.length){var cv=q[v];
v++;if(cv<128)for(var Y=0;Y<cv+1;Y++){for(var A=0;A<I;A++){Z[W]=q[v];W++;v++}}else{for(var Y=0;Y<cv-127;
Y++){for(var A=0;A<I;A++){Z[W]=q[v+A];W++}}v+=I}}$-=8;h=Z;K=v}else K+=f*z*R>>>3;var U=new Uint8Array(4),w=c5.LC.alO;
for(var t=0;t<z;t++)for(var L=0;L<f;L++){var J=(d&2)==0?(z-t-1)*f+L:t*f+L,b=t*f+L,F,B,k,i=255,H=J*R>>>3;
if($==1){var m=0;if(R==8)m=h[H];else throw"e";w(o,18+u+O+(m*x>>>3),x,U);F=U[0];B=U[1];k=U[2];i=U[3]}else if($==2){w(h,H,R,U);
F=U[0];B=U[1];k=U[2];i=U[3]}else if($==3){if(R==8)F=B=k=h[H];else throw"e"}var j=b*4;p[j]=F;p[j+1]=B;
p[j+2]=k;p[j+3]=i}var U={yS:new ez(0,0,f,z),data:p.buffer,Xv:e};if(a.Ci(p)){var Q=a.R(f*z);a.Sw(p,Q,3);
a.ms(p,4278190080,16777215);U.lr=[Q]}return[U]};c5.LC.alO=function(c,o,K,u){var X,$,O,n=255;if(K==24||K==32){O=c[o];
$=c[o+1];X=c[o+2];if(K==32)n=c[o+3]}else if(K==16){var x=c[o+1]<<8|c[o+0];X=x>>>10&31;$=x>>>5&31;O=x>>>0&31;
X=Math.round(X*(255/31));$=Math.round($*(255/31));O=Math.round(O*(255/31))}else throw"e";u[0]=X;u[1]=$;
u[2]=O;u[3]=n};c5.aCU=function(){var c,o=[],K=!1;function u(O,n,x,l){c=x;o.push(O,l);X()}function X(){if(K||o.length==0)return;
K=!0;c5.a8m(o.shift(),"image/avif",$)}function $(O){c(null,[O],o.shift());K=!1;X()}return{zi:!1,pk:!0,gP:u}}();
c5.w6=function(){var c,o=[],K=!1,u,X,$,O=10,n,x,l,N=0,z;function f(E,q,Z,v,W){c=Z;o.push(E,v);var D=iY.Sr(E),I=iY.aqE(D,"vide"),A=I.tkhd,U=I.mdia.minf.stbl,w=A.duration/D.moov.mvhd.qs,t=U.stsz.length,L=Math.round(t/w);
console.log(D);u=A.Oc;X=A.s_;var J=u+" \xD7 "+X+" px, "+t+" frames, "+kl.c3(u*X*4*t)+" decoded<br/>";
J+=w.toFixed(2)+" seconds, "+L+" FPS";var b=new ev(y.E.M,!0);b.data={Y:y.H.Vl,n9:"setFPS",Ak:O,vu:d,axv:J};
W.I(b)}async function R(){if(K||o.length==0)return;K=!0;var E=o.shift(),q=iY.Sr(E),Z=iY.aqE(q,"vide"),v=Z.tkhd,W=Z.mdia.minf.stbl,D=W.stsd.a8l.avcC,I=v.duration/q.moov.mvhd.qs,A=W.stsz.length,U=Math.round(A/I),w=Math.max(1,Math.round(U/O)),t=W.stsd.O2,b=0;
console.log(t);if(["hvc1","hev1","apcn"].indexOf(t)!=-1)alert(t.toUpperCase()+" codec not supported");
z=Date.now();u=v.Oc;X=v.s_;$=[];n=document.createElement("canvas");x=n.getContext("2d");n.width=u;n.height=X;
var L=new Uint8Array(E),J=[];if(W.stsd.O2=="raw "){for(var F=0;F<A;F++){var B=u*X;if(b%w==0){var k=iY.aj8(q,"vide",F),i=new Uint8Array(E,k[0],k[1]),H=a.R(u*X*4);
H.fill(255);for(var Y=0;Y<B;Y++){var m=Y*4,j=Y*3;H[m]=i[j];H[m+1]=i[j+1];H[m+2]=i[j+2]}var Q=$.length;
$[Q]={Xv:"_a_"+Q+","+Math.round(w*1e3/U),yS:new ez(0,0,u,X),data:H}}b++}V();return}var G=new VideoDecoder({output:function(M){if(b%w==0){x.drawImage(M,0,0);
M.close();var H=x.getImageData(0,0,u,X).data.buffer,Q=$.length;$[Q]={Xv:"_a_"+Q+","+Math.round(w*1e3/U),yS:new ez(0,0,u,X),data:H}}else M.close();
clearTimeout(N);N=setTimeout(V,100);b++},error:function(M){console.log(M.message)}}),g={codec:"vp09.00.10.08",codedWidth:u,codedHeight:X};
if(D){g.codec="avc1.640034";g.description=L.slice(D.p,D.p+D.aE)}G.configure(g);for(var Y=0;Y<A;Y++){var k=iY.aj8(q,"vide",Y),i=new Uint8Array(E,k[0],k[1]),P=new EncodedVideoChunk({timestamp:Y,duration:1e3,type:Y==0?"key":"delta",data:i});
G.decode(P)}await G.flush()}function V(){c(null,$,o.shift());K=!1;console.log(Date.now()-z);R()}function d(E){O=Math.max(1,Math.min(60,E));
if(window.VideoDecoder)R();else e()}function e(){if(K||o.length==0)return;K=!0;n=document.createElement("canvas");
x=n.getContext("2d");l=document.createElement("video");var E="data:"+"video/mp4"+";base64,"+c5.c1(o.shift());
l.src=E;l.muted=!0;l.currentTime=0;l.addEventListener("canplay",p,!1);l.addEventListener("timeupdate",h,!1)}function p(E){l.removeEventListener("canplay",p);
u=n.width=l.videoWidth;X=n.height=l.videoHeight;$=[];l.play()}function h(E){clearTimeout(N);x.drawImage(l,0,0);
$.push({Xv:"_a_"+$.length+","+Math.round(1e3/O),yS:new ez(0,0,u,X),data:x.getImageData(0,0,u,X).data.buffer});
var q=l.currentTime+1/O;if(q<l.duration&&E){l.currentTime=q;N=setTimeout(h,1e3)}else{c(null,$,o.shift());
l.removeEventListener("timeupdate",h);K=!1;e();$=null}}return{zi:!1,pk:!0,gP:f}}();c5.w6.nC=function(){var c,o,K,u,X,$,O=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],n=40,x,l,N,f,z,R;
function V(t,L){if(!X&&L){if(L.description){X=L.description}if(L.decoderConfig&&L.decoderConfig.description){X=L.decoderConfig.description}}var J=new ArrayBuffer(t.byteLength);
t.copyTo(J);d(J);K.push({duration:t.duration,timestamp:t.timestamp,type:t.type,byteLength:t.byteLength});
if(t.type=="key"){u.push(K.length)}}function d(t){var L=new Uint8Array($.byteLength+t.byteLength);L.set(new Uint8Array($));
L.set(new Uint8Array(t),$.byteLength);$=L.buffer}function e(t){return new Uint8Array([t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]).buffer}function p(t){var L=new Uint32Array([t]),J=new Uint8Array(L.buffer);
return new Uint8Array([J[3],J[2],J[1],J[0]])}function h(t){z[f]=t;++f}function E(t){z[f]=t>>8&255;z[f+1]=t&255;
f+=2}function q(t){z[f]=t>>16&255;z[f+1]=t>>8&255;z[f+2]=t&255;f+=3}function Z(t){z[f]=t>>24&255;z[f+1]=t>>16&255;
z[f+2]=t>>8&255;z[f+3]=t&255;f+=4}function v(t){N.push(f);f+=4;W(t)}function W(t){for(var Y=0;Y<t.length;
++Y){z[f]=t.charCodeAt(Y);++f}}function D(t){z.set(new Uint8Array(t),f);f+=t.byteLength}function I(){var t=f;
f=N.pop();Z(t-f);f=t}function A(){N=[];var t=[],L={},J=9e4,b=K.length,F=u.length,B=-1;for(var Y=0;Y<K.length;
++Y){x+=K[Y].duration/1e3;l+=K[Y].byteLength;if(K[Y].duration!=B){if(Y!=0){t.push(L)}B=K[Y].duration;
L={duration:9e4*K[Y].duration/1e6,sampleCount:1}}else{L.sampleCount=L.sampleCount+1}}l+=8;t.push(L);
var k=t.length,i=579+X.byteLength+4*b+4*b+4*F+8*k;z=new Uint8Array(i);f=0;v("moov");v("mvhd");Z(0);Z(0);
Z(0);Z(1e3);Z(x);Z(65536);E(256);E(0);Z(0);Z(0);Z(65536);Z(0);Z(0);Z(0);Z(65536);Z(0);Z(0);Z(0);Z(1073741824);
Z(0);Z(0);Z(0);Z(0);Z(0);Z(0);Z(2);I();v("trak");v("tkhd");Z(7);Z(0);Z(0);Z(1);Z(0);Z(x);Z(0);Z(0);E(0);
E(0);E(256);E(0);Z(65536);Z(0);Z(0);Z(0);Z(65536);Z(0);Z(0);Z(0);Z(1073741824);Z(c*65536);Z(o*65536);
I();v("mdia");v("mdhd");Z(0);Z(0);Z(0);Z(J);Z(x/1e3*J);h(85);h(196);E(0);I();v("hdlr");Z(0);Z(0);W("vide");
Z(0);Z(0);Z(0);W("VideoHandler");h(0);I();v("minf");v("vmhd");Z(1);E(0);E(0);E(0);E(0);I();v("dinf");
v("dref");Z(0);Z(1);v("url ");Z(1);I();I();I();v("stbl");v("stsd");Z(0);Z(1);v("avc1");E(0);E(0);E(0);
E(1);E(0);E(0);Z(0);Z(0);Z(0);E(c);E(o);Z(4718592);Z(4718592);Z(0);E(1);for(var Y=0;Y<8;++Y){Z(0)}E(24);
E(-1);v("avcC");D(X);I();I();I();v("stts");Z(0);Z(k);for(var Y=0;Y<k;++Y){Z(t[Y].sampleCount);Z(t[Y].duration)}I();
v("stsc");Z(0);Z(1);Z(1);Z(1);Z(1);I();v("stsz");Z(0);Z(0);Z(b);for(var Y=0;Y<b;++Y){Z(K[Y].byteLength)}I();
v("stco");Z(0);Z(b);var H=n;for(var Y=0;Y<b;++Y){Z(H);H+=K[Y].byteLength}I();v("stss");Z(0);Z(F);for(var Y=0;
Y<F;++Y){Z(u[Y])}I();I();I();I();I();I();return}function U(t,L,J){var b=new Uint8Array(c*o*4),F=new Uint8Array(t),B=L?c-1:c,k=J?o-1:o;
if(L){for(var Y=0;Y<k;++Y){b.set(F.slice(4*Y*B,4*Y*B+4*B),4*Y*c);b[4*(Y+1)*c-4]=F[4*(Y+1)*B-4];b[4*(Y+1)*c-3]=F[4*(Y+1)*B-3];
b[4*(Y+1)*c-2]=F[4*(Y+1)*B-2];b[4*(Y+1)*c-1]=F[4*(Y+1)*B-1]}if(J){b.set(b.slice(4*c*k-4*c,4*c*k),4*c*k)}}else if(J){b.set(F);
b.set(F.slice(4*B*k-4*B),4*B*k)}return b.buffer}async function w(t,L,J,b){var F=Date.now(),B=!1,k=!1,P=0;
if(L%2!=0){B=!0;c=L+1}else{c=L}if(J%2!=0){k=!0;o=J+1}else{o=J}X=null;u=[];K=[];x=0;l=0;$=new Uint8Array;
d(new Uint8Array(O));d(p(0).buffer);d(e("mdat"));var i=new VideoEncoder({output:(chunk,opts)=>V(chunk,opts),error:ar=>{console.log(ar)}}),H=.02*(1+Math.pow(3.2*b[0]/100,2.3)),m=H*c*o,j=m*t.length,Q=Math.round(m*24),G={width:c,height:o,codec:"avc1.420034",bitrate:Q},g=await VideoEncoder.isConfigSupported(G);
console.log(g);if(g.supported==!1){console.log("Encoding not supported. Config: ",g.config);return new Uint8Array(0).buffer}i.configure(G);
for(var Y=0;Y<t.length;++Y){var M=t[Y][1]*1e3,T=t[Y][0];if(k||B){T=U(t[Y][0],B,k)}var C=new VideoFrame(T,{timestamp:P,duration:M,format:"RGBA",codedWidth:c,codedHeight:o});
i.encode(C);C.close();P+=M}await i.flush();A();R=new Uint8Array($.byteLength+z.byteLength);R.set(new Uint8Array($),0);
R.set(p(l),n-8);R.set(z,$.byteLength);var gf=Date.now();console.log(gf-F);return R.buffer}return w}();
c5.yG={};c5.yG.gP=function(c){var o=new Uint8Array(c),K=0,u=112,X=42,$=_.jn,N;K+=8;var O=o[K];K++;if(O!=X)throw"e";
var n=$(o,K);K+=4;var x=_.NW(o,K,n);K+=n*2;var l=[];while(K<o.length){N=$(o,K);K+=4;if(N!=u)throw N;
K+=4;N=o[K];K++;if(N!=X)throw N;var f=$(o,K);K+=4;var z=o[K];K++;if(z!=X){K-=5;f=$(o,K);K+=8;N=o[K];
K++;if(N!=X)throw N}var R=$(o,K)*2;K+=4;if(f>0)l.push(K+R);K+=R+f}var V=new DOMParser,d=V.parseFromString(x,"image/svg+xml").firstChild.firstChild,e=[];
c5.yG.cp(d,o,l,e);return e};c5.yG.cp=function(c,o,K,u){var X=c.firstChild.firstChild;if(X.tagName=="Image"){var $=X.getElementsByTagName("ImageDescription")[0],O=$.children[0].children,n=$.children[1].children,x=K.shift(),l=[];
for(var Y=0;Y<n.length;Y++)l.push(parseInt(n[Y].getAttribute("NumberOfElements")));while(l.length>3)l[2]*=l.pop();
var N=O.length,f=l[0],z=l[1],R=l[2],V=parseInt(n[0].getAttribute("BytesInc"));for(var d=0;d<R;d++){var e=a.R(f*z*4);
a.ms(e,4278190080);for(var p=0;p<N;p++){var h=a.R(f*z);if(V==1)for(var E=0;E<h.length;E++)h[E]=o[x+E];
else if(V==2)for(var E=0;E<h.length;E++)h[E]=Math.min(255,(o[x+E*2+1]<<8|o[x+E*2])>>>2);else throw V;
if(p!=3)a.bp(h,e,p);if(N==1){a.bp(h,e,1);a.bp(h,e,2)}x+=f*z*V}u.push({yS:new ez(0,0,f,z),data:e.buffer})}}else{var q=c.children,Z=0;
while(Z<q.length&&q[Z].tagName!="Children")Z++;if(Z==q.length)throw"e";q=q[Z].children;for(var v=0;v<q.length;
v++)c5.yG.cp(q[v],o,K,u)}};c5.ae9=function(){function c(O,n,x,l,N){var f=new Int8Array(O.buffer),z=new Int8Array(l.buffer),R=n+x;
while(n<R){var cv=f[n];n++;if(cv>=0&&cv<128)for(var Y=0;Y<cv+1;Y++){z[N]=f[n];N++;n++}if(cv>=-127&&cv<0){for(var Y=0;
Y<-cv+1;Y++){z[N]=f[n];N++}n++}}return N}function o(O,n,x,l,N,f){var z=n*x*l>>>3,R=a.R(z*N),V=u(O,0,0,0)[0];
for(var d=0;d<N;d++){var e=V[d+1];if(f){var p=c5.nq("jpg").gP(e.buffer),h=a.R(z);a.yH(new Uint8Array(p[0].data),h);
R.set(h,z*d)}else if(e[0]==255&&e[1]==216&&e[2]==255){var E=UTIF.LosslessJpegDecode(e);R.set(new Uint8Array(E.buffer),z*d)}else c(e,64,e.length,R,z*d)}return R}function K(O){var n=new Uint8Array(O),x=0,l=_.MQ(n,0,128);
x+=128;var N=_.MQ(n,x,4);x+=4;var f=X(n,x,0)[0],z=f.g28;if(z==null){alert("No image.");return[]}var R=z.cols,V=z.rows,d=R*V,e=z.photoInterpret,p=z.bitsAlloc,h=z.bitsStored,E=z.lossyCompr;
if(E==null)E=f.g8.lossyCompr;var q=f.g7fe0.pixelData,Z=z.numOfFrames;Z=Z?parseInt(Z):1;var v=new Uint8Array(q.buffer),W=d*p>>>3;
if(v.length!=W*Z){q=o(q,R,V,p,Z,E)}else{}if(p==16)q=new Uint16Array(q.buffer);console.log(z);console.log(f);
var D=[];for(var I=0;I<Z;I++){var A=I*W,O=a.R(R*V*4);O.fill(255);if(e=="MONOCHROME2"){var U=0,w=255,t=z.largestValue,L=z.smallestValue;
if(t!=null){w=t;U=L}else if(h!=8){w=0;U=1e9;for(var Y=0;Y<d;Y++){var J=q[A+Y];if(J>1<<h-8){if(J>w)w=J;
if(J<U)U=J}}}var b=255/(w-U);for(var Y=0;Y<d;Y++){var J=Math.max(0,Math.min(255,(q[A+Y]-U)*b)),F=Y*4;
O[F]=O[F+1]=O[F+2]=J}}else if(e=="PALETTE COLOR"){var B=z.pltRed,k=z.pltGreen,i=z.pltBlue;for(var Y=0;
Y<d;Y++){var H=q[A+Y],F=Y*4;O[F]=B[H]>>>8;O[F+1]=k[H]>>>8;O[F+2]=i[H]>>>8}}else throw e;D.push({yS:new ez(0,0,R,V),data:O.buffer})}return D}function u(O,n,x,l){if(x==0)x=O.length;
var N=_.Em,f=_.JH,z=_.jn,R=[],V=n;while(n<x){var d=N(O,n);n+=2;var e=N(O,n);n+=2;var p=z(O,n);n+=4;if(d==65534&&e==57344){if(p==4294967295){var h=X(O,n,l+1);
R.push(h[0]);n=h[1]}else{R.push(O.slice(n,n+p));n+=p}}else if(d==65534&&e==57357){}else if(d==65534&&e==57565)break;
else throw"e"}return[R,n]}function X(O,n,x){var l=_.Em,N=_.JH,f=_.jn,z={},R="\t".repeat(x);while(n<O.length){var V=l(O,n),h="",E=0,Z=null;
n+=2;var d=l(O,n);n+=2;var e=V.toString(16),p=d.toString(16);if(V==65532)break;if(V==65534&&d==57357){n-=4;
break}if(V==65534&&d==57565)throw"e";if(d==0){n+=8;continue}if(65<=O[n+1]){h=_.MQ(O,n,2);n+=2;if(h=="OB"||h=="SQ"||h=="OW"){E=f(O,n+2);
n+=6}else{E=l(O,n);n+=2}}else{h=$[e][p].split(",")[1];E=f(O,n);n+=4}console.log(e,p,h,E);var q=$[e][p];
if(q)q=q.split(",")[0];if(q==null){q="t"+p}if(h=="SQ"){var v=u(O,n,n+E,x);Z=v[0];n=v[1];E=0}else if(h=="US")Z=l(O,n);
else if(h=="SS")Z=N(O,n);else if(h=="UL")Z=f(O,n);else if(h=="FL")Z=_.Wk(O,n);else if(h=="AT")Z=[l(O,n),l(O,n+2)];
else if(h=="OB")Z=O.slice(n,n+E);else if(h=="OW")Z=new Uint16Array(O.slice(n,n+E).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(h)!=-1){var W=n+E;
while(O[W-1]==0)W--;Z=_.MQ(O,n,W-n).trim()}else{console.log(R,JSON.stringify(_.MQ(O,n,Math.min(E,32))));
throw h}if(z["g"+e]==null)z["g"+e]={};z["g"+e][q]=Z;n+=E}return[z,n]}var $={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{gP:K}}();c5.q8={};c5.q8.gP=function(c){var o=new Uint8Array(c),K=0,u={},N=1e9;for(var Y=0;Y<306;
Y++){var X=_.MQ(o,K,8).trim(),$=_.MQ(o,K+9,71).split("/")[0].trim();u[X]=$;K+=80;if(X=="END"){K=Math.ceil(K/2880)*2880;
break}}var O=parseInt(u.NAXIS1),n=parseInt(u.NAXIS2),x=O*n,l=parseInt(u.BITPIX),f=-1e9,z=new Float32Array(x),R=new Float32Array(c,K,c.byteLength-K>>>2);
for(var Y=0;Y<x;Y++){var V=Y<<2,d=Y<<1;if(l==-32){var e=o[K+V+0];o[K+V+0]=o[K+V+3];o[K+V+3]=e;var e=o[K+V+1];
o[K+V+1]=o[K+V+2];o[K+V+2]=e;z[Y]=R[Y]}else if(l==16){z[Y]=_.Em(o,K+d)}else throw l;var p=z[Y];if(p<N)N=p;
if(p>f)f=p}var h=a.R(x*4),E=1/f;for(var q=0;q<n;q++)for(var Z=0;Z<O;Z++){var Y=q*O+Z,v=(n-q-1)*O+Z,V=v<<2,p=z[Y]*E;
h[V]=h[V+1]=h[V+2]=255*p;h[V+3]=255}return[{yS:new ez(0,0,O,n),data:h,Xv:u.OBJECT}]};c5.tz={};c5.tz.gP=function(c){var o=new Uint8Array(c),K=16,u=_.MQ(o,K,4),$=32,p=0,h=0,E=!1,B;
K+=4;var X=_.MQ(o,K,8);K+=8;while(o[K+$-1]==0)$--;var O=_.MQ(o,K,$);K+=32;var n=_.MQ(o,K,4);K+=4;K+=20;
var x=_.q(o,K);K+=4;var l=_.q(o,K);K+=4;var N=_.q(o,K);K+=4;var f=_.q(o,K);K+=4;var z=_.q(o,K);K+=4;
var R=_.q(o,K);K+=4;var V="FujiFilm "+O,d=[0,1,1,2];if(V=="FujiFilm X10"){V="FujiFilm FinePix X10";d=[2,1,1,0]}var e={t271:["FujiFilm"],t272:[V],t277:[1],t33421:[2,2],t33422:d,n2:1};
K=N;var q=[],Z=_.SL,v=_.q(o,K);K+=4;for(var Y=0;Y<v;Y++){var W=Z(o,K);K+=2;var D=Z(o,K);K+=2;if(W==256){h=Z(o,K);
p=Z(o,K+2)}else if(W==272){q=[Z(o,K),Z(o,K+2)]}else if(W==273){q.push(Z(o,K),Z(o,K+2))}else if(W==304){E=!(o[K]>>>7)}else if(W==305){var I=Math.round(Math.sqrt(D)),A=[];
for(var U=0;U<D;U++)A.push(o[K+U]);A.reverse();e.t33421=[I,I];e.t33422=A}else if(W==12272){var w=Z(o,K),t=Z(o,K+2),L=Z(o,K+6);
e.t50728=[w/t,1,w/L]}K+=D}var J=p<h,b=o.slice(z,z+R),F=Math.round(R*8/(p*h));if(b[0]==73&&b[1]==73&&b[2]==42){B=UTIF.decode(b.buffer)[0].fujiIFD;
F=B.t61443[0];var k=B.t61454,i=B.t61450;if(i)e.t50714=i;if(k)e.t50728=[k[0]/k[1],1,k[0]/k[2]];var H=B.t61447[0];
b=b.slice(H,H+B.t61448[0])}var R=b.length,m=R*8<p*h*F;if(m){console.log("compressed");var j=e.t33422,Q=~~Math.sqrt(j.length),G=[];
for(var Y=0;Y<Q;Y++)G[Y]=j.slice(Y*Q,Y*Q+Q);b=new Uint8Array(UTIF._decompressRAF(b,G).buffer);R=b.length}function g(gf,s,b3){b3=b3<<8-(s&7);
var d5=s>>>3;gf[d5]|=b3>>>16;gf[d5+1]|=b3>>>8;gf[d5+2]|=b3}var P=R*8/(p*h);if(P==16)for(var Y=0;Y<R;
Y+=2){var M=b[Y];b[Y]=b[Y+1];b[Y+1]=M}else if(P==14){for(var Y=0;Y<R;Y+=4){var M=b[Y];b[Y]=b[Y+3];b[Y+3]=M;
M=b[Y+1];b[Y+1]=b[Y+2];b[Y+2]=M}}else if(P==12)for(var Y=0;Y<R;Y+=3){var T=b[Y+2]<<16|b[Y+1]<<8|b[Y+0];
T=T>>>12|(T&4095)<<12;b[Y]=T>>>16&255;b[Y+1]=T>>>8&255;b[Y+2]=T&255}if(J)b=c5.tz.aAD(b,p,h);var C=J?2:1;
p*=C;e.t256=[p];e.t257=[h];e.t258=[F];e.t50719=[q[1],q[0]*C];e.t50720=[q[3],q[2]*C];e.width=p;e.height=h;
e.data=new Uint8Array(b.buffer);return[e]};c5.tz.aAD=function(c,o,K){c=new Uint16Array(c.buffer);var u=new Uint16Array(o*K*2);
for(var X=0;X<K;X+=2)for(var $=0;$<o;$++){var O=X*o+$,n=O*2,x=c[O],l=c[O+o];u[n+1]=u[n+2*o]=l;if(((X>>>1)+$&1)==0){u[n]=x;
u[n+2*o+1]=c[O+1]}else{u[n]=c[O-1];u[n+2*o+1]=x}}return u};c5.Pd={};c5.Pd.a1S=function(c,o,K){K=K<<8-(o&7);
var u=o>>>3;c[u]|=K>>>16;c[u+1]|=K>>>8;c[u+2]|=K};c5.Pd.gP=function(c){var o=new Uint8Array(c),K=0,u=Date.now(),X=iY.Sr(c),$=X.moov.uuid[0],O=new CR3Parser(c),n=O.getTrack().meta,x=$.CMT1[0],l=x.t256[0]=n.width,N=x.t257[0]=n.height,f=l*N,z=x.exifIFD=$.CMT2[0],R=z.makerNote=$.CMT3[0],V=X.moov.trak[3].mdia.minf.stbl,d=V.co64[0],e=o.slice(d,d+V.stsz[0]),p=0;
while(p<e.length){var h=_.jn(e,p);p+=4;var E=_.Em(e,p);p+=2;var q=e[p]==1;p+=2;p+=4;if(E==8||E==9){var Z=UTIF.decode(e.slice(p+8,p+h-12).buffer)[0];
for(var v in Z)R[v]=Z[v]}p+=h-12}x.t277=[1];x.t33421=[2,2];x.t33422=[0,1,1,2];x.n2=1;if(x.t274)x.n2=x.t274[0];
var W=O.extractCFA(),D=n.bitDepth;if(D!=14)throw"e";x.t258=[D];var I=new Uint8Array(Math.ceil(f*D/8)),A=16-D;
for(var Y=0;Y<f;Y++)c5.Pd.a1S(I,Y*14,W[Y]<<A);x.width=l;x.height=N;x.data=I;return[x]};c5.BL={};c5.BL._V=!0;
c5.BL.nC=function(c,o,K,u){var X=new Uint8Array(c[0][0]),$=o*K,O=[1,3,4][u[0]],n=8+8*u[1],x=u[2];if(O==1){var l=new Uint8Array(o*K);
a.Sw(X,l,0);X=l}if(O==3){var l=new Uint8Array(o*K*3);for(var Y=0;Y<$;Y++){var N=Y*4,f=Y*3;l[f]=X[N];
l[f+1]=X[N+1];l[f+2]=X[N+2]}X=l}if(n==16){var z=X.length,l=new Uint8Array(z*2);for(var Y=0;Y<z;Y++){var R=Math.round(X[Y]*(65535/255));
l[Y*2+x]=R>>>8;l[Y*2+1-x]=R&255}X=l}return X.buffer};c5.jd={};c5.jd.gP=function(c,o){function K(x){return~~(.5+a.rp(Math.max(0,Math.min(1,x)))*255)}var u=EXRLoader.parse(c),X=u.width,$=u.height,O=a.R(X*$*4);
for(var n=0;n<$;n++)for(var x=0;x<X;x++){var Y=(n*X+x)*4,l=(($-n-1)*X+x)*4;O[Y]=K(u.data[l+0]);O[Y+1]=K(u.data[l+1]);
O[Y+2]=K(u.data[l+2]);O[Y+3]=K(u.data[l+3])}return[{yS:new ez(0,0,X,$),data:O.buffer}]};c5.CI={};c5.CI._V=!0;
c5.CI.zi=!0;c5.CI.nC=function(c,o,K,u,X){u=["",100,!1,!1,!1,0,!1];u[7]=["jpg"];var $=new ToDXF;kv.jH(c,u,$,X.ru);
return $.buffer};c5.CI.gP=function(c,o){var K=72,u=new bE(1,0,0,1,0,0);u.scale(K/72,K/72);o.$M=K;var X=new eK(o,u,!1);
FromDXF.Parse(c,X)};c5.kK={};c5.kK.gP=function(){var c=_.Em,o=_.jn,K=_.MQ,u;function X(O,n,x,l,N){var f=o(O,x),z=o(O,x+4),R=o(O,x+8),V=c(O,x+12),d=c(O,x+14);
x+=16;var e={};for(var Y=0;Y<V+d;Y++){var p=o(O,x),h=o(O,x+4),E,q;if(p>>>31==1){p=p&16777215}if(Y<V)E=_.NW(O,n+p+2,c(O,n+p));
else E="id"+p;var Z=l.slice(0);Z.push(E);if(h>>>31==1){h=h&268435455;q=X(O,n,n+h,Z,N)}else{var v=o(O,n+h),W=o(O,n+h+4),D=o(O,n+h+8),I=o(O,n+h+12);
if(I!=0)throw"e";if(v<N[0]||v>N[0]+N[1])throw"e";var A=N[2]+v-N[0];q=O.slice(A,A+W);var U=c5.c5(q.buffer);
if(U&&["bmp","png","ico"].indexOf(U)!=-1){var w=c5.nq(U);if(!w.zi){var t=null;try{t=w.gP(q.buffer)}catch(ar){}if(t){t[0].Xv=Z[1];
u.push(t[0])}}}else if(U)console.log(U)}e[E]=q;x+=8}return e}function $(O){u=[];var n=new Uint8Array(O),x=0,l=c(n,x);
x+=2;x+=58;var N=o(n,x);x+=4;x=N;var f=K(n,x,4);x+=4;var z=c(n,x);x+=2;var R=c(n,x);x+=2;var V=o(n,x);
x+=4;var d=o(n,x);x+=4;var e=o(n,x);x+=4;var p=c(n,x);x+=2;var h=c(n,x);x+=2;x+=p;var E={};for(var Y=0;
Y<R;Y++){var q=x;while(n[q]!=0)q++;var Z=K(n,x,q-x),v=o(n,x+8),W=o(n,x+12),D=o(n,x+16),I=o(n,x+20),A=o(n,x+24),U=o(n,x+28),w=c(n,x+32),t=c(n,x+34),h=o(n,x+36);
E[Z]=[W,v,I,D,h];if(A+U!=0)throw"e";x+=40}for(var L in E){var J=E[L];x=J[2];if(L==".rsrc"){var b=X(n,x,x,[],J),F="id134"}}return u}return $}();
c5.SI={};c5.SI.zi=!0;c5.SI.gP=function(c,o,K){e5.Sr(c,o,K)};c5.SI.nC=function(c,o,K){return e5.jH(c)};
(function(){var c=c5.OT.get("wasm/zstd").buffer;WebAssembly.instantiate(c).then(function(o){var K=o.instance.exports;
c5.SI.aep=K})}());c5.SI.kP=function(c,o){var K=c5.SI.aep,u=c.length,X=K.memory,$=2*u+1e6,x=8;c5.k3(K,$);
var O=new Uint8Array(X.buffer),n=K.malloc(u);O.set(c,n);while(!0){var l=o==null?u*x:o;c5.k3(K,$+l);var N=K.malloc(l),f=K.ZSTD_decompress(N,l,n,u);
if(f==-70){K.free(N);x+=x>>>1;if(o!=null)throw"error"}else{O=new Uint8Array(X.buffer);c=O.slice(N,N+f);
K.free(N);break}}K.free(n);return c};c5.Gl={};c5.Gl.zi=!0;c5.Gl.gP=function(){var c=0,o=1,K=2,u=3,X=4,$=5,O=6,n=7,x=1,l=2,N=7,f=8,z=9,R,V,d,e,p;
function h(){var cv=_.Sz(R,V);V+=4;return cv}function E(){var B=0,k=0;for(var Y=0;Y<5;Y++){var i=R[V++];
B+=(i&127)<<k;k+=7;if((i&128)==0)break}return B}function q(){var B=E(),k=_.AF(R,V,B);V+=B;return k}function Z(){return{typeName:q(),a2I:h()}}function v(){var B=h(),k=q(),i=[],H=h();
for(var Y=0;Y<H;Y++)i.push([q()]);return{id:B,Ek:k,a3_:i}}function W(B){var k=B.a3_,i=[];for(var Y=0;
Y<k.length;Y++)k[Y].push(R[V++]);for(var Y=0;Y<k.length;Y++){var H=k[Y][1],m;k[Y].push(D(H))}}function D(B){var k;
if(B==c)k=R[V++];else if(B==u)k=q();else if(B==X)k=Z();else if(B==o||B==K||B==O||B==$){}else throw B;
return k}function I(B,k,i){var H;if(B==c){if(k==x)H=R[V++]==1;else if(k==l){H=R[V++]}else if(k==f)H=h();
else if(k==z){H=h();h()}else throw k}else if(B==u){H=t(i+1)}else if(B==X){H=t(i+1)}else if(B==$){H=t(i+1)}else if(B==o){H=t(i+1)}else if(B==O){H=t(i+1)}else if(B==K){H=t(i+1)}else throw B;
return H}function A(B,k){var i=d["c"+B],H=i.a3_,m={_class:i.Ek};for(var Y=0;Y<H.length;Y++){var j=H[Y],Q=j[1],G=j[2],g=I(Q,G,k),P=j[0];
m[P]=g}return m}function U(B,k,i,H){var m=[];for(var Y=0;Y<B;Y++){var j=I(k,i,H);if(j.AC&&j.AC=="null_count"){var Q=j.NT;
for(var G=0;G<Q;G++)m.push(null);Y+=Q-1}else m.push(j)}return m}function w(){return[h(),h()]}function t(B){if(B==null)throw"e";
var k=null,i=R[V],H=null;V++;if(i==0){var m=h(),j=h(),Q=h(),G=h();k=[m,j,Q,G]}else if(i==1){H=h();var g=h();
k=A(g,B)}else if(i==4){var P=v();H=P.id;W(P);d["c"+P.id]=P;k=A(P.id,B)}else if(i==5){var P=v();H=P.id;
W(P);var M=h();d["c"+P.id]=P;k=A(P.id,B)}else if(i==6){H=h();var T=q();k=T}else if(i==7){H=h();var C=R[V++];
if(C!=0)throw C;var gf=h();if(gf!=1)throw gf;var s=h(),b3=R[V++],d5=D(b3);k=U(s,b3,d5,B)}else if(i==9){var gh=h();
k={AC:"ref",NT:gh};p["o"+gh]=!0}else if(i==10){k={AC:"null_count",NT:1}}else if(i==11){k={AC:"end"}}else if(i==12){var M=h(),jt=q()}else if(i==13){var fl=R[V++];
k={AC:"null_count",NT:fl}}else if(i==16){var eq=w();H=eq[0];k=U(eq[1],X,null,B)}else if(i==17){var eq=w();
H=eq[0];k=U(eq[1],o,null,B)}else throw"e";if(H!=null&&H>0){if(e["o"+H]!=null)throw"e";e["o"+H]=k}return k}function L(B,e){if(B instanceof Array){for(var Y=0;
Y<B.length;Y++)B[Y]=J(B[Y],e)}else if(B instanceof Object){for(var k in B)B[k]=J(B[k],e)}}function J(B,e){if(B&&B.AC&&B.AC=="ref")return e["o"+B.NT];
else return B}function b(B,k,i){var H=Date.now();R=new Uint8Array(B);V=0;d={};e={};p={};var m=_.MQ(R,0,4);
if(m!="PDN3")throw m;V+=4;var j=_.Em(R,V)+R[V+2]*256*256;V+=3;var Q=_.MQ(R,V,j);V+=j;V+=2;while(!0){var G=t(0);
if(G&&G.AC&&G.AC=="end")break}for(var g in p)if(e[g]==null)throw g;for(var g in e)L(e[g],e);var P=e.o1;
console.log(P);k.m=P.width;k.e=P.height;k.buffer=a.R(k.m*k.e*4);var M=P.layers["ArrayList+_items"];for(var Y=0;
Y<M.length;Y++){var T=M[Y];if(T==null)continue;var C=T["Layer+width"],gf=T["Layer+height"],s=T["Layer+properties"],b3=T.properties,d5=b3.blendOp._class.split("+").pop();
d5=d5.slice(0,d5.length-7);var gh={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[d5],jt=k.uB();
jt.XK(s.name);jt.opacity=s.opacity;jt.OG(s.visible);jt.Mh=gh;if(R[V]!=0)throw"e";V++;var fl=_.q(R,V);
V+=4;var eq=Math.ceil(C*gf*4/fl);jt.rect=new ez(0,0,C,gf);var c7=jt.buffer=a.R(C*gf*4);for(var k8=0;
k8<eq&&V<R.length;k8++){var hs=F();c7.set(hs[1],hs[0]*fl)}for(var cq=0;cq<c7.length;cq+=4){var jn=c7[cq+0];
c7[cq+0]=c7[cq+2];c7[cq+2]=jn}k.s.push(jt)}}function F(){var B=_.q(R,V);V+=4;var k=_.q(R,V);V+=4;V+=10;
k-=10;var i=pako.inflateRaw(R.slice(V,V+k));V+=k;return[B,i]}return b}();c5.o4={};c5.o4.zi=!0;c5.o4.gP=function(c,o){bO.Sr(c,o)};
c5.Cy={};c5.Cy.zi=!0;c5.Cy.gP=function(){var c,o,e=null,D,I;function K(){var F=c[o];o+=1;return F}function u(){var F=_.SL(c,o);
o+=2;return F}function X(){var F=_.q(c,o);o+=4;return F}function $(){var F=_.AU(c,o);o+=4;return F}function O(){var F=_.vd(c,o);
o+=8;return F}function n(){var F=X();if(F>200)throw F;var B=_.a8(c,o,F);o+=F*2;return B}function x(){var F=_.pl(c,o);
o+=8;return F}function l(){var F=_.vh(c,o);o+=4;return F}function N(){var F=X();if(X()!=4)throw"e";var B=[];
for(var Y=0;Y<F;Y++)B.push(X());return B}function f(F,B,k){for(var Y=0;Y<F.length;Y++)if(F[Y][B]==k)return F[Y]}function z(F,B){var k=Date.now();
c=new Uint8Array(F);o=_.EJ(c,"CH"+"NK"+"SQ"+"Li")+8;var i=O(),H=iX.parse(c.buffer.slice(o,o+i)),m=iX.aDg(H,!0);
console.log(m);var j=m.Canvas[0],Q=j.Width,G=j.Height,g=j.Unit,P=B.$M=j.Resolution;if(g==0){}else if(g==1){Q=Math.round(Q*P/2.54);
G=Math.round(G*P/2.54)}else if(g==2){Q=Math.round(Q*P/25.4);G=Math.round(G*P/25.4)}else if(g==3){Q=Math.round(Q*P);
G=Math.round(G*P)}else if(g==5){Q=Math.round(Q*P/72);G=Math.round(G*P/72)}else{console.log(j);throw g}B.m=Q;
B.e=G;B.buffer=a.R(Q*G*4);console.log(Date.now()-k);var M=f(m.Layer,"MainId",j.RootFolder);t(m,c,B,M.FirstChildIndex,0);
console.log(Date.now()-k)}function R(){var F=_.Em(c,o);o+=2;return F}function V(){var F=_.jn(c,o);o+=4;
return F}function d(){var F=_.Sz(c,o);o+=4;return F}function p(F){var B={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},i=0;
c=F;o=0;var k={};while(o<c.length){var H=V(),m=V(),j=o+m;if(m==0)continue;var Q=[];if(H==11){var G=V();
for(var g=0;g<G;g++){var P=[V(),V()];Q.push(P);i+=P[1];var M=o+V()-4;P.push(R(),R(),R(),R());P.push(_.zw(c,o));
o+=8;var T=R();P.push(_.NW(c,o,T));o+=T*2;if(o!=M)throw"e"}}else if(H==31){Q=_.AF(c,o,m);o+=m}else if(H==34)for(var Y=0;
Y<3;Y++)Q.push(V()>>>16);else if(H==42)for(var Y=0;Y<4;Y++)Q.push(d());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(H)!=-1){if(m!=4)throw"e";
Q=V();if([37,45,46,51,53,55,61,62].indexOf(H)!=-1){if(Q!=0&&Q!=1)throw H+":"+Q;o=j;continue}}else if(H==47){var C=R();
if(V()!=50)throw"e";if(V()!=0)throw"e";var gf=R();Q=_.MQ(c,o,gf);o+=gf}else if(H==57){var G=R();for(var Y=0;
Y<G;Y++){var s=R(),b3=_.MQ(c,o,s);o+=s;var d5=R(),gh=_.MQ(c,o,d5);o+=d5;Q.push([b3,gh])}var jt=V();for(var Y=0;
Y<G;Y++)Q[Y].push(jt)}else if(H==39||H==63)Q.push(V(),V());else if(H==64){for(var Y=0;Y<8;Y++)Q.push(_.Sz(c,o+Y*4)/100);
o+=32}else{Q=c.slice(o,j);o+=m}var fl=B[H];if(fl==null)fl="t"+H;if(k[fl])throw"e";k[fl]=Q;if(o!=j)throw H}if(e){}e=k;
return k}function h(F){c=F;o=0;var B=X();if(B!=F.length)throw"e";var k=X(),i=n(),H=X(),m=x(),j=[X()/4294967295,X()/4294967295,X()/4294967295];
return[H,m,j]}function E(F,B){function k(){var cr=[];for(var Y=0;Y<4;Y++)cr.push(_.AU(c,o+Y*4));o+=16;
return cr}function i(cv){var cr=[];for(var Y=0;Y<cv;Y++)cr.push(l());return cr}function H(cr){var a8="";
for(var Y=o;Y<cr;Y+=4)a8+=c.slice(Y,Y+4).join(", ")+"\n";return a8}c=F;o=B+8;var m=O(),j=o+m;o+=56;if(o==j)return;
var Q=[],G=[],g=[],P=[],M=[];while(o<j){var T=X(),eq=1;if(T!=88&&T!=96)throw T;var T=X();if(T!=72)throw"e";
var C=X();if(C!=88&&C!=104&&C!=120)throw C;var T=X();if(T!=88)throw"e";var gf=X(),s=X(),b3=k(),d5=[];
g.push(d5);for(var Y=0;Y<6;Y++){d5.push(Z(X()))}var gh=x(),jt=X();if(jt==16||jt==1040||jt==304){X();
jt=X()}var fl=x();P.push(fl);var c7=X(),k8=(s&256)!=0,hs=[],cq=[],jn={88:1,104:2,120:3}[C];for(var Y=0;
Y<gf;Y++){var an=Y==0?1:jn;for(var hk=0;hk<an;hk++)hs.push(x(),x());cq.push(an==1?Y==0?"M":"L":an==2?"Q":"C");
var ds=k(),gT=X();eq=l();var gP=i(10),ky=X(),ay=X()}M.push(eq);if(C==104){var bb=x(),ap=x();if(k8){cq.push("Q");
hs.push(bb,ap,hs[0],hs[1])}}if(C==120){var bb=x(),ap=x(),cR=x(),c8=x();if(k8){cq.push("C");hs.push(bb,ap,cR,c8,hs[0],hs[1])}}if(s&128){var gr=["M"],fF=[hs[0],hs[1]],cj=hs.length>>>1,br=a.A.a7A(hs);
for(var Y=0;Y<cj;Y++){var hX=hs[2*Y],gG=hs[2*Y+1],jx=.7;for(var hk=0;hk<2;hk++){br[Y*4+hk*2]=jx*br[Y*4+hk*2]+(1-jx)*hX;
br[Y*4+hk*2+1]=jx*br[Y*4+hk*2+1]+(1-jx)*gG}}for(var Y=1;Y<cj;Y++){gr.push("C");fF.push(br[Y*4-2],br[Y*4-1],br[Y*4],br[Y*4+1],hs[Y*2],hs[Y*2+1])}if(k8){gr.push("C");
fF.push(br[cj*4-2],br[cj*4-1],br[0],br[1],hs[0],hs[1])}hs=fF;cq=gr}if(k8)cq.push("Z");G=G.concat(hs);
Q=Q.concat(cq)}if(o!=j)throw"e";return[{j:G,G:Q},g,P,M]}function q(F,B){c=F;o=B+8;var k=O(),i=o+k,H=0;
o+=56;var m=[];while(o<i){var j=X(),Q=o+j-4;if(Q>i)throw"e";if(j==11){o-=4;var G=n(),g=X();if(g!=12)throw"e";
var P=N(),M=n(),g=X();if(g!=12)throw"e";var T=N();if(o!=i)throw"e"}else{var C=n(),gf=X();if(gf!=H)throw gf;
H++;var s=u();if(s!=0&&s!=1&&s!=2&&s!=5)throw s;var b3=K();if(b3!=0&&b3!=32&&b3!=64)throw b3;if(X()!=1)throw"e";
if(X()!=1)throw"e";if(K()!=0)throw"e";if(X()==1){var d5=X(),gh=_.jn(c,o);if(d5!=gh+4)throw"e";m.push(new Uint8Array(c.buffer,o+4,gh));
o+=d5}else m.push(new Uint8Array(0));var jt=n();if(o!=Q)throw o}}return m}function Z(F){return Math.min(255,Math.round(F/16777216))}function v(F){c=F;
o=0;var B=X();if(B!=16)throw B;var k=X();if(k!=102)throw k;var i=X();if(i!=42&&i!=58)throw i;var H=X();
if(F.length-H!=118+i)throw F.length-H;var m=n();if(m!="Parameter")throw m;var j=X(),Q=X(),G=X(),g=X(),P=[];
for(var Y=0;Y<16;Y++)P.push(X());var m=n();if(m!="InitColor")throw m;if(X()!=20)throw"e";var M=X(),T=X(),C=X();
if(X()!=4)throw"e";if(i==58){var gf=[];P.push(gf);for(var Y=0;Y<4;Y++)gf.push(Z(X()))}var m=n();if(m!="BlockSize")throw m;
var s=X();if(s!=12)throw s;var b3=N();if(o!=c.length)throw"e";return[j,Q,G,g,M*255,P]}function W(F,B){var k=_.MQ(B,0,40),i=f(F["ExternalC"+"hunk"],"Exte"+"rnalID",k);
if(i==null){console.log("chnk not found",k)}return i?i.Offset:-1}function A(F,B,k,i){if(D==null){D=a.R(256*256*4);
I=a.R(256*256)}var H=F.Mipmap,m=F.MipmapInfo,j=F.Offscreen,Q=f(H,"MainId",k),G=f(m,"MainId",Q.BaseMipmapInfo),g=f(j,"MainId",G.Offscreen),P=W(F,g.BlockData),z=null;
if(P==-1)return null;var M=q(B,P),T=v(g.Attribute),C=T[0],gf=T[1],s=T[2],b3=T[3],d5=T[4],gh=T[5],jt=gh[16],fl=gh[1],eq=gh[2],c7=fl+eq;
if(eq!=gh[5])throw"e";if(fl!=gh[7])throw"e";var k8=a.R(256*(gh[6]+gh[8])),hs=new ez;if(jt)hs=new ez(0,0,C,gf);
else{for(var cq=0;cq<b3;cq++)for(var jn=0;jn<s;jn++){var an=M[cq*s+jn];if(an.length==0)continue;hs=hs.X3(new ez(jn<<8,cq<<8,256,256))}}var hk=hs.ar(new ez(0,0,C,gf)),ds=a.R(hk.P()*(c7==1?1:4));
if(jt)new Uint32Array(ds.buffer).fill(255<<24|jt[0]<<16|jt[1]<<8|jt[2]);if(c7==1)ds.fill(d5);for(var cq=0;
cq<b3;cq++)for(var jn=0;jn<s;jn++){var an=M[cq*s+jn];if(an.length==0)continue;var gT=new Uint8Array(an.buffer,an.byteOffset+2,an.length-6),gP=new ez(jn<<8,cq<<8,256,256);
UZIP.inflateRaw(gT,k8);if(c7==1){if(gh[8]==32){U(k8,0,I);a.qv(I,gP,ds,hk)}else a.qv(k8,gP,ds,hk)}else if(c7==2){if(gh[8]==32){new Uint32Array(D.buffer).fill(4278190335);
U(k8,0,I);a.bp(I,D,3);U(k8,256*32,I);a.oe(I,D)}else for(var Y=0;Y<262144;Y+=4){var jt=k8[65536+(Y>>>2)];
D[Y]=jt;D[Y+1]=jt;D[Y+2]=jt;D[Y+3]=k8[Y>>>2]}a.Ui(D,gP,ds,hk)}else if(c7==5){for(var Y=0;Y<262144;Y+=4){D[Y]=k8[65536+Y+2];
D[Y+1]=k8[65536+Y+1];D[Y+2]=k8[65536+Y+0];D[Y+3]=k8[Y>>>2]}a.Ui(D,gP,ds,hk)}else throw c7}if(i&&c7==1){var ky=a.R(C*gf*4);
a.bp(ds,ky,3);ds=ky}return[hk,ds,d5]}function U(F,o,B){for(var Y=0;Y<B.length;Y++){B[Y]=(F[o+(Y>>>3)]>>>7-(Y&7)&1)*255}}var w=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function t(F,B,k,i,H){var m=F.Layer,j=F.Canvas[0];while(i!=0){var Q=f(m,"MainId",i),G=Q.Type,s=!1;console.log(Q);
var g=k.uB();g.XK(Q.Name);g.opacity=Math.min(255,Q.Opacity);g.OG((Q.Visibility&1)!=0);g.Mh=w[Q.Composite];
if(g.Mh==null){alert("Unknown blend mode "+Q.Composite);g.Mh="norm"}g.xQ=Q.Clip==1;k.s.push(g);var P=Q.LayerMaskMipmap;
if(P!=0){var M=A(F,B,P,!1);if(M){g.F=new gU.bQ;g.F.rect=M[0];g.F.channel=M[1];g.F.color=M[2];L(g.F.rect,Q,"Mask","Mask");
g.F.kj()}}var T=[];for(var Y=0;Y<3;Y++)T.push(Z(Q["DrawColorMain"+["Red","Green","Blue"][Y]]));var C={t:"Objc",v:a.T.mv({Z:T[0],r:T[1],J:T[2]})},gf=JSON.parse(gH.default);
for(var Y=0;Y<gH.order.length;Y++)gf[gH.N4[Y]]={t:"VlLs",v:[]};if(Q.DrawColorEnable==1&&G!=1584){s=!0;
var b3=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);b3.Clr=C;gf.solidFillMulti.v.push({t:"Objc",v:b3})}if(Q.EffectInfo){var d5=h(Q.EffectInfo),T=d5[2];
if(d5[0]==1){s=!0;var b3=JSON.parse(gH.R$[gH.order.indexOf("FrFX")]);b3.Clr.v=a.T.mv({Z:T[0]*255,r:T[1]*255,J:T[2]*255});
b3.Sz.v.val=Math.round(d5[1]);gf.frameFXMulti.v.push({t:"Objc",v:b3})}}if(Q.FilterLayerInfo){c=Q.FilterLayerInfo;
o=0;var gh=X(),jt=X();if(jt!=c.length-o)throw"e";var fl={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[gh];
if(fl!=null){var eq=gZ.ib(fl);g.add[fl]=eq?eq:{};if(fl=="brit")gZ.Hn["g"+fl](eq,[$(),$(),!0]);if(fl=="hue2")ij.No(eq,0,[$(),$(),$()]);
if(fl=="curv"){var c7=[],k8=o;for(var Y=0;Y<32;Y++){o=k8+Y*130;var hs=u(),cq=[];c7.push(cq);for(var jn=0;
jn<hs;jn++)cq.push(u()/65535,u()/65535)}for(var Y=0;Y<4;Y++){var cq=c7[Y],an=i8.Jz(eq,Y),hk=an[0];for(var jn=0;
jn<cq.length;jn+=2){var ds=an[jn>>>1]=JSON.parse(JSON.stringify(hk));ds.v.Hrzn.v=Math.round(cq[jn]*255);
ds.v.Vrtc.v=Math.round(cq[jn+1]*255)}i8.No(eq,Y,an)}}if(fl=="grdm"){var gT=eq.Grad.v,gP=[],ky=X();if(ky!=jt-4)throw ky;
var ay=X();if(ay!=16)throw ay;var bb=X();if(bb!=28)throw bb;var ap=X();for(var Y=0;Y<ap;Y++){var cR=0,c8=[];
for(var jn=0;jn<7;jn++)c8.push(X());gP.push([c8[6]/32768,[c8[1]/4294967295,c8[2]/4294967295,c8[3]/4294967295],c8[4]/4294967295])}a.T.Fa(gP,gT)}if(fl=="blnc"){eq.PrsL.v=X()==1;
for(var Y=0;Y<3;Y++){var fF=eq[["ShdL","MdtL","HghL"][Y]].v;for(var jn=0;jn<3;jn++)fF[jn].v=$()}}}else console.log("Unknown adjustment",gh,jt,g.getName())}if(G==1584){g.Ha|=16;
g.add.SoCo={classID:"null",Clr:C};g.Dm(k)}else if(G==800){k.s.pop()}else if(Q.Folder!=0){g.add.lsct=(Q.Folder&16)!=0?aj.Qw:aj.cD;
g.Mh="pass";k.s.pop();k.s.push(k.FL());t(F,B,k,Q.FirstChildIndex,H+1);k.s.push(g)}else if(G==0||G==1||G==2||G==3){var M=A(F,B,Q.RenderMipmap,!0);
if(M){g.rect=M[0];g.buffer=M[1];L(g.rect,Q,"Render","");g.kj()}if(Q.TextLayerType!=null){var br="TextLayerString",gG="TextLayerAttributes",jx=[Q[br]],cr=[Q[gG]];
if(Q[br+"Array"]){c=Q[br+"Array"];o=0;while(o<c.length){var jt=V();jx.push(c.slice(o,o+jt));o+=jt}c=Q[gG+"Array"];
o=0;while(o<c.length){var jt=V();cr.push(c.slice(o,o+jt));o+=jt}}var a8=g;k.s.pop();for(var f8=0;f8<jx.length;
f8++){var g=a8.clone();k.s.push(g);var dW=p(cr[f8]),g7=dW.runs,eU=dW.fnts,f7=dW.bplg,d7=dW.bbox,aW=d7[2]-d7[0],cy=d7[3]-d7[1],dh=f7[2]-f7[0],fh=f7[3]-f7[1],dP=new bE;
dP.translate(-aW/2,-cy/2);dP.rotate(Math.atan2(-fh,dh));dP.translate(aW/2,cy/2);var fg=d7[0]+Q.OffsetX,bo=d7[1]+Q.OffsetY;
dP.translate(fg,bo);g.add.lnsr="rend";g.add.TySh=ii.eS(0,0);g.add.TySh.FD=new ez(0,0,500,500);g.add.TySh.i=dP;
var jK=g.add.TySh.Bz,jQ=_.AF(jx[f8]);g.XK(jQ);ii.FO(jK,0,jQ);ii.lG(jK,1);ii.lf(jK,[0,0,aW,cy]);for(var Y=0;
Y<g7.length;Y++){var aZ=g7[Y],eo=aZ[0],dC=eo+aZ[1],hG=aZ[2],dy=ii.Ij(jK,eo,dC),fw=k.$M/72*dW.size/100;
if((hG&512)!=0)fw*=aZ[6]/100;dy.W$.FontSize=Math.round(fw);var C=(hG&256)!=0?aZ.slice(3):dW.colr;dy.W$.FillColor={Type:1,Values:[1,C[0]/65535,C[1]/65535,C[2]/65535]};
var dM=aZ[7]==""?dW.font:aZ[7];if(eU){if(eU[Y])dM=eU[Y][1];else for(var jn=0;jn<eU.length;jn++)if(eU[jn][0]==dM)dM=eU[jn][1]}ii.CQ(dy,dM);
ii.r2(jK,eo,dC,dy)}if(g.rect.P()==0)k._K=!0;else{g.rect=new ez(fg,bo,aW,cy);g.buffer=a.R(g.rect.P()*4);
a.Ui(a8.buffer,a8.rect,g.buffer,g.rect)}}}}var aX=F.VectorObjectList;if(Q.VectorNormalType!=null&&aX&&f(aX,"LayerId",i)){var fy=f(aX,"LayerId",i).VectorData,gp=W(F,fy),aU=E(B,gp);
if(aU){var e7=null;if(g.add.TySh){var e7=g.clone();k.s.push(e7);delete g.add.TySh}J(g,Q,aU[0]);if(g.rD()){g.Ha|=24;
var eV=k.uB();eV.XK(g.getName());eV.opacity=g.opacity;k.s.push(eV);J(eV,Q,aU[0]);b(eV,aU);eV.Dm(k)}else{b(g,aU,e7!=null)}g.Dm(k);
if(e7){e7.add.TySh.i.concat(new bE(1,0,0,1,g.rect.x+g.rect.m/2,g.rect.y+g.rect.e/2))}}}if(s)g.add.lmfx=gf;
if(i==j.CurrentLayer)k.g=[k.s.indexOf(g)];i=Q.NextIndex}}function L(F,B,k,i){F.x+=B[k+"OffscrOffsetX"]+B[i+"OffsetX"];
F.y+=B[k+"OffscrOffsetY"]+B[i+"OffsetY"]}function J(F,B,k){F.add.vmsk=new gU.JA;a.A.i(k.j,new bE(1,0,0,1,B.OffsetX,B.OffsetY),k.j);
F.add.vmsk.$=a.A.lR(k);F.$h()}function b(F,B,k){var i=B[1][0],H=B[2][0];F.Ha|=16;var m=F.add.vstk=gH.e_.ib(!0,!0);
m.fillEnabled.v=k==!0;F.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:255,r:255,J:255})}};m.strokeStyleContent.v.Clr.v=a.T.mv({Z:i[0],r:i[1],J:i[2]});
m.strokeStyleLineWidth.v.val=H*2;m.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return z}();
var jT={};jT.lW=!1;jT.qC=!1;jT.BW=!1;jT.xS=document.createElement("canvas");jT.i0=null;jT.IK=null;jT.Kl=0;
(function(){var c={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},o;if(!o)o=jT.xS.getContext("webgl",c);
if(!o)o=jT.xS.getContext("experimental-webgl",c);if(o){jT.lW=!0;jT.qC=!0;jT.i0=o;jT.IK=o.createFramebuffer();
o.bindFramebuffer(o.FRAMEBUFFER,jT.IK);o.disable(o.BLEND);o.disable(o.DEPTH_TEST);var K=o.createBuffer();
o.bindBuffer(o.ARRAY_BUFFER,K);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);
o.enableVertexAttribArray(0);o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0)}}());jT.axw=function(c){c=c.replace(/\s\s+/g," ");
c=c.replace(/; /g,";");c=c.replace(/} /g,"}");c=c.replace(/ }/g,"}");c=c.replace(/{ /g,"{");c=c.replace(/ {/g,"{");
c=c.replace(/= /g,"=");c=c.replace(/ =/g,"=");c=c.replace(/\| /g,"|");c=c.replace(/ \|/g,"|");return c};
jT.ke=function(c){var o=jT.i0;if(c>o.getParameter(o.MAX_TEXTURE_SIZE)){jT.lW=!1;alert("Disabling WebGL")}};
jT.o1=function(c,o){return new Float32Array([(c.x-o.x)/o.m,(c.y-o.y)/o.e,c.m/o.m,c.e/o.e])};jT.kW=function(){return this.xS};
jT.Gf=function(c,o){var K=jT.i0;K.bindFramebuffer(K.FRAMEBUFFER,jT.IK);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,c.hO,0);
K.viewport(0,0,c.m,c.e);if(o){K.enable(K.SCISSOR_TEST);K.scissor(o.x,o.y,o.m,o.e)}else K.disable(K.SCISSOR_TEST)};
jT.o0=function(c,o,K){if(K)throw"error";var u=jT.i0;u.disable(u.SCISSOR_TEST);u.bindFramebuffer(u.FRAMEBUFFER,null);
u.viewport(0,0,c,o);if(K){u.enable(u.SCISSOR_TEST);u.scissor(K.x,K.y,Math.round(K.m),Math.round(K.e))}else u.disable(u.SCISSOR_TEST)};
jT.clear=function(){var c=jT.i0;c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT)};jT.En=function(c,o){if(o==null)o=0;
var K=(o>>>0&255)==0,u=(o>>>8&255)==0,X=(o>>>16&255)==0,$=(o>>>24&255)==0,O=(c>>>0&255)*(1/255),n=(c>>>8&255)*(1/255),x=(c>>>16&255)*(1/255),l=(c>>>24&255)*(1/255),N=jT.i0;
N.colorMask(K,u,X,$);N.clearColor(O,n,x,l);N.clear(N.COLOR_BUFFER_BIT);N.colorMask(!0,!0,!0,!0)};jT.WC=function(c,o,K,u,X){var $=o.ar(u);
if(X)$=$.ar(X);if($.SR())return;var O=jT.i0;jT.Gf(c);O.bindTexture(O.TEXTURE_2D,K.hO);O.copyTexSubImage2D(O.TEXTURE_2D,0,$.x-u.x,$.y-u.y,$.x-o.x,$.y-o.y,$.m,$.e)};
jT.xZ=function(Y,c,o){var K=jT.mp[Y];if(K==null||K.m!=c||K.e!=o){if(K)K.delete();K=new jT.Ko(c,o)}jT.mp[Y]=K;
return K};jT.mp=[];jT.IM=function(){this.Rm=null;this.ge=null};jT.IM.D0=null;jT.IM.prototype.MA=function(c){if(this.ge)return;
this.ge={};var o=jT.i0,K=this.Rm,u=this.ge;for(var Y=0;Y<c.length;Y++){var X=c[Y];u[X]=o.getUniformLocation(K,X)}};
jT.IM.prototype.A4=function(){};jT.IM.prototype.VT=function(c){var o=jT.i0;for(var Y=0;Y<c.length;Y+=2){o.uniform1i(c[Y],Y>>>1);
o.activeTexture(o["TEXTURE"+(Y>>>1)]);o.bindTexture(o.TEXTURE_2D,c[Y+1])}o.activeTexture(o.TEXTURE0)};
jT.IM.prototype.HP=function(c,o){var K=jT.i0,u=K.createShader(K.FRAGMENT_SHADER);K.shaderSource(u,c);
K.compileShader(u);if(!K.getShaderParameter(u,K.COMPILE_STATUS))console.log(K.getShaderInfoLog(u));var X=K.createShader(K.VERTEX_SHADER);
K.shaderSource(X,o);K.compileShader(X);if(!K.getShaderParameter(X,K.COMPILE_STATUS))console.log(K.getShaderInfoLog(X));
var $=K.createProgram();K.attachShader($,X);K.attachShader($,u);K.linkProgram($);if(!K.getProgramParameter($,K.LINK_STATUS))console.log("Could not initialise shaders");
this.Rm=$};jT.IM.prototype.mM=function(){if(jT.IM.D0!=this){jT.i0.useProgram(this.Rm);jT.IM.D0=this}};
jT.N0=function(c,o){jT.hc++;jT.Kl+=c*o;if(jT.BW)console.log("GL.Channels instances: "+jT.hc+", memory: "+jT.Kl);
var K=jT.i0;this.m=c;this.e=o;this.hO=K.createTexture();this.XW=null;this.kF(this.hO,c,o)};jT.N0.prototype.kF=function(c,o,K){var u=jT.i0;
u.bindTexture(u.TEXTURE_2D,c);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST);
u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);
u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,o,K,0,u.ALPHA,u.UNSIGNED_BYTE,null)};jT.N0.prototype.set=function(c,o){var K=jT.i0;
K.bindTexture(K.TEXTURE_2D,this.hO);K.pixelStorei(K.UNPACK_ALIGNMENT,1);var u=this.m*this.e;if(o==null||o.P()*10>u)K.texImage2D(K.TEXTURE_2D,0,K.ALPHA,this.m,this.e,0,K.ALPHA,K.UNSIGNED_BYTE,c);
else{var X=new ez(0,0,this.m,this.e),$=a.R(o.P());a.qv(c,X,$,o);K.texSubImage2D(K.TEXTURE_2D,0,o.x,o.y,o.m,o.e,K.ALPHA,K.UNSIGNED_BYTE,$)}K.pixelStorei(K.UNPACK_ALIGNMENT,4)};
jT.N0.prototype.delete=function(){var c=jT.i0;if(this.hO){c.deleteTexture(this.hO);jT.hc--;jT.Kl-=this.m*this.e}if(jT.BW)if(jT.BW)console.log("GL.Channels instances: "+jT.hc+", memory: "+jT.Kl*4)};
jT.hc=0;jT.Ko=function(c,o,K){if(K==null)K=!1;jT.hc++;jT.Kl+=c*o*4;if(jT.BW)console.log("GL.Channels instances: "+jT.hc+", memory: "+jT.Kl);
var u=jT.i0;this.a2A=K;this.m=c;this.e=o;this.hO=u.createTexture();this.XW=null;this.kF(this.hO,c,o)};
jT.Ko.prototype.set=function(c,o){var K=jT.i0;K.disable(K.SCISSOR_TEST);K.bindTexture(K.TEXTURE_2D,this.hO);
if(c==null||c instanceof Uint8Array){var u=this.m*this.e;if((o==null||o.P()*10>u)&&(c==null||c.length>=u*4))K.texImage2D(K.TEXTURE_2D,0,K.RGBA,this.m,this.e,0,K.RGBA,K.UNSIGNED_BYTE,c);
else{var X=c;if(c.length==u*4){var X=a.R(o.P()*4);a.Ui(c,new ez(0,0,this.m,this.e),X,o)}K.texSubImage2D(K.TEXTURE_2D,0,o.x,o.y,o.m,o.e,K.RGBA,K.UNSIGNED_BYTE,X)}}else K.texImage2D(K.TEXTURE_2D,0,K.RGBA,K.RGBA,K.UNSIGNED_BYTE,c)};
jT.Ko.prototype.get=function(c){var o=jT.i0;jT.Gf(this);o.readPixels(0,0,this.m,this.e,o.RGBA,o.UNSIGNED_BYTE,c)};
jT.Ko.prototype.wC=function(c){if(c.SR())return;var o=jT.i0;if(this.XW==null){this.XW=o.createTexture();
this.kF(this.XW,this.m,this.e);jT.hc++;jT.Kl+=this.m*this.e*4}o.bindFramebuffer(o.FRAMEBUFFER,jT.IK);
o.bindTexture(o.TEXTURE_2D,this.XW);if(c){var K=Math.max(c.x,0),u=Math.max(c.y,0);o.copyTexSubImage2D(o.TEXTURE_2D,0,K,u,K,u,c.m,c.e)}else o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,this.m,this.e,0)};
jT.Ko.prototype.kF=function(c,o,K){var u=jT.i0;u.bindTexture(u.TEXTURE_2D,c);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.a2A?u.LINEAR:u.NEAREST);
u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE);
u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);u.texImage2D(u.TEXTURE_2D,0,u.RGBA,o,K,0,u.RGBA,u.UNSIGNED_BYTE,null)};
jT.Ko.prototype.delete=function(){var c=jT.i0;if(this.hO){c.deleteTexture(this.hO);jT.hc--;jT.Kl-=this.m*this.e*4}if(this.XW){c.deleteTexture(this.XW);
jT.hc--;jT.Kl-=this.m*this.e*4}if(jT.BW)if(jT.BW)console.log("GL.Channels instances: "+jT.hc+", memory: "+jT.Kl)};
jT.Ko.prototype.clone=function(){var c=jT.i0,o=new jT.Ko(this.m,this.e);jT.Gf(this);c.bindTexture(c.TEXTURE_2D,o.hO);
c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,this.m,this.e,0);return o};jT.u7={aau:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aw$:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",SY:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",ht:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",arX:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",W4:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",i3:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Vf:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a7m:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",$f:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a8$:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",My:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",aD_:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",CX:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",S_:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",lh:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",R0:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",$Y:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",xW:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aDF:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",apU:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",aK:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",a9Z:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
jT.a={};jT.a.YN={};jT.a.qO=null;jT.a.zd=null;jT.a.u2=null;jT.a.a8d=function(c,o,K,u,X,$,O,n){if(n==null)n=bL.Ym();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(c)==-1){O=O*n.fill;n.fill=1;n.style=!1}var x=c+(n.st?"1":"");
if(jT.a.YN[x]==null)jT.a.YN[x]=new jT.a.SF(c,n.st!=null);var l=jT.a.YN[x],N=K.ar(X).ar($);N.offset(-X.x,-X.y);
if(N.SR())return;var f=jT.i0;jT.Gf(u,N);u.wC(N);l.mM();l.A4(o.hO,u.XW,jT.o1(K,X),O,n.fill,n.style?1:0,n.$i?1:0,n.st?new Float32Array(n.st):null);
f.drawArrays(f.TRIANGLES,0,6)};jT.a.K3=function(c,o,K,u,X,$,O,n,x,l,N){if(jT.a.qO==null)jT.a.qO=new jT.a.EF(!0,!0);
if(jT.a.zd==null)jT.a.zd=new jT.a.EF(!0,!1);if(jT.a.u2==null)jT.a.u2=new jT.a.EF(!1,!0);var f=l?1:0,z=c?X?jT.a.qO:jT.a.zd:jT.a.u2,R=new Float32Array(N?[N[0],N[1],N[2],1]:[1,1,1,1]),V=o?o.ar(u).ar(n):u.ar(n);
if(V.SR())return;V.offset(-u.x,-u.y);var d=jT.i0;jT.Gf(K,V);K.wC(V);z.mM();if(c==null)z.A4(null,K.XW,X.hO,jT.o1(u,u),jT.o1($,u),O/255,x,f,R);
else if(X)z.A4(c.hO,K.XW,X.hO,jT.o1(o,u),jT.o1($,u),O/255,x,f,R);else z.A4(c.hO,K.XW,null,jT.o1(o,u),null,O/255,x,f,R);
d.drawArrays(d.TRIANGLES,0,6)};jT.a.abU=function(c,o,K){if(jT.a.acG==null)jT.a.acG=new jT.a.gf;var u=jT.a.acG,X=new ez(0,0,c.m,c.e),$=jT.i0;
jT.Gf(o);o.wC(X);u.mM();u.A4(X,c.hO,o.XW,K.hO);$.drawArrays($.TRIANGLES,0,6)};jT.a.rz={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
jT.a.SF=function(c,o){jT.IM.call(this);var K="\t\t\tprecision highp float;\t\t\t"+jT.u7.SY+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(o?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+jT.u7.W4+"\t\t\t"+jT.u7.i3+"\t\t\t"+jT.u7.Vf+"\t\t\t"+jT.u7.aau+"\t\t\t"+jT.u7.aw$+"\t\t\t"+jT.u7.a7m+"\t\t\t"+jT.u7.$f+"\t\t\t"+jT.u7.a8$+"\t\t\t"+jT.u7.My+"\t\t\t"+jT.u7.hash+"\t\t\t"+(o?jT.u7.aK:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+jT.a.rz[c]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",u="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(c=="diss")K+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else K+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(o?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.HP(K,u)};jT.a.SF.prototype=new jT.IM;jT.a.SF.prototype.A4=function(c,o,K,u,X,$,O,n){this.MA("srct alpha source target fill style keepBGA blIf".split(" "));
var x=jT.i0,l=this.ge;x.uniform4fv(l.srct,K);x.uniform1f(l.alpha,u);x.uniform1f(l.fill,X);x.uniform1f(l.style,$);
x.uniform1f(l.keepBGA,O);if(n)x.uniform4fv(l.blIf,n);this.VT([l.source,c,l.target,o])};jT.a.EF=function(c,o){jT.IM.call(this);
this.ans=c;this.Dl=o;var K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+jT.u7.aD_+"\t\t\t"+jT.u7.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(c?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(o?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(c?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(o?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",u="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.HP(K,u)};jT.a.EF.prototype=new jT.IM;jT.a.EF.prototype.A4=function(c,o,K,u,X,$,O,n,x){if(this.Dl)this.MA("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.MA("srct awg dissv source target cswitch".split(" "));var l=jT.i0,N=this.ge;l.uniform4fv(N.srct,u);
if(this.Dl){l.uniform4fv(N.wrct,X);l.uniform1f(N.wcolor,$)}else{l.uniform4fv(N.cswitch,x)}l.uniform1f(N.awg,O);
l.uniform1f(N.dissv,n);var f=[N.source,c,N.target,o];if(this.Dl)f.push(N.weight,K);this.VT(f)};jT.a.gf=function(){jT.IM.call(this);
var c="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",o="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.HP(c,o)};jT.a.gf.prototype=new jT.IM;jT.a.gf.prototype.A4=function(c,o,K,u){this.MA(["rct","prev","next","alpha"]);
var X=jT.i0,$=this.ge;X.uniform4fv($.rct,[0,0,1,1]);this.VT([$.prev,o,$.next,K,$.alpha,u])};jT.JF={b4:{},hZ:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
jT.JF.YD=function(c,o){var K=j7.j2,u=[K.JV,K.os,K.jS,K.f9,K.hv,K.Gn,K._5,K.W_].indexOf(c.type),X=jT.JF.b4[c.type];
if(X==null)X=jT.JF.b4[c.type]=new jT.b4[u];X.mM();X.A4(o,c);jT.i0.drawArrays(jT.i0.TRIANGLES,0,6)};jT.b4=[];
jT.b4[0]=function(){jT.IM.call(this);this.SW={};var c="\t\t\tprecision mediump float;\t\t\t"+jT.u7.i3+"\t\t\t"+jT.u7.SY+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[0].prototype=new jT.IM;jT.b4[0].prototype.A4=function(c,o){var K={Z:o.nA,r:o.UZ,J:o.FS,V:a.R(o.nA.length)},u=K.Z.length;
if(this.SW["m"+u]==null){this.SW["m"+u]={at6:new jT.Ko(u,1),PX:a.R(u*4)}}var X=this.SW["m"+u];a.Zt(K,X.PX,0);
var $=X.at6;$.set(X.PX);this.MA(["source","map","toGray","presLum"]);var O=jT.i0,n=this.ge;O.uniform1f(n.toGray,o.Xm?1:0);
O.uniform1f(n.presLum,o.eT?1:0);this.VT([n.source,c,n.map,$.hO])};jT.b4[1]=function(){jT.IM.call(this);
this.av_=new jT.Ko(256,1);this.a2o=a.R(256*4);var c="\t\t\t\tprecision mediump float;\t\t\t\t"+jT.u7.lh+"\t\t\t\t"+jT.u7.CX+"\t\t\t\t"+jT.u7.S_+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[1].prototype=new jT.IM;jT.b4[1].prototype.A4=function(c,o){a.Zt({Z:o.a9G,r:o.Ms,J:o.aro,V:a.R(256)},this.a2o);
this.av_.set(this.a2o);this.MA(["source","map","cfa","cfb","colorize"]);var K=jT.i0,u=this.ge;K.uniform1f(u.cfa,o.a50);
K.uniform1f(u.cfb,o.PM);K.uniform1i(u.colorize,o.abn);this.VT([u.source,c,u.map,this.av_.hO])};jT.b4[2]=function(){jT.IM.call(this);
var c="\t\t\tprecision mediump float;\t\t\t"+jT.u7.lh+"\t\t\t"+jT.u7.R0+"\t\t\t"+jT.u7.$Y+"\t\t\t"+jT.u7.CX+"\t\t\t"+jT.u7.S_+"\t\t\t"+jT.u7.aDF+"\t\t\t"+jT.u7.apU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[2].prototype=new jT.IM;jT.b4[2].prototype.A4=function(c,o){this.MA(["source","vib","sat","yF"]);
var K=jT.i0,u=this.ge;K.uniform1f(u.vib,o.EU[0]);K.uniform1f(u.sat,o.EU[1]);K.uniform3fv(u.yF,new Float32Array([o.EU[2],o.EU[3],o.EU[3]]));
this.VT([u.source,c])};jT.b4[3]=function(){jT.IM.call(this);var c="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[3].prototype=new jT.IM;jT.b4[3].prototype.A4=function(c,o){this.MA(["source","trf"]);
var K=jT.i0,u=this.ge;K.uniformMatrix4fv(u.trf,!1,new Float32Array(a.QW.ll(o.kn)));this.VT([u.source,c])};
jT.b4[4]=function(){jT.IM.call(this);var c="\t\t\tprecision mediump float; \t\t\t"+jT.u7.xW+"\t\t\t"+jT.u7.lh+"\t\t\t"+jT.u7.S_+"\t\t\t"+jT.u7.CX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[4].prototype=new jT.IM;jT.b4[4].prototype.A4=function(c,o){this.MA(["source","mnm","mxm","shift","lim"]);
var K=jT.i0,u=this.ge;K.uniform3fv(u.mnm,new Float32Array(o.Kp));K.uniform3fv(u.mxm,new Float32Array(o.L0));
K.uniform3fv(u.shift,new Float32Array(o.shift));K.uniform1f(u.lim,o.CS);this.VT([u.source,c])};jT.b4[5]=function(){jT.IM.call(this);
var c="\t\t\tprecision mediump float;\t\t\t"+jT.u7.SY+"\t\t\t"+jT.u7.ht+"\t\t\t"+jT.u7.arX+"\t\t\t"+jT.u7.CX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[5].prototype=new jT.IM;jT.b4[5].prototype.A4=function(c,o){this.MA(["source","cfs"]);
var K=jT.i0,u=this.ge;K.uniform3fv(u.cfs,o.a6l);this.VT([u.source,c])};jT.b4[6]=function(){jT.IM.call(this);
var c="\t\t\tprecision mediump float;\t\t\t"+jT.u7.lh+"\t\t\t"+jT.u7.ht+"\t\t\t"+jT.u7.arX+"\t\t\t"+jT.u7.CX+"\t\t\t"+jT.u7.S_+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[6].prototype=new jT.IM;jT.b4[6].prototype.A4=function(c,o){this.MA(["source","wght","prms"]);
var K=jT.i0,u=this.ge,X=[o.k5,o.aC5,o.i3,o.ayc,o.bc,o.afB];K.uniform1fv(u.wght,new Float32Array(o.auE));
K.uniform1fv(u.prms,new Float32Array(X));this.VT([u.source,c])};jT.b4[7]=function(){jT.IM.call(this);
this.Xq={};var c="\t\t\tprecision mediump float;\t\t\t"+jT.u7.a9Z+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.HP(c,jT.JF.hZ)};jT.b4[7].prototype=new jT.IM;jT.b4[7].prototype.A4=function(c,o){this.MA(["source","lut","N"]);
var K=jT.i0,u=this.ge,X=o.s$,$=o.OQ;if(this.Xq["m"+X]==null)this.Xq["m"+X]=new jT.Ko(X,X*X);var O=this.Xq["m"+X];
O.set($);K.uniform1f(u.N,X);this.VT([u.source,c,u.lut,O.hO]);K.activeTexture(K.TEXTURE1);var n=K.LINEAR;
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,n);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,n);
K.activeTexture(K.TEXTURE0)};jT.filter={z9:{},hZ:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",avZ:0,a1G:1,w1:2,a1q:3,axJ:4,az_:5,XL:6,a5T:7};
jT.filter.YD=function(c,o){var K=jT.filter,u,X=c.type+":"+(c.oq?c.oq.join(","):""),u=jT.filter.z9[X];
if(u==null)u=jT.filter.z9[X]=new jT.z9[c.type](c.oq);u.mM();u.A4(o,c);jT.i0.drawArrays(jT.i0.TRIANGLES,0,6)};
jT.z9=[0,0,0,0,0,0,0,0,0,0,0,0];jT.z9[7]=function(){jT.IM.call(this);var c="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.HP(d0.Bv(c),d0.Bv(jT.filter.hZ))};jT.z9[7].prototype=new jT.IM;jT.z9[7].prototype.A4=function(c,o){this.MA(["source","iwh","kern"]);
var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);K.uniform1fv(u.kern,o.a7J);this.VT([u.source,c])};jT.z9[6]=function(c){jT.IM.call(this);
var o=c[0],K=c[1],u=c[2],X="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",$=d0.Bv(X);
$=$.replaceAll("PRC",u+".0");$=$.replaceAll("DIR",["x,0","0,x"][K]);this.HP($,jT.JF.hZ)};jT.z9[6].prototype=new jT.IM;
jT.z9[6].prototype.A4=function(c,o){this.MA(["source","iwh","rad"]);var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);
K.uniform1f(u.rad,o.JB);this.VT([u.source,c])};jT.z9[4]=function(c){jT.IM.call(this);var o=c[0],K=c[1],u="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+c[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][K]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][o]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][K]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(K==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.HP(u,jT.JF.hZ)};jT.z9[4].prototype=new jT.IM;jT.z9[4].prototype.A4=function(c,o){this.MA(["source","iwh","rrad","tr"]);
var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);K.uniform1f(u.rrad,o.bL);K.uniform1f(u.tr,o.asV);this.VT([u.source,c]);
var X=K.LINEAR;X=K.NEAREST;K.activeTexture(K.TEXTURE0);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,X);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,X);K.activeTexture(K.TEXTURE0)};jT.z9[5]=function(){jT.IM.call(this);
var c="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.HP(d0.Bv(c),d0.Bv(jT.filter.hZ))};jT.z9[5].prototype=new jT.IM;jT.z9[5].prototype.A4=function(c,o){this.MA(["source","ssum","iwh","amnt","edgf"]);
var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);K.uniform1f(u.amnt,o.aq9);K.uniform1f(u.edgf,o.ake);this.VT([u.source,c,u.ssum,o.aeV])};
jT.z9[3]=function(){jT.IM.call(this);var c="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.HP(d0.Bv(c),d0.Bv(jT.filter.hZ))};jT.z9[3].prototype=new jT.IM;jT.z9[3].prototype.A4=function(c,o){this.MA("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);K.uniform1f(u.tdep,o.anu);K.uniform1f(u.rrad,o.bL);K.uniform2fv(u.spec,o.a0Z);
K.uniform3fv(u.nois,o.ahF);K.uniformMatrix4fv(u.poly0,!1,o.awm);K.uniformMatrix4fv(u.poly1,!1,o.a8r);
this.VT([u.source,c]);var X=K.LINEAR;K.activeTexture(K.TEXTURE0);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,X);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,X);K.activeTexture(K.TEXTURE0)};jT.z9[0]=function(){jT.IM.call(this);
var c="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.HP(d0.Bv(c),d0.Bv(jT.filter.hZ))};jT.z9[0].prototype=new jT.IM;jT.z9[0].prototype.A4=function(c,o){this.MA(["source","iwh","ld","shine"]);
var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);K.uniform3fv(u.ld,o.aoB);K.uniform1f(u.shine,o.aux);this.VT([u.source,c,u.tang,o.x3])};
jT.z9[1]=function(){jT.IM.call(this);var c="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.HP(d0.Bv(c),d0.Bv(jT.filter.hZ))};jT.z9[1].prototype=new jT.IM;jT.z9[1].prototype.A4=function(c,o){this.MA(["source","iwh","isc","bristle"]);
var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);K.uniform1f(u.isc,o.aim);K.uniform1f(u.bristle,o.a5i);
this.VT([u.source,c])};jT.z9[2]=function(){jT.IM.call(this);var c="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.HP(d0.Bv(c),d0.Bv(jT.filter.hZ))};jT.z9[2].prototype=new jT.IM;jT.z9[2].prototype.A4=function(c,o){this.MA(["source","tang","iwh","sigma","expo"]);
var K=jT.i0,u=this.ge;K.uniform2fv(u.iwh,o.y_);K.uniform1f(u.sigma,o.a7i);K.uniform1f(u.expo,o.akd);
this.VT([u.source,c,u.tang,o.x3]);var X=K.LINEAR;K.activeTexture(K.TEXTURE0);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,X);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,X);K.activeTexture(K.TEXTURE0)};function a(){}a.X={};
a.aBy={};a.avz=function(){var c=[64,64,128,256,512,1024,2048],o=[];for(var Y=0;Y<c.length;Y++){var K=c[Y],u=document.createElement("canvas");
u.width=K;u.height=K;o.push(u.getContext("2d",{willReadFrequently:!0}))}return o}();a.kW=function(c,o){var K,u=a.avz,Y=1,X=Math.max(c,o);
while(Y<u.length&&X>u[Y].canvas.width)Y++;if(Y==u.length){K=u[0];var $=K.canvas;$.width=c;$.height=o}else{K=u[Y];
K.clearRect(0,0,c,o)}return K};a.iy=function(c,o,K){var u=new Uint32Array(o*K);u[0]=c[0];for(var X=1;
X<o;X++)u[X]=u[X-1]+c[X];for(var $=1;$<K;$++){var Y=$*o;u[Y]=u[Y-o]+c[Y];for(var X=1;X<o;X++)u[Y+X]=c[Y+X]+u[Y+X-1]+u[Y+X-o]-u[Y+X-o-1]}return u};
a.Lu=function(c,o,K,u,X,$){var O=(X-1)*o,n=$*o;return c[n+u]-c[n+K-1]-c[O+u]+c[O+K-1]};a.JO=function(c,o,K){var u={},X=0,$=0,O=new Uint32Array(c.buffer),n=O.length,x=Date.now();
for(var l=1;l<K-1;l++)for(var N=1;N<o-1;N++){var f=l*o+N,z=O[f];if(z>>>24<230)$++;if(u[z]==null){u[z]=!0;
X++}}if($!=0||X<20)return!1;return!0};a.MY=function(c,o,K,u,X,$){if(X==null)X=$=0;u=Math.log(u)/Math.log(2);
u=Math.round(u);var O=new Uint32Array(c.buffer);for(var Y=0;Y<K;Y++)for(var n=0;n<o;n++){O[Y*o+n]=a.akD(Y+$,n+X,u)}};
a.ac8=function(Y,c,o){return 255-((Y>>>o)+(c>>>o)&1)*51};a.akD=function(Y,c,o){return 4294967295-((Y>>>o)+(c>>>o)&1)*3355443};
a.rf=function(c,o){var K=o==null?1:o/255;return{Z:(c>>>16&255)*K,r:(c>>>8&255)*K,J:(c&255)*K}};a.RZ=function(c,o){var K=o==null?1:255/o;
return Math.round(c.Z*K)<<16|Math.round(c.r*K)<<8|Math.round(c.J*K)};a.On=function(c){var o=c.toString(16);
while(o.length<6)o="0"+o;return o};a.a3i=function(c){return parseInt(c,16)};a.i3=function(c){return.3*c.Z+.59*c.r+.11*c.J};
a.W4=function(c){return Math.max(c.Z,c.r,c.J)-Math.min(c.Z,c.r,c.J)};a.NV=function(c,o,K){return.3*c+.59*o+.11*K};
a.akP=function(c,o,K){return Math.max(c,o,K)-Math.min(c,o,K)};a.ht=function(c,o){var K=o-c,u=Math.abs(K),X=K-1,$=K+1;
if(Math.abs(X)<u)K=X;else if(Math.abs($)<u)K=$;return K};a.rp=function(c){return c<.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055};
a.CA=function(c){return c<.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)};a.ajj=function(c,o){var K=Math.min(c.length,o.length);
for(var Y=0;Y<K;Y+=4){var u=c[Y],X=c[Y+1],$=c[Y+2];o[Y]=16+Math.floor(65.481/255*u+128.553/255*X+24.966/255*$+.5);
o[Y+1]=128-Math.floor(37.797/255*u-74.203/255*X+112/255*$+.5);o[Y+2]=128+Math.floor(112/255*u-93.786/255*X-18.214/255*$+.5);
o[Y+3]=c[Y+3]}};a.a3K=function(c,o,K){var u,X,$,O=Math.max(c,o,K),n=Math.min(c,o,K);$=O;if(O!=0)X=(O-n)/O;
else X=0;if(X==0)u=0;else{var x=O-n,l=(O-c)/x,N=(O-o)/x,f=(O-K)/x;if(c==O)u=f-N;else if(o==O)u=2+l-f;
else u=4+N-l;u*=1/6;if(u<0)u=u+1}return{s_:u,Z0:X,J:$}};a.apr=function(c,o,K){var u=0,X=0,$=0;if(o==0)u=X=$=K;
else{var O=(c-Math.floor(c))*6,n=Math.floor(O),x=O-Math.floor(O),l=K*(1-o),N=K*(1-o*x),f=K*(1-o*(1-x));
switch(n){case 0:u=K;X=f;$=l;break;case 1:u=N;X=K;$=l;break;case 2:u=l;X=K;$=f;break;case 3:u=l;X=N;
$=K;break;case 4:u=f;X=l;$=K;break;case 5:u=K;X=l;$=N;break}}return{Z:u,r:X,J:$}};a.CX=function(c,o,K){var u=Math.max(c,o,K),X=Math.min(c,o,K),$=0,O=0,n=(u+X)*.5;
if(u!=X){var x=u-X;O=n>.5?x/(2-(u+X)):x/(u+X);switch(u){case c:$=(o-K)/x+(o<K?6:0);break;case o:$=(K-c)/x+2;
break;case K:$=(c-o)/x+4;break}$*=1/6}return{s_:$,Z0:O,hY:n}};a.S_=function(c,o,K){var u,X,$;if(o==0)u=X=$=K;
else{var O=K<.5?K*(1+o):K+o-K*o,n=2*K-O;u=a.lh(n,O,c+1/3);X=a.lh(n,O,c);$=a.lh(n,O,c-1/3)}return{Z:u,r:X,J:$}};
a.lh=function(c,o,K){if(K<0)K+=1;if(K>1)K-=1;if(K<1/6)return c+(o-c)*6*K;if(K<1/2)return o;if(K<2/3)return c+(o-c)*(2/3-K)*6;
return c};a.R0=function(c,o,K){var u=Math.max(c,o,K),X=Math.min(c,o,K),$,O,n=u,x=u-X;O=u==0?0:x/u;if(u==X)$=0;
else{switch(u){case c:$=(o-K)/x+(o<K?6:0);break;case o:$=(K-c)/x+2;break;case K:$=(c-o)/x+4;break}$*=1/6}return{s_:$,Z0:O,NT:n}};
a.$Y=function(c,o,K){var u,X,$,Y,O,n,x,l;Y=Math.floor(c*6);O=c*6-Y;n=K*(1-o);x=K*(1-O*o);l=K*(1-(1-O)*o);
switch(Y%6){case 0:u=K,X=l,$=n;break;case 1:u=x,X=K,$=n;break;case 2:u=n,X=K,$=l;break;case 3:u=n,X=x,$=K;
break;case 4:u=l,X=n,$=K;break;case 5:u=K,X=n,$=x;break}return{Z:u,r:X,J:$}};a.EC=function(){var c=[],o=[];
for(var Y=0;Y<8e3;Y++){var K=Y*(1/4e3);c[Y]=a.CA(K);o[Y]=K>.008856?Math.pow(K,1/3):(903.3*K+16)*(1/116)}return[c,o]}();
a.xW=function(c,o,K,u){if(u==null)u=[.9642,1,.8249];var X=a.EC[0],$=a.EC[1];c=X[~~(.5+c*(4e3/255))];
o=X[~~(.5+o*(4e3/255))];K=X[~~(.5+K*(4e3/255))];var O=a.QW.alN,n=O[0]*c+O[1]*o+O[2]*K,x=O[4]*c+O[5]*o+O[6]*K,l=O[8]*c+O[9]*o+O[10]*K;
n=n*(1/u[0]);x=x*(1/u[1]);l=l*(1/u[2]);return a.awc(n,x,l)};a.awc=function(c,o,K){var u=a.EC[1],X=u[~~(.5+c*4e3)],$=u[~~(.5+o*4e3)],O=u[~~(.5+K*4e3)];
return{Eb:116*$-16,V:500*(X-$),J:200*($-O)}};a.$y=function(c,o,K){var u=903.3,X=.008856,$=(c+16)/116,O=$*$*$,n=$-K/200,x=n*n*n,l=o/500+$,N=l*l*l,f=x>X?x:(116*n-16)/u,z=O>X?O:(116*$-16)/u,R=N>X?N:(116*l-16)/u,V=R*96.42,d=z*100,e=f*82.49,p=a.QW.sb(a.QW._o,[V/100,d/100,e/100,0]);
for(var Y=0;Y<4;Y++)p[Y]=Math.max(0,Math.min(255,a.rp(p[Y])*255));return{Z:p[0],r:p[1],J:p[2]}};a.ah6=function(c,o,K,u,X){var $=c.Eb,O=c.V,n=c.J,x=($<o.Eb?o.Eb-$:K.Eb<$?K.Eb-$:0)*(1/100),l=(O<o.V?o.V-O:K.V<O?K.V-O:0)*(1/116),N=(n<o.J?o.J-n:K.J<n?K.J-n:0)*(1/116),f=Math.sqrt(x*x+l*l+N*N)*1.35;
return f<=u?Math.min(1,1.17*(1-f*X)):0};a.ft=function(c){var o=a.N9("cmykToRgb"),K=o[2],u=o[3],X=[0,0,0,0];
ICC.U.applyLUT4Float(u,K,c,X);return X};a.aAh=function(){var c=function(cv){return Math.round(cv*255)},o="",K=3;
for(var Y=0;Y<tab.length;Y++){var u=c(tab[Y]);if(K<=Y)u=u-c(tab[Y-K])+256&255;o+=u.toString(16).padStart(2,"0")}return o};
a.N9=function(c){var o=LUTS["_"+c];if(o==null){var K=LUTS[c],u=K[0],cv=K[1],X=K[2],$=K[3],O=[];for(var Y=0;
Y<$.length;Y+=2)O.push(parseInt($.slice(Y,Y+2),16));for(var Y=cv;Y<O.length;Y++)O[Y]=O[Y]+O[Y-cv]&255;
for(var Y=0;Y<O.length;Y++)O[Y]*=1/255;o=LUTS["_"+c]=[u,cv,X,O]}return o};a.S4=function(c){var o=a.N9("rgbToCmyk"),K=o[2],u=o[3],X=[0,0,0,0];
ICC.U.applyLUT3to4Float(u,K,c,X);return X};a.ajz=function(c){for(var Y=0;Y<c.length;Y+=4){var o=[c[Y+0]*(1/255),c[Y+1]*(1/255),c[Y+2]*(1/255)],K=a.S4(o);
c[Y+0]=255-Math.floor(.5+K[0]*255);c[Y+1]=255-Math.floor(.5+K[1]*255);c[Y+2]=255-Math.floor(.5+K[2]*255);
c[Y+3]=255-Math.floor(.5+K[3]*255)}};a.yH=function(c,o,K){var u=c.length,X=.3,$=.59,O=.11;if(K){X=K[0];
$=K[1];O=K[2]}for(var Y=0;Y<u;Y+=4)o[Y>>2]=~~(c[Y+0]*X+c[Y+1]*$+c[Y+2]*O+.5)};a.oe=function(c,o){var K=o.length;
for(var Y=0;Y<K;Y+=4){var u=c[Y>>>2];o[Y]=u;o[Y+1]=u;o[Y+2]=u}};a.Zt=function(c,o){var K=c.V,u=c.Z,X=c.r,$=c.J,O=Math.min(c.V.length,o.buffer.byteLength>>>2),n=4*Math.floor(O/4),x=new Uint32Array(o.buffer),l=new Uint32Array(K.buffer),N=new Uint32Array(u.buffer),f=new Uint32Array(X.buffer),z=new Uint32Array($.buffer);
for(var Y=0;Y<n;Y+=4){var R=l[Y>>2],V=z[Y>>2],d=f[Y>>2],e=N[Y>>2];x[Y]=R<<24|(V&255)<<16|(d&255)<<8|e&255;
x[Y+1]=(R&65280)<<16|(V&65280)<<8|d&65280|(e&65280)>>>8;x[Y+2]=(R&16711680)<<8|V&16711680|(d&16711680)>>>8|(e&16711680)>>>16;
x[Y+3]=R&4278190080|(V&4278190080)>>>8|(d&4278190080)>>>16|(e&4278190080)>>>24}for(var Y=n;Y<O;Y++)x[Y]=K[Y]<<24|$[Y]<<16|X[Y]<<8|u[Y]};
a.j1=function(c,o){var K=o.V,u=o.Z,X=o.r,$=o.J,O=Math.min(o.V.length,c.buffer.byteLength>>>2),n=4*Math.floor(O/4),x=new Uint32Array(c.buffer),l=new Uint32Array(K.buffer),N=new Uint32Array(u.buffer),f=new Uint32Array(X.buffer),z=new Uint32Array($.buffer);
for(var Y=0;Y<n;Y+=4){var R=x[Y],V=x[Y+1],d=x[Y+2],e=x[Y+3];N[Y>>2]=R&255|(V&255)<<8|(d&255)<<16|e<<24;
f[Y>>2]=(R&65280)>>8|V&65280|(d&65280)<<8|(e&65280)<<16;z[Y>>2]=(R&16711680)>>16|(V&16711680)>>8|d&16711680|(e&16711680)<<8;
l[Y>>2]=R>>>24|V>>>24<<8|d>>>24<<16|e&4278190080}for(var Y=n;Y<O;Y++){var p=x[Y];u[Y]=p>>0&255;X[Y]=p>>8&255;
$[Y]=p>>16&255;K[Y]=p>>24&255}};a.Sw=function(c,o,K){var u=new Uint8Array(c.buffer),X=Math.min(u.length/4,o.length);
for(var Y=0;Y<X;Y++){o[Y]=u[(Y<<2)+K]}};a.bp=function(c,o,K){var u=new Uint8Array(o.buffer),X=new Uint32Array(c.buffer),$=Math.min(u.length/4,c.length),Y=0;
while(Y+4<$){var O=X[Y>>>2];u[(Y<<2)+K]=O&255;u[(Y<<2)+K+4]=O>>>8&255;u[(Y<<2)+K+8]=O>>>16&255;u[(Y<<2)+K+12]=O>>>24;
Y+=4}while(Y<$){u[(Y<<2)+K]=c[Y];Y++}};a.ms=function(c,o,K){if(K==null)K=0;var u=new Uint32Array(c.buffer),X=u.length;
for(var Y=0;Y<X;Y++)u[Y]=u[Y]&K|o};a.ai0=function(c,o,K,u,X){if(X==null)X=0;var $=new Uint32Array(c.buffer);
K=K.ar(o);var O=K.x-o.x,n=K.y-o.y,x=K.m,l=K.e,N=o.m;for(var f=0;f<l;f++){var Y=(n+f)*N+O;for(var z=0;
z<x;z++){$[Y]=$[Y]&X|u;Y++}}};a.lY=function(c,o){var K=Math.min(c.buffer.byteLength,o.buffer.byteLength),u=K>>>2,c=new Uint32Array(c.buffer,0,u),o=new Uint32Array(o.buffer,0,u);
o.set(c)};a.Ug=function(c,o){var K=c.buffer.byteLength,u=o.buffer.byteLength,X=new Uint32Array(c.buffer,0,K>>2),$=new Uint32Array(o.buffer,0,u>>2);
if(K!=u)return!1;var O=X.length;for(var Y=0;Y<O;Y++)if($[Y]!=X[Y])return!1;return!0};a.fH=function(c){var o=new Uint32Array(c.buffer),K=o.length;
for(var Y=0;Y<K;Y++)o[Y]=~o[Y]};a.apd=function(c){var o=c.length;for(var Y=0;Y<o;Y+=4){c[Y]=~c[Y];c[Y+1]=~c[Y+1];
c[Y+2]=~c[Y+2]}};a.axl=function(c){var o=c.length;for(var Y=3;Y<o;Y+=4)c[Y]=~c[Y]};a.aDO=function(c){return c+(c%4==0?0:4-c%4)};
a.R=function(c,o){if(o==null)o=!1;if(!o)c=a.aDO(c);try{var K=new Uint8Array(c)}catch(ar){alert("Not enough RAM! (need "+Math.round(c/(1<<20))+" MB)",7e3);
throw"low_ram"}return K};a.acq=function(c,o,K,u){if(u==null)u=0;var X=0;while(X+3<c.length&&c[X+3].P()>=u&&o.ea()*(1<<(X>>>1))<K)X+=2;
var $=c[1],O=c[X+1],n=new bE;n.translate(-$.x,-$.y);n.scale($.m/O.m,$.e/O.e);n.translate($.x,$.y);n.concat(o);
return[X,n]};a.hR=function(c){var o=c.length,K=c[o-2],u=c[o-1];while(u.m>=2&&u.e>=2){var X=a.KP(K,u);
c.push(X.PX,X.rect);K=X.PX;u=X.rect}};a.Ih=function(c){var o=c.length,K=c[o-2],u=c[o-1];while(u.m>=2&&u.e>=2){var X=a.Vw(K,u);
c.push(X.PX,X.rect);K=X.PX;u=X.rect}};a.KP=function(c,o,K){var u=o.m,X=o.e,$=u>>1,O=X>>1,n=new ez(o.x,o.y,$,O),x=K&&K.length==$*O*4?K:a.R($*O*4),l=new Uint32Array(c.buffer),N=new Uint32Array(x.buffer);
for(var f=0;f<O;f++)for(var z=0;z<$;z++){var R=f*$+z,V=(f<<1)*u+(z<<1),d=l[V],e=l[V+1],p=l[V+u],h=l[V+u+1],E=d>>>24,q=e>>>24,Z=p>>>24,v=h>>>24,W=E+q+Z+v;
if(W==1020){var D=(d>>>0&255)+(e>>>0&255)+(p>>>0&255)+(h>>>0&255)+2>>>2,I=(d>>>8&255)+(e>>>8&255)+(p>>>8&255)+(h>>>8&255)+2>>>2,A=(d>>>16&255)+(e>>>16&255)+(p>>>16&255)+(h>>>16&255)+2>>>2;
N[R]=255<<24|A<<16|I<<8|D}else if(W==0)N[R]=0;else{var D=(d>>>0&255)*E+(e>>>0&255)*q+(p>>>0&255)*Z+(h>>>0&255)*v,I=(d>>>8&255)*E+(e>>>8&255)*q+(p>>>8&255)*Z+(h>>>8&255)*v,A=(d>>>16&255)*E+(e>>>16&255)*q+(p>>>16&255)*Z+(h>>>16&255)*v,U=1/W;
D=~~(D*U+.5);I=~~(I*U+.5);A=~~(A*U+.5);N[R]=W+2>>>2<<24|A<<16|I<<8|D}}return{rect:n,PX:x}};a.a72=function(c,o,K){var u=o.m,X=o.e,$=u>>1,O=X>>1,n=new ez(o.x,o.y,$,O),x=K&&K.length==$*O*4?K:a.R($*O*4),l=new Uint32Array(c.buffer),N=new Uint32Array(x.buffer);
for(var f=0;f<O;f++)for(var z=0;z<$;z++){var R=f*$+z,V=(f<<1)*u+(z<<1),d=l[V],e=l[V+1],p=l[V+u],h=l[V+u+1],E=2+(d>>>0&255)+(e>>>0&255)+(p>>>0&255)+(h>>>0&255)>>>2,q=2+(d>>>8&255)+(e>>>8&255)+(p>>>8&255)+(h>>>8&255)>>>2,Z=2+(d>>>16&255)+(e>>>16&255)+(p>>>16&255)+(h>>>16&255)>>>2,v=2+(d>>>24&255)+(e>>>24&255)+(p>>>24&255)+(h>>>24&255)>>>2;
N[R]=v<<24|Z<<16|q<<8|E}return{rect:n,PX:x}};a.adq=function(c,o,K){var u=o.m,X=o.e,$=2*Math.floor(u/3),O=2*Math.floor(X/3),n=new ez(o.x,o.y,$,O),x=K&&K.length==$*O*4?K:a.R($*O*4),l=new Uint32Array(c.buffer),N=new Uint32Array(x.buffer);
for(var f=0;f<O;f+=2)for(var z=0;z<$;z+=2){var R=f*$+z,V=(f*3>>>1)*u+(z*3>>>1),d=l[V],e=l[V+1],p=l[V+2],h=l[V+u],E=l[V+1+u],q=l[V+2+u],Z=l[V+u+u],v=l[V+1+u+u],W=l[V+2+u+u],D=d>>>24<<2,I=(d>>>16&255)*D,A=(d>>>8&255)*D,U=(d&255)*D,w=e>>>24<<1,t=(e>>>16&255)*w,L=(e>>>8&255)*w,J=(e&255)*w,b=p>>>24<<2,F=(p>>>16&255)*b,B=(p>>>8&255)*b,k=(p&255)*b,i=h>>>24<<1,H=(h>>>16&255)*i,m=(h>>>8&255)*i,j=(h&255)*i,Q=E>>>24,G=(E>>>16&255)*Q,g=(E>>>8&255)*Q,P=(E&255)*Q,M=q>>>24<<1,T=(q>>>16&255)*M,C=(q>>>8&255)*M,gf=(q&255)*M,s=Z>>>24<<2,b3=(Z>>>16&255)*s,d5=(Z>>>8&255)*s,gh=(Z&255)*s,jt=v>>>24<<1,fl=(v>>>16&255)*jt,eq=(v>>>8&255)*jt,c7=(v&255)*jt,k8=W>>>24<<2,hs=(W>>>16&255)*k8,cq=(W>>>8&255)*k8,jn=(W&255)*k8,an=D+w+i+Q,hk=b+w+M+Q,ds=s+jt+i+Q,gT=k8+jt+M+Q,gP=an==0?0:1/an,ky=hk==0?0:1/hk,ay=ds==0?0:1/ds,bb=gT==0?0:1/gT,ap=0,cR=0,c8=0,gr=0;
ap=~~(.5+(U+J+j+P)*gP);cR=~~(.5+(A+L+m+g)*gP);c8=~~(.5+(I+t+H+G)*gP);gr=~~(.5+an*(1/9));N[R]=gr<<24|c8<<16|cR<<8|ap;
ap=~~(.5+(k+J+gf+P)*ky);cR=~~(.5+(B+L+C+g)*ky);c8=~~(.5+(F+t+T+G)*ky);gr=~~(.5+hk*(1/9));N[R+1]=gr<<24|c8<<16|cR<<8|ap;
ap=~~(.5+(gh+c7+j+P)*ay);cR=~~(.5+(d5+eq+m+g)*ay);c8=~~(.5+(b3+fl+H+G)*ay);gr=~~(.5+ds*(1/9));N[R+$]=gr<<24|c8<<16|cR<<8|ap;
ap=~~(.5+(jn+c7+gf+P)*bb);cR=~~(.5+(cq+eq+C+g)*bb);c8=~~(.5+(hs+fl+T+G)*bb);gr=~~(.5+gT*(1/9));N[R+$+1]=gr<<24|c8<<16|cR<<8|ap}return{rect:n,PX:x}};
a.a7y=function(c,o,K){var u=o.m,X=o.e,$=2*Math.floor(u/3),O=2*Math.floor(X/3),n=new ez(o.x,o.y,$,O),x=K&&K.length==$*O*4?K:a.R($*O*4),l=new Uint32Array(c.buffer),N=new Uint32Array(x.buffer);
for(var f=0;f<O;f+=2)for(var z=0;z<$;z+=2){var R=f*$+z,V=(f*3>>>1)*u+(z*3>>>1),d=l[V],e=l[V+1],p=l[V+2],h=l[V+u],E=l[V+1+u],q=l[V+2+u],Z=l[V+u+u],v=l[V+1+u+u],W=l[V+2+u+u],D=(d>>>16&255)<<2,I=(d>>>8&255)<<2,A=(d&255)<<2,U=(e>>>16&255)<<1,w=(e>>>8&255)<<1,t=(e&255)<<1,L=(p>>>16&255)<<2,J=(p>>>8&255)<<2,b=(p&255)<<2,F=(h>>>16&255)<<1,B=(h>>>8&255)<<1,k=(h&255)<<1,i=E>>>16&255,H=E>>>8&255,m=E&255,j=(q>>>16&255)<<1,Q=(q>>>8&255)<<1,G=(q&255)<<1,g=(Z>>>16&255)<<2,P=(Z>>>8&255)<<2,M=(Z&255)<<2,T=(v>>>16&255)<<1,C=(v>>>8&255)<<1,gf=(v&255)<<1,s=(W>>>16&255)<<2,b3=(W>>>8&255)<<2,d5=(W&255)<<2,gh=0,jt=0,fl=0;
gh=~~(.5+(A+t+k+m)*(1/9));jt=~~(.5+(I+w+B+H)*(1/9));fl=~~(.5+(D+U+F+i)*(1/9));N[R]=255<<24|fl<<16|jt<<8|gh;
gh=~~(.5+(b+t+G+m)*(1/9));jt=~~(.5+(J+w+Q+H)*(1/9));fl=~~(.5+(L+U+j+i)*(1/9));N[R+1]=255<<24|fl<<16|jt<<8|gh;
gh=~~(.5+(M+gf+k+m)*(1/9));jt=~~(.5+(P+C+B+H)*(1/9));fl=~~(.5+(g+T+F+i)*(1/9));N[R+$]=255<<24|fl<<16|jt<<8|gh;
gh=~~(.5+(d5+gf+G+m)*(1/9));jt=~~(.5+(b3+C+Q+H)*(1/9));fl=~~(.5+(s+T+j+i)*(1/9));N[R+$+1]=255<<24|fl<<16|jt<<8|gh}return{rect:n,PX:x}};
a.Ci=function(c){var o=255,K=c.length;K-=K&31;for(var Y=3;Y<K;Y+=32)o=o&c[Y]&c[Y+4]&c[Y+8]&c[Y+12]&c[Y+16]&c[Y+20]&c[Y+24]&c[Y+28];
return o!=255};a.n3=function(c,o,K,u){var X=a.KP,$=a.adq;if(!a.Ci(c)){X=a.a72;$=a.a7y}var O={PX:c,rect:o},n=a.x$(K);
for(var Y=0;Y<n.length;Y++){if(n[Y]==2)O=X(O.PX,O.rect,u);else O=$(O.PX,O.rect,u)}return O};a.acW=function(c,o,K,u){var X=a.Vw,$=a.aDN,O={PX:c,rect:o},n=a.x$(K);
for(var Y=0;Y<n.length;Y++){if(n[Y]==2)O=X(O.PX,O.rect,u);else O=$(O.PX,O.rect,u)}return O};a.x$=function(c){var o=[],K=c;
while(K<.499){o.push(2);K*=2}o.push(K<.5001?2:3);return o};a.Vw=function(c,o,K){var u=o.m,X=o.e,$=u>>1,O=X>>1,n=new ez(o.x,o.y,$,O);
if(c==null)return{rect:n};var x=K&&K.length>=$*O?K:a.R($*O);for(var l=0;l<O;l++){var N=l*$;for(var f=0;
f<$;f++){var z=(l<<1)*u+(f<<1);x[N+f]=2+c[z]+c[z+1]+c[z+u]+c[z+u+1]>>>2}}return{rect:n,PX:x}};a.aDN=function(c,o,K){var u=o.m,X=o.e,$=2*Math.floor(u/3),O=2*Math.floor(X/3),n=new ez(o.x,o.y,$,O);
if(c==null)return{rect:n};var x=K&&K.length>=$*O?K:a.R($*O);for(var l=0;l<O;l+=2)for(var N=0;N<$;N+=2){var f=l*$+N,z=(l*3>>>1)*u+(N*3>>>1),R=c[z]<<2,V=c[z+1]<<1,d=c[z+2]<<2,e=c[z+u]<<1,p=c[z+1+u],h=c[z+2+u]<<1,E=c[z+u+u]<<2,q=c[z+1+u+u]<<1,Z=c[z+2+u+u]<<2;
x[f]=~~(.5+(R+V+e+p)*(1/9));x[f+1]=~~(.5+(d+V+h+p)*(1/9));x[f+$]=~~(.5+(E+q+e+p)*(1/9));x[f+$+1]=~~(.5+(Z+q+h+p)*(1/9))}return{rect:n,PX:x}};
a.a7O=function(c,o,K,u,X){var $=o.ar(u);if(X)$=$.ar(X);var O=Math.max(0,$.x-o.x),n=Math.max(0,$.x-u.x),x=Math.max(0,$.y-o.y),l=Math.max(0,$.y-u.y),N=$.m,f=$.e;
for(var Y=0;Y<f;Y++){var z=(x+Y)*o.m+O,R=(l+Y)*u.m+n;for(var V=0;V<N;V++){K[R+V]=Math.max(K[R+V],c[z+V])}}};
a.qv=function(c,o,K,u,X){var $=o.ar(u);if(X)$=$.ar(X);var O=Math.max(0,$.x-o.x),n=Math.max(0,$.x-u.x),x=Math.max(0,$.y-o.y),l=Math.max(0,$.y-u.y),N=$.m,f=$.e;
for(var Y=0;Y<f;Y++){var z=(x+Y)*o.m+O,R=(l+Y)*u.m+n;K.set(new Uint8Array(c.buffer,z,N),R)}};a.amJ=function(c,o,K,u){if(o.Ug(u)){a.bp(c,K,3);
return}var X=o.ar(u),$=Math.max(0,X.x-o.x),O=Math.max(0,X.x-u.x),n=Math.max(0,X.y-o.y),x=Math.max(0,X.y-u.y),l=X.m,N=X.e;
for(var Y=0;Y<N;Y++){var f=(n+Y)*o.m+$,z=(x+Y)*u.m+O;for(var R=0;R<l;R++)K[(z+R<<2)+3]=c[f+R]}};a.wP=function(c,o,K,u){var X=o.ar(u),$=Math.max(0,X.x-o.x),O=Math.max(0,X.x-u.x),n=Math.max(0,X.y-o.y),x=Math.max(0,X.y-u.y),l=X.m,N=X.e;
for(var Y=0;Y<N;Y++){var f=(n+Y)*o.m+$,z=(x+Y)*u.m+O;for(var R=0;R<l;R++)K[z+R]=c[(f+R<<2)+3]}};a.Ui=function(c,o,K,u,X){if(o.Ug(u)&&(X==null||X.Ug(u))){a.lY(c,K);
return}c=new Uint32Array(c.buffer),K=new Uint32Array(K.buffer);var $=o.ar(u);if(X)$=$.ar(X);var O=Math.max(0,$.x-o.x),n=Math.max(0,$.x-u.x),x=Math.max(0,$.y-o.y),l=Math.max(0,$.y-u.y),N=$.m,f=$.e,z=N&3,R=z==0?N:N-z;
for(var Y=0;Y<f;Y++){var V=(x+Y)*o.m+O,d=(l+Y)*u.m+n;K.set(new Uint32Array(c.buffer,V*4,N),d)}};a.WC=function(c,o,K,u){var X=o.ar(u),$=Math.max(0,X.x-o.x),O=Math.max(0,X.x-u.x),n=Math.max(0,X.y-o.y),x=Math.max(0,X.y-u.y),l=X.m,N=X.e,f=c.V,z=c.Z,R=c.r,V=c.J,d=K.V,e=K.Z,p=K.r,h=K.J;
for(var Y=0;Y<N;Y++){var E=(n+Y)*o.m+$,q=(x+Y)*u.m+O;for(var Z=0;Z<l;Z++){d[q+Z]=f[E+Z];e[q+Z]=z[E+Z];
p[q+Z]=R[E+Z];h[q+Z]=V[E+Z]}}};a.Ov=function(c){var o=c.length;for(var Y=0;Y<o;Y+=4){var K=c[Y+3];if(K==255)continue;
c[Y]=~~(c[Y]*K*(1/255)+.5);c[Y+1]=~~(c[Y+1]*K*(1/255)+.5);c[Y+2]=~~(c[Y+2]*K*(1/255)+.5)}};a.Dt=function(c){var o=c.length;
for(var Y=0;Y<o;Y+=4){var K=c[Y+3];if(K==0||K==255)continue;var u=255/K;c[Y]=~~(c[Y]*u+.5);c[Y+1]=~~(c[Y+1]*u+.5);
c[Y+2]=~~(c[Y+2]*u+.5)}};a.PA=function(c,o){for(var Y=0;Y<c.length;Y++)if(c[Y]!=o)return!1;return!0};
a.dX=function(c){return c+1+(c>>>8)>>>8};a.round=function(c,o){if(o==null)o=128;var K=c.length;for(var Y=0;
Y<K;Y++)c[Y]=c[Y]<o?0:255};a.sh=function(c,o){var K=c.length;for(var Y=0;Y<K;Y++)c[Y]=Math.round(c[Y]*o)};
a._u=function(c,o){var K=new Uint32Array(c.buffer),u=new Uint32Array(o.buffer),X=K.length;for(var Y=0;
Y<X;Y++){var $=K[Y],O=u[Y];u[Y]=a.dX(($>>>24)*(O>>>24))<<24|a.dX(($>>>16&255)*(O>>>16&255))<<16|a.dX(($>>>8&255)*(O>>>8&255))<<8|a.dX(($&255)*(O&255))}};
a.L7=function(c,o){var K=c.length;for(var Y=0;Y<K;Y++)o[(Y<<2)+3]=a.dX(o[(Y<<2)+3]*c[Y])};a.aqC=function(c,o,K,u){var X=Math.max(0,u.x-o.x),$=Math.max(0,o.x-u.x),O=Math.max(0,u.y-o.y),n=Math.max(0,o.y-u.y),x=Math.min(o.x+o.m,u.x+u.m)-Math.max(o.x,u.x),l=Math.min(o.y+o.e,u.y+u.e)-Math.max(o.y,u.y);
for(var Y=0;Y<l;Y++){var N=(O+Y)*o.m+X,f=(n+Y)*u.m+$;for(var z=0;z<x;z++){K[f]=a.dX(K[f]*c[N]);N++;f++}}};
a.Vu=function(c,o,K,u){var X=Math.max(0,u.x-o.x),$=Math.max(0,o.x-u.x),O=Math.max(0,u.y-o.y),n=Math.max(0,o.y-u.y),x=Math.min(o.x+o.m,u.x+u.m)-Math.max(o.x,u.x),l=Math.min(o.y+o.e,u.y+u.e)-Math.max(o.y,u.y);
for(var Y=0;Y<l;Y++){var N=(O+Y)*o.m+X,f=((n+Y)*u.m+$<<2)+3;for(var z=0;z<x;z++){K[f]=a.dX(K[f]*c[N]);
N++;f+=4}}};a.z1=function(c,o,K,u){var X=Math.max(0,u.x-o.x),$=Math.max(0,o.x-u.x),O=Math.max(0,u.y-o.y),n=Math.max(0,o.y-u.y),x=Math.min(o.x+o.m,u.x+u.m)-Math.max(o.x,u.x),l=Math.min(o.y+o.e,u.y+u.e)-Math.max(o.y,u.y);
for(var Y=0;Y<l;Y++){var N=((O+Y)*o.m+X<<2)+3,f=((n+Y)*u.m+$<<2)+3;for(var z=0;z<x;z++){K[f]=a.dX(K[f]*c[N]);
N+=4;f+=4}}};a.Fr=function(c,o){if(o==null)o=1;var K=4*o,u=c.length>>>2,X=new Float64Array(256),$=new Float64Array(256),O=new Float64Array(256),n=new Float64Array(256),x=4*Math.floor(u/o)*o,l=0;
for(var Y=0;Y<x;Y+=K){var N=c[Y+0],f=c[Y+1],z=c[Y+2],R=c[Y+3]*o,V=R*(1/255);$[N]+=V;O[f]+=V;n[z]+=V;
l+=R}for(var Y=0;Y<256;Y++)X[Y]=$[Y]+O[Y]+n[Y];return[X,$,O,n,u,l/255]};a.a5G=function(c,o){function K(v,W){var D=-1,I=0;
while(I<=W){D++;I+=v[D]}return D}function u(v,W){var D=256,I=0;while(I<=W){D--;I+=v[D]}return D}function X(v){var W=0,D=0;
for(var Y=0;Y<256;Y++){D+=v[Y];W+=v[Y]*Y*(1/255)}return W/D}var $=c[0],O=c[1]/100,n=c[2]/100,x=[],l=[];
for(var Y=0;Y<4;Y++){var N=Y==0?3:1;x[Y]=K(o[Y],N*O*o[5]);l[Y]=u(o[Y],N*n*o[5])}var f=[X(o[1]),X(o[2]),X(o[3])],z=f.slice(0);
z.sort(function(v,W){return v-W});var R=f.indexOf(z[1]),V=(f[0]+f[1]+f[2])/3,d=[];for(var Y=0;Y<4;Y++){var e=0,p=255,h=x[Y],E=l[Y];
if($==0&&Y==0){e=h;p=E}if($==1&&Y!=0){e=h;p=E}if($==2&&Y!=0){var N=f[Y-1]/V;p=Math.max(0,Math.min(255,l[R]*N))}var q=[e,p];
d.push(q);if($==3&&Y==0){var Z=255*(1-V);q.push(Z)}}return d};a.abY=function(c,o){var K=new Uint32Array(c.buffer),u=K.length;
for(var Y=0;Y<u;Y++){var X=K[Y],$=X&255,O=X>>8&255,n=X>>16&255,x=X>>24&255;K[Y]=o[$]|o[O]<<8|o[n]<<16|o[x]<<24}};
a.asb=function(c,o,K,u,X,$,O){var n=new Uint32Array(c.buffer),x=new Uint32Array(o.buffer),l=n.length,N=0;
while(256<<N<K.length)N++;if(!O&&!$){for(var Y=0;Y!=l;Y++){var f=n[Y],z=(f&255)<<N,R=(f>>>8&255)<<N,V=(f>>>16&255)<<N,d=K[z],e=u[R],p=X[V];
x[Y]=d|e<<8|p<<16|f&4278190080}return}for(var Y=0;Y<l;Y++){var f=n[Y],z=(f&255)<<N,R=(f>>>8&255)<<N,V=(f>>>16&255)<<N;
if($)z=R=V=Math.round(z*.3+R*.59+V*.11);var d=K[z],e=u[R],p=X[V];if(O){var h=a.NV(z,R,V),E=a.NV(d,e,p);
if(h>E){var q=(h-E)/(255-E);d+=q*(255-d);e+=q*(255-e);p+=q*(255-p)}else if(E==0)d=e=p=0;else{var q=h/E;
d=q*d;e=q*e;p=q*p}}x[Y]=d|e<<8|p<<16|f&4278190080}};a.Rp=function(c,o){var K=o.m,u=o.e,top=0,X=0,$=0,O=0,n=0;
n=0;for(var x=0;x<u;x++){var l=x*K;for(var Y=0;Y<K;Y++)n|=c[l+Y];if(n!=0)break;top++}if(top==u)return new ez(0,0,0,0);
n=0;for(var x=u-1;x>=0;x--){var l=x*K;for(var Y=0;Y<K;Y++)n|=c[l+Y];if(n!=0)break;$++}var N=u-$;n=0;
for(var Y=0;Y<K;Y++){for(var x=top;x<N;x++)n|=c[x*K+Y];if(n!=0)break;X++}n=0;for(var Y=K-1;Y>=0;Y--){for(var x=top;
x<N;x++)n|=c[x*K+Y];if(n!=0)break;O++}var f=new ez(o.x+X,o.y+top,K-X-O,u-top-$);return f};a.pD=function(c,o,K,u,X){if(u==null)u=[!0,!0,!0,!0];
if(K==null)K=0;if(X==null)X=4294967295;var $=new Uint32Array(c.buffer),O=o.m,n=o.e,top=0,x=0,l=0,N=0,f=!1,z=[$[0],$[$.length-1],0][K];
f=!1;if(u[0])for(var R=0;R<n;R++){var V=R*O;for(var Y=0;Y<O;Y++)if($[V+Y]&X^z)f=!0;if(f)break;top++}f=!1;
if(u[2])for(var R=n-1;R>=0;R--){var V=R*O;for(var Y=0;Y<O;Y++)if($[V+Y]&X^z)f=!0;if(f)break;l++}f=!1;
if(u[1])for(var Y=0;Y<O;Y++){for(var R=0;R<n;R++)if($[R*O+Y]&X^z)f=!0;if(f)break;x++}f=!1;if(u[3])for(var Y=O-1;
Y>=0;Y--){for(var R=0;R<n;R++)if($[R*O+Y]&X^z)f=!0;if(f)break;N++}var d=new ez(o.x+x,o.y+top,O-x-N,n-top-l);
return d.SR()?new ez(0,0,0,0):d};a.kj=function(c){var o=a.Rp(c.channel,c.rect);if(o.Ug(c.rect))return;
var K=a.R(o.P());a.qv(c.channel,c.rect,K,o);c.channel=K;c.rect=o};a.au=function(c){var o=a.pD(c.buffer,c.rect,2,null,4278190080);
if(o.Ug(c.rect))return;var K=new a.R(o.P()*4);a.Ui(c.buffer,c.rect,K,o);c.buffer=K;c.rect=o};a.extend=function(c,o,K){if(c.rect.v8(o))return;
var u=c.rect.X3(o),X=a.R(u.P());if(K!=null)X.fill(K);a.qv(c.channel,c.rect,X,u);c.rect=u;c.channel=X};
a.a7X=function(c,o){if(o.SR()||c.rect.v8(o))return;var K=c.rect.X3(o),u=a.R(K.P()*4);a.Ui(c.buffer,c.rect,u,K);
c.rect=K;c.buffer=u};a.cQ=function(c,o,K){if(!K.Y3(c))return!1;var u=Math.floor(c.x)-K.x,X=Math.floor(c.y)-K.y,Y=X*K.m+u;
return o[Y]>128};a.azN=function(c,o,K){if(!K.Y3(c))return!1;var u=Math.floor(c.x)-K.x,X=Math.floor(c.y)-K.y,Y=X*K.m+u;
return o[4*Y+3]>128};a.JD=function(c){if(a.LQ.length<c){a.LQ=a.R(c);a.LQ.fill(255)}return a.LQ};a.LQ=a.R(0);
a._6=function(c){if(a.Xn.length<c)a.Xn=a.R(c);return a.Xn};a.Xn=a.R(0);a.Ko=function(c){this.V=a.R(c);
this.Z=a.R(c);this.r=a.R(c);this.J=a.R(c)};a.Ko.prototype.clone=function(){var c=this.V.length,o=new a.Ko(1);
o.V=this.V.slice(0);o.Z=this.Z.slice(0);o.r=this.r.slice(0);o.J=this.J.slice(0);return o};a.X.a5B=function(c,o,K,u,X){var $=X[0]+1,O=X[1],n=Math.abs(O-25)/4,x=X[2],l=x%2+x*x>>1,N=a.X.k;
N.HP(o,K);var f=N.xG(1),z=N.xG(1),R=N.xG(1);N.VY(c,u,x,x,l);N.xO(u);N.ow(u,f);N.uS(f,z,$,$,1);N.uS(f,R,$,$,$*$);
N.sub(R,z);N._u(z,n);(O<25?N.sub:N.add)(f,z);N.ic(z,u);N.J$(u)};a.X.aul=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=X[0]*2.55,n=X[1],x=n>>1,l=X[2]*.25,N=$.xG(4),f=$.xG(1),z=$.xG(1);$.Wn(c,N,n,1,!0,x);
$.Wn(c,u,n,1,!1,x);$.Ox(c,f);$.iJ(f,O);$.nx(f,z,3);$.IU(u,z,N);$.G1(N,u,l)};a.X.aeB=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);$.cn(X[3]);var O=X[0]*-3+80,n=X[1]*-3+80,x=X[2]/2+.5,l=X[4],N=X[5],f=$.xG(1),z=$.xG(1),R=$.xG(1),V=$.xG(1),d=$.xG(4),e=$.xG(4);
$.Ox(c,f);$.lY(f,z);$.Tj(f,n,5);$.ay2(f,.4,0);$.nx(f,R,3);$.ZM(R,f,9,3,!0,27);$.lY(z,R);$.fH(R);var p=$.Jb(O,5,R);
for(var Y=0;Y<$.ui;Y++){z[Y]=p[255-z[Y]]}$.ay2(z,.4,0);$.lY(z,R);$.nx(R,V,2);$.ZM(V,R,5,3,!1,15);$._u(f,x);
$._u(R,x);$.eL(u,2155905279);$.eL(e,l);$.eL(d,N);$.IU(e,f,u);$.IU(d,R,u)};a.X.avr=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=new Uint8Array(256),n=5+10*X[1];n+=X[1]>3?(X[1]-3)*10:0;var x=~~(X[2]*.73)+50,l=Math.min(x+n,128),N=l-x,f=-255*x;
for(var Y=0;Y<256;Y++){var z=Y*65;O[Y]=$.b2(f/N);f+=255}var R=$.xG(1),V=$.xG(1),d=$.xG(1);$.Ox(c,R);
$.lY(R,d);$.nx(R,V,2*X[0]+1);$.sub(V,R);$._u(R,65);$.ZM(R,V,9,3,!0,20);for(var Y=0;Y<$.ui;Y++){var e=d[Y],p=V[Y];
R[Y]=p>0?~~((p*e+(255-p)*128)/255):128}$.nx(R,V,3);$.ZM(V,R,15,2,!0,16);$.ZM(V,d,15,2,!1,15);$.Xg(R,d);
$.qV(d,V,2);$.Ls(V,O);$.nx(V,R,2);$.py(R,u)};a.X.aBX=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);var O=2*X[0]+1,n=$.awE[X[1]],x=X[2]*5.1,l=X[3],N=$.xG(1),f=$.xG(1),z=$.xG(4),R=$.xG(4);
$.eL(z,l);$.xO(z,u);$.a4O(N,x);$.ic(N,u);$.J$(u,z);$.Ox(c,f);$.nx(f,N,O);$.sub(N,f);$._u(f,n);$.ZM(f,N,9,3,!0,20);
$.IU(c,N,z);$.NY(z,u,3);$.Wn(u,z,15,2,!0,16);$.Wn(u,R,15,2,!1,16);$.Xg(z,R);$.G1(R,u,2)};a.X.ahT=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=(15-X[0])/4+1,n=(15-X[1])/4+1,x=X[2],l=X[3],N=$.uG(X[4]),f=X[5]+1,z=X[6],R=X[7],V=X[8],d=$.xG(1),e=$.xG(1),p=$.xG(1),h=$.xG(1),E=$.xG(4),q=$.xG(4);
$.B_(p,x,l,z);$.Ox(c,e);$.nx(e,d,5);$.Od(p,d,h,f,N);$._u(h,O);$.tW(h,2);$.fH(d);$.Od(p,d,e,f,N);$._u(e,n);
$.tW(e,2);$.eL(E,2155905279);$.eL(q,R);$.eL(u,V);$.IU(E,e,q);$.IU(q,h,u)};a.X.aon=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);$.cn(X[3]);var O=X[0],n=X[1]/10,x=X[2]/10,l=$.xG(1),N=$.xG(1),f=$.xG(1),z=$.Rg(),R=$.Rg(),V=$.Rg();
$.sg(l);$.nx(l,N,11);$.nx(N,l,11);$.ws(l,z);$.n6(c,l);$.lY(l,f);$.nx(l,N,9);$.nx(N,l,9);$.ws(l,R);$.BR(R,V,5);
$.BR(V,R,5);$.ahu(z,.8);$.awL(z,R,.8,.9);$.a9S(R,l,O);$.uS(l,N,2,2,1);$.uS(N,l,2,2,3);$.uS(l,N,2,2,3);
$.uS(f,l,5,5,13);$.dB(N,l,N,n);$.wH(l,N,N,x);$.Od(N,N,l,5,1);$.xO(c,u);$.ic(l,u);$.J$(u)};a.X.aD$=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=X[0],n=X[1]/2,x=X[2],l=O/2,N=$.xG(4),f=$.xG(4);$.lY(c,u);for(var z=0;z<x;z++){$.Wn(u,N,O,1,!0,l);
$.Wn(u,f,O,1,!1,l);$.Xg(f,N);$.NY(N,f,2);$.G1(f,u,n)}};a.X.a6P=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);
var O=X[0]*10,n=X[1]*4.9,x=X[2]*4.9,l=$.xG(1),N=$.xG(1),f=$.xG(4),z=$.xG(4);$.Ox(c,l);$.iJ(l,$.asa(l,O));
$.nx(l,N,3);$.Wn(c,f,5,1,!1,1);$.Wn(c,u,15,2,!0,16);$.IU(u,N,f);$.xO(f,u);$.ow(u,l);$.Tj(l,n,x);$.ic(l,u);
$.J$(u)};a.X.ajy=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);$.cn(X[4]);var O=X[0]/20,n=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][X[1]],x=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][X[2]],l=X[3],N=new Int16Array(256);
for(var Y=0;Y<256;Y++){N[Y]=~~((Y-128)*O)}var f=$.xG(1),z=$.xG(1),R=$.xG(4);$.Ox(c,f);$.nx(f,z,25);$._u(z,n);
$.tW(z,x);$.nx(z,f,25);$.sg(z);$.a9m(f,z,N);$.lY(c,u);$.eL(R,l);$.IU(R,f,u)};a.X.a2M=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=X[0]+5,n=15-X[1],x=O*O/2,l=1-(3-X[2])/10,N=~~(n*n*l-1),f=~~(n*n*(1-l));if(f==0)f=1;var z=$.xG(1),R=$.xG(1),V=$.xG(1),d=$.xG(4);
$.Ox(c,V);$.uS(V,z,O,O,x);$.nx(V,R,O);$.sub(z,R);$.iJ(R,1);$.VY(c,d,n,n,N);$.VY(c,u,n,n,f);$.IU(d,R,u)};
a.X.aa6=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);$.cn(X[3]);var O=(20-X[0])*.05,n=X[1]*-2.75+60,x=65-n,l=X[2]/10,N=$.xG(1),f=$.xG(1);
$.n6(c,f);var z=$.Jb(n,x,f);$.xO(c,u);$.ow(u,f);$.sg(N);$.$u(f,N,O);$.Ls(f,z);$._u(f,X[2]/10);$.add(N,f);
$.ic(f,u);$.J$(u)};a.X.aBx=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);var O=5+X[0],n=15-X[1],x=X[2],l=O*O/2+O*O%2*1,N=1-(3-X[2])/10,f=~~(n*n*N-1),z=~~(n*n*(1-N));
if(z==0)z=1;var R=$.xG(1),V=$.xG(1),d=$.xG(1),e=$.xG(1),p=$.xG(1);$.n6(c,V);$.qV(V,R,3);$.uS(R,V,2,2,1);
var h=$.Jb(20,20,V);$.Ls(V,h);$.nx(V,p,5);$.uS(p,R,O,O,l);$.uS(p,V,n,n,f);$.uS(p,d,n,n,z);$.nx(p,e,O);
$.sub(R,e);$.iJ(e,1);$.aBv(V,e,d);$.xO(c,u);$.ic(d,u);$.J$(u)};a.X.anD=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);$.cn(X[5]);var O=$.ui,n=$.Zi,x=X[0],l=X[1],N=X[2],f=X[3],z=X[4],R=.05*x+1,V=x/100,d=x>>1,e=2*x-100,p=+(l==9),h=+(l==7),E=[4,1][p],q=[3,2][p],Z=[1,2][h],v=[2,1][h],W=[50,75][p],D=l<4?N:(N>>1)+50,I=$.ap9(W,D),A=$.wI(f),U=$.wI(z),w=$.xG(4),t=$.xG(4),L=$.xG(1),J=$.xG(1);
function b(u,I){if(D!=50){$.a53(u,I)}}function F(c,T){for(var Y=0;Y<O;Y++){c[Y]=$.b2(c[Y]+(T[Y]-128)*V)}}function B(c,T){for(var Y=0,C=0;
Y<O;Y++){c[C]=$.b2(c[C]+(T[C]-128)*V);c[C+1]=$.b2(c[C+1]+(T[C+1]-128)*V);c[C+2]=$.b2(c[C+2]+(T[C+2]-128)*V);
C+=4}}function k(c,u){$.sg(t);$.lY(c,u);B(u,t);b(u,I)}function i(T){var C=0;for(var gf=0;gf<12;gf++)C+=$.random();
return $.b2(d*(C-6)+T)}function H(c,u){$.lY(c,u);for(var Y=0;Y<n;Y+=4){u[Y]=i(u[Y]);u[Y+1]=i(u[Y+1]);
u[Y+2]=i(u[Y+2])}b(u,I)}function m(c,u){$.lY(c,u);for(var Y=0;Y<n;Y+=4){if($.random()<V){u[Y]=A[0];u[Y+1]=A[1];
u[Y+2]=A[2]}}b(u,I)}function j(c,u){$.sg(w);$.VY(w,t,q,q,E);$.lY(c,w);B(w,t);$.VY(w,u,5,5,13);b(u,I)}function Q(c,u){$.sg(t);
$.lY(c,w);B(w,t);b(u,I);$.VY(w,u,q,q,E)}function G(c,u){$.lY(c,w);b(u,I);$.Ox(w,L);for(var Y=0,T=0;Y<O;
Y++){var C=((e-L[Y]+255)*128.5+.5)/32767;if($.random()<=C){u[T++]=U[0];u[T++]=U[1];u[T++]=U[2]}else{u[T++]=A[0];
u[T++]=A[1];u[T++]=A[2]}u[T]=c[T];T++}}function g(c,u){$.xO(c,u);$.ow(u,L);$.qV(L,J,R);$.uS(J,L,q,q,E);
$.Ls(L,I);$.ic(L,u);$.J$(u)}function P(c){var T=0;if(l==8){for(var C=0;C<o;C++){c[T++]=~~($.random()*255)}for(var Y=1;
Y<K;Y++){for(var C=0;C<o;C++){c[T++]=c[C]}}}else{for(var Y=0;Y<K;Y++){var gf=~~($.random()*255);for(var C=0;
C<o;C++){c[T++]=gf}}}}function M(c,u){$.Ox(c,L);$.sg(J);F(L,J);P(J);F(L,J);$.NY(c,w,9);$.NY(w,t,9);$.nx(L,J,2);
$.Ls(J,I);$.nx(J,L,2);$.xO(t,u);$.ic(L,u);$.J$(u)}[k,H,m,j,j,Q,G,M,M,g][l](c,u)};a.X.azk=function(c,o,K,u,X){var $=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],O=a.X.k,d=0,e,Y,Z,v,W,D=0,I=1,A=255;
O.HP(o,K);O.cn(X[3]);var n=O.xG(1),x=O.xG(1);O.Ox(c,n);var l=X[0],N=X[1],f=N<=50?$[N]/255:1+(255-$[101-N])/255,z=X[2],R=n.length,V=new Float32Array(R),p=1+1/10*l,h=(1-1/p)/2,E=16/256,q=o-1;
for(Y=0;Y<O.ui;Y++){V[Y]=n[Y]/255;x[Y]=l==1?O.random()<1/255?A:I:I}function U(w,t){var L=w*o+t;if(x[L]!=I||w>=K||t>=o){return}var v=V[L],J=f-v,b=O.random(),F=b/p+h;
if(d==0||Math.abs(W-v)>E){e=F<=J?D:A;d=~~(O.random()*l)}else if(.1<b){d--}else{d=0}x[L]=e;W=v}if(z==0){for(Y=0;
Y<o;Y++){for(Z=0;Z<o;Z++){v=Y+Z;if(v>=o)break;U(Z,q-v)}d=0}for(Y=1;Y<K;Y++){for(Z=0;Z<K;Z++){v=Y+Z;if(v>=K||Z>=o)break;
U(v,q-Z)}d=0}}else if(z==1){for(Y=0;Y<K;Y++){for(Z=0;Z<o;Z++){U(Y,Z)}d=0}}else if(z==2){for(Y=0;Y<o;
Y++){for(Z=0;Z<o;Z++){v=Y+Z;if(v>=o)break;U(Z,v)}d=0}for(Y=1;Y<K;Y++){for(Z=0;Z<K;Z++){v=Y+Z;if(v>=K||Z>=o)break;
U(v,Z)}d=0}}else{for(Y=0;Y<o;Y++){for(Z=0;Z<K;Z++){U(Z,Y)}d=0}}O.py(x,u)};a.X.aCF=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=X[0],n=X[1],x=X[2],l=$.xG(1),N=$.xG(1),f=$.xG(1),z=$.xG(1),R=$.xG(4),V=$.xG(4);$.ow(c,z,3,4);
$.Ox(c,l);$.uS(l,N,3,3,1);$.uS(l,f,3,3,9);$.sub(f,N);$.nx(N,l,3);$.Tj(l,40,10,z);$.Wn(c,u,O,2,!1,O);
$.Wn(c,R,O,2,!0,O);$.eL(V,255);$.IU(u,l,V);$.IU(V,l,R);$.G1(R,u,1);$.xO(u);$.ow(u,l);$.Tj(l,n,x,z);$.ic(l,u);
$.J$(u)};a.X.auU=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);$.cn(X[3]);var O=X[0],n=X[1],x=X[2]/10;O=O+n;
var l=$.xG(1),N=$.xG(1),f=$.Rg(),z=$.Rg();$.sg(l);$.nx(l,N,11);$.nx(N,l,11);$.ws(l,f);$.BR(f,z,5);$.BR(z,f,5);
$.ahu(z,.97);$.a9S(z,l,O);$.uS(l,N,n,n,1);$.n6(c,l);$.dB(N,l,N,.6);$.wH(l,N,N,x);$.Od(N,N,l,5,1);$.xO(c,u);
$.ic(l,u);$.J$(u)};a.X.a6B=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);var O=Math.abs(X[0]),n=O+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][O],x=2*O+1,l=X[1]/10,N=l*13/15,f=$.xG(1),z=$.xG(1),R=$.xG(1),V=$.xG(1),d=$.xG(4),e=$.xG(4),p=$.xG(4),h=$.xG(4),E=$.xG(4);
$.Ox(c,f);if(X[0]>=0){$.fH(f)}$.lY(f,R);$.nx(f,V,n);$.nx(V,f,n);$._u(f,l);$.lY(f,z);$.nx(f,V,x);$.nx(V,f,x);
$._u(f,N);$.eL(p,X[2]);$.eL(h,X[3]);$.eL(E,X[4]);$.IU(p,f,h,d);$.IU(E,z,d,e);$.IU(h,R,e,u);$.ow(c,R,3);
$.ic(R,u,3)};a.X.a1x=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);$.cn(X[5]);var O=X[0]*5.1,n=X[1]/100,x=$.aAO[X[2]],l=$.xG(1),N=$.xG(1),f=$.xG(1);
$.Ox(c,l);$.a4O(N,255);$.sg(f);$.iJ(l,O);$.$u(N,l,.7);$.$u(f,l,n);$.Od(l,l,N,5,x);$.lY(c,u);$.a4b(u,O,X[4],X[3]);
$.xO(u);$.ic(N,u);$.J$(u)};a.X.adj=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);var O=X[0],n=4-X[1],x=11-X[2],l=$.xG(1),N=$.xG(1),f=$.xG(4);
$.n6(c,N);for(var Y=0;Y<n;Y++){$.lY(N,l);$.aoo(l,N,O,O)}$.NY(c,f,O);$.xO(f,f);$.ic(N,f);$.J$(f,f);(x<11?$.a1D:$.lY)(f,u,x)};
a.X.a3X=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);$.cn(X[2]);var O=X[0]+5,n=~~(O/5+1),x=~~(O/2)+1,l=x*x,N=~~(O/3),f=$.aAO[X[1]],z=new Array(256);
for(var Y=0;Y<256;Y++){z[Y]=~~(.2*(Y-128))}var R=$.xG(1),V=$.xG(1);$.aoN(c,u,O);$.xO(u);$.ow(u,R);$.sg(V);
$.a9m(R,V,z);$.a8H(V,O,O,n,n);$.dB(R,V,R,1);$.nx(R,V,N);$.nx(V,R,N);$.uS(R,V,x,x,l);$.Od(V,V,R,5,f);
$.ic(R,u);$.J$(u)};a.X.aC4=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);var O=$.xG(1),n=$.xG(1),x=$.xG(1),l=$.Rg(),N=$.Rg();
$.Ox(c,O);$.nx(O,n,X[2]);$.iJ(n,X[0]*5.1);$.uS(n,O,2,2,4);$.nx(O,n,3);$.nx(n,O,3);$.lY(O,x);$.nx(O,n,5);
$.nx(n,O,5);$.ws(O,l);$.BR(l,N,5);$.BR(N,l,5);$.axb(l,n,X[1]);$.fH(n);$.dB(x,n,x,1);$.py(x,u)};a.X.azv=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=1<<7-X[2],n=$.xG(1),x=$.xG(1),l=$.xG(1);$.n6(c,x);$.nx(x,n,3);$.lY(n,x);$.nx(n,l,X[0]+5);
$.sub(l,x);$.Tj(x,1,X[1]);$._u(n,1/O);$._u(n,O);$.sub(n,x);$.xO(c,u);$.ic(x,u);$.J$(u)};a.X.aCr=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);$.cn(X[3]);var O=$.xG(1),n=$.xG(1),x=$.xG(1);$.Ox(c,O);$.aBf(n,X[0]/50);$.nx(n,x,3);$.uS(O,n,9,9,41);
$.Tj(n,X[1],X[2]);$.dB(n,x,x,.75);$.wH(n,x,n,.5);$.lY(n,O);$.uS(O,x,3,3,8);$.dB(x,n,x,.75);$._u(x,1.2);
$.qV(x,O,1);$.nx(O,x,2);$.qV(x,O,2);$._u(O,1.2);$.nx(O,x,2);$.py(x,u)};a.X.aeZ=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=X[0]+9,n=X[1]/2,x=X[2],l=X[3],N=$.uG(X[4]),f=X[5]+1,z=X[6],R=$.xG(1),V=$.xG(1),d=$.xG(4),e=$.xG(4);
$.B_(V,x,l,z);$.aa1(c,u,O,1,1);$.aa1(u,d,O,1,1);$.aea(d,d,e,7,n);$._u(e,1.2);$.tW(e,1.2);$.Od(V,R,R,f,N);
$._u(R,3);$.lY(c,u);$.IU(e,R,u)};a.X.aD2=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);$.cn(X[3]);var O=X[0]+4,n=O*2/5+(O%5|0);
O--;var x=X[1]*-2.75+60,l=65-x,N=X[2]/10,f=$.xG(1),z=$.xG(1);$.sg(f);$.n6(c,z);var R=$.Jb(x,l,z);$.xO(c,u);
$.ow(u,z);$.$u(z,f,.8);$.Ls(z,R);$._u(z,N);$.add(f,z);$.ZM(z,f,O,3,!1,n);$.ic(f,u);$.J$(u)};a.X.af5=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);$.cn(X[3]);var O=X[0]+5,n=(O*O>>1)+O%2,x=X[1]/10,l=X[2],N=(l*l>>1)+l%2,f=$.xG(1),z=$.xG(1),R=$.xG(1),V=$.xG(4),d=$.xG(4),e=$.xG(4);
$.sg(R);$.xO(c,e);$.ow(e,f);$.$u(f,R,.8);$.nx(R,f,3);$.qV(f,R,x);$.ic(R,e);$.J$(e,e);$.Ox(e,R);$.uS(R,f,O,O,n);
$.nx(R,z,O);$.sub(f,z);$.iJ(z,1);$.VY(e,V,7,7,40);$.VY(e,d,7,7,10);$.IU(V,z,d);$.VY(d,u,l,l,N)};a.X.abz=function(c,o,K,u,X){var $=a.X.k,n=255,Y,l;
$.HP(o,K);var O=X[0];if(O<2)n=O;else if(O<12)n=5*O-5;else if(O<47)n=2*O+28;else if(O<50){Y=O-47;n=125+12.5*Y+12.5*Y*Y}var x=new Uint8Array(256);
for(Y=75,l=15;Y<256;Y++,l+=24)x[Y]=Math.min(255,l);var N=$.xG(1),f=$.xG(1),z=$.xG(1);$.Ox(c,N);$.nx(N,f,11);
$.nx(f,z,11);$.sub(z,N);$._u(N,8);$.sub(z,N);$.iJ(N,n);$.fH(N);$.nx(N,f,5);$.iJ(f,51);$.nx(f,N,X[1]);
$.nx(N,f,X[1]);$.fH(f);$.Ls(f,x);$.py(f,u)};a.X.asc=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);var O=$.awE[X[1]],n=X[2],x=n*1.5,l=$.xG(1),N=$.xG(1),f=$.xG(1);
$.n6(c,l);$.ZM(l,N,15,2,!0,15);$.lY(N,f);$.Tj(f,n,x);$.nx(f,l,3);$.nx(N,f,X[0]);$.sub(f,N);$._u(N,O);
$.sub(l,N);$.nx(N,l,3);$.ZM(l,N,3,1,!1,1);$.NY(c,u,15);$.xO(u);$.ic(N,u);$.J$(u)};a.X.anY=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);$.cn(X[3]);var O=X[0]*5.1,n=16-X[1],x=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][X[2]],l=$.xG(1),N=$.xG(1),f=$.xG(1);
$.Ox(c,l);$.iJ(l,O);$.nx(l,N,n);$.nx(N,l,n);$.sg(f);$.wH(l,f,f,1);$.dB(l,f,l,.75);$._u(l,x);$.tW(l,x);
$.uS(l,N,2,2,2);$.py(N,u)};a.X.avA=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);var O=X[0]+9,n=X[1]+9,x=X[2],l=X[3],N=$.uG(X[4]),f=X[5]+1,z=X[6],R=$.xG(1),V=$.xG(1),d=$.xG(1),e=$.xG(1),p=$.xG(1),h=$.xG(4);
$.n6(c,R);$.aoo(R,d,O,O);$.nx(d,R,n);$.lY(d,p);$.lY(R,e);$.sub(p,e);$.sub(R,p);$.add(p,e);$._u(e,10);
$.B_(V,x,l,z);$.Od(V,R,p,f,N);$.aBv(p,e,d,.8);$.NY(c,h,9);$.NY(h,u,9);$.xO(u);$.ic(d,u);$.J$(u)};a.X.axU=function(c,o,K,u,X){var $=a.X.k;
$.HP(o,K);var O=16-X[0],n=X[1]*8,x=1-(3-X[2])/10,l=~~(O*O*x-1),N=~~(O*O*(1-x));if(N==0)N=1;var f=$.xG(1),z=$.xG(1),R=$.xG(1),V=$.xG(4);
$.Ox(c,R);$.uS(R,f,7,7,25);$.nx(R,z,7);$.sub(f,z);$.iJ(z,1);$.VY(c,V,O,O,l);$.VY(c,u,O,O,N);$.IU(V,z,u);
$.xO(u);$.ow(u,f);$.uS(f,R,3,3,1);$.uS(f,z,3,3,9);$.sub(z,R);$.lY(R,z);$.sub(f,R);$.sub(R,z);$.uS(z,f,3,3,8);
$.Tj(f,n,1);$.ic(f,u);$.J$(u)};a.X.asN=function(c,o,K,u,X){var $=a.X.k;$.HP(o,K);$.cn(X[3]);var O=X[0],n=X[1],x=X[2],l=O>>1,N=Math.max(~~(O/5),1),f=Math.max(~~(O*2/3),1),z=$.ap9(n,x),R=$.xG(1),V=$.xG(1),d=$.xG(1),e=$.xG(1),p=$.xG(4);
$.n6(c,R);$.aa9(2147483647,4,2,2,0,255,V);$.aa9(4,2147483647,2,2,0,255,e);$.sg(d);$.wH(V,d,V,1);$.wH(e,d,e,1);
$.wH(V,R,V,1);$.wH(e,R,e,1);$.NY(c,p,l);$.NY(p,u,l);$.uS(V,R,1,O,N);$.uS(R,V,3,O,f);$.uS(e,R,O,1,N);
$.uS(R,e,O,3,f);$.Xg(V,e);$.xO(u);$.ic(e,u);$.J$(u);$.a53(u,z)};a.X.Y0=function(c,o,K){var u=K.a2P,X=K.ui,$=K.xG(1),top=K.xG(1),O=K.xG(1),n=K.xG(1),x=K.xG(1),l=K.xG(1),N=K.xG(1),f=K.xG(1),z=K.xG(1),R=K.Oc,V=K.s_,d=a.wq.s4,e=a.wq.Lg;
d(c,$,R,V,e([8,5,2,5,2,-1,2,-1,-4]));d(c,top,R,V,e([5,5,5,2,2,2,-1,-1,-1]));d(c,O,R,V,e([2,5,8,-1,2,5,-4,-1,2]));
d(c,n,R,V,e([5,2,-1,5,2,-1,5,2,-1]));d(c,x,R,V,e([2,2,2,2,2,2,2,2,2]));d(c,l,R,V,e([-1,2,5,-1,2,5,-1,2,5]));
d(c,N,R,V,e([2,-1,-4,5,2,-1,8,5,2]));d(c,f,R,V,e([-1,-1,-1,2,2,2,5,5,5]));d(c,z,R,V,e([-4,-1,2,-1,2,5,2,5,8]));
var p=[$,top,O,n,x,l,N,f,z];for(var h=0;h<V;h++){for(var E=0;E<R;E++){var q=h*R+E,Z=c[q],v=null,W=0;
for(var D=-1;D<2;D++){for(var I=-1;I<2;I++){var A=p[(D+1)*3+I+1],U=Math.max(0,Math.min(h+D,V-1)),w=Math.max(0,Math.min(E+I,R-1)),t=A[U*R+w],L=Math.abs(t-Z);
if(v==null||L<v){v=L;W=t}}}o[q]=W}}};a.X.av9=function(c,o,K,u,X){var self=a.X.k;self.HP(o,K);var $=self.xG(1),O=self.xG(1);
for(var Y=0;Y<4;Y++){self.ow(c,$,Y);if(Y<3){a.X.Y0($,O,self);a.X.Y0(O,$,self);a.X.Y0($,O,self);a.X.Y0(O,$,self);
a.X.Y0($,O,self);a.X.Y0(O,$,self);a.X.Y0($,O,self);a.X.Y0(O,$,self);a.X.Y0($,O,self)}else O=$;self.ic(O,u,Y)}};
a.X.k={};a.X.k.Oc=0;a.X.k.s_=0;a.X.k.ui=0;a.X.k.As=0;a.X.k.Zi=0;a.X.k.HP=function(c,o){var K=c*o,self=a.X.k;
self.Oc=c;self.s_=o;self.ui=K;self.As=K<<1;self.Zi=K<<2};a.X.k.cn=function(c){a.X.k.random=function(){var o=c+=1831565813;
o=Math.imul(o^o>>>15,o|1);o^=o+Math.imul(o^o>>>7,o|61);return((o^o>>>14)>>>0)/4294967296}};a.X.k.xG=function(c){var o=a.X.k;
return new Uint8Array([-1,o.ui,o.As,-1,o.Zi][c])};a.X.k.Rg=function(){return new Int32Array(a.X.k.As)};
a.X.k.nx=function(c,o,K,u){if(u==null)u=K;var self=a.X.k,X=self.Oc,$=self.s_,O=u,n=u>>1,x=K,l=K>>1,N=K*u,f=0;
for(var Y=0;Y<$;Y++){var z=0;for(var R=0;R<O;R++){for(var V=0;V<x;V++){var d=0-l+V,e=Y-n+R;if(d<0)d=0;
else if(d>=X)d=X-1;if(e<0)e=0;else if(e>=$)e=$-1;z+=c[e*X+d]}}o[f++]=~~(z/N);for(var p=1;p<X;p++){for(var R=0;
R<O;R++){var h=p-l-1,E=h+x,e=Y-n+R;if(h<0)h=0;if(E>=X)E=X-1;if(e<0)e=0;else if(e>=$)e=$-1;z+=c[e*X+E]-c[e*X+h]}o[f++]=~~(z/N)}}};
a.X.k.BR=function(c,o,K,u){var self=a.X.k,X=new Int32Array(self.ui),$=new Int32Array(self.ui);for(var Y=0;
Y<2;Y++){self.ow(c,X,Y,2);self.nx(X,$,K,u);self.ic($,o,Y,2)}};a.X.k.NY=function(c,o,K,u){var self=a.X.k,X=self.xG(1),$=self.xG(1);
for(var Y=0;Y<4;Y++){self.ow(c,X,Y);if(Y<3)self.nx(X,$,K,u);else $=X;self.ic($,o,Y)}};a.X.k.aa1=function(c,o,K,u,X){var self=a.X.k,$=self.Oc,O=self.s_,n=K+u-1,x=K>>1,l=n>>1,N=0,f=K*u,z=new Int32Array(K);
for(var Y=0;Y<O;Y++){var R=0,V=0,d=0;for(var e=0;e<K;e++){var p=X?n-e-u:e;for(var h=p,E=u+p;h<E;h++){var q=0-l+h,Z=Y-x+e;
if(h==p){z[e]=q}if(q<0)q=0;else if(q>=$)q=$-1;if(Z<0)Z=0;else if(Z>=O)Z=O-1;var v=$*Z+q<<2;R+=c[v];V+=c[v+1];
d+=c[v+2]}}o[N++]=~~(R/f);o[N++]=~~(V/f);o[N++]=~~(d/f);o[N]=c[N];N++;for(var W=1;W<$;W++){for(var e=0;
e<K;e++){var Z=Y-x+e,p=z[e]+1;z[e]=p;var D=p-1,I=p+u-1;if(Z<0)Z=0;else if(Z>=O)Z=O-1;if(D<0)D=0;else if(D>=$)D=$-1;
if(I<0)I=0;else if(I>=$)I=$-1;var A=Z*$+D<<2,U=Z*$+I<<2;R=R+c[U]-c[A];V=V+c[U+1]-c[A+1];d=d+c[U+2]-c[A+2]}o[N++]=~~(R/f);
o[N++]=~~(V/f);o[N++]=~~(d/f);o[N]=c[N];N++}}};a.X.k.ZM=function(c,o,K,u,X,$){var self=a.X.k,O=self.Oc,n=self.s_,x=K+u-1,l=K>>1,N=x>>1,f=0,z=new Int32Array(K),R=new Int32Array(256),V=new Int32Array(16);
for(var Y=0;Y<n;Y++){for(var d=0;d<256;d++){R[d]=0}for(var d=0;d<16;d++){V[d]=0}for(var e=0;e<K;e++){var p=X?x-e-u:e;
for(var h=p,E=u+p;h<E;h++){var q=0-N+h,Z=Y-l+e;if(h==p){z[e]=q}if(q<0)q=0;else if(q>=O)q=O-1;if(Z<0)Z=0;
else if(Z>=n)Z=n-1;R[c[Z*O+q]]++;V[c[Z*O+q]>>>4]++}}var v=0,W=0;while(v+V[W>>>4]<$){v+=V[W>>>4];W+=16}for(;
W<256;W++){v+=R[W];if(v>=$)break}o[f++]=W;for(var d=1;d<O;d++){for(var e=0;e<K;e++){var Z=Y-l+e,p=z[e]+1;
z[e]=p;var D=p-1,I=p+u-1;if(Z<0)Z=0;else if(Z>=n)Z=n-1;if(D<0)D=0;else if(D>=O)D=O-1;if(I<0)I=0;else if(I>=O)I=O-1;
R[c[Z*O+D]]--;R[c[Z*O+I]]++;V[c[Z*O+D]>>>4]--;V[c[Z*O+I]>>>4]++}v=0;W=0;while(v+V[W>>>4]<$){v+=V[W>>>4];
W+=16}for(;W<256;W++){v+=R[W];if(v>=$)break}o[f++]=W}}};a.X.k.Wn=function(c,o,K,u,X,$){var self=a.X.k,O=self.xG(1),n=self.xG(1);
for(var Y=0;Y<4;Y++){self.ow(c,O,Y);if(Y<3)self.ZM(O,n,K,u,X,$);else n=O;self.ic(n,o,Y)}};a.X.k.uS=function(c,o,K,u,X){X=Math.min(u*K,X);
var self=a.X.k,$=self.Oc,O=self.s_,n=u>>1,x=K>>1,l=0,N=new Int32Array(u),f=new Int32Array(256),z=new Int32Array(16);
for(var Y=0;Y<O;Y++){for(var R=0;R<256;R++){f[R]=0}for(var R=0;R<16;R++){z[R]=0}for(var V=0;V<u;V++){for(var d=0,e=K;
d<e;d++){var p=0-x+d,h=Y-n+V;if(d==0){N[V]=p}if(p<0)p=0;else if(p>=$)p=$-1;if(h<0)h=0;else if(h>=O)h=O-1;
f[c[h*$+p]]++;z[c[h*$+p]>>>4]++}}var E=0,q=0;while(E+z[q>>>4]<X){E+=z[q>>>4];q+=16}for(;q<256;q++){E+=f[q];
if(E>=X)break}o[l++]=q;for(var R=1;R<$;R++){for(var V=0;V<u;V++){var h=Y-n+V,Z=N[V]+1;N[V]=Z;var v=Z-1,W=Z+K-1;
if(h<0)h=0;else if(h>=O)h=O-1;if(v<0)v=0;else if(v>=$)v=$-1;if(W<0)W=0;else if(W>=$)W=$-1;f[c[h*$+v]]--;
f[c[h*$+W]]++;z[c[h*$+v]>>>4]--;z[c[h*$+W]>>>4]++}E=0;for(q=0;q<256;q++){E+=f[q];if(E>=X)break}o[l++]=q}}};
a.X.k.VY=function(c,o,K,u,X){var self=a.X.k,$=self.xG(1),O=self.xG(1);for(var Y=0;Y<4;Y++){self.ow(c,$,Y);
if(Y<3)self.uS($,O,K,u,X);else O=$;self.ic(O,o,Y)}};a.X.k.qV=function(c,o,K){var self=a.X.k,u=self.Oc,X=self.s_,$=0;
for(var Y=0;Y<X;Y++){var O=Y*u,n=(Y-1)*u,x=(Y+1)*u;if(n<0)n=O;if(x>=X)x=O;for(var l=0;l<u;l++){var N=l-1,f=l+1;
if(N<0)N=l;if(f>=u)f=l;var z=O+N,R=O+f,V=n+l,d=x+l,e=O+l,p=c[z],h=c[R],E=c[V],q=c[d],Z=c[e],v=Z+(Z*4*K+.5);
v=v-((p+h+q+E)*K+.5);o[$++]=self.b2(v)}}};a.X.k.G1=function(c,o,K){var self=a.X.k,u=self.xG(1),X=self.xG(1);
for(var Y=0;Y<4;Y++){self.ow(c,u,Y);if(Y<3)self.qV(u,X,K);else X=u;self.ic(X,o,Y)}};a.X.k.a1D=function(c,o,K){var self=a.X.k,u=self.Oc,X=self.s_,$=0,O=K+4;
for(var Y=0;Y<X;Y++){var n=Y*u,x=(Y-1)*u,l=(Y+1)*u;if(x<0)x=n;if(l>=X)l=n;for(var N=0;N<u;N++){var f=N-1,z=N+1;
if(f<0)f=N;if(z>=u)z=N;var R=n+f<<2,V=n+z<<2,d=x+N<<2,e=l+N<<2,p=n+N<<2;for(var h=0;h<3;h++){var E=c[R+h],q=c[V+h],Z=c[d+h],v=c[e+h],W=c[p+h];
o[$++]=(W*K+E+q+v+Z)/O}o[$]=c[$];$++}}};a.X.k.aoo=function(c,o,K,u){var self=a.X.k,X=self.Oc,$=self.s_,O=K>>1,n=u>>1,x=0,l=new Int32Array(K),N=new Int32Array(256);
for(var Y=0;Y<$;Y++){for(var f=0;f<256;f++){N[f]=0}for(var z=0;z<K;z++){for(var R=0,V=u;R<V;R++){var d=0-n+R,e=Y-O+z;
if(R==0){l[z]=d}if(d<0)d=0;else if(d>=X)d=X-1;if(e<0)e=0;else if(e>=$)e=$-1;N[c[e*X+d]]++}}var p=0,h=0;
for(var E=0;E<256;E++){if(p<N[E]){h=E;p=N[E]}}o[x++]=h;for(var f=1;f<X;f++){for(var z=0;z<K;z++){var e=Y-O+z,q=l[z]+1;
l[z]=q;var Z=q-1,v=q+u-1;if(e<0)e=0;else if(e>=$)e=$-1;if(Z<0)Z=0;else if(Z>=X)Z=X-1;if(v<0)v=0;else if(v>=X)v=X-1;
N[c[e*X+Z]]--;N[c[e*X+v]]++}p=0;h=0;for(var E=0;E<256;E++){if(p<N[E]){h=E;p=N[E]}}o[x++]=h}}};a.X.k.aac=[function(c,o,K,u,X,$,O,n,x,l){return X+(c+o+K)*l-(x+n+O)*l},function(c,o,K,u,X,$,O,n,x,l){return X+(o+K+$)*l-(n+O+u)*l},function(c,o,K,u,X,$,O,n,x,l){return X+(K+$+x)*l-(O+u+c)*l},function(c,o,K,u,X,$,O,n,x,l){return X+($+x+n)*l-(u+c+o)*l},function(c,o,K,u,X,$,O,n,x,l){return X+(x+n+O)*l-(c+o+K)*l},function(c,o,K,u,X,$,O,n,x,l){return X+(n+O+u)*l-(o+K+$)*l},function(c,o,K,u,X,$,O,n,x,l){return X+(O+u+c)*l-(K+$+x)*l},function(c,o,K,u,X,$,O,n,x,l){return X+(u+c+o)*l-($+x+n)*l}];
a.X.k.Od=function(c,o,K,u,X){var self=a.X.k,$=self.Oc,O=self.s_,n=$,x=self.aac[u-1];for(var Y=0;Y<O;
Y++){var l=(Y>0?Y-1:0)*n,N=Y*n,f=(Y<O?Y+1:Y)*n;for(var z=0;z<$;z++){var R=z>0?z-1:0,V=z<$?z+1:z,d=N+z,e=c[l+R],p=c[l+z],h=c[l+V],E=c[N+R],q=o[d],Z=c[N+V],v=c[f+R],W=c[f+z],D=c[f+V];
K[d]=self.b2(x(e,p,h,E,q,Z,v,W,D,X))}}};a.X.k.aea=function(c,o,K,u,X){var self=a.X.k,$=self.xG(1),O=self.xG(1),n=self.xG(1);
for(var Y=0;Y<3;Y++){self.ow(c,$,Y);self.ow(o,O,Y);self.Od($,O,n,u,X);self.ic(n,K,Y)}self.ow(o,$,3);
self.ic($,K,3)};a.X.k.Ox=function(c,o){var K=c.length,u=0;for(var Y=0;Y<K;Y++){o[u++]=~~((c[Y++]+c[Y++]+c[Y++]+2)/3)}};
a.X.k.py=function(c,o){var K=o.length,u=0;for(var Y=0;Y<K;Y++){var X=c[Y];o[u++]=X;o[u++]=X;o[u++]=X;
o[u++]=255}if(o[0]==255)o[0]--;else o[0]++};a.X.k.n6=function(c,o){var K=o.length,u=0;for(var Y=0;Y<K;
Y++){var X=c[u++],$=c[u++],O=c[u++];u++;if($>X)X=$;if(O>X)X=O;o[Y]=X}};a.X.k.xO=function(c,o){if(o==null)o=c;
var K=c.length;for(var u=0;u<K;u+=4){var X=c[u],$=c[u+1],O=c[u+2],n=X,x=0,l=X,f;if($<=X){X=$}else{x=1;
l=$}if(O<=l){if(X>O){X=O}}else{x=2;l=O}var N=l-X;if(N!=0){if(x==0){f=~~(43*($-O)/N)}else if(x==1){f=~~(43*(O+2*N-n)/N)}else{f=43*(n+4*N-$)/N}if(f<0){f=255&f-1}o[u]=f;
o[u+1]=~~(255*N/l)}else{o[u]=N;o[u+1]=N}o[u+2]=l;o[u+3]=c[u+3]}};a.X.k.J$=function(c,o){if(o==null)o=c;
var K=c.length;for(var u=0;u<K;u+=4){var X=c[u],$=c[u+1],O=c[u+2];if($){if(X==255)X=0;var n=~~(6*X/255),x=~~(-255*n+6*X);
if(n==0){o[u]=O;o[u+1]=~~(O*(255-$*(255-x)/255)/255);o[u+2]=~~(O*(255-$)/255)}else if(n==1){o[u]=~~(O*(255-$*x/255)/255);
o[u+1]=O;o[u+2]=~~(O*(255-$)/255)}else if(n==2){o[u]=~~(O*(255-$)/255);o[u+1]=O;o[u+2]=~~(O*(255-$*(255-x)/255)/255)}else if(n==3){o[u]=~~(O*(255-$)/255);
o[u+1]=~~(O*(255-$*x/255)/255);o[u+2]=O}else if(n==4){o[u]=~~(O*(255-$*(255-x)/255)/255);o[u+1]=~~(O*(255-$)/255);
o[u+2]=O}else{o[u]=O;o[u+1]=~~(O*(255-$)/255);o[u+2]=~~(O*(255-$*x/255)/255)}}else{o[u]=O;o[u+1]=O;o[u+2]=O}o[u+3]=c[u+3]}};
a.X.k.ic=function(c,o,K,u){if(K==null)K=2;if(u==null)u=4;var X=c.length;for(var Y=0;Y<X;Y++){o[K]=c[Y];
K+=u}};a.X.k.ow=function(c,o,K,u){if(K==null)K=2;if(u==null)u=4;var X=o.length;for(var Y=0;Y<X;Y++){o[Y]=c[K];
K+=u}};a.X.k.aBv=function(c,o,K,u){if(u==null)u=1;var X=o.length,$=0,O;for(var $=0;$<X;$++){O=o[$];if(O){O*=u;
K[$]=~~((O*c[$]+(255-O)*K[$])/255)}}};a.X.k.IU=function(c,o,K,u){if(u==null)u=K;var X=o.length,$=0,O,n;
for(var Y=0;Y<X;Y++){O=o[Y];if(O){n=255-O;u[$]=~~((O*c[$]+n*K[$])/255);u[$+1]=~~((O*c[$+1]+n*K[$+1])/255);
u[$+2]=~~((O*c[$+2]+n*K[$+2])/255)}u[$+3]=c[$+3];$+=4}};a.X.k.dB=function(c,o,K,u){var X=~~(u*255),$=K.length;
for(var Y=0;Y<$;Y++){K[Y]=((255-X*(255-c[Y])/255)*o[Y]+c[Y]*(X*(255-c[Y])/255))/255}};a.X.k.wH=function(c,o,K,u){var X=~~(u*255),$=K.length;
for(var Y=0;Y<$;Y++){K[Y]=((255-X*c[Y]/255)*o[Y]+c[Y]*(X*c[Y]/255))/255}};a.X.k.$u=function(c,o,K){var u=o.length;
for(var Y=0;Y<u;Y++){o[Y]=~~(c[Y]*K+.5)+(o[Y]-~~(o[Y]*K+.5))}};a.X.k.sub=function(c,o){var K=c.length;
for(var Y=0;Y<K;Y++){o[Y]=Math.max(c[Y]-o[Y],0)}};a.X.k.add=function(c,o){var K=c.length;for(var Y=0;
Y<K;Y++){o[Y]=Math.min(c[Y]+o[Y],255)}};a.X.k.a2P=function(c,o){var K=c.length;for(var Y=0;Y<K;Y++){o[Y]=c[Y]+o[Y]}};
a.X.k.Xg=function(c,o){var K=c.length;for(var Y=0;Y<K;Y++){o[Y]=c[Y]+o[Y]>>1}};a.X.k.lY=function(c,o){var K=c.length;
for(var Y=0;Y<K;Y++){o[Y]=c[Y]}};a.X.k.Ls=function(c,o){var K=c.length;for(var Y=0;Y<K;Y++){c[Y]=o[c[Y]]}};
a.X.k.a53=function(c,o){var K=a.X.k.Zi;for(var Y=0;Y<K;Y+=4){var u=c[Y],X=c[Y+1],$=c[Y+2],O=u;if(X>u)O=X;
if($>u)O=$;var n=o[O];if(n){c[Y]=~~(n*u/O);c[Y+1]=~~(n*X/O);c[Y+2]=~~(n*$/O)}else{c[Y]=n;c[Y+1]=n;c[Y+2]=n}}};
a.X.k._u=function(c,o){for(var Y=0,K=c.length;Y<K;Y++){c[Y]=Math.min(255,~~(.5+c[Y]*o))}};a.X.k.tW=function(c,o){for(var Y=0,K=c.length;
Y<K;Y++){c[Y]=255-Math.min(255,~~(.5+(255-c[Y])*o))}};a.X.k.fH=function(c){var o=c.length;for(var Y=0;
Y<o;Y++){c[Y]=255-c[Y]}};a.X.k.iJ=function(c,o,K,u){if(K==null)K=0;if(u==null)u=255;for(var Y=0,X=c.length;
Y<X;Y++){c[Y]=c[Y]>=o?u:K}};a.X.k.wI=function(c){return[c>>24&255,c>>16&255,c>>8&255,c&255]};a.X.k.a4b=function(c,o,K,u){if(K==null)K=255;
if(u==null)u=4278190335;var X=a.X.k,$=X.Zi,O=X.wI(K),n=X.wI(u);for(var Y=0;Y<$;Y+=4){var x=~~((c[Y]+c[Y+1]+c[Y+2]+2)/3);
if(x>=o){c[Y]=O[0];c[Y+1]=O[1];c[Y+2]=O[2]}else{c[Y]=n[0];c[Y+1]=n[1];c[Y+2]=n[2]}}};a.X.k.eL=function(c,o){var K=a.X.k,u=K.Zi,X=K.wI(o);
for(var Y=0;Y<u;){c[Y++]=X[0];c[Y++]=X[1];c[Y++]=X[2];c[Y++]=X[3]}};a.X.k.a4O=function(c,o){var K=c.length;
for(var Y=0;Y<K;){c[Y++]=o}};a.X.k.ap9=function(c,o){c=c>5?(100-Math.max(4,c))/100:.95;o=o!=100?Math.max(4,o)/100:.9995;
var K=new Uint8Array(256),u=o>.5?.5/(1-o):o*2,X=~~(u*256),$=~~((.5-c*u)*256)<<8;for(var Y=0;Y<256;Y++){K[Y]=a.X.k.b2($>>8);
$+=X}return K};a.X.k.sg=function(c){for(var Y=0,o=a.X.k,K=c.length;Y<K;Y++){c[Y]=~~(o.random()*256)}};
a.X.k.aBf=function(c,o){for(var Y=0,K=a.X.k,u=c.length;Y<u;Y++){c[Y]=K.random()<o?255:0}};a.X.k.ay2=function(c,o,K){for(var Y=0,u=a.X.k,X=c.length;
Y<X;Y++){if(u.random()<o)c[Y]=K}};a.X.k.a9m=function(c,o,K){var u=c.length;for(var Y=0;Y<u;Y++){c[Y]=a.X.k.b2(c[Y]+K[o[Y]])}};
a.X.k.Wl=function(c){var o=new Uint32Array(256);for(var Y=0,K=c.length;Y<K;Y++)o[c[Y]]++;return o};a.X.k.afy=function(c,o){var K=0,u=0,X=new Uint32Array(256),$=new Float32Array(256);
for(var Y=0,O=c.length;Y<O;Y++){var n=c[Y],x=o[Y];if(x==255){X[n]++;K++}else if(x>0){x/=255;u+=x;$[n]+=x;
if(u>=1){u--;K++}if($[n]>=1){$[n]--;X[n]++}}}return[K,X]};a.X.k.Jb=function(c,o,K,u){var self=a.X.k,X,$,N=0,z=256;
if(u){var O=self.afy(K,u);X=O[1];$=O[0]/100}else{X=self.Wl(K);$=self.ui/100}var n=new Uint8Array(256),x=$*c,l=$*o,f=-1;
do{N+=X[++f]}while(N<=x);N=0;do{N+=X[--z]}while(N<=l);if(z-f<=0)z=f+1;if(z>255){z=255;f=254}var R=255/(z-f),V=-f;
for(var Y=0;Y<256;Y++){n[Y]=self.b2(R*V+.5);V++}return n};a.X.k.Tj=function(c,o,K,u){var X=a.X.k;X.Ls(c,X.Jb(o,K,c,u))};
a.X.k.asa=function(c,o){var self=a.X.k,K=self.Wl(c),u=self.ui*o/100,X=0,$=-1;do{X+=K[++$]}while(X<=u);
return $};a.X.k.ws=function(c,o){var K=0,self=a.X.k,u=self.Oc,X=self.s_,$=1/Math.PI,O=$*255;for(var Y=0;
Y<X;Y++){var n=Y+1;if(n==X)n--;var x=Y*u,l=~~((1-(Y+1)/X)*255);for(var N=0;N<u;N++){var f=N+1;if(f==u)f--;
var z=c[x+N],R=c[x+f],V=c[n*u+N];if(z-V==0){o[K++]=l}else{var d=z-V+255;if(d==255){d=0}else{d=~~(Math.atan2(1/(255-d),1)*O+.5);
if(d<0)d+=255}o[K++]=d}if(z-R==0){o[K++]=~~((1-(N+1)/u)*255)}else{var d=z-R+255;if(d==255){d=0}else{d=~~(Math.atan2(1/(255-d),1)*O+.5);
if(d<0)d+=255}o[K++]=d}}}};a.X.k.ahu=function(c,o){var self=a.X.k,K=self.Oc,u=self.s_,X=0;for(var Y=0;
Y<u;Y++){for(var $=0;$<K;$++){c[X]=~~(Y*o+.5)+~~(c[X]*(1-o)+.5);X++;c[X]=~~($*o+.5)+~~(c[X]*(1-o)+.5);
X++}}};a.X.k.awL=function(c,o,K,u){var self=a.X.k,X=self.Oc,$=self.s_,O=0;for(var Y=0;Y<$;Y++){for(var n=0;
n<X;n++){o[O]=~~(o[O]*(1-K)+.5)+~~(c[O]*u+.5);O++;o[O]=~~(o[O]*(1-K)+.5)+~~(c[O]*u+.5);O++}}};a.X.k.a9S=function(c,o,K){var self=a.X.k,u=self.Oc,X=self.s_,$=0,O=0;
for(var Y=0;Y<X;Y++){for(var n=0;n<u;n++){var x=c[$++],l=c[$++];o[O++]=l%K>=2&&x%K>=2?255:0}}};a.X.k.aa9=function(c,o,K,u,X,$,O){var self=a.X.k,n=self.Oc,x=self.s_,l=0,N=0,f=0;
for(var Y=0;Y<x;Y++){var z=Y%c<K||x-K<=Y;for(var R=0;R<n;R++){O[l++]=z||R%o<u||n-u<=R?X:$}}};a.X.k.B_=function(c,o,K,u){var self=a.X.k,X=self.Oc,$=self.s_,O=gL.B_(o),n=O[1],x=O[0].m,l=O[0].e,N=100/K;
for(var f=0;f<$;f++)for(var z=0;z<X;z++){var R=a.D.Iv(z*N,f*N,n,x,l);c[f*X+z]=u?255-R:R}};a.X.k.b2=function(c){return~~Math.min(255,Math.max(0,c))};
a.X.k.awE=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];a.X.k.aAO=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
a.X.k.uG=function(c){return c>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][c-41]:c/40};a.X.k.aoN=function(c,o,K){var self=a.X.k,u=self.Oc,X=self.s_,$=K,O=K>>1,n=O-1,x=$*$,l=0;
for(var Y=0;Y<X;Y++){var N=0,f=0,z=0,R=~~(Y/K)*K,V=0;for(var d=0;d<$;d++){for(var e=0;e<$;e++){var p=V+e,h=R+d;
if(p>=u)p=u-1;if(h>=X)h=X-1;N+=c[h*u+p<<2];f+=c[(h*u+p<<2)+1];z+=c[(h*u+p<<2)+2]}}var E=~~(N/x),q=~~(f/x),Z=~~(z/x);
o[l]=E;o[l+1]=q;o[l+2]=Z;o[l+3]=c[l+3];l+=4;for(var v=1;v<u;v++){for(var d=0;d<$;d++){var W=v-1,D=W+$,h=R+d;
if(D>=u)D=u-1;if(h>=X)h=X-1;var I=h*u,A=I+D<<2,U=I+W<<2;N+=c[A]-c[U];f+=c[A+1]-c[U+1];z+=c[A+2]-c[U+2]}if(v%K==0){E=~~(N/x);
q=~~(f/x);Z=~~(z/x)}o[l]=E;o[l+1]=q;o[l+2]=Z;o[l+3]=c[l+3];l+=4}}};a.X.k.a8H=function(c,o,K,u,X){var self=a.X.k,$=self.Oc,O=self.s_,n=0,x=0,l=0,N=0;
for(var Y=N;Y<O+N;Y++){var f=Y%o>=u||Y<u||O+N-u<=Y;for(var z=0;z<$;z++){c[n++]=f&&(z%K>=X||z<X||$-X<=z)?255:0}}};
a.X.k.axb=function(c,o,K){var u=function(l,N){return N<=l?l/N&1?N-l%N:l%N:l},X=[function(n,x){return u(n,255)/255},function(n,x){return(255+u(n,255)-u(x,255))/510},function(n,x){return(255-u(x,255))/255},function(n,x){return(510-u(n,255)-u(x,255))/510},function(n,x){return(255-u(n,255))/255},function(n,x){return(255-u(n,255)+u(x,255))/510},function(n,x){return u(x,255)/255},function(n,x){return(u(n,255)+u(x,255))/510}][K],$=0,O=0;
for(var Y=0;Y<a.X.k.ui;Y++){var n=c[$++],x=c[$++];o[O++]=~~(255*X(n,x))}};a.X.av4=function(){var c=[],o=new Uint8Array(512),K=new Float32Array(512),u=new Float32Array(512),X=[1,-1,1,-1,1,-1,0,0],$=[1,1,-1,-1,0,0,1,-1],O=0,n,V=0;
for(;O<256;O++)c[O]=O;while(O!=0){O--;n=Math.floor(Math.random()*O);c[n]^=c[O]^(c[O]=c[n])}function x(x){x=Math.floor(x*65536);
if(x<256){x|=x<<8}for(var Y=0;Y<256;Y++){var p=Y+256,h=c[Y]^(Y&1?x:x>>8)&255;o[Y]=o[p]=h;h=h%8;K[Y]=K[p]=X[h];
u[Y]=u[p]=$[h]}}function l(p){return p*p*p*(p*(p*6-15)+10)}function N(p,h,E){return(1-E)*p+E*h}function f(p,h){return p&h}function z(p,h){return p%h}function R(p,h,E,q,Z){var v=Math.floor(p),W=Math.floor(h),O,D,I,A,U,w;
p=p-v;h=h-W;v=v&255;W=W&255;O=v+o[W];A=K[O]*p+u[O]*h;O=v+o[Z(W+1,q)];I=K[O]*p+u[O]*(h-1);O=Z(v+1,E)+o[W];
U=K[O]*(p-1)+u[O]*h;O=Z(v+1,E)+o[Z(W+1,q)];w=K[O]*(p-1)+u[O]*(h-1);D=l(p);return N(N(A,U,D),N(I,w,D),l(h))}function d(p,O,h){p[O]=h}function e(p,h,E,q,Z){var v=Math.min(Math.min(h,256),Math.min(256,E)),W=v==256||v<8,D=8,I=new Uint32Array(D),A=new Uint32Array(D),U=new Float32Array(D),w=new Float32Array(D),t=1,L=1,J=W?f:z,b=d,F;
for(var Y=0;Y<D;Y++){F=L*1/v;if(W){A[Y]=(1<<Math.ceil(Math.log2(E*F)))-1;I[Y]=(1<<Math.ceil(Math.log2(h*F)))-1}else{A[Y]=F*E;
I[Y]=F*h}U[Y]=t;w[Y]=F;t*=.5;L=L<<1}x(Math.random());for(var B=0,O=0;B<E;B++){for(var k=0;k<h;k++){var i=0;
for(var H=0;H<D;H++){F=w[H];i+=R(k*F,B*F,I[H],A[H],J)*U[H]}b(q,O++,Math.round(Math.max(0,255*Math.min(1,.5+i*.5))))}}}return e}();
a.X.axz=function(){function c(o,K,u,X){var $=new Uint8Array(o.length>>>2),O=new Uint8Array(o.length>>>2),n=new Uint8Array(o.length);
for(var Y=0;Y<o.length;Y+=4){var x=o[Y+0]*.3+o[Y+1]*.59+o[Y+2]*.11;O[Y>>>2]=x;n[Y]=o[Y];n[Y+1]=o[Y+1];
n[Y+2]=o[Y+2]}a.wq.aB8(O,$,K,u);a.wq.Wb(o,X,K,u,a.wq.lV[1],0,!0);for(var Y=0;Y<o.length;Y+=4){n[Y+3]=255-$[Y>>>2]}for(var Y=0,l=o.length;
Y<l;Y+=4){var N=n[Y+3]/255;X[Y]=n[Y]*N+X[Y]*(1-N);X[Y+1]=n[Y+1]*N+X[Y+1]*(1-N);X[Y+2]=n[Y+2]*N+X[Y+2]*(1-N)}}return c}();
a.X.aoh=function(){function c($,O,n,x,l){var N=new Uint32Array($.buffer),f=0;for(var Y=0;Y<n;Y++){for(var z=0;
z<O;z++,f+=4){var R=N[Y*O+z],V=R&255,d=R>>>8&255,e=R>>>16&255,p=R>>>24&255,h=~~(Math.random()*8),E=h%3,q=0,Z=0;
if(h<3){Z--}else if(h>4){Z++}if(E==0){q--}else if(E==2){q++}var v=z+q,W=Y+Z;if(v<0)v=0;else if(v>O-1)v=O-1;
if(W<0)W=0;else if(W>n-1)W=n-1;var R=N[W*O+v],D=R&255,I=R>>>8&255,A=R>>>16&255,U=R>>>24&255;x[f]=l(V,D);
x[f+1]=l(d,I);x[f+2]=l(e,A);x[f+3]=l(p,U)}}}function o($,O){return O}function K($,O){return $>O?O:$}function u($,O){return $<O?O:$}function X($,O,n,x,l){var N=l[0];
if(N==0)c($,O,n,x,o);else if(N==1)c($,O,n,x,K);else if(N==2)c($,O,n,x,u);else if(N==3){console.error("Not implemented")}else console.error("Mew mew")}return X}();
a.X.ab4=function(){function c(o,K,u,X,$){var O=$&&$[0]?$[0]:4,n,x,l,N,f,z,R;for(var Y=0;Y<u;Y++){var V=Math.max(Y-O,0),d=Math.min(Y+O,u-1);
for(var e=0;e<K;e++){var p=Math.max(e-O,0),h=Math.min(e+O,K-1);n=V*K+p<<2;N=o[n];f=o[n+1];z=o[n+2];R=o[n+3];
n=V*K+h<<2;N+=o[n];f+=o[n+1];z+=o[n+2];R+=o[n+3];n=d*K+p<<2;N+=o[n];f+=o[n+1];z+=o[n+2];R+=o[n+3];n=d*K+h<<2;
N+=o[n];f+=o[n+1];z+=o[n+2];R+=o[n+3];n=Y*K+e<<2;X[n]=N+2>>>2;X[n+1]=f+2>>>2;X[n+2]=z+2>>>2;X[n+3]=R+2>>>2}}}return c}();
a.X.aqa=function(){function c(o,K,u,X){var $=new Uint8Array(o.length),O=new Uint8Array(o.length>>>2),n=new Uint8Array(o.length>>>2);
a.wq.Wb(o,$,K,u,a.wq.lV[2],0,!0);for(var Y=0;Y<o.length;Y+=4){var x=$[Y+0]*.3+$[Y+1]*.59+$[Y+2]*.11;
O[Y>>>2]=x;X[Y+0]=o[Y+0];X[Y+1]=o[Y+1];X[Y+2]=o[Y+2];X[Y+3]=o[Y+3]}a.wq.aB8(O,n,K,u);for(var Y=0;Y<o.length;
Y+=4){$[Y+3]=~~(Math.max(0,255-n[Y>>>2]-50)*(255/205))}for(var Y=0,l=o.length;Y<l;Y+=4){var N=$[Y+3]/255;
X[Y]=$[Y]*N+X[Y]*(1-N);X[Y+1]=$[Y+1]*N+X[Y+1]*(1-N);X[Y+2]=$[Y+2]*N+X[Y+2]*(1-N)}}return c}();a.X.n9=function(){function c(h,E){return h[E]+h[E+1]+h[E+2]+h[E+3]}function o(h,E){return h[E]+h[E+1]+h[E+2]+2*h[E+3]}function K(h,E,q,Z){h[E]=q[Z];
h[E+1]=q[Z+1];h[E+2]=q[Z+2];h[E+3]=q[Z+3]}function u(h,E,q){h[E]=h[q];h[E+1]=h[q+1];h[E+2]=h[q+2];h[E+3]=h[q+3]}function X(h,E,q){h[q]=E[q];
h[q+1]=E[q+1];h[q+2]=E[q+2];h[q+3]=255-E[q+3]}function $(h){for(var Y=0,E=h.length;Y<E;Y+=4){h[Y+3]=255-h[Y+3]}}function O(){var h=Math.random();
if(h>.5)return 0;if(h>.25)return 1;if(h>.1)return 2;if(h>.02143)return 3;if(h>.00445)return 4;if(h>65e-5)return 5;
if(h>415e-6)return 6;if(h>55e-6)return 7;return 8}function n(h,E,q,Z,v,W){h[E]=q[Z]+(v[W]-q[Z]>>1);h[E+1]=q[Z+1]+(v[W+1]-q[Z+1]>>1);
h[E+2]=q[Z+2]+(v[W+2]-q[Z+2]>>1);h[E+3]=q[Z+3]+(v[W+3]-q[Z+3]>>1)}function x(h,E,q,Z,v,W){h[E]=v[W]+q[Z]>>1;
h[E+1]=v[W+1]+q[Z+1]>>1;h[E+2]=v[W+2]+q[Z+2]>>1;h[E+3]=v[W+3]+q[Z+3]>>1}function l(h,E,q,Z,v,W,D,I,A){var U=0,w=0,t=0,Y,L=v[W],J;
n(I,0,h,E,h,q);for(Y=0;Y<L;Y++){n(I,(Y+1)*4,I,Y*4,h,q)}w=(L+1)*4;t+=L;W--;K(h,E,I,w-4);Z[W]=c(h,E);E-=A;
while(W>0&&Z[W-1]<Z[W]){J=I;I=D;D=J;U=w;x(I,0,h,E-A,D,0);for(Y=4;Y<U;Y+=4){x(I,Y,I,Y-4,D,Y)}L=v[W];for(Y=t;
Y<L;Y++){n(I,w,I,w-4,D,U-4);w+=4;t++}W--;K(h,E,I,w-4);Z[W]=c(h,E);E-=A}}function N(h,E,q,Z,v){var W=E*4,D=0,I,A,U=new Uint8Array(E+1),w=new Uint8Array(10*4),t=new Uint8Array(10*4);
for(var Y=0;Y<q;Y++){X(Z,h,D);v[0]=c(Z,D);U[0]=O();I=D;D+=4;for(var L=1;L<E;L++){X(Z,h,D);v[L]=c(Z,D);
A=O();U[L]=A;if(v[L-1]<v[L]&&A>0){l(Z,D-4,D,v,U,L,w,t,4)}D+=4}v[E]=v[0];U[E]=U[0];if(v[E-1]<v[E]&&A>0){l(Z,D,I,v,U,E,w,t,4)}}$(Z)}function f(){var h=Math.random();
if(h>.659755)return 0;if(h>.1625)return 10;if(h>.06)return 20;if(h>.01)return 30;if(h>.0035)return 40;
if(h>65e-5)return 50;if(h>415e-6)return 60;if(h>55e-6)return 70;return 80}function z(h,E,q,Z,v,W){var D=f()+1,I=Z[v];
for(var Y=1;Y<D;Y++){if(0>v)break;if(Z[v-Y]<I){u(h,E,q)}else{break}E+=W}}function R(h,E,q,Z,v){var W=E*4,D=0;
for(var Y=0;Y<q;Y++){X(Z,h,D);v[0]=c(Z,D);D+=4;for(var I=1;I<E;I++){X(Z,h,D);v[I]=c(h,D);if(v[I-1]<v[I]){z(Z,D-4,D,v,I,-4)}D+=4}v[E]=v[0];
if(v[I-1]<v[I]){z(Z,D-4,D-W,v,I,-4)}}$(Z)}function V(h,E,q,Z,v,W){var D=1,I,A,U=new Uint8Array(4),w,t=E;
while(Math.random()<1/D){t=E;if(Z<=1)break;I=q[Z];A=q[Z-1];if(I<=A)break;K(U,0,h,t-W);w=!0;for(var Y=Z;
Y<v;Y++){if(A>q[Y]){K(h,t-W,U,0);q[Y-1]=A;w=!1;break}K(h,t-W,h,t);q[Y-1]=q[Y];t+=W}if(w){K(h,t-W,U,0);
q[v-1]=A}D++;Z--;E-=W}}function d(h,E,q,Z,v){var W=0,D=0,I=E*4;for(var Y=0;Y<q;Y++){D=W;for(var A=0;
A<E;A++){X(Z,h,W);v[A]=o(Z,W);W+=4}W=D;for(var A=1;A<E;A++){if(v[A-1]<v[A]&&Math.random()<.66){V(Z,W+4,v,A,E,4)}W+=4}W+=4}$(Z)}function e(h,E,q,Z,v){var W=v[0],D=v[1],I=new Uint16Array(E+1),A=h,U=Z,w;
if(D){w=Z.slice(0);p(h,Z,E,q);A=Z;U=w}if(W==0)N(A,E,q,U,I);else if(W==1)R(A,E,q,U,I);else if(W==2)d(A,E,q,U,I);
if(D){p(w,Z,E,q)}}function p(h,E,q,Z){for(var v=0;v<Z;v++)for(var W=0;W<q;W++){var D=v*q+W<<2,I=v*q+(q-1-W)<<2;
E[I]=h[D];E[I+1]=h[D+1];E[I+2]=h[D+2];E[I+3]=h[D+3]}}return e}();a.X.am2=function(c,o,K,u,X){var $=a.X.k,O=1,e=0,E=0;
$.HP(o,K);$.cn(X[2]);var n=3<<13,x=Math.PI/2.43,l=x/256,N=Math.PI*2/256;function f(){var W=$.random()*256,D=$.random()*256;
return O*~~(Math.tan(x-W*l)*325*Math.cos(D*N)*256)+n>>16}O=X[0];var z=X[1],R=(z+2)/2,V=$.random()*255,d=$.xG(1);
for(var Y=0;Y<K;Y++){var p=$.b2(f()+V);for(var h=0;h<o;h++){p=$.b2(f()+p);d[e++]=p}}e=o;for(var Y=1;
Y<K;Y++){var q=$.b2(f()+d[E++]);d[e++]=q;for(var h=1;h<o;h++){var Z=E+1;if(h+1==o){Z--}var v=(R+q+d[Z]+d[E]*z)/(z+2);
q=$.b2(f()+v);d[e++]=q;E++}}$.py(d,u)};var jR=function(){function c(Q){Q=Q^61^Q>>>16;Q=Q+(Q<<3);Q=Q^Q>>>4;
Q=Q*668265261;Q=Q^Q>>>15;return Q}var o=function(){var o=function(Q){if(Q){this.V=Q}this.V=c(this.V);
return(this.V&16777215)*(1/16777215)};return o};function K(Q,G){if(G==null){G=[0,0]}return Math.sqrt((G[0]-Q[0])*(G[0]-Q[0])+(G[1]-Q[1])*(G[1]-Q[1]))}function u(Q,G){if(G==null){G=[0,0]}return[-(G[1]-Q[1])/K(Q,G),(G[0]-Q[0])/K(Q,G)]}function X(Q){return[Math.cos(Q),Math.sin(Q)]}function $(Q){var G=K(Q,[0,0]),g=[Q[0]/G,Q[1]/G],P=Math.atan(g[1]/g[0]);
if(g[0]>0&&g[1]<0){P+=2*Math.PI}else if(g[0]<0&&g[1]<0){P+=Math.PI}else if(g[0]<0&&g[1]>0){P+=Math.PI}return P}function O(Q){var O=0;
for(var Y=1;Y<Q.length/2;++Y){O+=K([Q[2*Y],Q[2*Y+1]],[Q[2*(Y-1)],Q[2*(Y-1)+1]])}return O}function n(Q,G,g){var P=new Float32Array(Q.length),M=1/(Q.length/2),T=Z(g);
for(var Y=0;Y<Q.length/2;++Y){var C=Y*M,gf=C/2+.5,s=1,b3=0;if(g.shape==2){s=1/(2*gf)}if(g.shape==3){gf=(1-C)/2+.5;
s=1/(2*gf)+.5}if(g.shape==4){gf=C;s=Math.sin(3/2*Math.PI*gf)/4+1}if(g.shape==5){gf=(C-.5)*6;s=(-Math.atan(gf)/1.25+1)/5+.6-.2*C}var d5=[null,null];
if(Y==0){d5=u([Q[2*Y],Q[2*Y+1]],[Q[2*(Y+1)],Q[2*(Y+1)+1]])}else if(Y==Q.length/2-1){d5=u([Q[2*(Y-1)],Q[2*(Y-1)+1]],[Q[2*Y],Q[2*Y+1]])}else{d5=u([Q[2*(Y-1)],Q[2*(Y-1)+1]],[Q[2*(Y+1)],Q[2*(Y+1)+1]])}P[2*Y]=Q[2*Y]+(s*G+b3)*d5[0];
P[2*Y+1]=Q[2*Y+1]+(s*G+b3)*d5[1];if(g.style==2){P[2*Y]+=v(2*Y/P.length,T,g)}}return P}function x(Q,G,g){var P=new Float32Array(Q.length),M=1/(Q.length/2);
for(var Y=0;Y<Q.length/2;++Y){var T=Y*M,C=[null,null],gf=.6*g.fB*I(T,G.a6m)*g.Eh/100,s=.6*g.fB*I(T,G.ab8)*g.Eh/100,b3=G.ag6*gf+(1-G.ag6)*s;
if(Y==0){C=u([Q[2*Y],Q[2*Y+1]],[Q[2*(Y+1)],Q[2*(Y+1)+1]])}else if(Y==Q.length/2-1){C=u([Q[2*(Y-1)],Q[2*(Y-1)+1]],[Q[2*Y],Q[2*Y+1]])}else{C=u([Q[2*(Y-1)],Q[2*(Y-1)+1]],[Q[2*(Y+1)],Q[2*(Y+1)+1]])}P[2*Y]=Q[2*Y]+b3*C[0];
P[2*Y+1]=Q[2*Y+1]+b3*C[1]}return P}function l(Q){if(Q.ma==1){return[.150684932,.205479452,.465753425,.178082192]}else if(Q.ma==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var G=[],g=1/(t(Q)-1);
for(var Y=0;Y<t(Q)-1;++Y){G.push(g)}return G}}function N(Q,G,g){var P=[],M=G-Q,T=Q;for(var Y=0;Y<g.length-1;
++Y){P.push(T+g[Y]*M);T=P[Y]}return P}function f(Q,G,g,P){var M=new Float32Array(g.length),T=0,C={shape:Math.floor(P.random()*2.99),abo:P.random()*.1+.15};
for(var Y=0;Y<g.length-1;++Y){var gf=T+g[Y];M[Y]=((1-gf)*Q+gf*G)*p(P,gf,C);T=gf}return M}function z(Q,G,g,P){var M=U(P),T=P.random(),C=T*20+(1-T)*26,gf=new Float32Array(g.length),s=0;
for(var Y=0;Y<g.length-1;++Y){var b3=s+g[Y];gf[Y]=(1-b3)*Q+b3*G+M/C*(2/3*Math.sin(Math.PI*b3)+1/3*Math.sqrt(Math.sin(Math.PI*b3)));
s=b3}return gf}function R(Q,G,g){var P=[];for(var Y=0;Y<G.length-1;++Y){P.push(G[Y].slice());var M=Y*(t(g)-1),T=(Y+1)*(t(g)-1),C=Q[T]-Q[M];
for(var gf=M+1;gf<T;++gf){var s=Z(g),b3=new Float32Array(G[0].length),d5=(Q[gf]-Q[M])/C;for(var gh=0;
gh<G[0].length/2;++gh){b3[2*gh]=(1-d5)*G[Y][2*gh]+d5*G[Y+1][2*gh];b3[2*gh+1]=(1-d5)*G[Y][2*gh+1]+d5*G[Y+1][2*gh+1];
if(g.style==2){b3[2*gh]+=v(2*gh/G[0].length,s,g)}}P.push(b3)}}P.push(G[G.length-1]);return P}function V(Q,G,g){var P=new Array(G.length),M=i(Q),C=null;
for(var Y=0;Y<G.length;++Y){P[Y]=n(M,(G[Y]-.5)*g.Eh,g)}var T=1+.05*g.auB*U(g)/U({ma:1});for(var Y=0;
Y<G.length;++Y){if(G[Y]==0){C=Y}}for(var Y=0;Y<G.length;++Y){var gf=(g.random()-.5)*2,s=Math.round(g.random()*9+1),b3=new Float32Array(s*2+2);
for(var d5=0;d5<=s;++d5){b3[2*d5]=P[Y][0]-(P[Y][2*d5]-P[Y][0]);b3[2*d5+1]=P[Y][1]-(P[Y][2*d5+1]-P[Y][1])}if(Y==C){gf*=.1}for(var d5=(P[Y].length-1)/2;
d5>s;--d5){P[Y][2*d5]=(1-gf)*P[Y][2*d5]+gf*(P[Y][2*(d5-s)]+T*(P[Y][2*d5]-P[Y][2*(d5-s)]));P[Y][2*d5+1]=(1-gf)*P[Y][2*d5+1]+gf*(P[Y][2*(d5-s)+1]+T*(P[Y][2*d5+1]-P[Y][2*(d5-s)+1]))}for(var d5=s-1;
d5>=0;--d5){P[Y][2*d5]=(1-gf)*P[Y][2*d5]+gf*(b3[2*(s-d5)]+T*(P[Y][2*d5]-b3[2*(s-d5)]));P[Y][2*d5+1]=(1-gf)*P[Y][2*d5+1]+gf*(b3[2*(s-d5)+1]+T*(P[Y][2*d5+1]-b3[2*(s-d5)+1]))}}var gh=D(G,g);
if(g.fB>0){var jt=0;for(var Y=0;Y<G.length;++Y){if(Y==0){jt+=G[Y]}else{jt+=Math.abs(G[Y]-G[Y-1])}var fl=jt-Math.floor(jt),eq=1;
if(fl==0){eq=0}P[Y]=x(P[Y],{a6m:gh[Math.floor(jt)],ab8:gh[Math.floor(jt)+eq],ag6:fl},g)}}return P}function d(Q,G){var g=b(G,Q),P=F(G,Q),M=[],T=[],C=[],gf=l(Q);
for(var Y=0;Y<G.length-1;++Y){M.push(G[Y]);T.push(g[Y]);C.push(P[Y]);var s=N(G[Y],G[Y+1],gf),b3=f(g[Y],g[Y+1],gf,Q),d5=z(P[Y],P[Y+1],gf,Q);
for(var gh=0;gh<s.length;++gh){M.push(s[gh]);T.push(b3[gh]);C.push(d5[gh])}}M.push(G[G.length-1]);T.push(g[g.length-1]);
C.push(P[P.length-1]);return{amY:M,awr:T,a9:C}}function e(Q,G,g,P){var M=new Float32Array(2*P),T=Q.length/2,C=T-G,gf=g*C,s=gf/P;
for(var Y=0;Y<P;++Y){var b3=Math.floor(G+Y*s),d5=Math.ceil(G+Y*s),g=G+Y*s,gh=d5-b3,jt=1,fl=0;if(gh!=0){jt=(d5-g)/gh;
fl=(g-b3)/gh}M[2*Y]=jt*Q[2*b3]+fl*Q[2*d5];M[2*Y+1]=jt*Q[2*b3+1]+fl*Q[2*d5+1]}return M}function p(Q,G,g){var P=g.abo,M=G*2*Math.PI,T=M,C=0;
if(g.shape==0){C=(Math.sin(2*T+Math.PI/2)+1)/2}else if(g.shape==1){C=(Math.sin(T+Math.PI/2)+1)/2}else{C=(4*Math.sin(3/4*T+Math.PI)+Math.sin(Math.PI/2+2*T)-2*T/Math.PI+6)/7}return Math.min(1,1-P+P*C)}function h(Q,G,g,P){var M=[];
for(var Y=0;Y<Q.length;++Y){M.push(e(Q[Y],G[Y],g[Y],P))}return M}function E(Q,G,g){var P=[];for(var Y=0;
Y<Q.length;++Y){var M=X(2*Math.PI*g.random()),T=X(2*Math.PI*g.random()),C=g.BM*.5*L({ma:1})/L(g),gf=C*g.Eh/200,s=C*G/500,b3=new Float32Array(Q[0].length);
for(var d5=0;d5<Q[0].length/2;++d5){var gh=X(2*Math.PI*g.random()),jt=2*d5/Q[0].length;b3[2*d5]=Q[Y][2*d5]+gf*(gh[0]+((1-jt)*M[0]+jt*T[0]));
b3[2*d5+1]=Q[Y][2*d5+1]+s*(gh[1]+((1-jt)*M[1]+jt*T[1]))}P.push(b3)}return P}function q(Q,G,g){var P=g.OZ,M=2/P,T=[1/10,1/30,1/40,1/45,1/100],C=T[g.ma-1],gf=4*(g.opacity/25*M*C)*(1-g.BM/150),gh=0,fl=0;
if(g.style==3){return gf*.09}var s=2.2*(Q-.5),b3=s*s*s*s+.27+Math.max(0,(g.opacity-50)/15),d5=2*(Math.sin(3*Math.PI*G)/(Math.PI*G+2)+1.1)-G/2;
G=2*G;if(G<.41){var jt=2*Math.PI*G/.41;gh=(Math.sin(jt-Math.PI/2)+1)/4+.5}else if(G<.77){var jt=2*Math.PI*(G-.41)/.36;
gh=(Math.sin(jt-Math.PI/2)+1)/4+.5-jt/2/Math.PI*.5}else{var jt=2*Math.PI*(G-.77)/.23;gh=(Math.sin(jt-Math.PI/2)+1)/2*.12}gh*=3;
gh+=Math.max(0,(g.opacity-50)/15);if(g.type==6){fl=d5}else{fl=gh}return gf*b3*fl}function Z(Q){return{H:Q.random()*7/2+.5,S7:Q.random()*2*Math.PI}}function v(Q,G,g){return g.Eh/300*t({ma:1})/t(g)*10*(Math.sin(G.H*2*Math.PI*Q+G.S7)+10*(g.random()-.5))}function W(Q){var G=Math.exp(-Q.fB/25);
return{H:Q.random()*3/2+.5,S7:Q.random()*2*Math.PI,y6:(Q.random()-.5)*10*G}}function D(Q,G){var g=Math.ceil(B(Q)),P=[];
for(var Y=0;Y<=g;++Y){P.push(W(G))}return P}function I(Q,G){var g=G.H*4*Math.PI*Q+G.S7;return Math.exp(-1/2*Math.PI*Q)*Math.cos(g)*Math.cos(g)*Math.cos(g)*Math.cos(g)*Math.cos(g)+Q*G.y6-G.y6/4}function A(Q,G,g,P,M){var T=0,C=L(G)-1;
for(var Y=0;Y<C;++Y){for(var gf=0;gf<Q.length-1;gf+=t(G)-1){for(var s=Y;s<Q[0].length/2-C;s+=C){for(var b3=gf;
b3<gf+(t(G)-1);++b3){g[M+T]=q(b3*(G.OZ-1)/(Q.length-1)%1,s/Q[0].length,G);var d5=0,gh=0;if(G.type==6&&b3!=0&&b3!=Q.length-1){gh=(Q[b3][2*(s+1)+1]-Q[b3][2*s+1])/2;
d5=(Q[b3][2*(s+1)]-Q[b3][2*s])/2}P[8*M+8*T]=Q[b3][2*s]+d5;P[8*M+8*T+1]=Q[b3][2*s+1]+gh;P[8*M+8*T+2]=Q[b3][2*(s+C)]+d5;
P[8*M+8*T+3]=Q[b3][2*(s+C)+1]+gh;P[8*M+8*T+4]=Q[b3+1][2*(s+C)];P[8*M+8*T+5]=Q[b3+1][2*(s+C)+1];P[8*M+8*T+6]=Q[b3+1][2*s];
P[8*M+8*T+7]=Q[b3+1][2*s+1];++T}}}}}function U(Q){var G=[100,300,500,700,1e3];return G[Q.ma-1]}function w(Q){var G=[30,70,100,140,300];
return G[Q.ma-1]}function t(Q){var G=[5,7,26,40,100];return G[Q.ma-1]}function L(Q){if(Q.ma==1){return 4}else if(Q.ma==2){return 8}else{return Math.floor(w(Q)/9)}}function J(Q){var G=Q.OZ,g=new Float32Array(G),P=null;
for(var Y=0;Y<G;++Y){g[Y]=Q.random()}if(Q.OZ<=3){g[0]=0;g[Q.OZ-1]=1}else{for(var Y=0;Y<2;++Y){var M=Math.floor(Q.random()*G);
if(P==null||P!=M){g[M]=Y;P=M}else{g[M+1]=Y}}}return g}function b(Q,G){var g=[],P=.2,T=0;for(var Y=0;
Y<Q.length;++Y){var M=G.random()*(1-P)+P;g.push(M)}var C=Math.min(3,G.OZ);for(var Y=0;Y<Q.length;++Y){if(g[Y]>.9){++T}}while(T<C){var gf=Math.floor(G.random()*Q.length);
if(g[gf]<=.9){g[gf]=.9+.1*G.random();++T}}return g}function F(Q,G){var g=U(G),P=U({ma:1}),M=[];for(var Y=0;
Y<Q.length;++Y){M.push(Math.max(1,(G.random()*10+2)*g/P))}return M}function B(Q){var G=0;for(var Y=0;
Y<Q.length;++Y){if(Y==0){G+=Q[Y]}else{G+=Math.abs(Q[Y]-Q[Y-1])}}return G}function k(Q,G){if(Q.length/2-1==U(G)){return Q}var g=new Float32Array(2*(U(G)+1)),P=(Q.length-2)/(g.length-2);
for(var Y=0;Y<g.length/2;++Y){var M=Y*P,T=Math.floor(M),C=Math.ceil(M),gf=C-T,s=1,b3=0;if(gf!=0){s=(C-M)/gf;
b3=(M-T)/gf}g[2*Y]=s*Q[2*T]+b3*Q[2*C];g[2*Y+1]=s*Q[2*T+1]+b3*Q[2*C+1]}return g}function i(Q,G){var g=Q.length/2,P=O(Q),M=P/g,T=!1,s=0,b3=0,d5=1;
if(G){var C=Math.floor(P/G.a2b),gf=G.a2b;if(G.a35&&Q[0]==Q[Q.length-2]&&Q[1]==Q[Q.length-1]){T=!0;gf=P/(C+1)}if(G.type==2&&!T&&gf*C+G.length>P){g=C+1}else{g=C+2}M=gf}var gh=new Float32Array(g*2);
gh[0]=Q[0];gh[1]=Q[1];for(var Y=1;Y<g;++Y){while(s<=Y*M){b3=s;s+=K([Q[2*d5],Q[2*d5+1]],[Q[2*(d5-1)],Q[2*(d5-1)+1]]);
++d5}var jt=1-(Y*M-b3)/(s-b3);gh[2*Y]=(1-jt)*Q[2*d5]+jt*Q[2*(d5-1)];gh[2*Y+1]=(1-jt)*Q[2*d5+1]+jt*Q[2*(d5-1)+1]}gh[gh.length-2]=Q[Q.length-2];
gh[gh.length-1]=Q[Q.length-1];return gh}function H(Q,G){var g=i(Q,G),P=[];for(var Y=0;Y<(g.length-2)/2;
++Y){var M=[];M.push(g[2*Y]);M.push(g[2*Y+1]);var T=K([g[2*(Y+1)],g[2*(Y+1)+1]],[g[2*Y],g[2*Y+1]]),C=[(g[2*(Y+1)]-g[2*Y])/T,(g[2*(Y+1)+1]-g[2*Y+1])/T],gf=X((G.a9L-90)/360*2*Math.PI),s=C;
if(G.type==3){s=gf}else if(G.type==4){s=X($(C)+$(gf))}else if(G.type==5){s=X(((G.random()-.5)*G.a9L-90)/360*2*Math.PI)}var b3=G.length;
if(G.asj){b3=2*G.random()*G.length}M.push(g[2*Y]+s[0]*b3);M.push(g[2*Y+1]+s[1]*b3);P.push(M)}return P}function m(Q){if(Q.apV){Q.K_=100*Math.random()}else{Q.K_=Q.af7}Q.random=new o;
Q.random(Q.K_);if(Q.type==6){Q.OZ=2;Q.shape=5;Q.auB=0}}function j(Q,G){Q=k(Q,G);var g=[Q],b3=0;if(G.type>=2&&G.type<6){g=H(Q,G)}var P=L(G)-1,M=w(G)-P,T=(G.OZ-1)*(t(G)-1),C=g.length*M*T,gf=new Float32Array(C),s=new Float32Array(8*C);
for(var Y=0;Y<g.length;++Y){for(var d5=0;d5<1e4;++d5){G.K_=c(G.K_)}G.random(G.K_);var Q=k(g[Y],G),gh=J(G),jt=B(gh),fl=V(Q,gh,G),eq=d(G,gh),c7=R(eq.amY,fl,G);
c7=h(c7,eq.a9,eq.awr,w(G));if(G.BM>0){c7=E(c7,O(g[Y]),G)}A(c7,G,gf,s,b3);b3+=M*T}return[gf,s]}var jR=function(Q){var G=performance.now(),g=Q[0],P=Q[1];
m(P);var M=[new Float32Array(0),new Float32Array(0)];for(var Y=0;Y<g.length;++Y){P.K_=c(P.K_);var T=j(g[Y],P),C=new Float32Array(M[0].length+T[0].length),gf=new Float32Array(M[1].length+T[1].length);
C.set(M[0]);C.set(T[0],M[0].length);M[0]=C;gf.set(M[1]);gf.set(T[1],M[1].length);M[1]=gf}var s=performance.now();
if(P.ab3){console.eM("Geometry: "+String(s-G)+"ms")}return M};return jR}(),gs=function(){function c(X,$){var O=[],n=0,x=$.length,l=0,N=0,f=new ez,z=0,R=1e9;
for(N=0;N<x;N++){var V=N*8,d=$[N];if(d<R)R=d;var e=X[V+0],p=X[V+1],h=X[V+2],E=X[V+3],q=X[V+4],Z=X[V+5],v=X[V+6],W=X[V+7],D=Math.min(e,h,q,v),I=Math.max(e,h,q,v),A=Math.min(p,E,Z,W),U=Math.max(p,E,Z,W),w=new ez(D,A,I-D,U-A),t=w.X3(f),L=z+d;
if(N-l<10&&(N==l||t.P()*.8<w.P()+f.P())){f=t;z=L}else{O.push(N-l);l=N;f=w;z=d;R=d}}if(N!=l)O.push(N-l);
return O}function o(X,$,O,n,x,l){var N=document.createElement("canvas"),p=0,C=.8;N.width=$;N.height=O;
var f=N.getContext("2d"),z=x[0],R=x[1],V=new Float64Array($*O),d=Date.now(),e=c(R,z);for(var h=0;h<e.length;
h++){var E=p,q=p+e[h],W=1e9,I=1e9,b=0;p=q;var Z=E*8,v=q*8,D=-W,A=-I;for(var U=Z;U<v;U+=2){var w=R[U],t=R[U+1];
if(w<W)W=w;if(w>D)D=w;if(t<I)I=t;if(t>A)A=t}W=Math.floor(W);D=Math.ceil(D);I=Math.floor(I);A=Math.ceil(A);
var L=D-W,J=A-I;for(var F=E;F<q;F++)b+=z[F];for(var U=Z;U<v;U+=8){var B=z[U>>>3],k=R[U+0],i=R[U+1],H=R[U+2],m=R[U+3],j=R[U+4],Q=R[U+5],G=R[U+6],g=R[U+7];
f.fillStyle="rgba(0,0,0,"+B/b+")";f.beginPath();f.moveTo(k,i);f.lineTo(H,m);f.lineTo(j,Q);f.lineTo(G,g);
f.closePath();f.fill()}var P=f.getImageData(W,I,L,J).data;for(var t=0;t<J;t++)for(var w=0;w<L;w++){var Y=t*L+w,M=P[Y*4+3],T=(I+t)*$+W+w;
if(M!=0)V[T]+=M*b}f.clearRect(W,I,L,J)}var gf=l[1].color,s=Math.pow(gf.Z/255,C),b3=Math.pow(gf.r/255,C),d5=Math.pow(gf.J/255,C),gh=new ez(0,0,$,O),jt=a.R($*O*4);
for(var t=0;t<O;t++)for(var w=0;w<$;w++){var Y=t*$+w,F=Y*4,z=V[Y]*(1/255);jt[F]=u(s,z);jt[F+1]=u(b3,z);
jt[F+2]=u(d5,z);jt[F+3]=Math.min(255,z*255)}a.a.hA("norm",jt,gh,n,gh,gh,1)}var K=new Uint8Array(2e3);
for(var Y=0;Y<2e3;Y++)K[Y]=255*Math.min(1,Math.log(Y/700+1));function u(X,$){return K[Math.min(1500,~~(X*$*1e3))]}return o}(),cC=function(){var c=new Float32Array(3e3),o=new Float32Array(3e3),K=new Float32Array(256),u=new Float32Array(3e3);
function X(){var R=c.length;c[0]=Math.log10(157647e-9);for(var Y=1;Y<R;++Y)c[Y]=Math.log10(Y/R)}function $(){var R=o.length;
for(var Y=0;Y<R;++Y)o[Y]=Math.pow(10,20*(Y-R/2)/R)}function O(){var R=K.length;for(var Y=0;Y<R;++Y)K[Y]=a.CA(Y/255)}function n(){var R=u.length;
for(var Y=0;Y<R;++Y)u[Y]=255*a.rp(Y/(R-1))}function x(R,V){var d=R.length>>>2;for(var Y=0;Y<d;++Y){var e=K[R[4*Y]],p=K[R[4*Y+1]],h=K[R[4*Y+2]],E=.3811*e+.5783*p+.0402*h,q=.1967*e+.7244*p+.0782*h,Z=.0241*e+.1288*p+.8444*h;
E=c[~~(E*c.length)];q=c[~~(q*c.length)];Z=c[~~(Z*c.length)];V[3*Y]=(E+q+Z)*.5773502692;V[3*Y+1]=(E+q-2*Z)*.4082482905;
V[3*Y+2]=(E-q)*.7071067812}}function l(R,V){var d=V.length>>>2,e=u.length-1;for(var Y=0;Y<d;++Y){var p=.5773502692*R[3*Y],h=.4082482905*R[3*Y+1],E=.7071067812*R[3*Y+2],q=o[~~((p+h+E+10)*(3e3/20))],Z=o[~~((p+h-E+10)*(3e3/20))],v=o[~~((p-2*h+10)*(3e3/20))],W=4.4679*q-3.5873*Z+.1193*v,D=-1.2186*q+2.3809*Z-.1624*v,I=.0497*q-.2439*Z+1.2045*v;
V[4*Y]=u[~~(e*Math.max(0,Math.min(1,W)))];V[4*Y+1]=u[~~(e*Math.max(0,Math.min(1,D)))];V[4*Y+2]=u[~~(e*Math.max(0,Math.min(1,I)))]}}function N(R){var V=0,d=0,e=0;
for(var Y=0;Y<R.length;Y+=3){V+=R[Y];d+=R[Y+1];e+=R[Y+2]}return[V/(R.length/3),d/(R.length/3),e/(R.length/3)]}function f(R,N){var V=0,d=0,e=0;
for(var Y=0;Y<R.length;Y+=3){var p=R[Y]-N[0],h=R[Y+1]-N[1],E=R[Y+2]-N[2];V+=p*p;d+=h*h;e+=E*E}return[Math.sqrt(V/(R.length/3)),Math.sqrt(d/(R.length/3)),Math.sqrt(e/(R.length/3))]}function z(R,V,d,e,p,h){X();
$();O();n();var E=0,i,H;if(h[0]>100)E=-(h[0]-100)/100*.13;else if(h[0]>=75)E=(100-h[0])/25*.04;else if(h[0]>=50)E=.04+(75-h[0])/25*.04;
else if(h[0]>=25)E=.08+(50-h[0])/25*.08;else E=.16+(25-h[0])/25*.24;var q=(h[1]-100+100)/100,Z=h[2]/100,v=h[3],W=new Float32Array(R.length*3/4),D=new Float32Array(e.length*3/4),I=Date.now();
x(R,W);x(e,D);var A=Date.now(),U=N(W),w=N(D),t=Date.now(),L=f(W,U),J=f(D,w),b=Date.now();w[0]*=Math.pow(10,E);
var F=[J[0]/L[0],J[1]/L[1],J[2]/L[2]],B=W.length,k=1/-1.1546978950500488;for(var Y=0;Y<B;Y+=3){if(v){var m=Math.max(0,Math.min(1,W[Y]*k));
m=1-Math.sqrt(m);i=m*w[1];H=m*w[2]}else{i=w[1];H=w[2]}W[Y]=(W[Y]-U[0])*F[0]+w[0];W[Y+1]=(W[Y+1]-U[1])*F[1]*q+i;
W[Y+2]=(W[Y+2]-U[2])*F[2]*q+H}var j=Date.now();l(W,p);var Q=p.length>>>2;for(var Y=0;Y<Q;++Y){p[4*Y]=(1-Z)*p[4*Y]+Z*R[4*Y];
p[4*Y+1]=(1-Z)*p[4*Y+1]+Z*R[4*Y+1];p[4*Y+2]=(1-Z)*p[4*Y+2]+Z*R[4*Y+2];p[4*Y+3]=255}}return z}(),aP=function(){function c(o,K,u,X,$){var O=[-1,-1,-1,-1],n=255,x=160,l,N=!1,f=new Array(4);
f[0]=new Array(K);f[1]=new Array(u);f[2]=new Array(K);f[3]=new Array(u);var z=new Array(2);z[0]=new Array(u);
z[1]=new Array(u);function R(J,b,F,B,k){this.start=B;this.axis=k;this.dir=J;this.end=-1;this.source=b;
this.P=F}function V(J,b,F,B,k){if(F%2==0){if(!f[F][J])f[F][J]=new Array;f[F][J].push(new R(F,B,k,b,J))}else{if(!f[F][b])f[F][b]=new Array;
f[F][b].push(new R(F,B,k,J,b))}var i=Date.now()}function d(Y){var J=!1,b=0;if(o[4*Y+3]<n)return J;var F=Y%K,B=Math.floor(Y/K);
e(F,B);if(Y+K<K*u&&o[4*(Y+K)+3]<n&&o[4*(Y-K)+3]>=n&&o[4*(Y-2*K)+3]>=n){var k=2;if(o[4*(Y+K)+3]<=x)b=-1;
if(o[4*(Y+2*K-1)+3]<n&&o[4*(Y+2*K+1)+3]<n)J=!0;else if(o[4*(Y+2*K-1)+3]>=n&&o[4*(Y+1)+3]>=n)J=!0;else if(o[4*(Y+2*K+1)+3]>=n&&o[4*(Y-1)+3]>=n)J=!0;
V(F,B,k,b,J)}else if(Y-K>=0&&o[4*(Y-K)+3]<n&&o[4*(Y+K)+3]>=n&&o[4*(Y+2*K)+3]>=n){var k=0;if(o[4*(Y-K)+3]<=x)b=-1;
if(o[4*(Y-2*K-1)+3]<n&&o[4*(Y-2*K+1)+3]<n)J=!0;else if(o[4*(Y-2*K-1)+3]>=n&&o[4*(Y+1)+3]>=n)J=!0;else if(o[4*(Y-2*K+1)+3]>=n&&o[4*(Y-1)+3]>=n)J=!0;
V(F,B,k,b,J)}b=0;if(Y+1<K*u&&o[4*(Y+1)+3]<n&&o[4*(Y-1)+3]>=n&&o[4*(Y-2)+3]>=n){var k=3;if(o[4*(Y+1)+3]<=x)b=-1;
if(!J&&o[4*(Y+K+2)+3]<n&&o[4*(Y-K+2)+3]<n){J=!0;V(F,B,k,b,!0)}else V(F,B,k,b,!1)}else if(Y>=1&&o[4*(Y-1)+3]<n&&o[4*(Y+1)+3]>=n&&o[4*(Y+2)+3]>=n){var k=1;
if(o[4*(Y-1)+3]<=x)b=-1;if(!J&&o[4*(Y+K-2)+3]<n&&o[4*(Y-K-2)+3]<n){J=!0;V(F,B,k,b,!0)}else V(F,B,k,b,!1)}return J}function e(Y,J){if(O[0]==-1){O[0]=Y;
O[1]=J;O[2]=1;O[3]=1}if(Y<O[0]){O[2]+=O[0]-Y;O[0]=Y}if(Y>O[0]+O[2])O[2]=Y-O[0];if(J<O[1]){O[3]+=O[1]-J;
O[1]=J}if(J>O[1]+O[3])O[3]=J-O[1]}function p(J,Y,b,F){if(!b.P)return;var B=(J+2)%4,k=b.start,i=O[1];
if(J==2)i+=O[3];else if(J==1)i=O[0];else if(J==3)i=O[0]+O[2];var H=b.source;if(f[B][Y])for(var m=0;m<f[B][Y].length;
++m){if(J>1){var j=k+Math.floor((f[B][Y][m].start-k)/2);if(f[B][Y][m].start>k&&j<i)i=j}else{var j=k-Math.floor((k-f[B][Y][m].start)/2);
if(f[B][Y][m].start<k&&j>i)i=j}}for(var Q=1;Q<Math.abs(i-k);++Q){var m=k+Q;if(J==1||J==0)m=k-Q;for(var G=0;
G<2;++G){var g=2*G,P=!1;if(J%2==0)g+=1;if(f[g][m]){for(var M=0;M<f[g][m].length;++M){if(f[g][m][M].P){var T=f[g][m][M].start,C=Y-T,gf=m-k;
if(g==0||g==1)C=-C;if(C<=0)continue;if(J==0||J==1)gf=-gf;if(gf>C){i=m;P=!0;break}}}if(P)break}}}b.end=i;
q(J,Y,k,i,H)}function h(J){for(var Y=0;Y<f[J].length;++Y){if(f[J][Y])for(var b=0;b<f[J][Y].length;++b){p(J,Y,f[J][Y][b])}}}function E(){var J=[2,0,3,1];
for(var Y=0;Y<J.length;++Y)h(J[Y])}function q(J,Y,b,F,B){if(J==2)for(var k=b;k<=F;++k){if(!Z(k*K+Y,(b+B)*K+Y))return!1}else if(J==0)for(var k=b;
k>=F;--k){if(!Z(k*K+Y,(b-B)*K+Y))return!1}else if(J==1)for(var k=b;k>=F;--k){if(!Z(Y*K+k,Y*K+b-B))return!1}else if(J==3)for(var k=b;
k<=F;++k){if(!Z(Y*K+k,Y*K+b+B))return!1}}function Z(J,b){if(!l[J]){X[4*J]=X[4*b];X[4*J+1]=X[4*b+1];X[4*J+2]=X[4*b+2];
if(N)X[4*J+3]=255;l[J]=!0;return!0}return!1}function v(){for(var Y=0;Y<4;Y+=1){for(var J=0;J<f[Y].length;
++J){if(f[Y][J])for(var b=0;b<f[Y][J].length;++b){var F=f[Y][J][b];for(var B=1;B<3;B+=2){var k=(Y+B)%4;
if(f[k][F.start])for(var i=0;i<f[k][F.start].length;++i){if(f[k][F.start][i].start==F.axis){var cv=K*F.start+F.axis;
if(Y%2==1){cv=F.start+K*F.axis;W(f[k][F.start][i])}else W(F)}}}}}}}function W(J){if(J.dir%2==0){var cv=K*J.start+J.axis,b=J.start,F=1;
if(!l[cv+1])F=3;else if(l[cv-1])return;var B=X[4*cv],k=X[4*cv+1],i=X[4*cv+2];while(X[4*cv]==B&&X[4*cv+1]==k&&X[4*cv+2]==i){if(F==1){if(!z[0][b])z[0][b]=new Array;
z[0][b].push(new R(F,0,!1,J.axis,b))}else{if(!z[1][b])z[1][b]=new Array;z[1][b].push(new R(F,0,!1,J.axis,b))}if(J.dir==2){cv+=K;
b++}else{cv-=K;b--}}}}function D(){for(var J=0;J<2;++J){var b=(J+1)%2;for(var Y=0;Y<z[J].length;++Y){if(z[J][Y])for(var F=0;
F<z[J][Y].length;++F){var B=O[0];if(J==1)B+=O[2];var k=z[J][Y][F].start;if(z[b][Y])for(var i=0;i<z[b][Y].length;
++i){var H=z[b][Y][i].Z0;if(J==0){if(H>B&&H<k){B=k-Math.floor((k-H)/2)}}else{if(H<B&&H>k){B=k+Math.ceil((H-k)/2)}}}if(J==0)q(z[J][Y][F].dir,Y,k-1,B,-1);
else q(z[J][Y][F].dir,Y,k+1,B,-1)}}}for(var Y=0;Y<l.length;++Y){if(!l[Y]&&Y%K>=O[0]&&Y%K<=O[0]+O[2]&&Math.floor(Y/K)>=O[1]&&Math.floor(Y/K)<=O[1]+O[3]){var k=K;
if(Y<k||!l[Y-k])k=1;X[4*Y]=X[4*(Y-k)];X[4*Y+1]=X[4*(Y-k)+1];X[4*Y+2]=X[4*(Y-k)+2];l[Y]=!0;if(N)X[4*Y+3]=255}}}function I(){l=new Array(o.length/4);
for(var Y=0;Y<X.length/4;++Y){l[Y]=!1;X[4*Y]=o[4*Y];X[4*Y+1]=o[4*Y+1];X[4*Y+2]=o[4*Y+2];X[4*Y+3]=o[4*Y+3];
if(X[4*Y+3]==255)l[Y]=!0;if(d(Y))l[Y]=!1}if(O[0]>0){O[0]--;O[2]++}if(O[1]>0){O[1]--;O[3]++}if(O[0]+O[2]<K){O[2]++}if(O[1]+O[3]<u){O[3]++}}var A=Date.now();
I();var U=Date.now();E();var w=Date.now();v();var t=Date.now();D();var L=Date.now();console.log("Init: "+String(U-A));
console.log("Filling: "+String(w-U));console.log("Check areas: "+String(t-w));console.log("Fill areas: "+String(L-t))}return c}();
function h7(){}h7.akr=function(c){var o=[a.CA(c[0]),a.CA(c[1]),a.CA(c[2]),0];return a.QW.sb(a.QW.alN,o)};
h7.a7W=function(c){var o=a.QW.sb(a.QW._o,c);return[a.rp(o[0]),a.rp(o[1]),a.rp(o[2])]};h7.ly=function(c,o){var K={},u=5003,X=1667,$=25e3,O=57.4,n=16.1,x=1.8,l=0,N=1.54,f=.75,V=0;
if(o>0){c-=o/100*4}if(c<0){n=22.54;O=80.36;N=.756}if(o>0){x=1.3;f=.2}var z=Math.min(u+O*c,$),R=Math.max(u-n*c,X);
if(c<0){z=Math.max(u+n*c,X);R=Math.min(u-O*c,$)}if(c>0){if(c<=14){V=(c-1)/13*.075+.025}else if(c<=29){V=.1}else if(c<=60){V=.1-.1*(c-29)/(60-29)}else{var d=c-60;
l=-20*(d/40);V=-.3*(d/40)}}else{if(c<-60){var d=c+60;l=-20*(d/40)}}var e=Math.abs(c)/100*N+Math.abs(o)/100*f+V,p=-(o*x+l),h=eg.Eg(z,-p),E=eg.yO(h),q=eg.Eg(R,0),Z=eg.yO(q),v=eg.aqJ(E,Z);
K.awQ=e;K.ayf=v;if(c==0&&o==0)K.a6k=!0;else K.a6k=!1;return K};h7.a7V=function(c,o,K,u){if(u.a6k){return[c,o,K]}var X=this.akr([c,o,K]),$=X[0],O=X[1],n=X[2],x=O+1e-12,l=[$/x,O/x,n/x,0],N=a.QW.sb(u.ayf,l),f=0,z=.4;
N[0]*=x;N[1]*=x;N[2]*=x;if(x>z)f=1/(1-z)*(x-z);X[0]=(1-f)*N[0]+f*$;X[1]=(1-f)*N[1]+f*O;X[2]=(1-f)*N[2]+f*n;
return this.a7W(X)};a.a0T={CU:function(c,o){var Y=c.length;c.push(o);var K=Y>>>1;while(K!=0&&c[Y][0]<c[K][0]){var u=c[Y];
c[Y]=c[K];c[K]=u;Y=K;K=Y>>>1}},ns:function(c){if(c.length==2)return c.pop();var top=c[1],Y=1;c[1]=c.pop();
var o=c.length;while(!0){var K=Y<<1,u=K+1,X=Y;if(K<o&&c[K][0]<c[X][0])X=K;if(u<o&&c[u][0]<c[X][0])X=u;
if(X==Y)break;var $=c[Y];c[Y]=c[X];c[X]=$;Y=X}return top},aot:function(c){for(var Y=1;Y<c.length;Y++){var o=Y,K=1e9;
while(o!=0){var u=c[o][0];if(u>K){console.log(Y);throw"e"}K=u;o=o>>>1}}}};a.a={};a.a.vD=new Float64Array(256);
a.a._W=new Uint8Array(256*256);a.a.m2=new Uint8Array(256*256);(function(){for(var Y=0;Y<256;Y++)a.a.vD[Y]=255/Y;
for(var Y=0;Y<256;Y++)for(var c=0;c<256;c++)a.a._W[Y*256+c]=Y==0?0:Math.round(c*255/Y);for(var Y=0;Y<256;
Y++)for(var c=0;c<256;c++)a.a.m2[Y*256+c]=Math.round(Y*(255-c)/255)}());a.a.hA=function(c,o,K,u,X,$,O,n){if(n==null)n=bL.Ym();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(c)==-1){O=O*n.fill;n.fill=1;n.style=!1}var x="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),l="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),N=a.a[c+"F"];
if(n.st==null&&c=="norm")a.a.ayW(o,K,u,X,$,O,N,n.$i?1:0);else if(c=="diss")a.a.a19(o,K,u,X,$,O,N,n.$i?1:0);
else if(x.indexOf(c)!=-1)a.a.atv(o,K,u,X,$,O,N,n);else if(l.indexOf(c)!=-1)a.a.aks(o,K,u,X,$,O,N,n)};
a.a.a4T=function(c,o,K){var u=c*K+1-K;return u<.001?0:1-Math.min(1,(1-o)/u)};a.a.acQ=function(c,o,K){return c*K==1?1:Math.min(1,o/(1-c*K))};
a.a.Vf=function(c){return c<=.25?((16*c-12)*c+4)*c:Math.sqrt(c)};a.a.normF=function(c,o,K){return c};
a.a.darkF=function(c,o,K){return Math.min(c,o)};a.a["mul F"]=function(c,o,K){return c*o};a.a.idivF=function(c,o,K){var u=c*K+1-K;
return o==1?1:1-o>=u?0:1-(1-o)/u};a.a.lbrnF=function(c,o,K){return Math.max(0,c*K+o-K)};a.a.dkClF=function(c,o,K){var u=a.i3(c)<a.i3(o)?c:o;
K.Z=u.Z;K.r=u.r;K.J=u.J;return K};a.a.liteF=function(c,o,K){return Math.max(c,o)};a.a.scrnF=function(c,o,K){return o+c-o*c};
a.a["div F"]=function(c,o,K){c*=K;return o==0?0:o>=1-c?1:o/(1-c)};a.a.lddgF=function(c,o,K){c*=K;return Math.min(1,c+o)};
a.a.lgClF=function(c,o,K){var u=a.i3(c)>a.i3(o)?c:o;K.Z=u.Z;K.r=u.r;K.J=u.J;return K};a.a.overF=function(c,o,K){return a.a.hLitF(o,c,K)};
a.a.sLitF=function(c,o,K){return c<=.5?o-(1-2*c)*o*(1-o):o+(2*c-1)*(a.a.Vf(o)-o)};a.a.hLitF=function(c,o,K){return c<=.5?a.a["mul F"](2*c,o,K):a.a.scrnF(2*c-1,o,K)};
a.a.vLitF=function(c,o,K){return c<=.5?a.a.a4T(2*c,o,K):a.a.acQ(2*c-1,o,K)};a.a.lLitF=function(c,o,K){return c<=.5?a.a.lbrnF(2*c,o,K):a.a.lddgF(2*c-1,o,K)};
a.a.pLitF=function(c,o,K){return c<=.5?a.a.darkF(2*c,o,K):a.a.liteF(2*c-1,o,K)};a.a.hMixF=function(c,o,K){if(K>.99)return c+o<1?0:1;
return Math.min(1,Math.max(0,(o+c*K-K)/(1-K+1e-6)))};a.a.diffF=function(c,o,K){c*=K;return Math.abs(c-o)};
a.a.smudF=function(c,o,K){return c+o-2*c*o};a.a.fsubF=function(c,o,K){return Math.max(o-c,0)};a.a.fdivF=function(c,o,K){return Math.min(o/c,1)};
a.a["hue F"]=function(c,o,K){a.a.$f(c,a.W4(o),K);a.a.My(K,a.i3(o),K)};a.a["sat F"]=function(c,o,K){a.a.$f(o,a.W4(c),K);
a.a.My(K,a.i3(o),K)};a.a.colrF=function(c,o,K){a.a.My(c,a.i3(o),K)};a.a["lum F"]=function(c,o,K){a.a.My(o,a.i3(c),K)};
a.a.My=function(c,o,K){var u=o-a.i3(c);K.Z=c.Z+u;K.r=c.r+u;K.J=c.J+u;a.a.atO(K)};a.a.atO=function(c){var o=c.Z,K=c.r,u=c.J,X=a.NV(o,K,u),cv=Math.min(o,K,u),$=Math.max(o,K,u);
if(cv<0){var O=X/(X-cv);o=X+(o-X)*O;K=X+(K-X)*O;u=X+(u-X)*O}if($>1){var O=(1-X)/($-X);o=X+(o-X)*O;K=X+(K-X)*O;
u=X+(u-X)*O}c.Z=o;c.r=K;c.J=u};a.a.$f=function(c,o,K){var u=a.a.aDG,X=c.Z,$=c.r,O=c.J;if(X==$&&$==O){K.Z=K.r=K.J=0}else if(X>$){if(X>O){if($>O){K.Z=o;
K.r=u(X,$,O,o);K.J=0}else{K.Z=o;K.J=u(X,O,$,o);K.r=0}}else{K.J=o;K.Z=u(O,X,$,o);K.r=0}}else{if(X<O){if($>O){K.r=o;
K.J=u($,O,X,o);K.Z=0}else{K.J=o;K.r=u(O,$,X,o);K.Z=0}}else{K.r=o;K.Z=u($,X,O,o);K.J=0}}};a.a.aDG=function(c,o,K,u){return(o-K)*u/(c-K)};
a.a.ayW=function(c,o,K,u,X,$,O,n){var x=o.ar(u).ar(X),l=Math.max(0,x.x-o.x),N=Math.max(0,x.x-u.x),f=Math.max(0,x.y-o.y),z=Math.max(0,x.y-u.y),R=x.m,V=x.e,d=o.m,e=u.m,p=a.a._W,h=a.a.m2,E=new Uint32Array(c.buffer),q=new Uint32Array(K.buffer);
for(var Y=0;Y<V;Y++){var Z=(f+Y)*d+l,v=(z+Y)*e+N;for(var W=0;W<R;W++){var D=E[Z+W],F=1;if(D>>>24==0)continue;
if(D>>>24==255&&$==1&&n==0){q[v+W]=E[Z+W];continue}var I=q[v+W],A=D&255,U=D>>>8&255,w=D>>>16&255,t=I&255,L=I>>>8&255,J=I>>>16&255,b=$,B=(I>>>24)*(1/255);
if(n==0){b=(D>>>24)*$*(1/255);F=B}var k=F*(1-b),i=b+k,H=1/i;q[v+W]=~~(.5+(n*B+(1-n)*i)*255)<<24|~~(.5+(w*b+J*k)*H)<<16|~~(.5+(U*b+L*k)*H)<<8|~~(.5+(A*b+t*k)*H)}}};
a.a.at8=function(c,o,K,u,X,$){var O=o.ar(u).ar(X),n=Math.max(0,O.x-o.x),x=Math.max(0,O.x-u.x),l=Math.max(0,O.y-o.y),N=Math.max(0,O.y-u.y),f=O.m,z=O.e,R=o.m,V=u.m,d=a.a._W,e=a.a.m2,p=new Uint32Array(c.buffer),h=new Uint32Array(K.buffer),E=Math.floor(Math.random()*16777215),q=0;
for(var Y=0;Y<z;Y++){var Z=(l+Y)*R+n,v=(N+Y)*V+x;for(var W=0;W<f;W++){var D=p[Z+W];if(D>>>24==0)continue;
if(D>>24==255&&$==1){h[v+W]=D;continue}var I=h[v+W],A=(D>>>24)*$*(1/255),U=(I>>>24)*(1/255),w=U*(1-A),t=A+w,L=D&255,J=D>>>8&255,b=D>>>16&255,F=I&255,B=I>>>8&255,k=I>>>16&255;
q>>>=8;if((W&3)==0)q=a.a.gc(v+W+E);var i=t==0?0:1/t,H=Math.floor(t*(256*255))+(q&255)>>>8,m=Math.floor((b*A+k*w)*i+.5),j=Math.floor((J*A+B*w)*i+.5),Q=Math.floor((L*A+F*w)*i+.5);
h[v+W]=H<<24|m<<16|j<<8|Q}}};a.a.aK=function(c,o,K,u,X,$,O,n){var x=a.NV(c,o,K),l=a.NV(u,X,$),N=Math.min,f=a.a.aAr,z=f(x,n,0);
z=N(z,f(c,n,8));z=N(z,f(o,n,16));z=N(z,f(K,n,24));var R=f(l,n,4);R=N(R,f(u,n,12));R=N(R,f(X,n,20));R=N(R,f($,n,28));
R=Math.max(R,1-O);var V=Math.min(z,R);return V<0?0:V>1?1:V};a.a.aAr=function(c,o,Y){return Math.min((c-o[Y])*o[Y+1],(c-o[Y+3])*o[Y+2])};
a.a.atv=function(c,o,K,u,X,$,O,n){var x=1/255,l=x*$,N=n.$i?1:0,f=n.fill,z=n.style,R=o.ar(u).ar(X),V=Math.max(0,R.x-o.x),d=Math.max(0,R.x-u.x),e=Math.max(0,R.y-o.y),p=Math.max(0,R.y-u.y),h=R.m,E=R.e,q=o.m,Z=u.m,v=new Uint32Array(c.buffer),W=new Uint32Array(K.buffer);
for(var Y=0;Y<E;Y++){var D=(e+Y)*q+V,I=(p+Y)*Z+d;for(var A=0;A<h;A++,D++,I++){var U=v[D],i=1;if(U>>>24==0)continue;
var w=W[I],t=(U&255)*x,L=(U>>>8&255)*x,J=(U>>>16&255)*x,b=(w&255)*x,F=(w>>>8&255)*x,B=(w>>>16&255)*x,k=$;
if(N==0){k=(U>>>24)*l;i=(w>>>24)*x}if(n.st)k*=a.a.aK(t,L,J,b,F,B,i,n.st);var H=i*(1-k),m=k+H,j=m==0?0:255/m,Q=z?1:k,G=((1-i)*k*t+(1-Q)*i*b+Q*i*O(t,b,(1+k-Q)*f))*j,g=((1-i)*k*L+(1-Q)*i*F+Q*i*O(L,F,(1+k-Q)*f))*j,P=((1-i)*k*J+(1-Q)*i*B+Q*i*O(J,B,(1+k-Q)*f))*j;
m=k*f+i*(1-k*f);var M=~~(m*255+.5);W[I]=N*(w>>>24)+(1-N)*M<<24|P<<16|g<<8|G}}};a.a.aks=function(c,o,K,u,X,$,O,n){var x=1/255,l=x*$,N=n.$i?1:0,f=o.ar(u).ar(X),z=Math.max(0,f.x-o.x),R=Math.max(0,f.x-u.x),V=Math.max(0,f.y-o.y),d=Math.max(0,f.y-u.y),e=f.m,p=f.e,h=new Uint32Array(c.buffer),E=new Uint32Array(K.buffer),q={Z:0,r:0,J:0},Z={Z:0,r:0,J:0},v={Z:0,r:0,J:0};
for(var Y=0;Y<p;Y++){var W=(V+Y)*o.m+z,D=(d+Y)*u.m+R;for(var I=0;I<e;I++,W++,D++){var A=h[W],U=E[D],w=(A&255)*x,t=(A>>>8&255)*x,L=(A>>>16&255)*x,J=(U&255)*x,b=(U>>>8&255)*x,F=(U>>>16&255)*x,B=$,k=1;
if(N==0){B=(A>>>24)*l;k=(U>>>24)*x}if(n.st)B*=a.a.aK(w,t,L,J,b,F,k,n.st);var i=k*(1-B),H=B+i,m=255/H;
q.Z=w;q.r=t;q.J=L;Z.Z=J;Z.r=b;Z.J=F;O(q,Z,v);var j=(((1-k)*w+k*v.Z)*B+J*i)*m,Q=(((1-k)*t+k*v.r)*B+b*i)*m,G=(((1-k)*L+k*v.J)*B+F*i)*m,g=N*(U>>>24)+(1-N)*Math.round(H*255);
E[D]=g<<24|G<<16|Q<<8|j}}};a.a.Gz=function(c){c=c^61^c>>>16;c=c+(c<<3);c=c^c>>>4;c=c*668265261;c=c^c>>15;
return(c&16777215)*(1/16777215)};a.a.gc=function(c){c=c^61^c>>>16;c=c+(c<<3);c=c^c>>>4;c=c*668265261;
c=c^c>>>15;return c};a.a.Qk=function(c){this.cn=c};a.a.Qk.prototype.get=function(){var c=this.cn=a.a.gc(this.cn);
return(c&16777215)*(1/16777215)};a.a.a19=function(c,o,K,u,X,$,O,n){var x=1/255,l=x*$,N=Math.round($*(256*256*256/255)),f=o.ar(u).ar(X),z=Math.max(0,f.x-o.x),R=Math.max(0,f.x-u.x),V=Math.max(0,f.y-o.y),d=Math.max(0,f.y-u.y),e=f.m,p=f.e,h=new Uint32Array(c.buffer),E=new Uint32Array(K.buffer);
for(var Y=0;Y<p;Y++){var q=(V+Y)*o.m+z,Z=(d+Y)*u.m+R;for(var v=0;v<e;v++,q++,Z++){var W=h[q],D=E[Z],I=n*255+(1-n)*(W>>>24);
if((a.a.gc(q)&16777215)>=I*N)continue;E[Z]=W&16777215|n*(D>>>24)+(1-n)*255<<24}}};a.a.adB=function(c,o,K){for(var Y=0;
Y<c.length;Y+=4){var u=K[Y>>>2];if(u==0)continue;var X=u*(1/255),$=1/X,O=o[Y],n=o[Y+1],x=o[Y+2],l=c[Y],N=c[Y+1],f=c[Y+2];
o[Y]=Math.min(255,Math.max(0,Math.round((O-(1-X)*l)*$)));o[Y+1]=Math.min(255,Math.max(0,Math.round((n-(1-X)*N)*$)));
o[Y+2]=Math.min(255,Math.max(0,Math.round((x-(1-X)*f)*$)));o[Y+3]=255}};a.a.ut=function(c,o,K,u,X,$,O,n,x,l,N){if(l==null)l=!1;
if(N==null)N=[1,1,1];var f=255<<24|N[2]*16711680|N[1]*65280|N[0]*255,z=~f;if(X&&!o.Ug($)){var R=a.R(o.P()*4);
R.fill(O);a.qv(X,$,R,o);X=R;$=o}if(l){if(X==null)a.a.a2i(c,o,K,u,X,n,x,f,z);else a.a.aaC(c,o,K,u,X,n,x)}else{if(X==null)a.a.a0G(c,o,K,u,X,n,x,f,z);
else a.a.af4(c,o,K,u,X,n,x)}};a.a.a0G=function(c,o,K,u,X,$,O,n,x){var l=1/255,N=o.ar(u).ar($),f=Math.max(0,N.x-o.x),z=Math.max(0,N.x-u.x),R=Math.max(0,N.y-o.y),V=Math.max(0,N.y-u.y),d=N.m,e=N.e,p=new Uint32Array(c.buffer),h=new Uint32Array(K.buffer),E=a.a._W,q=O*255&255;
for(var Y=0;Y<e;Y++){var Z=(R+Y)*o.m+f,v=(V+Y)*u.m+z;for(var W=0;W<d;W++,Z++,v++){var D=p[Z],I=h[v],A=D>>>24,U=I>>>24,w=a.dX(q*A+(255-q)*U),t=a.dX(A*q),L=a.dX(U*(255-q)),J=D&255,b=D>>>8&255,F=D>>>16&255,B=I&255,k=I>>>8&255,i=I>>>16&255,H=t*J+B*L,m=t*b+k*L,j=t*F+i*L;
H=E[w<<8|a.dX(H)];m=E[w<<8|a.dX(m)];j=E[w<<8|a.dX(j)];var Q=w<<24|j<<16|m<<8|H;h[v]=x&I|n&Q}}};a.a.a2i=function(c,o,K,u,X,$,O,n,x){var l=1/255,N=o.ar(u).ar($),f=Math.max(0,N.x-o.x),z=Math.max(0,N.x-u.x),R=Math.max(0,N.y-o.y),V=Math.max(0,N.y-u.y),d=N.m,e=N.e,p=new Uint32Array(c.buffer),h=new Uint32Array(K.buffer),E=a.a._W,q=O*16777215&16777215;
for(var Y=0;Y<e;Y++){var Z=(R+Y)*o.m+f,v=(V+Y)*u.m+z;for(var W=0;W<d;W++,Z++,v++){if((a.a.gc(Z)&16777215)<q){h[v]=x&h[v]|n&p[Z]}}}};
a.a.af4=function(c,o,K,u,X,$,O){var n=1/255,x=o.ar(u).ar($),l=Math.max(0,x.x-o.x),N=Math.max(0,x.x-u.x),f=Math.max(0,x.y-o.y),z=Math.max(0,x.y-u.y),R=x.m,V=x.e,d=new Uint32Array(c.buffer),e=new Uint32Array(K.buffer),p=a.a._W;
for(var Y=0;Y<V;Y++){var h=(f+Y)*o.m+l,E=(z+Y)*u.m+N;for(var q=0;q<R;q++,h++,E++){var Z=X[h]*O&255;if(Z==0)continue;
if(Z==255){e[E]=d[h];continue}var v=d[h],W=e[E],D=v>>>24,I=W>>>24,A=a.dX(Z*D+(255-Z)*I),U=a.dX(D*Z),w=a.dX(I*(255-Z)),t=v&255,L=v>>>8&255,J=v>>>16&255,b=W&255,F=W>>>8&255,B=W>>>16&255,k=p[A<<8|a.dX(U*t+b*w)],i=p[A<<8|a.dX(U*L+F*w)],H=p[A<<8|a.dX(U*J+B*w)];
e[E]=A<<24|H<<16|i<<8|k}}};a.a.aaC=function(c,o,K,u,X,$,O){var n=1/255,x=o.ar(u).ar($),l=Math.max(0,x.x-o.x),N=Math.max(0,x.x-u.x),f=Math.max(0,x.y-o.y),z=Math.max(0,x.y-u.y),R=x.m,V=x.e,d=new Uint32Array(c.buffer),e=new Uint32Array(K.buffer),p=a.a._W,h=Math.round(O*257);
for(var Y=0;Y<V;Y++){var E=(f+Y)*o.m+l,q=(z+Y)*u.m+N;for(var Z=0;Z<R;Z++,E++,q++){var v=X[E]*h;if((a.a.gc(E)&65535)<v)e[q]=d[E]}}};
a.a.a55=function(c,o,K,u,X,$,O){var n=1/255,x=o.ar(u).ar($),l=Math.max(0,x.x-o.x),N=Math.max(0,x.x-u.x),f=Math.max(0,x.y-o.y),z=Math.max(0,x.y-u.y),R=x.m,V=x.e,d=new Uint32Array(c.buffer),e=new Uint32Array(K.buffer),p=Math.floor(Math.random()*u.P()),h=a.a.a9J;
for(var Y=0;Y<V;Y++){var E=(f+Y)*o.m+l,q=(z+Y)*u.m+N;for(var Z=0;Z<R;Z++){var v=X[E+Z]*O;if(v==0)continue;
if(v==255){e[q+Z]=d[E+Z];continue}var W=d[E+Z],D=e[q+Z],I=W>>>24,A=D>>>24,U=I*v*(1/255),w=A*(255-v)*(1/255),t=W&255,L=W>>>8&255,J=W>>>16&255,b=D&255,F=D>>>8&255,B=D>>>16&255,k=a.a.gc(q+Z+p),i=Math.floor((U+w)*256+.5)+(k>>>0&255)>>>8,H=i==0?0:256/(U+w),m=t*U+b*w,j=L*U+F*w,Q=J*U+B*w,G=Math.floor(m*H+.5)+(k>>>8&255)>>>8,g=Math.floor(j*H+.5)+(k>>>16&255)>>>8,P=Math.floor(Q*H+.5)+(k>>>24&255)>>>8;
e[q+Z]=i<<24|P<<16|g<<8|G}}};a.a.a9J=function(c){return Math.floor(c+Math.random())};a.a.dU=function(c,o,K,u,X,$,O){var n=1/255,x=o.ar(u).ar($),l=Math.max(0,x.x-o.x),N=Math.max(0,x.x-u.x),f=Math.max(0,x.y-o.y),z=Math.max(0,x.y-u.y),R=x.m,V=x.e;
for(var Y=0;Y<V;Y++){var d=(f+Y)*o.m+l,e=(z+Y)*u.m+N;for(var p=0;p<R;p++,d++,e++){var h=O*X[d]*n;if(h==0)continue;
if(h==1){K[e]=c[d];continue}K[e]=c[d]*h+K[e]*(1-h)}}};a.ac2=function(){function c($){var O=$*.85;return Math.exp(-(O*O)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function o($,O){var n=$<O?1:c(($-O)/Math.pow(1.001-O,.86));
return n}var K=[];function u($){if(K[$])return K[$];var O=Math.pow($,.55),n=new Float64Array(8e3),x=0,l=8e3;
for(var Y=0;Y<8e3;Y++){var N=o(Y*(1.55/4e3),O);if(N>=1)x=Y;else if(N<=0&&l==8e3)l=Y;n[Y]=N}var f=[n,x,l];
K[$]=f;return f}function X($,O,n){if($<4)O=1;var x=1+.55*(1-O),l=Math.round(n*$*x)+2,N=new ez(0,0,l,l),f=a.R(l*l),z=[f,N],R=l/2,V=x/(R-1);
if($==2)V*=2;if($==3)V*=1.6;var d=Date.now(),e=u(O),p=Math.round(8e3/R),h=e[0],E=e[1]-p,q=e[2]+p,Z=Math.min(l,l+1>>>1),v=V*.4*(4e3/1.55),W=a.R(8e3);
for(var Y=0;Y<8e3;Y++){var D=Y,I=Y,A=~~Math.max(0,D-v-v),U=~~Math.max(0,D-v),w=~~Math.min(7999,D+v),t=~~Math.min(7999,D+v+v),L=~~(.5+255*(1/5)*(h[I]+h[A]+h[U]+h[w]+h[t]));
W[Y]=L;if(L==0)break}for(var Y=0;Y<Z;Y++){var J=V*(Y-R+.5),b=J*J,F=Y*l,B=(l-1-Y)*l;for(var k=0;k<Z;k++){var i=V*(k-R+.5),I=~~(Math.sqrt(i*i+b)*(4e3/1.55));
if(q<I)continue;else if(I<E){var L=255;while(k<Z){var H=l-1-k;f[F+k]=L;f[F+H]=L;f[B+k]=L;f[B+H]=L;k++}break}else{var L=W[I],H=l-1-k;
f[F+k]=L;f[F+H]=L;f[B+k]=L;f[B+H]=L}}}return z}return{aa8:X}}();a.zv={};a.zv.a1u=function(c,o,K,u,X,$){a.zv.gn(c,o,K,u,X,$,null,0)};
a.zv.aCR=function(c,o,K,u,X){a.zv.gn(c,o,K,u,X,null,null,0)};a.zv.aA0=function(c,o,K,u,X,$,O){a.zv.gn(c,o,K,u,X,null,$,O*.5)};
a.zv.gn=function(c,o,K,u,X,$,O,n){var x=0,w=0,t=1e9,L=0,J=1e9,b=0,F=1e9,B=0,k=0,i=0,H=0;if($){x=X*.5;
X=3+Math.round((X-3)*.75)}if(O){X=Math.round(X*2.2)}var l=1/X,N=Math.floor(o*l)+1,f=Math.floor(K*l)+1,z=[],R=new Uint8Array(N*f*4),V=O?.5:1,d=$?64:0;
for(var e=0;e<f;e++){var p=O?.5*(e&1):0;for(var h=0;h<N;h++){var E=(h+Math.random()*V+p)*X,q=(e+Math.random()*V)*X;
z.push(E,q);var Z=Math.min(o-1,Math.floor(E)),v=Math.min(K-1,Math.floor(q)),W=(v*o+Z)*4,D=(e*N+h)*4;
for(var Y=0;Y<4;Y++)R[D+Y]=Math.max(0,Math.min(255,Math.floor(c[W+Y]+(Math.random()-.5)*d)))}}var I=$?$:O?O:[0,0,0],A=N*f*2,U=[-N-1,-N,-N+1,-1,0,1,N-1,N,N+1];
for(var e=0;e<K;e++){i=0;for(var h=0;h<o;h++){var m=h+.5,j=e+.5,Q=Math.floor(j*l),G=Math.floor(m*l),g=Q*N+G,T=0,C=0;
if(i>1+n){t=a.zv.a03(z,w,m,j);B=Math.sqrt(t);i--;H++}else{t=J=F=1e9;for(var Y=0;Y<U.length;Y++){var P=(g+U[Y])*2;
if(P<0||P>=A)continue;var M=a.zv.a03(z,P,m,j);if(M<F){if(M<J){if(M<t){b=L;F=J;L=w;J=t;w=P;t=M}else{b=L;
F=J;L=P;J=M}}else{b=P;F=M}}}B=Math.sqrt(t);k=Math.sqrt(J);i=k-(B+k)*.5}if(O==null){var gf=(B+k)*.5,s=$?Math.max(0,gf-x):0;
T=Math.max(0,Math.min(1,.5+gf-B-s));C=Math.max(0,Math.min(1,1-(.5+gf-B)-s))}else{var b3=Math.min(a.zv.axi(z,w,L,m,j),a.zv.axi(z,w,b,m,j));
T=Math.max(0,Math.min(1,b3-n*.5));if(m<n||o-n<m||j<n||K-n<j)T=0;C=0}var d5=1-C-T,D=e*o+h<<2,gh=w<<1,jt=L<<1;
u[D+0]=Math.floor(.5+T*R[gh+0]+C*R[jt+0]+d5*I[0]);u[D+1]=Math.floor(.5+T*R[gh+1]+C*R[jt+1]+d5*I[1]);
u[D+2]=Math.floor(.5+T*R[gh+2]+C*R[jt+2]+d5*I[2]);u[D+3]=c[D+3]}}};a.zv.a03=function(c,o,K,u){var X=K-c[o],$=u-c[o+1];
return X*X+$*$};a.zv.axi=function(c,o,K,u,X){var $=c[o],O=c[o+1],n=c[K],x=c[K+1],l=($+n)*.5,N=(O+x)*.5,f=l+(x-O),z=N-(n-$),R=z-N,V=f-l;
return Math.abs(R*u-V*X+f*N-z*l)/Math.sqrt(V*V+R*R)};a.kZ={};a.kZ.dc=function(c){if(a.kZ.In.length<c)a.kZ.In=a.R(c);
return a.kZ.In};a.kZ.In=a.R(0);a.kZ.abG=function(c){if(a.kZ.ZW.length<c)a.kZ.ZW=new Float32Array(c);
return a.kZ.ZW};a.kZ.ZW=new Float32Array(0);a.kZ.mA=function(c,o,K,u){var X=K.m,$=K.e;a.kZ.asE(c,o,X,$,u)};
a.kZ.nf=function(c,o,K,u){var X=K.m,$=K.e;a.kZ.al3(c,o,X,$,u)};a.kZ.akn=function(c,o,K){var u=o.m,X=o.e;
a.kZ.awk(c,u,X,K)};a.kZ.sI=function(c,o,K,u){var X=o.m,$=o.e;a.kZ.ae7(c,X,$,K,u)};a.kZ.awC=function(c,o,K,u){var X=K.m,$=K.e;
u=Math.round(u);var O=a.kZ.dc(X*$);a.lY(c,o);a.kZ.du(o,O,X,$,u)};a.kZ.EW=function(c,o,K){var u=o.m,X=o.e;
K=Math.round(K);var $=a.kZ.dc(u*X*4);a.kZ.Oo(c,$,u,X,K)};a.kZ.aDl=function(c,o,K){var u=o.m,X=o.e;K=Math.round(K);
a.kZ.axp(c,a.kZ.abG(u*X),u,X,K)};a.kZ.a0k=function(c,o,K){var u=o.m,X=o.e;K=Math.round(K);var $=a.kZ.dc(u*X*4);
a.kZ.a4L(c,$,u,X,K);a.lY($,c)};a.kZ.Rx=function(c,cv){var o=Math.sqrt(12*c*c/cv+1),K=Math.floor(o);if(K%2==0)K--;
var u=K+2,X=(12*c*c-cv*K*K-4*cv*K-3*cv)/(-4*K-4),$=Math.round(X),O=[];for(var Y=0;Y<cv;Y++)O.push(Y<$?K:u);
return O};a.kZ.asE=function(c,o,K,u,X){var $=a.kZ.Rx(X,3),O=a.kZ.dc(K*u);a.lY(c,o);a.kZ.du(o,O,K,u,$[0]-1>>1);
a.kZ.du(o,O,K,u,$[1]-1>>1);a.kZ.du(o,O,K,u,$[2]-1>>1)};a.kZ.al3=function(c,o,K,u,X){var $=a.kZ.Rx(X,2),O=a.kZ.dc(K*u);
a.lY(c,o);a.kZ.du(o,O,K,u,$[0]-1>>1);a.kZ.du(o,O,K,u,$[1]-1>>1)};a.kZ.awk=function(c,o,K,u){var X=a.kZ.Rx(u,3),$=a.kZ.dc(o*K*4);
a.kZ.Oo(c,$,o,K,X[0]-1>>1);a.kZ.Oo(c,$,o,K,X[1]-1>>1);a.kZ.Oo(c,$,o,K,X[2]-1>>1)};a.kZ.ae7=function(c,o,K,u,X){if(X==null)X=3;
var $=a.kZ.Rx(u,X),O=a.kZ.abG(o*K);for(var Y=0;Y<X;Y++)a.kZ.axp(c,O,o,K,($[Y]-1)/2)};a.kZ.du=function(c,o,K,u,X){a.kZ.a64(c,o,K,u,X);
a.kZ.aw6(o,c,K,u,X)};a.kZ.Oo=function(c,o,K,u,X){a.kZ.a4L(c,o,K,u,X);a.kZ.a8k(o,c,K,u,X)};a.kZ.axp=function(c,o,K,u,X){a.kZ.adM(c,o,K,u,X);
a.kZ.arb(o,c,K,u,X)};a.kZ.T6=[];a.kZ.LK=function(c){if(a.kZ.T6[c])return a.kZ.T6[c];var o=1/(c+c+1),K=(c+c+1)*256,u=a.R(K);
for(var Y=0;Y<K;Y++)u[Y]=Math.round(Y*o);a.kZ.T6[c]=u;return u};a.kZ.a64=function(c,o,K,u,X){var $=1/(X+X+1),O=K-X-X-1,n=a.kZ.LK(X);
for(var Y=0;Y<u;Y++){var x=Y*K,l=x,N=x+X,f=c[x],z=c[x+K-1],R=(X+1)*f;for(var V=0;V<X;V++)R+=c[x+V];for(var V=0;
V<=X;V++){R+=c[N+V]-f;o[x+V]=n[R]}N+=X+1;x+=X+1;for(var V=0;V<O;V++){R+=c[N+V]-c[l+V];o[x+V]=n[R]}N+=O;
l+=O;x+=O;for(var V=K-X;V<K;V++){R+=z-c[l++];o[x++]=n[R]}}};a.kZ.a4L=function(c,o,K,u,X){var $=K<<2,O=X<<2,n=1/(X+X+1),x=K-X-X-1,l=x<<2,N=a.kZ.LK(X);
for(var Y=0;Y<u;Y++){var f=Y*$,z=f,R=f+O,V=f+$,d=c[f],e=c[f+1],p=c[f+2],h=c[f+3],E=(X+1)*d,q=(X+1)*e,Z=(X+1)*p,v=(X+1)*h;
for(var W=0;W<O;W+=4){E+=c[f+W];q+=c[f+W+1];Z+=c[f+W+2];v+=c[f+W+3]}for(var W=0;W<=O;W+=4){E+=c[R]-d;
o[f]=N[E];q+=c[R+1]-e;o[f+1]=N[q];Z+=c[R+2]-p;o[f+2]=N[Z];v+=c[R+3]-h;o[f+3]=N[v];R+=4;f+=4}for(var W=0;
W<l;W+=4){E+=c[R+W]-c[z+W];o[f+W]=N[E];q+=c[R+W+1]-c[z+W+1];o[f+W+1]=N[q];Z+=c[R+W+2]-c[z+W+2];o[f+W+2]=N[Z];
v+=c[R+W+3]-c[z+W+3];o[f+W+3]=N[v]}R+=l;z+=l;f+=l;d=c[V-4];e=c[V-3];p=c[V-2];h=c[V-1];for(var W=K-X;
W<K;W++){E+=d-c[z];o[f]=N[E];q+=e-c[z+1];o[f+1]=N[q];Z+=p-c[z+2];o[f+2]=N[Z];v+=h-c[z+3];o[f+3]=N[v];
z+=4;f+=4}}};a.kZ.adM=function(c,o,K,u,X){var $=1/(X+X+1),O=K-X-X-1;for(var Y=0;Y<u;Y++){var n=Y*K,x=n,l=n+X,N=c[n],f=c[n+K-1],z=(X+1)*N;
for(var R=0;R<X;R++)z+=c[n+R];for(var R=0;R<=X;R++){z+=c[l+R]-N;o[n+R]=z*$}l+=X+1;n+=X+1;for(var R=0;
R<O;R++){z+=c[l+R]-c[x+R];o[n+R]=z*$}l+=O;x+=O;n+=O;for(var R=K-X;R<K;R++){z+=f-c[x++];o[n++]=z*$}}};
a.kZ.aw6=function(c,o,K,u,X){var $=1/(X+X+1),O=u-X-X-1,n=a.kZ.LK(X);for(var Y=0;Y<K;Y++){var x=Y,l=x,N=x+X*K,f=c[x],z=c[x+K*(u-1)],R=(X+1)*f;
for(var V=0;V<X;V++)R+=c[x+V*K];for(var V=0;V<=X;V++){R+=c[N]-f;o[x]=n[R];N+=K;x+=K}for(var V=0;V<O;
V++){var d=V*K;R+=c[N+d]-c[l+d];o[x+d]=n[R]}l+=O*K;N+=O*K;x+=O*K;for(var V=u-X;V<u;V++){R+=z-c[l];o[x]=n[R];
l+=K;x+=K}}};a.kZ.a8k=function(c,o,K,u,X){var $=K<<2,O=X<<2,n=1/(X+X+1),x=u-X-X-1,l=x<<2,N=a.kZ.LK(X);
for(var Y=0;Y<K;Y++){var f=Y<<2,z=f,R=f+X*$,V=f+$*(u-1),d=c[f],e=c[f+1],p=c[f+2],h=c[f+3],E=(X+1)*d,q=(X+1)*e,Z=(X+1)*p,v=(X+1)*h;
for(var W=0;W<X;W++){var D=f+W*$;E+=c[D];q+=c[D+1];Z+=c[D+2];v+=c[D+3]}for(var W=0;W<=X;W++){E+=c[R]-d;
o[f]=N[E];q+=c[R+1]-e;o[f+1]=N[q];Z+=c[R+2]-p;o[f+2]=N[Z];v+=c[R+3]-h;o[f+3]=N[v];R+=$;f+=$}for(var W=0;
W<x;W++){var I=W*$;E+=c[R+I]-c[z+I];o[f+I]=N[E];q+=c[R+I+1]-c[z+I+1];o[f+I+1]=N[q];Z+=c[R+I+2]-c[z+I+2];
o[f+I+2]=N[Z];v+=c[R+I+3]-c[z+I+3];o[f+I+3]=N[v]}z+=x*$;R+=x*$;f+=x*$;d=c[V];e=c[V+1];p=c[V+2];h=c[V+3];
for(var W=u-X;W<u;W++){E+=d-c[z];o[f]=N[E];q+=e-c[z+1];o[f+1]=N[q];Z+=p-c[z+2];o[f+2]=N[Z];v+=h-c[z+3];
o[f+3]=N[v];z+=$;f+=$}}};a.kZ.arb=function(c,o,K,u,X){var $=1/(X+X+1),O=u-X-X-1;for(var Y=0;Y<K;Y++){var n=Y,x=n,l=n+X*K,N=c[n],f=c[n+K*(u-1)],z=(X+1)*N;
for(var R=0;R<X;R++)z+=c[n+R*K];for(var R=0;R<=X;R++){z+=c[l]-N;o[n]=z*$;l+=K;n+=K}for(var R=0;R<O;R++){var V=R*K;
z+=c[l+V]-c[x+V];o[n+V]=z*$}x+=O*K;l+=O*K;n+=O*K;for(var R=u-X;R<u;R++){z+=f-c[x];o[n]=z*$;x+=K;n+=K}}};
a.ul={};a.ul.R=function(c,o,K,u){var X=[];for(var $=0;$<4;$++)for(var O=0;O<4;O++)X.push(c+K*O/3,o+u*$/3);
return X};a.ul.a59=function(c,o){var K=c.slice(0);for(var Y=0;Y<4;Y++)for(var u=0;u<4;u++){var X=2*(Y*4+u),$=2*(u*4+(3-Y));
if(o){var O=X;X=$;$=O}K[$]=c[X];K[$+1]=c[X+1]}return K};a.ul.bq=a.R(0);a.ul.drawImage=function(c,o,K,u,X,$,O){var n=!1,x=Date.now(),l=2,N=K+2*l,f=u+2*l,z=new ez(l,l,K,u),R=z.clone();
R.JG(l,l);var V=a.ul.bq;if(V.length!=R.P()*4)V=a.ul.bq=a.R(R.P()*4);else V.fill(0);a.Ui(o,z,V,R);if(n)console.log(Date.now()-x,"copy rect");
x=Date.now();a.Ov(V);if(n)console.log(Date.now()-x,"multiply alpha");x=Date.now();var d=Math.max(K,u),e=Math.round(50*K/d),p=Math.round(Math.sqrt(3)*.5*50*u/d),h=e-.5,E=[],q=[],Z=[];
for(var v=0;v<p+1;v++){var W=(v&1)==0;for(var D=0;D<e+1;D++){var I=(D-(W?.5:0))/h,A=v/p;if(D==0)I=0;
if(D==e)I=1;E.push(N*I,f*A);if(D<e&&v<p){var U=v*(e+1)+D,w=U+1,t=U+e+1,L=t+1;if(W)q.push(U,w,t,t,w,L);
else q.push(U,w,L,U,L,t)}var J=a.ul.a3t(c,I,A);Z.push(-J)}}var b=E.slice(0);a.ul.i(c,b,z);a.A.i(b,new bE(1,0,0,1,-$.x,-$.y),b);
if(n)console.log(Date.now()-x,"mesh built");x=Date.now();var F=$.m,B=$.e;a.it.RJ(V,N,f,X,F,B,E,b,Z,q,O);
if(n)console.log(Date.now()-x,"rendered");x=Date.now();a.Dt(X);if(n)console.log(Date.now()-x,"divided");
x=Date.now()};a.ul.Ry=new Array(10);a.ul.Tx=function(c,o){var K=200,u=0,X=0,$=1e9,O=a.ul.Ry;for(var n=0;
n<K+1;n++)for(var x=0;x<K+1;x++){var l=x/K,N=n/K;a.ul.aCA(c,l,N,O);var f=O[8]-o.x,z=O[9]-o.y,R=f*f+z*z;
if(R<$){$=R;u=l;X=N}}return[u,X]};a.ul.i=function(c,o,K){var u=K.x,X=K.y,$=1/K.m,O=1/K.e,n=a.ul.Ry;for(var x=0;
x<o.length;x+=2){var l=(o[x]-u)*$,N=(o[x+1]-X)*O;a.ul.aCA(c,l,N,n);o[x]=n[8];o[x+1]=n[9]}};a.ul.a3t=function(c,o,K){var u,X,$,O,n=a.ul.Ry;
a.ul.arH(c,o,K,n);u=n[8];X=n[9];a.ul.a6r(c,o,K,n);$=n[8];O=n[9];return u*O-X*$};a.ul.rr=function(c,o,K){var u=0,X=0,$=c[2][0],O=c[2][1];
while(u+2<$.length&&$[u+1]<o)u++;o=(o-$[u])/($[u+1]-$[u]);while(X+2<O.length&&O[X+1]<K)X++;K=(K-O[X])/(O[X+1]-O[X]);
return[u*3,X*3,o,K]};a.ul.aCA=function(c,o,K,u){var X=a.ul.rr(c,o,K);a.ul.qd(u,0,X[3]);a.ul.qd(u,4,X[2]);
a.ul.cV(c[3],X[0],X[1],c[0],u)};a.ul.arH=function(c,o,K,u){var X=a.ul.rr(c,o,K);a.ul.qd(u,0,X[3]);a.ul.aui(u,4,X[2]);
a.ul.cV(c[3],X[0],X[1],c[0],u)};a.ul.a6r=function(c,o,K,u){var X=a.ul.rr(c,o,K);a.ul.aui(u,0,X[3]);a.ul.qd(u,4,X[2]);
a.ul.cV(c[3],X[0],X[1],c[0],u)};a.ul.aui=function(c,Y,o){var K=1-o;c[Y]=-3*(K*K);c[Y+1]=3*(K*K)-6*(o*K);
c[Y+2]=6*(o*K)-3*(o*o);c[Y+3]=3*(o*o)};a.ul.qd=function(c,Y,o){var K=1-o;c[Y]=K*(K*K);c[Y+1]=3*o*(K*K);
c[Y+2]=3*(o*o)*K;c[Y+3]=o*o*o};a.ul.aAE=function(c,o,K,u,X){var $=a.ul.rr(c,o,K),O=$[0],n=$[1],x=$[2],l=$[3],N=c[0],f=Math.floor(x*3),z=Math.floor(l*3),R=a.ul.Ry,V=16,W=0;
a.ul.qd(R,0,l);a.ul.qd(R,4,x);var d=[],e=[],p=[];for(var h=0;h<4;h++){for(var E=0;E<4;E++){var Y=h*4+E,q=R[h]*R[4+E];
d.push(q);e.push((n+h)*N+O+E);if((h==z||h==z+1)&&(E==f||E==f+1)){var Z=x*3-f;if(E==f)Z=1-Z;var v=l*3-z;
if(h==z)v=1-v;p[Y]=Z*v/q}else p[Y]=0}}for(var Y=0;Y<V;Y++)W+=d[Y]*p[Y];for(var Y=0;Y<V;Y++)p[Y]/=W;for(var Y=0;
Y<V;Y++){var q=d[Y],D=e[Y];c[3][D*2]+=p[Y]*u;c[3][D*2+1]+=p[Y]*X}};a.ul.ll=function(c){var o=c[0],K=c[1],u=c[2],X=c[3],$=X.slice(0);
for(var O=0;O<K;O++)for(var n=0;n<o;n++){X[(n*K+O)*2]=$[(O*o+n)*2];X[(n*K+O)*2+1]=$[(O*o+n)*2+1]}c[0]=K;
c[1]=o;c[2]=[u[1],u[0]]};a.ul.split=function(c,o,K){if(o==1)a.ul.ll(c);var u=c[0],X=c[1],$=c[2][0],O=c[3],n=0;
while($[n+1]&&$[n+1]<K)n++;var x=(K-$[n])/($[n+1]-$[n]),l=1-x;for(var N=0;N<X;N++){var Y=(N*(u+3)+n*3)*2,f=l*O[Y]+x*O[Y+2],z=l*O[Y+1]+x*O[Y+3],R=l*O[Y+2]+x*O[Y+4],V=l*O[Y+3]+x*O[Y+5],d=l*O[Y+4]+x*O[Y+6],e=l*O[Y+5]+x*O[Y+7],p=l*f+x*R,h=l*z+x*V,E=l*R+x*d,q=l*V+x*e,Z=l*p+x*E,v=l*h+x*q;
O.splice(Y+2,4,f,z,p,h,Z,v,E,q,d,e)}$.push(K);$.sort();c[0]+=3;if(o==1)a.ul.ll(c)};a.ul.cV=function(c,o,K,u,X){var $=0,O=0,n=0,x=X[0],l=X[1],N=X[2],f=X[3],z=X[4],R=X[5],V=X[6],d=X[7],Y=(K*u+o)*2;
n=x*z;$+=c[Y+0]*n;O+=c[Y+1]*n;n=x*R;$+=c[Y+2]*n;O+=c[Y+3]*n;n=x*V;$+=c[Y+4]*n;O+=c[Y+5]*n;n=x*d;$+=c[Y+6]*n;
O+=c[Y+7]*n;Y+=u+u;n=l*z;$+=c[Y+0]*n;O+=c[Y+1]*n;n=l*R;$+=c[Y+2]*n;O+=c[Y+3]*n;n=l*V;$+=c[Y+4]*n;O+=c[Y+5]*n;
n=l*d;$+=c[Y+6]*n;O+=c[Y+7]*n;Y+=u+u;n=N*z;$+=c[Y+0]*n;O+=c[Y+1]*n;n=N*R;$+=c[Y+2]*n;O+=c[Y+3]*n;n=N*V;
$+=c[Y+4]*n;O+=c[Y+5]*n;n=N*d;$+=c[Y+6]*n;O+=c[Y+7]*n;Y+=u+u;n=f*z;$+=c[Y+0]*n;O+=c[Y+1]*n;n=f*R;$+=c[Y+2]*n;
O+=c[Y+3]*n;n=f*V;$+=c[Y+4]*n;O+=c[Y+5]*n;n=f*d;$+=c[Y+6]*n;O+=c[Y+7]*n;Y+=u+u;X[8]=$;X[9]=O};a.Gs={};
a.Gs.aA$=function(c,o,K){var u=Date.now(),X=new ArrayBuffer(o*K*16),$=a.Gs.aal(c,o,K,X),O=a.Gs.ajf(o,K,X);
return{s$:O,hY:$}};a.Gs.aDc=function(c,o,K){var u=Math.round(c.length/8),X=new Uint32Array(u),$=new Uint8Array(u),O=new Uint32Array(u);
a.ms(X,4294967295,0);X[K]=0;var n=new gA(u);n.push(K,X[K]);var x={s$:c,hY:o,U7:X,S2:$,MD:O,Eb:n,a34:K};
return x};a.Gs.mw=function(c,o){var K=c.s$,u=c.hY,X=c.U7,$=c.S2,O=c.MD,n=c.Eb;while(!n.SR()&&(o==null||$[o]==0)){var x=n.pop();
$[x]=1;for(var Y=0;Y<8;Y++){var l=K[8*x+Y],N=x+l;if(l==0||$[N])continue;var f=X[x]+u[8*x+Y];if(n.contains(N)&&f<X[N])n.remove(N,X[N]);
if(!n.contains(N)){X[N]=f;O[N]=x;n.push(N,X[N])}}}};function gA(c){this.Qc=new Uint32Array(c);this.list=[];
this.$X=0;this.EQ=4294967295}gA.prototype.SR=function(){return this.$X==0};gA.prototype.push=function(c,o){var K=this.list;
if(K[o]==null)K[o]=[];K[o].push(c);this.$X++;this.Qc[c]=K[o].length-1+1;this.EQ=Math.min(this.EQ,o)};
gA.prototype.pop=function(){this.$X--;var c=this.list,o=this.EQ,K=c[o].pop();if(c[o].length==0)c[o]=null;
this.aab();this.Qc[K]=0;return K};gA.prototype.contains=function(c){return this.Qc[c]!=0};gA.prototype.remove=function(c,o){this.$X--;
var K=this.list,Y=this.Qc[c]-1;if(Y==K[o].length-1)K[o].pop();else{var u=K[o].pop();K[o][Y]=u;this.Qc[u]=Y+1}if(K[o].length==0)K[o]=null;
this.Qc[c]=0;this.aab()};gA.prototype.aab=function(){if(this.$X==0){this.EQ=4294967295;return}var c=this.EQ,o=this.list;
while(o[c]==null)c++;this.EQ=c};a.Gs.a5y=function(c,o,K,u){var X=new Int16Array(u);for(var $=0;$<K;$++)for(var O=0;
O<o;O++){var Y=$*o+O,n=0;if(1<O&&O<o-2&&1<$&&$<K-2){n+=c[Y-o-o];n+=c[Y-o-1]+2*c[Y-o]+c[Y-o+1];n+=c[Y-2]+2*c[Y-1]-16*c[Y]+2*c[Y+1]+c[Y+2];
n+=c[Y+o-1]+2*c[Y+o]+c[Y+o+1];n+=c[Y+o+o]}else n=-16*c[Y];X[Y]=n}return X};a.Gs.a8_=function(c,o,K,u){if(u==null)u=128;
var X=new Uint8Array(o*K);for(var $=1;$<K-1;$++)for(var O=1;O<o-1;O++){var Y=$*o+O;X[Y]=a.Gs.aru(c[Y],c[Y-1],c[Y+1],c[Y-o],c[Y+o],u)}return X};
a.Gs.aru=function(c,o,K,u,X,$){var O=Math.abs(c);return c*o<0&&O<Math.abs(o)&&Math.abs(o-c)>$||c*K<0&&O<Math.abs(K)&&Math.abs(K-c)>$||c*u<0&&O<Math.abs(u)&&Math.abs(u-c)>$||c*X<0&&O<Math.abs(X)&&Math.abs(X-c)>$?1:0};
a.Gs.ajl=function(c,o,K,u){var X=new Float32Array(u),$=0;new Uint32Array(u).fill(0);for(var O=0;O<K;
O++)for(var n=0;n<o;n++){var x=0,l=0,Y=O*o+n,N=Y*3;if(0<n&&n<o-1)x=c[Y+1]-c[Y-1];if(0<O&&O<K-1)l=c[Y+o]-c[Y-o];
var f=X[N+2]=Math.sqrt(x*x+l*l);if(f!=0){var z=1/f;X[N]=x*z;X[N+1]=l*z}if(f>$)$=f}var R=o*K,V=$==0?0:1/$;
for(var Y=0;Y<R;Y++)X[Y*3+2]=1-X[Y*3+2]*V;return X};a.Gs.asL=function(c,o,K){return K[~~((.5+.5*c)*255)]+K[~~((.5+.5*o)*255)]};
a.Gs.aal=function(c,o,K,u){var X=Date.now(),$=a.Gs.a5y(c,o,K,u),O=a.Gs.a8_($,o,K),n=a.Gs.ajl(c,o,K,u),x=new Float32Array(256);
for(var Y=0;Y<256;Y++)x[Y]=Math.acos(-1+2*Y/255)*(.95/Math.PI);var l=[-1,0,1,1,1,0,-1,-1],N=[-1,-1,-1,0,1,1,1,0];
for(var Y=0;Y<8;Y++){var f=1/Math.sqrt(l[Y]*l[Y]+N[Y]*N[Y]);l[Y]*=f;N[Y]*=f}var z=[l[0],N[0],l[1],N[1],l[2],N[2],l[3],N[3]],R=[-o-1,-o,-o+1,1],V=new Uint8Array(o*K*8);
new Uint32Array(V.buffer).fill(4294967295);var d=o*K;for(var e=1;e<K-1;e++)for(var p=1;p<o-1;p++){var h=e*o+p,E=1-O[h],q=n[h*3+2],Z=n[3*h+1],v=-n[3*h];
for(var W=0;W<4;W++){var D=h+R[W];a.Gs.ao3(h,D,W,V,O,n,E,q,Z,v,z,x)}}return V};a.Gs.ao3=function(c,o,K,u,X,$,O,n,x,l,N,f){var z=1-X[o],R=(K&1)==0?1:Math.SQRT1_2,V=$[o*3+2]*R,d=$[3*o+1],e=-$[3*o],p=n*R,h=N[K+K],E=N[K+K+1],q=x*h+l*E,Z=d*h+e*E;
if(q+Z<0){q=-q;Z=-Z}var v=a.Gs.asL(q,Z,f);u[(c<<3)+K]=a.Gs.au2(z,v,V);u[(o<<3)+K+4]=a.Gs.au2(O,v,p)};
a.Gs.au2=function(c,o,K){return 1+~~(.5+20*(.43*c+.43*o+.14*K))};a.Gs.ajf=function(c,o,K){var u=new Int16Array(K),X=u,Y=0,$=0;
new Uint32Array(K).fill(0);for(var O=0;O<o;O++)for(var n=0;n<c;n++){if(O>0&&n>0)X[$+0]=-c-1;if(O>0)X[$+1]=-c;
if(O>0&&n<c-1)X[$+2]=-c+1;if(n<c-1)X[$+3]=1;if(O<o-1&&n<c-1)X[$+4]=c+1;if(O<o-1)X[$+5]=c;if(O<o-1&&n>0)X[$+6]=c-1;
if(n>0)X[$+7]=-1;Y++;$+=8}return u};a.wq={};a.wq.Lg=function(c){var o=c.slice(0),K=0;for(var Y=0;Y<c.length;
Y++)K+=c[Y];for(var Y=0;Y<c.length;Y++)o[Y]/=K;return o};a.wq.lV=[a.wq.Lg([1,2,1,2,16,2,1,2,1]),a.wq.Lg([1,2,1,2,4,2,1,2,1]),a.wq.Lg([0,-1,0,-1,8,-1,0,-1,0]),a.wq.Lg([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
a.wq.Wb=function(c,o,K,u,X,$,O,n){if(O==null)O=!1;if(n==null)n=!1;var x=Math.floor(Math.sqrt(X.length)),l=x-1>>>1,N=new Uint32Array(c.buffer),o=new Uint8ClampedArray(o.buffer);
for(var Y=0;Y<u;Y++)for(var f=0;f<K;f++){var z=0,R=0,V=0,d=0;for(var e=0;e<x;e++)for(var p=0;p<x;p++){var h=X[e*x+p];
if(h==0)continue;var E=f-l+p,q=Y-l+e;if(E<0)E=0;else if(E>K-1)E=K-1;if(q<0)q=0;else if(q>u-1)q=u-1;if(n&&N[q*K+E]>>>24==0){q=Y;
E=f}var Z=N[q*K+E];z+=(Z&255)*h;R+=(Z>>>8&255)*h;V+=(Z>>>16&255)*h;d+=(Z>>>24&255)*h}if(O){if(z<0)z=-z;
if(R<0)R=-R;if(V<0)V=-V;if(d<0)d=-d}if(n){z=Math.max(0,Math.min(255,z));R=Math.max(0,Math.min(255,R));
V=Math.max(0,Math.min(255,V));d=Math.max(0,Math.min(255,d))}var v=Y*K+f<<2;o[v]=~~(.5+z);o[v+1]=~~(.5+R);
o[v+2]=~~(.5+V);o[v+3]=255-$&o[v+3]|$&~~(.5+d)}};a.wq.azD=function(c,o,K,u){var X=c.length,$=new Uint8Array(X);
a.wq.Wb(c,o,K,u,a.wq.lV[4],0,!0);a.wq.Wb(c,$,K,u,a.wq.lV[5],0,!0);for(var Y=0;Y<X;Y+=4){var O=o[Y],n=o[Y+1],x=o[Y+2],l=o[Y+3],N=$[Y],f=$[Y+1],z=$[Y+2],R=$[Y+3];
o[Y]=255-Math.max(0,Math.min(255,Math.sqrt(O*O+N*N)));o[Y+1]=255-Math.max(0,Math.min(255,Math.sqrt(n*n+f*f)));
o[Y+2]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+z*z)))}};a.wq.aB8=function(c,o,K,u){var X=c.length,$=new Uint8Array(X);
a.wq.s4(c,o,K,u,a.wq.lV[4],!0);a.wq.s4(c,$,K,u,a.wq.lV[5],!0);for(var Y=0;Y<X;Y++){var O=o[Y],n=$[Y];
o[Y]=255-Math.max(0,Math.min(255,Math.sqrt(O*O+n*n)))}};a.wq.s4=function(c,o,K,u,X,$){o=new Uint8ClampedArray(o.buffer);
var O=[-K-1,-K,-K+1,-1,0,1,K-1,K,K+1],n=u-1,x=K-1;for(var Y=1;Y<n;Y++)for(var l=1;l<x;l++){var N=Y*K+l,f=a.wq.uD(c,N,K,X);
if($){if(f<0)f=-f}o[N]=~~(f+.5)}};a.wq.uD=function(c,o,K,u){return c[o-K-1]*u[0]+c[o-K]*u[1]+c[o-K+1]*u[2]+c[o-1]*u[3]+c[o]*u[4]+c[o+1]*u[5]+c[o+K-1]*u[6]+c[o+K]*u[7]+c[o+K+1]*u[8]};
a.wq.alI=function(c,o,K,u,X){var $=[-K-1,-K,-K+1,-1,0,1,K-1,K,K+1],O=u-1,n=K-1;for(var Y=1;Y<O;Y++)for(var x=1;
x<n;x++){var l=Y*K+x;o[l]=a.wq.a2p(c,l,K,X)}};a.wq.a2p=function(c,o,K,u){return c[o-K-1]*u[0]+c[o-K]*u[1]+c[o-K+1]*u[2]+c[o-1]*u[3]+c[o]*u[4]+c[o+1]*u[5]+c[o+K-1]*u[6]+c[o+K]*u[7]+c[o+K+1]*u[8]};
a.Q_={};a.Q_.fC=function(){function c(O,n,x,l,N,f){if(N==0){n.set(O);return}var z=a.R(x*l),R=a.R(x*l);
if(a.Ci(O)){o(O,n,x,l,N,f);a.Sw(O,z,3);a.Q_.al8(z,R,x,l,N,f);a.bp(R,n,3)}else{for(var Y=0;Y<3;Y++){a.Sw(O,z,Y);
a.Q_.al8(z,R,x,l,N,f);a.bp(R,n,Y)}}}function o(O,n,x,l,N,f){var z=0,R=new ArrayBuffer(512*4*3),V=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)],d=1+2*Math.round(Math.sqrt(N)),e=d>>>1,p=new Array(d),h=new Array(d);
for(var Y=0;Y<d;Y++){var R=new ArrayBuffer(512*4*3);p[Y]=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)];
h[Y]=p[Y][0]}var E=[a.Q_.hT,a.Q_.li][f],q=E[0],Z=E[1],v=V[0];for(var W=0;W<x;W++)if(W<N||W>x-N-d-1){v.fill(0);
var D=Math.max(W-N,0),I=Math.min(x,W+N+1),A=I-D;for(var U=0;U<N;U++)u(v,O,U*x+D,U*x+I,1);for(var U=0;
U<l;U++){var w=U-N-1,t=U+N;if(t<l)u(v,O,t*x+D,t*x+I,1);if(w>=0)u(v,O,w*x+D,w*x+I,-1);var L=U*x+W<<2;
z=v[300];if(z!=0)for(var Y=0;Y<3;Y++)n[L+Y]=q(V[Y],O[L+Y],z)}}else{for(var Y=0;Y<d;Y++)h[Y].fill(0);
var D=W-N+e,I=W+N+1+e;for(var U=0;U<N;U++)K(h,O,U*x+D,U*x+I,1,e);for(var U=0;U<l;U++){var w=U-N-1,t=U+N;
if(w>=0)K(h,O,w*x+D,w*x+I,-1,e);if(t<l)K(h,O,t*x+D,t*x+I,1,e);var J=p[e];z=J[0][300];for(var Y=0;Y<e;
Y++){var b=e-1-Y,F=e+1+Y,B=p[b],k=p[F],i=z+B[0][300],H=z+k[0][300],m=U*x+W+b<<2,j=U*x+W+F<<2;if(i!=0)for(var Q=0;
Q<3;Q++)n[m+Q]=Z(J[Q],B[Q],O[m+Q],i);if(H!=0)for(var Q=0;Q<3;Q++)n[j+Q]=Z(J[Q],k[Q],O[j+Q],H)}var L=U*x+W+e<<2;
if(z!=0)for(var Q=0;Q<3;Q++)n[L+Q]=q(J[Q],O[L+Q],z)}W+=d-1}}function K(O,n,x,l,N,f){var z=X,R=x<<2,V=l<<2;
z(O[f-1],n,x-1<<2,N);z(O[f-1],n,l-1<<2,-N);z(O[f+1],n,l<<2,N);z(O[f+1],n,x<<2,-N);for(var Y=1;Y<f;Y++){var d=O[f-Y-1],e=O[f+Y+1];
for(var p=0;p<=Y;p++){var h=p<<2;z(d,n,x-1-p<<2,N);z(d,n,l-1-p<<2,-N);z(e,n,l+p<<2,N);z(e,n,x+p<<2,-N)}}u(O[f],n,x,l,N)}function u(O,n,Y,x,l){var N=Y<<2,f=x<<2;
while(N<f){X(O,n,N,l);N+=4}}function X(O,n,x,l){var N=l*n[x+3];O[300]+=N;$(O,n[x],0,N);$(O,n[x+1],512,N);
$(O,n[x+2],1024,N)}function $(O,n,x,l){O[x|n]+=l;O[x|256|n>>>4]+=l}return c}();a.Q_.al8=function(){function c(f,z,R,V,d,e){if(d==0){z.set(f);
return}if(d<=200)o(f,z,R,V,d,e);else $(f,z,R,V,d,e)}function o(f,z,R,V,d,e){var p=0,h=new Int32Array(512),E=1+2*Math.round(Math.sqrt(d)),q=E>>>1,Z=new Array(E);
for(var Y=0;Y<E;Y++)Z[Y]=new Int32Array(512);var v=[a.Q_.hT,a.Q_.li][e],W=v[0],D=v[1];for(var I=0;I<R;
I++)if(I<d||I>R-d-E-1){h.fill(0);p=0;var A=Math.max(I-d,0),U=Math.min(R,I+d+1),w=U-A;for(var t=0;t<d;
t++){p+=w;u(h,f,t*R+A,t*R+U,1)}for(var t=0;t<V;t++){var L=t-d-1,J=t+d;if(L>=0){p-=w;u(h,f,L*R+A,L*R+U,-1)}if(J<V){p+=w;
u(h,f,J*R+A,J*R+U,1)}var b=W(h,f[t*R+I],p);z[t*R+I]=b}}else{for(var Y=0;Y<E;Y++)Z[Y].fill(0);p=0;var A=I-d+q,U=I+d+1+q,w=U-A;
for(var t=0;t<d;t++){p+=w;K(Z,f,t*R+A,t*R+U,1,q)}for(var t=0;t<V;t++){var L=t-d-1,J=t+d;if(L>=0){p-=w;
K(Z,f,L*R+A,L*R+U,-1,q)}if(J<V){p+=w;K(Z,f,J*R+A,J*R+U,1,q)}for(var Y=0;Y<q;Y++){var F=q-1-Y,B=q+1+Y;
z[t*R+I+F]=D(Z[q],Z[F],f[t*R+I+F],p);z[t*R+I+B]=D(Z[q],Z[B],f[t*R+I+B],p)}z[t*R+I+q]=W(Z[q],f[t*R+I+q],p)}I+=E-1}}function K(f,z,R,V,d,e){var p=X;
p(f[e-1],z[R-1],0,d);p(f[e-1],z[V-1],0,-d);p(f[e+1],z[V],0,d);p(f[e+1],z[R],0,-d);for(var Y=1;Y<e;Y++){var h=f[e-Y-1],E=f[e+Y+1];
for(var q=0;q<=Y;q++){p(h,z[R-1-q],0,d);p(h,z[V-1-q],0,-d);p(E,z[V+q],0,d);p(E,z[R+q],0,-d)}}u(f[e],z,R,V,d)}function u(f,z,Y,R,V){while(Y<R)X(f,z[Y++],0,V)}function X(f,z,R,V){f[R|z]+=V;
f[R|256|z>>>4]+=V}function $(f,z,R,V,d,e){var p=0,h=new Int32Array(512),E=new Int32Array(1*R),q=new Int32Array(512*R),Z=Math.min(d,R),v=Math.min(d,V),W=[a.Q_.hT,a.Q_.li][e],D=W[0];
for(var I=0;I<v;I++)O(q,E,f,R,I,1);for(var I=0;I<V;I++){if(I+d<V)O(q,E,f,R,I+d,1);if(I-d-1>=0)O(q,E,f,R,I-d-1,-1);
h.fill(0);p=0;for(var A=0;A<Z;A++){p+=E[A];n(h,q,A)}for(var A=0;A<R;A++){var U=A-d-1,w=A+d;if(U>=0&&E[U]!=0){p-=E[U];
x(h,q,U)}if(w<R&&E[w]!=0){p+=E[w];n(h,q,w)}var t=p==0?0:D(h,f[I*R+A],p);z[I*R+A]=t}}}function O(f,z,R,V,d,e){var Y=d*V;
for(var p=0;p<V;p++){X(f,R[Y+p],p<<9,e);z[p]+=e}}function n(f,z,R){for(var Y=0;Y<16;Y++){var V=z[R<<9|256|Y];
if(V==0)continue;f[256|Y]+=V;var d=Y<<4,e=R<<9|d;l(f,z,d,e);l(f,z,d+4,e+4);l(f,z,d+8,e+8);l(f,z,d+12,e+12)}}function x(f,z,R){for(var Y=0;
Y<16;Y++){var V=z[R<<9|256|Y];if(V==0)continue;f[256|Y]-=V;var d=Y<<4,e=R<<9|d;N(f,z,d,e);N(f,z,d+4,e+4);
N(f,z,d+8,e+8);N(f,z,d+12,e+12)}}function l(f,z,R,V){f[R]+=z[V];f[R+1]+=z[V+1];f[R+2]+=z[V+2];f[R+3]+=z[V+3]}function N(f,z,R,V){f[R]-=z[V];
f[R+1]-=z[V+1];f[R+2]-=z[V+2];f[R+3]-=z[V+3]}return c}();a.Q_.fi=.5;a.Q_.hT=[function(c,o,K){var u=~~(.5+a.Q_.fi*K),X=0,Y=256;
while(X+c[Y]<u)X+=c[Y++];Y=Y-256<<4;while(X<u)X+=c[Y++];return Y-1},function(c,o,K,u){var X=~~(.5+a.Q_.fi*u),$=0,Y=256;
while($+c[Y]+o[Y]<X){$+=c[Y]+o[Y];Y++}Y=Y-256<<4;while($<X){$+=c[Y]+o[Y];Y++}return Y-1}];a.Q_.as=100;
a.Q_.li=[function(c,o,K){var u=a.Q_.as,X=0,$=0,Y=Math.max(0,o-u),O=Math.min(256,o+u+1);while(Y<O){var n=c[Y];
X+=Y*n;$+=n;Y++}return $==0?0:X/$},function(c,o,K,u){var X=a.Q_.as,$=0,O=0,Y=Math.max(0,K-X),n=Math.min(256,K+X+1);
while(Y<n){var x=c[Y]+o[Y];$+=Y*x;O+=x;Y++}return O==0?0:$/O}];a.D={};a.D.mD=function(c){var o=r.W.sS(c.Trnf),K=c.Sz.v,u=a.D.ly(o,new ez(0,0,K.Wdth.v,K.Hght.v));
return a.D.EV(u)};a.D.ly=function(c,o){var K=c[0],u=c[1],X=c[2],$=c[3],O=c[6],n=c[7],x=c[4],l=c[5],N=0,f=0,z=1,R=0,V=0,d=1,e=1,p=1;
if(o){N=o.x;f=o.y;z=o.x+o.m;R=o.y;V=o.x;d=o.y+o.e;e=o.x+o.m;p=o.y+o.e}return a.D.aii(c,[N,f,z,R,e,p,V,d])};
a.D.aBI=function(c){function o($,O){for(var Y=0;Y<O.length;Y+=2)if(!K($,O[Y],O[Y+1]))return!1;return!0}function K($,O,n){return $[2*O]==$[2*n]&&$[2*O+1]==$[2*n+1]}var u=0;
if(o(c,[0,1,2,3]))u+=1;if(o(c,[0,3,1,2]))u+=2;return u};a.D.aii=function(c,o){function K(b,Y,F){var t=b[Y*2]-b[F*2],L=b[Y*2+1]-b[F*2+1];
return Math.sqrt(t*t+L*L)}var u=c[0],X=c[1],$=c[2],O=c[3],n=c[6],x=c[7],l=c[4],N=c[5],f=o[0],z=o[1],R=o[2],V=o[3],d=o[6],e=o[7],p=o[4],h=o[5],E=[[f,z,1,0,0,0,-f*u,-z*u,u],[0,0,0,f,z,1,-f*X,-z*X,X],[R,V,1,0,0,0,-R*$,-V*$,$],[0,0,0,R,V,1,-R*O,-V*O,O],[d,e,1,0,0,0,-d*n,-e*n,n],[0,0,0,d,e,1,-d*x,-e*x,x],[p,h,1,0,0,0,-p*l,-h*l,l],[0,0,0,p,h,1,-p*N,-h*N,N]],q=[0,0,0,0,0,0,0,0],Z=a.kn.QO(E,q);
if(Z!=0){q=[0,0,0,0,0,0,0,0];var v=a.D.aBI(c),W=a.D.aBI(o);if(v==W&&v!=0){var D=v==1,I=D?3:1,A=K(c,0,I),U=K(o,0,I),w=U/A,t=c[2*I]-c[0],L=c[2*I+1]-c[1],J=new bE;
J.translate(-u,-X);J.rotate(Math.atan2(L,t)-(D?Math.PI/2:0));if(D)J.scale(1,w);else J.scale(w,1);J.translate(f,z);
J.fH();q=a.D.I_(J)}}return q};a.D.R=function(c,o){if(c==null)c=o=0;return[1,0,c,0,1,o,0,0]};a.D.TP=function(c){return Math.abs(c[6])<1e-10&&Math.abs(c[7])<1e-10};
a.D.EV=function(c){return new bE(c[0],c[3],c[1],c[4],c[2],c[5])};a.D.I_=function(c){return[c.V,c.If,c.hW,c.J,c.gI,c.qj,0,0]};
a.D.i=function(c,o){var K=new Float64Array(2);for(var u=0;u<o.length;u+=2){var X=o[u],$=o[u+1];a.D.z3(X,$,c,K);
o[u]=K[0];o[u+1]=K[1]}};a.D.z3=function(c,o,K,u){var X=1/(K[6]*c+K[7]*o+1);u[0]=(K[0]*c+K[1]*o+K[2])*X;
u[1]=(K[3]*c+K[4]*o+K[5])*X};a.D.atp=function(c,o){var K=new Float64Array(2);a.D.z3(o.x,o.y,c,K);return new kn(K[0],K[1])};
a.D.ll=function(c,o,K,u){c=new Uint32Array(c.buffer);o=new Uint32Array(o.buffer);for(var X=0;X<u;X++){for(var $=0;
$<K;$++){o[$*u+X]=c[X*K+$]}}};a.D.af=function(c,o,K,u){c=new Uint32Array(c.buffer);o=new Uint32Array(o.buffer);
for(var X=0;X<u;X++){for(var $=0;$<K;$++){o[X*K+$]=c[X*K+K-1-$]}}};a.D.a1J=function(c,o,K,u){c=new Uint32Array(c.buffer);
o=new Uint32Array(o.buffer);for(var X=0;X<u;X++){for(var $=0;$<K;$++){o[X*K+$]=c[(u-1-X)*K+$]}}};a.D.aad=function(c){return Math.abs(c[6])<1e-9&&Math.abs(c[7])<1e-9};
a.D.awD=function(c){return Math.abs(c[0])<1e-9&&Math.abs(c[4])<1e-9||Math.abs(c[1])<1e-9&&Math.abs(c[3])<1e-9};
a.D.drawImage=function(c,o,K,u,X,$,O,n,x){if(O==null)O=!1;if(n==null)n=!1;var l=a.D.fH(c),N=!0,f=0;for(var Y=0;
Y<8;Y++){var z=Math.round(c[Y]);if(Y!=2&&Y!=5)f+=Math.abs(z);if(Math.abs(z-c[Y])>1e-9)N=!1}var R=a.D.aad(c),V=a.D.awD(c)&&R,d=V?1:0;
if(O||N&&f==K+u&&R){a.D.a6M(l,o,K,u,X,$,n,R,x);return}var e=$.m,p=$.e,h=new Float64Array(2);X=new Uint32Array(X.buffer);
o=new Uint32Array(o.buffer);for(var E=0;E<p;E++)for(var q=0;q<e;q++){var Z=E*e+q,v,W,D,I,i=0,H=0,m=0,j=0;
X[Z]=0;var A=q+$.x+.5,U=E+$.y+.5;v=A;W=U;D=l;var w=D[0]*v+D[1]*W+D[2],t=D[3]*v+D[4]*W+D[5];if(!R){I=1/(D[6]*v+D[7]*W+1);
w*=I;t*=I}var L=w*K,J=t*u,b=L<-1||L>K+1||J<-1||J>u+1;if(n){L=Math.max(.001,Math.min(K-1,L));J=Math.max(.001,Math.min(u-1,J))}else if(b)continue;
var F=a.D.a8e(c,K,u,A,U,w,t),B=Math.round(F*2.3);if(F<1.1){a.D.Y7(L,J,o,K,u,X,Z,d);continue}if(!n&&(L<.6||L>K-.6||J<.6||J>u-.6)){B=Math.max(B,5)}if(n&&b)B=1;
var k=1/B,Q=$.x+q,G=$.y+E;D=l;for(var Y=0;Y<B;Y++)for(var g=0;g<B;g++){v=Q+(Y+.5)*k;W=G+(g+.5)*k;var L=D[0]*v+D[1]*W+D[2],J=D[3]*v+D[4]*W+D[5];
if(!R){I=1/(D[6]*v+D[7]*W+1);L*=I;J*=I}if(n){L=Math.max(.001,Math.min(.999,L));J=Math.max(.001,Math.min(.999,J))}else if(L<0||L>=1||J<0||J>=1)continue;
L=Math.floor(L*K);J=Math.floor(J*u);var P=J*K+L,M=o[P],T=M>>>24;i+=(M&255)*T;H+=(M>>>8&255)*T;m+=(M>>>16&255)*T;
j+=T}if(j!=0){var C=1/j;i=~~(i*C+.5);H=~~(H*C+.5);m=~~(m*C+.5);j=~~(j*k*k+.5);X[Z]=j<<24|m<<16|H<<8|i}}};
a.D.a8e=function(c,o,K,u,X,$,O){var n=a.D.aoM(c,u,X,$+1/o,O),x=a.D.aoM(c,u,X,$,O+1/K);return 1/Math.sqrt(Math.max(n,x))};
a.D.aoM=function(c,o,K,u,X){var $=1/(c[6]*u+c[7]*X+1),O=(c[0]*u+c[1]*X+c[2])*$-o,n=(c[3]*u+c[4]*X+c[5])*$-K;
return O*O+n*n};a.D.a6M=function(c,o,K,u,X,$,O,n,x){if(n&&!O&&$.P()>4e6&&x){a.D.axW(c,o,K,u,X,$,O,n,x);
return}var l=$.x+$.m,N=$.y+$.e,f=0,z=new Uint32Array(X.buffer),R=new Uint32Array(o.buffer),V=c[0]*K,d=c[1]*K,e=c[2]*K,p=c[3]*u,h=c[4]*u,E=c[5]*u,q=c[6],Z=c[7];
if(n&&!O)for(var v=$.y+.5;v<N;v++)for(var W=$.x+.5;W<l;W++){var D=V*W+d*v+e,I=p*W+h*v+E;if(0<D&&D<K&&0<I&&I<u){var A=~~I*K+~~D;
z[f]=R[A]}else z[f]=0;f++}else for(var v=$.y+.5;v<N;v++)for(var W=$.x+.5;W<l;W++){var U=1/(q*W+Z*v+1),D=(V*W+d*v+e)*U,I=(p*W+h*v+E)*U;
if(O){D=Math.max(.001,Math.min(K-1,D));I=Math.max(.001,Math.min(u-1,I))}if(0<D&&D<K&&0<I&&I<u){var A=Math.floor(I)*K+Math.floor(D);
z[f]=R[A]}else z[f]=0;f++}};a.D.axW=function(c,o,K,u,X,$,O,n,x){var l=new Uint32Array(X.buffer),N=new Uint32Array(o.buffer),Z=0;
if(x&&($.m&3)!=0)throw"e";var f=c[0]*K,z=c[1]*K,R=c[2]*K,V=c[3]*u,d=c[4]*u,e=c[5]*u,p=c[6],h=c[7],E=$.m,q=$.e,v=$.x+.5,W=$.y+.5,D=(E>>>2<<2)-1e-9,I=-.1+(q>>>1<<1)-1e-9,A=~~K,U=f==0?0:1/f,w=V==0?0:1/V;
for(var t=0;t<q;t++){var L=v*f+z*(t+W)+R,J=v*V+d*(t+W)+e,b=0,F=E;if(f==0){}else if(U>0){b=Math.max(b,-L*U);
F=Math.min(F,(K-L)*U)}else{F=Math.min(F,-L*U);b=Math.max(b,(K-L)*U)}if(V==0){}else if(w>0){b=Math.max(b,-J*w);
F=Math.min(F,(u-J)*w)}else{F=Math.min(F,-J*w);b=Math.max(b,(u-J)*w)}if(F<0)F=0;if(b>F)b=F;b=~~Math.ceil(b);
F=~~F;Z=~~(t*E);l.fill(0,Z,Z+b);Z+=b;for(var B=b;B<F;B+=4){var k=f*B+L,i=V*B+J,H=~~i*A+~~k,m=N[H];l[Z]=m;
l[Z+1]=m;l[Z+2]=m;l[Z+3]=m;Z+=4}l.fill(0,Z,Z+E-F)}};a.D.fH=function(c){var o=c[4]-c[5]*c[7],K=c[2]*c[7]-c[1],u=c[1]*c[5]-c[2]*c[4],X=c[5]*c[6]-c[3],$=c[0]-c[2]*c[6],O=c[3]*c[2]-c[0]*c[5],n=c[3]*c[7]-c[4]*c[6],x=c[1]*c[6]-c[0]*c[7],l=1/(c[0]*c[4]-c[1]*c[3]);
return[o*l,K*l,u*l,X*l,$*l,O*l,n*l,x*l]};a.D.Jv=function(c,o){var K=c[0],u=c[1],X=c[2],$=c[3],O=c[4],n=c[5],x=c[6],l=c[7],N=o[0],f=o[1],z=o[2],R=o[3],V=o[4],d=o[5],e=o[6],p=o[7],h=[K*N+u*R+X*e,K*f+u*V+X*p,K*z+u*d+X,$*N+O*R+n*e,$*f+O*V+n*p,$*z+O*d+n,x*N+l*R+e,x*f+l*V+p],E=1/(x*z+l*d+1);
for(var Y=0;Y<8;Y++)h[Y]*=E;return h};a.D.Y7=function(c,o,K,u,X,$,O,n){var x=c,l=o,z=0,R=0,V=0,d=0;c-=.499999;
o-=.499999;var N=Math.floor(c),f=Math.floor(o);if(n==0){var Y=f*u+N,e=N>=0&&N<u,p=N+1>=0&&N+1<u,h=f>=0&&f<X,E=f+1>=0&&f+1<X;
if(e&&h)z=K[Y];if(p&&h)R=K[Y+1];if(e&&E)V=K[Y+u];if(p&&E)d=K[Y+u+1]}else if(n==1){var q=N<0?0:N>u-1?u-1:N,Z=N<-1?0:N>u-2?u-1:N+1,v=f<0?0:f>X-1?X-1:f,W=f<-1?0:f>X-2?X-1:f+1;
z=K[v*u+q];R=K[v*u+Z];V=K[W*u+q];d=K[W*u+Z]}else{var q=(N+50*u)%u,Z=(N+50*u+1)%u,v=(f+50*X)%X,W=(f+50*X+1)%X;
z=K[v*u+q];R=K[v*u+Z];V=K[W*u+q];d=K[W*u+Z]}var D=c-N,I=o-f,A=(1-I)*(1-D)*(z>>>24),U=(1-I)*D*(R>>>24),w=I*(1-D)*(V>>>24),t=I*D*(d>>>24),L=A+U+w+t,J=A*(z&255)+U*(R&255)+w*(V&255)+t*(d&255),b=A*(z>>>8&255)+U*(R>>>8&255)+w*(V>>>8&255)+t*(d>>>8&255),F=A*(z>>>16&255)+U*(R>>>16&255)+w*(V>>>16&255)+t*(d>>>16&255);
if(L==0)$[O]=0;else{var B=1/L;J=~~(J*B+.5);b=~~(b*B+.5);F=~~(F*B+.5);L=~~(L+.5);$[O]=L<<24|F<<16|b<<8|J}};
a.D.a2D=function(c,o,K,u,X,$){var O=c-.499999,n=o-.499999,x=~~O,l=~~n,N=O-x,f=n-l,z=(1-f)*(1-N),R=(1-f)*N,V=f*(1-N),d=f*N,e=l*u+x<<2,p=(l+1)*u+x<<2,h=z*K[e]+R*K[e+4]+V*K[p]+d*K[p+4],E=z*K[e+1]+R*K[e+5]+V*K[p+1]+d*K[p+5],q=z*K[e+2]+R*K[e+6]+V*K[p+2]+d*K[p+6],Z=z*K[e+3]+R*K[e+7]+V*K[p+3]+d*K[p+7];
$[0]=h;$[1]=E;$[2]=q;$[3]=Z};a.D.Iv=function(c,o,K,u,X){c-=.499999;o-=.499999;var $=Math.floor(c),O=Math.floor(o),n=c-$,x=o-O,l=(1-x)*(1-n),N=(1-x)*n,f=x*(1-n),z=x*n,R=($+50*u)%u,V=($+1+50*u)%u,d=(O+50*X)%X,e=(O+1+50*X)%X,p=K[d*u+R],h=K[d*u+V],E=K[e*u+R],q=K[e*u+V];
if(p==null||q==null)throw"e";return l*p+N*h+f*E+z*q};a.D.apK=function(c,o,K,u,X){c-=.499999;o-=.499999;
var $=Math.floor(c),O=Math.floor(o),n=c-$,x=o-O,l=(1-x)*(1-n),N=(1-x)*n,f=x*(1-n),z=x*n,R=0,V=O*u+$,d=V+u;
if(0<=O&&O<X&&0<=$&&$<u)R+=l*K[V];if(0<=O&&O<X&&0<=$+1&&$+1<u)R+=N*K[V+1];if(0<=O+1&&O+1<X&&0<=$&&$<u)R+=f*K[d];
if(0<=O+1&&O+1<X&&0<=$+1&&$+1<u)R+=z*K[d+1];return R};a.D.ak$=function(c,o,K,u,X,$,O,n,x,l,N,f){var z=new Uint32Array(c.buffer),R=new Uint32Array(u.buffer),V=(1+2*l)/X,d=[],e=[];
for(var p=0;p<X;p++){var h=-.25+l-p*V;d.push(Math.cos(2*Math.PI*h)*f/N);d.push(Math.sin(2*Math.PI*h)/N)}O*=o;
n*=K;for(var E=0;E<$;E++){var q=Math.pow(E/$,x)*$;for(var p=0;p<X;p++){var Z=O+d[p<<1]*q,v=n+d[(p<<1)+1]*q,W=~~(.5+(Z<0?0:Z>o-1?o-1:Z)),D=~~(.5+(v<0?0:v>K-1?K-1:v));
R[E*X+p]=z[D*o+W]}}};a.D.als=function(c,o,K,u,X,$,O,n,x,l,N,f){var z=new Uint32Array(c.buffer),R=new Uint32Array(u.buffer),V=1/f,d=[],e=K*4,p=1/e;
for(var h=0;h<e+10;h++)d.push(Math.pow(h*p,1/x)*K*N);O*=X;n*=$;for(var h=0;h<$;h++)for(var E=0;E<X;E++){var q=V*(E-O),Z=h-n,v=1.75-Math.atan2(Z,q)*(1/(2*Math.PI));
v=v-~~v;v=(v+l)*(1/(1+2*l));var W=Math.sqrt(q*q+Z*Z);W=d[~~(W*4)];a.D.Y7(v*o+.5,W+.5,z,o,K,R,h*X+E,1)}};
a.D.d$=function(c,o,K,u,X){var $=X[0],O=X[1];for(var n=0;n<O;n++)for(var x=0;x<$;x++){var l=X[2]*x+X[3]*n+X[4],N=X[5]*x+X[6]*n+X[7],f=n*$+x<<2,z=N*o+l<<2;
u[f]=c[z+0];u[f+1]=c[z+1];u[f+2]=c[z+2];u[f+3]=c[z+3]}};a.T={AQ:function(c,o){var K=~~(.499+c*o);return K<0?0:K>o?o:K},aDA:function(c,o,K,u,X,$,O,n){var x=K[0],l=K[1],N=K[2],f=K[3],z=u.m,R=u.e,V=new Float64Array(z*4+8),d=new Float64Array(z*4+8);
for(var e=0,Y=0;e<R;e++){var p=V;V=d;d=p;d.fill(0);for(var h=0;h<z;h++,Y++){var E=h+X,q=e+$,Z=x*E+l*q,v=N*E+f*q,W=0,A=0;
if(n==0)W=Z+.5;else if(n==1)W=2*Math.sqrt(Z*Z+v*v);else if(n==2)W=(Math.PI+Math.atan2(-v,-Z))/(2*Math.PI);
else if(n==3)W=Math.abs(Z*2);else if(n==4)W=2*(Math.abs(Z)+Math.abs(v));var D=a.T.AQ(W,O)*4,I=h*4;for(var U=0;
U<4;U++){var w=Math.max(0,Math.min(254.999,o[D+U]+V[I+4+U])),t=Math.floor(w);if(Math.random()<w-t)t++;
var L=w-t;V[I+8+U]=L*(7/16);d[I+0+U]=L*(3/16);d[I+4+U]=L*(5/16);d[I+8+U]=L*(1/16);A|=t<<U*8}c[Y]=A}}},J9:[function(c,o,K,u,X,$,O){var n=K[0],x=K[1],l=K[2],N=K[3],f=u.m,z=u.e;
for(var R=0,Y=0;R<z;R++)for(var V=0;V<f;V++,Y++){var d=V+X,e=R+$,p=n*d+x*e,h=l*d+N*e,E=p+.5;c[Y]=o[a.T.AQ(E,O)]}},function(c,o,K,u,X,$,O){var n=K[0],x=K[1],l=K[2],N=K[3],f=u.m,z=u.e;
for(var R=0,Y=0;R<z;R++)for(var V=0;V<f;V++,Y++){var d=V+X,e=R+$,p=n*d+x*e,h=l*d+N*e,E=2*Math.sqrt(p*p+h*h);
c[Y]=o[a.T.AQ(E,O)]}},function(c,o,K,u,X,$,O){var n=K[0],x=K[1],l=K[2],N=K[3],f=u.m,z=u.e;for(var R=0,Y=0;
R<z;R++)for(var V=0;V<f;V++,Y++){var d=V+X,e=R+$,p=n*d+x*e,h=l*d+N*e,E=(Math.PI+Math.atan2(-h,-p))/(2*Math.PI);
c[Y]=o[a.T.AQ(E,O)]}},function(c,o,K,u,X,$,O){var n=K[0],x=K[1],l=K[2],N=K[3],f=u.m,z=u.e;for(var R=0,Y=0;
R<z;R++)for(var V=0;V<f;V++,Y++){var d=V+X,e=R+$,p=n*d+x*e,h=l*d+N*e,E=Math.abs(p*2);c[Y]=o[a.T.AQ(E,O)]}},function(c,o,K,u,X,$,O){var n=K[0],x=K[1],l=K[2],N=K[3],f=u.m,z=u.e;
for(var R=0,Y=0;R<z;R++)for(var V=0;V<f;V++,Y++){var d=V+X,e=R+$,p=n*d+x*e,h=l*d+N*e,E=2*(Math.abs(p)+Math.abs(h));
c[Y]=o[a.T.AQ(E,O)]}}]};a.T.acb=function(c,o){return c+.5};a.T.anl=function(c,o){return 2*Math.sqrt(c*c+o*o)};
a.T.anN=function(c,o){return(Math.PI+Math.atan2(-o,-c))/(2*Math.PI)};a.T.aqv=function(c,o){return Math.abs(c*2)};
a.T.an4=function(c,o){return 2*(Math.abs(c)+Math.abs(o))};a.T.I3=function(c,o,K,u,X,$,O,n,x,l,N,f){var z=c.Clrs,R=new Uint32Array(o.buffer),V=1023,d=z?a.T.qW(c,x,l):null;
if(f&&z){var e=a.T.akK(c,d,V+1,O);a.T.aDA(R,e,u,K,K.x-X,K.y-$,V,n)}else{var p=z?a.T.atl(c,d,V+1,O):a.T.ala(c,V+1,O);
if(n<5){a.T.J9[n](R,p,u,K,K.x-X,K.y-$,V)}else{var h=new Uint8Array(p.buffer),E=K.m,q=K.e,Z=N.LJ-N.sf,v=1/Z,W=N.yW.m-K.m>>1,D=N.yW.e-K.e>>1,I=N.yW.m,A=-.6*v,U=(-.6+.4)*v,w=(-.6+2*.4)*v,t=(-.6+3*.4)*v;
for(var L=0,Y=0;L<q;L++)for(var J=0;J<E;J++,Y+=4){var b=0,F=0,B=0,k=0,i=(L+D)*I+J+W,H=(N.lb[i]-N.sf)*v,m=0;
if(H<=0||H>=1){m=(H<=0?0:V)<<2;o[Y]=h[m];o[Y+1]=h[m+1];o[Y+2]=h[m+2];o[Y+3]=h[m+3];continue}m=Math.max(0,Math.min(V-1,Math.round((H+A)*V)))<<2;
F+=h[m];B+=h[m+1];k+=h[m+2];b+=h[m+3];m=Math.max(0,Math.min(V-1,Math.round((H+U)*V)))<<2;F+=h[m];B+=h[m+1];
k+=h[m+2];b+=h[m+3];m=Math.max(0,Math.min(V-1,Math.round((H+w)*V)))<<2;F+=h[m];B+=h[m+1];k+=h[m+2];b+=h[m+3];
m=Math.max(0,Math.min(V-1,Math.round((H+t)*V)))<<2;F+=h[m];B+=h[m+1];k+=h[m+2];b+=h[m+3];o[Y]=F>>>2;
o[Y+1]=B>>>2;o[Y+2]=k>>>2;o[Y+3]=b>>>2}}}};a.T.qW=function(c,o,K){var u=[c.Clrs.v,c.Trns.v],X=[[],[]],$=255;
for(var O=0;O<2;O++)for(var Y=0;Y<u[O].length;Y++){var n,x=u[O][Y].v;if(O==0){var l=x.Type.v.Clry;if(l=="FrgC")n={Z:o>>16&255,r:o>>8&255,J:o&255};
else if(l=="BckC")n={Z:K>>16&255,r:K>>8&255,J:K&255};else n=a.T.h0(x.Clr.v)}else{n=x.Opct.v.val*(255/100);
if(n<$)$=n}X[O].push([n,x.Lctn.v/4096,x.Mdpn.v/100])}X.push($>254);return X};a.T.h0=function(c){var o,K=c.classID;
if(K=="RGBC"){if(c.Rd)o={Z:c.Rd.v,r:c.Grn.v,J:c.Bl.v};else o={Z:c.redFloat.v*255,r:c.greenFloat.v*255,J:c.blueFloat.v*255}}else if(K=="HSBC"){o=a.$Y(c.H.v.val/360,c.Strt.v/100,c.Brgh.v/100);
o.Z*=255;o.r*=255;o.J*=255}else if(K=="CMYC"){var u=100-c.Cyn.v,X=100-c.Mgnt.v,$=100-c.Ylw.v,O=100-c.Blck.v,n=255*u*O*1e-4,x=255*(.2*u+.8*X)*O*1e-4,l=255*(.2*X+.8*$)*O*1e-4;
o={Z:n,r:x,J:l}}else if(K=="Grsc")o={Z:255-c.Gry.v,r:255-c.Gry.v,J:255-c.Gry.v};else if(K=="LbCl"){o=a.$y(c.Lmnc.v,c.A.v,c.B.v)}else if(K=="BkCl")o={Z:0,r:0,J:0};
else console.log(c);if(isNaN(o.Z))o.Z=o.r=o.J=0;return o};a.T.ala=function(c,o,K){var u=new Uint32Array(o),X=new Uint8Array(u.buffer);
u.fill(4278190080);var $=[],O=[],n=c.RndS.v,x=c.Smth.v/4096;for(var Y=0;Y<4;Y++){$[Y]=~~(c.Mnm.v[Y].v*255/100);
O[Y]=~~(c.Mxm.v[Y].v*255/100)}var l=a.R(o*4),N=a.R(o);for(var f=0;f<3;f++){a.X.am2(null,o,1,l,[1+Math.round(x*x*x*60),22,n*(2+f)]);
a.Sw(l,N,0);a.bp(N,X,f);var z=$[f],R=O[f];for(var Y=0;Y<o;Y++)X[4*Y+f]=Math.max(z,Math.min(R,X[4*Y+f]))}if(K)for(var Y=0;
Y<o/2;Y++){var V=u[Y];u[Y]=u[o-1-Y];u[o-1-Y]=V}return u};a.T.mv=function(c){return{classID:"RGBC",Rd:{t:"doub",v:c.Z},Grn:{t:"doub",v:c.r},Bl:{t:"doub",v:c.J}}};
a.T.akK=function(c,o,K,u){var X=[],$=1/(K-0);for(var Y=0;Y<K;Y++){var O=Y*4,n=a.T.G8(c,o,(u?K-1-Y:Y)*$);
X[O]=n[0];X[O+1]=n[1];X[O+2]=n[2];X[O+3]=n[3]}return X};a.T.atl=function(c,o,K,u){var X=new Uint32Array(K),$=1/(K-0);
for(var Y=0;Y<K;Y++)X[Y]=a.T.h$(c,o,(u?K-1-Y:Y)*$);return X};a.T.G8=function(c,o,K){var u=c.Intr.v*(1/4096),X=o[0],$=o[1],O=X.length-1,n=$.length-1,Y=-1,x=0,l=0,N=0,f=0;
if(o[2])x=255;else{while(Y<n&&$[Y+1][1]<=K)Y++;if(Y==-1){x=$[0][0]}else if(Y==n){x=$[Y][0]}else{var z=a.T.a6Y($,Y,K,u);
x=z*$[Y][0]+(1-z)*$[Y+1][0]}}Y=-1;while(Y<O&&X[Y+1][1]<=K)Y++;if(Y==-1){var R=X[0][0];l=R.Z;N=R.r;f=R.J}else if(Y==O){var R=X[Y][0];
l=R.Z;N=R.r;f=R.J}else{var V=X[Y][0],d=X[Y+1][0],e=a.T.a6Y(X,Y,K,u);l=e*V.Z+(1-e)*d.Z;N=e*V.r+(1-e)*d.r;
f=e*V.J+(1-e)*d.J}return[l,N,f,x]};a.T.h$=function(c,o,K){var u=a.T.G8(c,o,K),X=~~(.5+u[0]),$=~~(.5+u[1]),O=~~(.5+u[2]),n=~~(.5+u[3]);
return n<<24|O<<16|$<<8|X};a.T.a6Y=function(c,Y,o,K){if(c.length==2)K*=.5;var u=c[Y][1],X=c[Y+1][1],$=u+c[Y+1][2]*(X-u),O;
if(o<$)O=.5*(o-u)/($-u);else O=.5+.5*(o-$)/(X-$);O=.5+.5*(K*Math.cos(Math.PI*O)+(1-K)*(1-2*O));return O};
a.T.abd=function(c,o,K){var u=.5*K.e,X=u*(c/o),$=Math.sqrt(u*u+X*X),O=.5*K.m,n=O*(o/c),x=Math.sqrt(O*O+n*n);
return Math.min($,x)};a.T.NA=function(c,o){var K=Math.PI*c.Angl.v.val/180,u=c.Scl.v.val/100,X=c.Ofst.v,$=X.Hrzn.v.val/100,O=X.Vrtc.v.val/100,n=Math.cos(K),x=-Math.sin(K),l=a.T.abd(n,x,o),N=l*u,f=o.x+o.m/2+$*o.m,z=o.y+o.e/2+O*o.e;
return[new kn(f,z),new kn(f+n*N,z+x*N)]};a.T.OH=function(c,o,K,u){var X=o.x-c.x,$=-(o.y-c.y),O=Math.sqrt(X*X+$*$),n=Math.atan2($,X),x=Math.cos(n),l=-Math.sin(n),N=a.T.abd(x,l,K),f=O/N,z=(c.x-K.x-K.m/2)/K.m,R=(c.y-K.y-K.e/2)/K.e;
u.Angl.v.val=180*n/Math.PI;u.Scl.v.val=f*100;var V=u.Ofst.v;V.Hrzn.v.val=z*100;V.Vrtc.v.val=R*100};a.T.Fa=function(c,o){for(var Y=0;
Y<c.length;Y++){var K=c[Y],u=Math.round(K[0]*4096),X=K[1],$=K[2],O=K[3];if($==null)$=1;if(O==null)O=.5;
var n=a.T.mv({Z:X[0]*255,r:X[1]*255,J:X[2]*255});o.Clrs.v[Y]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:u},Mdpn:{t:"long",v:Math.round(O*100)},Clr:{t:"Objc",v:n},Type:{t:"enum",v:{Clry:"UsrS"}}}};
o.Trns.v[Y]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:u},Mdpn:{t:"long",v:Math.round(O*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round($*100)}}}}}};
a.T.dZ=function(c,o,K){if(o){c=JSON.parse(JSON.stringify(c));for(var Y=0;Y<2;Y++){var u=c[Y==0?"Clrs":"Trns"].v;
for(var X=0;X<u.length;X++)u[X].v.Lctn.v=4096-u[X].v.Lctn.v;u.reverse()}}var $=[],O=1/255,n=c.Clrs.v,x=c.Trns.v,u=n;
if(gN==0||n.length!=x.length){if(gN!=0)console.log("strange gradient");if(K!=!0)u=n.concat(x);var l=a.T.qW(c,0,0);
for(var Y=0;Y<u.length;Y++){var N=u[Y].v,f=N.Lctn.v/4096,z=a.T.G8(c,l,f);$.push([f,[z[0]*O,z[1]*O,z[2]*O],z[3]*O])}$.sort(function(V,d){return V[0]-d[0]});
for(var Y=1;Y<$.length;Y++)if($[Y][0]-$[Y-1][0]<.001){$.splice(Y,1);Y--}}else{for(var Y=0;Y<u.length;
Y++){var N=n[Y].v,R=N.Clr.v,f=N.Lctn.v/4096;$.push([f,[R.Rd.v*O,R.Grn.v*O,R.Bl.v*O],x[Y].v.Opct.v.val*.01])}}return $};
a.a9y={};a.a9y.Wc=function(c,o,K,u,X,$,O,n,x,l,N,f){var z,R,V,d=Date.now(),e=!1,p=O,h=l,E,q,Z,v,W=$*255,D=255-x*255,I=1+X*6,A=1+n*6,U=1+f*4,w=(U-1)/7,t=0,L=255-0,J,b,F,B,k,i,H,m,j,Q,G,g,P,M=0,T=1,C,gf,s,b3,d5,gh,jt,fl,eq,c7,k8=1+N,hs,cq=a.R(K*u),jn=a.R(K*u),an=a.R(K*u),hk=a.R(K*u),ds=255/W,gT=255/(255-D);
for(R=0;R<u;R++){for(z=0;z<K;z++){var Y=R*K+z,gP=Y<<2;C=a.NV(c[gP],c[gP+1],c[gP+2]);hk[Y]=C;if(C<W)cq[Y]=255-C*ds;
if(C>D)jn[Y]=255-(255-C)*gT}}if(e)console.log("init",Date.now()-d);d=Date.now();if(X*p>0){an.set(cq);
a.kZ.nf(an,cq,new ez(0,0,K,u),p)}if(n*h>0){an.set(jn);a.kZ.nf(an,jn,new ez(0,0,K,u),h)}if(e)console.log("blur",Date.now()-d);
d=Date.now();var ky=a.R(256),ay=a.R(256);for(var Y=0;Y<256;Y++){var bb=Y*(1/255),ap=0;ap=(1-Math.pow(1-bb,I))*255;
ky[Y]=Math.max(0,Math.min(255,~~(ap+.5)));ap=Math.pow(bb,A)*255;ay[Y]=Math.max(0,Math.min(255,~~(ap+.5)))}var cR=new Uint8ClampedArray(o.buffer),c8=new Float32Array(32768);
for(var Y=0;Y<32768;Y++){hs=Math.sqrt(Y)*(1/128);if(k8>1)hs=(1-hs)*(k8-1)+1;else hs=hs*(k8-1)+1;c8[Y]=hs}for(R=0;
R<u;R++){for(z=0;z<K;z++){var Y=R*K+z,gP=Y<<2,ap=hk[Y],gr=cq[Y]*(1/255),fF=jn[Y]*(1/255);ap=(1-gr)*ap+gr*ky[~~ap];
ap=(1-fF)*ap+fF*ay[~~ap];C=ap;var cj=c[gP],br=c[gP+1],hX=c[gP+2];gf=-cj*.168736-br*.331264+hX*.5;s=cj*.5-br*.418688-hX*.081312;
hs=c8[~~(.5+gf*gf+s*s)];b3=gf*hs;gh=s*hs;T=1-Math.min(2-(gr+fF),1);gf=T*gf+(1-T)*b3;s=T*s+(1-T)*gh;fl=C+1.402*s;
eq=C-.34414*gf-.71414*s;c7=C+1.772*gf;cR[gP]=~~(.5+fl);cR[gP+1]=~~(.5+eq);cR[gP+2]=~~(.5+c7)}}if(e)console.log("apply masks",Date.now()-d);
d=Date.now()};a.K7={};a.K7.sZ=function(c,o,K,u,X){var $=Date.now(),O=!1,d=1,L=0,j=0;if(!o.v8(X)){var n=o.X3(X),x=a.R(n.P()*4);
a.Ui(c,o,x,n);c=x;o=n}var l=a.R(o.P());a.qv(K,X,l,o);a.round(l);X=X.ar(o);var N=X.m,f=X.e,z=N*3<f?2:1,R=f*3<N?2:1;
if(X.P()*(z*2+1)*(R*2+1)<o.P()){var n=new ez(X.x-N*z,X.y-f*z,N*(z*2+1),f*(R*2+1)).ar(o),x=a.R(n.P()*4);
a.Ui(c,o,x,n);var V=a.R(n.P());a.qv(l,o,V,n);o=n;c=x;l=V}while((o.m+o.e)/2/d>400)d++;var e=c,p=o,h=l,E=Math.floor(p.m/d),q=Math.floor(p.e/d);
c=a.R(E*q*4);a.scale.VU(e,p.m,p.e,c,E,q,1/d);l=a.R(E*q);a.scale.d$(h,p.m,p.e,l,E,q,1/d);a.round(l,1);
if(O)console.log("scale down:",d,E,q);var Z=a.Rp(l,new ez(0,0,E,q));if(Z.SR())return 1;var v=Math.round((Z.m+Z.e)/2/15);
if(O)console.log(Date.now()-$,"preprocess");$=Date.now();var W=a.R(E*q*4);a.ajj(c,W);var D=Int16Array,I=new D(E*q*24),A=new D(64),U=new D(64),w=new D(64),t=new D(64);
for(var J=3;J<q-4;J++)for(var b=3;b<E-4;b++){var F=J*E+b;if(l[F]==255)continue;if(a.K7.af$(W,l,b,J,E,q,A,U,w)!=0)continue;
a.K7.D3(A,t);var B=L*24;I[B]=b;I[B+1]=J;a.K7.lY(A,I,B+4,12);a.K7.D3(U,t);a.K7.lY(U,I,B+16,4);a.K7.D3(w,t);
a.K7.lY(w,I,B+20,4);var k=I[B+5],i=I[B+6];I[B+5]=I[B+16];I[B+6]=I[B+20];I[B+16]=k;I[B+20]=i;L++}if(L==0)return 2;
if(O)console.log(Date.now()-$,"FWHT computed");$=Date.now();var H=[];a.K7.tH(0,L-1,H,I,new D(2*24));
if(O)console.log(Date.now()-$,"KD tree computed");$=Date.now();var m=new Uint32Array(E*q*4);for(var Y=0;
Y<L;Y++){var Q=Y,G=a.K7.asH(Q,I,H,v);if(G==-1)continue;var g=Q*24,P=G*24,M=I[g],T=I[g+1],C=I[P],gf=I[P+1];
j+=a.K7.getError(P,g,I,1e99);var s=C-M,b3=gf-T;m[(q+b3)*2*E+(E+s)]+=1}if(O)console.log(Date.now()-$,"NN found");
$=Date.now();var d5=[],gh=1/(2*E);for(var Y=0;Y<m.length;Y++){if(m[Y]>0){var J=Math.floor(Y*gh),b=Y-J*2*E;
d5.push({x:b-E,y:J-q,b:m[Y],eZ:-1})}}d5.sort(function(cR,c8){return c8.b-cR.b});var jt=new Int32Array(E*q),fl=[];
for(var Y=0;Y<E*q;Y++){if(l[Y]==255){jt[Y]=fl.length>>>1;fl.push(Y%E,Math.floor(Y/E))}else if(c[(Y<<2)+3]<200){jt[Y]=-2}else{jt[Y]=-1}}var eq=a.K7.a7n(E,q,d5,jt,fl);
if(eq==null){if(O)console.log("no appropriate labeling");return 3}var c7=eq.Z5,top=eq.top;c7=a.K7.akB(c7,c,E,q,top,jt,fl);
if(O)console.log(Date.now()-$,"optimal labeling found");$=Date.now();var n=X.clone();n.JG(1,1);n=n.ar(p);
var k8=a.R(n.P()*4),hs=a.R(n.P());a.Ui(e,p,k8,n);var cq=p.m,jn=p.e;for(var J=0;J<jn;J++)for(var b=0;
b<cq;b++){if(h[J*cq+b]==0)continue;var an=Math.min(Math.floor(b/d),E-1),hk=Math.min(Math.floor(J/d),q-1),ds=jt[hk*E+an];
if(ds==-1)continue;var gT=c7[ds],gP=top[gT],ky=b+gP.x*d,ay=J+gP.y*d,bb=ay*cq+ky<<2,ap=(J-n.y+p.y)*n.m+(b-n.x+p.x)<<2;
k8[ap]=e[bb];k8[ap+1]=e[bb+1];k8[ap+2]=e[bb+2];k8[ap+3]=e[bb+3];k8[ap+3]=e[bb+3];hs[ap>>2]=gT+1}if(O)console.log(Date.now()-$,"copied back");
$=Date.now();a.S5.sZ(k8,hs,n,null,1e3);if(O)console.log(Date.now()-$,"poisson smooth");$=Date.now();
a.Ui(k8,n,u,X);return 0};a.K7.a7g=function(c,o,K,u,X,$){return a.K7.Df(c+X.x,o+X.y,K,u,$)?0:1e9};a.K7.akB=function(c,o,K,u,top,X,$){var O=Date.now(),n=$.length>>>1,x=[-1,0,0,-1,1,0,0,1],l=1e99,N=[],f=[],z=2*(n*2*3+n*2),R=null,V=0,d=0,e=0,p=1e99;
while(!0&&Date.now()<O+12e3){e++;var h=null,E=l;for(var q=0;q<top.length;q++){var Z=top[q],v=0,W=n+2,D=0;
for(var Y=0;Y<n;Y++){var I=$[Y*2],A=$[Y*2+1],U=top[c[Y]],w=a.K7.a7g(I,A,K,u,Z,X),t=c[Y]==q?1e9:a.K7.a7g(I,A,K,u,U,X);
for(var cv=0;cv<4;cv++){if(cv==0&&I==0||cv==1&&A==0||cv==2&&I==K-1||cv==3&&A==u-1)continue;var L=x[2*cv],J=x[2*cv+1],b=I+L,F=A+J,B=X[F*K+b];
if(B==-2){}else if(B==-1){w+=3*a.K7.Lp(b+Z.x,F+Z.y,b,F,K,u,o,X);w+=2*a.K7.Lp(b+Z.x+L,F+Z.y+J,b+L,F+J,K,u,o,X);
t+=3*a.K7.Lp(b+U.x,F+U.y,b,F,K,u,o,X);t+=2*a.K7.Lp(b+U.x+L,F+U.y+J,b+L,F+J,K,u,o,X)}else if(cv>1){if(c[Y]==c[B]){var k=0;
k+=a.K7.Lp(I+U.x,A+U.y,I+Z.x,A+Z.y,K,u,o,X);k+=a.K7.Lp(b+U.x,F+U.y,b+Z.x,F+Z.y,K,u,o,X);N[v]=Y;N[v+1]=B;
f[v]=k;f[v+1]=k;v+=2}else{var i=top[c[B]],H=W,m=0,j=0,Q=0;W++;m+=a.K7.Lp(I+U.x,A+U.y,I+Z.x,A+Z.y,K,u,o,X);
m+=a.K7.Lp(b+U.x,F+U.y,b+Z.x,F+Z.y,K,u,o,X);j+=a.K7.Lp(I+i.x,A+i.y,I+Z.x,A+Z.y,K,u,o,X);j+=a.K7.Lp(b+i.x,F+i.y,b+Z.x,F+Z.y,K,u,o,X);
Q+=a.K7.Lp(I+i.x,A+i.y,I+U.x,A+U.y,K,u,o,X);Q+=a.K7.Lp(b+i.x,F+i.y,b+U.x,F+U.y,K,u,o,X);N[v]=Y;N[v+1]=H;
f[v]=m;f[v+1]=m;v+=2;N[v]=B;N[v+1]=H;f[v]=j;f[v+1]=j;v+=2;N[v]=H;N[v+1]=n+1;f[v]=Q;f[v+1]=0;v+=2}}}N[v]=n;
N[v+1]=Y;f[v]=w;f[v+1]=0;v+=2;N[v]=Y;N[v+1]=n+1;f[v]=t;f[v+1]=0;v+=2;D+=Math.min(w,t)}if(D>E)continue;
var G=a.dk.QO(W,v,n,n+1,N,f,E);if(G.U7<E){E=G.U7;var g=c.slice(0);a.K7.a0W(g,v,N,G.gh,q,n);h=g}}if(E*1>=l){break}l=E;
c=h;if((e&3)==0){if(E*1.03>=p)break;p=E}if((e&3)==0){var P=0*top.length;for(var Y=0;Y<top.length&&top.length>P;
Y++){if(c.indexOf(Y)!=-1)continue;top.splice(Y,1);for(var B=0;B<c.length;B++)if(c[B]>Y)c[B]--;Y--}}}return c};
a.K7.a0W=function(c,o,K,u,X,$){for(var Y=0;Y<u.length;Y++){var O=u[Y]<<1,n=0,x=0;if(O<o){n=K[O];x=K[O+1]}else{x=K[O];
n=K[O+1]}if(n==$&&c[x]!=X)c[x]=X}};a.K7.aoR=function(top,c,o,K,u,X,$,O,n){for(var Y=0;Y<o.length;Y++){var x=o[Y],l=!0;
if(O!=null&&!a.K7.Df(O+x.x,n+x.y,X,$,K))continue;if(x.eZ==-1)x.eZ=a.K7.akL(x,K,u,X,$);if(x.eZ<=0)continue;
for(var N=0;N<top.length;N++){var f=top[N],z=x.x-f.x,R=x.y-f.y;if(z*z+R*R<c){l=!1;break}}if(l)return x}return null};
a.K7.akL=function(c,o,K,u,X){var $=0;for(var Y=0;Y<K.length;Y+=2){var O=K[Y]+c.x,n=K[Y+1]+c.y;if(a.K7.Df(O,n,u,X,o))$++}return $/(K.length>>1)};
a.K7.a7n=function(c,o,K,u,X){var $=X.length>>>1,top=[];for(var Y=0;Y<60;Y++){var O=a.K7.aoR(top,25,K,u,X,c,o);
if(O==null)break;else top.push(O)}if(top.length==0)return null;var n=[];for(var Y=0;Y<$;Y++){var x=X[Y*2],l=X[Y*2+1],N=-1,f=0;
while(!0){f++;var z=Math.random();N=Math.floor(z*.99999*top.length);var R=top[N],V=x+R.x,d=l+R.y;if(a.K7.Df(V,d,c,o,u))break;
if(f>1e3){var O;O=a.K7.aoR(top,0,K,u,X,c,o,x,l);if(O==null)for(var e=0;e<4;e++){var p,h,E=0;while(!0){p=~~(Math.random()*c);
h=~~(Math.random()*o);if(a.K7.Df(p,h,c,o,u))break;E++;if(E>500)throw"e"}O={x:p-x,y:h-l,b:1,eZ:-1};K.push(O);
top.push(O)}else top.push(O);f=0}}n.push(N)}return{top:top,Z5:n}};a.K7.Lp=function(c,o,K,u,X,$,O,n){if(c==K&&o==u)return 0;
if(c<0||o<0||c>=X||o>=$||K<0||u<0||K>=X||u>=$||n[o*X+c]!=-1||n[u*X+K]!=-1)return 1e7;var x=o*X+c<<2,l=u*X+K<<2,N=O[x]-O[l],f=O[x+1]-O[l+1],z=O[x+2]-O[l+2];
return 1+(N*N+f*f+z*z)};a.K7.Df=function(c,o,K,u,X){return c>=0&&c<K&&o>=0&&o<u&&X[o*K+c]==-1};a.K7.asH=function(c,o,K,u){var X=24*c,$=o[X],O=o[X+1],n=u*u,x=0,z=1e9;
while(K[x]!=99)if(o[X+K[x]]<K[x+1])x=K[x+2];else x=K[x+3];var l=K[x+1],N=K[x+2],f=-1;for(var Y=l;Y<=N;
Y++){var x=Y,R=x*24,V=o[R],d=o[R+1];if((V-$)*(V-$)+(d-O)*(d-O)<n)continue;var e=a.K7.getError(R,X,o,z);
if(e<z){z=e;f=x}}return f};a.K7.getError=function(c,o,K,u){var X=0;for(var $=4;$<24;$+=4){var O=K[o+$]-K[c+$],n=K[o+$+1]-K[c+$+1],x=K[o+$+2]-K[c+$+2],l=K[o+$+3]-K[c+$+3];
X+=O*O+n*n+x*x+l*l;if(X>=u)return X+1}return X};a.K7.tH=function(c,o,K,u,X){var $=16,z=0;if(o-c<=$){K.push(99,c,o);
return}a.K7.jl(c,o,u,X);var O=-1,n=-1;for(var Y=4;Y<24;Y++){var x=X[2*Y+1]-X[2*Y];if(x>n){n=x;O=Y}}var l=c+o>>1,N=a.K7.alu(l,c,o,u,O),f=-1;
for(var Y=c;Y<=o;Y++)if(u[24*Y+O]==N){if(f==-1)f=Y;z=Y}if(c+8<f&&f-c>o-z)l=f;else if(z+1<o-8)l=z+1;else if(o-c<64){K.push(99,c,o);
return}else l=l;var R=K.length;K.push(O,N,0,0);K[R+2]=R+4;a.K7.tH(c,l-1,K,u,X);K[R+3]=K.length;a.K7.tH(l,o,K,u,X)};
a.K7.jl=function(c,o,K,u){for(var Y=0;Y<48;Y+=4){u[Y]=3e4;u[Y+1]=-3e4;u[Y+2]=3e4;u[Y+3]=-3e4}for(var Y=c;
Y<=o;Y++){var X=Y*24;for(var $=0;$<24;$++){var O=K[X+$],n=u[$<<1],x=u[($<<1)+1];if(O<n)u[$<<1]=O;if(O>x)u[($<<1)+1]=O}}};
a.K7.NN=function(c,o,K){var u=0,Y=0;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;
Y++;u=K[c+Y];K[c+Y]=K[o+Y];K[o+Y]=u;Y++};a.K7.s8=function(c,o,K,u){var X=K+u>>>1,$=c[24*X+o];while(K<=u){while(c[24*K+o]<$)K++;
while(c[24*u+o]>$)u--;if(K<=u){if(c[24*K+o]!=c[24*u+o])a.K7.NN(K*24,u*24,c);K++;u--}}return K};a.K7.alu=function(c,o,K,u,X){var $=0;
while(o!=K){$=a.K7.s8(u,X,o,K);if(c<$)K=$-1;else o=$}return u[c*24+X]};a.K7.lY=function(c,o,K,u){for(var Y=0;
Y<u;Y++)o[K+Y]=c[Y]};a.K7.af$=function(c,o,K,u,X,$,O,n,x){var l=(u-3)*X+(K-3),N=l<<2;for(var f=0;f<8;
f++){if(o[l]+o[l+1]+o[l+2]+o[l+3]+o[l+4]+o[l+5]+o[l+6]+o[l+7]!=0||c[N+3]<200||c[N+7]<200||c[N+11]<200||c[N+15]<200||c[N+19]<200||c[N+23]<200||c[N+27]<200||c[N+31]<200)return 1;
var Y=f<<3;O[Y+0]=c[N+0];n[Y+0]=c[N+1];x[Y+0]=c[N+2];O[Y+1]=c[N+4];n[Y+1]=c[N+5];x[Y+1]=c[N+6];O[Y+2]=c[N+8];
n[Y+2]=c[N+9];x[Y+2]=c[N+10];O[Y+3]=c[N+12];n[Y+3]=c[N+13];x[Y+3]=c[N+14];O[Y+4]=c[N+16];n[Y+4]=c[N+17];
x[Y+4]=c[N+18];O[Y+5]=c[N+20];n[Y+5]=c[N+21];x[Y+5]=c[N+22];O[Y+6]=c[N+24];n[Y+6]=c[N+25];x[Y+6]=c[N+26];
O[Y+7]=c[N+28];n[Y+7]=c[N+29];x[Y+7]=c[N+30];N+=X<<2;l+=X}return 0};a.K7.D3=function(c,o){o[0]=c[32]+c[0];
o[1]=c[33]+c[1];o[2]=c[34]+c[2];o[3]=c[35]+c[3];o[4]=c[36]+c[4];o[5]=c[37]+c[5];o[6]=c[38]+c[6];o[7]=c[39]+c[7];
o[8]=c[40]+c[8];o[9]=c[41]+c[9];o[10]=c[42]+c[10];o[11]=c[43]+c[11];o[12]=c[44]+c[12];o[13]=c[45]+c[13];
o[14]=c[46]+c[14];o[15]=c[47]+c[15];o[16]=c[48]+c[16];o[17]=c[49]+c[17];o[18]=c[50]+c[18];o[19]=c[51]+c[19];
o[20]=c[52]+c[20];o[21]=c[53]+c[21];o[22]=c[54]+c[22];o[23]=c[55]+c[23];o[24]=c[56]+c[24];o[25]=c[57]+c[25];
o[26]=c[58]+c[26];o[27]=c[59]+c[27];o[28]=c[60]+c[28];o[29]=c[61]+c[29];o[30]=c[62]+c[30];o[31]=c[63]+c[31];
o[32]=c[0]-c[32];o[33]=c[1]-c[33];o[34]=c[2]-c[34];o[35]=c[3]-c[35];o[36]=c[4]-c[36];o[37]=c[5]-c[37];
o[38]=c[6]-c[38];o[39]=c[7]-c[39];o[40]=c[8]-c[40];o[41]=c[9]-c[41];o[42]=c[10]-c[42];o[43]=c[11]-c[43];
o[44]=c[12]-c[44];o[45]=c[13]-c[45];o[46]=c[14]-c[46];o[47]=c[15]-c[47];o[48]=c[16]-c[48];o[49]=c[17]-c[49];
o[50]=c[18]-c[50];o[51]=c[19]-c[51];o[52]=c[20]-c[52];o[53]=c[21]-c[53];o[54]=c[22]-c[54];o[55]=c[23]-c[55];
o[56]=c[24]-c[56];o[57]=c[25]-c[57];o[58]=c[26]-c[58];o[59]=c[27]-c[59];o[60]=c[28]-c[60];o[61]=c[29]-c[61];
o[62]=c[30]-c[62];o[63]=c[31]-c[63];c[0]=o[16]+o[0];c[1]=o[17]+o[1];c[2]=o[18]+o[2];c[3]=o[19]+o[3];
c[4]=o[20]+o[4];c[5]=o[21]+o[5];c[6]=o[22]+o[6];c[7]=o[23]+o[7];c[8]=o[24]+o[8];c[9]=o[25]+o[9];c[10]=o[26]+o[10];
c[11]=o[27]+o[11];c[12]=o[28]+o[12];c[13]=o[29]+o[13];c[14]=o[30]+o[14];c[15]=o[31]+o[15];c[16]=o[0]-o[16];
c[17]=o[1]-o[17];c[18]=o[2]-o[18];c[19]=o[3]-o[19];c[20]=o[4]-o[20];c[21]=o[5]-o[21];c[22]=o[6]-o[22];
c[23]=o[7]-o[23];c[24]=o[8]-o[24];c[25]=o[9]-o[25];c[26]=o[10]-o[26];c[27]=o[11]-o[27];c[28]=o[12]-o[28];
c[29]=o[13]-o[29];c[30]=o[14]-o[30];c[31]=o[15]-o[31];o[0]=c[8]+c[0];o[1]=c[9]+c[1];o[2]=c[10]+c[2];
o[3]=c[11]+c[3];o[4]=c[12]+c[4];o[5]=c[13]+c[5];o[6]=c[14]+c[6];o[7]=c[15]+c[7];o[8]=c[0]-c[8];o[9]=c[1]-c[9];
o[10]=c[2]-c[10];o[11]=c[3]-c[11];o[12]=c[4]-c[12];o[13]=c[5]-c[13];o[14]=c[6]-c[14];o[15]=c[7]-c[15];
c[0]=o[4]+o[0];c[1]=o[5]+o[1];c[2]=o[6]+o[2];c[3]=o[7]+o[3];c[4]=o[0]-o[4];c[5]=o[1]-o[5];c[6]=o[2]-o[6];
c[7]=o[3]-o[7];c[8]=o[12]+o[8];c[9]=o[13]+o[9];c[10]=o[14]+o[10];c[11]=o[15]+o[11];c[12]=o[8]-o[12];
c[13]=o[9]-o[13];c[14]=o[10]-o[14];c[15]=o[11]-o[15];o[0]=c[2]+c[0];o[1]=c[3]+c[1];o[2]=c[0]-c[2];o[3]=c[1]-c[3];
o[4]=c[6]+c[4];o[5]=c[7]+c[5];o[6]=c[4]-c[6];o[7]=c[5]-c[7];o[8]=c[10]+c[8];o[9]=c[11]+c[9];o[10]=c[8]-c[10];
o[11]=c[9]-c[11];o[12]=c[14]+c[12];o[13]=c[15]+c[13];o[14]=c[12]-c[14];o[15]=c[13]-c[15];c[0]=o[1]+o[0];
c[1]=o[0]-o[1];c[2]=o[3]+o[2];c[3]=o[2]-o[3];c[4]=o[5]+o[4];c[5]=o[4]-o[5];c[6]=o[7]+o[6];c[7]=o[6]-o[7];
c[8]=o[9]+o[8];c[9]=o[8]-o[9];c[10]=o[11]+o[10];c[11]=o[10]-o[11];c[12]=o[13]+o[12];c[13]=o[12]-o[13];
c[14]=o[15]+o[14];c[15]=o[14]-o[15]};a.K7.a2f=function(){var c="",cv=64,o="v",K="t",u="a",X=5,Y,$,O;
for(Y=cv>>1;Y>0;Y>>=1,X--){for($=0;$<cv;$++){O=($>>X&1)!=0;if(O){c+=K+"["+$+"] = "+o+"["+(-Y+$)+"] - "+o+"["+$+"];  "}else{c+=K+"["+$+"] = "+o+"["+(Y+$)+"] + "+o+"["+$+"];  "}}u=o;
o=K;K=u;c+="\n"}console.log(c)};a.K7.ah9=function(cv,c,o){var K=c,u=o,X=K,$=0,Y,n,x;while(cv>>$!=2)$++;
var O=$;for(Y=cv>>1;Y>0;Y>>=1,$--){for(n=0;n<cv;n++){x=(n>>$&1)!=0;if(x)u[n]=K[-Y+n]-K[n];else u[n]=K[Y+n]+K[n]}X=K;
K=u;u=X}if((O&1)==1)for(Y=0;Y<cv;Y++)o[Y]=K[Y]};a.kU={};a.kU.qY=function(c,o,K,u,X,$,O,n,x){var l=Date.now(),N=new Uint32Array(c.buffer),f=new Uint32Array(o.buffer),z=O/K,R=n/u,V=1/z,d=1/R,e=new Float64Array(2),p=3,h=1/p,E=1/(p*p),q=0,Z=0,v=K,W=u;
if(X){q=X.x;Z=X.y;v=X.m;W=X.e}for(var D=0;D<W;D++)for(var I=0;I<v;I++){var A=q+I,U=Z+D,Y=U*K+A,w=Y<<1,t=Y<<2;
a.kU.adx($,O,n,(A+.5)*z,(U+.5)*R,e);var L=e[0]*V,J=e[1]*d;if(L==0&&J==0)f[Y]=N[Y];else{a.D.Y7(A+L+.5,U+J+.5,N,K,u,f,Y,x)}}};
a.kU.adx=function(c,o,K,u,X,$){u-=.499999;X-=.499999;var O=~~u,n=~~X,x=u-O,l=X-n,N=(1-l)*(1-x),f=(1-l)*x,z=l*(1-x),R=l*x,V=O<o-1?O+1:O,d=n<K-1?n+1:n,e=n*o+O<<1,p=n*o+V<<1,h=d*o+O<<1,E=d*o+V<<1;
$[0]=N*c[e]+f*c[p]+z*c[h]+R*c[E];$[1]=N*c[e+1]+f*c[p+1]+z*c[h+1]+R*c[E+1]};a.kU.alU=function(c,o,K,u,X){var $=1/c,O=[-1,1,-c,c],n=u.length;
for(var x=0;x<n;x++){var Y=u[x],l=Y<<1,N=x<<1,f=~~(Y*$),z=Y-c*f,R=K[l],V=K[l+1],d=0,e=0;if(z!=0&&z!=c-1){var p=Y-1<<1,h=Y+1<<1,E=K[p],q=K[h],Z=K[p+1],v=K[h+1],W=R-(E+q)*.5,D=V-(Z+v)*.5;
d-=W*X;e-=D*X}if(f!=0&&f!=o-1){var p=Y-c<<1,h=Y+c<<1,E=K[p],q=K[h],Z=K[p+1],v=K[h+1],W=R-(E+q)*.5,D=V-(Z+v)*.5;
d-=W*X;e-=D*X}K[l]=R+d;K[l+1]=V+e}};a.kU.a5k=function(c,o){var K=c+","+o;if(a.kU.axe==K)return a.kU.aft;
var u=a.kU.aft=[];a.kU.axe=K;for(var Y=0;Y<=1e3;Y++){var X=Y*.001,$=Math.sqrt(X),O=Math.exp(-4*$),n=.96*(1-$*$),x=o*((1-c)*O+c*n);
u[Y]=x}return u};a.kU.axe="";a.kU.aft=[];a.kU.aw4=function(c,o,K,u,X,$,O,n,x,l,N,f,z){var R=Math.max(0,Math.floor(X-O-1)),V=Math.min(o,Math.ceil(X+O+1)),d=Math.max(0,Math.floor($-O-1)),e=Math.min(K,Math.ceil($+O+1)),p=2*o,h=O*O,E=1/O,q=0;
if(z&&(u==3||u==6))x=-x;var Z=a.kU.a5k(n,x);for(var v=d;v<e;v++)for(var W=R;W<V;W++){var Y=v*o+W,D=Y<<1,I=(X-W)*E,A=($-v)*E,U=I*I+A*A;
if(U<1){f[q]=Y;var w=Z[~~(U*1e3)];if(u==1){c[D]=c[D]*(1-w*.05);c[D+1]=c[D+1]*(1-w*.05)}else{var t=0,L=0,F,B,k,i;
if(u==0){t=l*w;L=N*w}else if(u==2){}else if(u==3){t=w*A;L=-w*I}else if(u==4){t=w*I;L=w*A}else if(u==5){t=-w*I;
L=-w*A}else if(u==6){t=N*w;L=-l*w}var J=c[D],b=c[D+1];if(W==0||W!=o-1&&t<0){F=1+c[D+2]-J;k=c[D+3]-b}else{F=J-c[D-2]+1;
k=b-c[D-1]}if(v==0||v!=K-1&&L<0){B=c[D+p]-J;i=1+c[D+p+1]-b}else{B=J-c[D-p];i=b-c[D-p+1]+1}c[D]=-(F*t+B*L-J);
c[D+1]=-(k*t+i*L-b)}q++}}};a.kU.aut=function(c){var o=c[0],K=c[0],u=c[1],X=c[1];for(var Y=0;Y<c.length;
Y+=2){var $=c[Y],O=c[Y+1];if($<o)o=$;else if($>K)K=$;if(O<u)u=O;else if(O>X)X=O}return[o,u,K,X]};a.anr=function(c,o,K,u,X){function $(C,gf,s,b3){return Math.sqrt((C-s)*(C-s)+(gf-b3)*(gf-b3))}function O(C,gf){return C>=0&&C<o&&gf>=0&&gf<K}function n(C){if(C<0)return 0;
if(C>=o)return o-1;return C}function x(C){if(C<0)return 0;if(C>=K)return K-1;return C}function l(Y,C){var gf=C[3]*(1/255),s=u[Y]+C[0]*gf;
if(s>255)s=255;u[Y]=s;s=u[Y+1]+C[1]*gf;if(s>255)s=255;u[Y+1]=s;s=u[Y+2]+C[2]*gf;if(s>255)s=255;u[Y+2]=s}function N(C,gf,s){if(!H(C,gf))return;
if(s[3]<0)s[3]=0;l((gf*o+C)*4,s)}function f(C){var gf=C.slice(0,3);gf[3]=0;return gf}var z=o/800;function R(C){return Math.round(C*z)}function V(){for(var Y=0;
Y<=300;Y++){j[Y]=d(Y)}}function d(K){var C=.8,gf=.2,s=C*gf,b3=K/60%2-1,d5=s*(1-b3*b3),gh=gf-s,jt;if(K<60){jt=[s+gh,d5,0]}else if(K<120){jt=[d5,s,0]}else if(K<180){jt=[0,s,d5]}else if(K<240){jt=[0,d5,s]}else if(K<300){jt=[d5,0,s]}else{jt=[s,0,d5]}return[(jt[0]+gh)*255,(jt[1]+gh)*255,(jt[2]+gh)*255]}function e(K){return j[~~K]}function p(C){return 1-h(C)}function h(C){return C-~~C}function E(C,gf,s,b3){k(C,gf,s,0,gf+1,1,b3)}function q(C,gf,s,b3,d5,gh){k(C,gf,s,0,b3,1,d5,gh)}function Z(C){for(var Y=0;
Y<u.length;Y+=4){l(Y,C)}}function v(C,gf,s,b3,d5,gh,jt,fl){W(C,gf,s,b3,d5,1,gh,jt,fl)}function W(C,gf,s,b3,d5,gh,jt,fl,eq){if(gh==null)gh=.5;
if(jt==null)jt=0;if(fl==null)fl=0;if(eq==null)eq=!1;var c7=C.x,k8=C.y,hs=s.slice(0),cq=~~(s[3]*G);b3=b3*G;
if(!eq){gf=i(gf);d5=i(d5);jt=i(jt);fl=i(fl)}var jn=n(c7-gf),an=n(c7+gf);for(var hk=jn;hk<=an;hk++){var ds=hk-c7,gT=Math.floor(Math.sqrt(gf*gf-ds*ds)),gP=x(k8-gT),ky=x(k8);
for(var ay=gP;ay<=ky;ay++){var bb=$(hk,ay,c7,k8);if(bb>gf||bb<=gf-d5)break;var ap=(bb-gf+d5)/d5;hs[3]=cq-b3*(gh==1?ap:Math.pow(ap,gh));
l((ay*o+hk)*4,hs)}gP=x(k8+gT);for(var ay=gP;ay>ky;ay--){var bb=$(hk,ay,c7,k8);if(bb>gf||bb<=gf-d5)break;
var ap=(bb-gf+d5)/d5;hs[3]=cq-b3*(gh==1?ap:Math.pow(ap,gh));l((ay*o+hk)*4,hs)}}if(jt>0){k(C,gf+jt,hs,hs[3],jt,1,0,0,!0)}if(fl>0){k(C,gf-d5,m(s),-s[3],fl,1,0,0,!0)}}function D(C,gf,s,b3,d5,gh){k(C,gf,s,s[3],gf+1,1,b3,d5,gh)}function I(C,gf,s,b3,d5){if(d5==null)d5=!1;
var gh=C.x,jt=C.y;b3*=G;if(!d5){gf=i(gf);s=i(s)}var fl=n(gh-gf),eq=n(gh+gf);for(var c7=fl;c7<eq;c7++){var k8=c7-gh,hs=~~Math.sqrt(gf*gf-k8*k8),cq=x(jt-hs),jn=x(jt);
for(var an=cq;an<=jn;an++){var hk=$(c7,an,gh,jt);if(hk>gf||hk<=gf-s)break;var ds=(gf-hk)/s,gT=e(300*ds);
gT[3]=b3;l((an*o+c7)*4,gT)}cq=x(jt+hs);for(var an=cq;an>jn;an--){var hk=$(c7,an,gh,jt);if(hk>gf||hk<=gf-s)break;
var ds=(gf-hk)/s,gT=e(300*ds);gT[3]=b3;l((an*o+c7)*4,gT)}}}function A(Q,C){var gf=Q.iW,s=Q.Kz,b3=C.slice(0),d5=C[3]*G,gh=Math.abs(s.y-gf.y)>Math.abs(s.x-gf.x);
if(gh){var jt=gf.x;gf.x=gf.y;gf.y=jt;jt=s.x;s.x=s.y;s.y=jt}if(gf.x>s.x){var jt=gf;gf=s;s=jt}var fl=s.x-gf.x,eq=s.y-gf.y,c7=fl==0?1:eq/fl,k8=Math.round(gf.x),hs=gf.y+c7*(k8-gf.x),cq=p(gf.x+.5),jn=k8,an=~~hs;
if(gh){b3[3]=d5*p(hs)*cq;N(an,jn,b3);b3[3]=d5*h(hs)*cq;N(an+1,jn,b3)}else{b3[3]=d5*p(hs)*cq;N(jn,an,b3);
b3[3]=d5*h(hs)*cq;N(jn,an+1,b3)}var hk=hs-c7;k8=Math.round(s.x);hs=s.y+c7*(k8-s.x);cq=h(s.x+.5);var ds=k8,gT=~~hs;
if(gh){b3[3]=d5*p(hs)*cq;N(gT,ds,b3);b3[3]=d5*h(hs)*cq;N(gT+1,ds,b3)}else{b3[3]=d5*p(hs)*cq;N(ds,gT,b3);
b3[3]=d5*h(hs)*cq;N(ds,gT+1,b3)}if(gh){for(var gP=jn+1;gP<=ds-1;gP++){b3[3]=d5*p(hk);N(~~hk,gP,b3);b3[3]=d5*h(hk);
N(~~hk+1,gP,b3);hk+=c7}}else{for(var gP=jn+1;gP<=ds-1;gP++){b3[3]=d5*p(hk);N(gP,~~hk,b3);b3[3]=d5*h(hk);
N(gP,~~hk+1,b3);hk+=c7}}}function U(C,gf,s,b3){for(var Y=0;Y<4;Y++){var d5=C.ZU(gf+1.3*Y,s);A(d5,b3,1)}}function kn(C,gf){this.x=Math.round(C);
this.y=Math.round(gf)}var w=Math.PI/180;kn.prototype.ZU=function(C,gf){C=C*w;var s=this.x+gf*Math.cos(C),b3=this.y+gf*Math.sin(C);
return new t(this.x,this.y,s,b3)};kn.prototype.a8I=function(C,gf){C=C*w;var s=this.Ji+gf*Math.cos(C),b3=this.wd+gf*Math.sin(C);
return new kn(s,b3)};function t(C,gf,s,b3){this.iW=new kn(C,gf);this.Kz=new kn(s,b3)}t.prototype.Rt=function(C){var gf=C*this.iW.x+(1-C)*this.Kz.x,s=C*this.iW.y+(1-C)*this.Kz.y;
return new kn(gf,s)};var L=v,J=D,b=E,F=q,B=I,k=W,i=R,H=O,m=f,j=[];V();for(var Y=0;Y<c.length;Y++){u[Y]=c[Y]}var Q=new t(o*X[2],K*X[3],o/2,K/2),G=X[1],g=[];
g[0]=function P(){var C=[80,40,15,60],s=0,b3=0;b(Q.Rt(1.4),260,C,10);b(Q.Rt(1),100,[240,50,50,30],30);
J(Q.Rt(1),60,[255,40,0,40]);var gf=[255,255,255,255];k(Q.Rt(1),70,gf,gf[3],58,.5);b(Q.Rt(1),12,gf);gf[3]=40;
L(Q.Rt(1),150,gf,gf[3],150);for(var Y=0;Y<40;Y++){s+=Math.random()*25;b3=Math.random()*i(300)+i(100);
var d5=Q.Rt(1).ZU(s,b3);A(Q.Rt(1).ZU(s,b3),[110,110,110,30])}J(Q.Rt(1),130,[255,255,255,8]);var gh=[170,30,23,70];
F(Q.Rt(1),70,gh,1,3,3);var jt=[60,60,130,40];b(Q.Rt(.47),44,jt,5);b(Q.Rt(.43),22,jt,3);jt[3]=16;b(Q.Rt(.53),15,jt,2);
var fl=[138,94,42,100];b(Q.Rt(.2),16,fl,2);var eq=[130,255,170,180];J(Q.Rt(0),4,eq);J(Q.Rt(-.25),5,eq);
fl=[150,90,0,50];L(Q.Rt(-.45),55,m(fl),-fl[3],40,2);b(Q.Rt(-.42),35,fl,2);b(Q.Rt(-.5),15,fl,2);B(Q.Rt(-1.28),145,11,70);
var c7=e(0);c7[3]=50;L(Q.Rt(-1.28),149,c7,c7[3],4);c7=e(300);c7[3]=50;L(Q.Rt(-1.28),155-1,m(c7),-c7[3],3);
var k8=[130,130,10,50];F(Q.Rt(-1),73,k8,3,2);var hs=[40,130,70,40];L(Q.Rt(-1),70,m(hs),-hs[3],35);hs=[40,170,60,50];
b(Q.Rt(-.7),25,hs,4);var hs=[70,110,50,60];L(Q.Rt(1.3),30,m(hs),-hs[3],11,3);jt=[0,50,210,80];J(Q.Rt(-.72),20,jt)};
g[1]=function M(){J(Q.Rt(1),150,[240,70,70,60]);b(Q.Rt(1),100,[200,60,60,40],30);var C=[255,255,255,255],gf=0,s=0;
k(Q.Rt(1),75,C,C[3],63);b(Q.Rt(1),12,C);J(Q.Rt(1),270,[200,200,200,20],10);for(var Y=0;Y<10;Y++){gf+=10+Math.random()*40;
s=Math.random()*i(250)+i(80);var b3=Q.Rt(1).ZU(gf,s);A(b3,[110,110,110,35])}gf=5;s=100;for(var Y=0;Y<12;
Y++){gf+=30;U(Q.Rt(1),gf,s,[90,90,90,40])}var d5=[150,40,23,100];F(Q.Rt(1),70,d5,1,3,3);var gh=[30,100,60,40];
J(Q.Rt(-.9),180,[255,255,255,20]);b(Q.Rt(-.9),140,gh,15);var jt=[170,80,25,15];F(Q.Rt(-.9),120,jt,1,4,4);
var fl=[110,240,190,200];J(Q.Rt(-.6),3,fl);fl[3]=100;J(Q.Rt(-.6),7,fl);var eq=[230,120,40,85];J(Q.Rt(-.73),9,eq);
var c7=[60,60,190,50];b(Q.Rt(.3),28,c7,6);c7[3]=25;b(Q.Rt(.34),20,c7,3)};g[2]=function T(){var C=[255,255,255,255],s=0,b3=0;
b(Q.Rt(1),13,C);k(Q.Rt(1),150,C,C[3],137);var gf=[120,80,35,20];b(Q.Rt(1.4),260,gf,10);for(var Y=0;Y<40;
Y++){s+=5+Math.random()*30;b3=Math.random()*i(300);A(Q.Rt(1).ZU(s,b3),[110,110,110,20])}var d5=[10,30,255,30];
b(Q.Rt(1),70,d5,50);var gh=[15,90,170,15];b(Q.Rt(1.5),60,gh);var jt=[220,220,20,50];b(Q.Rt(-1.15),8,jt,2);
var C=[255,255,255,40];J(Q.Rt(-1.18),6,C);J(Q.Rt(-1.18),4,C);jt=[110,110,10,8];L(Q.Rt(-1.2),32,m(jt),-jt[3],20,3);
var fl=[5,0,16,255];for(var Y=0;Y<4;Y++){b(Q.Rt(-1.36),10,fl,3)}var eq=[90,200,150,20],c7=eq.slice(0);
c7[3]*=2;b(Q.Rt(-1.32),7,c7,3);b(Q.Rt(-1.36),7,c7,3);b(Q.Rt(-1.4),7,c7,3);var C=[230,230,230,100];J(Q.Rt(-1.36),2,C);
C[3]=3;b(Q.Rt(-.55),10,C);jt=[120,100,10,18];b(Q.Rt(-.55),160,jt,8);b(Q.Rt(-.55),80,jt,4);eq[3]=3;c7[3]=6;
L(Q.Rt(-.49),13,m(c7),-c7[3],13,2);L(Q.Rt(-.55),13,m(c7),-c7[3],13,2);eq[3]=20;b(Q.Rt(.15),25,eq,3);
jt[3]=100;J(Q.Rt(-.52),3,jt);jt=[200,200,50,40];b(Q.Rt(.27),1,jt,4);var k8=[150,40,23,30];L(Q.Rt(1),80,m(k8),-k8[3],2,1)};
return g[X[0]]()};a.kn={};a.kn.ll=function(c){var o=c.length,cv=c[0].length,K=new Array(cv);for(var Y=0;
Y<cv;Y++)K[Y]=new Array(o);for(var Y=0;Y<cv;Y++)for(var u=0;u<o;u++)K[Y][u]=c[u][Y];return K};a.kn.wv=function(c,o){var K=c.length,cv=c[0].length,u=new Array(K);
for(var Y=0;Y<K;Y++)u[Y]=new Array(cv);for(var Y=0;Y<K;Y++)for(var X=0;X<cv;X++)u[Y][X]=c[Y][X]-o[Y][X];
return u};a.kn.add=function(c,o){var K=c.length,cv=c[0].length,u=new Array(K);for(var Y=0;Y<K;Y++)u[Y]=new Array(cv);
for(var Y=0;Y<K;Y++)for(var X=0;X<cv;X++)u[Y][X]=c[Y][X]+o[Y][X];return u};a.kn.multiply=function(c,o){var K=c.length,u=c[0].length,cv=o[0].length;
if(u!=o.length)throw"e";var X=new Array(K);for(var Y=0;Y<K;Y++)X[Y]=new Array(cv);if((u&1)!=0)for(var Y=0;
Y<K;Y++){var $=c[Y],O=X[Y];for(var n=0;n<cv;n++){var x=0;for(var l=0;l<u;l++)x+=$[l]*o[l][n];O[n]=x}}else for(var Y=0;
Y<K;Y++){var $=c[Y],O=X[Y];for(var n=0;n<cv;n++){var x=0;for(var l=0;l<u;l+=2)x+=$[l]*o[l][n]+$[l+1]*o[l+1][n];
O[n]=x}}return X};a.kn.g0=function(c,o){var K=c.length,cv=c[0].length,u=new Array(K);for(var Y=0;Y<K;
Y++){var X=0;for(var $=0;$<cv;$++)X+=c[Y][$]*o[$];u[Y]=X}return u};a.kn.a9=function(c,o){var K=[];for(var Y=0;
Y<c;Y++){K.push([]);for(var u=0;u<o;u++)K[Y].push(0)}return K};a.kn.aA8=function(c){for(var Y=0;Y<c.length;
Y++)console.log(JSON.stringify(c[Y]))};a.kn.aqz=function(c){var o=[];for(var Y=0;Y<c.length;Y++)o.push(c[Y].join(","));
return"["+o.join(";")+"]"};a.kn.QO=function(c,o){var K=c.length;for(var u=0;u<K;u++){var X=0,$=Number.NEGATIVE_INFINITY;
for(var Y=u;Y<K;Y++)if(Math.abs(c[Y][u])>$){X=Y;$=Math.abs(c[Y][u])}a.kn.a8G(c,u,X);for(var Y=u+1;Y<K;
Y++){if(c[u][u]==0)return 1;var O=c[Y][u]/c[u][u];for(var n=u;n<K+1;n++)c[Y][n]-=c[u][n]*O}}for(var Y=K-1;
Y>=0;Y--){if(c[Y][Y]==0)return 1;var x=c[Y][K]/c[Y][Y];o[Y]=x;for(var n=Y-1;n>=0;n--){c[n][K]-=c[n][Y]*x;
c[n][Y]=0}}return 0};a.kn.a8G=function(c,o,K){var u=c[o];c[o]=c[K];c[K]=u};a.kn.ash=function(c){var o=c.length,K=a.kn.a9(o,o);
for(var Y=0;Y<o;Y++)K[Y][Y]=c[Y];return K};a.kn.a6K=function(c){var o=c.length,K=c[0].length,u=new Array(o);
for(var Y=0;Y<o;Y++){u[Y]=0;for(var X=0;X<K;X++)u[Y]+=c[Y][X];u[Y]/=K}return u};a.kn.zB=function(c){var o=0;
for(var Y=0;Y<c.length;Y++)o+=c[Y]*c[Y];return Math.sqrt(o)};a.QW={};a.QW.wm=function(c){var o=~~(c+.5);
return o<0?0:o>255?255:o};a.QW.transform=function(c,o,K){var u=a.QW.wm,X=c.Z.length;for(var Y=0;Y<X;
Y++){var $=c.Z[Y],O=c.r[Y],n=c.J[Y];o.Z[Y]=u(K[0]*$+K[1]*O+K[2]*n+K[3]*255);o.r[Y]=u(K[4]*$+K[5]*O+K[6]*n+K[7]*255);
o.J[Y]=u(K[8]*$+K[9]*O+K[10]*n+K[11]*255)}};a.QW.agE=function(c,o,K){var u=a.QW.wm,X=c.length;for(var Y=0;
Y<X;Y+=4){var $=c[Y],O=c[Y+1],n=c[Y+2];o[Y]=u(K[0]*$+K[1]*O+K[2]*n+K[3]*255);o[Y+1]=u(K[4]*$+K[5]*O+K[6]*n+K[7]*255);
o[Y+2]=u(K[8]*$+K[9]*O+K[10]*n+K[11]*255)}};a.QW.ar5=function(c){var o=c[0]+c[1]+c[2],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(o==1){var u=c.indexOf(1);K[u]=K[u+4]=K[u+8]=1}else{K[0]=c[0];K[5]=c[1];K[10]=c[2]}return K};a.QW.Dw=function(c,o,K){return[1,0,0,c,0,1,0,o,0,0,1,K,0,0,0,1]};
a.QW.YZ=function(c,o,K){return[c,0,0,0,0,o,0,0,0,0,K,0,0,0,0,1]};a.QW.abD=function(c){return[c[0],c[1],c[2],c[4],c[5],c[6],c[8],c[9],c[10]]};
a.QW.jj=function(c){return[c[0],c[1],c[2],0,c[3],c[4],c[5],0,c[6],c[7],c[8],0,0,0,0,1]};a.QW.sb=function(c,o){return[c[0]*o[0]+c[1]*o[1]+c[2]*o[2]+c[3]*o[3],c[4]*o[0]+c[5]*o[1]+c[6]*o[2]+c[7]*o[3],c[8]*o[0]+c[9]*o[1]+c[10]*o[2]+c[11]*o[3],c[12]*o[0]+c[13]*o[1]+c[14]*o[2]+c[15]*o[3]]};
a.QW.ll=function(c){var o=[];o[0]=c[0];o[1]=c[4];o[2]=c[8];o[3]=c[12];o[4]=c[1];o[5]=c[5];o[6]=c[9];
o[7]=c[13];o[8]=c[2];o[9]=c[6];o[10]=c[10];o[11]=c[14];o[12]=c[3];o[13]=c[7];o[14]=c[11];o[15]=c[15];
return o};a.QW.add=function(c,o){var K=c.slice(0);for(var Y=0;Y<16;Y++)K[Y]+=o[Y];return K};a.QW.multiply=function(c,o){var K=[];
K[0]=c[0]*o[0]+c[1]*o[4]+c[2]*o[8]+c[3]*o[12];K[1]=c[0]*o[1]+c[1]*o[5]+c[2]*o[9]+c[3]*o[13];K[2]=c[0]*o[2]+c[1]*o[6]+c[2]*o[10]+c[3]*o[14];
K[3]=c[0]*o[3]+c[1]*o[7]+c[2]*o[11]+c[3]*o[15];K[4]=c[4]*o[0]+c[5]*o[4]+c[6]*o[8]+c[7]*o[12];K[5]=c[4]*o[1]+c[5]*o[5]+c[6]*o[9]+c[7]*o[13];
K[6]=c[4]*o[2]+c[5]*o[6]+c[6]*o[10]+c[7]*o[14];K[7]=c[4]*o[3]+c[5]*o[7]+c[6]*o[11]+c[7]*o[15];K[8]=c[8]*o[0]+c[9]*o[4]+c[10]*o[8]+c[11]*o[12];
K[9]=c[8]*o[1]+c[9]*o[5]+c[10]*o[9]+c[11]*o[13];K[10]=c[8]*o[2]+c[9]*o[6]+c[10]*o[10]+c[11]*o[14];K[11]=c[8]*o[3]+c[9]*o[7]+c[10]*o[11]+c[11]*o[15];
K[12]=c[12]*o[0]+c[13]*o[4]+c[14]*o[8]+c[15]*o[12];K[13]=c[12]*o[1]+c[13]*o[5]+c[14]*o[9]+c[15]*o[13];
K[14]=c[12]*o[2]+c[13]*o[6]+c[14]*o[10]+c[15]*o[14];K[15]=c[12]*o[3]+c[13]*o[7]+c[14]*o[11]+c[15]*o[15];
return K};a.QW.fH=function(c){var o=[];o[0]=c[5]*c[10]*c[15]-c[5]*c[14]*c[11]-c[6]*c[9]*c[15]+c[6]*c[13]*c[11]+c[7]*c[9]*c[14]-c[7]*c[13]*c[10];
o[1]=-c[1]*c[10]*c[15]+c[1]*c[14]*c[11]+c[2]*c[9]*c[15]-c[2]*c[13]*c[11]-c[3]*c[9]*c[14]+c[3]*c[13]*c[10];
o[2]=c[1]*c[6]*c[15]-c[1]*c[14]*c[7]-c[2]*c[5]*c[15]+c[2]*c[13]*c[7]+c[3]*c[5]*c[14]-c[3]*c[13]*c[6];
o[3]=-c[1]*c[6]*c[11]+c[1]*c[10]*c[7]+c[2]*c[5]*c[11]-c[2]*c[9]*c[7]-c[3]*c[5]*c[10]+c[3]*c[9]*c[6];
o[4]=-c[4]*c[10]*c[15]+c[4]*c[14]*c[11]+c[6]*c[8]*c[15]-c[6]*c[12]*c[11]-c[7]*c[8]*c[14]+c[7]*c[12]*c[10];
o[5]=c[0]*c[10]*c[15]-c[0]*c[14]*c[11]-c[2]*c[8]*c[15]+c[2]*c[12]*c[11]+c[3]*c[8]*c[14]-c[3]*c[12]*c[10];
o[6]=-c[0]*c[6]*c[15]+c[0]*c[14]*c[7]+c[2]*c[4]*c[15]-c[2]*c[12]*c[7]-c[3]*c[4]*c[14]+c[3]*c[12]*c[6];
o[7]=c[0]*c[6]*c[11]-c[0]*c[10]*c[7]-c[2]*c[4]*c[11]+c[2]*c[8]*c[7]+c[3]*c[4]*c[10]-c[3]*c[8]*c[6];o[8]=c[4]*c[9]*c[15]-c[4]*c[13]*c[11]-c[5]*c[8]*c[15]+c[5]*c[12]*c[11]+c[7]*c[8]*c[13]-c[7]*c[12]*c[9];
o[9]=-c[0]*c[9]*c[15]+c[0]*c[13]*c[11]+c[1]*c[8]*c[15]-c[1]*c[12]*c[11]-c[3]*c[8]*c[13]+c[3]*c[12]*c[9];
o[10]=c[0]*c[5]*c[15]-c[0]*c[13]*c[7]-c[1]*c[4]*c[15]+c[1]*c[12]*c[7]+c[3]*c[4]*c[13]-c[3]*c[12]*c[5];
o[11]=-c[0]*c[5]*c[11]+c[0]*c[9]*c[7]+c[1]*c[4]*c[11]-c[1]*c[8]*c[7]-c[3]*c[4]*c[9]+c[3]*c[8]*c[5];o[12]=-c[4]*c[9]*c[14]+c[4]*c[13]*c[10]+c[5]*c[8]*c[14]-c[5]*c[12]*c[10]-c[6]*c[8]*c[13]+c[6]*c[12]*c[9];
o[13]=c[0]*c[9]*c[14]-c[0]*c[13]*c[10]-c[1]*c[8]*c[14]+c[1]*c[12]*c[10]+c[2]*c[8]*c[13]-c[2]*c[12]*c[9];
o[14]=-c[0]*c[5]*c[14]+c[0]*c[13]*c[6]+c[1]*c[4]*c[14]-c[1]*c[12]*c[6]-c[2]*c[4]*c[13]+c[2]*c[12]*c[5];
o[15]=c[0]*c[5]*c[10]-c[0]*c[9]*c[6]-c[1]*c[4]*c[10]+c[1]*c[8]*c[6]+c[2]*c[4]*c[9]-c[2]*c[8]*c[5];var K=c[0]*o[0]+c[1]*o[4]+c[2]*o[8]+c[3]*o[12];
for(var Y=0;Y<16;Y++)o[Y]/=K;return o};a.QW.aqi=function(c){var o=[],K=c[5]*c[10]*c[15]-c[5]*c[14]*c[11]-c[6]*c[9]*c[15]+c[6]*c[13]*c[11]+c[7]*c[9]*c[14]-c[7]*c[13]*c[10],u=-c[4]*c[10]*c[15]+c[4]*c[14]*c[11]+c[6]*c[8]*c[15]-c[6]*c[12]*c[11]-c[7]*c[8]*c[14]+c[7]*c[12]*c[10],X=c[4]*c[9]*c[15]-c[4]*c[13]*c[11]-c[5]*c[8]*c[15]+c[5]*c[12]*c[11]+c[7]*c[8]*c[13]-c[7]*c[12]*c[9],$=-c[4]*c[9]*c[14]+c[4]*c[13]*c[10]+c[5]*c[8]*c[14]-c[5]*c[12]*c[10]-c[6]*c[8]*c[13]+c[6]*c[12]*c[9];
return c[0]*K+c[1]*u+c[2]*X+c[3]*$};a.QW.Mr=function(c,o,K,u){var X=Math.sin(u),$=Math.cos(u),O=1/Math.sqrt(c*c+o*o+K*K);
c*=O;o*=O;K*=O;return a.QW.jj([c*c*(1-$)+$,c*o*(1-$)-K*X,c*K*(1-$)+o*X,c*o*(1-$)+K*X,o*o*(1-$)+$,o*K*(1-$)-c*X,c*K*(1-$)-o*X,o*K*(1-$)+c*X,K*K*(1-$)+$])};
a.QW._o=a.QW.jj([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
a.QW.a81=a.QW.jj([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
a.QW.alN=a.QW.fH(a.QW._o);a.dk={};a.dk.wh=new Uint32Array(1);a.dk.aas=function(c,o,K,u,X,$){var O=new Uint32Array(c),n=0,x=a.dk.wh;
if(x.length<o*4)a.dk.wh=x=new Uint32Array(o*4);var l=new Float64Array(x.buffer);for(var Y=0;Y<o;Y+=2){var N=X[Y],f=X[Y+1],z=$[Y],R=$[Y+1];
x[n]=f;l[n+2>>1]=z;x[n+1]=O[N];O[N]=n+1;n+=4;x[n]=N;l[n+2>>1]=R;x[n+1]=O[f];O[f]=n+1;n+=4}return{S2:x,afJ:l,a9B:O}};
a.dk.QO=function(c,o,K,u,X,$,O){var n=1,x=a.dk.aas(c,o,K,u,X,$),l=x.S2,N=x.afJ,f=x.a9B,z=new Uint32Array(c),R=new a.dk.jP(c),d=1,q=0;
R.push(K);R.push(u);var V=new a.dk.jP(c),e=new Uint8Array(c),p=new Uint32Array(c);e[K]=1;e[u]=2;var h=new Uint32Array(c),E=new Uint32Array(c);
E[K]=E[u]=0;h[K]=h[u]=1;while(!0){var Z=-1,w=0,b=1e30;while(!R.iR()&&Z==-1){var v=R.top(),W=e[v],D=f[v]-1;
while(D!=-1){var I=l[D],A=e[I],U=D^W-1<<2;if(N[U+2>>1]!=0){if(A==0){a.dk.Mi(v,D,I,e,p,E,h);R.push(I)}else if(A==W&&h[I]<=h[v]&&E[I]>E[v])a.dk.Mi(v,D,I,e,p,E,h);
else if(A!=W){Z=U}}D=l[D+1]-1}if(Z!=-1)break;R.pop()}if(Z==-1){break}d++;var t=Z;while(t!=-1){z[w]=t;
w++;t=p[l[t^4]]-1}var L=w>>1;for(var Y=0;Y<L;Y++){var J=z[Y];z[Y]=z[w-Y-1];z[w-Y-1]=J}t=p[l[Z]]-1;while(t!=-1){z[w]=t^4;
w++;t=p[l[t^4]]-1}for(var Y=0;Y<w;Y++)b=Math.min(b,N[z[Y]+2>>1]);q+=b;if(q>=O)return{gh:null,U7:q};for(var Y=0;
Y<w;Y++){var F=z[Y],B=F^4,v=l[B],I=l[F];N[F+2>>1]-=b;N[B+2>>1]+=b;if(N[F+2>>1]==0&&e[v]==e[I]){if(e[v]==1){p[I]=0;
V.push(I)}if(e[v]==2){p[v]=0;V.push(v)}}}while(!V.iR()){var v=V.pop(),W=e[v],D=f[v]-1,k=W==1?4:0,i=0,H=0,m=1e9;
while(D!=-1){var I=l[D],j=D^4,U=D^k;if(e[I]==W&&N[U+2>>1]>0&&a.dk.afP(I,K,u,p,l,d,h,E)+1<m){i=I;H=j;
m=E[I]+1}D=l[D+1]-1}if(H!=0){a.dk.Mi(i,H,v,e,p,E,h);continue}D=f[v]-1;while(D!=-1){var I=l[D],U=D^k;
if(e[I]==W){if(N[U+2>>1]>0){R.push(I)}if(p[I]==D+1){p[I]=0;V.push(I)}}D=l[D+1]-1}e[v]=0;R.remove(v)}}var Q=[];
for(var Y=0;Y<o;Y+=2){var v=X[Y],I=X[Y+1];if(e[v]==1&&e[I]!=1){Q.push(Y>>1)}if(e[I]==1&&e[v]!=1){Q.push(o+Y>>1)}}return{gh:Q,U7:q}};
a.dk.Mi=function(c,o,K,u,X,$,O){u[K]=u[c];X[K]=o+1;$[K]=$[c]+1;O[K]=O[c]};a.dk.afP=function(c,o,K,u,X,$,O,n){var x=c,l=u[c]-1,N=0;
while(l!=-1&&O[c]!=$){c=X[l^4];l=u[c]-1;N++}if(l==-1&&c!=o&&c!=K)return 1e9;var f=n[c]+N;N=0;l=u[x]-1;
while(x!=c){n[x]=f-N;N++;O[x]=$;x=X[l^4];l=u[x]-1}return f};a.dk.a5p=function(c,o,K,u,X,$){var O=a.dk.aas(c,o,K,u,X,$),n=O.S2,x=O.afJ,l=O.a9B,N=0,f=0,z=new Uint32Array(c*2),R=new a.dk.a5q(c),V=0;
while(!0){R.reset();R.push(K);for(var Y=0;Y<c;Y++)z[Y<<1]=0;while(!R.iR()){var d=R.pop(),e=l[d]-1;while(e!=-1){V=n[e];
if(z[V<<1]==0&&x[e+2>>1]>0&&V!=K){z[V<<1]=d+1;z[(V<<1)+1]=e;R.push(V)}e=n[e+1]-1}if(z[u<<1]!=0){break}}if(z[u<<1]==0){break}var p=1e30;
V=u;while(!0){var h=z[V<<1]-1;if(h==-1)break;var E=z[(V<<1)+1];p=Math.min(p,x[E+2>>1]);V=h}V=u;while(!0){var h=z[V<<1]-1;
if(h==-1)break;var E=z[(V<<1)+1],q=E^4;x[E+2>>1]-=p;x[q+2>>1]+=p;V=h}N+=p}var Z=[];for(var Y=0;Y<o;Y+=2){var h=X[Y],V=X[Y+1];
if((z[h<<1]!=0||h==K)&&z[V<<1]==0&&V!=K){Z.push(Y>>1)}if((z[V<<1]!=0||V==K)&&z[h<<1]==0&&h!=K){Z.push(o+Y>>1)}}return{gh:Z,U7:N}};
a.dk.a5q=function(c){c|=c>>1;c|=c>>2;c|=c>>4;c|=c>>8;c|=c>>16;this.bv=new Uint32Array(c+1);this.xy=c;
this.QM=0;this.kh=0};a.dk.a5q.prototype={push:function(c){var o=this.kh;this.bv[o]=c;this.kh=o+1&this.xy},pop:function(){var c=this.QM,o=this.bv[c];
this.QM=c+1&this.xy;return o},iR:function(){return this.QM==this.kh},reset:function(){this.QM=0;this.kh=0}};
a.dk.jP=function(c){c|=c>>1;c|=c>>2;c|=c>>4;c|=c>>8;c|=c>>16;this.bv=new Uint32Array(c+1);this.Ix=new Uint32Array(c+1);
this.xy=c;this.QM=0;this.kh=0};a.dk.jP.prototype={top:function(){return this.bv[this.QM]},atG:function(){return this.bv[this.kh]},push:function(c){if(this.Ix[c]!=0)return;
this.Ix[c]=this.kh+1;var o=this.kh;this.bv[o]=c;this.kh=o+1&this.xy},pop:function(){var c=this.QM,o=this.bv[c];
this.Ix[o]=0;this.QM=c+1&this.xy;return o},iR:function(){return this.QM==this.kh},remove:function(c){var o=this.Ix[c]-1;
if(o==-1)return;this.Ix[c]=0;if(o==this.QM){this.pop();return}var K=this.pop();this.bv[o]=K;this.Ix[K]=o+1},vv:function(Y){return Y+this.xy+1&this.xy}};
a.dk.ahK=function(c,o,K){var u=a.dk.s8(c,o,K);if(o<u-1)a.dk.ahK(c,o,u-1);if(u<K)a.dk.ahK(c,u,K)};a.dk.s8=function(c,o,K){var u=c[o+K>>>1];
while(o<=K){while(c[o]<u)o++;while(c[K]>u)K--;if(o<=K){a.dk.NN(c,o,K);o++;K--}}return o};a.dk.NN=function(c,o,K){var u=c[o];
c[o]=c[K];c[K]=u};a.kS=function(){var c,o;function K(O,n,cv){var x=cv-1,l=n+cv;c[cv-2]=O[l-2];o[0]=O[l-1];
var N=Math.max;for(var Y=1;Y<x;Y++){c[cv-2-Y]=N(c[cv-1-Y],O[l-2-Y]);o[Y]=N(o[Y-1],O[l-1+Y])}for(var Y=0;
Y<x;Y++)O[n+Y]=N(c[Y],o[Y])}function u(O,n,cv){var x=cv-1,l=Math.ceil(n/x)*x;for(var N=0;N<l;N+=x)K(O,N,cv)}function X(O,n,x,l,cv,N){n.set(O);
if(cv==1)return;c=a.R(cv-1);o=a.R(cv-1);var f=cv>>>1,z=a.R(Math.ceil(Math.max(x,l)/(cv-1))*(cv-1)+(cv-2)),R=new Uint8Array(z.buffer,0,x);
if(!N)a.fH(n);for(var V=0;V<l;V++){z.fill(0);z.set(new Uint8Array(n.buffer,V*x,x),f);u(z,x,cv);n.set(R,V*x)}for(var d=0;
d<x;d++){z.fill(0);for(var V=0;V<l;V++)z[V+f]=n[V*x+d];u(z,l,cv);for(var V=0;V<l;V++)n[V*x+d]=z[V]}if(!N)a.fH(n)}function $(O,n,x,l,cv,N){var f=a.R(x*l);
for(var z=0;z<4;z++){a.Sw(O,f,z);if(z==3)a.fH(f);X(f,f,x,l,cv,N);if(z==3)a.fH(f);a.bp(f,n,z)}}return{Wc:X,atb:$}}();
a.O9={};a.O9.arU=function(c){for(var Y=0;Y<c.length;Y++)a.O9.ug(c,Y)};a.O9.ug=function(c,Y){c[Y].v.keyShapeInvalidated={t:"bool",v:!0}};
a.O9.ahp=function(c){for(var Y=0;Y<c.length;Y++)c[Y].v.keyOriginIndex.v=Y};a.O9._6=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
a.O9.Ln=function(c){c=c.v;var o={Rctn:2,Ln:4,Elps:5},K=o[c.classID],u=c.topLeft?a.O9.a9E(c):null,X=null,$=0,O=[!1,!1,0,0,0];
if(K==4){var n=c.Strt.v,x=c.End.v;X=[n.Hrzn.v.val,n.Vrtc.v.val,x.Hrzn.v.val,x.Vrtc.v.val];$=c.Wdth.v.val;
for(var Y=0;Y<2;Y++){var l=c[Y==0?"StrA":"EndA"];if(l==null)continue;l=l.v;O[Y]=l.On.v;O[2]=l.Wdth.v;
O[3]=l.Lngt.v;O[4]=l.Cncv.v.val}}if(K==null)return null;return a.O9.i6(K,K==4?null:a.O9.GQ(c),u,X,$,O)};
a.O9.Rs=function(c,o,K,u,X,$,O){var n={classID:c,unitValueQuadVersion:{t:"long",v:1}};if(o)a.O9.kC(n,["Left","Top","Rght","Btom"],o);
if(K)a.O9.kC(n,["topLeft","topRight","bottomRight","bottomLeft"],K);if(c=="Ln"){n.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:u[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:u[1]}}}},n.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:u[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:u[3]}}}},n.Wdth={t:"UntF",v:{type:"#Pxl",val:X}};
for(var Y=0;Y<2;Y++){var x=Y==0?"StrA":"EndA";n[x]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:O[Y]},Wdth:{t:"doub",v:O[2]},Lngt:{t:"doub",v:O[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:O[4]}}}}}}if($)n.Nm={t:"TEXT",v:$};
return{t:"Objc",v:n}};a.O9.aaz=function(c,o){var K=a.O9.Cs(c),u=c[2]-c[0],X=c[3]-c[1],$=Math.sqrt(u*u+X*X),O=[0,0,$,0,$,o,0,o],n=new bE;
n.rotate(-K);n.translate(c[0],c[1]);a.A.i(O,n,O);return O};a.O9.i6=function(c,o,K,u,X,$){var O=a.O9._6(),n=O.v,x;
delete n.keyShapeInvalidated;n.keyOriginType={t:"long",v:c};n.keyOriginResolution={t:"doub",v:75};if(c==4){n.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:u[0]},Vrtc:{t:"doub",v:u[1]}}};
n.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:u[2]},Vrtc:{t:"doub",v:u[3]}}};x=a.O9.aaz(u,X);
var l=a.A.jl(x);o=[l.x,l.y,l.x+l.m,l.y+l.e];n.keyOriginLineWeight={t:"doub",v:X};if($)a.O9.awM(n,$)}else x=[o[0],o[1],o[2],o[1],o[2],o[3],o[0],o[3]];
n.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};a.O9.ds(n,"keyOriginBoxCorners",x);var N={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
n.keyOriginShapeBBox={t:"Objc",v:N};a.O9.aj3(n,o);if(K!=null){var f={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
n.keyOriginRRectRadii={t:"Objc",v:f};a.O9.UA(n,K)}return O};a.O9.i=function(c,o,K,u){var X=a.D.awD(o),$=a.D.aad(o),O=a.D.EV(o),n=O.V*O.gI-O.J*O.If;
for(var Y=0;Y<c.length;Y++){var x=c[Y].v;if(!a.O9.fa(x))continue;if(K.length!=0&&K.indexOf(Y)==-1)continue;
var l=x.keyOriginType.v,N=o;if(n<0&&l==2){var f=a.O9.UE(x),z=0;z=f[0];f[0]=f[1];f[1]=z;z=f[2];f[2]=f[3];
f[3]=z;a.O9.UA(x,f);var R=a.O9.N7(x,"keyOriginBoxCorners"),V=a.A.jl(R),d=V.x+V.m/2,e=new bE;e.translate(-d,0);
e.scale(-1,1);e.translate(d,0);N=a.D.Jv(N,a.D.I_(e))}var p=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var h=0;h<p.length;h++){var R=a.O9.N7(x,p[h]);if(R==null)continue;a.D.i(N,R);a.O9.ds(x,p[h],R);var V=a.A.jl(R);
a.O9.aj3(x,[V.x,V.y,V.x+V.m,V.y+V.e]);var E=new bE;E.rotate(-a.O9.Cs(R));var q={classID:"Trnf"};x.Trnf={t:"Objc",v:q};
var Z="xx xy yx yy tx ty".split(" "),v=[E.V,E.J,E.If,E.gI,E.hW,E.qj];for(var W=0;W<6;W++)q[Z[W]]={t:"doub",v:v[W]}}if(l==2&&u){var f=a.O9.UE(x);
for(var h=0;h<4;h++)f[h]=Math.round(f[h]*o[0]);a.O9.UA(x,f)}var R=a.O9.N7(x,"keyOriginBoxCorners"),D=R[2]-R[0],I=R[3]-R[1],A=Math.sqrt(D*D+I*I);
D/=A;I/=A;var U=R[6]-R[0],w=R[7]-R[1],t=Math.sqrt(U*U+w*w);U/=t;w/=t;if(l==4){x.keyOriginLineWeight.v=t;
var L=a.O9.mx(x);a.D.i(o,L);a.O9.adY(x,L)}var J=D*U+I*w;if(Math.abs(J)>.001){a.O9.ug(c,Y)}}};a.O9.fa=function(c){var o=c.keyShapeInvalidated,K=c.keyOriginType;
return(o==null||!o.v)&&K!=null&&K.v!=9};a.O9.a8C=function(c){var o=c.keyOriginType.v,K=a.O9.Uy(c),u=K[0],X=K[1],$=K[2],O=K[3],n=new bE,x=c.keyOriginPolyCornerRadius,R;
x=x?x.v:0;var l=a.O9.N7(c,o==7||o==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),N=a.O9.a2Y(l),f=N[2],z=N[3];
u=-f/2;$=f/2;X=-z/2;O=z/2;n.rotate(-a.O9.Cs(l));n.hW=N[0];n.qj=N[1];if(o==1||o==2){var V=o==1?0:a.O9.UE(c);
R=a.o.YP.Rect(u,X,$-u,O-X,V)}else if(o==4){var d=a.O9.mx(c),e=a.O9.aDy(c);n=new bE;if(e==null)R=a.o.YP.YV(d[0],d[1],d[2],d[3],c.keyOriginLineWeight.v);
else R=a.o.YP.$r(d[0],d[1],d[2],d[3],c.keyOriginLineWeight.v,e)}else if(o==5){R=a.o.YP.AT(u,X,$-u,O-X)}else if(o==7||o==8){var p=o==7?3:c.keyOriginPolySides.v;
R=a.o.YP.Hr(0,0,100,Math.PI/p-Math.PI/2,p,x,$,O)}a.o.Ik(R,n);return R};a.O9.Tu=function(c,o){var K=o.$;
for(var Y=0;Y<c.length;Y++){var u=c[Y].v;if(!a.O9.fa(u))continue;var X=a.O9.a8C(u),$=a.o.uM(K,Y),O=a.o.ri(K,Y);
X[2].cS=K[$].cS;var n=K;K=K.slice(0,$);for(var x=2;x<X.length;x++)K.push(X[x]);for(var x=$+O;x<n.length;
x++)K.push(n[x])}o.$=K;o.jt=!0};a.O9.ly=function(c){var o=1e9,K=-o,u=1e9,X=-u,$=[],O=c.Dr(),n=O[0],x=O[1];
for(var l=0;l<x.length;l++){var N=n[x[l]],f=N.add.vogk;if(f==null)continue;var z=N.add.vmsk.g;for(var R=0;
R<f.length;R++){var V=f[R].v,p=0;if(!a.O9.fa(V))continue;if(x.length==1&&z.length!=0&&z.indexOf(R)==-1)continue;
var d=V.keyOriginType.v;if(d==9)continue;var e=a.O9.Uy(V);o=Math.min(o,e[0]);u=Math.min(u,e[1]);K=Math.max(K,e[2]);
X=Math.max(X,e[3]);var h=a.O9.N7(V,"keyOriginBoxCorners");if(h){var E=a.O9.a2Y(h),q=E[2],Z=E[3];e[2]=e[0]+q;
e[3]=e[1]+Z;p=a.O9.Cs(h)}var v=[d,e,p];$.push(v);var W=V.keyOriginPolyCornerRadius;if(d==2)v.push(a.O9.UE(V));
if(d==7||d==8)v.push(W?W.v:0);if(d==8)v.push(V.keyOriginPolySides.v)}}return $.length==1?$[0]:[0,o<K?[o,u,K,X]:null,0]};
a.O9.Cs=function(c){var o=c[2]-c[0],K=c[3]-c[1];return-Math.atan2(-K,o)};a.O9.atP=function(c){var o=a.O9.Uy(c);
return a.O9.Cs(o)};a.O9.ahR=function(c,o,K){var u=a.O9.ly(c),X=-1;for(var Y=0;Y<o.length;Y++)if(JSON.stringify(o[Y])!=JSON.stringify(u[Y]))X=Y;
if(X==1||X==2){}var $=c.Dr(),O=$[0],n=$[1];for(var x=0;x<n.length;x++){var l=O[n[x]],N=l.add.vogk;if(N==null)continue;
var f=l.add.vmsk.g;for(var z=0;z<N.length;z++){var R=N[z].v;if(!a.O9.fa(R))continue;if(n.length==1&&f.length!=0&&f.indexOf(z)==-1)continue;
var V=R.keyOriginType.v;if(X==1||X==2){a.O9.i(N,a.O9.ar2(X,R,u,o),f,!1);break}if(X==3)if(V==2)a.O9.UA(R,o[3]);
else R.keyOriginPolyCornerRadius={t:"doub",v:o[3]};if(X==4)R.keyOriginPolySides.v=o[4];if(K)a.O9.ug(N,z)}}};
a.O9.ar2=function(c,o,K,u){var X=u[1],$=K[1],O=(X[2]-X[0])/($[2]-$[0]),n=(X[3]-X[1])/($[3]-$[1]),x=new bE;
if(c==1){if(Math.max(Math.abs(O-1),Math.abs(n-1))>1e-8){var l=X[0],N=X[1];if(u[0]!=0){var f=a.O9.N7(o,"keyOriginBoxCorners");
l=f[0];N=f[1]}x.translate(-l,-N);x.rotate(u[2]);x.scale(O,n);x.rotate(-u[2]);x.translate(l,N)}else{x.translate(-$[0],-$[1]);
x.translate(X[0],X[1])}}else{if(u[0]!=0)X=a.O9.Uy(o);var l=(X[0]+X[2])/2,N=(X[1]+X[3])/2;x.translate(-l,-N);
if(K[0]!=0)x.rotate(K[2]);x.rotate(-u[2]);x.translate(l,N)}return a.D.I_(x)};a.O9.a2Y=function(c){var o=c[0],K=c[1],u=c[2],X=c[3],$=c[4],O=c[5],n=c[6],x=c[7],l=u-o,N=X-K,f=Math.sqrt(l*l+N*N),l=$-u,N=O-X,z=Math.sqrt(l*l+N*N);
return[(o+$)/2,(K+O)/2,f,z]};a.O9.N7=function(c,o){var K=c[o];if(K==null)return null;var u=[];K=K.v;
for(var X=0;X<4;X++){var $=K["rectangleCorner"+["A","B","C","D"][X]].v;u.push($.Hrzn.v,$.Vrtc.v)}return u};
a.O9.ds=function(c,o,K){var u=c[o];if(u==null)return null;u=u.v;for(var X=0;X<4;X++){var $="rectangleCorner"+["A","B","C","D"][X];
u[$]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:K[2*X]},Vrtc:{t:"doub",v:K[2*X+1]}}}}};a.O9.Uy=function(c){return a.O9.GQ(c.keyOriginShapeBBox.v)};
a.O9.GQ=function(c){var o=c.classID,K=c.Left.v,u=c.Rght.v,X=c.Top.v,$=c.Btom.v;if(K.val!=null){K=K.val;
u=u.val;X=X.val;$=$.val}return[K,X,u,$]};a.O9.aj3=function(c,o){a.O9.kC(c.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],o)};
a.O9.UE=function(c){var o=c.keyOriginRRectRadii;if(o==null)return[0,0,0,0];return a.O9.a9E(o.v)};a.O9.a9E=function(c){var o=[],K=["topLeft","topRight","bottomRight","bottomLeft"];
for(var u=0;u<4;u++)o.push(c[K[u]].v.val);return o};a.O9.UA=function(c,o){a.O9.kC(c.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],o)};
a.O9.kC=function(c,o,K){var u=c.classID;if(u=="unitRect"||u=="radii"||u=="Rctn"){for(var Y=0;Y<4;Y++)if(K[Y]!=null)c[o[Y]]={t:"UntF",v:{type:"#Pxl",val:K[Y]}}}else{for(var Y=0;
Y<4;Y++)if(K[Y]!=null)c[o[Y]]={t:"doub",v:K[Y]}}};a.O9.mx=function(c){var o=c.keyOriginLineStart.v,K=c.keyOriginLineEnd.v;
return[o.Hrzn.v,o.Vrtc.v,K.Hrzn.v,K.Vrtc.v]};a.O9.adY=function(c,o){var K=c.keyOriginLineStart.v,u=c.keyOriginLineEnd.v;
K.Hrzn.v=o[0];K.Vrtc.v=o[1];u.Hrzn.v=o[2];u.Vrtc.v=o[3]};a.O9.aDy=function(c){var o=[],K=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var Y=0;Y<5;Y++){var u=c["keyOriginLineArr"+K[Y]];if(u==null)return null;o[Y]=u.v}return o};a.O9.awM=function(c,o){c.keyOriginLineArrowSt={t:"bool",v:o[0]};
c.keyOriginLineArrowEnd={t:"bool",v:o[1]};c.keyOriginLineArrWdth={t:"doub",v:o[2]};c.keyOriginLineArrLngth={t:"doub",v:o[3]};
c.keyOriginLineArrConc={t:"long",v:o[4]}};a.O9.ae4=function(c){function o(v,W){return Math.abs(v-W)<.5}function K(v,W){return o(v.x,W.x)&&o(v.y,W.y)}function $(v,W,D,I,A,U,w){for(var Y=0;
Y<w;Y++){var t=v[W+(D+Y)%w],L=I[A+(U+Y)%w];if(!(K(t.L,L.L)&&K(t.mL,L.mL)&&K(t.oC,L.oC)))return!1}return!0}var O=[];
for(var n=0;n<c.length;n++){var x=c[n],N=null;if(x.type!=0&&x.type!=3||x.cS==-1)continue;var l=n;if(x.length==4||x.length==8){var f=a.o.a9d(c.slice(0,2).concat(c.slice(l,l+x.length+1)));
l=2;if(x.length==4){var z=a.o.ek(f,l+1,4),R=z.x,V=z.y,d=R+z.m,e=V+z.e;if(z.P()>4){if(a.o.H$(f.slice(l-2,l+5)))N=a.O9.i6(2,[R,V,d,e],[0,0,0,0]);
else{var p=-1;for(var Y=0;Y<4;Y++)if(o(f[l+1+Y].L.y,e))p=Y;if(p!=-1){var h=a.o.YP.AT(R,V,d-R,e-V),E=$(f,l+1,p,h,3,0,4);
if(E)N=a.O9.i6(5,[R,V,d,e])}}}}if(x.length==8){var z=a.o.ek(f,l+1,8),R=z.x,V=z.y,d=R+z.m,e=V+z.e;if(z.P()>4){var p=-1;
for(var Y=0;Y<8;Y++)if(o(f[l+1+(Y+1&7)].L.y,V)&&o(f[l+1+(Y+2&7)].L.y,V))p=Y;if(p!=-1){var q=Math.abs(f[l+1+p].L.y-V),Z=[q,q,q,q];
if(q>.5){var h=a.o.YP.Rect(R,V,d-R,e-V,Z),E=$(f,l+1,p,h,3,0,8);if(E)N=a.O9.i6(2,[R,V,d,e],Z)}}}}}O.push(N?N:a.O9._6())}return O};
a.A={};a.A.clone=function(c){return{G:c.G.slice(0),j:c.j.slice(0)}};a.A.a20=function(c){if(c.length<6)return!0;
var o=c.length-4;for(var Y=0;Y<o;Y+=2)if(!a.A.hQ(c[Y],c[Y+1],c[Y+2],c[Y+3],c[Y+4],c[Y+5]))return!1;if(!a.A.hQ(c[o],c[o+1],c[o+2],c[o+3],c[0],c[1]))return!1;
if(!a.A.hQ(c[o+2],c[o+3],c[0],c[1],c[2],c[3]))return!1;return!0};a.A.hQ=function(c,o,K,u,X,$){return(o-u)*(X-K)+(K-c)*($-u)>=0};
a.A.pR=function(c){var o={},K=null,u=0,X={M:2,L:2,Q:4,C:6},$="",O="";for(var Y=0;Y<c.G.length;Y++){var n=c.G[Y];
if(n[0]=="#")$=n;else if(n[0]=="X")$="";else if(n[0]=="O"&&n[1]=="-")O=n;else if(n=="OX")O="";else{var x=$+O;
K=o[x];if(K==null)K=o[x]={j:[],G:[]};K.G.push(n);var l=X[n];if(l==null)l=0;for(var N=0;N<l;N++)K.j.push(c.j[u+N]);
u+=l}}return o};a.A.a5K=function(c,o,K){var u=c[o]-c[K-2],X=c[o+1]-c[K-1];return u*u+X*X<1e-4};a.A.lR=function(c,o,K){c=a.A.dv(c);
var u=c.j,X=c.G,$=0,O="",n=0,x=0,$=0,f=null;for(var Y=0;Y<X.length;Y++){var l=X[Y];if(l=="M"){n=u[$];
x=u[$+1];$+=2;O=l}if(l=="C"){if(O=="Z"){X.splice(Y,0,"M");u.splice($,0,n,x);Y--;continue}$+=6;O=l}if(l=="Z"){O=l}}var N=[];
$=0;for(var Y=0;Y<X.length;Y++){var l=X[Y];if(l=="M"){f={kH:$,ui:0,_H:!1};N.push(f);$+=2}if(l=="C"){f.ui++;
$+=6}if(l=="Z"&&f!=null){f._H=!0}}var z=[];for(var Y=0;Y<N.length;Y++)if(N[Y].ui!=0)z.push(N[Y]);N=z;
for(var Y=0;Y<N.length;Y++){var R=N[Y],V=R.kH,d=V+2+R.ui*6,p=0;R._C=a.A.jl(u,V,d);var e=a.A.a5K(u,V,d);
for(var h=0;h<R.ui;h++){var E=V+h*6,q=E+6;p+=(u[q]-u[E])*(u[q+1]+u[E+1])}if(R.ui==2){var Z=function(M,T,C){var gf=1-C;
return gf*gf*gf*M[T]+3*gf*gf*C*M[T+2]+3*gf*C*C*M[T+4]+C*C*C*M[T+6]},v=u[V],W=u[V+1],D=u[V+6],I=u[V+7],A=u[V+6],U=u[V+7],w=Z(u,V,.5),t=Z(u,V+1,.5),L=Z(u,V+6,.5),J=Z(u,V+7,.5);
p=(w-v)*(t-W)+(D-w)*(I-t)+(L-D)*(J-I)+(A-L)*(U-J)}if(!e)p+=(u[V]-u[d-2])*(u[V+1]+u[d-1]);R.d1=p<=0}for(var Y=0;
Y<N.length-1;Y++)for(var E=Y+1;E<N.length;E++){var b=N[Y],F=N[E];if(F._C.v8(b._C)){N[Y]=F;N[E]=b}}var B=N.length==0?!0:N[0].d1,k=[{type:6},{type:8,all:0}];
for(var Y=0;Y<N.length;Y++){var R=N[Y],V=R.kH,d=V+2+R.ui*6,e=a.A.a5K(u,V,d);if(R.ui==1)e=!1;var i=R._H||e?0:3,H=R.d1==B&&!o?1:0;
if(!o&&Y!=0){if(N[Y-1]._C.v8(R._C)&&N[Y-1].d1!=R.d1)H=0;for(var E=0;E<N.length;E++)if(E!=Y&&N[E]._C.v8(R._C))H=0}k.push({type:i,length:R.ui+(e?0:1),cS:K?1:H,fl:2});
for(var E=0;E<R.ui;E++){var $=V+E*6,m=new kn(u[$],u[$+1]),j=new kn(u[$+2],u[$+3]),Q;if(E==0){if(e){Q=new kn(u[d-4],u[d-3]);
if(kn.je(Q,m)<1e-5)Q=m.clone()}else Q=m.clone()}else Q=new kn(u[$-2],u[$-1]);k.push({type:i+2,mL:Q,L:m,oC:j})}if(!e){var G=new kn(u[d-2],u[d-1]);
k.push({type:i+2,mL:new kn(u[d-4],u[d-3]),L:G,oC:G.clone()})}}for(var E=0;E<k.length;E++){var g=k[E];
if(g.type>5||g.type==0||g.type==3)continue;var P=g.mL.Ug(g.L)||g.oC.Ug(g.oC);if(!P){var b=g.mL.x*(g.L.y-g.oC.y)+g.L.x*(g.oC.y-g.mL.y)+g.oC.x*(g.mL.y-g.L.y);
if(Math.abs(b)<1e-6)P=!0}if(P)g.type--}return k};a.A.gy=function(c,o){var K=a.o.mn(c),u=[];for(var Y=2;
Y<c.length;Y++){var X=c[Y].cS;if(X!=null){if(X==2||X==0||X==3||X==-1)u.push(X)}}var $=u.length!=0;if(($||o)&&c.length<2e3&&1<K&&K<200)c=a.o.R7(c);
var O=a.A.Uk(c);return{Ad:O,bN:$?1:0}};a.A.Uk=function(){function c(u,X,$,O){if(O!=2&&u.oC.Ug(u.L)&&X.mL.Ug(X.L)){$.j.push(X.L.x,X.L.y);
$.G.push("L")}else{var n=u.L,x=u.oC,l=X.mL,N=X.L,f=3/2*x.x-1/2*n.x,z=3/2*x.y-1/2*n.y,R=3/2*l.x-1/2*N.x,V=3/2*l.y-1/2*N.y,d=R-f,e=V-z;
if(O==0&&d*d+e*e<.001){$.j.push((f+R)*.5,(z+V)*.5,N.x,N.y);$.G.push("Q")}else{$.j.push(x.x,x.y,l.x,l.y,N.x,N.y);
$.G.push("C")}}}function o(u,X,Y,$,O,n){var x=X[Y];u.j.push(x.L.x,x.L.y);u.G.push("M");for(var l=Y;l<Y+$-1;
l++)c(X[l],X[l+1],u,n);if(!O)c(X[l],X[Y],u,n)}function K(u,X){if(X==null)X=0;var $={j:[],G:[]};for(var Y=0;
Y<u.length;Y++){if(u[Y].type>5)continue;var O=u[Y].length;if(O==0)continue;if(Y==u.length-1)break;var n=u[Y].type==3;
o($,u,Y+1,O,n,X);if(!n)$.G.push("Z");Y+=O}return $}return K}();a.A.ay1=function(c){var o=c.j,K=[],u,X=0;
for(var Y=0;Y<c.G.length;Y++){var $=c.G[Y];if($=="C"){u.push(o[X++],o[X++],o[X++],o[X++],o[X++],o[X++])}else if($=="Z"){}else{u=[];
if($!="M"){u.push($);Y++}u.push(o[X++],o[X++]);K.push(u)}}return K};a.A.dI=function(c,o,K,u){if(u==null)u=1e9;
var X=1e9,$=0;for(var Y=0;Y<c.length;Y+=2){var O=o-c[Y],n=K-c[Y+1],x=O*O+n*n;if(x<X){X=x;$=Y>>>1}}return X<u*u?$:-1};
a.A.n8=function(c,o,K,u){for(var Y=0;Y<c.length;Y+=2){var X=c[Y],$=c[Y+1],O=o[Y],n=o[Y+1];K[Y]=X+(O-X)*u;
K[Y+1]=$+(n-$)*u}};a.A.i=function(c,o,K){for(var Y=0;Y<c.length;Y+=2){var u=c[Y],X=c[Y+1];K[Y]=u*o.V+X*o.If+o.hW;
K[Y+1]=u*o.J+X*o.gI+o.qj}};a.A.jl=function(c,o,K){if(o==null)o=0;if(K==null)K=c.length;var u=99999999999,X=-u,$=99999999999,O=-$;
for(var Y=o;Y<K;Y+=2){var n=c[Y],x=c[Y+1];u=Math.min(u,n);$=Math.min($,x);X=Math.max(X,n);O=Math.max(O,x)}return new ez(u,$,X-u,O-$)};
a.A.at$=function(c,o){var K=Math.max(o.x,Math.min(o.x+o.m,c.x)),u=Math.max(o.y,Math.min(o.y+o.e,c.y)),X=c.x-K,$=c.y-u;
return Math.sqrt(X*X+$*$)};a.A.Qt=function(c,o){var K=Math.floor,u=Math.ceil;if(o){K=Math.ceil;u=Math.floor}var X=K(c.x),$=u(c.x+c.m),O=K(c.y),n=u(c.y+c.e);
return new ez(X,O,$-X,n-O)};a.A.P3=function(c,o){return a.A.Qt(a.A.jl(c),o)};a.A.W6=function(c,o){var K=c.x,u=c.y,X=c.x+c.m,$=c.y+c.e,O=[K,u,X,u,X,$,K,$];
if(o){var n=o.clone();n.fH();a.A.i(O,n,O)}return{G:["M","L","L","L","Z"],j:O}};a.A.concat=function(c,o,K){if(K==null)K=new bE;
for(var Y=0;Y<o.j.length;Y+=2){var u=o.j[Y],X=o.j[Y+1];c.j.push(u*K.V+X*K.If+K.hW);c.j.push(u*K.J+X*K.gI+K.qj)}for(var Y=0;
Y<o.G.length;Y++)c.G.push(o.G[Y])};a.A.axo=function(c,o,K,u,X){function $(z,R,V){return new kn(z.x*(1-V)+R.x*V,z.y*(1-V)+R.y*V)}var O=$(c,o,X),n=$(K,u,X),x=$(o,K,X),l=$(O,x,X),N=$(x,n,X),f=$(l,N,X);
return[O,l,f,N,n]};a.A.dv=function(c){var o=c.j,K=[],u=[],X=0,$=0,O=0,n=0,x=0,l=0,N=0,f=0,z=0,R=0,V=0;
for(var Y=0;Y<c.G.length;Y++){var d=c.G[Y];if(d=="M"){$=o[X];O=o[X+1];X+=2;u.push(d);K.push($,O);R=$;
V=O}else if(d=="C"){n=o[X];x=o[X+1];l=o[X+2];N=o[X+3];f=o[X+4];z=o[X+5];X+=6;u.push(d);K.push(n,x,l,N,f,z);
$=f;O=z}else if(d=="Q"){n=o[X];x=o[X+1];l=o[X+2];N=o[X+3];X+=4;var e=n-$,p=x-O,h=l-n,E=N-x;u.push("C");
K.push($+2/3*e,O+2/3*p,n+1/3*h,x+1/3*E,l,N);$=l;O=N}else if(d=="L"){n=o[X];x=o[X+1];X+=2;if(n!=$||x!=O){u.push("C");
K.push($,O,n,x,n,x);$=n;O=x}}else{if(d=="Z"){$=R;O=V}u.push(d)}}return{G:u,j:K}};a.A.akN=function(c){var o=c.j,K=[],u=[],X=0;
for(var Y=0;Y<c.G.length;Y++){var $=c.G[Y];if($=="Q"){var O=o[X-2],n=o[X-1],x=o[X],l=o[X+1],N=o[X+2],f=o[X+3];
X+=4;var z=x-O,R=l-n,V=N-x,d=f-l;u.push("C");K.push(O+2/3*z,n+2/3*R,x+1/3*V,l+1/3*d,N,f)}else{var e=0;
if($=="M"||$=="L")e=2;else if($=="C")e=6;for(var p=0;p<e;p++)K.push(o[X+p]);X+=e;u.push($)}}return{G:u,j:K}};
a.A.v3=function(c,o){var K=c.j,u=[],X=[],$=0,O=0,n=0,x=0,l=0,N=0,f=0,z=0,R=0;for(var Y=0;Y<c.G.length;
Y++){var V=c.G[Y];if(V=="M"){O=K[$];n=K[$+1];$+=2;X.push(V);u.push(O,n)}else if(V=="C"){x=K[$];l=K[$+1];
N=K[$+2];f=K[$+3];z=K[$+4];R=K[$+5];$+=6;a.A.PH(O,n,x,l,N,f,z,R,o,X,u,0);O=z;n=R}else X.push(V)}return{G:X,j:u}};
a.A.PH=function(c,o,K,u,X,$,O,n,x,l,N,f){var z=Math.sqrt((O-c)*(O-c)+(n-o)*(n-o)),R=Math.sqrt((O-X)*(O-X)+(n-$)*(n-$))+Math.sqrt((X-K)*(X-K)+($-u)*($-u))+Math.sqrt((K-c)*(K-c)+(u-o)*(u-o)),V=(z+R)/2;
if(V<=x){l.push("C");N.push(K,u,X,$,O,n)}else{var d=0,e=0,p=0,h=0,E=0,q=0,Z=0,v=0,W=0,D=0,I=0,A=0,U=0;
e=(c+K)/2;p=(o+u)/2;h=(K+X)/2;E=(u+$)/2;q=(X+O)/2;Z=($+n)/2;v=(e+h)/2;W=(p+E)/2;D=(h+q)/2;I=(E+Z)/2;
A=(v+D)/2;U=(W+I)/2;a.A.PH(c,o,e,p,v,W,A,U,x,l,N,f+1);a.A.PH(A,U,D,I,q,Z,O,n,x,l,N,f+1)}};a.A.adl=function(c,o,K,u,X){var $=Date.now(),O=a.A.a5e(c,o,K);
if(X){console.log("trace polygons",Date.now()-$);$=Date.now()}var n=[];for(var Y=0;Y<O.length;Y++){var x=O[Y],l=x[0],N=["M"],f=c[l[1]*o+l[0]];
if(l.length>8)l=a.A.apq(l,u,x[1]);if(l.length<=4)continue;for(var z=2;z<l.length;z+=2)N.push("L");N.push("Z");
n.push({path:{j:l,G:N},color:f,parent:-1,_C:a.A.jl(l)})}if(X){console.log("simplify polygons",Date.now()-$);
$=Date.now()}for(var Y=1;Y<n.length;Y++){var R=n[Y],V=R.path.j,d=V[0],e=V[1],p=V[2],h=V[3],E=p-d,q=h-e,Z=d+.5*E-.001*q,v=e+.5*q+.001*E;
for(var z=Y-1;z>=0;z--){var W=n[z];if(!W._C.v8(R._C))continue;if(!iy.CZ(W.path.j,Z,v))continue;R.parent=z;
break}}if(X){console.log("checking parents",Date.now()-$);$=Date.now()}return n};a.A.a5e=function(c,o,K){var u=o*K,X=new Uint16Array(o*K),O=0;
for(var Y=0;Y<u;Y++)X[Y]=c[Y];var $=new Uint8Array(o*K);$[1*o+1]=$[(K-1)*o+1]=$[1*o+o-1]=$[(K-1)*o+o-1]=1;
for(var n=1;n<K;n++)for(var x=1;x<o;x++){var Y=n*o+x,l=X[Y-o-1],N=X[Y-o],f=X[Y-1],z=X[Y],R=l==z&&N==f&&l!=N,V=0;
if(z<f){O=z;z=f;f=O}if(f<N){O=f;f=N;N=O}if(N<l){O=N;N=l;l=O}if(z<f){O=z;z=f;f=O}if(f<N){O=f;f=N;N=O}if(z<f){O=z;
z=f;f=O}if(l!=N)V++;if(N!=f)V++;if(f!=z)V++;if(z!=l)V++;if(V>=3||R)$[Y]=1}var d=[];for(var n=1;n<K;n++)for(var x=1;
x<o;x++){var Y=n*o+x;if(X[Y]!=X[Y-1]){var e=a.A.afW(X,o,K,x,n),p=[];for(var h=0;h<e.length;h+=2)if($[e[h+1]*o+e[h]]==1)p.push(h>>>1);
d.push([e,p]);a.A.Ca(X,o,K,x,n)}}return d};a.A.Ca=function(c,o,K,u,X){var $=[X*o+u],O=c[X*o+u];c[X*o+u]=65535;
while($.length!=0){var Y=$.pop();c[Y]=0;if(c[Y+o]==O){$.push(Y+o);c[Y+o]=65535}if(c[Y-o]==O){$.push(Y-o);
c[Y-o]=65535}if(c[Y-1]==O){$.push(Y-1);c[Y-1]=65535}if(c[Y+1]==O){$.push(Y+1);c[Y+1]=65535}}};a.A.afW=function(c,o,K,u,X){var $=[0,-1,1,0,0,1,-1,0],N=1;
function O(z,R,N){var Y=l*o+x,V=0;if(N==0)V=Y-o;else if(N==1)V=Y;else if(N==2)V=Y-1;else if(N==3)V=Y-o-1;
return c[V]}var n=[],x=u,l=X,f=O(x,l,N);do{n.push(x,l);x+=$[N*2];l+=$[N*2+1];if(O(x,l,N)!=f)N=N+1&3;
else if(O(x,l,N+3&3)!=f)N=N;else if(O(x,l,N+2&3)!=f)N=N+3&3}while(x!=u||l!=X);return n};a.A.apq=function(c,o,K){var u=c.length-2;
if(K&&K.length!=0){var X=K[0]*2,$=K[K.length-1]*2,O=X==0?u:X-2,n=c.slice($);for(var Y=0;Y<X;Y++)n.push(c[Y]);
if(X==$)n.push(.9*c[X]+.1*c[O],.9*c[X+1]+.1*c[O+1]);else n.push(c[X],c[X+1]);n=a.A.Fn(n,o);n.pop();n.pop();
for(var Y=0;Y<K.length-1;Y++){var x=c.slice(K[Y]*2,K[Y+1]*2+2);x=a.A.Fn(x,o);for(var l=0;l<x.length-2;
l++)n.push(x[l])}return n}var N=c.slice(0);N.push(.9*c[0]+.1*c[u],.9*c[1]+.1*c[u+1]);N=a.A.Fn(N,o);N.pop();
N.pop();return N};a.A.Fn=function(c,o){var K=c.length-2,u=c[0],X=c[1],$=c[K],O=c[K+1],n=$-u,x=O-X,l=1/Math.sqrt(n*n+x*x),N=$*X-O*u,f=-1,z=-1,R=0;
for(var Y=2;Y<K;Y+=2){var V=c[Y],d=c[Y+1],e=d*d*1e6+V*V,p=Math.abs(x*V-n*d+N)*l;if(p>z||p==z&&e>R){z=p;
f=Y;R=e}}if(z<o)return[u,X,$,O];var h=a.A.Fn(c.slice(0,f+2),o),E=a.A.Fn(c.slice(f),o);for(var Y=2;Y<E.length;
Y++)h.push(E[Y]);return h};a.A.aq_=function(){var c=function(u,X,$,O,n,x){return(X-O)*(n-$)+($-u)*(x-O)>=0},o=function(u,X,$,O,n,x,l,N){var f=l-$,z=N-O,R=n-$,V=x-O,d=u-$,e=X-O,p=f*f+z*z,h=f*R+z*V,E=f*d+z*e,q=R*R+V*V,Z=R*d+V*e,v=1/(p*q-h*h),W=(q*E-h*Z)*v,D=(p*Z-h*E)*v;
return W>=0&&D>=0&&W+D<1},K=function(u){var cv=u.length>>>1,Y=0;if(cv<3)return[];var X=[],$=[];for(var Y=0;
Y<cv;Y++)$.push(Y);var O=cv;while(O>3){var n=$[(Y+0)%O],x=$[(Y+1)%O],l=$[(Y+2)%O],N=u[2*n],f=u[2*n+1],z=u[2*x],R=u[2*x+1],V=u[2*l],d=u[2*l+1],e=!1;
if(c(N,f,z,R,V,d)){e=!0;for(var p=0;p<O;p++){var h=$[p];if(h==n||h==x||h==l)continue;if(o(u[2*h],u[2*h+1],N,f,z,R,V,d)){e=!1;
break}}}if(e){X.push(n,x,l);$.splice((Y+1)%O,1);O--;Y=0}else if(Y++>3*O)break}X.push($[0],$[1],$[2]);
return X};return K}();a.A.a2E=function(c,o){var K={},u={G:[],j:[]};for(var Y=0;Y<o.length;Y+=3){var X=o[Y]*2,$=o[Y+1]*2,O=o[Y+2]*2;
a.A.t6(c,X,$,u,K);a.A.t6(c,X,O,u,K);a.A.t6(c,$,O,u,K)}return u};a.A.t6=function(c,o,K,u,X){if(o>K){var $=K;
K=o;o=$}if(X[o+","+K])return;X[o+","+K]=!0;u.G.push("M","L");u.j.push(c[o],c[o+1],c[K],c[K+1])};a.A.asF=function(c,o){var K=[],u=c.length;
for(var Y=0;Y<u;Y+=2){var X=c[Y],$=c[Y+1],O=c[(Y+2)%u],n=c[(Y+3)%u];if(n<$){var x=$;$=n;n=x}if($<o&&o<n){var l=(o-$)/(n-$);
K.push(X+l*(O-X))}}K.sort(function(N,f){return N-f});return K};a.A.a0X=function(c,o,K,u,X,$,O){var n=c-K,x=o-u,l=X-K,N=$-u,f=1/Math.sqrt(n*n+x*x),z=1/Math.sqrt(l*l+N*N),R=n*f,V=x*f,d=l*z,e=N*z,p=V*O,h=-R*O,E=-e*O,q=d*O,Z=a.A.A5(p,h,R,V,E,q,d,e),v=p+R*Z,W=h+V*Z,Z=a.A.A5(0,0,R,V,v,W,-V,R),D=R*Z,I=V*Z;
return[Math.sqrt(D*D+I*I),R,V,d,e]};a.A.a9q=function(c,o,K,u,X,$,O){var n=a.A.a0X(c,o,K,u,X,$,O),x=n[0],l=n[1],N=n[2],f=n[3],z=n[4],R=Math.atan2(l*z-N*f,l*f+N*z);
if(R<0){R=R*-1}var V=Math.PI-R,d=4/3*Math.tan(V/4),e=K+x*l,p=u+x*N,h=K+x*f,E=u+x*z,q=e+d*O*-l,Z=p+d*O*-N,v=h+d*O*-f,W=E+d*O*-z;
return[0,0,e,p,q,Z,v,W,h,E]};a.A.A5=function(c,o,K,u,X,$,O,n){var x=O*(o-$)-n*(c-X),l=n*K-O*u;if(l==0)return 0;
return x/l};a.A.kE=function(c,o,K,u,X,$){return c*(u-$)+K*($-o)+X*(o-u)};a.A.a7A=function(c){function o(L,J,b,F,B,k,i,H,m){var j=a.A.A5(L,J,b,F,B,k,i,H);
m.push(L+b*j,J+F*j)}var K=[],u=c.length,X=[];for(var Y=0;Y<u;Y+=2){var $=Y==0?u-2:Y-2,O=Y==u-2?0:Y+2,n=c[Y],x=c[Y+1],l=n-c[$],N=x-c[$+1],f=c[O]-n,z=c[O+1]-x,R=Math.sqrt(l*l+N*N),V=Math.sqrt(f*f+z*z);
X.push(V);var d=R/(R+V),e=n-l*.5,p=x-N*.5,h=n+f*.5,E=x+z*.5,q=(c[O]+c[$])*.5,Z=(c[O+1]+c[$+1])*.5,v=e+d*(h-e),W=p+d*(E-p),D=n-v,I=x-W,A=(f*-l+z*-N)/(R*V),U=(d-.5)*7,w=1+U*d,t=1-U*(1-d);
K.push(e+D*w,p+I*w,h+D*t,E+I*t)}return K};a.S5=function(){};a.S5.sZ=function(c,o,K,u,X){var $=K.m,O=K.e,n=$*O,x=new Int32Array(n),cv=0;
for(var Y=0;Y<n;Y++)if(o[Y]!=0){x[Y]=cv;cv++}else if(c[(Y<<2)+3]<200){x[Y]=-2}else x[Y]=-1;if(cv==0)return;
var l=new a.WW(cv,cv),N=new Array(3*cv),f=new Array(3*cv);for(var Y=0;Y<f.length;Y++)f[Y]=N[Y]=0;var z=1/255,R=[-$,-1,1,$],V=[],d=[];
for(var e=0;e<O;e++)for(var p=0;p<$;p++){var h=e*$+p,E=h<<2,Y=x[h],q=Y*3,Z=0,v=0,W=0;if(Y==-1||Y==-2)continue;
for(var D=0;D<4;D++){if(D==2){v=W;V[W]=0;d[W]=Y;W++}var I=h+R[D],A=I<<2,U=x[I];if(D==0&&e==0||D==1&&p==0||D==2&&p==$-1||D==3&&e==O-1||U==-2)continue;
Z++;if(U==-1){N[q+0]+=c[A+0];N[q+1]+=c[A+1];N[q+2]+=c[A+2]}else{V[W]=-1;d[W]=U;W++;if(o[h]==o[I]){N[q+0]+=c[E+0]-c[A+0];
N[q+1]+=c[E+1]-c[A+1];N[q+2]+=c[E+2]-c[A+2]}}}V[v]=Z;l.j0(V,d,W)}for(var Y=0;Y<n;Y++)if(x[Y]!=-1){var w=Y<<2,t=x[Y],L=t*3;
f[L]=c[w+0];f[L+1]=c[w+1];f[L+2]=c[w+2]}var J=Date.now();l.a2H(f,N,u,X);console.log(Date.now()-J);for(var Y=0;
Y<n;Y++){var t=x[Y],b=t*3,w=Y<<2;if(t==-1||c[w+3]!=255)continue;c[w+0]=~~(.5+Math.max(0,Math.min(255,f[b+0])));
c[w+1]=~~(.5+Math.max(0,Math.min(255,f[b+1])));c[w+2]=~~(.5+Math.max(0,Math.min(255,f[b+2])))}};a.rect={};
a.rect.ahD=function(c,o){var K=[c],u=[];for(var Y=0;Y<o.length;Y++){var X=o[Y],$=!1;for(var O=Y+1;O<o.length;
O++){var n=o[O];if(n[0]<=X[0]&&n[1]<=X[1]&&X[2]<=n[2]&&X[3]<=n[3]){$=!0;break}}if(!$)u.push(X)}o=u;for(var Y=0;
Y<o.length;Y++){var X=o[Y];for(var O=0;O<K.length;O++){var n=K[O],x=Math.max(X[0],n[0]),l=Math.min(X[2],n[2]),N=Math.max(X[1],n[1]),f=Math.min(X[3],n[3]);
if(x<l&&N<f){var z=[];if(n[1]<X[1]){var R=n.slice(0);R[3]=X[1];z.push(R)}if(n[0]<X[0]){var V=n.slice(0);
V[1]=N;V[2]=X[0];z.push(V)}if(X[2]<n[2]){var d=n.slice(0);d[1]=N;d[0]=X[2];z.push(d)}if(X[3]<n[3]){var e=[x,f,l,n[3]];
z.push(e)}if(z.length!=0){K[O]=z[0];for(var p=1;p<z.length;p++)K.push(z[p])}}}K.push(X);K=a.rect.af1(K)}K.sort(function(X,n){return X[1]!=n[1]?X[1]-n[1]:X[0]-n[0]});
for(var Y=1;Y<K.length;Y++){var X=K[Y-1],n=K[Y];if(X[0]==n[0]&&X[1]==n[1]&&X[2]==n[2]&&X[3]==n[3]){K.splice(X[4]==null?Y-1:Y,1);
Y--}}return K};a.rect.af1=function(c){c=c.slice(0);for(var Y=0;Y<c.length;Y++){var o=c[Y],K=null;if(o[4]!=null)continue;
for(var u=0;u<c.length;u++){var X=c[u];if(Y==u||X[4]!=null)continue;var $=o[0]==X[0],O=o[1]==X[1],n=o[2]==X[2],x=o[3]==X[3];
if(O&&x&&(o[2]==X[0]||o[0]==X[2])){K=[Math.min(o[0],X[0]),o[1],Math.max(o[2],X[2]),o[3]]}if($&&n&&(o[3]==X[1]||o[1]==X[3])){K=[o[0],Math.min(o[1],X[1]),o[2],Math.max(o[3],X[3])]}if(K){c[Y]=K;
c.splice(u,1);break}}if(K){Y--}}return c};a.rect.zq=function(c){var o=new ez;for(var Y=0;Y<c.length;
Y++)o=o.X3(c[Y]);return o};a.rect.aeI=function(c,o){var K=a.rect.zq,u=new UnionFind(c.length),v=1e3,W=1e3;
for(var Y=0;Y<c.length;Y++)for(var X=Y+1;X<c.length;X++){if(!o)continue;var $=c[Y],O=c[X],f=1e9,z=1e9;
if($.Yd(O)){u.link(Y,X);continue}var n=$.x+$.m,x=$.y+$.e,l=O.x+O.m,N=O.y+O.e;if((n<O.x||l<$.x)&&(x<O.y||N<$.y))continue;
if(!(x<O.y||N<$.y))f=Math.min(Math.abs(n-O.x),Math.abs($.x-l));if(!(n<O.x||l<$.x))z=Math.min(Math.abs(x-O.y),Math.abs($.y-N));
var R=Math.min(f,z),V=Math.min($.m,$.e,O.m,O.e);if(R<.3*V)u.link(Y,X)}var d=[],e={};for(var Y=0;Y<c.length;
Y++){var p=u.find(Y),h=c[Y];if(e[p]==null){e[p]=d.length;d.push([])}d[e[p]].push(h)}var E=[],q=[];for(var Y=0;
Y<d.length;Y++){E.push(K(d[Y]));var Z=K(d[Y]);Z.vv=Y;q.push(Z)}q.sort(function(F,B){return Math.max(B.e,B.m)-Math.max(F.e,F.m)});
var D=new NETXUS.RectanglePacker(v,W);while(!0){var I=!1;D.reset(v,W);for(var Y=0;Y<q.length;Y++){var A=D.findCoords(q[Y].m,q[Y].e);
if(A){q[Y].x=A.x;q[Y].y=A.y}else{v=Math.floor(v*1.1);W=Math.floor(W*1.1);I=!0;break}}if(I)continue;break}for(var Y=0;
Y<d.length;Y++){var U=q[Y],w=U.vv,t=E[w],L=d[w],J=U.x-t.x,b=U.y-t.y;for(var X=0;X<L.length;X++)L[X].offset(J,b)}};
a.Pj=function(){};a.Pj.U5=Math.floor(16*window.devicePixelRatio);a.Pj.Ev={};a.Pj.ue=0;a.Pj.gm=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
a.Pj.apy=["px","in","cm","mm","%"];a.Pj.Pv=function(c,o,K,u){var X=[1,o,o/2.54,o/25.4,K/100][u];return c*X};
a.Pj.aaE=function(c,o,K,u){var X=[1,o,o/2.54,o/25.4,K/100][u];return c/X};a.Pj.IL=function(c,o,K,u,X){var $=K.RG.MF,O=[1,o,o/2.54,o/25.4,u/100][$],n=[2,3,2,1,2][$];
c=c/O;var x=Math.round(c),l=$==0&&Math.abs(c-x)<1e-6?x+"":c.toFixed(n);if(X)l+=" "+a.Pj.apy[$];return l};
a.Pj.agg=function(c,o,K,u){var X=K.RG.MF,$=[1,o,o/2.54,o/25.4,u/100][X];c=parseFloat(c)*$;return c};
a.Pj.ali=function(c,o){var K=c+","+o;if(a.Pj.Ev.clr==K)return;var u=Math.round(a.Pj.U5*.5);a.Pj.ue=u;
var X=a.kW(u,u);X.save();X.font=u*1.5+"px monospace";var $="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var Y=0;
Y<$.length;Y++){X.fillStyle="#"+a.On(o);X.fillRect(0,0,u,u);X.fillStyle="#"+a.On(c);X.fillText($[Y],0,u);
a.Pj.Ev[$[Y]]=new Uint8Array(X.getImageData(0,0,u,u).data.buffer)}a.Pj.Ev.clr=K;X.restore()};a.Pj.aqG=function(c,o,K){var u=0,X=0,$=4*a.Pj.U5;
for(var Y=9;Y>=0;Y--){var O=Math.pow(10,Y);if(5*O*c<=$){u=5*O;X=10;break}if(2*O*c<=$){u=2*O;X=4;break}if(1*O*c<=$){u=1*O;
X=10;break}}if(u==0){u=1;X=10}var n=Math.ceil(u*c),x=a.R(n*a.Pj.U5*4);a.ms(x,4278190080|K);for(var Y=0;
Y<a.Pj.U5;Y++)a.Pj.Jw(x,4*Y*n,o);for(var Y=0;Y<n;Y++)a.Pj.Jw(x,4*((a.Pj.U5-1)*n+Y),o);if(u==2)X=2;if(u==5)X=5;
if(u>1||u==1&&n>20)for(var Y=1;Y<X;Y++)a.Pj.aCi(x,Y*(n/X),n,(Y&1)==1?.8:.7,o);return{lD:x,step:u}};a.Pj.aCi=function(c,o,K,u,X){var o=Math.round(o);
for(var $=Math.round(a.Pj.U5*u);$<a.Pj.U5-1;$++)a.Pj.Jw(c,4*($*K+o),X)};a.Pj.Jw=function(c,o,K){c[o+0]=K>>16&255;
c[o+1]=K>>8&255;c[o+2]=K&255};a.Pj.ac3=function(c,o,K,u,X,$,O){var n=c.fE.m,x=c.fE.e,l=a.Pj.U5,N=o&255,f=o>>8&255,z=o>>16&255;
o=Math.round(N*.6)<<16|Math.round(f*.6)<<8|Math.round(z*.6);a.Pj.ali(Math.round(N*.8)<<16|Math.round(f*.8)<<8|Math.round(z*.8),K);
var R=c.U,V=c.p,d=c.yp;for(var e=0;e<2;e++){var p=e==0?$:O;c.U=p[0];c.p=p[1];c.yp=0;var h=this.aqG(c.U,o,K),E=c.FT(0,0),q=c.FT(n,x),Z=Math.floor(E.x/h.step)*h.step,v=Math.ceil(q.x/h.step)*h.step,W=Math.floor(E.y/h.step)*h.step,D=Math.ceil(q.y/h.step)*h.step,I=c.dV(Z,W),A=c.dV(v,W),U=h.step*c.U,w=Math.ceil(U);
if(e==1){var t=h.lD;h.lD=a.R(t.length*4);a.D.ll(t,h.lD,w,l)}var L=e==0?c.BC.data:c.Ce.data,J=new ez(0,0,[n,l][e],[l,x][e]),b=new ez(0,0,[w,l][e],[l,w][e]),F=new ez([0,Math.round(l*.2)][e],[Math.round(l*.08),0][e],a.Pj.ue,a.Pj.ue),B=(e==0?v-Z:D-W)/h.step;
for(var Y=0;Y<B;Y++){if(e==0)b.x=Math.round(I.x+Y*U);else b.y=Math.round(I.y+Y*U);a.Ui(h.lD,b,L,J,b);
var k=(e==0?Z+Y*h.step:Math.abs(W+Y*h.step)).toString(10);for(var i=0;i<k.length;i++){if(e==0)F.x=b.x+3+i*Math.round(a.Pj.ue*.8);
else F.y=b.y+3+i*Math.round(a.Pj.ue*1.15);var H=a.Pj.Ev[k[i]];a.Ui(H,F,L,J,F)}}}c.U=R;c.p=V;c.yp=d;var m=Math.floor(l*.6),j=new Uint32Array(c.BC.data.buffer),Q=new Uint32Array(c.Ce.data.buffer),G=N<128?4278190080:4294967295;
if(0<u&&u<n)for(var Y=0;Y<m;Y++)j[Y*n+u]=G;if(0<X&&X<x)for(var Y=0;Y<m;Y++)Q[X*l+Y]=G};a.scale={};a.scale.xS=document.createElement("canvas");
a.scale.i0=a.scale.xS.getContext("2d");a.scale.Cu=function(c,o,K){var u=a.scale.xS,X=a.scale.i0;u.width=o;
u.height=K;var $=new ImageData(new Uint8ClampedArray(c.buffer),o,K);X.putImageData($,0,0);return X.createPattern(X.canvas,"repeat")};
a.scale.aBZ=function(c,o,K,u,X,$,O,n,x){var l=a.scale.avH(c,K,u,X,$,O,n,x);if(o)o.set(l);return new Uint8Array(l.buffer)};
a.scale.avH=function(c,o,K,u,X,$,O,n){var x=a.kW(o,K);x.save();x.rect(0,0,o,K);x.translate($,O);x.scale(u,X);
if(n!=null)x.rotate(-n);x.fillStyle=c;x.fill();x.restore();return new Uint8Array(x.getImageData(0,0,o,K).data.buffer)};
a.scale.i=function(c,o,K,u,X){var $=K.J==0&&K.If==0,O=X.m,n=X.e,x=a.A.W6(o,K).j,l=a.A.P3(x,$).ar(X),N=l.x,f=l.y,z=N+l.m,R=f+l.e,V=~~o.x,d=~~o.y,e=~~o.m,p=~~o.e;
if($)for(var h=f;h<R;h++){var E=K.gI*(h+.5)+K.qj-d,q=~~E*e;for(var Z=N;Z<z;Z++){var v=K.V*(Z+.5)+K.hW-V;
u[h*O+Z]=c[q+~~v]}}else for(var h=f;h<R;h++)for(var Z=N;Z<z;Z++){var W=Z+.5,D=h+.5,v=K.V*W+K.If*D+K.hW-V,E=K.J*W+K.gI*D+K.qj-d;
if(0<=v&&0<=E&&v<e&&E<p)u[h*O+Z]=c[~~E*e+~~v]}};a.scale.adu=function(c,o,K,u,X,$){var O=new Uint32Array(c.buffer),n=new Uint32Array(u.buffer),x=X.m,l=X.e,N=a.A.W6(o,K).j,f=$?X:a.A.P3(N).ar(X),z=f.x,R=f.y,V=z+f.m,d=R+f.e,e=~~o.x,p=~~o.y,h=~~o.m,E=~~o.e;
for(var q=R;q<d;q++)for(var Z=z;Z<V;Z++){var v=Z+.5,W=q+.5,D=K.V*v+K.If*W+K.hW-e,I=K.J*v+K.gI*W+K.qj-p;
if($){D=((h<<10)+D)%h;I=((E<<10)+I)%E}if(0<=D&&0<=I&&D<h&&I<E)n[q*x+Z]=O[~~I*h+~~D]}};a.scale.d$=function(c,o,K,u,X,$,O){if(O<1)a.scale.abX(c,o,K,u,X,$,Math.round(1/O));
else a.scale.aAU(c,o,K,u,X,$,O)};a.scale.VU=function(c,o,K,u,X,$,O,n){if(n)n=n.ar(new ez(0,0,o,K));c=new Uint32Array(c.buffer);
u=new Uint32Array(u.buffer);if(O<1)a.scale.azn(c,o,K,u,X,$,Math.round(1/O),n);else a.scale.avX(c,o,K,u,X,$,O)};
a.scale.aAU=function(c,o,K,u,X,$,O){for(var n=0;n<K;n++)for(var x=0;x<o;x++){var l=c[n*o+x],N=Math.min(O,X-x*O),f=Math.min(O,$-n*O);
for(var Y=0;Y<f;Y++)for(var z=0;z<N;z++)u[(O*n+Y)*X+O*x+z]=l}};a.scale.abX=function(c,o,K,u,X,$,O){for(var n=0;
n<$;n++)for(var x=0;x<X;x++){var l=0,N=Math.min(O,o-x*O),f=Math.min(O,K-n*O);for(var Y=0;Y<f;Y++)for(var z=0;
z<N;z++)l+=c[(O*n+Y)*o+(O*x+z)];u[n*X+x]=Math.round(l/(N*f))}};a.scale.avX=function(c,o,K,u,X,$,O){for(var n=0;
n<K;n++)for(var x=0;x<o;x++){var l=c[n*o+x],N=Math.min(O,X-x*O),f=Math.min(O,$-n*O);for(var Y=0;Y<f;
Y++)for(var z=0;z<N;z++)u[(O*n+Y)*X+O*x+z]=l}};a.scale.aBb=function(c,o,K){return(c>>>K&255)+(o>>>K&255)>>>1};
a.scale.B6=function(c,o){var K=a.scale.aBb;return K(c,o,24)<<24|K(c,o,16)<<16|K(c,o,8)<<8|K(c,o,0)};
a.scale.arg=function(c,o,K,u,X,$){var O=new Uint32Array(c.buffer),n=new Uint32Array(u.buffer);for(var x=0;
x<K;x++){for(var l=0;l<o;l++){var N=x*o+l,f=O[N],z=f,R=f,V=f;if(l<o-1)z=a.scale.B6(f,O[N+1]);if(x<K-1)R=a.scale.B6(f,O[N+o]);
if(l<o-1&&x<K-1)V=a.scale.B6(f,O[N+o+1]);var d=(x*X+l)*2;n[d]=f;n[d+1]=z;n[d+X]=R;n[d+X+1]=V}}if((X&1)==1)for(var x=0;
x<$;x++)n[x*X+X-1]=n[x*X+X-2];var e=X*($-1);if(($&1)==1)for(var l=0;l<X;l++)n[e+l]=n[e-X+l]};a.scale.azn=function(c,o,K,u,X,$,O,n){var x=0,l=X,N=0,f=$;
if(n){x=Math.floor(n.x/O);l=Math.ceil((n.x+n.m)/O);N=Math.floor(n.y/O);f=Math.ceil((n.y+n.e)/O)}for(var z=N;
z<f;z++)for(var R=x;R<l;R++){var V=0,d=0,e=0,p=0,h=Math.min(O,o-R*O),E=Math.min(O,K-z*O);for(var Y=0;
Y<E;Y++)for(var q=0;q<h;q++){var Z=c[(O*z+Y)*o+O*R+q],v=Z>>>24;V+=v;d+=v*(Z>>>16&255);e+=v*(Z>>>8&255);
p+=v*(Z&255)}if(V!=0){var W=1/V;u[z*X+R]=V/(h*E)<<24|d*W<<16|e*W<<8|p*W}else u[z*X+R]=0}};a.u=function(){function c(n,x,Y){return(128&n[Y-x-1]&n[Y-x]&n[Y-2]&n[Y-1]&n[Y+1]&n[Y+x-1]&n[Y+x])==0}function o(n,x,Y){return(128&n[Y-x-x]&n[Y-x+1]&n[Y+2]&n[Y+x+1]&n[Y+x+x])==0}function K(n,x,Y){return(n[Y-x]&n[Y-1]&n[Y+1]&n[Y+x]&128)==0}function u(n,Y){return(n[Y]&128)!=0}function X(n,x,l,N){var Y=0,f=l.m,z=l.e;
if(N)for(var R=0;R<z;R++)for(var V=0;V<f;V++){if(u(n,Y)&&(V<2||R<2||V>f-3||R>z-3||((n[Y-1]&128)==0||x[Y-1]!=0)&&c(n,f,Y)||o(n,f,Y)))x[Y]=255;
Y++}else for(var R=0;R<z;R++)for(var V=0;V<f;V++){if(u(n,Y)&&(V==0||R==0||V==f-1||R==z-1||K(n,f,Y)))x[Y]=255;
Y++}}function $(n,x,l,N,f){var z=l.m,R=l.e,V=new Uint8Array(x.buffer),d=new Uint32Array(x.buffer);if(f)for(var e=2;
e<R-2;e++)for(var p=2;p<z-2;p++){var Y=e*z+p;if(u(n,Y)&&(((n[Y-1]&128)==0||d[Y-1]!=0)&&c(n,z,Y)||o(n,z,Y)))d[Y]=N[(p+e&4)>>>2]}else for(var e=1;
e<R-1;e++)for(var p=1;p<z-1;p++){var Y=e*z+p;if(u(n,Y)&&K(n,z,Y)){d[Y]=N[(p+e&4)>>>2]}}}function O(n,x,l,N,f){var z=l.m,R=l.e,V=new Uint8Array(x.buffer),d=new Uint32Array(x.buffer),Y=0;
if(N==1)for(var e=0;e<R;e++)for(var p=0;p<z;p++,Y++){var h=n[Y];d[Y]=255-h>>>1<<24|255}else for(var e=0;
e<R;e++)for(var p=0;p<z;p++,Y++){var h=n[Y];d[Y]=255<<24|(h<<16|h<<8|h)}}return{auy:X,awT:$,anO:O}}();
a._M={};a._M.AV=function(c,o,K){var u,X;if(K==0){u=c.rect.clone();X=a._M.amq}if(K==1){u=c.rect.X3(o.rect);
X=a._M.X3}if(K==2){u=o.rect.clone();X=a._M.ajP}if(K==3){u=c.rect.ar(o.rect);X=a._M.ar}if(K==4){u=c.rect.X3(o.rect);
X=a._M.aBB}if(u.SR())return null;var $=a.R(u.P());a.qv(o.channel,o.rect,$,u);var O=a.R(u.P());a.qv(c.channel,c.rect,O,u);
X(O,$,$);var n=a.Rp($,u);if(n.SR())return null;if(!n.Ug(u)){var x=a.R(n.P());a.qv($,u,x,n);$=x;u=n}return{channel:$,rect:u}};
a._M.amq=function(c,o,K){for(var Y=0;Y<c.length;Y++)K[Y]=c[Y]};a._M.X3=function(c,o,K){for(var Y=0;Y<c.length;
Y++)K[Y]=Math.min(c[Y]+o[Y],255)};a._M.ajP=function(c,o,K){for(var Y=0;Y<c.length;Y++)K[Y]=Math.max(o[Y]-c[Y],0)};
a._M.ar=function(c,o,K){var u=1/255;for(var Y=0;Y<c.length;Y++)K[Y]=c[Y]*o[Y]*u};a._M.aBB=function(c,o,K){var u=1/255;
for(var Y=0;Y<c.length;Y++)K[Y]=Math.min(c[Y]+o[Y],255)-c[Y]*o[Y]*u};a.WW=function(c,o){this.H=[];this.xI=[0];
this.jv=[];this.Hw=[];this.V3=[0];this.oT=[];this.t_=[];this.rows=c;this.cols=o};a.WW.prototype.clone=function(){var c=this,o=c.rows,K=c.cols,u=new a.WW(o,K);
u.H=c.H.slice(0);u.xI=c.xI.slice(0);u.jv=c.jv.slice(0);u.Hw=c.Hw.slice(0);u.V3=c.V3.slice(0);u.oT=c.oT.slice(0);
u.t_=c.t_.slice(0);return u};a.WW.prototype.j0=function(c,o,K){var u=this.xI.length-1;for(var Y=0;Y<K;
Y++){var X=c[Y],$=o[Y];this.H.push(X);this.jv.push($);if($==u){this.t_.push(X==0?0:1/X)}else{this.Hw.push(X);
this.oT.push($)}}this.xI.push(this.H.length);this.V3.push(this.Hw.length)};a.WW.prototype.g0=function(c,o){var K=this,u=K.rows,X=K.H,$=K.jv;
if(o==null)o=new Array(u);for(var Y=0;Y<u;Y++){var O=K.xI[Y],n=K.xI[Y+1],x=0;while((n-O&3)!=0){x+=X[O]*c[$[O]];
O++}for(var l=O;l<n;l+=4)x+=X[l]*c[$[l]]+X[l+1]*c[$[l+1]]+X[l+2]*c[$[l+2]]+X[l+3]*c[$[l+3]];o[Y]=x}return o};
a.WW.prototype.multiply=function(c){return this.o6(c.ll())};a.WW.prototype.o6=function(c){var o=this,K=o.rows,u=o.cols,X=c.rows,$=new a.WW(K,X),O=o.jv,n=c.jv;
for(var Y=0;Y<K;Y++){var x=[],l=[],N=o.xI[Y],f=o.xI[Y+1];for(var z=0;z<X;z++){var R=c.xI[z],V=c.xI[z+1],d=0,e=N,p=R;
while(e<f&&p<V){var h=Math.max(O[e],n[p]);while(e<f&&O[e]<h)e++;while(p<V&&n[p]<h)p++;if(e<f&&p<V&&O[e]==n[p])d+=o.H[e++]*c.H[p++]}if(d!=0){x.push(d);
l.push(z)}}$.j0(x,l,x.length)}return $};a.WW.prototype.ll=function(){var c=this.rows,o=this.cols,K=[];
for(var Y=0;Y<o;Y++)K.push([[],[]]);var u=this.H,X=this.xI,$=this.jv;for(var Y=0;Y<c;Y++){var O=X[Y],n=X[Y+1];
for(var x=O;x<n;x++){var l=K[$[x]];l[0].push(u[x]);l[1].push(Y)}}var N=new a.WW(o,c);for(var Y=0;Y<o;
Y++)N.j0(K[Y][0],K[Y][1],K[Y][1].length);return N};a.WW.prototype.JD=function(){var c=this.rows,o=this.cols,K=new Array(c),u=this.H,X=this.xI,$=this.jv;
for(var Y=0;Y<c;Y++){var O=K[Y]=new Array(o);for(var n=0;n<o;n++)O[n]=0;var x=X[Y],l=X[Y+1];for(var N=x;
N<l;N++)O[$[N]]=u[N]}return K};a.WW.prototype.fD=function(c,o,K,u,X){function $(W,o,D,I){var A=W.length;
for(var Y=0;Y<A;Y++)I[Y]=W[Y]-o[Y]*D}function O(W,o,D,I){var A=W.length,U=0;while((A-U&3)!=0){I[U]=W[U]+o[U]*D;
U++}for(var Y=U;Y<A;Y+=4){I[Y]=W[Y]+o[Y]*D;I[Y+1]=W[Y+1]+o[Y+1]*D;I[Y+2]=W[Y+2]+o[Y+2]*D;I[Y+3]=W[Y+3]+o[Y+3]*D}}function n(W,o,D){var I=W.length;
for(var Y=0;Y<I;Y++)D[Y]=W[Y]*o[Y]}function x(W,o){var D=W.length,I=0,A=0;while((D-I&3)!=0){A+=W[I]*o[I];
I++}for(var Y=I;Y<D;Y+=4)A+=W[Y]*o[Y]+W[Y+1]*o[Y+1]+W[Y+2]*o[Y+2]+W[Y+3]*o[Y+3];return A}var l=u!=null?2:1,N=Date.now(),f=0,z=this,R=c.slice(0),V=c.slice(0);
z.g0(c,V);$(o,V,1,R);var d=this.t_;if(l==0){d=R.slice(0);d.fill(1)}var e=R.slice(0);n(d,R,e);var p=e.slice(0),h=x(R,e);
while(!0){z.g0(p,V);var E=h/x(p,V);O(c,p,E,c);$(R,V,E,R);if((f&7)==0&&Math.sqrt(x(R,R))<K)break;if(l<=1)n(d,R,e);
else{var q=R.slice(0);u.ary(q,R);X.abq(e,q)}var Z=x(R,e),v=Z/h;O(e,p,v,p);h=Z;f++}};a.WW.prototype.a6g=function(c,o,K,u){var X=Date.now(),$=1.96,n=0;
if(K==null)K=5e-6;if(u==null)u=1e9;var O=1-$,cv=this.rows,x=this.Hw,l=this.V3,N=this.oT,f=this.t_;while(!0){var z=0;
for(var Y=0;Y<cv;Y++){var R=o[Y],V=l[Y],d=l[Y+1];if(d-V==4)R-=x[V]*c[N[V]]+x[V+1]*c[N[V+1]]+x[V+2]*c[N[V+2]]+x[V+3]*c[N[V+3]];
else for(var e=V;e<d;e++)R-=x[e]*c[N[e]];var p=c[Y]*O+f[Y]*R*$,h=p-c[Y];z+=h*h;c[Y]=p}if(z/cv<K||Date.now()>X+u)break}};
a.WW.prototype.a2H=function(c,o,K,u){var X=Date.now(),$=1.96,n=0;if(K==null)K=5e-5;if(u==null)u=1e9;
var O=1-$,cv=this.rows,x=this.Hw,l=this.V3,N=this.oT,f=this.t_;while(!0){var z=0;for(var Y=0;Y<cv;Y++){var R=Y*3,V=o[R],d=o[R+1],e=o[R+2],p=l[Y],h=l[Y+1];
for(var E=p;E<h;E++){var q=x[E],Z=N[E]*3;V-=q*c[Z+0];d-=q*c[Z+1];e-=q*c[Z+2]}var v=f[Y]*$,W=c[R+0]*O+V*v,D=c[R+1]*O+d*v,I=c[R+2]*O+e*v,A=W-c[R+0],U=D-c[R+1],w=I-c[R+2];
z+=.4*A*A+.5*U*U+.1*w*w;c[R+0]=W;c[R+1]=D;c[R+2]=I}if(z/cv<K||Date.now()>X+u)break}};a.HO={};a.HO.ny=function(c,o,K){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:c},Vrtc:{t:"doub",v:o},Cnty:{t:"bool",v:K}}}};
a.HO.i=function(c,o){for(var Y=0;Y<c.length;Y++){var K=c[Y].v,u=o.QB(new kn(K.Hrzn.v,K.Vrtc.v));K.Hrzn.v=Math.round(u.x);
K.Vrtc.v=Math.round(u.y)}};a.HO.a96=function(c,o,K){var cv=c.length-1,u=a.kn.a9(cv+1,cv+2);for(var Y=1;
Y<cv;Y++){u[Y][Y-1]=1/(c[Y]-c[Y-1]);u[Y][Y]=2*(1/(c[Y]-c[Y-1])+1/(c[Y+1]-c[Y]));u[Y][Y+1]=1/(c[Y+1]-c[Y]);
u[Y][cv+1]=3*((o[Y]-o[Y-1])/((c[Y]-c[Y-1])*(c[Y]-c[Y-1]))+(o[Y+1]-o[Y])/((c[Y+1]-c[Y])*(c[Y+1]-c[Y])))}u[0][0]=2/(c[1]-c[0]);
u[0][1]=1/(c[1]-c[0]);u[0][cv+1]=3*(o[1]-o[0])/((c[1]-c[0])*(c[1]-c[0]));u[cv][cv-1]=1/(c[cv]-c[cv-1]);
u[cv][cv]=2/(c[cv]-c[cv-1]);u[cv][cv+1]=3*(o[cv]-o[cv-1])/((c[cv]-c[cv-1])*(c[cv]-c[cv-1]));a.kn.QO(u,K)};
a.HO.afV=function(c,o,K,u){if(c<=o[0])return K[0];if(c>=o[o.length-1])return K[o.length-1];var Y=1;while(o[Y]<c)Y++;
var X=o[Y],$=o[Y-1],O=K[Y],n=K[Y-1],x=(c-$)/(X-$),l=u[Y-1]*(X-$)-(O-n),N=-u[Y]*(X-$)+(O-n),f=(1-x)*n+x*O+x*(1-x)*(l*(1-x)+N*x);
return f};a.HO.aou=function(c,o,K,u){var X={Mm:[c[0]],zA:[o[0]],k9:[]};u[0]=X;for(var Y=1;Y<c.length-1;
Y++){X.Mm.push(c[Y]);X.zA.push(o[Y]);if(K[Y]==!1){a.HO.a96(X.Mm,X.zA,X.k9);X={Mm:[c[Y]],zA:[o[Y]],k9:[]}}u[Y]=X}X.Mm.push(c[Y]);
X.zA.push(o[Y]);a.HO.a96(X.Mm,X.zA,X.k9);u[Y]=X};a.HO.aom=function(c,o,K,u){if(c<=o[0])return K[0];if(c>=o[o.length-1])return K[o.length-1];
var Y=1;while(o[Y]<c)Y++;var X=u[Y-1];return a.HO.afV(c,X.Mm,X.zA,X.k9)};a.HO.agS=function(c){var o={Mm:[],zA:[],Ms:[]};
for(var Y=0;Y<c.length;Y++){o.Mm[Y]=c[Y].v.Hrzn.v;o.zA[Y]=c[Y].v.Vrtc.v;o.Ms[Y]=c[Y].v.Cnty?c[Y].v.Cnty.v:!0}return o};
a.HO.zJ=function(c,cv,o){var K=0,u=255;if(o){K=-1e9;u=1e9}var X=a.HO.agS(c),$=[];a.HO.aou(X.Mm,X.zA,X.Ms,$);
var O=[];for(var Y=0;Y<cv;Y++)O[Y]=1/255*Math.max(K,Math.min(u,a.HO.aom(Y*(255/(cv-1)),X.Mm,X.zA,$)));
return O};a.HO.aak=function(c,cv,o){var K=Math.round(c.length/20),u=cv-c.length,X=o?(c[K]-c[0])/K:0,$=o?c[0]-u*X:c[c.length-1],O=[];
for(var Y=0;Y<u;Y++)O.push($+Y*X);return o?O.concat(c):c.concat(O)};a.HO.c_=function(c,cv,o){var K=a.HO.agS(c),u=[];
a.HO.aou(K.Mm,K.zA,K.Ms,u);var X=new Uint8Array(cv),$=cv/256;for(var Y=0;Y<cv;Y++)X[Y]=Math.max(0,Math.min(cv-1,a.HO.aom(Y*$,K.Mm,K.zA,u)));
if(o){X[0]=0;if(X[1]>100)X[1]=.4*X[1];if(X[2]>150)X[1]=.7*X[2]}return X};a.HO.au1=function(c,o){var K=new Uint8Array(c.length);
for(var Y=0;Y<c.length;Y++)K[Y]=o[c[Y]];return K};a.HO.Zq=function(c,o,K){var u=document.createElement("canvas");
u.width=o;u.height=K;var X=u.getContext("2d"),$=a.HO.c_(c,256);X.scale(o/255,K/255);X.fillStyle="#fff";
X.fillRect(0,0,255,255);X.fillStyle="#333";X.beginPath();X.moveTo(0,255);for(var Y=0;Y<$.length;Y++)X.lineTo(Y,255-$[Y]);
X.lineTo(255,255);X.closePath();X.fill();return u.toDataURL()};a.style={};a.style.stroke=function(c,o,K,u){var X=K.m,$=K.e,O=a.style.HD(c,X,$);
a.style.Q9(o,K,O,K,u)};a.style.Q9=function(c,o,K,u,X){var $=o.ar(u),O=$.m,n=$.e;X+=.5;var x=$.x-o.x,l=$.y-o.y,N=o.m,f=$.x-u.x,z=$.y-u.y,R=u.m;
for(var V=0;V<n;V++){var d=(V+z)*R+f,e=(V+l)*N+x;for(var p=0;p<O;p++){var h=Math.max(0,Math.min(1,X-K[d+p]));
c[e+p]=Math.round(h*255)}}};a.style.a17=function(c,o,K,u){for(var X=0;X<K;X++)for(var $=0;$<o;$++){var O=X*o+$,n=0,x=0,l=c[O];
if($==0||X==0){n=c[O+1]-l;x=c[O+o]-l}else if($==K-1||X==o-1){n=l-c[O-1];x=l-c[O-o]}else{n=c[O+1]-c[O-1];
x=c[O+o]-c[O-o]}if(n!=0||x!=0){var N=1/Math.sqrt(n*n+x*x);n*=N;x*=N}u[O+O]=n;u[O+O+1]=x}};a.style.HD=function(c,o,K){var u=o*K,X=new ArrayBuffer((u+o*4)*4),$=new Float32Array(X,0,u),O=new Uint16Array(X,0,u<<1),n=new Int32Array(X,u*4,o),x=new Int32Array(X,(u+o)*4,o),l=new Int32Array(X,(u+o*2)*4,o),N=new Int32Array(X,(u+o*3)*4,o),f=1/255;
for(let Y=0;Y<o;++Y){let z=-K-o,R=0,V=Y,d=0;for(;d<K;++d,V+=o){if(c[V]>128)z=d,R=c[V];O[V<<1]=d-z;O[(V<<1)+1]=R}z=O[V+=V-o-o],R=O[V+1];
for(;d>1;--d){if(O[V-=o+o]>z)O[V]=++z,O[V+1]=R;else z=O[V],R=O[V+1]}}for(let e=0;e<u;e+=o){var p=e+o,h=O[e<<1]*O[e<<1],E=0;
let q=n[0]=e,Z=x[0]=e,v=h,W=v;for(let V=e+1;V<p;++V){var D=O[V<<1]*O[V<<1];while(E&&W>(Z-V)*(Z-V)+D){Z=x[--E],q=n[E],v=O[q<<1]*O[q<<1],W=(Z-q)*(Z-q)+v}if(E||W<=(Z-V)*(Z-V)+D){var I=V-q,A=e+Math.floor((I*(V+q-e-e)+D-v)/(I<<1))+1;
if(A<p){Z=x[++E]=A,q=n[E]=V,v=D,W=(Z-q)*(Z-q)+v}}else Z=e,q=n[0]=V,v=D,W=(Z-q)*(Z-q)+v}for(let Y=0;Y<E;
++Y){var U=n[Y]<<1;l[Y]=O[U]*O[U];N[Y]=O[U+1]}let w=.5-O[(n[E]<<1)+1]*f;for(let V=p-1;V>=e;--V){$[V]=Math.max(0,Math.sqrt((V-q)*(V-q)+v)+w);
if(E&&V==Z){Z=x[--E],q=n[E],v=l[E],w=.5-N[E]*f}}}return $};a.style.atU=function(c,o,K){var u=new Float64Array(o*K),X=0,$=o*K;
for(var Y=0;Y<$;Y++)X|=c[Y];if(X==0){u.fill(1e9);return}var O=a.style.NZ(c,o,K);for(var n=0;n<K;n++)for(var x=0;
x<o;x++){var Y=n*o+x,l=O[Y*2],N=O[Y*2+1];if(l==0&&N==0){u[Y]=0;continue}var f=Math.sqrt(l*l+N*N),z=c[(n+N)*o+x+l]*(1/255);
u[Y]=f+.5-z}return u};a.style.apW=function(c,o,K){return(.5-K)*c};a.style.NZ=function(c,o,K,u){var X=new Int16Array(o*K*2);
a.style.afH(c,X,o,K,128);return X};a.style.afH=function(c,o,K,u,X){var $=new Int32Array(K*u);a.style.a5E(c,$,K,u,X);
a.style.aiD($,o,K,u)};a.style.a5E=function(c,o,K,u,X){var $=new Int32Array(u);for(var O=0;O<K;O++){var n=K+u;
for(var x=u-1;x>=0;x--){if(c[x*K+O]>X)n=0;else n++;$[x]=n}n=K+u;for(var x=0;x<u;x++){if(c[x*K+O]>X)n=0;
else n++;o[x*K+O]=n<$[x]?-n:$[x]}}};a.style.aiD=function(c,o,K,u){var X=(K+u)*(K+u),$=new Float64Array(K),O=new Uint16Array(K);
for(var n=0;n<u;n++){var x=n*K,l=0;O[0]=0;$[0]=-X;$[1]=+X;for(var N=1;N<K;N++){var f=c[N+x]*c[N+x]+N*N,z=(f-(c[O[l]+x]*c[O[l]+x]+O[l]*O[l]))/(2*N-2*O[l]);
while(z<=$[l]){l--;z=(f-(c[O[l]+x]*c[O[l]+x]+O[l]*O[l]))/(2*N-2*O[l])}l++;O[l]=N;$[l]=z;$[l+1]=X}l=0;
for(var N=0;N<K;N++){while($[l+1]<N)l++;var R=O[l]-N,V=c[O[l]+x],Y=n*K+N<<1;o[Y]=R;o[Y+1]=V}}};a.style.U_=function(c,o,K){if(K)for(var Y=0;
Y<c.length;Y++){var u=c[Y];if(u>0)c[Y]=Math.max(0,Math.min(255,u+o*2*(a.style.Gz(Y)-128)))}else for(var Y=0;
Y<c.length;Y++){var u=c[Y];if(u>0)c[Y]=Math.max(0,Math.min(255,u+Math.min(u*3,o*2*(a.style.Gz(Y)-128))))}};
a.style.Gz=function(c){c=c^61^c>>16;c=c+(c<<3);c=c^c>>4;c=c*668265261;c=c^c>>15;return c&255};a.nS={};
a.nS.qT=function(c,o,K){var u=c.canvas;if(u.width!=o||u.height!=K){u.width=o;u.height=K}};a.nS.WK=function(c,o,K,u,X,$){a.nS.qT(c,o,K);
if($==null)$=!1;var O=X.channel,n=X.rect,x=!X.isEnabled;if(o*K==0)return;var l=c.createImageData(o,K),N=l.data,f=1/o,z=1/K;
for(var Y=0;Y<K;Y++)for(var R=0;R<o;R++){var V=Y*o+R,d=V*4,e=Math.round(u.x+R*f*u.m),p=Math.round(u.y+Y*z*u.e),h=0;
if(e<n.x||e>=n.x+n.m||p<n.y||p>=n.y+n.e)h=X.color;else h=O[(p-n.y)*n.m+(e-n.x)];h=255*(255-X.Hj)+h*X.Hj>>>8;
if($)h=170+Math.round(.4*(h-170));N[d]=h;N[d+1]=h;N[d+2]=h;N[d+3]=255}c.putImageData(l,0,0);if(x)a.nS.ayb(c,o,K)};
a.nS.aat=[];a.nS.a0I=function(c,o,K,u){var X,$,O;X=Math.ceil(Math.max(o,K)*.35);$=o-X;O=K-X;var n=a.nS.aat[X];
if(n==null){var x=a.kW(X,X);x.fillStyle="#eeeeee";x.fillRect(0,0,X,X);var l=Math.round(X*.27),N=x.lineWidth=Math.max(1,Math.round(X*.12)),f=N/2;
x.strokeRect(1+f,1+f,X-N-2,X-N-2);x.strokeRect(l+f,l+f,X-l-l-N,X-l-l-N);n=a.nS.aat[X]=x.getImageData(0,0,X,X)}c.putImageData(n,$,O)};
a.nS.adR=[];a.nS.aDW=function(c,o,K){var u,X,$;u=Math.ceil(Math.max(o,K)*.35);X=o-u;$=K-u;var O=a.nS.adR[u];
if(O==null){var n=a.kW(u,u);n.fillStyle="#eeeeee";n.fillRect(0,0,u,u);n.lineWidth=1;n.strokeRect(2.5,2.5,u-5,u-5);
var x=n.createImageData(3,3);a.ms(x.data,4278190080);x.data[4*4]=x.data[4*4+1]=x.data[4*4+2]=238;n.putImageData(x,1,1);
n.putImageData(x,u-4,1);n.putImageData(x,1,u-4);n.putImageData(x,u-4,u-4);O=a.nS.adR[u]=n.getImageData(0,0,u,u)}c.putImageData(O,X,$)};
a.nS.arL=function(c,o,K,u,X){a.nS.qT(c,o,K);var $=o/u.m;if(o*K==0)return;c.fillStyle="#999999";c.setTransform(1,0,0,1,0,0);
c.clearRect(0,0,o,K);var O=a.nS.TI;if(O==null)O=a.nS.TI=gH.e_.ib(!0,!0);O.strokeStyleLineWidth.v.val=1/$;
c.fillStyle="#ffffff";c.scale($,$);a.o.cU(X.$,c,0,0);a.o.cU(X.$,c,0,0,O)};a.nS.auj=null;a.nS.jO=function(c,o,K,u,X,$,O,n,x){a.nS.qT(c,o,K);
if(o*K==0)return;var l=Math.max(o,K),N=a.nS.auj;if(N==null||N.width<l||N.height<l){a.nS.auj=N=c.createImageData(l,l)}l=N.width;
var f=N.data,z=u.m/o,R=u.e/K,V=$.x,d=$.x+$.m,e=$.y,p=$.y+$.e;for(var Y=0;Y<K;Y++)for(var h=0;h<o;h++){var E=Y*l+h,q=E*4,Z=~~(u.x+h*z),v=~~(u.y+Y*R),W=a.ac8(Y,h,2);
if(Z<V||Z>=d||v<e||v>=p||x){f[q]=W;f[q+1]=W;f[q+2]=W;f[q+3]=255}else{var D=(v-$.y)*$.m+(Z-$.x)<<2,I=X[D+3]*(1/255);
f[q]=X[D+0]*I+W*(1-I);f[q+1]=X[D+1]*I+W*(1-I);f[q+2]=X[D+2]*I+W*(1-I);f[q+3]=255}}if(n!=null)for(var Y=0;
Y<f.length;Y+=4)f[Y]=f[Y+1]=f[Y+2]=f[Y+n];c.putImageData(N,0,0);if(O)a.nS.ayb(c,o,K)};a.nS.aE1=function(c,o,K,u){a.nS.qT(c,o,K);
c.fillStyle=a.nS.h0(u.Clr.v);c.fillRect(0,0,o,K);a.nS.ab(c,o,K)};a.nS.abp=null;a.nS.auD=function(c,o,K,u){a.nS.qT(c,o,K);
var X=c.canvas.width,$=c.canvas.height,O=a.nS.abp;if(O==null||O.width!=X||O.height!=$){c.fillStyle="#ffffff";
c.fillRect(0,0,o,K);c.fillStyle="#000000";c.font=""+K*.7+"px serif";c.fillText("T",(o-K*.43)/2,K*.75);
c.fillText("T",(o-K*.43)/2,K*.75);a.nS.abp=c.getImageData(0,0,X,$)}else c.putImageData(O,0,0)};a.nS.ajB=function(c,o,K){a.nS.qT(c,o,K);
c.clearRect(0,0,o,K);c.font=K*.7+"px serif";c.fillText(":(",(o-K*.43)/2,K*.7)};a.nS.aBO=function(c,o,K,u){a.nS.qT(c,o,K);
var X=j7.get(u),$=c.canvas.width,O=a.nS.ai1[$+X];if(O==null){var n=PIMG["adj/"+X],x=c5._T(n),l=UPNG.decode(x.buffer),N=new Uint8Array(UPNG.toRGBA8(l)[0]),f=new ez(0,0,160,160),z=0,R=$-z*2,V=r.W.IN([N,f],new bE(R/160,0,0,R/160,0,0)),d=new ez(0,0,$,$),e=a.R(d.P()*4);
a.a.hA("norm",V.buffer,V.rect,e,d,V.rect,1);O=a.nS.ai1[$+X]=new ImageData(new Uint8ClampedArray(e.buffer),$,$)}c.putImageData(O,0,0)};
a.nS.ai1={};a.nS.au4=function(c,o,K,u){a.nS.qT(c,o,K);var X=c.canvas.width,$=c.canvas.height,O=c.getImageData(0,0,X,$);
a.T.I3(u.Grad.v,new Uint8Array(O.data.buffer),new ez(0,0,X,$),[1/X,0,0,1/$],X/2,$/2,!1,0,16711680,65280);
c.putImageData(O,0,0);a.nS.ab(c,o,K)};a.nS.alB=function(c,o,K,u,X){a.nS.qT(c,o,K);var $=c,O=bL.rO(u.Ptrn.v,X.add.Patt);
if(O==null)return;var n=O.Y1[1];a.nS.jO(c,o,K,n,O.Y1[0],n,!1);a.nS.ab($,o,K)};a.nS.ayb=function(c,o,K){c.strokeStyle="#bb0000";
c.lineWidth=3;c.beginPath();c.moveTo(o*.15,K*.15);c.lineTo(o*.85,K*.85);c.moveTo(o*.85,K*.15);c.lineTo(o*.15,K*.85);
c.closePath();c.stroke()};a.nS.ab=function(c,o,K){c.fillStyle="#eeeeee";c.fillRect(0,K*.75,o,K*.25);
c.beginPath();c.moveTo(0,K*.75);c.lineTo(o,K*.75);c.moveTo(o*.1,K*.875);c.lineTo(o*.9,K*.875);c.moveTo(o*.65,K*.825);
c.lineTo(o*.65,K*.95);c.closePath();c.stroke()};a.nS.h0=function(c){var o=a.T.h0(c),K=Math.round(o.Z)<<16|Math.round(o.r)<<8|Math.round(o.J);
return"#"+a.On(K)};a.o={};a.o.K5=function(c,o,K){var u=[],X=-1;for(var Y=0;Y<c.length;Y++){var $=c[Y];
if(($.type==0||$.type==3)&&$.cS!=-1)X++;if($.type>5||$.type==0||$.type==3)continue;if(o!=null&&o.indexOf(X)==-1)continue;
if(K!=null&&K.indexOf(Y)==-1)continue;u.push($.mL.x);u.push($.mL.y);u.push($.L.x);u.push($.L.y);u.push($.oC.x);
u.push($.oC.y)}return u};a.o.wz=function(c,o,K,u){var X=0,$=-1;for(var Y=0;Y<o.length;Y++){var O=o[Y];
if((O.type==0||O.type==3)&&O.cS!=-1)$++;if(O.type>5||O.type==0||O.type==3)continue;if(K!=null&&K.indexOf($)==-1)continue;
if(u!=null&&u.indexOf(Y)==-1)continue;O.mL.Q7(c[X],c[X+1]);O.L.Q7(c[X+2],c[X+3]);O.oC.Q7(c[X+4],c[X+5]);
X+=6}};a.o.Ik=function(c,o,K,u){var X=a.o.K5(c,K,u);a.A.i(X,o,X);a.o.wz(X,c,K,u)};a.o.atf=function(c,o,K,u){var X=a.o.K5(c,K,u);
a.D.i(o,X);a.o.wz(X,c,K,u)};a.o.arO=function(c,o,K,u){if(u==null){var X=a.o.acM(c,40,K);for(var Y=0;
Y<X.length;Y++)c[Y]=X[Y]}var $=a.o.K5(c,K,u);a.ul.i(o,$,a.A.jl($));a.o.wz($,c,K,u)};a.o.acM=function(c,o,K){var u=[],X=-1;
for(var Y=0;Y<c.length;Y++){var $=c[Y],O=$.length;if($.type>5){u.push(JSON.parse(JSON.stringify($)));
continue}$=JSON.parse(JSON.stringify($));u.push($);if($.cS!=-1)X++;if(K&&K.indexOf(X)==-1){u=u.concat(c.slice(Y+1,Y+1+O))}else{var n=a.o.avn(c,Y+1,O);
n=a.A.v3(n,o);var x=a.o.agy(n);$.length=x.length;for(var l=0;l<x.length;l++)u.push(x[l])}Y+=O}return u};
a.o.avn=function(c,o,K){var u={G:["M"],j:[]},X=c[o],$=c[o+K-1];u.j.push(X.L.x,X.L.y);for(var Y=1;Y<K;
Y++){var O=c[o+Y-1],n=c[o+Y];u.G.push("C");u.j.push(O.oC.x,O.oC.y,n.mL.x,n.mL.y,n.L.x,n.L.y)}u.G.push("C");
u.j.push($.oC.x,$.oC.y,X.mL.x,X.mL.y,X.L.x,X.L.y);return u};a.o.agy=function(c){var o=[],K=c.G,u=c.j,X=0,cv=u.length;
o.push({type:2,mL:new kn(u[cv-4],u[cv-3]),L:new kn(u[0],u[1]),oC:new kn(u[2],u[3])});for(var Y=0;Y<K.length-2;
Y++){var $=Y*6+4;o.push({type:2,mL:new kn(u[$],u[$+1]),L:new kn(u[$+2],u[$+3]),oC:new kn(u[$+4],u[$+5])})}return o};
a.o.a5j=function(c){for(var Y=0;Y<c.length;Y++){if(c[Y].type>5)continue;var o=c[Y].length;if(!(o==4||o==6||o==8)){Y+=o;
continue}for(var K=0;K<o;K++){var u=c[Y+1+K],X=c[Y+1+(K+1)%o],$=Math.min(u.L.x,X.L.x),O=Math.min(u.L.y,X.L.y),n=0,x=0;
if(u.L.x<X.L.x){n=u.L.y-O;x=n-(X.L.x-$)}else{n=X.L.y-O;x=n-(u.L.x-$)}if(Math.abs(x)<.2*n)return n}}return-1};
a.o.$$=function(c,o,K){function u(z,R){var V=Math.min(z.x,R.x),d=Math.min(z.y,R.y),e=Math.max(z.x+z.m,R.x+R.m),p=Math.max(z.y+z.e,R.y+R.e);
return new ez(V,d,e-V,p-d)}var X=null,$=-1,O=!a.o.Mq(c);for(var Y=0;Y<c.length;Y++){var n=c[Y];if(n.type>5)continue;
if((n.type==0||n.type==3)&&n.cS!=-1)$++;if(o!=null&&o.indexOf($)==-1)continue;if(Y==c.length-1)break;
var x=n.type==3,l=n.length,N=n.cS,f=a.o.ek(c,Y+1,l,x);if(X==null)X=f;else if(K)X=u(X,f);else if(O){if(o!=null||N==0||N==-1||N==2)X=u(X,f);
else if(N==1)X=X;else if(N==3){X=f;O=!1}}else{if(o!=null||N==0||N==-1||N==1)X=u(X,f);else if(N==2)X=X;
else if(N==3)X=X.ar(f)}Y+=l}if(X==null||X.m<0||X.e<0)X=new ez(0,0,0,0);return X};a.o.ajd=new Float64Array(4);
a.o.ek=function(c,Y,o,K){var u=a.o.ajd;u[0]=1e30;u[1]=1e30;u[2]=-1e30;u[3]=-1e30;var X=c[Y+o-1];if(!K)a.o.a1F(X.L.x,X.L.y,X.oC.x,X.oC.y,c[Y].mL.x,c[Y].mL.y,c[Y].L.x,c[Y].L.y,u);
for(var $=Y;$<Y+o-1;$++){var O=c[$],n=c[$+1];a.o.a1F(O.L.x,O.L.y,O.oC.x,O.oC.y,n.mL.x,n.mL.y,n.L.x,n.L.y,u)}return new ez(u[0],u[1],u[2]-u[0],u[3]-u[1])};
a.o.a1F=function(c,o,K,u,X,$,O,n,x){if(c==K&&o==u&&X==O&&$==n){x[0]=Math.min(x[0],Math.min(c,O));x[1]=Math.min(x[1],Math.min(o,n));
x[2]=Math.max(x[2],Math.max(c,O));x[3]=Math.max(x[3],Math.max(o,n));return}var l=c,N=o,f=c,z=o,R=40,V=1/(R-1);
for(var d=0;d<R;d++){var e=d*V,p=1-e,h=p*p*p,E=3*p*p*e,q=3*p*e*e,Z=e*e*e,v=h*c+E*K+q*X+Z*O,W=h*o+E*u+q*$+Z*n;
if(v<l)l=v;else if(v>f)f=v;if(W<N)N=W;else if(W>z)z=W}if(l<x[0])x[0]=l;if(N<x[1])x[1]=N;if(f>x[2])x[2]=f;
if(z>x[3])x[3]=z};a.o.ank=function(c,o){var K=c.length-3,u=o%K,X=Math.floor(u);if(o<0||X>=K)return null;
var $=c[3+X],O=c[3+(X+1)%K],n=$.L,x=$.oC,l=O.mL,N=O.L,f=u-X,z=1-f,R=z*z*z*n.x+3*z*z*f*x.x+3*z*f*f*l.x+f*f*f*N.x,V=z*z*z*n.y+3*z*z*f*x.y+3*z*f*f*l.y+f*f*f*N.y;
return new kn(R,V)};a.o.kt=function(c,o){var K=a.A.gy(c),u=K.Ad;K.Ad=Typr.U.pathToSVG({crds:u.j,cmds:u.G},o==null?2:o);
return K};a.o.R7=function(c){a.o.Pz();var o,K=a.o.WG(c),u=[];for(var Y=0;Y<K.length;Y++){var X=K[Y][0],$=K[Y][1];
if(Math.abs(X.area)<1e-5)u.push(X);else if(o==null)o=X;else{if(!X.closed)X.closed=!0;o=o[$](X);o.remove()}}if(o==null)o=new paper.CompoundPath(u);
else{if(o.segments)o=new paper.CompoundPath(o);for(var Y=0;Y<u.length;Y++){o.addChild(u[Y])}}var O=c.slice(0,2);
O=O.concat(a.o.mO(o));a.o.Gp(K);a.o.Gp([[o]]);if(O[2])O[2].cS=1;for(var Y=3;Y<O.length;Y++)if(O[Y].cS!=null)O[Y].cS=-1;
return O};a.o.Pz=function(){if(a.o.a88==null){var c=document.createElement("canvas");paper.setup(c);
a.o.a88=!0}};a.o.a6Q=function(c,o){a.o.Pz();var K=[],u=a.o.WG(c),X=new paper.Path.Rectangle(new paper.Rectangle(o.x,o.y,o.m,o.e));
X.remove();X.fillColor=new paper.Color(1,0,0);for(var Y=0;Y<u.length;Y++){if(X.intersects(u[Y][0])||X.contains(u[Y][0].children[0].segments[0].point))K.push(Y)}a.o.Gp(u);
return K};a.o.cQ=function(c,o,K,u){a.o.Pz();var X=K?{curves:!0,tolerance:u}:null,$=new paper.Point(o.x,o.y),O=a.o.WG(c);
a.o.Gp(O);for(var Y=O.length-1;Y>=0;Y--){var n=O[Y][0],x=n.hitTest($,X);if(x!=null)return{wM:Y,kB:K?x.location.index:null,RT:K?x.location.time:0}}return{wM:-1}};
a.o.TM=function(c,o,K,u){var X=[[],[],[]];for(var Y=0;Y<c.length;Y++){var $=c[Y];if($.type>5||$.type==0||$.type==3)continue;
var O=o.Y3($.L),n=o.Y3($.mL),x=o.Y3($.oC);if(K&&K.indexOf(Y)==-1){if(u){if(K.indexOf(Y-1)==-1)n=!1;if(K.indexOf(Y+1)==-1)x=!1}else n=x=!1}if(O)X[0].push(Y);
if(n)X[1].push(Y);if(x)X[2].push(Y)}X[3]=X[0].length+X[1].length+X[2].length;return X};a.o.auT=function(c,o,K){var u=c[o];
for(var X=o+1;X<K;X++)c[X-1]=c[X];c[K-1]=u};a.o.ap1=function(c,o,K,u){var Y,X,$,O=0;c=c.slice(0);o.sort(function(V,d){return V-d});
$=-1;for(Y=2;Y<c.length;){var n=c[Y],x=n.length;if(n.cS!=-1)$++;var l=O;while(l<o.length&&o[l]<Y+1+x)l++;
if(O!=l){var N=o.slice(O,l);O=l;for(X=0;X<x;X++)if(N.indexOf(Y+1+X)!=-1)c[Y+1+X]=null;if(n.type==0){var f=N[0]-(Y+1);
while(f!=0){a.o.auT(c,Y+1,Y+1+x);f--}}var z=n;z.length=0;X=0;while(X<x&&c[Y+1+X]==null)X++;while(X<x){var R=c[Y+1+X];
if(R!=null)z.length++;else if(X<x+1&&c[Y+1+X+1]&&u){z=c[Y+1+X]={type:0,cS:-1,length:0,tr:0,op:0,fl:1}}X++}if(u)for(X=-1;
X<x;X++)if(c[Y+1+X]&&c[Y+1+X].type<3)c[Y+1+X].type+=3;a.O9.ug(K,$)}Y+=1+x}for(Y=0;Y<c.length;Y++)if(c[Y]==null){c.splice(Y,1);
Y--}$=0;for(Y=2;Y<c.length;Y++){var n=c[Y];if(n.length==0){if(c[Y+1]&&c[Y+1].cS==-1)c[Y+1].cS=n.cS;else if(n.cS!=-1)K.splice($,1);
c.splice(Y,1);Y--}else if(n.length!=null&&n.cS!=-1)$++}return c};a.o.a0i=function(c,o){var K=c.slice(0,2),u=-1;
for(var Y=2;Y<c.length;Y++){if((c[Y].type==0||c[Y].type==3)&&c[Y].cS!=-1)u++;if(o.indexOf(u)==-1)K.push(c[Y])}return K};
a.o.aCQ=function(c,o){var K=c.slice(0,2),u=-1;for(var Y=2;Y<c.length;Y++){if((c[Y].type==0||c[Y].type==3)&&c[Y].cS!=-1)u++;
if(o.indexOf(u)!=-1)K.push(c[Y])}return K};a.o.afX=function(c){var o=0;for(var Y=0;Y<c.length;Y++)if(c[Y].type==0||c[Y].type==3)o=Y;
return c[o]};a.o.mn=function(c){var o=-1;for(var Y=0;Y<c.length;Y++)if((c[Y].type==0||c[Y].type==3)&&c[Y].cS!=-1)o++;
return o+1};a.o.uM=function(c,o,K){var u=-1;for(var Y=0;Y<c.length;Y++)if((c[Y].type==0||c[Y].type==3)&&(K||c[Y].cS!=-1)){u++;
if(u==o)return Y}return-1};a.o.TT=function(c,o,K){var u=-1;for(var Y=0;Y<c.length;Y++)if((c[Y].type==0||c[Y].type==3)&&(K||c[Y].cS!=-1)){if(Y>=o)return u;
u++}return u};a.o.ri=function(c,o){var K=-1,u=0;for(var Y=0;Y<c.length;Y++){if((c[Y].type==0||c[Y].type==3)&&c[Y].cS!=-1)K++;
if(K==o)u++}return u};a.o.a66=function(c){var o=180;for(var Y=0;Y<c.length;Y++){if(c[Y].type!=0&&c[Y].type!=3)continue;
var K=c[Y].length;if(K<3)continue;for(var u=0;u<K;u++){var X=c[Y+1+(u-1+K)%K],$=c[Y+1+u],O=c[Y+1+(u+1)%K],n=$.L,x=$.mL.Ug(n)?X.oC:$.mL,l=$.oC.Ug(n)?O.mL:$.oC;
if(n.Ug(x)||n.Ug(l))continue;var N=x.x-n.x,f=x.y-n.y,z=l.x-n.x,R=l.y-n.y,x=Math.atan2(x.y-n.y,x.x-n.x)*180/Math.PI,l=Math.atan2(l.y-n.y,l.x-n.x)*180/Math.PI,V=Math.abs(l-x)%360,d=V>180?360-V:V;
if(d<o)o=d}}return o*Math.PI/180};a.o.mO=function(c){var o=c.segments?[c]:c.children,K=[];for(var Y=0;
Y<o.length;Y++){var u=o[Y],X=u.segments,$=u.closed?0:3,O=K.length,n=null;if(X.length<=1)continue;K.push({type:$,length:X.length,cS:0,fl:2});
for(var x=0;x<X.length;x++){var l=X[x],N=new kn(l.handleIn.x,l.handleIn.y),f=new kn(l.handleOut.x,l.handleOut.y),z=new kn(l.point.x,l.point.y),R={type:$+1,mL:z.add(N),L:z,oC:z.add(f)};
if(n==null)n=R;K.push(R);if(x+1==X.length&&kn.je(n.L,R.L)<1e-5){K.pop();K[O].length--;n.mL=R.mL;if($==3)for(var V=O;
V<K.length;V++)K[V].type-=3}}}return K};a.o.WG=function(c){a.o.Pz();var o=[],K,u=new paper.Color(1,0,0);
function X(R,n){R.remove();R.closed=!n;R.fillRule="evenodd"}for(var Y=0;Y<c.length;Y++){if(c[Y].type>5)continue;
var $=c[Y].length,O;if(Y==c.length-1)break;var n=c[Y].type==3;if(Y==2){if(!a.o.zQ(c))O="subtract";else O="unite"}else{if(c[Y].cS==0)O="exclude";
if(c[Y].cS==1)O="unite";if(c[Y].cS==2)O="subtract";if(c[Y].cS==3)O="intersect"}if(c[Y].cS!=-1){K=new paper.CompoundPath;
o.push([K,O]);K.fillRule="evenodd";K.fillColor=u}var x=[];for(var l=0;l<$;l++){var N=c[Y+1+l],f=N.mL.wv(N.L),z=N.oC.wv(N.L);
x.push([[N.L.x,N.L.y],[f.x,f.y],[z.x,z.y]])}var R=new paper.Path(x);X(R,n);K.addChild(R);Y+=$}return o};
a.o.Gp=function(c){for(var Y=0;Y<c.length;Y++)c[Y][0].remove()};a.o.tS=function(c){for(var Y=0;Y<c.length;
Y++){var o=c[Y];if(o.L==null)continue;if(!o.L.Ug(o.mL)||!o.L.Ug(o.oC))return!1}return!0};a.o.ac9=function(c){if(c.length<=5)return 0;
var o=0,K=c.length-3-1;for(var Y=0;Y<K;Y++){var u=c[3+Y],X=c[3+Y+1];if(u.type==0||X.type==0)return 0;
o+=(X.L.x-u.L.x)*(u.L.y+X.L.y)}o+=(c[3].L.x-c[3+K].L.x)*(c[3+K].L.y+c[3+1].L.y);return-o*.5};a.o.Mq=function(c){var o=c[2],K=!1;
if(c.length==2)K=c[1].all==0;else if(c[1].all==1){if(o.cS==1||o.cS==3)K=!0;else K=!1}else{if(o.cS==1||o.cS==3||o.cS==0)K=!0;
else K=!1}return K};a.o.zQ=function(c){var o=a.o.Mq(c);for(var Y=3;Y<c.length;Y++)if(c[Y].cS==3)o=!0;
return o};a.o.a45=0;a.o.as_=0;a.o.aev=0;a.o.avm=function(c,o,K,u){if(K.SR())return;var X=K.P(),p=16384;
a.o.a45+=X;if(X>a.o.as_){a.o.as_=X}var $=K.m,O=K.e;if(u==null&&a.o.tS(c)&&c[2]&&c[2].cS!=2){var n=!0;
for(var Y=2;Y<c.length;)if(c[Y].length==2)Y+=3;else{n=!1;break}if(n){return}if(a.o.H$(c)){o.fill(255);
var x=a.o.$$(c);if(x.P()!=X){var l=1-(x.x-K.x),N=1-(x.y-K.y),f=1-(K.x+K.m-(x.x+x.m)),z=1-(K.y+K.e-(x.y+x.e)),R=~~(l*255),V=~~(f*255),d=~~(N*255),e=~~(z*255);
o.fill(d,0,$);o[0]=~~(l*N*255);o[$-1]=~~(f*N*255);for(var Y=$;Y<X;Y+=$){o[Y]=R;o[Y+$-1]=V}o.fill(e,(O-1)*$,O*$);
o[X-$]=~~(l*z*255);o[X-1]=~~(f*z*255)}return}}var h=Math.ceil($/p),E=Math.ceil(O/p),q=Math.ceil($/h),Z=Math.ceil(O/E),v=Date.now();
for(var W=0;W<E;W++)for(var D=0;D<h;D++){var I=D*q,A=W*Z,U=q,w=Z,t=a.kW(U,w);if(!a.o.Mq(c))t.fillRect(0,0,U,w);
a.o.cU(c,t,-K.x-I,-K.y-A,u);var L=new Uint8Array(t.getImageData(0,0,U,w).data.buffer);if(U==$&&w==O)a.Sw(L,o,3);
else a.wP(L,new ez(I,A,U,w),o,new ez(0,0,$,O))}};a.o.axx=function(c){var o=!1,K=!1,u=0,X=!1;for(var Y=0;
Y<c.length;Y++){var $=c[Y].cS;if($!=null){u++;if($==-1)o=!0;if($==1||$==2||$==3)K=!0;if(c[Y].type==0)X=!0}}if(!o&&u<20&&X&&K)c=a.o.R7(c);
return c};a.o.cU=function(c,o,K,u,X,$){if(X!=null){c=a.o.axx(c)}for(var Y=0;Y<c.length;Y++){if(c[Y].type>5)continue;
var O=c[Y].length;if(O==0)continue;if(Y==c.length-1)break;var n=c[Y].type==3,x=c[Y].cS;if(x!=-1&&X==null){var l=["xor","source-over","destination-out","source-in"][x];
o.globalCompositeOperation=l}if(c[Y].cS!=-1){o.beginPath();if(X)a.o.cx(gH.e_.f_(X,null,1),o)}a.o.akx(o,c,Y+1,O,K,u,n);
if(n){}else o.closePath();if(c[Y+1+O]==null||c[Y+1+O].cS!=-1){if(X){if($)o.clip();o.stroke()}else o.fill(x==-1?"nonzero":"evenodd")}Y+=O}o.globalCompositeOperation="source-over";
o.setLineDash([])};a.o.cx=function(c,o){var K=c.lwidth;o.setLineDash(c.dash);o.lineCap=["butt","round","square"][c.lcap];
o.lineJoin=["miter","round","bevel"][c.ljoin];o.lineWidth=c.sal==1?K:K*2;o.miterLimit=c.mlimit};a.o.akx=function(c,o,Y,K,u,X,$){var O=o[Y],n=null;
c.moveTo(O.L.x+u,O.L.y+X);for(var x=Y;x<Y+K-1;x++){O=o[x];n=o[x+1];c.bezierCurveTo(O.oC.x+u,O.oC.y+X,n.mL.x+u,n.mL.y+X,n.L.x+u,n.L.y+X)}if(!$){O=o[x];
n=o[Y];c.bezierCurveTo(O.oC.x+u,O.oC.y+X,n.mL.x+u,n.mL.y+X,n.L.x+u,n.L.y+X)}};a.o.a37=function(c,o){var K=[],u=o?4:1;
for(var Y=0;Y<c.length;Y+=2){var X=new kn(c[Y],c[Y+1]);K.push({type:u,mL:X.clone(),L:X.clone(),oC:X.clone()})}return K};
a.o.ahz=function(c,o,K){var u=(1-(K!=null?K:25)*.01)*10;if(u>0){for(var Y=0;Y<o.length;Y++){var X=o[Y],$=a.o.uM(c,X),O=a.o.ri(c,X),n=c.slice($,$+O);
a.o.Pz();var x=new paper.Path;x.remove();x.closed=!0;for(var l=1;l<n.length;l++)x.add(new paper.Point(n[l].L.x,n[l].L.y));
var N=x.simplify(u);if(N)c.splice($,O,...a.o.mO(x))}}return c};a.o.RQ=function(c,o,K){var u=a.A.jl(c),X=Math.sqrt(Math.sqrt(u.P()))*.2,$=.2;
c=c.slice(0);var O=c.length,n=o?0:2;for(var x=0;x<5;x++)for(var Y=n;Y<c.length-n;Y+=2){var l=(Y-2+O)%O,N=(Y+2)%O,f=c[Y],z=c[Y+1],R=(c[l]+c[N])*.5,V=(c[l+1]+c[N+1])*.5;
c[Y]=f+(R-f)*$;c[Y+1]=z+(V-z)*$}if(K)return a.o.YP.p2(c,null,!o);a.o.Pz();var d=new paper.Path;d.remove();
d.closed=o;for(var Y=0;Y<c.length;Y+=2)d.add(new paper.Point(c[Y],c[Y+1]));d.simplify(X);var e=[{type:6},{type:8,all:0}];
e=e.concat(a.o.mO(d));return e};a.o.LN=function(c,o,K){var u=c[o].length,X=c[o].type,$=0,O=c.slice(o+1,o+1+u);
for(var Y=0;Y<u;Y++){var n=K[(Y-1+u)%u],x=K[(Y+1+u)%u],l=K[Y];if(l!=0){var N=O[(Y-1+u)%u].L,f=O[(Y+0+u)%u].L,z=O[(Y+1+u)%u].L,R=kn.je(f,N),V=kn.je(f,z),d=a.A.a0X(N.x,N.y,f.x,f.y,z.x,z.y,l)[0],e=Math.min(d,n==0?R:R/2,x==0?V:V/2);
l*=e/d;var p=a.A.a9q(N.x,N.y,f.x,f.y,z.x,z.y,l),h={type:X+1,mL:new kn(p[2],p[3]),L:new kn(p[2],p[3]),oC:new kn(p[4],p[5])},E={type:X+1,mL:new kn(p[6],p[7]),L:new kn(p[8],p[9]),oC:new kn(p[8],p[9])};
c.splice(o+$+1,1,h,E);$++;c[o].length++}$++}};a.o.tS=function(c){for(var Y=0;Y<c.length;Y++){var o=c[Y],K=o.type;
if(K==1||K==2||K==4||K==5)if(!o.L.Ug(o.mL)||!o.L.Ug(o.oC))return!1}return!0};a.o.H$=function(c){if(c.length!=7||c[2].length!=4||!a.o.tS(c))return!1;
for(var Y=0;Y<4;Y++){var o=!0;for(var K=0;K<4;K++){var u=c[3+(Y+K&3)],X=c[3+(Y+K+1&3)];if(u.L.x!=X.L.x&&u.L.y!=X.L.y)o=!1}if(o)return!0}return!1};
a.o.aoe=function(c){if(c.length<6)return 0;var o=c.length-2,K=0;for(var Y=0;Y<o;Y+=2)K+=(c[Y+2]-c[Y])*(c[Y+1]+c[Y+3]);
K+=(c[0]-c[o])*(c[o+1]+c[1]);return-K*.5};a.o.a9d=function(c){c=gU.JA.qA(c);var o=a.o.mn(c);for(var K=0;
K<o;K++){var u=a.o.uM(c,K)+1,X=c[u-1].length,$=[];for(var Y=0;Y<X;Y++){var O=c[u+Y].L;$.push(O.x,O.y)}var n=a.o.aoe($);
if(n<0)a.o.aAW(c,u-1)}return c};a.o.aAW=function(c,o){var K=o+1,u=c[o].length,X=[];for(var Y=0;Y<u;Y++){var $=c[K+Y],O=$.mL;
$.mL=$.oC;$.oC=O;X.push($)}for(var Y=0;Y<u;Y++)c[K+Y]=X[u-1-Y]};a.o.YP={};a.o.YP.p2=function(c,o,K){var u=[{type:6},{type:8,all:0}],X=null;
u.push({type:K?3:0,cS:1,length:0,tr:0,op:0,fl:1});if(o==0||o==null)X=null;else if(o instanceof Array)X=o;
else{X=[];for(var Y=0;Y<c.length;Y+=2)X.push(o)}u=u.concat(a.o.a37(c,K));u[2].length=u.length-3;if(X)a.o.LN(u,2,X);
return u};a.o.YP.amV=function(c,o,K,u,X){var $=[],O=[],n=.553,x=1,l=-1;$.push({type:1,mL:new kn(0,n),L:new kn(0,0),oC:new kn(0,-n)});
X+=2;for(var Y=0;Y<X;Y++){var N={type:1};if(Y==0){N.L=new kn(1,-1);N.mL=new kn(1-n,-1);N.oC=new kn(1+n,-1)}else{var f=-(Y+2)*Math.PI/2,z=1+((Y&1)==1?Y-1:Y),R=Math.sin(f),V=Math.cos(f);
x+=z*(R-V);l+=z*(V+R);N.L=new kn(x,l);N.mL=new kn(x+z*V*n,l-z*R*n);if((Y&1)==1)z+=2;N.oC=new kn(x-z*V*n,l+z*R*n)}var d={type:1,mL:new kn(-N.oC.x,-N.oC.y),L:new kn(-N.L.x,-N.L.y),oC:new kn(-N.mL.x,-N.mL.y)};
$.push(N);if(Y<X-2)O.push(d)}O.reverse();$=$.concat(O);var e=[{type:6},{type:8,all:0}];e.push({type:0,cS:1,length:$.length,tr:0,op:0,fl:1});
e=e.concat($);var p=new bE(K/X,0,0,K/X,0,0);p.rotate(u);p.translate(c,o);a.o.Ik(e,p);return e};a.o.YP.Rect=function(c,o,K,u,X){var $=[c,o,c+K,o,c+K,o+u,c,o+u];
return a.o.YP.p2($,X)};a.o.YP.Hr=function(c,o,K,u,X,$,O,n){var x=[],l=2*Math.PI/X;for(var Y=0;Y<X;Y++)x.push(Math.cos(Y*l-u),Math.sin(Y*l-u));
if(O!=null){var N=a.A.jl(x),f=N.m,z=N.e,R=O/(f/2),V=n/(z/2);for(var Y=0;Y<x.length;Y+=2){x[Y]=(x[Y]-(N.x+f/2))*R;
x[Y+1]=(x[Y+1]-(N.y+z/2))*V}K=1}var d=new bE(K,0,0,K,0,0);d.translate(c,o);a.A.i(x,d,x);return a.o.YP.p2(x,$)};
a.o.YP.aiK=function(c,o,K,u,X,$,O){var n=[],x=Math.PI/X;for(var Y=0;Y<X*2;Y++){var l=(Y&1)==0?1:O;n.push(l*Math.cos(Y*x),l*Math.sin(Y*x))}var N=new bE(K,0,0,K,0,0);
N.rotate(u);N.translate(c,o);a.A.i(n,N,n);return a.o.YP.p2(n,$)};a.o.YP.YV=function(c,o,K,u,X){return a.o.YP.Xh(0,c,o,K,u,X)};
a.o.YP.aCT=function(c,o,K,u,X,$){return a.o.YP.Xh(1,c,o,K,u,X,$)};a.o.YP.$r=function(c,o,K,u,X,$){return a.o.YP.Xh(2,c,o,K,u,X,$)};
a.o.YP.Xh=function(c,o,K,u,X,$,O){var n=Math.sqrt((u-o)*(u-o)+(X-K)*(X-K)),x;$/=2;if(c==0)x=[-$,0,$,0,$,n,-$,n];
if(c==1){var l=$*2*O*1.3/1.5,N=$*O;x=[-$,0,$,0,$,n-l,N,n-l,0,n,-N,n-l,-$,n-l]}if(c==2){var l=O[3],N=O[2]/2,f=l*(2/3)*O[4]/100,z=l-f,R=l;
x=[];if(O[0])x.push(-$,z,-N,R,0,0,N,R,$,z);else x.push(-$,0,$,0);if(O[1])x.push($,n-z,N,n-R,0,n,-N,n-R,-$,n-z);
else x.push($,n,-$,n)}var V=new bE(1,0,0,1,0,0);V.rotate(Math.atan2(-X+K,u-o)+Math.PI/2);V.translate(o,K);
a.A.i(x,V,x);return a.o.YP.p2(x,0)};a.o.YP.AT=function(c,o,K,u){var X=[{type:6},{type:8,all:0}],f=.553;
X.push({type:0,cS:1,length:4,tr:0,op:0,fl:1});var $=c,O=o,n=c+K,x=o+u,c=($+n)/2,o=(O+x)/2,l=($-n)/2,N=(O-x)/2;
X.push({type:1,mL:new kn(c-f*l,o-N),L:new kn(c,o-N),oC:new kn(c+f*l,o-N)});X.push({type:1,mL:new kn(c+l,o-f*N),L:new kn(c+l,o),oC:new kn(c+l,o+f*N)});
X.push({type:1,mL:new kn(c+f*l,o+N),L:new kn(c,o+N),oC:new kn(c-f*l,o+N)});X.push({type:1,mL:new kn(c-l,o+f*N),L:new kn(c-l,o),oC:new kn(c-l,o-f*N)});
return X};a.o.YP.ah_=function(c,o,K,u,X){var $=[{type:6},{type:8,all:0}];$.push({type:3,cS:1,length:5,tr:0,op:0,fl:1});
var O=(X-u)/4;for(var Y=0;Y<5;Y++){var n=Y*O,x=Math.cos(n),l=Math.sin(n),N=.553*(O/(Math.PI/2)),f=l*N,z=-x*N,R=new kn(x,l);
$.push({type:4,mL:Y==0?R.clone():new kn(x+f,l+z),L:R,oC:Y==4?R.clone():new kn(x-f,l-z)})}var V=new bE;
V.rotate(-u);V.scale(K,K);V.translate(c,o);a.o.Ik($,V);return $};a.Pw={};a.Pw.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
a.Pw.a14={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
a.Pw.ex=function(c){var o=c.warpStyle.v.warpStyle;if(o=="warpNone")return!0;else if(o=="warpCylinder")return!1;
else if(o=="warpCustom"){var K=!1,u=a.Pw.axF(c);for(var Y=0;Y<4;Y++)for(var X=0;X<4;X++){var $=u[Y*2]-u[(X*4+Y)*2],O=u[Y*4*2+1]-u[(Y*4+X)*2+1];
if($*$>1||O*O>1)K=!0}return!K}else return c.warpValue.v==0&&c.warpPerspective.v==0&&c.warpPerspectiveOther.v==0};
a.Pw.aaA=function(c){var o=JSON.parse(JSON.stringify(c));o.v.classID="quiltWarp";o.v.deformNumRows={t:"long",v:4};
o.v.deformNumCols={t:"long",v:4};if(o.v.customEnvelopeWarp)a.Pw.alj(o.v,[[0,1],[0,1]]);return o};a.Pw.afo=function(c){var o;
if(a.Pw.vl(c.v)==16)o=JSON.parse(JSON.stringify(c));else o={t:"Objc",v:a.Pw.R(a.Pw.G5(c.v))};o.v.classID="warp";
delete o.v.deformNumRows;delete o.v.deformNumCols;var K=o.v.customEnvelopeWarp;if(K){delete K.v.quiltSliceX;
delete K.v.quiltSliceY}return o};a.Pw.vl=function(c){return c.deformNumRows.v*c.deformNumCols.v};a.Pw.R=function(c){var o={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(c){o.classID="quiltWarp";o.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:c.y}},Left:{t:"UntF",v:{type:"#Pxl",val:c.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:c.y+c.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:c.x+c.m}}}};
o.uOrder={t:"long",v:4};o.vOrder={t:"long",v:4};o.deformNumRows={t:"long",v:4};o.deformNumCols={t:"long",v:4}}return o};
a.Pw.apX=function(c,o,K){for(var Y=0;Y<c.length;Y+=2){var u=c[Y],X=c[Y+1],$=(1-o)/2,O=1-$,n=$+u*(O-$);
X=.5+(X-.5)*n*2;var x=(1-K)/2,l=1-x,N=x+X*(l-x);u=.5+(u-.5)*N*2;c[Y]=u;c[Y+1]=X}};a.Pw.Dh=function(c,o){return{id:c,type:"UnFl",uID:"#Pxl",arr:o}};
a.Pw.alj=function(c,o){var K=a.Pw.G5(c);function u($,O){$=$.slice(0);var n=$.length,Y;for(Y=0;Y<n;Y++)$[Y]*=O;
$[0]-=.6;$[n-1]+=.6;return $}var X=c.customEnvelopeWarp.v;X.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[a.Pw.Dh("quiltSliceX",u(o[0],K.m))]}};
X.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[a.Pw.Dh("quiltSliceY",u(o[1],K.e))]}}};a.Pw.avh=function(c){var o=a.Pw.G5(c);
function K(O,n){O=O.slice(0);var $=O.length,Y,x=1e9,l=-x;for(Y=0;Y<$;Y++){if(O[Y]<x)x=O[Y];if(O[Y]>l)l=O[Y]}for(Y=0;
Y<$;Y++)O[Y]=(O[Y]-x)/(l-x);O[0]=0;O[$-1]=1;return O}var u=c.customEnvelopeWarp.v,X=[],$=["X","Y"];for(var Y=0;
Y<2;Y++)X.push(K(u["quiltSlice"+(Y==0?"X":"Y")].v.arr[0].arr.slice(0),Y==0?o.m:o.e));return X};a.Pw.aiM=function(c,o){var K=[],u=[];
for(var Y=0;Y<o.length;Y+=2){K.push(o[Y]);u.push(o[Y+1])}c.customEnvelopeWarp.v.meshPoints.v.arr=[a.Pw.Dh("Hrzn",K),a.Pw.Dh("Vrtc",u)]};
a.Pw.axF=function(c){var o=[],K=c.customEnvelopeWarp.v.meshPoints.v.arr,u=K[0].arr,X=K[1].arr;for(var Y=0;
Y<u.length;Y++)o.push(u[Y],X[Y]);return o};a.Pw.N1=function(c,o){var K,u=c.warpStyle.v.warpStyle;if(u=="warpCustom")K=[c.deformNumCols.v,c.deformNumRows.v,a.Pw.avh(c),a.Pw.axF(c)];
else{if(o==null)o=a.Pw.G5(c);if(o.SR())o.m=o.e=1;if(u=="warpCylinder"){var X=r.W.sS(c.warpValues);K=a.Pw.Pw(u,X)}else{var $="warpPerspective";
K=a.Pw.Pw(u,c.warpValue.v/100,c.warpRotate.v.Ornt=="Hrzn",c[$].v/100,c[$+"Other"].v/100,o.m/o.e)}a.Pw.aiq(K[3],o)}return K};
a.Pw.aiq=function(c,o){for(var Y=0;Y<c.length;Y+=2){c[Y]=o.x+c[Y]*o.m;c[Y+1]=o.y+c[Y+1]*o.e}};a.Pw.ahs=function(c){var o=Math.sin(c*Math.PI/2),K=Math.pow(c,1/3.5),u=(1-c)*o+c*K;
u=Math.pow(u,1.045);var X=.1725+.0573*u,$=1-(.96*o+.04*K);$=Math.pow($,1.27);var O=1/129+(.167684-1/129)*$;
return[X,O]};a.Pw.ay=function(c,o){c.warpStyle.v.warpStyle="warpCustom";c.deformNumCols.v=o[0];c.deformNumRows.v=o[1];
var K="customEnvelopeWarp";if(c[K]==null)c[K]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
a.Pw.alj(c,o[2]);a.Pw.aiM(c,o[3])};a.Pw.G5=function(c){var o=c.bounds.v,K=o.Left.v.val,u=o.Rght.v.val,X=o.Top.v.val,$=o.Btom.v.val;
if(K==null){K=o.Left.v,u=o.Rght.v;X=o.Top.v,$=o.Btom.v}return new ez(K,X,u-K,$-X)};a.Pw.Pw=function(c,o,K,u,X,$){if(c=="warpCylinder"){var O=o,n=O[0],x=O[1],l=O[2],N=O[3],f=O[4],z=O[5],R=O[6],V=[];
for(var d=0;d<4;d++)for(var e=0;e<13;e++)V.push(e/12,d/3);var p=l-n,h=x-N,E=f*.5*(p/h),q=z*.5*(p/h),Z=a.Pw.ahs(R),v=[0,0,0,0,0,Z[0],.5],W=[0,0,0,0,E*.42,E,E],D=[0,0,0,0,q*.42,q,q];
for(var d=0;d<4;d++)for(var e=0;e<7;e++){var Y=d*13+e;V[Y*2]=v[e];var I=W[e],A=1+D[e],U=d/3;V[Y*2+1]=I*(1-U)+A*U}for(var d=0;
d<4;d++)for(var e=0;e<6;e++){var Y=d*13+e,w=d*13+12-e;V[w*2]=1-V[Y*2];V[w*2+1]=V[Y*2+1]}var U=Z[1];return[13,4,[[0,U,.5,1-U,1],[0,1]],V]}var t=a.ul.R(0,0,1,1);
if(c!="warpNone"){if(!K)$=1/$;a.Pw.a3c(t,c,o,u,X,$);var L=t.slice(0);if(!K)for(var d=0;d<4;d++)for(var e=0;
e<4;e++){t[(d*4+e)*2]=L[(e*4+d)*2+1];t[(d*4+e)*2+1]=L[(e*4+d)*2]}if(o==0)a.Pw.apX(t,u,X);else{var J=new bE;
J.translate(-.5,-.5);a.A.i(t,J,t);a.Pw.ajh(t,X,u);J.fH();a.A.i(t,J,t)}}return[4,4,[[0,1],[0,1]],t]};
a.Pw.a3c=function(c,o,K,u,X,$){var O=new ez(0,0,$,1);for(var Y=0;Y<c.length;Y+=2)c[Y]*=$;for(var Y=0;
Y<4;Y++){for(var n=0;n<4;n++){var x=2*(4*Y+n),l=c[x]-O.x,N=c[x+1]-O.y,f=l,z=N;if(K!=0){var R=O.m/2,V=O.e/2;
f-=R;z-=V;var d=f,e=f,p=-V,h=V,E=Math.abs(K),q=Math.tan((1-E)*Math.PI/2),Z=Math.sqrt(q*q+1),v=Math.atan2(1,q),W=f/R*v,D=R*Z,I=R*Z+O.e,A=Math.cos(v),U=Math.sin(v),w=a.Pw.aqd(A,U),t=a.Pw.a0U(A,U),L=-q*R+w*D;
if(o=="warpArc"){d=Math.sin(W)*I;p=q*R-Math.cos(v)*I+V;e=Math.sin(W)*D;h=q*R-Math.cos(v)*D+V;if(n==1||n==2){d=n==1?-t*I:t*I;
e=n==1?-t*D:t*D;p=q*R+V-w*I;h=q*R+V-w*D}if(K<0){var J=d;d=e;e=J;J=p;p=-h;h=-J}}if(o=="warpArcLower"){if(n==1||n==2){e=n==1?-t*D:t*D;
h=K<0?V-L:V+L}}if(o=="warpArcUpper"||o=="warpArch"||o=="warpBulge"){if(n==1||n==2){d=n==1?-t*D:t*D;p=K<0?-V+L:-V-L}if(o=="warpArch"){e=d;
h=p+2*V}if(o=="warpBulge"){e=d;h=-p}}if(o=="warpFish"||o=="warpFlag"||o=="warpWave"){var b=n;if(o=="warpFlag")b=3-n;
if(b==1){p-=K*4*V;h+=K*4*V}if(b==2){p+=K*4*V;h-=K*4*V}if(o=="warpFlag"||o=="warpWave")p=h-2*V}if(o=="warpRise"){if(n<2)p=-V+K*V*4;
h=p+2*V}var F=(z+V)/O.e;f=d+F*(e-d);z=p+F*(h-p);if(o=="warpWave"){if(Y==0)z=-V;if(Y==3)z=V;if(Y==1||Y==2)z=2*V*(Y/3-.5)*(1/3)+z*(2/3)}if(o=="warpFisheye"){if((Y==1||Y==2)&&(n==1||n==2)){f=f+4*f*K;
z=z+4*z*K}}if(o=="warpInflate"){var B=2/3;if((Y==1||Y==2)&&(n==1||n==2)){f=f+.5*f*K;z=z+.5*z*K}else if(Y==1||Y==2)f=f+B*f*K;
else if(n==1||n==2)z=z+B*z*K}if(o=="warpSqueeze"){var B=2/3;if((Y==1||Y==2)&&(n==1||n==2)){if(K>0)f=f-B*f*K;
else z=z+B*z*K}else if(Y==1||Y==2)f=f-B*f*K;else if(n==1||n==2)z=z+B*z*K}if(o=="warpTwist"){if((Y==1||Y==2)&&(n==1||n==2)){var k=K*Math.PI/2,Z=1+Math.abs(K)*2,i=f*Math.cos(k)-z*Math.sin(k),H=f*Math.sin(k)+z*Math.cos(k);
f=i*Z;z=H*Z}}if(o=="warpShellLower"||o=="warpShellUpper"){if(o=="warpShellUpper"){Y=3-Y;z=-z}if(Y>2||Y==2&&(n==0||n==3)){if(K>0){var m=D+Y/3*2*V;
f=Math.sin(W)*m;z=-q*R-V+Math.cos(W)*m;if(n==1||n==2){f=n==1?-t*m:t*m;z=-q*R-V+w*m}}else{if((n==1||n==2)&&Y==3){f=n==1?-t*D:t*D;
z=q*R-w*D+V}else if(Y==2){z=V-V*(2/3)*Math.cos(W);f=f+V*(2/3)*Math.sin(W)}}}if(o=="warpShellUpper"){Y=3-Y;
z=-z}}f+=R;z+=V}l=f,N=z;c[x]=l+O.x;c[x+1]=N+O.y}}for(var Y=0;Y<c.length;Y+=2)c[Y]/=$};a.Pw.ajh=function(c,o,K){var u=[];
for(var X=0;X<4;X++)u.push(1-K+X/3*2*K);var $=[];for(var X=0;X<4;X++)$.push(1-o+X/3*2*o);var O=[0,0,0,0],n=[0,0,0,0];
for(var Y=0;Y<4;Y++)for(var X=0;X<4;X++){var x=2*(4*Y+X),l=c[x],N=c[x+1];O[X]+=l/4;n[X]+=N/4}for(var Y=0;
Y<4;Y++)for(var X=0;X<4;X++){var f=u[X],x=2*(4*Y+X),l=c[x],N=c[x+1],z=O[X],R=n[X];c[x]=z+f*(l-z);c[x+1]=R+f*(N-R)}var V=c.slice(0);
for(var Y=0;Y<4;Y++)for(var X=1;X<3;X++){var x=2*(4*Y+X),l=c[x],N=c[x+1],d=x+(X==1?-2:2),e=c[d],p=c[d+1];
c[x]=l-e;c[x+1]=N-p}var h=c[0],E=c[1],q=c[8],Z=c[9],v=c[16],W=c[17],D=c[24],I=c[25],A=c[6],U=c[7],w=c[14],t=c[15],L=c[22],J=c[23],b=c[30],F=c[31],B=A-h,k=U-E,i=w-q,H=t-Z,m=L-v,j=J-W,Q=b-D,G=F-I;
for(var Y=0;Y<4;Y++){var g=2*Y*4,P=0,M=0,T=Y==1?.33:.66,C=1-T;if(Y==0){P=B;M=k}if(Y==1){P=C*B+T*-Q;M=C*k+T*-G}if(Y==2){P=C*B+T*-Q;
M=C*k+T*-G}if(Y==3){P=-Q;M=-G}c[g]=c[g]+P/2;c[g+1]=c[g+1]+M/2;c[g+6]=c[g+6]-P/2;c[g+7]=c[g+7]-M/2}for(var Y=0;
Y<4;Y++)for(var X=1;X<3;X++){var x=2*(4*Y+X),l=c[x],N=c[x+1],d=x+(X==1?-2:2),e=c[d],p=c[d+1],f=2*Y/3;
c[x]=e+f*l;c[x+1]=p+f*N}for(var Y=1;Y<3;Y++)for(var X=1;X<3;X++){var x=2*(4*Y+X),l=c[x],N=c[x+1],gf=Y==1?-8:-16,s=Y==1?16:8,b3=c[x+gf],d5=c[x+gf+1],gh=c[x+s],jt=c[x+s+1],f=Y/3;
l=(1-f)*b3+f*gh;N=(1-f)*d5+f*jt;c[x]=l;c[x+1]=N}a.A.n8(V,c,c,o)};a.Pw.aqd=function(c,o){return(4-c)*(1/3)};
a.Pw.a0U=function(c,o){return(1-c)*(3-c)/(3*o)};a.xT={};a.xT.aBQ=function(c,o,K,u,X,$,O,n,x,l){for(var N=0;
N<n;N++)for(var f=0;f<O;f++){var z=3*(N*O+f),R=N+$,V=f+X,d=c[R*o+V];u[z]=d;u[z+1]=d;u[z+2]=d}};a.xT.d$=function(c,o,K,u,X,$,O,n,x,l){var N=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],f=1/x,z=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],R=new Uint32Array(6);
for(var V=0;V<n;V++){for(var d=0;d<O;d++){var e=3*(V*O+d),p=V+$,h=d+X;R[0]=0;R[1]=0;R[2]=0;R[3]=0;R[4]=0;
R[5]=0;for(var Y=0;Y<16;Y+=2){var E=h+z[Y],q=p+z[Y+1],Z=E-x*~~(E*f),v=q-x*~~(q*f),W=l[v*x+Z];R[W]+=c[q*o+E];
R[W+3]++}var E=h,q=p,Z=E-x*~~(E*f),v=q-x*~~(q*f),W=l[v*x+Z];R[W]=c[p*o+h];R[W+3]=1;u[e]=R[0]*N[R[3]];
u[e+1]=R[1]*N[R[4]];u[e+2]=R[2]*N[R[5]]}}};a.xT.azI=function(c,o,K){for(var Y=0;Y<K;Y+=2)c[o+Y]=c[o+Y+1];
o=o+K;for(var Y=0;Y<K;Y+=2)c[o+Y+1]=c[o+Y]};a.xT.aeU=function(c,o,K,u){for(var Y=0;Y<u;Y+=2){var X=o+Y*K;
c[X]=c[X+K];c[X+K+1]=c[X+1]}};a.xT.azh=function(c,o,K,u,X,$){var O=u[X],n=u[X+1],x=u[$],l=u[$+1],N=n+x>>>1;
c[o]=c[o+3]=c[K]=c[K+3]=O;c[o+1]=N;c[o+4]=n;c[K+1]=x;c[K+4]=N;c[o+2]=c[o+5]=c[K+2]=c[K+5]=l};a.xT.aj$=function(c,o,K,u,X,$){var O=$*3;
for(var Y=0;Y<$;Y+=2){var n=o+Y,x=X+Y*3;a.xT.azh(u,x,x+O,c,n,n+K)}};a.xT.a5P=function(c,o,K,u,X,$,O){var n=$*3;
for(var Y=0;Y<O;Y+=2){var x=o+Y*K,l=X+Y*$*3;a.xT.azh(u,l,l+n,c,x,x+K)}};a.xT.aso=function(c,Y,o){var K=c[Y-o-o],u=c[Y-o],X=c[Y-2],$=c[Y-1],O=c[Y],n=c[Y+1],x=c[Y+2],l=c[Y+o],N=c[Y+o+o],f=Math.abs(u-l),z=Math.abs($-n),R=Math.abs(O-K)*2+f,V=Math.abs(O-x)*2+z,d=Math.abs(O-X)*2+z,e=Math.abs(O-N)*2+f,p=Math.min(R,Math.min(V,Math.min(d,e)));
if(p==R)return u*3+l+O-K>>2;if(p==V)return n*3+$+O-x>>2;if(p==d)return $*3+n+O-X>>2;return l*3+u+O-N>>2};
a.xT.se=function(c,o,K,u,X){if(c<o&&o<K||c>o&&o>K)return~~(.5+u+(X-u)*(o-c)/(K-c));else return(u+X>>1)+(o+o-c-K>>2)};
a.xT.a9_=function(c,o,Y,K){var u=o[Y-K-1],X=o[Y-K+1],$=o[Y],O=o[Y+K-1],n=o[Y+K+1],x=c[Y-K-1],l=c[Y-K+1],N=c[Y],f=c[Y+K-1],z=c[Y+K+1],R=Math.abs(l-f)+Math.abs(c[Y-K-K+2]-N)+Math.abs(N-c[Y+K+K-2])+Math.abs(X-$)+Math.abs($-O),V=Math.abs(x-z)+Math.abs(c[Y-K-K-2]-N)+Math.abs(N-c[Y+K+K+2])+Math.abs(u-$)+Math.abs($-n);
if(R<V)return a.xT.se(X,$,O,l,f);else return a.xT.se(u,$,n,x,z)};a.xT.JJ=function(c,o,K,u,X,$){c[o+0]=K[X];
c[o+1]=u[X];c[o+2]=a.xT.a9_(K,u,X,$)};a.xT.Ma=function(c,o,K,u,X,$){var O=u[X];c[o+0]=a.xT.se(u[X-1],O,u[X+1],K[X-1],K[X+1]);
c[o+1]=O;c[o+2]=a.xT.se(u[X-$],O,u[X+$],K[X-$],K[X+$])};a.xT.ID=function(c,o,K,u,X,$){var O=u[X];c[o+0]=a.xT.se(u[X-$],O,u[X+$],K[X-$],K[X+$]);
c[o+1]=O;c[o+2]=a.xT.se(u[X-1],O,u[X+1],K[X-1],K[X+1])};a.xT.dj=function(c,o,K,u,X,$){c[o+0]=a.xT.a9_(K,u,X,$);
c[o+1]=u[X];c[o+2]=K[X]};a.xT.aD4=function(c,o,K,u,X,$,O,n,x){var l=Date.now(),N=2,f=o-2,z=2;if((X&1)==1){N++;
f--}var R=K-2;if(($&1)==1){z++;R--}if(x==1||x==3){N++;f--}var V=c.slice(0);a.xT.azI(V,0,o);a.xT.aeU(V,0,o,K);
a.xT.aeU(V,o-2,o,K);a.xT.azI(V,(K-2)*o,o);for(var d=z;d<R;d+=2)for(var e=N;e<f;e+=2){var Y=d*o+e,p=a.xT.aso(V,Y,o),h=a.xT.aso(V,Y+o+1,o);
V[Y]=Math.max(0,p);V[Y+o+1]=Math.max(0,h)}var E=O,q=n;if($+n==K){q-=2;a.xT.aj$(c,(K-2)*o+X,o,u,(n-2)*O*3,O)}if(X+O==o){E-=2;
a.xT.a5P(c,$*o+X+O-2,o,u,(O-2)*3,O,n)}if(x==0)for(var d=0;d<q;d+=2)for(var e=0;e<E;e+=2){var Z=(d+$)*o+e+X,v=(d*O+e)*3;
a.xT.JJ(u,v,c,V,Z,o);a.xT.Ma(u,v+3,c,V,Z+1,o);Z+=o;v+=3*O;a.xT.ID(u,v,c,V,Z,o);a.xT.dj(u,v+3,c,V,Z+1,o)}else if(x==1)for(var d=0;
d<q;d+=2)for(var e=0;e<E;e+=2){var Z=(d+$)*o+e+X,v=(d*O+e)*3;a.xT.Ma(u,v,c,V,Z,o);a.xT.JJ(u,v+3,c,V,Z+1,o);
Z+=o;v+=3*O;a.xT.dj(u,v,c,V,Z,o);a.xT.ID(u,v+3,c,V,Z+1,o)}else if(x==2)for(var d=0;d<q;d+=2)for(var e=0;
e<E;e+=2){var Z=(d+$)*o+e+X,v=(d*O+e)*3;a.xT.dj(u,v,c,V,Z,o);a.xT.ID(u,v+3,c,V,Z+1,o);Z+=o;v+=3*O;a.xT.Ma(u,v,c,V,Z,o);
a.xT.JJ(u,v+3,c,V,Z+1,o)}else if(x==3)for(var d=0;d<q;d+=2)for(var e=0;e<E;e+=2){var Z=(d+$)*o+e+X,v=(d*O+e)*3;
a.xT.ID(u,v,c,V,Z,o);a.xT.dj(u,v+3,c,V,Z+1,o);Z+=o;v+=3*O;a.xT.JJ(u,v,c,V,Z,o);a.xT.Ma(u,v+3,c,V,Z+1,o)}};
a.raw={};a.raw.aeD=function(c){var o=Date.now(),K=c.width,u=c.height,X=0,$=0,O=K,n=u;if(c.t50829){var x=c.t50829;
X=x[1];$=x[0];O=x[3];n=x[2]}if(c.t50720&&c.t50720[0]*1.2>K){if(c.t50719){var l=c.t50719;X+=l[0]>>1<<1;
$+=l[1]>>1<<1}if(c.t50720){var N=c.t50720;O=X+N[0];n=$+N[1]}}var f=O-X,z=n-$,R=a.raw.aqA(c),V=c.t33422,d=c.t33421;
if(d){var N=d[0],e=V.slice(0);for(var p=0;p<N;p++)for(var h=0;h<N;h++){var E=(h+(X&1))%N,q=(p+($&1))%N;
e[p*N+h]=V[q*N+E]}V=e}if(c.t277[0]==1&&V)a.raw.azP(R,K,u,c,V);a.raw.sz(2,c,R,K,u);var Z=new Float32Array(f*z*3);
if(c.t277[0]==1){if(d==null){a.xT.aBQ(R,K,u,Z,X,$,f,z)}else if(d.length!=2||d[0]!=2||d[1]!=2){console.log("Unknown CFA pattern size",d);
a.xT.d$(R,K,u,Z,X,$,f,z,d[0],V)}else{var v=c.t33422.join(","),W=0;if(v=="0,1,1,2")W=0;else if(v=="1,0,2,1")W=1;
else if(v=="2,1,1,0")W=2;else if(v=="1,2,0,1")W=3;else throw"Unknown CFA pattern "+v;if((f&1)!=0||(z&1)!=0)throw"e";
a.xT.aD4(R,K,u,Z,X,$,f,z,W)}}else{for(var p=0;p<z;p++)for(var h=0;h<f;h++){var D=((p+$)*K+h+X)*3,I=(p*f+h)*3;
Z[I+0]=R[D+0];Z[I+1]=R[D+1];Z[I+2]=R[D+2]}}var A=Z,U=Z.length,w=a.raw.na(c),t=1/w;for(var Y=0;Y<U;Y+=3){Z[Y]=A[Y]*t;
Z[Y+1]=A[Y+1]*t;Z[Y+2]=A[Y+2]*t}a.raw.sz(3,c,Z,f,z);var L=c.n2,J=f,b=z;if(L==1||L==9){}else{var F=a.raw.acd(L,f,z),I=0;
J=F[0];b=F[1];var B=Z.slice(0);for(var p=0;p<b;p++)for(var h=0;h<J;h++){var k=F[2]*h+F[3]*p+F[4],i=F[5]*h+F[6]*p+F[7],D=(i*f+k)*3;
Z[I]=B[D];Z[I+1]=B[D+1];Z[I+2]=B[D+2];I+=3}}return{PX:Z,UO:J,YO:b}};a.raw.acd=function(c,o,K){var u=o,X=K;
if(!1){}else if(c==2)return[o,K,-1,0,o-1,0,1,0];else if(c==3)return[o,K,-1,0,o-1,0,-1,K-1];else if(c==4)return[o,K,1,0,0,0,-1,K-1];
else if(c==5)return[K,o,0,1,0,1,0,0];else if(c==6)return[K,o,0,1,0,-1,0,K-1];else if(c==7)return[K,o,0,-1,o-1,-1,0,K-1];
else if(c==8)return[K,o,0,-1,o-1,1,0,0];else throw"unknown orientation "+c};a.raw.azP=function(c,o,K,u,X){var $=Date.now(),t=0,b=0;
if(a.raw.na(u)>4e4){for(var Y=0;Y<c.length;Y++)c[Y]>>=1;var O=["t50714","t50715","t50712","t50717"];
for(var Y=0;Y<O.length;Y++){var n=u[O[Y]];if(n)for(var x=0;x<n.length;x++)n[x]>>>=1}console.log("remapping to lower bit depth")}var l=~~Math.sqrt(X.length),N=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],f=[];
for(var z=0;z<l;z++)for(var R=0;R<l;R++){var Y=z*l+R,V=X[Y],d=4,e=4,p=8,h=0,E=0;for(var x=0;x<18;x+=2){var q=(l+R+N[x])%l,Z=(l+z+N[x+1])%l,v=X[Z*l+q];
if(v==V){}else if(d==4){d=v;h=x}else if(e==4&&v!=d){e=v;E=x;break}}if(e<d){var W=e;e=d;d=W;W=E;E=h;h=W}if(d<V){var W=d;
d=V;V=W;W=h;h=p;p=W}if(e<d){var W=e;e=d;d=W;W=E;E=h;h=W}f[Y*3]=N[p+1]*o+N[p];f[Y*3+1]=N[h+1]*o+N[h];
f[Y*3+2]=N[E+1]*o+N[E]}var D=~~(.996*a.raw.na(u)),I=~~(.992*a.raw.na(u)),A=u.t50728;if(A==null||A[0]==0)A=[1,1,1];
var U=[],w=[0,0,0];for(var z=1;z<K-1;z++)for(var R=1;R<o-1;R++){var Y=z*o+R,L=z%l*l+R%l,V=c[Y+f[L*3+0]],d=c[Y+f[L*3+1]],e=c[Y+f[L*3+2]],J=Math.max(V,d,e);
if(J>D)U.push(Y);else if(J>I){w[0]+=V;w[1]+=d;w[2]+=e;t++}}if(U.length==0)return;if(t/(o*K)<1e-5){console.log("not enough semi-saturated pixels",t);
w=A}if(w[1]<w[b])b=1;if(w[2]<w[b])b=2;var F=[w[0]/w[b],w[1]/w[b],w[2]/w[b]],B=c.slice(0);for(var k=0;
k<U.length;k++){var Y=U[k],z=~~(Y/o),R=Y-z*o,L=z%l*l+R%l,i=Math.min(65535,~~(c[Y+f[L*3+b]]*F[X[L]]));
if(i>B[Y])B[Y]=i}c.set(B)};a.raw.qf=function(c,o,K,u){var X=Math.round(c.length/3),$=eg.Eg(u[0],u[1]),O=a.raw.a21(K,$),n=a.QW.multiply(a.QW._o,O),x=Math.pow(2,K.t50730?K.t50730[0]:0);
n=a.QW.multiply(n,a.QW.YZ(x,x,x));var l=a.raw.qf.a1t;if(l==null){l=a.raw.qf.a1t=new Float64Array(8e3);
for(var Y=0;Y<8e3;Y++)l[Y]=a.rp(Y*(1/1e3))}for(var Y=0;Y<X;Y++){var N=Y<<2,f=N-Y,z=c[f],R=c[f+1],V=c[f+2],d=n[0]*z+n[1]*R+n[2]*V,e=n[4]*z+n[5]*R+n[6]*V,p=n[8]*z+n[9]*R+n[10]*V;
if(d<0)d=0;if(e<0)e=0;if(p<0)p=0;o[f]=l[~~(d*1e3)];o[f+1]=l[~~(e*1e3)];o[f+2]=l[~~(p*1e3)]}};a.raw.aqA=function(c){var o=c.width,K=c.height,u=o*K*c.t277,X=new Uint16Array(u),$=null,O=0;
a.raw.aah(c,X);a.raw.sz(1,c,X,o,K);if(c.t50712){$=c.t50712;O=$.length-1;if($[O]>65535)throw"too big values"}var n=a.raw.aqx(c),x=a.raw.a3F(c);
if($==null)for(var Y=0;Y<u;Y++)X[Y]=Math.max(0,X[Y]-n);else for(var Y=0;Y<u;Y++){var l=X[Y];if(l>O)l=O;
l=$[l];X[Y]=Math.max(0,l-n)}return X};a.raw.aqx=function(c){var o=c.t50714,K=o?o[0]:0,u=c.t50715,X=c.t50716;
if(u)K+=u[0][0]/u[0][1];if(X)K+=X[0][0]/X[0][1];return Math.round(K)};a.raw.a3F=function(c){var o=null,K=0;
if(c.t50712){o=c.t50712;K=o.length-1}var u=c.t50717?c.t50717[0]:(1<<c.t258[0])-1;if(o)u=Math.min(u,o[K]);
return u};a.raw.na=function(c){var o=a.raw.aqx(c),K=a.raw.a3F(c);return K-o};a.raw.aah=function(c,o){var K=o.length,u=c.data,X=c.t258[0];
if(X!=16&&X!=14&&X!=12&&X!=10&&X!=8)throw"Unsupported Bits Per Sample:"+X;X=Math.round(u.length*8/K);
if(X==16&&c.isLE){a.lY(u,o);return}for(var Y=0;Y<K;Y+=2){var $=0,O=0,n=0;if(X==16){$=Y<<1;O=u[$]<<8|u[$+1];
n=u[$+2]<<8|u[$+3]}else if(X==14){var x=Y*14,l=x>>>3,N=u[l]<<24|u[l+1]<<16|u[l+2]<<8|u[l+3];if((x&7)==0){O=N>>>18;
n=N>>>4&16383}else{O=N>>>14&16383;n=N&16383}}else if(X==12){$=Y+(Y>>>1);O=u[$]<<4|u[$+1]>>4;n=(u[$+1]&15)<<8|u[$+2]}else if(X==10){var x=Y*10,l=x>>>3;
if((x&7)==0){O=(u[l]<<2|u[l+1]>>6)&1023;n=(u[l+1]<<4|u[l+2]>>4)&1023}else{O=(u[l]<<6|u[l+1]>>2)&1023;
n=(u[l+1]<<8|u[l+2]>>0)&1023}}else if(X==8){$=Y;O=u[$];n=u[$+1]}o[Y]=O;o[Y+1]=n}};a.raw.ahV=function(c,o,K,u,X,$,O){var n=c-.499999,x=o-.499999,l=~~n,N=~~x,f=n-l,z=x-N,R=(1-z)*(1-f),V=(1-z)*f,d=z*(1-f),e=z*f,p=(N*u+l)*3,h=((N+1)*u+l)*3,E=R*K[p]+V*K[p+3]+d*K[h]+e*K[h+3],q=R*K[p+1]+V*K[p+4]+d*K[h+1]+e*K[h+4],Z=R*K[p+2]+V*K[p+5]+d*K[h+2]+e*K[h+5];
$[O]=E;$[O+1]=q;$[O+2]=Z};a.raw.sz=function(c,o,K,u,X){var $=o["t"+[51008,51009,51022][c-1]],N=0;if($==null)return;
var O=u*X,n=_.q,x=_.pl,l=new Uint8Array($),dJ=_.q(l,N);N+=4;for(var f=0;f<dJ;f++){var z=n(l,N);N+=4;
var R=n(l,N);N+=4;var V=n(l,N);N+=4;var d=n(l,N);N+=4;if(!1){}else if(z==1&&c==3){var e=N,p=n(l,e);e+=4;
var h=x(l,e);e+=8;var E=x(l,e);e+=8;var q=x(l,e);e+=8;var Z=x(l,e);e+=8;var v=x(l,e);e+=8;var W=x(l,e);
e+=8;e+=(p-1)*8*6;var D=x(l,e);e+=8;var I=x(l,e);e+=8;var A=D*u,U=I*X,w=Math.max(A,u-A),t=Math.max(U,X-U),L=Math.sqrt(w*w+t*t),J=1/L,b=K.slice(0);
for(var F=0;F<X;F++)for(var B=0;B<u;B++){var k=(B+.5-A)*J,i=(F+.5-U)*J,H=k*k+i*i,m=h+E*H+q*(H*H)+Z*(H*H)*H,j=v*(2*k*i)+W*(H+2*k*k),Q=W*(2*k*i)+v*(H+2*i*i),G=Math.min(A+L*(m*k+j),u-1),g=Math.min(U+L*(m*i+Q),X-1),P=(F*u+B)*3;
a.raw.ahV(G,g,b,u,X,K,P)}}else if(z==3&&c==3){var e=N,M=x(l,e);e+=8;var T=x(l,e);e+=8;var C=x(l,e);e+=8;
var gf=x(l,e);e+=8;var s=x(l,e);e+=8;var D=x(l,e);e+=8;var I=x(l,e);e+=8;var A=D*u,U=I*X,w=Math.max(A,u-A),t=Math.max(U,X-U),L=Math.sqrt(w*w+t*t),J=1/L;
for(var F=0;F<X;F++)for(var B=0;B<u;B++){var k=(B+.5-A)*J,i=(F+.5-U)*J,H=k*k+i*i,b3=1+(M+(T+(C+(gf+s*H)*H)*H)*H)*H,P=(F*u+B)*3;
K[P]=b3*K[P];K[P+1]=b3*K[P+1];K[P+2]=b3*K[P+2]}}else if(z==4&&c==1){var e=N,d5=n(l,e);e+=4;var gh=n(l,e);
e+=4;for(var Y=0;Y<O;Y++)if(K[Y]==d5)K[Y]=K[Y-2]+K[Y+2]>>1}else if(z==5&&c==1){var e=N,jt=n(l,e);e+=4;
var fl=n(l,e);e+=4;var eq=n(l,e);e+=4;for(var Y=0;Y<fl;Y++){var c7=n(l,e);e+=4;var k8=n(l,e);e+=4;var Y=c7*u+k8;
K[Y]=K[Y-2]+K[Y+2]>>1}}else if(z==7&&c==1){var e=N,hs=_.QJ(l,e);e+=16;var cq=n(l,e);e+=4;var jn=n(l,e);
e+=4;var an=n(l,e),hk=n(l,e+4);e+=8;var ds=n(l,e);e+=4;var gT=new Uint16Array(ds);for(var Y=0;Y<ds;Y++)gT[Y]=_.SL(l,e+2*Y);
var gP=hs.m,ky=hs.e;for(var F=0;F<ky;F+=an)for(var B=0;B<gP;B+=hk){var Y=(hs.y+F)*u+(hs.x+B);K[Y]=gT[K[Y]]}}else if(z==8&&c==2){var e=N,hs=_.QJ(l,e);
e+=16;var cq=n(l,e);e+=4;var jn=n(l,e);e+=4;var an=n(l,e),hk=n(l,e+4);e+=8;var ay=n(l,e);e+=4;var bb=[];
for(var Y=0;Y<=ay;Y++)bb[Y]=_.pl(l,e+Y*8);var ap=hs.x,cR=hs.x+hs.m,c8=hs.y,gr=hs.y+hs.e,fF=o.t50717[0],cj=1/fF;
for(var br=0;br<jn;br++)for(var F=c8;F<gr;F+=an){var P=3*F*u+cq+br;for(var B=ap;B<cR;B+=hk){var Y=P+3*B,hX=K[Y]*cj,gG=bb[ay];
for(var jx=ay;jx>0;jx--)gG=gG*hX+bb[jx-1];K[Y]=Math.max(0,Math.min(65535,~~(gG*fF)))}}}else if(z==9&&c==2){var e=N,hs=_.QJ(l,e),cy=!0;
e+=16;var cq=n(l,e);e+=4;var jn=n(l,e);e+=4;var an=n(l,e),hk=n(l,e+4);e+=8;var cr=n(l,e),a8=n(l,e+4);
e+=8;var f8=x(l,e),dW=x(l,e+8);e+=16;var g7=x(l,e),eU=x(l,e+8);e+=16;var f7=n(l,e);e+=4;if(f7!=1)throw"more than one map plane";
var d7=cr*a8,aW=new Float32Array(d7);for(var jx=0;jx<d7;jx++)aW[jx]=_.vh(l,e+jx*4);for(var jx=0;jx<d7;
jx++)if(aW[jx]!=1)cy=!1;if(!cy){var gP=hs.m,ky=hs.e,dh=.9999*(a8-1)/gP,fh=.9999*(cr-1)/ky;for(var F=0;
F<ky;F+=an)for(var B=0;B<gP;B+=hk){var Y=(hs.y+F)*u+(hs.x+B),dP=B*dh,fg=F*fh,bo=Math.floor(dP),jK=Math.floor(fg),jQ=dP-bo,aZ=fg-jK,P=jK*a8+bo,eo=aW[P]*(1-jQ)+aW[P+1]*jQ,dC=aW[P+a8]*(1-jQ)+aW[P+1+a8]*jQ,hG=eo*(1-aZ)+dC*aZ;
K[Y]=Math.max(0,Math.min(65535,~~(K[Y]*hG+.5)))}}}else console.log("Unknown opcode "+z+" in OpcodeList"+c+". Length: "+d);
N+=d}};a.raw.a21=function(c,o){var K=eg.yO(o),u=a.raw.a0j(c,o),X=a.QW.fH(u),$=eg.aqJ(K,eg.yO(eg.awz)),O=a.QW.multiply($,X);
return O};a.raw.a67=function(c){var o=c.t50728,X=1;if(o==null||o[0]==0)o=[1,1,1];var K=o.slice(0);K.push(0);
var u={x:.34567,y:.3585};do{var $=a.QW.fH(a.raw.a0j(c,u)),O=a.QW.sb($,K),n=eg.aCv(O);X=Math.abs(u.x-n.x)+Math.abs(u.y-n.y);
u=n}while(X>1e-7);return u};a.raw.a0j=function(c,o){var K=eg.ayd(o),u=a.raw.axK,X=c.t50778?c.t50778[0]:0,$=c.t50779?c.t50779[0]:0,O=c.t50723,n=c.t50724;
if(O&&O.length==3)O=null;if(n&&n.length==3)n=null;var x=u(c.t50721,c.t50722,X,$,K.iS),l=u(O,n,X,$,K.iS);
x=x||[1,0,0,0,1,0,0,0,1];l=l||[1,0,0,0,1,0,0,0,1];var N=c.t50727?[c.t50727[0],0,0,0,c.t50727[1],0,0,0,c.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return a.QW.multiply(a.QW.jj(N),a.QW.multiply(a.QW.jj(l),a.QW.jj(x)))};a.raw.axK=function(c,o,K,u,X){if(!c&&!o){return null}else if(c&&!o){return c}else if(X<K){return c}else if(X>u){return o}else{var $=(1/X-1/u)/(1/K-1/u),O=1-$,n=[];
for(var Y=0;Y<9;Y++)n[Y]=c[Y]*$+o[Y]*O;return n}};var eg={};eg.awz={x:.34567,y:.3585};eg.afG=[{Z:0,l1:.18006,NT:.26352,AC:-.24341},{Z:10,l1:.18066,NT:.26589,AC:-.25479},{Z:20,l1:.18133,NT:.26846,AC:-.26876},{Z:30,l1:.18208,NT:.27119,AC:-.28539},{Z:40,l1:.18293,NT:.27407,AC:-.3047},{Z:50,l1:.18388,NT:.27709,AC:-.32675},{Z:60,l1:.18494,NT:.28021,AC:-.35156},{Z:70,l1:.18611,NT:.28342,AC:-.37915},{Z:80,l1:.1874,NT:.28668,AC:-.40955},{Z:90,l1:.1888,NT:.28997,AC:-.44278},{Z:100,l1:.19032,NT:.29326,AC:-.47888},{Z:125,l1:.19462,NT:.30141,AC:-.58204},{Z:150,l1:.19962,NT:.30921,AC:-.70471},{Z:175,l1:.20525,NT:.31647,AC:-.84901},{Z:200,l1:.21142,NT:.32312,AC:-1.0182},{Z:225,l1:.21807,NT:.32909,AC:-1.2168},{Z:250,l1:.22511,NT:.33439,AC:-1.4512},{Z:275,l1:.23247,NT:.33904,AC:-1.7298},{Z:300,l1:.2401,NT:.34308,AC:-2.0637},{Z:325,l1:.24792,NT:.34655,AC:-2.4681},{Z:350,l1:.25591,NT:.34951,AC:-2.9641},{Z:375,l1:.264,NT:.352,AC:-3.5814},{Z:400,l1:.27218,NT:.35407,AC:-4.3633},{Z:425,l1:.28039,NT:.35577,AC:-5.3762},{Z:450,l1:.28863,NT:.35714,AC:-6.7262},{Z:475,l1:.29685,NT:.35823,AC:-8.5955},{Z:500,l1:.30505,NT:.35907,AC:-11.324},{Z:525,l1:.3132,NT:.35968,AC:-15.628},{Z:550,l1:.32129,NT:.36011,AC:-23.325},{Z:575,l1:.32931,NT:.36038,AC:-40.77},{Z:600,l1:.33724,NT:.36051,AC:-116.45}];
eg.ayd=function(c){var o=eg.afG,K=2*c.x/(1.5-c.x+6*c.y),u=3*c.y/(1.5-c.x+6*c.y),X=0,$=0,O=0;for(;O<31;
O++){X=u-o[O].NT-o[O].AC*(K-o[O].l1);if(O>0&&X<0){break}$=X}while(O>=o.length)O--;X/=Math.sqrt(1+o[O].AC*o[O].AC);
$/=Math.sqrt(1+o[O-1].AC*o[O-1].AC);var n=$/($-X),x=1e6/((o[O].Z-o[O-1].Z)*n+o[O-1].Z),l=K-((o[O].l1-o[O-1].l1)*n+o[O-1].l1),N=u-((o[O].NT-o[O-1].NT)*n+o[O-1].NT),f=Math.sqrt(1+o[O].AC*o[O].AC),z=1/f,R=o[O].AC/f,V=Math.sqrt(1+o[O-1].AC*o[O-1].AC),d=1/V,e=o[O-1].AC/V,p=(z-d)*n+d,h=(R-e)*n+e,E=Math.sqrt(p*p+h*h);
p/=E;h/=E;var q=(l*p+N*h)*-3e3;return{iS:x,k5:q}};eg.Eg=function(c,o){var K=eg.afG,u=1e6/c,X=1;for(;
X<31;X++){if(u<K[X].Z){break}}var $=(K[X].Z-u)/(K[X].Z-K[X-1].Z),O=(K[X-1].l1-K[X].l1)*$+K[X].l1,n=(K[X-1].NT-K[X].NT)*$+K[X].NT,x=Math.sqrt(1+K[X].AC*K[X].AC),l=1/x,N=K[X].AC/x,f=Math.sqrt(1+K[X-1].AC*K[X-1].AC),z=1/f,R=K[X-1].AC/f,V=(z-l)*$+l,d=(R-N)*$+N,e=Math.sqrt(V*V+d*d);
V/=e;d/=e;O+=V*o/-3e3;n+=d*o/-3e3;return{x:1.5*O/(O-4*n+2),y:n/(O-4*n+2)}};eg.aCv=function(c){var o=c[0]+c[1]+c[2];
return{x:c[0]/o,y:c[1]/o}};eg.yO=function(c){return{x:c.x/c.y,y:1,iv:(1-c.x-c.y)/c.y}};eg.aqJ=function(c,o){var K=a.QW.jj([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),u=[c.x,c.y,c.iv,0],X=[o.x,o.y,o.iv,0];
u=a.QW.sb(K,u);X=a.QW.sb(K,X);var $=X[0]/u[0],O=X[1]/u[1],n=X[2]/u[2],x=a.QW.jj([$,0,0,0,O,0,0,0,n]),l=a.QW.fH(K);
return a.QW.multiply(a.QW.multiply(l,x),K)};a.raw.zB={};a.raw.pZ=function(c){c*=8;var o=[8,10,12,14,16];
for(var K in CAMS){var u=CAMS[K];if(u.length==4)continue;var X=u[4],$=u[5];for(var Y=0;Y<o.length;Y++)if(X*$*o[Y]==c)return[K,o[Y]]}var O=[[4e3,3e3]];
for(var Y=0;Y<O.length;Y++){var u=O[Y],X=u[0],$=u[1];for(var Y=0;Y<o.length;Y++)if(X*$*o[Y]==c)return[u,o[Y]]}return null};
a.raw.a3w=function(c){var c=new Uint8Array(c);for(var Y=0;Y<c.length;Y+=2){var o=c[Y];c[Y]=c[Y+1];c[Y+1]=o}var K=a.raw.pZ(c.length),u=CAMS[K[0]];
if(u==null)u=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,K[0][0],K[0][1]];var X=u[4],$=u[5],O=Math.max(u[2],116),n={data:c,n2:1,width:X,height:$,t256:[X],t257:[$],t258:[K[1]],t277:[1],t33421:[2,2],t33422:a.raw._G[u[1]],t50706:[1,2,0,0],t50714:[O,O,O,O],t50717:[u[3]],t50721:u[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var Y=0;Y<9;Y++)n.t50721[Y]/=1e4;return n};a.raw.akl=function(c){if(c==null||c.length==0||typeof c[0]=="number")return c;
var o=[];for(var Y=0;Y<c.length;Y++)o[Y]=c[Y][1]==0?0:c[Y][0]/c[Y][1];return o};a.raw._G=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
a.raw.normalize=function(c,o){if(c.t50706!=null||c.t271[0].startsWith("Hasselblad")){var K=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var Y=0;Y<K.length;Y++)if(c["t"+K[Y]]!=null)c["t"+K[Y]]=a.raw.akl(c["t"+K[Y]]);if(c.t271&&c.t271[0].startsWith("Hasselblad")){c.t50706=[1,2,0,0];
c.t33422=a.raw._G[1];c.t50723=[1,0,0,0,1,0,0,0,1];c.t50778=[17];if(!c.isLE)for(var Y=0;Y<c.data.length;
Y+=2){var u=c.data[Y];c.data[Y]=c.data[Y+1];c.data[Y+1]=u}}if(c.t272&&c.t272[0]=="HERO10 Black"){c.t50728=[.469725,1,.739884];
if(!c.t305[0].startsWith("Adobe")){var X=new Uint16Array(c.data.buffer);for(var Y=0;Y<X.length;Y++)X[Y]>>>=2}}return}var $=c.t258[0],O=c.exifIFD,o=new Uint8Array(o);
c.t50706=[1,2,0,0];var n=c.t271[0].trim(),x=c.t272[0].trim();if(c.t50708==null)c.t50708=[n+" "+x];var l=(n+":"+x).toLowerCase(),N=CAMS[l];
if(N==null){alert("Unknown camera:"+l);if(l.startsWith("canon"))N=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(N!=null){var f=N[2];
c.t50714=[f,f,f,f];if(c.t272=="Canon EOS REBEL T3")N[3]=13584;c.t50717=[N[3]];c.t50721=N[0].slice(0);
for(var Y=0;Y<9;Y++)c.t50721[Y]=c.t50721[Y]*(1/1e4)}c.t50723=[1,0,0,0,1,0,0,0,1];if(c.t50728==null)c.t50728=[.35,1,.6];
c.t50778=[17];if(n.startsWith("OLYMPUS")||n.startsWith("OM Digital Solutions")){c.t33422=[2,1,1,0];var z=O.t41730,e;
if(z)c.t33422=[z[4],z[5],z[6],z[7]];var R=c.t50341;if(R==null)R=O.t36864;var V=a.raw.ayr(R.buffer,c);
c.data=new Uint8Array(V.buffer);if((c.height&1)==1)c.t50829=[0,0,c.height-1,c.width];var d=O.makerNote,p=d.t8256;
if(p)e=p.t256;else e=d.t12288.t256;c.t50728=[256/e[0],1,256/e[1]]}else if(c.t271[0].startsWith("SONY")){var h=UTIF["_bin"+(c.isLE?"LE":"BE")],E=c.t28688,A;
if(JSON.stringify(E)!="[8000,10400,12900,14100]")console.log(E);if(E){var q=[0,0,0,0,0,4095],Z=new Uint16Array(16385);
for(var Y=0;Y<4;Y++){var v=E[Y]>>>2;q[Y+1]=v;if(v>4095)throw"e"}for(var Y=0;Y<16385;Y++)Z[Y]=Y;for(var Y=0;
Y<5;Y++)for(var W=q[Y]+1;W<=q[Y+1];W++)Z[W]=Z[W-1]+(1<<Y);var D=o.length*8<c.width*c.height*$;if(D)c.t50712=Z}else console.log("no curve");
var I=c.dngPrvt;if(I){var U=I.t29184[0],w=I.t29185[0],t=(c.isLE?_.jn:_.q)(I.t29217,0),L=new Uint32Array(o.slice(U,U+(w&4294967292)).buffer),J=new Uint32Array(w>>>2);
a.raw.aBG(L,J,w>>>2,t);var b=new Uint8Array(U+w);b.set(new Uint8Array(J.buffer),U);var F=[];UTIF._readIFD(h,b,U,F,0,!1);
var B=F.pop(),k=B.t29458;c.t50728=[k[1]/k[0],1,k[1]/k[3]];c.t50730=[.5];var i=B.t29891;c.t50829=[i[1],i[0],i[3],i[2]]}else if(O.makerNote&&O.makerNote.t8208){var A=O.makerNote,H=A.t8208,m=H.length,j=0,Q=new Uint8Array(256);
for(var Y=249;Y<256;Y++)Q[Y]=Y;for(var Y=0;Y<249;Y++)Q[Y*Y*Y%249]=Y;for(var Y=0;Y<m;Y++)H[Y]=Q[H[Y]];
if(m==6604)j=612;else throw"e";var k=[];for(var Y=0;Y<3;Y++)k.push(_.JH(H,j+Y*2));console.log(k);c.t50728=[k[1]/k[0],1,k[1]/k[2]]}else console.log("no white balance");
if(c.width*c.height*1.5==c.t279[0]){f=f>>>2;c.t50714=[f,f,f,f];c.t50717=[N[3]>>>2]}}else if(c.t271[0].startsWith("Canon")){var o=c.data,G=o.slice(0),g=c.t50752,P=[],T=0;
if(g==null||g[0]==0&&g[1]==0)P.push(c.width);else{for(var Y=0;Y<g[0];Y++)P.push(g[1]);P.push(g[2])}var M=c.width*2,C=c.t50885&&c.t50885[0]==4;
if(!C)for(var gf=0;gf<P.length;gf++){var s=P[gf],b3=2*T,d5=2*s;for(var gh=0;gh<c.height;gh+=2){var jt=gh*M+b3,fl=c.height*b3+gh*d5;
for(var Y=0;Y<d5;Y++){o[jt+Y]=G[fl+Y];o[jt+Y+M]=G[fl+Y+d5]}}T+=s}else{var eq=new Uint16Array(G.buffer),c7=new Uint16Array(o.buffer);
function k8(cq,jn){c7[jn*3+0]=eq[cq*3+0];c7[jn*3+1]=eq[cq*3+1];c7[jn*3+2]=eq[cq*3+2]}var hs=(g[0]*g[1]+g[2])/c.width;
for(var gf=0;gf<P.length;gf++){var s=Math.round(P[gf]/hs);for(var gh=0;gh<c.height;gh++){var cq=c.height*T+(hs==3?(gh>>>3)*8+[0,4,1,5,2,6,3,7][gh&7]:gh)*s,jn=gh*c.width+T;
for(var an=0;an<s;an++)k8(cq+an,jn+an)}T+=s}var hk=new Uint16Array(o.buffer),ds=new Uint16Array(1),gT=new Int16Array(ds.buffer);
for(var Y=0;Y<hk.length;Y+=3){var gP=hk[Y],ky=hk[Y+1],ay=hk[Y+2];ds[0]=ky<<2;ky=gT[0]>>2;ds[0]=ay<<2;
ay=gT[0]>>2;hk[Y+0]=Math.max(0,ay+gP);hk[Y+1]=Math.max(0,(gP<<12)-ky*778-(ay<<11)>>12);hk[Y+2]=Math.max(0,ky+gP)}}var A=O.makerNote,cq=A.t224;
if(cq){var U=c.t50719=[cq[5],cq[6]],bb=c.t50720=[cq[7]+1-cq[5],cq[8]+1-cq[6]],ap=A.t154;if(ap){U[0]+=ap[3];
U[1]+=ap[4];bb[0]=ap[1];bb[1]=ap[2]}}if(A.t16385){var cR=A.t16385,c8=cR.length,gr=0;console.log(cR);
if(cR instanceof Array)cR=new Uint16Array(cR);if(c8==582)gr=1;else if(c8==653)gr=2;else if(c8==796)gr=3;
else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(c8)!=-1)gr=4;else if([1816,1820,1824,5120].indexOf(c8)!=-1){gr=5;
cR=new Int16Array(cR.slice(0).buffer)}else if(c8==1273||c8==1275)gr=6;else if([1312,1313,1316,1506].indexOf(c8)!=-1)gr=7;
else if([1560,1592,1353,1602].indexOf(c8)!=-1)gr=8;else if(c8==3656)gr=9;else if(c8==3778||c8==3973)gr=10;
else throw"e"+c8;var fF=cR[0],cj=[null,[25,166],[34,286],[63,196],[63],[71,fF==-4?333:fF==16||fF==17||fF==18||fF==19?329:264],[63,251],[63,fF==10?504:728],[63,326],[85,343],[105,363]],j=cj[gr][0],br=cj[gr][1];
if(gr==4){if(cR[0]==2)br=231;else if(cR[0]==3)br=231;else if(cR[0]==4)br=231;else if(cR[0]==5)br=231;
else if(cR[0]==6)br=231;else if(cR[0]==7)br=231;else if(cR[0]==9)br=231;else throw"e"}c.t50728=[cR[j+1]/cR[j],1,cR[j+1]/cR[j+3]];
var f=br==null?1024:cR[br];if(gr!=4)c.t50714=[f,f,f,f]}else{c.t50728=[.4,1,.6]}if(C){c.t277=[3];c.t50728=[1,1,1];
c.t50714=[0,0,0,0]}}else if(c.t271[0].startsWith("NIKON")){var A=O.makerNote,hX=c.isLE?_.JH:_.ox,dW=0,g7=0,cy,jQ=0;
if(A.t61){var gG=A.t61,jx=[];for(var Y=0;Y<4;Y++)jx[Y]=gG[Y]/Math.pow(2,14-$);c.t50714=jx}if(A.t3585){var cr=A.t3585,Y=0,U=22;
while(U<cr.length&&Y!=-4){var a8=_.jn(cr,U);U+=4;U+=14;Y=_.jn(cr,U)-4;U+=4;if(a8==1990472198){if(cr[U]!=0)throw"Flip"}if(a8==1990472199){var f8=_.JH(cr,U);
if(f8==0)c.n2=1;else if(f8==270)c.n2=8;else throw"e "+f8}U+=Y}}if(A.t183){var eU=A.t183,bb=[];for(var Y=0;
Y<6;Y++)bb.push(hX(eU,16+Y*2));dW=bb[0];g7=bb[1]}if(A.t3614){var f7=A.t3614;dW=_.jn(f7,8);g7=_.jn(f7,12)}if(dW!=0&&Math.max(dW,g7)<Math.max(c.width,c.height)){if(dW<g7){var u=dW;
dW=g7;g7=u}var an=c.width-dW>>>1,gh=c.height-g7>>>1;c.t50829=[gh,an,gh+g7,an+dW]}else c.t50829=[8,8,c.height-8,c.width-56];
var d7=A.t69;if(d7){var aW=d7[1];if((aW&1)==1)aW++;c.t50829=[aW,d7[0],aW+d7[3],d7[0]+d7[2]]}if(A.t12){var dh=a.raw.akl(A.t12);
cy=[1/dh[0],1,1/dh[1]]}else if(A.t151){var fh=a.raw.ajg(A,151),dP=fh[0],jJ=fh[1],fg=fh[2];if(dP=="0100"&&jJ>=80)throw"e";
else if(dP=="0102"){var bo=[];for(var Y=0;Y<4;Y++)bo.push(hX(fg,6+Y*2));cy=[bo[1]/bo[0],1,bo[1]/bo[3]]}else if(dP=="0103"&&jJ>=26){var bo=[];
for(var Y=0;Y<4;Y++)bo.push(hX(fg,16+Y*2));cy=[bo[1]/bo[0],1,bo[3]/bo[2]]}else if(dP=="0204"&&jJ>=564||dP=="0205"&&jJ>=284){var U=dP=="0204"?6:14,bo=[];
for(var Y=0;Y<4;Y++)bo.push(hX(fg,U+Y*2));cy=[bo[1]/bo[0],1,bo[1]/bo[3]]}else throw"e"}else console.log("no white balance info");
if(x=="NIKON D1")cy=[1,1,1];if(cy)c.t50728=cy;var jK=A.t150?A.t150:A.t140;if(jK){var aZ=jK[jQ++],eo=jK[jQ++],dy;
if(aZ==73||eo==88)jQ+=2110;jQ+=8;var dC=1<<$&32767,hG=hX(jK,jQ);jQ+=2;var Z=[];if(hG>1)dy=Math.floor(dC/(hG-1));
if(aZ==68&&eo==32&&dy>0){for(Y=0;Y<hG;Y++){Z[Y*dy]=hX(jK,jQ);jQ+=2}for(Y=0;Y<dC;Y++)Z[Y]=Math.floor((Z[Y-Y%dy]*(dy-Y%dy)+Z[Y-Y%dy+dy]*(Y%dy))/dy)}else if(aZ!=70&&hG<=16385){dC=hG;
for(var Y=0;Y<hG;Y++)Z[Y]=hX(jK,jQ+2*Y);jQ+=2*hG}var x=c.t272[0];if(Z.length!=0)c.t50712=new Uint16Array(Z);
if(c.t258[0]==14&&c.t50717&&c.t50717[0]<1e4){console.log("fixing white");c.t50717[0]*=4}}}else if(n.startsWith("FujiFilm")){}else if(n.startsWith("Panasonic")){if(c.t277==null)c.t277=[1]}else alert("Unknown camera "+n)};
a.raw.aBG=function(c,o,K,u){if(0==K)return;var X=new Uint32Array(128),$=new Uint8Array(X.buffer),O=127,n=0,x=0;
for(var O=0;O<4;O++)X[O]=u=(u*15625>>>0)*3125+1>>>0;X[3]=X[3]<<1|(X[0]^X[2])>>>31;for(var O=4;O<127;
O++)X[O]=(X[O-4]^X[O-2])<<1|(X[O-3]^X[O-1])>>>31;for(var O=0;O<127;O++)X[O]=_.q($,O*4);for(;K>0;K--){X[O&127]=X[O+1&127]^X[O+1+64&127];
var l=X[O&127],N=c[n];N^=l;o[x]=N;n++;x++;O++}};a.raw.a0O=function(c,o){var K=_.MQ(o,0,4),u=a.raw.aC8;
for(var Y=0;Y<u.length;Y++)if(u[Y][0]==c&&K.startsWith(u[Y][1])&&(u[Y][2]==0||u[Y][2]==o.length))return u[Y];
throw"e"};a.raw.anj=function(c){if(c.t29==null)return[];var o=a.raw.aw3,K=a.raw.alo,u=c.t29[0],X=0,O=0;
for(var Y=0;Y<u.length;Y++){var $=u.charCodeAt(Y);X=X*10+(48<=$&&$<=57?$-48:$%10)}var jJ=c.t167[0];for(var Y=0;
Y<4;Y++)O^=jJ>>>(Y<<3)&255;var n=o[X&255],x=K[O&255];return[n,x,96]};a.raw.ajg=function(c,o){var K=c["t"+o],jJ=K.length,u=a.raw.a0O(o,K),X=_.MQ(K,0,4),$,O=u[4];
if(O==null)$=K.slice(4);else{$=new Uint8Array(jJ-O);var n=a.raw.anj(c),x=n[0],l=n[1],N=n[2];for(var Y=0;
Y<$.length;Y++){l=l+x*N++&255;$[Y]=K[O++]^l}}return[X,jJ,$]};a.raw.ayr=function(c,o){var K=o.t271[0],u=o.t272[0],X=o.t256[0],$=o.t257[0],O=o.t258[0],n=o.t273[0],x=n,l=new Uint8Array(c),N,f=X-4,z=$,R=l.length-n,e=0,p=0;
function V(){var v=new Uint16Array(4096),cv=0;v[cv]=3084;for(var Y=12;Y--;)for(var W=0;W<2048>>Y;W++)v[++cv]=Y+1<<8|Y;
return v}function d(){return l[x++]}function h(v,W){var D;if(v>25)return 0;if(v==0||p<0)return 0;if(v<0){e=0;
p=0;return 0}while(p<v){D=d();if(D==null)break;e=(e<<8)+(255&D);p+=8}D=p==0?0:e<<32-p>>>32-v;if(W){p-=W[D]>>8;
D=255&W[D]}else p-=v;return D}function E(){var v=V();x+=7;h(-1);for(var W=0;W<z;W++){var D=[new Int32Array(3),new Int32Array(3)];
for(var I=0;I<X;I++){var A=D[I&1],Y=2*(A[2]<3),U;for(U=2+Y;(65535&A[0])>>U+Y;U++);var w=h(3),t=w&3;w=w<<29>>31;
var L=h(12,v);if(L==12)L=h(16-U)>>>1;var J=h(U);A[0]=L<<U|J;var b=(A[0]^w)+A[1];A[1]=b*3+A[1]>>5;A[2]=A[0]>16?0:A[2]+1;
if(I>=f)continue;var F=N[W*X+I-2],cv=N[(W-2)*X+I],B=N[(W-2)*X+I-2];N[W*X+I]=(W<2&&I<2?0:W<2?F:I<2?cv:F<B&&B<cv||cv<B&&B<F?Math.abs(F-B)>32||Math.abs(cv-B)>32?F+cv-B:F+cv>>1:Math.abs(F-B)>Math.abs(cv-B)?F:cv)+(b<<2|t)}}}function q(){var v=X*O/8,W=$+1>>1,I=0,A=0;
v+=v&6>>7;var D=v*8-X*O;for(var U=0;U<$;U++){var w=U%W*2+~~(U/W);if(w==1){I=0;x=n-(-W*v&-2048)}for(var t=0;
t<X;t++){for(I-=O;I<0;I+=8){A<<=8;for(var Y=0;Y<8;Y+=8)A|=d()<<Y}var L=A<<64-O-I>>>64-O;N[w*X+t]=L}I-=D}}function Z(){var v=!K.startsWith("OLYMPUS")||!K.startsWith("OM Digi")||!K.toLowerCase().startsWith("clauss")&&!u.toLowerCase().startsWith("pix 5oo");
return v&&R<X*$}if(Z()){N=new Uint16Array(f*z);E()}else{N=new Uint16Array(X*$);q()}return N};a.raw.aC8=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
a.raw.aw3=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
a.raw.alo=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
a.gs={};a.gs.gs=function(c,o,K,u,X){if(u==null)u=3;if(X==null)X=!0;var $=c.m,O=c.e,n=1/$,x=$*O,l=Date.now(),N=!1,f=a.gs.azm(K,$,O,255,128),z=a.gs.azm(K,$,O,0,128),T=0;
if(N)console.log("extract contours",Date.now()-l);l=Date.now();var R=function(cr,a8){var f8=cr<<2,dW=a8<<2;
return o[f8]+o[f8+1]+o[f8+2]-(o[dW]+o[dW+1]+o[dW+2])};f.sort(R);z.sort(R);var V=a.R(x),d=a.R(x),e=[],p=new Uint32Array($*O);
p.fill(4294967295);for(var Y=0;Y<x;Y++)if(K[Y]==0)d[Y]=255;else if(K[Y]==255)V[Y]=255;else{p[Y]=e.length;
e.push(Y)}var h=f.length,E=z.length,q=e.length;function Z(cr,a8,f8,dW){var g7=cr.length,eU=new Array(g7*2);
for(var Y=0;Y<g7;Y++){var F=cr[Y],B=~~(F*dW),k=F-B*f8,cj=F<<2;eU[Y*2]=k<<16|B;eU[Y*2+1]=a8[cj]<<16|a8[cj+1]<<8|a8[cj+2]}return eU}var v=Z(f,o,$,n),W=Z(z,o,$,n),D=Z(e,o,$,n);
if(N)console.log("Itemize",Date.now()-l,"Unknown:",q,h,E);l=Date.now();var I=a.style.NZ(V,$,O,!0),A=a.style.NZ(d,$,O,!0),U=new Array(q),w=new Array(q),t=new Array(q),L=new Array(q),J=new Array(q);
if(N)console.log("Dist transform",Date.now()-l);l=Date.now();var b=a.gs.U7;for(var Y=0;Y<q;Y++){var F=e[Y],B=~~(F*n),k=F-B*$,i=I[F<<1],H=I[(F<<1)+1],m=Math.sqrt(i*i+H*H),j=A[F<<1],Q=A[(F<<1)+1],G=Math.sqrt(j*j+Q*Q);
U[Y]=1/m;w[Y]=1/G;var g=Math.floor(a.a.Gz(F*17)*h),P=Math.floor(a.a.Gz(F*19)*E);t[Y]=g;L[Y]=P;J[Y]=b(D[Y*2],D[Y*2+1],v[g*2],v[g*2+1],W[P*2],W[P*2+1],U[Y],w[Y],1e9)}var M=[-$-1,-$,-$+1,-1,1,$-1,$,$+1];
while(Math.floor(Math.max(h,E)*Math.pow(.5,T))>1)T++;for(var C=0;C<u;C++){var gf=0;for(var Y=0;Y<q;Y++){var F=e[Y],B=~~(F*n),k=F-B*$,s=U[Y],b3=w[Y],d5=D[Y*2],gh=D[Y*2+1],jt=J[Y],g=t[Y],P=L[Y],cq=1;
if(B!=0&&k!=0&&k!=$-1&&B!=O-1)for(var fl=0;fl<8;fl++){var eq=p[F+M[fl]];if(eq==4294967295)continue;var c7=t[eq],k8=L[eq];
if(c7==g&&k8==P)continue;var hs=b(d5,gh,v[c7*2],v[c7*2+1],W[k8*2],W[k8*2+1],s,b3,jt);if(hs<jt){jt=hs;
g=c7;P=k8}}for(var jn=0;jn<T;jn++){var hk=~~(h*cq),ds=~~(E*cq);cq*=.5;var gT=a.a.Gz(F+C*17+jn*31),gP=a.a.Gz(F+C*29+jn*63),ky=Math.max(0,g-hk),ay=Math.min(g+hk,h-1),bb=Math.max(0,P-ds),ap=Math.min(P+ds,E-1),c7=ky+~~(gT*(ay-ky)),k8=bb+~~(gP*(ap-bb)),hs=b(d5,gh,v[c7*2],v[c7*2+1],W[k8*2],W[k8*2+1],s,b3,jt);
if(hs<jt){jt=hs;g=c7;P=k8}}J[Y]=jt;t[Y]=g;L[Y]=P;gf+=jt}}if(N)console.log(gf);if(N)console.log("iterations",Date.now()-l);
l=Date.now();var cR=K.slice(0);for(var Y=0;Y<q;Y++){var c8=a.gs.alpha(D[Y*2+1],v[t[Y]*2+1],W[L[Y]*2+1]);
cR[e[Y]]=~~(.5+255*c8)}cR=a.eB.agz(cR,o,new ez(0,0,$,O),16,.01*.01);if(N)console.log("guided filter",Date.now()-l);
l=Date.now();if(X)for(var Y=0;Y<x;Y++)if(K[Y]==255||K[Y]==0)cR[Y]=K[Y];var gr=o.slice(0);for(var Y=0;
Y<q;Y++){var fF=e[Y],g=f[t[Y]],jt=J[Y],cj=fF<<2,br=cR[fF],jx=(br>=250?fF:g)<<2;gr[cj]=o[jx];gr[cj+1]=o[jx+1];
gr[cj+2]=o[jx+2]}a.bp(cR,gr,3);if(N)console.log(Date.now()-l);l=Date.now();return gr};a.gs.U7=function(c,o,K,u,X,$,O,n,x){var l=c>>>16,N=c&65535,f=l-(K>>>16),z=N-(K&65535),R=l-(X>>>16),V=N-(X&65535),d=Math.sqrt(f*f+z*z)*O,e=Math.sqrt(R*R+V*V)*n;
if(d+e>=x)return 1e9;var p=a.gs.a98(o,u,$);return p+d+e};a.gs.a98=function(c,o,K){var u=c>>>16,X=c>>>8&255,$=c&255,O=o>>>16,n=o>>>8&255,x=o&255,l=K>>>16,N=K>>>8&255,f=K&255,z=a.gs.alpha(c,o,K),R=u-(z*O+(1-z)*l),V=X-(z*n+(1-z)*N),d=$-(z*x+(1-z)*f);
return Math.sqrt(R*R+V*V+d*d)};a.gs.alpha=function(c,o,K){var u=c>>>16,X=c>>>8&255,$=c&255,O=o>>>16,n=o>>>8&255,x=o&255,l=K>>>16,N=K>>>8&255,f=K&255,z=O-l,R=n-N,V=x-f,d=u-l,e=X-N,p=$-f,h=z*z+R*R+V*V,E=h==0?.5:(d*z+e*R+p*V)/h;
return Math.max(0,Math.min(1,E))};a.gs.a2s=function(c){};a.gs.azm=function(c,o,K,u,X){var $=[],O=o-1,n=K-1;
for(var x=1;x<n;x++)for(var l=1;l<O;l++){var Y=x*o+l;if(c[Y]==u&&(c[Y-o-1]==X||c[Y-o]==X||c[Y-o+1]==X||(c[Y-1]==X||c[Y+1]==X)||(c[Y+o-1]==X||c[Y+o]==X||c[Y+o+1]==X)))$.push(Y)}return $};
a.eB={};a.eB.a4H=function(c,o,K,u,X){var $=K.m,O=K.e,n=$*O,x=a.eB.a7o,l=a.R(n*4),N;a.ms(l,4294967295);
var f=K,z=c,R=o,V=u;a.bp(c,l,0);N=a.KP(l,K);N=a.KP(N.PX,N.rect);f=N.rect;V=u>>>2;console.log(f,V);z=a.R(f.P());
a.Sw(N.PX,z,0);a.bp(o,l,0);N=a.KP(l,K);N=a.KP(N.PX,N.rect);R=a.R(f.P());a.Sw(N.PX,R,0);var d=a.eB.asw(z,R,f,V,X),e=d[0],p=d[1],h=new ez(0,0,f.m*2,f.e*2);
e=x(e,f,h,!0);e=x(e,h,K,!0);p=x(p,f,h,!0);p=x(p,h,K,!0);var E=a.R(n);for(var Y=0;Y<n;Y++)E[Y]=Math.max(0,Math.min(255,Math.floor(.5+(e[Y]*o[Y]+255*p[Y]))));
return E};a.eB.kZ=function(c,o,K,u){o.set(c);a.kZ.aDl(o,K,u)};a.eB.a7o=function(c,o,K,u){var X=K.m,$=K.e,O=o.m,n=o.e,x=a.eB.Y7,l=new Float32Array(X*$);
for(var N=0;N<n;N++){var f=(N+N)*X;for(var z=0;z<O;z++){if(!0||z==0||N==0||z==O-1||N==n-1)l[f]=l[f+1]=l[f+X]=l[f+X+1]=c[N*O+z];
else{l[f]=x(z+.25,N+.25,c,O,n);l[f+1]=x(z+.75,N+.25,c,O,n);l[f+X]=x(z+.25,N+.75,c,O,n);l[f+X+1]=x(z+.75,N+.75,c,O,n)}f+=2}}return l};
a.eB.Y7=function(c,o,K,u,X){c-=.499999;o-=.499999;var $=Math.floor(c),O=Math.floor(o),n=O*u+$,x=c-$,l=o-O,N=(1-l)*(1-x),f=(1-l)*x,z=l*(1-x),R=l*x;
if(K[n]==null||K[n+u+1]==null){console.log(c,o,u,X);throw"e"}return N*K[n+0]+f*K[n+1]+z*K[n+u+0]+R*K[n+u+1]};
a.eB.asw=function(c,o,K,u,X){var $=K.m,O=K.e,n=$*O,x=a.eB.aCV,l=a.eB.R,N=a.eB.kZ,f=a.eB.yQ,o=x(o,n),c=x(c,n),z=l(n);
N(o,z,K,u);var R=l(n);N(c,R,K,u);var V=l(n);f(o,o,V);N(V,V,K,u);var d=l(n);f(o,c,d);N(d,d,K,u);var e=l(n),p=l(n);
for(var Y=0;Y<n;Y++){var h=z[Y],E=R[Y],q=V[Y]-h*h,Z=d[Y]-h*E,v=Z/(q+X),W=E-v*h;e[Y]=v;p[Y]=W}var D=l(n);
N(e,D,K,u);var I=l(n);N(p,I,K,u);return[D,I]};a.eB.agz=function(c,o,K,u,X){var $=K.m,O=K.e,n=$*O,x=a.eB.a7o,l=Date.now(),N=!1,f=K,z=c,R=o,V=u;
f=new ez(0,0,$>>>2,O>>>2);V=u>>>2;z=a.eB.adE(c,$,O);R=a.eB.alx(o,$,O);if(N)console.log(Date.now()-l);
l=Date.now();var d=a.eB.aBj(z,R,f,V,X),e=d[0],p=d[1],h=d[2],E=d[3];if(N)console.log(Date.now()-l);l=Date.now();
var q=a.R(n);for(var Z=0;Z<O;Z++)for(var v=0;v<$;v++){var Y=Z*$+v,W=(Z>>>2)*($>>>2)+(v>>>2),D=Y<<2,I=e[W]*o[D]+p[W]*o[D+1]+h[W]*o[D+2]+E[W]*255;
q[Y]=Math.max(0,Math.min(255,~~(.5+I)))}if(N)console.log(Date.now()-l);l=Date.now();return q};a.eB.adE=function(c,o,K){var u=o>>>2,X=K>>>2,$=a.R(u*X);
for(var O=0;O<X;O++)for(var n=0;n<u;n++)$[O*u+n]=c[O*o+n<<2];return $};a.eB.alx=function(c,o,K){var u=o>>>2,X=K>>>2,$=a.R(u*X*4);
for(var O=0;O<X;O++)for(var n=0;n<u;n++){var x=O*u+n<<2,l=O*o+n<<4;$[x]=c[l];$[x+1]=c[l+1];$[x+2]=c[l+2];
$[x+3]=c[l+3]}return $};a.eB.aBj=function(c,o,K,u,X){var $=K.m,O=K.e,n=$*O,x=a.eB.aCV,l=a.eB.R,N=a.eB.kZ,f=a.eB.yQ,c=x(c,n),z=new a.Ko($*O);
a.j1(o,z);var o=[x(z.Z,n),x(z.r,n),x(z.J,n)],R=a.eB.atD(c,o,K,u,X),V=l(n);N(c,V,K,u);var d=l(n);f(o[0],c,d);
N(d,d,K,u);var e=l(n);f(o[1],c,e);N(e,e,K,u);var p=l(n);f(o[2],c,p);N(p,p,K,u);var h=l(n),E=l(n),q=l(n),Z=l(n);
for(var Y=0;Y<n;Y++){var v=V[Y],W=R.Qe[Y],D=R.gX[Y],I=R.tk[Y],A=d[Y]-W*v,U=e[Y]-D*v,w=p[Y]-I*v;h[Y]=R.aiw[Y]*A+R.Y6[Y]*U+R.um[Y]*w;
E[Y]=R.Y6[Y]*A+R.a6e[Y]*U+R.m9[Y]*w;q[Y]=R.um[Y]*A+R.m9[Y]*U+R.aes[Y]*w;Z[Y]=v-h[Y]*W-E[Y]*D-q[Y]*I}N(h,h,K,u);
N(E,E,K,u);N(q,q,K,u);N(Z,Z,K,u);return[h,E,q,Z]};a.eB.atD=function(c,o,K,u,X){var $=K.m,O=K.e,n=$*O,x=a.eB.R,l=a.eB.kZ,N=a.eB.yQ,f={};
f.Qe=x(n);l(o[0],f.Qe,K,u);f.gX=x(n);l(o[1],f.gX,K,u);f.tk=x(n);l(o[2],f.tk,K,u);var z=x(n);N(o[0],o[0],z);
l(z,z,K,u);var R=x(n);N(o[0],o[1],R);l(R,R,K,u);var V=x(n);N(o[0],o[2],V);l(V,V,K,u);var d=x(n);N(o[1],o[1],d);
l(d,d,K,u);var e=x(n);N(o[1],o[2],e);l(e,e,K,u);var p=x(n);N(o[2],o[2],p);l(p,p,K,u);f.aiw=z;f.Y6=R;
f.um=V;f.a6e=d;f.m9=e;f.aes=p;for(var Y=0;Y<n;Y++){var h=f.Qe[Y],E=f.gX[Y],q=f.tk[Y],Z=z[Y]-h*h+X,v=R[Y]-h*E,W=V[Y]-h*q,D=d[Y]-E*E+X,I=e[Y]-E*q,A=p[Y]-q*q+X,U=D*A-I*I,w=I*W-v*A,t=v*I-D*W,L=Z*A-W*W,J=W*v-Z*I,b=Z*D-v*v,F=U*Z+w*v+t*W,B=1/F;
f.aiw[Y]=U*B;f.Y6[Y]=w*B;f.um[Y]=t*B;f.a6e[Y]=L*B;f.m9[Y]=J*B;f.aes[Y]=b*B}return f};a.eB.R=function(c){return new Float32Array(c)};
a.eB.aCV=function(c,o){var K=new Float32Array(o);for(var Y=0;Y<o;Y++)K[Y]=c[Y]*(1/255);return K};a.eB.yQ=function(c,o,K){for(var Y=0;
Y<c.length;Y++)K[Y]=c[Y]*o[Y]};a.XP={};a.XP.AE=function(c,o,K,u){var X=c[o]-K[u],$=c[o+1]-K[u+1],O=c[o+2]-K[u+2];
return Math.sqrt(X*X+$*$+O*O)*(1/441.7)};a.XP.getSelection=function(c,o,K){var u=o*K,X=a.R(u),$=!1,O=Math.round(K*.7),n=1,x=new Uint32Array(12),l=a.R(12);
for(var N=0;N<O;N++)for(var f=0;f<o;f++){if(f<n||N<n||f>o-n-1||N>K-n-1){var Y=N*o+f,z=Y<<2,R=0;if(N<n)R=4;
else if(f>o-n-1)R=8;x[R]+=c[z];x[R+1]+=c[z+1];x[R+2]+=c[z+2];x[R+3]++;X[Y]=255}}for(var Y=0;Y<12;Y+=4)for(var V=0;
V<3;V++)l[Y+V]=x[Y+V]/x[Y+3];var d=new Float32Array(u);for(var Y=0;Y<u;Y++){var z=Y*4,e=a.XP.AE(c,z,l,0),p=a.XP.AE(c,z,l,4),h=a.XP.AE(c,z,l,8),E=Math.max(e,Math.max(p,h));
d[Y]=e+p+h-E}a.XP.ob(d);var q=Date.now(),Z=new Float32Array(u),v=[],W=a.R(u);for(var Y=0;Y<3;Y++){a.Sw(c,W,Y);
var D=new Uint16Array(u);v.push(D);a.XP.a5f(W,X,o,K,D)}if($)console.log("MBD",Date.now()-q);q=Date.now();
for(var Y=0;Y<u;Y++)Z[Y]=v[0][Y]+v[1][Y]+v[2][Y];a.XP.ob(Z);for(var Y=0;Y<u;Y++)Z[Y]+=.4*d[Y];var I=o>>>1,O=K>>>1,A=1/Math.sqrt(I*I+O*O);
for(var N=0;N<K;N++)for(var f=0;f<o;f++){var U=f-I,w=N-O,t=1-Math.sqrt(U*U+w*w)*A;Z[N*o+f]*=t}if($)console.log("Centeredness",Date.now()-q);
q=Date.now();for(var Y=0;Y<u;Y++)X[Y]=Z[Y]*255;var L=Math.round(o/120),J=Math.round(L*.8);if($)console.log(L,J);
a.kS.Wc(X,X,o,K,L+L+1,!1);if($)console.log("erosion",Date.now()-q);q=Date.now();for(var Y=0;Y<u;Y++)Z[Y]=X[Y];
a.XP.ob(Z);var b=a.R(256);for(var Y=0;Y<256;Y++)b[Y]=256/(1+Math.exp(-20*(Y/255-.5)));for(var Y=0;Y<u;
Y++){var F=~~(Z[Y]*255+.5);X[Y]=b[F]}if($)console.log("Simoid",Date.now()-q);q=Date.now();return X};
a.XP.ob=function(c){var o=c.length,K=0;for(var Y=0;Y<o;Y++)K=Math.max(K,c[Y]);var u=1/K;for(var Y=0;
Y<o;Y++)c[Y]=c[Y]*u};a.XP.a5f=function(c,o,K,u,X){var $=K*u,O=c.slice(0),n=c.slice(0);for(var Y=0;Y<$;
Y++)X[Y]=o[Y]==255?0:65535;a.XP.a7M(c,n,O,X,K,u);a.XP.a2v(c,n,O,X,K,u);a.XP.a7M(c,n,O,X,K,u);a.XP.a2v(c,n,O,X,K,u);
return X};a.XP.a7M=function(c,o,K,u,X,$){for(var O=1;O<X;O++)a.XP.DR(O,-1,c,o,K,u);for(var n=1;n<$;n++){a.XP.DR(n*X,-X,c,o,K,u);
for(var O=1;O<X;O++){var Y=n*X+O;a.XP.DR(Y,-1,c,o,K,u);a.XP.DR(Y,-X,c,o,K,u)}}};a.XP.a2v=function(c,o,K,u,X,$){for(var O=X-2;
O>=0;O--)a.XP.DR(X*$-X+O,1,c,o,K,u);for(var n=$-2;n>=0;n--){a.XP.DR(n*X+X-1,X,c,o,K,u);for(var O=X-2;
O>=0;O--){var Y=n*X+O;a.XP.DR(Y,1,c,o,K,u);a.XP.DR(Y,X,c,o,K,u)}}};a.XP.DR=function(Y,c,o,K,u,X){var $=Y+c,O=o[Y],n=K[$],x=u[$];
if(n<O)n=O;else if(O<x)x=O;var l=n-x;if(X[$]!=65535&&l<X[Y]){X[Y]=l;K[Y]=n;u[Y]=x}};a.wy={};a.wy.filter=function(c,o,K,u){var X=o.m,$=o.e,O=X*$,n=u[0],x=u[1],l=u[2],N=u[3],f=u[4],z=u[5],R=u[6],V=Date.now(),d=new Float32Array(X*$*4);
a.wy.avR(c,X,$,d);var e=Math.ceil(n*Math.sqrt(-2*Math.log(.1))),p=new ArrayBuffer(O*4),h=new Float32Array(p),E=new Float32Array(O),q=new Float32Array(O);
for(var Y=0;Y<O;Y++){var Z=Y*4;h[Y]=d[Z];E[Y]=d[Z+1];q[Y]=d[Z+2]}a.kZ.sI(h,o,e*1/2.4,2);a.kZ.sI(E,o,e*1/2.4,2);
a.kZ.sI(q,o,e*1/2.4,2);for(var Y=0;Y<O;Y++){var Z=Y*4;d[Z]=h[Y];d[Z+1]=E[Y];d[Z+2]=q[Y]}var v=new Uint8Array(p);
for(var Y=0;Y<O;Y++){var Z=Y*4,W=Y*4,h=d[Z],E=d[Z+1],q=d[Z+2],D=Math.sqrt((h-q)*(h-q)+4*E*E),I=(h+q+D)*.5,A=(h+q-D)*.5,U=A-q,w=E,t=U*U+w*w;
if(t!=0){var L=Math.sqrt(t),J=1/L;U*=J;w*=J}v[W]=128+127*U;v[W+1]=128+127*w}var b=1.3*x+2,F=N*(2/10),B=c.slice();
if(jT.lW){var k=new Float32Array([1/X,1/$]),i=jT.xZ(0,X,$);i.set(B);var H=jT.xZ(1,X,$);H.set(v);jT.Gf(i,o);
if(f){i.wC(o);jT.filter.YD({type:jT.filter.a1G,y_:k,aim:1/l,a5i:F},i.XW)}i.wC(o);jT.filter.YD({type:jT.filter.w1,x3:H.hO,y_:k,a7i:b,akd:2},i.XW);
if(f){i.wC(o);jT.filter.YD({type:jT.filter.avZ,y_:k,aoB:new Float32Array(R),aux:z},i.XW)}i.get(K)}else{if(f)a.wy.U_(1/l,F,B,X,$);
a.wy.w1(B,K,v,X,$,b);if(f)a.wy.a8D(X,$,K,R,z)}var m=O*4;for(var Y=3;Y<m;Y+=4)K[Y]=c[Y]};a.wy.w1=function(c,o,K,u,X,$){var O=Math.ceil(2*$),n=-1/(2*$*$),x=[],l=1;
for(var Y=0;Y<O+20;Y++)x[Y]=Math.exp(Y*Y*n);var N=[0,0,0,0];for(var f=0;f<X;f++){for(var z=0;z<u;z++){var R=f*u+z,V=R*4,d=1,e=c[V],p=c[V+1],h=c[V+2],E=c[V+3],q=(K[V]-128)*(1/127),Z=(K[V+1]-128)*(1/127),v=q,W=Z,D=z==0?.51:.49,I=f==0?.51:.49;
for(var Y=0;Y<2;Y++){var A=z+D,U=f+I,w=0;while(w<O){if(A<.5||u-.5<A||U<.5||X-.5<U)break;var t=~~A,L=~~U,J=L*u+t,b=J*4,F=(K[b]-128)*(1/127),B=(K[b+1]-128)*(1/127);
if(F*v+B*W<0){F=-F;B=-B}v=F;W=B;A+=l*F;U+=l*B;if(A<.5||u-.5<A||U<.5||X-.5<U)break;var k=~~A,i=~~U,H=i*u+k<<2;
w+=l;var m=x[~~w];a.D.a2D(A,U,c,u,X,N);e+=N[0]*m;p+=N[1]*m;h+=N[2]*m;E+=N[3]*m;d+=m}v=-q;W=-Z}var j=1/d;
o[V]=~~(.5+e*j);o[V+1]=~~(.5+p*j);o[V+2]=~~(.5+h*j);o[V+3]=~~(.5+E*j)}}};a.wy.a8D=function(c,o,K,u,X){for(var $=0;
$<o;$++)for(var O=0;O<c;O++){var n=$*c+O<<2,x=1+a.wy.abR(O,$,K,c,o,u)*X;K[n]=Math.max(0,Math.min(255,K[n]*x));
K[n+1]=Math.max(0,Math.min(255,K[n+1]*x));K[n+2]=Math.max(0,Math.min(255,K[n+2]*x))}};a.wy.abR=function(c,o,K,u,X,$){var O=K[(o*u+Math.max(0,c-1))*4+3],n=K[(o*u+Math.min(u-1,c+1))*4+3],x=K[(Math.max(0,o-1)*u+c)*4+3],l=K[(Math.min(X-1,o+1)*u+c)*4+3],N=.7,f=(n-O)*(1/255),z=.7,R=(l-x)*(1/255),V=-f*z,d=-N*R,e=N*z,p=Math.sqrt(V*V+d*d+e*e),h=1/p,E=V*h,q=d*h,Z=e*h,v=$[0]*E+$[1]*q+$[2]*Z;
return v};a.wy.U_=function(c,o,K,u,X){function $(n,l,N){return Math.max(l,Math.min(N,n))}for(var O=0;
O<X;O++)for(var n=0;n<u;n++){var x=a.wy.ar$(n+.5,O+.5,c,o);K[(O*u+n)*4+3]=Math.max(0,Math.min(255,x*255))}};
a.wy.ar$=function(c,o,K,u){function X(W,D,I){return(1-I)*W+I*D}var $=(c+613)*K,O=(o+117)*K,n=~~$,x=~~O,l=$-n,N=O-x,f=Math.sin(11),z=Math.cos(n)*f,R=Math.cos(n+1)*f,V=Math.cos(x)*f,d=Math.cos(x+1)*f,cv=a.wy.hash(z,V),e=a.wy.hash(R,V),p=a.wy.hash(z,d),h=a.wy.hash(R,d),E=X(cv,e,l),q=X(p,h,l),Z=X(E,q,N);
Z=Z<.5?0:1;var v=Z+u*a.wy.hash(Math.cos($)*f,Math.cos(O)*f);return v*(1/3)};a.wy.hash=function(c,o){var K=Math.sin(c*11.697096+o*73.32456)*12157.47691;
return K-Math.floor(K)};a.wy.avR=function(c,o,K,u){var X=[-1,0,1,-2,0,2,-1,0,1],$=[-1,-2,-1,0,0,0,1,2,1],O=o-1,n=K-1,x=o*4;
for(var l=1;l<n;l++)for(var N=1;N<O;N++){var Y=l*o+N,f=Y*4,z=a.wy.uD(c,f,x,X),R=a.wy.uD(c,f,x,$),V=a.wy.uD(c,f+1,x,X),d=a.wy.uD(c,f+1,x,$),e=a.wy.uD(c,f+2,x,X),p=a.wy.uD(c,f+2,x,$);
u[f]=z*z+V*V+e*e;u[f+1]=z*R+V*d+e*p;u[f+2]=R*R+d*d+p*p}a.wy.axL(u,o,K)};a.wy.uD=function(c,o,K,u){return c[o-K-4]*u[0]+c[o-K]*u[1]+c[o-K+4]*u[2]+c[o-4]*u[3]+c[o]*u[4]+c[o+4]*u[5]+c[o+K-4]*u[6]+c[o+K]*u[7]+c[o+K+4]*u[8]};
a.wy.axL=function(c,o,K){function u(x,Y,l){var N=Y*4,f=l*4;x[f]=x[N];x[f+1]=x[N+1];x[f+2]=x[N+2]}var X=o-1,$=K-1;
u(c,o+1,0);u(c,2*o-2,o-1);for(var O=1;O<X;O++)u(c,o+O,O);for(var n=1;n<$;n++){u(c,n*o+1,n*o);u(c,n*o+o-2,n*o+o-1)}for(var O=1;
O<X;O++)u(c,(K-2)*o+O,(K-1)*o+O);u(c,(n-2)*o+1,(n-1)*o);u(c,(n-1)*o-2,n*o-1)};a.f5=function(){function c(l,N,f,z){var R=new Float32Array(l*l),V=l/2;
for(var d=0;d<l;d++)for(var e=0;e<l;e++){var p=e+f-V,h=d+z-V;R[d*l+e]=Math.max(0,Math.min(1,N+.5-Math.sqrt(p*p+h*h)))}return R}var o=[],u=null;
function K(l,N,f,z){var R=Math.floor(N*10),V=o[R],d=l*8,e=d>>>1;if(V==null){V=o[R]=[];var p=new ez(0,0,d,d),h=l/2/(1+.2*N),E=Math.floor(l*R*.1);
for(var q=0;q<2;q++)for(var Z=0;Z<2;Z++){var v=c(d,h,.25+Z*.5,.25+q*.5),W=0;a.kZ.sI(v,p,E);while(v[d*e+W]<.005)W++;
if(W!=0)W--;var D=2*(e-W),I=new ez(W,W,D,D),A=new Float32Array(D*D);for(var U=0;U<D;U++)for(var w=0;
w<D;w++)A[U*D+w]=v[(W+U)*d+W+w];V.push([A,I])}}var t=Math.floor(f),L=Math.floor(z),J=f-t,b=z-L,F=J<.5?1:0,B=b<.5?1:0;
V=V[B*2+F];var I=V[1].clone();I.x+=t-e;I.y+=L-e;return[V[0],I]}function X(l,N,f){if(u==null){u=new Uint8Array(4e4);
for(var Y=0;Y<4e4;Y++)u[Y]=Math.min(255,~~(.5+255*a.CA(Y*(1/255))))}var z=l.length;for(var Y=0;Y<z;Y++){var R=l[Y],V=~~(255*R);
N[Y]=u[V]<<24|f}}function $(l,N,f,z,R){var V=N.ar(z),d=Math.max(0,V.x-N.x),e=Math.max(0,V.x-z.x),p=Math.max(0,V.y-N.y),h=Math.max(0,V.y-z.y),E=V.m,q=V.e;
for(var Y=0;Y<q;Y++){var Z=(p+Y)*N.m+d,v=(h+Y)*z.m+e;for(var W=0;W<E;W++){f[v+W]+=R*l[Z+W]}}}var O=-1;
function n(l,N,f,z,R){var V=Math.round(z[1]*N*f*.01),d=z[2],e=z[3],p=z[4],h=z[5],E=z[6],q=z[7],Z=z[8],v=z[9],W=z[10]?z[10]:1,m=!1;
if(d!=O){o=[];O=d}var D=Date.now(),I=new ez(0,0,N,f),A=new x(z[0]);if(R)l.fill(0);var U=new Float32Array(R?l.buffer:N*f);
for(var Y=0;Y<V;Y++){var w=A.get()*N,t=A.get()*f,L=A.get()*e,J=A.get()*d*4,b=(A.get()+E)*Math.PI*2,F=A.get()*d*4,B=(A.get()+2*E)*Math.PI*2;
w+=v*(J*Math.cos(b)+F*Math.cos(B));t+=v*(J*Math.sin(b)+F*Math.sin(B));if(Z)t=t+E*f*W;var k=K(d,L,w,t%f),i=p,H=A.get();
if(q)i=.5+.5*p*(.5+.5*Math.sin((2*E+H)*2*Math.PI));$(k[0],k[1],U,I,i)}if(m)console.log(Date.now()-D,"add floats");
D=Date.now();var j=new Uint8Array(U.buffer);X(U,new Uint32Array(j.buffer),h.J<<16|h.r<<8|h.Z);if(m)console.log(Date.now()-D,"toInt");
D=Date.now();if(!R){a.a.hA("scrn",j,I,l,I,I,1);if(m)console.log(Date.now()-D,"blendOver")}}function x(l){this.yK=123456789;
this.Ew=987654321;this.F=4294967295;this.cn(l)}x.prototype.cn=function(Y){this.yK=123456789+Y&this.F;
this.Ew=987654321-Y&this.F};x.prototype.get=function(){this.Ew=36969*(this.Ew&65535)+(this.Ew>>16)&this.F;
this.yK=18e3*(this.yK&65535)+(this.yK>>16)&this.F;var l=(this.Ew<<16)+(this.yK&65535)>>>0;l/=4294967296;
return l};return{Cb:n}}();a.q_={};a.q_.fT=function(c,o,K,u){var X=c[o*2],$=c[o*2+1],O=c[K*2],n=c[K*2+1],x=c[u*2],l=c[u*2+1];
return X*n+O*l+x*$-x*n-O*$-X*l};a.q_.ayl=function(c,o){var K=[],u=[],X=[],$={};for(var Y=0;Y<o.length;
Y+=3){var O=~~(Y*(1/3)),n=o[Y+0],x=o[Y+1],l=o[Y+2],N=a.q_.fT(c,n,x,l);if(N>0){var f=x;x=l;l=f}var z=$[l+"-"+x],R=$[x+"-"+n],V=$[n+"-"+l],d=[l,z,O,null],e=[x,R,O,d],p=[n,V,O,e];
d[3]=p;if(z)z[1]=d;if(R)R[1]=e;if(V)V[1]=p;$[l+"-"+n]=p;$[n+"-"+x]=e;$[x+"-"+l]=d;K[n]=e;X[Y]=e;K[x]=d;
X[Y+1]=d;K[l]=p;X[Y+2]=p;u[O]=e}return{T9:K,S1:u,i8:X}};a.q_.adt=function(c){var o=[],K=c.S1;for(var Y=0;
Y<K.length;Y++){var u=K[Y];o.push(u[0]);u=u[3];o.push(u[0]);u=u[3];o.push(u[0])}return o};a.q_.agv=function(c,o,K,u){var X=c[o*2],$=c[o*2+1],O=c[K*2],n=c[K*2+1],x=c[u*2],l=c[u*2+1],N=O-X,f=n-$,z=x-X,R=l-$,V=N*(X+O)+f*($+n),d=z*(X+x)+R*($+l),e=2*(N*(l-n)-f*(x-O));
if(Math.abs(e)<1e-5){var p=Math.min(X,O,x),h=Math.min($,n,l),E=(Math.max(X,O,x)-p)*.5,q=(Math.max($,n,l)-h)*.5;
return[p+E,h+q,E*E+q*q,1]}var Z=(R*V-f*d)/e,v=(N*d-z*V)/e,E=Z-X,q=v-$;return[Z,v,E*E+q*q,0]};a.q_.ayS=function(c,o,K){var u=K[1],X=K[3],$=X[3],O=u[3],n=O[3],x=K[2],l=u[2],N=K[0],f=u[0],z=X[0],R=O[0],V=a.q_.agv(c,f,R,z),d=c[N*2]-V[0],e=c[N*2+1]-V[1],p=d*d+e*e>V[2]&&V[3]==0&&a.q_.fT(c,R,N,z)<0&&a.q_.fT(c,z,f,R)<0;
if(p){K[0]=z;u[0]=R;K[3]=$;$[3]=O;O[3]=K;u[3]=n;n[3]=X;X[3]=u;X[2]=l;O[2]=x;o.S1[l]=n;o.S1[x]=$;o.T9[f]=O;
o.T9[N]=X}return p};a.q_.arA=function(c,o,K){var u=c[o*2]-c[K*2],X=c[o*2+1]-c[K*2+1];return Math.sqrt(u*u+X*X)};
a.q_.amX=function(c,o,K){var u=K[1],X=K[3],$=X[3],O,n,x=K[2],l,N=K[0],f=$[0],z=X[0],R;if(u){O=u[3];n=O[3];
l=u[2];R=O[0]}var V=c.length>>>1;c[2*V]=(c[2*f]+c[2*N])*.5;c[2*V+1]=(c[2*f+1]+c[2*N+1])*.5;if(!0){var d=x,e=K,p=o.S1.length,h=[V,null,d,e],E=[z,h,p,$];
h[1]=E;var q=[V,null,p,E];X[3]=h;$[3]=q;$[2]=p;o.S1[d]=X;o.S1[p]=q;o.T9[N]=X;o.T9[z]=$;o.i8.push(h,E,q)}if(u){var Z=l,v=u,W=p+1;
q[1]=v,v[1]=q;var D=[V,null,Z,v],I=[R,D,W,n];D[1]=I;var A=[V,e,W,I];e[1]=A;O[3]=D;n[3]=A;n[2]=W;o.S1[Z]=O;
o.S1[W]=n;o.T9[f]=O;o.T9[R]=n;o.i8.push(D,I,A)}o.T9[V]=e};a.q_.a3x=function(c,o){var K=0;while(!0){var u=K;
for(var Y=0;Y<o.i8.length;Y++){var X=o.i8[Y];if(X[1]==null)continue;var $=a.q_.ayS(c,o,X);if($){K++;
break}}if(u==K)break}return K!=0};a.q_.aet=function(c,o,K,u){var X=0;for(var Y=0;Y<u;Y++){var $=null,O=0;
for(var n=0;n<o.i8.length;n++){var x=o.i8[n],l=a.q_.arA(c,x[0],x[3][3][0])*(x[1]?1:2);if(l>O){$=x;O=l}}if(O>K){a.q_.amX(c,o,$);
X++}}return X!=0};a.q_.ano=function(c,o){var K=[],z=0;for(var Y=0;Y<c.length;Y++)K.push(0);for(var Y=0;
Y<o.i8.length;Y++){var u=o.i8[Y],X=u[0],$=u[3][3][0],O=c[X*2],n=c[X*2+1],x=c[$*2],l=c[$*2+1],N=O-x,f=n-l;
K[X*2]+=-N;K[X*2+1]+=-f;K[$*2]+=N;K[$*2+1]+=f}for(var Y=0;Y<c.length;Y+=2){var R=Y>>>1,V=o.T9[R],u=V,d=!0;
do{if(u[1]==null){d=!1;break}u=u[1][3]}while(u!=V);if(d){var e=.02;c[Y]+=e*K[Y];c[Y+1]+=e*K[Y+1];z+=e*(K[Y]*K[Y]+K[Y+1]*K[Y+1])}}return z};
a.q_.a85=function(c,o,K){var u=a.A.jl(c),X=a.q_.ayl(c,o);a.q_.a3x(c,X);for(var $=0;$<300;$++){var O=!1,n=!1;
O=a.q_.aet(c,X,K,5);if(O)n=a.q_.a3x(c,X);var x=a.q_.ano(c,X);if(!O&&!n&&x<1e-4){break}}return a.q_.adt(X)};
a.it={};a.it.aqt=function(c){var o=c.Nd,K=c.pT,u=c.zC,X=c.bG,$=c.bV,O=c.uL,n=c.GE,x=a.kn.g0,h,E,q=0;
function l(cv){var gf=new Array(cv);for(var Y=0;Y<cv;Y++)gf[Y]=0;return gf}var N=K.length>>>1,f=l(o.g1*2),z=l(o.g1),R=l(o.g1),V=Date.now();
for(var Y=0;Y<c.fw.length;Y++){var d=o.ai4+Y,e=o.Oc*(O[Y*2]+n[Y*2]),p=o.Oc*(O[Y*2+1]+n[Y*2+1]);f[d*2]=e;
f[d*2+1]=p;z[d]=e;R[d]=p}o.asl.fD(X,o.aCK.g0(f),.01,h,E);for(var Y=0;Y<o.apS.i8.length;Y++){var Z=o.apS.i8[Y],v=Z[3][3][0],W=Z[0],D=Z[3][0],I=Z[1]?Z[1][3][0]:D;
if(Z[1]&&v>W)continue;var A=K[v*2],U=K[v*2+1],w=K[W*2],t=K[W*2+1],L=X[v*2],J=X[v*2+1],b=X[W*2],F=X[W*2+1],B=X[D*2],k=X[D*2+1],i=X[I*2],H=X[I*2+1],m=[L,J,b,F,B,k];
if(Z[1])m.push(i,H);var j=x(o.apk[q],m),Q=j[0],G=j[1],g=1/Math.sqrt(Q*Q+G*G);Q*=g;G*=g;var P=w-A,M=t-U;
z[q]=Q*P+G*M;R[q]=-G*P+Q*M;q++}var T=new Array(N),C=new Array(N);for(var Y=0;Y<N;Y++){T[Y]=$[Y*2];C[Y]=$[Y*2+1]}o.aqy.fD(T,o.agZ.g0(z),.5);
o.aqy.fD(C,o.agZ.g0(R),.5);for(var Y=0;Y<N;Y++){$[Y*2]=T[Y];$[Y*2+1]=C[Y]}};a.it.apN=function(c){var o=c.pT,K=c.zC,u=c.fw,X=a.kn.multiply,$=Date.now(),O=a.q_.ayl(o,K),n=o.length>>>1,x=0,V=0,G=1e3;
for(var Y=0;Y<O.i8.length;Y++)x+=O.i8[Y][1]?.5:1;var l=x+u.length,N=[],f=new a.WW(l*2,n*2),z=new a.WW(l,n),R=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],d=[],e=[];
for(var Y=0;Y<O.i8.length;Y++){var p=O.i8[Y],h=p[3][3][0],E=p[0],q=p[3][0],Z=p[1]?p[1][3][0]:q;if(p[1]&&h>E)continue;
var v=o[h*2],W=o[h*2+1],D=o[E*2],I=o[E*2+1],A=o[q*2],U=o[q*2+1],w=o[Z*2],t=o[Z*2+1],L=[[v,W,1,0],[W,-v,0,1],[D,I,1,0],[I,-D,0,1],[A,U,1,0],[U,-A,0,1]];
if(p[1])L.push([w,t,1,0],[t,-w,0,1]);var J=a.kn.ll(L),b=X(linear.invert(X(J,L)),J);b.pop();b.pop();N.push(b);
var F=D-v,B=I-W,k=R[p[1]?1:0];k=a.kn.wv(k,X([[F,B],[B,-F]],b));var i=[h*2,h*2+1,E*2,E*2+1,q*2,q*2+1,Z*2,Z*2+1],H=p[1]?8:6,m=[];
for(var j=0;j<H;j++)m.push([i[j],k[0][j],k[1][j]]);m.sort(function(gf,s){return gf[0]-s[0]});for(var Q=0;
Q<2;Q++){for(var j=0;j<H;j++){d[j]=m[j][0];e[j]=m[j][1+Q]}f.j0(e,d,H)}if(h<E)z.j0([-1,1],[h,E],2);else z.j0([1,-1],[E,h],2);
V++}for(var Y=0;Y<u.length;Y++){var g=u[Y];f.j0([G],[g*2],1);f.j0([G],[g*2+1],1);z.j0([G],[g],1)}var P=f.ll(),M=P.o6(P),T=z.ll(),C=T.o6(T);
return{ai4:x,g1:l,aCK:P,asl:M,agZ:T,aqy:C,apS:O,apk:N,Oc:G}};a.it.a7F=function(c,o,K,u,X){var $=new ez(0,0,o,K),O=a.R($.P());
a.Sw(c,O,3);a.round(O,70);var n=a.Rp(O,$),x=[.1,.065,.035][u]*Math.max(n.m,n.e),l=X+1,N=o+l*2,f=K+l*2,z=new ez(-l,-l,N,f),R=a.R(z.P());
a.qv(O,$,R,z);var V=R.slice(0);for(var d=0;d<X;d++){for(var e=1;e<f-1;e++){for(var p=1;p<N-1;p++){var Y=e*N+p;
V[Y]=R[Y-N]|R[Y-1]|R[Y]|R[Y+1]|R[Y+N]}}var h=V;V=R;R=h}var E=iy.by(R,N,f,Math.round(n.P()*5e-4)),q=iy.Dr(E),Z=new bE(1,0,0,1,-l,-l);
for(var Y=0;Y<q.length;Y++){var v=q[Y];a.A.i(v.path.j,Z,v.path.j);v.pT=a.it.a1z(v.path);v.zC=a.A.aq_(v.pT);
v.zC=a.q_.a85(v.pT,v.zC,x)}return q};a.it.a1z=function(c){var o=[],K=c.j,u=c.G.length-1,X=0,$=0;for(var O=0;
O<u;O++){var Y=O*6,n=K[Y+6]-K[Y+0],x=K[Y+7]-K[Y+1],l=Math.ceil(Math.sqrt(n*n+x*x));for(var N=0;N<l;N++){var f=N/l,z=1-f,R=z*z*z*K[Y+0]+3*z*z*f*K[Y+2]+3*z*f*f*K[Y+4]+f*f*f*K[Y+6],V=z*z*z*K[Y+1]+3*z*z*f*K[Y+3]+3*z*f*f*K[Y+5]+f*f*f*K[Y+7];
o.push(R,V);X=R;$=V}}o=a.A.apq(o,1);var d=[],e=o.length;for(var Y=0;Y<e;Y+=2){var V=o.pop(),R=o.pop();
d.push(R,V)}return d};a.it.aAB=function(c,o,K,u){function X(D,I,A,U,w){var t=w[D*2]-w[I*2],L=w[D*2+1]-w[I*2+1],J=Math.sqrt(t*t+L*L);
if(A[D].indexOf(I)==-1){A[D].push(I);U[D].push(J)}if(A[I].indexOf(D)==-1){A[I].push(D);U[I].push(J)}}var $=c.length>>>1,O=new Array($);
if(K.length==0){O.fill(0);return O}var n=new Array($),x=new Array($);for(var Y=0;Y<$;Y++){n[Y]=[];x[Y]=[]}for(var Y=0;
Y<o.length;Y+=3){X(o[Y],o[Y+1],n,x,c);X(o[Y],o[Y+2],n,x,c);X(o[Y+1],o[Y+2],n,x,c)}var l=new Float64Array($*2),N=new Uint32Array($*2);
l.fill(1e9);var f=new Uint8Array($);for(var z=0;z<K.length;z++){f.fill(0);var R=["---",[0,K[z]]];while(R.length!=1){var V=a.a0T.ns(R),d=V[0],e=V[1];
if(f[e]==1)continue;var p=e<<1;if(d<l[p]){l[p+1]=l[p];N[p+1]=N[p];l[p]=d;N[p]=z}else if(d<l[p+1]){l[p+1]=d;
N[p+1]=z}f[e]=1;var h=n[e],E=x[e];for(var Y=0;Y<h.length;Y++){var q=h[Y];if(f[q]!=1){a.a0T.CU(R,[d+E[Y],q])}}}}for(var Y=0;
Y<$;Y++){var p=Y<<1,Z=l[p],v=l[p+1],W=1/(Z+v);O[Y]=(1-Z*W)*u[N[p]]+(1-v*W)*u[N[p+1]]}return O};a.it.ae0=function(c){var o={G:[],j:[]},K=[c];
while(K.length!=0){var u=K.pop(),X=u._C;if(u.alb instanceof Array||u.aag instanceof Array){o.G.push("M","L","L","L","Z");
o.j.push(X[0],X[1],X[2],X[1],X[2],X[3],X[0],X[3])}else K.push(u.alb,u.aag)}return o};a.it.RJ=function(c,o,K,u,X,$,O,n,x,l,N){var f=Math.round(l.length/3),z=new Array(f);
for(var Y=0;Y<f;Y++)z[Y]=Y;z.sort(function(V,d){return x[l[V*3]]-x[l[d*3]]});for(var Y=0;Y<f;Y++){var R=z[Y]*3;
a.it.aaV(l[R]*2,l[R+1]*2,l[R+2]*2,O,n,c,o,K,u,X,$,N)}};a.it.aaV=function(c,o,K,u,X,$,O,n,x,l,N,f){var z=[c,o,K,1.2,1.2,1.2,0],R=[0,0,0,0],V=X[c],d=X[c+1],e=X[o],p=X[o+1],h=X[K],E=X[K+1],q=e-V,Z=p-d,v=h-V,W=E-d,D=q*W-v*Z+1e-9,I=1/D,A=Math.max(0,Math.min(O-1,u[c])),U=Math.max(0,Math.min(O-1,u[o])),w=Math.max(0,Math.min(O-1,u[K])),t=Math.max(0,Math.min(n-1,u[c+1])),L=Math.max(0,Math.min(n-1,u[o+1])),J=Math.max(0,Math.min(n-1,u[K+1])),b=V<e?V<h?c:K:e<h?o:K,F=X[b+1]+.5,B=Math.max(0,Math.floor(Math.min(V,e,h))),k=Math.min(l,Math.ceil(Math.max(V,e,h))),i=Math.max(0,Math.floor(Math.min(d,p,E))),H=Math.min(N,Math.ceil(Math.max(d,p,E))),m=1e9;
for(var j=i;j<H;j++){var Q=j>F&&m!=1e9?m:B;m=1e9;for(var G=Q;G<k;G++){var g=G+.5-V,P=j+.5-d,M=(g*W-v*P)*I,T=(q*P-g*Z)*I;
if(M>=0&&T>=0&&M+T<=1){if(m==1e9)m=G;var C=1-M-T,gf=A*C+U*M+w*T,s=t*C+L*M+J*T;if(f){var b3=Math.floor(.5+s)*O+Math.floor(.5+gf),d5=b3<<2,gh=j*l+G<<2;
x[gh]=$[d5];x[gh+1]=$[d5+1];x[gh+2]=$[d5+2];x[gh+3]=$[d5+3]}else{a.D.a2D(gf,s,$,O,n,R);a.it.a3e(R,x,j*l+G<<2)}}else if(m!=1e9)break}}};
a.it.a3e=function(c,o,K){if(c[3]>250){o[K]=~~(.5+c[0]);o[K+1]=~~(.5+c[1]);o[K+2]=~~(.5+c[2]);o[K+3]=~~(.5+c[3])}else{var u=o[K],X=o[K+1],$=o[K+2],O=o[K+3],n=1-c[3]*(1/255);
o[K]=~~(.5+c[0]+u*n);o[K+1]=~~(.5+c[1]+X*n);o[K+2]=~~(.5+c[2]+$*n);o[K+3]=~~(.5+c[3]+O*n)}};a.it.a8z=function(){var c=function(K,u,X,$){var O=$[0],n=$[1],x=$[2],l=K[O+0],N=K[O+1],f=K[n+0],z=K[n+1],R=K[x+0],V=K[x+1],d=f-l,e=z-N,p=R-l,h=V-N,E=u-l,q=X-N,Z=d*h-p*e,v=1/(Z+1e-9),W=(E*h-p*q)*v,D=(d*q-E*e)*v;
if(W>=0&&D>=0&&W+D<=1){$[3]=1-W-D;$[4]=W;$[5]=D;return 1}return 0},o=function(K,u,X,$){var O=[0,0,0,0,0,0];
for(var Y=0;Y<u.length;Y+=3){O[0]=u[Y]*2;O[1]=u[Y+1]*2;O[2]=u[Y+2]*2;if(c(K,X,$,O)==1)return!0}return!1};
return{a33:c,aCs:o}}();a.Kk={};a.Kk.abb=function(c,o,K,u){c=c.slice(0);if(u)a.bp(u,c,3);else for(var Y=0;
Y<c.length;Y+=4)c[Y+3]=0;var X=a.R(o*K*4),$=!1;a.D.d$(c,o,K,X,[K,o,0,1,0,1,0,0]);return[a.Kk.rX(c,o,K,$),a.Kk.rX(X,K,o,$)]};
a.Kk.i=function(c,o){var K=!1,u=c[0],X=c[1],$=u[1],O=u[2],n=u[3],x=o.m,l=o.e;if(O==x&&n==l)$=$.slice(0);
else if(n!=l){var N=a.R(O*l*4);a.Kk.wk(X,l,N,K);$=a.R(O*l*4);a.D.d$(N,l,O,$,[O,l,0,1,0,1,0,0]);if(O!=x){u=a.Kk.rX($,O,l,K);
$=a.R(x*l*4);a.Kk.wk(u,x,$,K)}}else if(O!=x){$=a.R(x*n*4);a.Kk.wk(u,x,$,K)}for(var Y=0;Y<$.length;Y+=4)$[Y+3]=255;
return $};a.Kk.rX=function(c,o,K,u){var X=Date.now(),$=new Uint16Array(o*K),l=1;a.Kk.api(c,o,K,$);var O=a.R(o*K);
a.Sw(c,O,3);for(var n=0;n<K;n++)for(var x=0;x<o;x++)$[n*o+x]+=Math.floor((65535-$[n*o+x])*O[n*o+x]*(1/255));
var N=Math.ceil(o/l),f=new Uint32Array(l),z=new Uint32Array(l),N=Math.floor(o/l);for(var R=0;R<l;R++)z[R]=R<l-1?N:o-(l-1)*N;
for(var n=0;n<K;n++){var Y=n*o;for(var R=0;R<l;R++){var N=z[R];for(var x=0;x<N;x++)f[R]+=$[Y+x];Y+=N}}if(u){console.log(Date.now()-X,"cost");
X=Date.now()}var V=new Uint32Array(o),d=new Uint32Array(o),e=new Uint32Array(o*K);for(var x=0;x<o;x++){e[(K-1)*o+x]=$[(K-1)*o+x]}for(var n=K-2;
n>=0;n--){var p=n*o;for(var R=0;R<l;R++){var N=z[R];e[p]=$[p]+Math.min(e[p+o],e[p+o+1]);for(var x=1;
x<N-1;x++){var Y=p+x;e[Y]=$[Y]+Math.min(e[Y+o-1],Math.min(e[Y+o],e[Y+o+1]))}p+=N-1;e[p]=$[p]+Math.min(e[p+o-1],e[p+o]);
p++}}if(u){console.log(Date.now()-X,"Building M");X=Date.now()}function h(w,t){return w<t?w:t}function E(Y,w){var t=d[Y],L=e[w],J=~~(t*L*1e-4);
return J}var q=new Uint8Array(o*K),Z=new Uint32Array(o);for(var Y=0;Y<o;Y++){V[Y]=Y;d[Y]=$[Y]}for(var n=1;
n<K;n++){var v=0,p=n*o;for(var R=0;R<l;R++){var N=z[R],Y=p;Z[v]=E(v,Y);var W=Z[v]+E(v+1,Y+1),D=E(v,Y+1)+E(v+1,Y);
Z[v+1]=h(W,D);for(var x=2;x<N;x++){var Y=p+x,I=Z[v+x-1]+E(v+x-1,Y-1),A=Z[v+x-2]+E(v+x-1,Y-2)+E(v+x-2,Y-1);
Z[v+x]=h(I,A)}var x=N-1;while(x>=2){var Y=p+x,I=Z[v+x-1]+E(v+x-1,Y-1),A=Z[v+x-2]+E(v+x-1,Y-2)+E(v+x-2,Y-1);
if(Z[v+x]==I){q[Y-o]=1;x-=1}else{q[Y-o]=0;q[Y-o-1]=2;x-=2}}var Y=p;if(x==0){q[Y-o]=1}else{if(Z[v+1]==W){q[Y+1-o]=1;
q[Y-o]=1}else{q[Y+1-o]=0;q[Y-o]=2}}p+=N;v+=N}a.Kk.a1_(n,o,q,$,V,d,!0,X)}if(u){console.log(Date.now()-X,"Matching");
X=Date.now()}var U=$;return[UZIP.adler(c,0,c.length),c,o,K,l,z,f,V,d,q,U]};a.Kk.wk=function(c,o,K,u){var X=c.slice(0),$=X.shift(),O=X.shift(),n=X.shift(),x=X.shift(),l=X.shift(),N=X.shift(),f=X.shift(),z=X.shift(),R=X.shift().slice(0),V=X.shift(),d=X.shift(),e=Date.now(),p=Math.abs(n-o),h=Math.floor(p/l),E=new Uint32Array(l),Z=0,v=1e9,D=0,I=0,A=0;
for(var q=0;q<l;q++)E[q]=q<l-1?h:p-(l-1)*h;d.fill(0);for(var W=0;W<n;W++){Z=Math.max(Z,R[W]);v=Math.min(v,R[W])}for(var q=0;
q<l;q++){var U=N[q],h=E[q];for(var w=0;w<h;w++){var t=0,L=1e9;for(var W=0;W<U;W++)if(R[I+W]<L){L=R[I+W];
t=I+W}if(o<n)R[t]=1e9;else R[t]*=1.2;if(A<n/3)D+=L;var J=z[t],b=d[J],F=b<65280?65280:b+1;if(F<65280)throw"e";
for(var B=0;B<x;B++){var Y=B*n+J;d[Y]=F;J+=V[Y]-1}A++}I+=U}if(u){console.log(Date.now()-e,"Removing best seams");
e=Date.now()}function k(Y,H){var m=Y<<2,j=H<<2;K[m]=O[j];K[m+1]=O[j+1];K[m+2]=O[j+2];K[m+3]=O[j+3]}for(var B=0;
B<x;B++){var i=0,Y=B*n;for(var W=0;W<o;W++,i++){if(o<n){while(d[Y+i]==65280)i++;k(B*o+W,B*n+i)}else{k(B*o+W,B*n+i);
while(d[Y+i]>=65280){d[Y+i]--;W++;k(B*o+W,B*n+i)}}}}if(u){console.log(Date.now()-e,"Shifting image pixels");
e=Date.now()}};a.Kk.a1_=function(c,o,K,u,X,$){var O=0,Y=c*o;while(O<o){if(K[Y-o]==1){$[O]=$[O]+u[Y];
O++;Y++}else{var n=X[O];X[O]=X[O+1];X[O+1]=n;var x=$[O];$[O]=$[O+1]+u[Y];$[O+1]=x+u[Y+1];O+=2;Y+=2}}};
a.Kk.api=function(c,o,K,u){function X(c,Y,x){var f=Y<<2,z=x<<2,R=c[f]-c[z],V=c[f+1]-c[z+1],d=c[f+2]-c[z+2];
return Math.abs(R)+Math.abs(V)+Math.abs(d)}for(var $=1;$<o;$++){var O=X(c,$,$-1);u[$-1]+=O;u[$]+=O}for(var n=1;
n<K;n++){var x=n*o,O=X(c,x,x-o);u[x]+=O;u[x-o]+=O;for(var $=1;$<o;$++){var Y=n*o+$,l=X(c,Y,Y-1),N=X(c,Y,Y-o);
u[Y-o]+=N;u[Y-1]+=l;u[Y]+=N+l}}for(var n=0;n<K;n++){u[n*o]*=2;u[n*o+o-1]*=2}for(var Y=0;Y<u.length;Y++)if(u[Y]==0)u[Y]=1};
a.wS=function(){function c(){return 1953e6+Math.floor(Math.random()*999999)}function o(L,J){var b=J[0]-L[0],F=J[1]-L[1];
return b*b+F*F}function K(L,J,b,F,B,k,i,H){var m=b-L,j=F-J,Q=a.A.A5(L,J,m,j,B,k,i-B,H-k),G=[L+Q*m,J+Q*j],g=Q>0?[[[L,J],G,!1,0,1],[[B,k],G,!1,0,5]]:[[[b,F],G,!1,0,1],[[i,H],G,!1,0,5]];
return g}function u(L,J){var b=K(L[0],L[1],L[2],L[3],L[6],L[7],L[4],L[5]),F=K(L[0],L[1],L[6],L[7],L[2],L[3],L[4],L[5]),B=[b,F],k=[b[0][1],F[0][1]];
for(var Y=0;Y<2;Y++){var i=k[1-Y],H=B[Y];if(o(H[0][0],i)<o(H[1][0],i)){var m=H[0];H[0]=H[1];H[1]=m}}var j=[c(),0,-1,0,[0,0],b[0],b[1],F[0],F[1]],Q=Z(j,J),G=Q[1][0];
j[3]=G;j[4]=Q[0][G];j[5][3]=j[6][3]=Q[0].indexOf(j[5][1]);j[7][3]=j[8][3]=Q[0].indexOf(j[7][1]);if((j[6][3]+1)%3!=j[7][3]){var m=j[5];
j[5]=j[7];j[7]=m;var m=j[6];j[6]=j[8];j[8]=m}for(var Y=0;Y<4;Y++)j[5+Y][4]=[1,5,7,3][Y];return j}function X(L){var J=L[5],b=L[8],F=L[6],B=J[0],k=b[0],i=F[0],H=J[1],m=b[1],j=k[0],Q=k[1],G=m[0]-j,g=m[1]-Q,P=a.A.A5(j,Q,G,g,i[0],i[1],H[0]-i[0],H[1]-i[1]);
return[B[0],B[1],j,Q,j+P*G,Q+P*g,i[0],i[1]]}function $(L,J){return L[0]==J[0]&&L[1]==J[1]}function O(L){return{1:0,5:1,7:2,3:3}[L]}function n(L,J,b){var F=J[5+O(L)],B=F[1],k=F[0][0]-B[0],i=F[0][1]-B[1],H=Math.sqrt(k*k+i*i);
k/=H;i/=H;for(var m=0;m<b.length;m++){var j=b[m];if(j[0]!=J[1]&&j[1]!=J[0])continue;for(var Y=0;Y<4;
Y++){var Q=j[5+Y],G=Q[0];if(!$(B,Q[1]))continue;var g=G[0]-B[0],P=G[1]-B[1];H=Math.sqrt(g*g+P*P);g/=H;
P/=H;var M=g*k+P*i;if(Math.abs(M-1)<1e-7)return!0}}return!1}function x(L,J){a.D.i(L,J);return J}function l(L,J){var b=[];
for(var F=0;F<L.length;F++){var B=L[F],k=B[1];for(var i=0;i<k.length;i++){if(J&&J[F].indexOf(i)==-1)continue;
var H=k[i],m=[],j=a.D.ly(X(H),new ez(0,0,1,1));for(var Y=1;Y<=7;Y+=2){m[Y]=n(Y,H,k)}if(!m[1]){if(!m[7])b.push([x(j,[0,0]),F,i,0]);
b.push([x(j,[.5,0]),F,i,1])}if(!m[3]){if(!m[1])b.push([x(j,[1,0]),F,i,2]);b.push([x(j,[1,.5]),F,i,3])}if(!m[5]){if(!m[3])b.push([x(j,[1,1]),F,i,4]);
b.push([x(j,[.5,1]),F,i,5])}if(!m[7]){if(!m[5])b.push([x(j,[0,1]),F,i,6]);b.push([x(j,[0,.5]),F,i,7])}}}return b}function N(L){var J=L.length-2,b=0;
for(var Y=0;Y<J;Y+=2)b+=(L[Y+2]-L[Y])*(L[Y+1]+L[Y+3]);b+=(L[0]-L[J])*(L[J+1]+L[1]);return-b*.5}function f(L,J,b,F){}function z(L,Y){var J=L[Y+2&7]-L[Y&7],b=L[Y+3&7]-L[Y+1&7],F=1/Math.sqrt(J*J+b*b);
return[J*F,b*F]}function R(L){var J=L[2];L[2]=L[6];L[6]=J;var J=L[3];L[3]=L[7];L[7]=J}function V(L,J,b,F){if(F==null)F=0;
var B=J[1],k=X(J),P=null,M,s,b3,ay,bb,g,ap;if(B==0){if(N(k)<0)R(k);var i=6,H=k[7]+k[1];for(var Y=0;Y<6;
Y+=2){var m=k[Y+1]+k[Y+3];if(m<H){H=m;i=Y}}k=k.slice(i).concat(k.slice(0,i));var j=r.zm.qN(k,b[0],b[1]),Q=Math.sqrt(o(k,k.slice(2))),G=Math.sqrt(o(k.slice(4),k.slice(6))),g=(Q+G)*.5;
return[k,new ez(0,0,g,g/j)]}for(var Y=0;Y<L.length&&P==null;Y++){M=L[Y][1];for(var T=0;T<M.length&&P==null;
T++)if(M[T][0]==B)P=M[T]}var C=V(L,P,b,F+1),gf=C[0];C=C[1];for(var Y=0;Y<8;Y+=2){var d5=gf[Y&7],gh=gf[Y+1&7],jt=gf[Y+2&7],fl=gf[Y+3&7];
for(var T=0;T<8;T+=2){var eq=k[T],c7=k[T+1],k8=k[T+2&7],hs=k[T+3&7],cq=Math.abs(a.A.kE(d5,gh,jt,fl,eq,c7))+Math.abs(a.A.kE(d5,gh,jt,fl,k8,hs));
if(cq<=30){s=T;b3=Y}}}var jn=z(gf,b3),an=z(k,s),hk=jn[0]-an[0],ds=jn[1]-an[1],gT=hk*hk+ds*ds;if(gT<.001){R(k);
s={0:6,2:4,4:2,6:0}[s]}while(s!=(b3+4&7)){k.unshift(k.pop());s=s+1&7}var j=r.zm.qN(k,b[0],b[1]),gP=a.D.ly(gf,C);
gP=a.D.fH(gP);var ky=[k[s],k[s+1],k[s+2&7],k[s+3&7]];a.D.i(gP,ky);var cR=a.A.jl(ky);if(b3==0||b3==4){g=cR.m;
ap=g/j;ay=cR.x;bb=cR.y+(b3==0?-ap:0)}else{ap=cR.e;g=ap*j;bb=cR.y;ay=cR.x+(b3==6?-g:0)}return[k,new ez(ay,bb,g,ap)]}function d(L,J){function b(G,g,P,M){var T=x(G,[g,P]);
T.push(M);return T}var F=[];for(var B=0;B<L.length;B++){var k=L[B],i=k[1];for(var H=0;H<i.length;H++){var m=i[H],j=V(L,m,J),Q=j[0],G=a.D.ly(Q,new ez(0,0,1,1));
F.push(b(G,.5,0,1));F.push(b(G,1,.5,3));F.push(b(G,.5,1,5));F.push(b(G,0,.5,7));F.push(b(G,.5,.5,[j?(j[1].m/j[1].e).toFixed(2):""].join(", ")))}}return F}function e(L,J,b,F){var B=[J],k=[J];
while(!0){var i=[];for(var Y=0;Y<L.length;Y++){var H=L[Y],m=!1;for(var j=0;j<B.length;j++){if(H[1]==L[B[j]][0]||H[0]==L[B[j]][1])i.push(Y)}}var Q=B.length;
for(var Y=0;Y<i.length;Y++){var G=i[Y],H=L[G];if(k.indexOf(G)!=-1)continue;k.push(G);var g=V([[10,L]],H,F);
if(g[1].Yd(b))B.push(G)}if(Q==B.length)break}return B}function p(L,J,b){var F=b[0],B=b[1],k=J.x-L[0],i=J.y-L[1],H=a.A.A5(L[0],L[1],k,i,B[0],B[1],F[0]-B[0],F[1]-B[1]);
return[L[0]+H*k,L[1]+H*i]}function h(L,J,b){L=JSON.parse(JSON.stringify(L));var F=L[J[1]][1][J[2]],B=J[3]>=8,k=J[3]&7;
if((k&1)==0)return L;var i=O(k);if(k==1||k==7){var H=F[5+i],m=F[5+2-i],j=F[5+(k==1?3:1)],Q=F[5+(k==1?1:3)],G=H[1],g=p(G,b,m);
if(!B&&o(g,m[1])<o(Q[0],m[1]))return L;H[0]=m[0]=g;j[0]=p(G,b,j)}else{var j=F[5+i],G=j[1],H=F[5+(k==3?0:2)],g=p(G,b,H);
if(!B&&o(g,H[1])>o(H[0],H[1]))return L;if(Math.sign(H[1][0]-H[0][0])!=Math.sign(H[1][0]-g[0]))return L;
j[0]=g}return L}function E(L,J,b){var F=J[0]-L[0],B=J[1]-L[1],k=a.A.A5(b[0],b[1],-B,F,L[0],L[1],F,B);
return[b[0]-B*k,b[1]+F*k]}function q(L,J,b){var F=b[0],B=b[1],x=E(L,J,b),k=x[0],i=x[1],H=E(L,b,J),m=a.A.A5(k,i,F-k,B-i,J[0],J[1],H[0]-J[0],H[1]-J[1]);
return[k+(F-k)*m,i+(B-i)*m]}function Z(L,J){var b=L[5][1],F=L[7][1],B=q(b,F,J),k=[b,F,B];k.sort(function(m,j){return m[0]-j[0]});
if(N([k[0][0],k[0][1],k[1][0],k[1][1],k[2][0],k[2][1]])<0){var i=k[1];k[1]=k[2];k[2]=i}var H=[k.indexOf(b),k.indexOf(F),k.indexOf(B)];
return[k,H]}function v(L,J,b){L=JSON.parse(JSON.stringify(L));var F=J[1],B=L[F][1][J[2]],k=J[3];if((k&1)!=1)return L;
var i=Z(B,b),H=i[1][2],m=i[0][H],j=JSON.parse(JSON.stringify(B));L[F][1].push(j);j[0]=c();j[1]=B[0];
j[2]=-10+k;j[3]=H;j[4]=m;if(k==1||k==5){j[7][3]=j[8][3]=H;j[7][1]=j[8][1]=m;if(k==5){j[5][0]=j[7][0]=B[6][0];
j[8][0]=X(B).slice(4,6)}}else{j[5][3]=j[6][3]=H;j[5][1]=j[6][1]=m;if(k==3){j[5][0]=j[7][0]=B[8][0];j[6][0]=X(B).slice(4,6)}}return L}function W(L,J,b){L=JSON.parse(JSON.stringify(L));
var F=J[1],B=L[F][1][J[2]],k=B[2]+10,i=k+4&7,H=k==1||k==5,m=B[5+O(H?7:1)][1],j=B[5+O(i)][0],Q=B[5+O(k)][0];
B[2]=(H?90:0)+(o(j,m)<o(Q,m)?180:0);var G=u(X(B),b);for(var Y=5;Y<9;Y++)B[Y]=G[Y];return L}function D(L,J,b){var cv=L.length>>1,F,B=L[2*cv-3]-b,k=L[2*cv-2]-J,i=L[2*cv-1]-b,H=!1,m=0;
for(var Y=0;Y<cv;Y++){F=k;B=i;k=L[2*Y]-J;i=L[2*Y+1]-b;if(B==i)continue;H=i>B}for(var Y=0;Y<cv;Y++){F=k;
B=i;k=L[2*Y]-J;i=L[2*Y+1]-b;if(B<0&&i<0)continue;if(B>0&&i>0)continue;if(F<0&&k<0)continue;if(B==i&&Math.min(F,k)<=0)return!0;
if(B==i)continue;var j=F+(k-F)*-B/(i-B);if(j==0)return!0;if(j>0)m++;if(B==0&&H&&i>B)m--;if(B==0&&!H&&i<B)m--;
H=i>B}return(m&1)==1}function I(L,J,b,F,B){var k=null;for(var i=0;i<L.length;i++){var H=L[i][1];for(var m=0;
m<H.length;m++){var j=X(H[m]);if(D(j,J,b)||B&&B[0]==i&&B[1]==m&&k==null){k=[i,m];if(F){var Q=V(L,H[m],F),G=a.D.ly(Q[0],Q[1]),g=[J,b];
G=a.D.fH(G);a.D.i(G,g);k.push(g)}}}}return k}function A(L,J){for(var b=0;b<L.length;b++){var F=L[b][1],B=J[b];
if(B.length==0)continue;var k=U(F,B);for(var i=0;i<F.length;i++){if(k.indexOf(F[i][0])!=-1){F.splice(i,1);
i--}}}for(var b=0;b<L.length;b++)if(L[b][1].length==0){L.splice(b,1);b--}return L}function U(L,J){var b=[];
for(var Y=0;Y<10;Y++)for(var F=0;F<L.length;F++){var B=L[F];if(J.indexOf(F)!=-1||b.indexOf(B[1])!=-1)if(b.indexOf(B[0])==-1)b.push(B[0])}return b}function w(L){var J=_.MQ(L,0,L.length),b=J.split("\n").slice(1);
function F(){return parseFloat(b.shift())}function B(){var eq=[F(),F()];k(1);return eq}function k(cv){for(var Y=0;
Y<cv;Y++)b.shift()}var i=[],H=F();for(var m=0;m<H;m++){var j=F(),Q=F(),G=[];i.push([j,G]);for(var g=0;
g<Q;g++){var P=F(),M=F(),T=F(),C=F(),gf=B(),s=[P,M,T,C,gf];G.push(s);for(var Y=0;Y<4;Y++){var b3=B(),d5=B(),gh=F()==1,jt=F(),fl=F();
s.push([b3,d5,gh,jt,fl])}}}return i}function t(L){function J(Q){b.push(Q[0],Q[1],"")}var b=["tNaF203"];
b.push(L.length);for(var F=0;F<L.length;F++){b.push(L[F][0]);var B=L[F][1];b.push(B.length);for(var k=0;
k<B.length;k++){var i=B[k];b.push(i[0],i[1],i[2],i[3]);J(i[4]);for(var Y=0;Y<4;Y++){var H=i[5+Y];J(H[0]);
J(H[1]);b.push(H[2]?1:0,H[3],H[4])}}}var m=b.join("\n"),j=new Uint8Array(m.length);_.b_(j,0,m);return j}return{Sr:w,or:t,am8:X,azE:u,tK:l,aoY:h,mo:d,aoi:function(L,J){return J&&(J[3]&1)==0&&L[J[1]][1].length==1},KL:function(L,J){return J&&(J[3]&1)==1},Yv:V,ayY:v,a0h:W,awY:A,XB:U,JX:I,BJ:e}}();
a.aBJ=function(){var c=0,o=0,u=15,$=256;function K(N,f,z,R,V,d){var e=(V-1)*f,p=d*f;return N[p+R]-N[p+z-1]-N[e+R]+N[e+z-1]}var X=Math.round(u/8),O=[];
function n(N,f){for(var z=0;z<f.length;z++){var R=f[z],V=0,d=0,e=N[R.aR],p=e.DE,h=e.Oc,E=e.s_;for(var q=-u;
q<=u;q++)for(var Z=-u;Z<=u;Z++){var v=Z+R.azT,W=q+R.arv;if(Z*Z+q*q>u*u||v<0||W<0||v>=h||W>=h)continue;
var D=p[W*h+v];V+=Z*D;d+=q*D}R.K$=Math.atan2(d,V)}}function x(N,f,z,R,V){var d=~~(N+.5),e=~~(f+.5);return K(z,R,d-X,d+X,e-X,e+X)}function l(N,f,z,R,V){c=R;
o=V;if(O.length==0){var d=new a.a.Qk(16200817),E=8,q=0;function e(gf){var A=gf[0]-gf[2],U=gf[1]-gf[3];
return A*A+U*U}function p(){var gf=0,s=0;while(gf===0)gf=d.get();while(s===0)s=d.get();return Math.sqrt(-2*Math.log(gf))*Math.cos(2*Math.PI*s)}var h=p,Z=[];
while(q!=$){var v=Math.max(-u,Math.min(u,h()*E)),W=Math.max(-u,Math.min(u,h()*E)),D=Math.max(-u,Math.min(u,h()*E)),I=Math.max(-u,Math.min(u,h()*E)),A=v-D,U=W-I,w=Math.sqrt(A*A+U*U);
if(w<3||w>12)continue;O.push(v,W,D,I);q++}}var t=20;for(var L=0;L<f.length;L++){var J=f[L],b=N[J.aR],F=b.$m,z=b.DE,R=b.Oc,V=b.s_,B=J.azT,k=J.arv,i=J.K$,H=Math.cos(i),m=Math.sin(i),j=new Uint8Array($>>>3);
J.sK=j;for(var Y=0;Y<$;Y++){var Q=Y*4,v=O[Q+0],W=O[Q+1],D=O[Q+2],I=O[Q+3],G=H*v-m*W,g=m*v+H*W,P=H*D-m*I,M=m*D+H*I,T=x(B+G,k+g,F,R,V),C=x(B+P,k+M,F,R,V);
j[Y>>>3]|=(T<C?0:1)<<(Y&7)}}}return{a15:n,au6:l}}();a.ace=function(){function c(o,K){var u=[[9]],X=Date.now(),$=[];
for(var O=0;O<o.length;O++){var n=o[O],x=n.$m,l=n.Oc,N=n.s_,R=9,E=1,J=24;if(x==null)continue;var f=new Float32Array(l*N),z=new Uint8Array(l*N),V=R>>>1,d=V>>>1,e=Math.round(R/3);
if(e!=R/3)throw"e";var p=1/(R*R),h=1.2*(R/9);for(var q=V+1;q<N-V;q+=E)for(var Z=V+1;Z<l-V;Z+=E){var v=a.Lu(x,l,Z-d,Z+d,q-V,q+V)-3*a.Lu(x,l,Z-d,Z+d,q-V+e,q+V-e),W=a.Lu(x,l,Z-V,Z+V,q-d,q+d)-3*a.Lu(x,l,Z-V+e,Z+V-e,q-d,q+d),D=Z-V+1,I=Z+V-1,A=q-V+1,U=q+V-1,w=a.Lu(x,l,D,Z-1,A,q-1)+a.Lu(x,l,Z+1,I,q+1,U)-a.Lu(x,l,Z+1,I,A,q-1)-a.Lu(x,l,D,Z-1,q+1,U),t=(W*v-.9*w*(.9*w))*(p*p);
f[q*l+Z]=Math.abs(t);z[q*l+Z]=t<0?0:1}var L=l*E;for(var q=J;q<N-J;q+=E)for(var Z=J;Z<l-J;Z+=E){var Y=q*l+Z,b=f[Y];
if(b<16)continue;if(f[Y-E]>=b||f[Y+E]>=b)continue;if(f[Y-L-E]>=b||f[Y-L]>=b||f[Y-L+E]>=b)continue;if(f[Y+L-E]>=b||f[Y+L]>=b||f[Y+L+E]>=b)continue;
$.push({x:~~(Z*n.og+.5),y:~~(q*n.og+.5),azT:Z,arv:q,aR:O,b:b,a4S:z[Y],Z0:h})}}if(K!=null){$.sort(function(Q,G){return G.b-Q.b});
$=$.slice(0,K)}return $;var F=[];for(var Y=0;Y<$.length;Y++){var B=!0,k=$[Y];for(var i=0;i<$.length;
i++){var H=$[i];if(i!=Y&&H.b>k.b&&(H.aR==k.aR+1||H.aR==k.aR-1)){var m=k.x-H.x,j=k.y-H.y;if(m*m+j*j<5){B=!1;
break}}}if(B)F.push(k)}console.log($.length,F.length);return F}return{auf:c}}();a.Nf={};a.Nf.agU=function(c){var o=c.length,K=a.Nf.avd(c,!1),X=0,$=1;
throw"e";var u=[];for(var Y=0;Y<o;Y++)u[Y]=a.Nf.aAx(K[Y]);var O=c[0][1],n=a.Nf.match(K[X],K[$],u[$]);
console.log(n.length);var x=Math.max(Math.min(n.length,40),n.length*.54);x=Math.min(x,200);var l=n.slice(0,x),N=a.v9.asP(K[X],K[$],l,O.m,O.e),f=a.v9.a5M(N,[0,0,0],1),z=O.m/2,R=O.e/2,V=1/Math.max(z,R);
for(var Y=0;Y<1;Y++){var d=l[Y],e=K[X][d[0]],p=K[$][d[1]],h=a.v9.am4(f,V*(e.x-z),V*(e.y-R),V*(p.x-z),V*(p.y-R))}var E=a.v9.a6t(N,O),q=[];
for(var Y=0;Y<2;Y++){var Z=E[Y],v=[Z[0][0],Z[0][1],Z[0][2],Z[1][0],Z[1][1],Z[1][2],Z[2][0],Z[2][1]],W=r.W.QC(c[Y],null,v);
q.push([W.buffer,W.rect])}return[a.Nf.asy(q[0],q[1],K[X],K[$],l,N,E,O)]};a.Nf.Kd=function(c,o){var K=c.length,u=!1,X=Date.now(),$=a.Nf.avd(c,!1,1e4);
if(u)console.log("Descriptors ready",Date.now()-X);X=Date.now();for(var Y=0;Y<K;Y++){var O=c[Y][1];for(var n=0;
n<$[Y].length;n++){$[Y][n].x+=O.x;$[Y][n].y+=O.y}}if(u)console.log("shifted",Date.now()-X);X=Date.now();
var x=[];for(var Y=0;Y<K;Y++)x[Y]=a.Nf.aAx($[Y]);if(u)console.log("trees built",Date.now()-X);X=Date.now();
var l=[];for(var Y=0;Y<K-1;Y++)for(var n=Y+1;n<K;n++){var N=a.Nf.match($[Y],$[n],x[n]);if(u)console.log("Matches found",Y,n,N.length);
N=N.slice(0,N.length>>>1);if(N.length<10)continue;var f=a.Nf.aap($[Y],$[n],N,2);l.push([Y,n,N,f])}l.sort(function(I,A){return A[2].length-I[2].length});
if(u)console.log("Matches found",Date.now()-X);X=Date.now();var z=[],R=new UnionFind(K);for(var Y=0;
Y<l.length;Y++){var V=l[Y],d=R.find(V[0]),e=R.find(V[1]);if(d!=e){z.push(V);R.link(d,e)}}var p=[];for(var Y=0;
Y<K;Y++)p[Y]=[1,0,0,0,1,0,0,0];var h=[0],E=new Uint8Array(K);E[h[0]]=1;while(h.length!=0){var e=h.pop(),f=p[e],q=[];
for(var Y=0;Y<z.length;Y++){var V=z[Y],Z=V[0],v=V[1];if(Z==e&&E[v]==0){p[v]=a.D.Jv(f,V[3]);h.push(v);
E[v]=1}if(v==e&&E[Z]==0){p[Z]=a.D.Jv(f,a.D.fH(V[3]));h.push(Z);E[Z]=1}}}if(o==null){var W=[];for(var Y=0;
Y<K;Y++)W.push([p[Y][2],Y]);W.sort(function(I,A){return I[0]-A[0]});o=W[W.length>>>1][1]}var D=a.D.fH(p[o]);
for(var Y=0;Y<K;Y++)p[Y]=a.D.Jv(p[Y],D);if(u)console.log("Transforms reordered",Date.now()-X);X=Date.now();
return p};a.Nf.avd=function(c,o,K){var u=[],X=!1;for(var Y=0;Y<c.length;Y++){var $=c[Y][0],O=c[Y][1],n=O.m,x=O.e,l=a.R(O.P());
a.yH($,l);var N=Date.now(),f=a.Nf.alC(l,O,!0);if(X)console.log("Pyramid built ---------------",Date.now()-N);
N=Date.now();var z=a.ace.auf(f,K);if(X)console.log("SURF Generation",Date.now()-N);N=Date.now();if(!o){a.aBJ.a15(f,z);
if(X)console.log("ORB Orientations",Date.now()-N);N=Date.now();a.aBJ.au6(f,z,l,n,x);if(X)console.log("ORB Descriptors",Date.now()-N);
N=Date.now()}u.push(z)}return u};a.Nf.alC=function(c,o,K){var u=[],X=[c,o];a.Ih(X);if(K){var $=a.aDN(c,o),O=$.rect,n=[$.PX,O];
a.Ih(n)}for(var Y=0;Y<X.length;Y++){var x=X[2*Y],l=X[2*Y+1],N=l.m,f=l.e,z=Math.min(N,f);if(z<30)break;
if(z<1600)u.push({DE:x,Oc:N,s_:f,og:1<<Y,$m:a.iy(x,N,f)});if(!K)continue;var x=n[2*Y],l=n[2*Y+1],N=l.m,f=l.e,z=Math.min(N,f);
if(z<30)break;if(z<1600)u.push({DE:x,Oc:N,s_:f,og:(1<<Y)*3/2,$m:a.iy(x,N,f)})}return u};a.Nf.aap=function(c,o,K,u){var X=Date.now(),$,O=0,n=0,x=K.length,l=new Float64Array(2);
for(var N=0;N<3e3;N++){var f=~~(Math.random()*x),z=~~(Math.random()*x),R=~~(Math.random()*x),V=~~(Math.random()*x),L=0,J=0;
if(f==z||f==R||f==V||z==R||z==V||R==V)continue;var d=K[f],e=K[z],p=K[R],h=K[V],E=c[d[0]],q=o[d[1]],Z=c[e[0]],v=o[e[1]],W=c[p[0]],D=o[p[1]],I=c[h[0]],A=o[h[1]],U=[E.x,E.y,Z.x,Z.y,W.x,W.y,I.x,I.y],w=[q.x,q.y,v.x,v.y,D.x,D.y,A.x,A.y],t=a.D.aii(U,w);
if(t[0]==0&&t[1]==0&&t[3]==0&&t[4]==0)continue;var b=x-O+2;for(var Y=0;Y<x&&Y-L<b;Y++){var F=c[K[Y][0]],B=o[K[Y][1]];
a.D.z3(B.x,B.y,t,l);var k=l[0]-F.x,i=l[1]-F.y,H=k*k+i*i;if(H<u){L++;J+=H}}if(L>O||L==O&&J<n){$=t;O=L;
n=J}}return $};var dJ=new Uint8Array(256);for(var Y=0;Y<256;Y++){var jJ=0,cv=Y;while(cv!=0){cv=cv&cv-1;
jJ++}dJ[Y]=jJ}a.Nf.agV=function(c,o,K){var u=0,X=c.length;for(var Y=0;Y<X&&u<K;Y++)u+=dJ[c[Y]^o[Y]];
return u};a.Nf.abC=function(c,o,K,top,u){if(u[K]==1)return;var X=a.Nf.agV(c.sK,o.sK,top[0]);if(X<top[0]){if(X<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=X;top[3]=K}else{top[0]=X;top[1]=K}}u[K]=1};a.Nf.aAx=function(c){var o=[],K=[],u=[[],[]],X=4;
for(var Y=0;Y<c.length;Y++)(c[Y].a4S==0?o:K).push(Y);for(var $=0;$<2;$++){var O=new Array(X),n=[],x=$==0?o:K,l=x.length/256,N=[];
for(var f=0;f<32;f++){var z=new Array(256),d=0;for(var R=0;R<256;R++)z[R]=[];for(var R=0;R<x.length;
R++){var V=x[R];z[c[V].sK[f]].push(V)}for(var R=0;R<256;R++)d+=Math.abs(z[R].length-l);N.push([d,f,z])}N.sort(function(e,p){return e[0]-p[0]});
var n=[],O=[];u[$]=[n,O];for(var Y=0;Y<X;Y++){n.push(N[Y][1]);O.push(N[Y][2])}}return u};a.Nf.match=function(c,o,K){var u=[],X=new Uint16Array(o.length);
X.fill(65535);var $=new Uint8Array(o.length),top=new Uint32Array(4),O=[];for(var n=0;n<c.length;n++){var x=c[n],l=x.sK;
top.fill(1e6);$.fill(0);var N=K[x.a4S];for(var f=0;f<N[1].length;f++){var z=N[1][f][l[N[0][f]]];for(var R=0;
R<z.length;R++){var V=z[R];a.Nf.abC(x,o[V],V,top,$)}}if(top[2]<50&&top[2]<top[0]*.5){var d=X[top[3]];
if(d==65535){X[top[3]]=u.length;u.push([n,top[3],top[2]])}else if(top[2]<u[d][2]){u[d]=[n,top[3],top[2]]}}}u.sort(function(e,p){return e[2]-p[2]});
return u};a.Nf.aeH=function(c){var o=new ez;for(var Y=0;Y<c.length;Y++)o=o.X3(c[Y][1]);var K=a.R(o.P()*4);
for(var Y=0;Y<c.length;Y++)a.a.hA("norm",c[Y][0],c[Y][1],K,o,o,1);return[K,o]};a.Nf.asy=function(c,o,K,u,X,$,O,n){var x=c[1].clone(),l=x.clone();
x.x=x.y=0;var N=o[1].clone(),f=N.clone();N.x=N.y=0;N.x=x.m;var z=x.X3(N),R=f.y-l.y,V=a.R(z.P()*4);a.Ui(c[0],x,V,z);
a.Ui(o[0],new ez(N.x,N.y+R,N.m,N.e),V,z);var d=document.createElement("canvas");d.width=z.m;d.height=z.e;
var e=d.getContext("2d");e.lineWidth=.5;e.putImageData(new ImageData(new Uint8ClampedArray(V.buffer),z.m,z.e),0,0);
if($){var p=$[0],h=a.kn.ll(p),E=x.m,q=n.m;for(var Y=0;Y<X.length;Y++){var Z=X[Y],c=K[Z[0]],o=u[Z[1]];
e.strokeStyle="#"+"ff0000";e.beginPath();var v=a.v9.ar0(h,O[0],o,0,q),W=a.v9.ar0(p,O[1],c,0,q);e.moveTo(-l.x+v[0],-l.y+v[1]);
e.lineTo(-l.x+v[2],-l.y+v[3]);e.moveTo(E-f.x+W[0],-f.y+R+W[1]);e.lineTo(E-f.x+W[2],-f.y+R+W[3]);e.stroke()}}if(X){var D=X.length;
for(var Y=0;Y<D;Y++){var Z=X[Y],c=K[Z[0]],o=u[Z[1]];e.strokeStyle="#"+"ffff00"}}var I=new Uint8Array(e.getImageData(0,0,z.m,z.e).data.buffer);
if(!1){for(var A=0;A<2;A++){var U=A==0?K:u,w=A*x.m;for(var Y=0;Y<U.length;Y++){var t=U[Y],L=~~t.x,J=~~t.y,b=(J*z.m+L+w)*4;
I[b+1]=I[b+2]=t.az$*60;I[b+0]=0;I[b+3]=255}}}return[I,z]};a.stack={};a.stack.stack=function(c,o,K){var u=c.length,X=o.length;
if(u==1){o.set(c[0]);return}if(K=="avrg"||K=="stdv"||K=="summ"||K=="vari"){var $=1/u;for(var Y=0;Y<X;
Y++){var O=0;for(var n=0;n<u;n++)O+=c[n][Y];var x=~~(O*$+.5);if(K=="avrg"||(Y&3)==3)o[Y]=x;else if(K=="summ")o[Y]=255*Math.pow(Math.min(255,O)*(1/255),1/2.4);
else{var l=0;for(var n=0;n<u;n++){var N=c[n][Y]-x;l+=N*N}var f=Math.sqrt(l*$)*(1/255);if(K=="stdv")o[Y]=255*Math.pow(f,1/2.4);
else o[Y]=255*Math.pow(f*f,1/2.4)}}}else if(K=="maxx"){for(var Y=0;Y<X;Y++){var z=0;for(var n=0;n<u;
n++)z=Math.max(z,c[n][Y]);o[Y]=z}}else if(K=="minn"){for(var Y=0;Y<X;Y++){var z=255;for(var n=0;n<u;
n++)z=Math.min(z,c[n][Y]);o[Y]=z}}else if(K=="medn"||K=="rang"){var R=function(p,h){return p-h},V=new Array(u),d=0,e=0;
if((u&1)==0){e=u>>>1;d=e-1}else{d=e=u>>>1}for(var Y=0;Y<X;Y++){for(var n=0;n<u;n++)V[n]=c[n][Y];V.sort(R);
if(K=="medn")o[Y]=V[d]+V[e]>>>1;else o[Y]=(Y&3)==3?V[u-1]:V[u-1]-V[0]}}else console.log(K)};a.dJ={};
a.dJ.a4R=function(c,o,K,u){var X=Date.now(),$=new Uint32Array(o*K),O=new Uint8Array(o*K);while(!0){O.fill(0);
$.fill(0);var n=[],x=0;for(var l=0;l<K;l++){for(var N=0;N<o;N++){var Y=l*o+N;if(O[Y]==0){var f=n.length,z=a.dJ.Ca(c,o,K,N,l,O,$,f);
n.push([f,N,l,z[0],z[1],c[Y]]);if(z[0]<u)x++}}}if(x==0)break;var R=n.length,V=new UnionFind(R),d=[];
for(var Y=0;Y<R;Y++)d.push([]);for(var Y=0;Y<R;Y++){var z=n[Y],e=z[4],p=0,h=0;if(z[3]>=u)continue;var f=z[0];
for(var E=0;E<e.length;E+=2){var q=$[e[E+1]*o+e[E]],Z=n[q];if(Z[3]>h){h=Z[3];p=q}}if(V.find(f)!=V.find(p)){V.link(f,p);
d[f].push(p);d[p].push(f)}}var v=new Uint32Array(R);v.fill(4294967295);var W=new Uint32Array(R);for(var Y=0;
Y<R;Y++){if(v[Y]!=4294967295||d[Y].length==0)continue;var D=[Y],I=[Y],A=Y,U=n[Y][3];while(I.length!=0){var w=I.pop(),t=d[w];
for(var E=0;E<t.length;E++){var L=t[E];if(D.indexOf(L)==-1){D.push(L);I.push(L);var J=n[L];if(J[3]>U){U=J[3];
A=L}}}}for(var E=0;E<D.length;E++){v[D[E]]=A;var b=n[A];W[D[E]]=c[b[2]*o+b[1]]}}for(var l=0;l<K;l++)for(var N=0;
N<o;N++){var Y=l*o+N,F=v[$[Y]];if(F!=4294967295)c[Y]=W[F]}}};a.dJ.Ca=function(c,o,K,u,X,$,O,n){var x=[u,X],l=c[X*o+u],N=0,f=[];
$[X*o+u]=1;while(x.length!=0){var z=x.pop(),R=x.pop(),Y=z*o+R;O[Y]=n;N++;if(z!=K-1)if(c[Y+o]==l){if($[Y+o]==0){x.push(R,z+1);
$[Y+o]=1}}else f.push(R,z+1);if(z!=0)if(c[Y-o]==l){if($[Y-o]==0){x.push(R,z-1);$[Y-o]=1}}else f.push(R,z-1);
if(R!=o-1)if(c[Y+1]==l){if($[Y+1]==0){x.push(R+1,z);$[Y+1]=1}}else f.push(R+1,z);if(R!=0)if(c[Y-1]==l){if($[Y-1]==0){x.push(R-1,z);
$[Y-1]=1}}else f.push(R-1,z)}return[N,f]};a.dJ.awS=function(c,o,K){var u=new Uint32Array(o*K);for(var Y=0;
Y<u.length;Y++)u[Y]=c[Y];var X=[];for(var $=0;$<K;$++){for(var O=0;O<o;O++){var Y=$*o+O,n=u[Y];if(n<1e3){var x=a.dJ.ay0(u,o,K,O,$,1e3+X.length);
X.push([O,$,n,x,0])}}}for(var Y=0;Y<u.length;Y++)u[Y]-=1e3;var l=new Float32Array(o*K);l.fill(o+K);for(var $=0;
$<K;$++)for(var O=0;O<o;O++){var Y=$*o+O,n=u[Y];if(O==0||$==0||u[Y-1]!=n||u[Y-o]!=n)l[Y]=0;else{var N=Math.min(l[Y],l[Y-1]+1,l[Y-o]+1);
if(u[Y-o-1]==n)N=Math.min(N,l[Y-o-1]+1.414);l[Y]=N}}for(var $=K-1;$>=0;$--)for(var O=o-1;O>=0;O--){var Y=$*o+O,n=u[Y];
if(O==o-1||$==K-1||u[Y+1]!=n||u[Y+o]!=n)l[Y]=0;else{var N=Math.min(l[Y],l[Y+1]+1,l[Y+o]+1);if(u[Y+o+1]==n)N=Math.min(N,l[Y+o+1]+1.414);
l[Y]=N}}for(var $=0;$<K;$++)for(var O=0;O<o;O++){var Y=$*o+O,f=X[u[Y]];if(l[Y]>f[4]){f[4]=l[Y];f[0]=O;
f[1]=$}}return X};a.dJ.ay0=function(c,o,K,u,X,$){var O=[u,X],n=c[X*o+u],x=0;c[X*o+u]=4294967295;while(O.length!=0){var X=O.pop(),u=O.pop(),Y=X*o+u;
x++;c[Y]=$;if(X<K-1&&c[Y+o]==n){O.push(u,X+1);c[Y+o]=4294967295}if(X>0&&c[Y-o]==n){O.push(u,X-1);c[Y-o]=4294967295}if(u>0&&c[Y-1]==n){O.push(u-1,X);
c[Y-1]=4294967295}if(u<o-1&&c[Y+1]==n){O.push(u+1,X);c[Y+1]=4294967295}}return x};a.dJ.a2$=function(c,o,K,u,X){var $=a.dJ.anb(c.buffer,o,K).a3,O=Date.now(),n=[];
for(var Y=0;Y<$.length;Y++){var x=$[Y],l=1;for(var N=0;N<l;N++)n.push(x.If)}var f=new Uint32Array(n),z=UPNG.quantize.getKDtree(new Uint8Array(f.buffer),u),R=[o,1,-o,-1,o+1,-o+1,-o-1,o-1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2],V=new Uint8Array(o*K),d=c;
for(var e=0;e<K;e++)for(var p=0;p<o;p++){var Y=e*o+p<<2,h=d[Y]*(1/255),E=d[Y+1]*(1/255),q=d[Y+2]*(1/255),Z=d[Y+3]*(1/255),v=a.dJ.$E(z,h,E,q,Z,X);
if(v==null){var W=[],D=0;while(D<20){var I=e*o+p+R[D]<<2,A=d[I]*(1/255),U=d[I+1]*(1/255),w=d[I+2]*(1/255),t=d[I+3]*(1/255),L=a.dJ.$E(z,A,U,w,t,.005);
if(L!=null){if(W.indexOf(L)==-1){W.push(L);L.Dz=1}else L.Dz++}D++}W.sort(function(Z,q){return q.Dz-Z.Dz});
while(W.length!=0&&W[W.length-1].Dz<3)W.pop();if(W.length==0)v=a.dJ.$E(z,h,E,q,Z,100);else if(W.length==1)v=W[0];
else if(W.length==2){var J=W[0],b=W[1],F=J.est.q,B=b.est.q,k=B[0]-F[0],i=B[1]-F[1],H=B[2]-F[2],m=B[3]-F[3],j=h-F[0],Q=E-F[1],G=q-F[2],g=Z-F[3],P=k*k+i*i+H*H+m*m,M=j*j+Q*Q+G*G+g*g,T=(j*k+Q*i+G*H+g*m)/P,C=M-T*T*P;
if(C<.5)v=T<.5?J:b;else{v=a.dJ.$E(z,h,E,q,Z,100)}}else{var J=W[0],b=W[1],gf=W[2],F=J.est.q,B=b.est.q,s=gf.est.q,b3=F[0]-s[0],d5=F[1]-s[1],gh=F[2]-s[2],jt=F[3]-s[3],fl=B[0]-s[0],eq=B[1]-s[1],c7=B[2]-s[2],k8=B[3]-s[3],hs=s[0]-h,cq=s[1]-E,jn=s[2]-q,an=s[3]-Z,hk=b3*b3+d5*d5+gh*gh+jt*jt,ds=b3*fl+d5*eq+gh*c7+jt*k8,gT=hs*b3+cq*d5+jn*gh+an*jt,gP=b3*fl+d5*eq+gh*c7+jt*k8,ky=fl*fl+eq*eq+c7*c7+k8*k8,ay=hs*fl+cq*eq+jn*c7+an*k8,bb=1/(ds*gP-hk*ky),T=(ky*gT-ay*ds)*bb,ap=(ay*hk-gT*gP)*bb,cR=1-T-ap,c8=Math.max(T,ap,cR);
if(c8==T)v=J;else if(c8==ap)v=b;else v=gf}}V[Y>>2]=v.ind}return{zC:V,a3:z[1]}};a.dJ.anb=function(c,o,K){var u=[],X={},$=o-1,O=K-1,n=0,x=new Uint32Array(c),l=[-o-1,-o,-o+1,-1,1,o-1,o,o+1,o+o,2,-o-o,-2,o+o-1,o+o+1,o+2,-o+2,-o-o+1,-o-o-1,-o-2,o-2,o+o+2,-o-o+2-o-o-2,o+o-2];
for(var N=1;N<O;N++)for(var f=1;f<$;f++){var z=N*o+f,R=x[z],V=!0;for(var Y=0;Y<8;Y++)V=V&&x[z+l[Y]]==R;
if(V){n++;var d=X[R];if(d==null){X[R]=u.length;u.push({If:R,s$:1})}else u[d].s$++}}return{a3:u,alc:n}};
a.dJ.$E=function(c,o,K,u,X,$){var O=UPNG.quantize.getNearest(c[0],o,K,u,X);return a.dJ.ani(O,o,K,u,X)<$?O:null};
a.dJ.ani=function(c,o,K,u,X){var $=c.est.q,O=o-$[0],n=K-$[1],x=u-$[2],l=X-$[3];return O*O+n*n+x*x+l*l};
(function(){a.dJ.RQ=function(n,x,l,N,f){var z=n.gj,R=x*l,V=n.bj,d=n.zC,e=u(N,d,z,R),p=new UnionFind(z),W=0;
for(var h=1;h<l;h++)for(var E=1;E<x;E++){var Y=h*x+E,q=d[Y],Z=0;if((Z=d[Y-1])!=q&&e[Z]==e[q]&&c(V,0,q*6,Z*6)<f)p.link(q,Z);
if((Z=d[Y-x])!=q&&e[Z]==e[q]&&c(V,0,q*6,Z*6)<f)p.link(q,Z)}var v=new Uint16Array(z);v.fill(65535);var D=new Uint16Array(z);
for(var Y=0;Y<z;Y++){var I=p.find(Y);if(v[I]==65535)v[I]=W++;D[Y]=v[I]}var A=new Uint16Array(R);for(var Y=0;
Y<R;Y++)A[Y]=D[d[Y]];return{zC:A,gj:W}};a.dJ.M9=function(n,x,l){var N=a.R(x),f=n.length;for(var Y=0;
Y<f;Y++){var z=l[Y];if(z==0||z==255){var R=n[Y],V=2-(z>>>7),d=N[R]=N[R]|V;if(d==3)return R}}return-1};
function c(n,x,l,N){var f=1/n[l+5],z=1/n[N+5],R=n[l]*f-n[N]*z,V=n[l+1]*f-n[N+1]*z,d=n[l+2]*f-n[N+2]*z,e=n[l+3]*f-n[N+3]*z,p=n[l+4]*f-n[N+4]*z,h=Math.sqrt(R*R+V*V+d*d),E=Math.sqrt(e*e+p*p);
return~~(h+x*E+.5)}function o(n,x){var Y=0,l=n.length;while(Y!=l&&n[Y]!=x)Y+=2;return Y==l?-1:Y}function K(n,Y){if(Y==n.length-2){n.pop();
n.pop()}else{n[Y+1]=n.pop();n[Y]=n.pop()}}a.dJ.asn=function(n,x,l,N,f){var z=new Uint32Array(f*4400),R=[];
for(var Y=0;Y<f;Y++)R.push([]);for(var V=0;V<l;V++)for(var d=0;d<x;d++){var Y=V*x+d,e=Y<<2,p=N[Y],h=0,E=n[e]>>>4,q=n[e+1]>>>4,Z=n[e+2]>>>4;
z[p*4400+(E<<8|q<<4|Z)]++;z[p*4400+4096]++;z[p*4400+4100+(E<<4|q)]++;z[p*4400+4360+E]++;if(d!=0&&(h=N[Y-1])!=p&&o(R[p],h)==-1){R[p].push(h,0);
R[h].push(p,0)}if(V!=0&&(h=N[Y-x])!=p&&o(R[p],h)==-1){R[p].push(h,0);R[h].push(p,0)}}for(var Y=0;Y<f;
Y++){var Z=R[Y];for(var v=0;v<Z.length;v+=2)Z[v+1]=O(z,Y,Z[v])}return[z,R]};function u(n,x,l,N){var f=a.R(l);
for(var Y=0;Y<N;Y++){var z=n[Y];if(z==0||z==255)f[x[Y]]=2-(z>>>7)}return f}a.dJ.a9a=function(n,x,l,N,f,z,R){var V=x*l,d=R[0],e=R[1],p=new UnionFind(N),h=u(f,n,N,V),E=-1,q=!0,Z=0;
for(var Y=0;Y<N;Y++)if(h[Y]==1){if(E==-1)E=Y;else p.link(Y,E)}if(E==-1){for(var Y=0;Y<V;Y++)z[Y]=f[Y]==255?255:0;
return}while(q){while(q){q=!1;for(var Y=0;Y<N;Y++){if(h[Y]==0){var v=X(e[Y]);if(h[v]==1){h[Y]=h[v];q=!0;
p.link(Y,v)}}}}q=!0;Z=0;while(q){q=!1;for(var Y=0;Y<N;Y++){if(h[Y]==0){var v=X(e[Y]);if(h[v]==0){var W=Y*4400,D=v*4400;
for(var I=0;I<4400;I+=2){d[W+I]+=d[D+I];d[W+I+1]+=d[D+I+1]}$(e,d,Y,v);Z++;h[v]=3;q=!0;p.link(Y,v)}}}}q=Z!=0}var A=p.find(E);
for(var Y=0;Y<N;Y++)h[Y]=p.find(Y)==A?255:0;for(var Y=0;Y<V;Y++){z[Y]=h[n[Y]]}for(var Y=0;Y<V;Y++){var v=f[Y];
if(v==0||v==255)z[Y]=v}};function X(n){var x=0,l=0,N=n.length;for(var f=0;f<N;f+=2){var z=n[f+1];if(z>l){l=z;
x=f}}return n[x]}function $(n,x,l,N){var f=n[l],z=n[N];K(f,o(f,N));K(z,o(z,l));for(var Y=0;Y<z.length;
Y+=2){var R=z[Y],V=n[R];K(V,o(V,N));if(o(V,l)==-1){V.push(l,0);f.push(R,0)}}for(var Y=0;Y<f.length;Y+=2){var R=f[Y],V=n[R],d=O(x,l,R);
f[Y+1]=d;V[o(V,l)+1]=d}}function O(n,x,l){var N=0,f=4096,z=x*4400,R=l*4400;for(var V=0;V<16;V++){if(n[z+4360+V]==0||n[R+4360+V]==0)continue;
for(var d=0;d<16;d++){var e=V<<4|d;if(n[z+4100+e]==0||n[R+4100+e]==0)continue;var p=z+(e<<4),h=R+(e<<4);
for(var Y=0;Y<16;Y++)N+=Math.sqrt(n[p+Y]*n[h+Y])}}var E=N/Math.sqrt(n[z+f]*n[R+f]);return~~(999.99999*E)}}());
a.dJ.OL=function(){var c,o,K,O=0,n=0;function u(R,V,d){var e=[],p=d,h=d,E=d>>>2;for(var q=0;q<V;q++)for(var Z=0;
Z<R;Z++){var v=~~((Z+.5)*p),W=~~((q+.5)*h),D=1e9,I=Math.max(0,v-E),A=Math.min(o,v+E+1),U=Math.max(0,W-E),w=Math.min(K,W+E+1);
for(var t=U;t<w;t++)for(var L=I;L<A;L++){var J=X(L,t);if(J<D){v=L;W=t;D=J}}e.push(v,W)}return e}function X(R,V){var d=(V*o+R)*4,e=o*4,p=$(d-4,d)+$(d,d+4),h=$(d-e,d)+$(d,d+e);
return p+h}function $(R,V){var d=c[R]-c[V],e=c[R+1]-c[V+1],p=c[R+2]-c[V+2];return d*d+e*e+p*p}function x(R,V,d,e){n++;
if(e<O)O=e;R[e].push(V,d)}function l(R){n--;while(R[O].length==0)O++}function N(R,V,d,e,p){var h=(d*o+V)*4,E=e[p+5],q=1/E,Z=c[h]*E-e[p],v=c[h+1]*E-e[p+1],W=c[h+2]*E-e[p+2],D=V*E-e[p+3],I=d*E-e[p+4],A=Math.sqrt(Z*Z+v*v+W*W),U=Math.sqrt(D*D+I*I);
return~~((A+R*U)*q+.5)}function f(R,V,d,e,p){c=R;o=V;K=d;O=0;n=0;var h=o*K,E=Math.round(Math.min(o,K)/(e?e:30));
if(E==0)E=1;var q=(p?p:30)/E,Z=Math.floor(o/E),v=Math.floor(K/E),W=new Uint16Array(h);for(var Y=0;Y<h;
Y++)W[Y]=65535;var D=u(Z,v,E),I=D.length>>>1;if(I>65535)throw I;var A=new Uint32Array(I*6),U=[];for(var Y=0;
Y<1e3+K;Y++)U.push([]);var w=1e3*700/(o*K),t=Math.floor(v*w);t=Math.min(v,Math.max(4,t));t=v;var A=new Uint32Array(I*6);
for(var L=0;L<v;L+=t){var J=Math.min(L+t,v);for(var b=L;b<J;b++)for(var F=0;F<Z;F++){var Y=b*Z+F;x(U,D[Y*2+1]<<16|D[Y*2],Y,0)}var B=Math.min(K,J*E);
if(L+t>=v)B=K;z(A,U,W,q,B)}c=null;return{zC:W,gj:I,bj:A,ajs:q}}function z(R,V,d,e,p){while(n!=0){l(V);
var h=V[O].pop(),E=V[O].pop(),q=E>>>16,Z=E&65535,Y=q*o+Z;if(d[Y]==null)throw"e";if(d[Y]==65535){var v=h*6,W=Y<<2;
d[Y]=h;R[v]+=c[W];R[v+1]+=c[W+1];R[v+2]+=c[W+2];R[v+3]+=Z;R[v+4]+=q;R[v+5]++;if(q!=p-1&&d[Y+o]==65535)x(V,q+1<<16|Z,h,N(e,Z,q+1,R,v));
if(q!=0&&d[Y-o]==65535)x(V,q-1<<16|Z,h,N(e,Z,q-1,R,v));if(Z!=0&&d[Y-1]==65535)x(V,q<<16|Z-1,h,N(e,Z-1,q,R,v));
if(Z!=o-1&&d[Y+1]==65535)x(V,q<<16|Z+1,h,N(e,Z+1,q,R,v))}}}f.v3=function(R,V,d,e,p,h){c=R;o=V;K=d;var E=e.gj=e.gj+1,q=e.zC,Z=e.bj,v=e.bj=new Uint32Array(E*6);
v.set(Z,0);var W=q[p[1]*o+p[0]];for(var Y=0;Y<q.length;Y++)if(q[Y]==W)q[Y]=65535;for(var Y=0;Y<6;Y++)v[W*6+Y]=0;
var D=[];for(var Y=0;Y<1e3+K;Y++)D.push([]);for(var Y=0;Y<p.length;Y+=2)x(D,p[Y+1]<<16|p[Y],W,0);for(var Y=0;
Y<h.length;Y+=2)x(D,h[Y+1]<<16|h[Y],E-1,0);z(v,D,q,e.ajs,K);c=null};return f}();a.a2n={};a.a2n.a4c=function(){var c=11,o=7,K=c>>>1,cv=o>>>1,u=2,X=2e3/u,$=[],n=null,x="";
function O(N,f,z){var R=(N[f+0]-N[z+0])*(1/255),V=(N[f+1]-N[z+1])*(1/255),d=(N[f+2]-N[z+2])*(1/255),e=(N[f+3]-N[z+3])*(1/255),p=R*R*.125+V*V*.25+d*d*.5+e*e;
return $[~~(p*X)]}function l(N,f,z,R,V,d){var e=Date.now(),p=a.R(f*z);a.yH(N,p);var h=UZIP.adler(p,0,f*z);
if(h!=x){var E=a.iy(p,f,z);n=a.R(f*z*4);x=h;var q=[1,1/9,1/25,1/49,1/81];for(var Z=0;Z<z;Z++)for(var v=0;
v<f;v++)for(var Y=0;Y<4;Y++){var W=Math.max(1,v-Y),D=Math.min(f-1,v+Y),I=Math.max(1,Z-Y),A=Math.min(z-1,Z+Y),U=a.Lu(E,f,W,D,I,A);
if(isNaN(U))throw v+","+Z+","+Y+","+U;n[(Z*f+v)*4+Y]=U*q[Y]}}if(jT.lW){var w=jT.xZ(0,f,z);w.set(N);var t=jT.xZ(1,f,z);
t.set(n);var L=jT.xZ(2,f,z);jT.Gf(L);jT.filter.YD({type:jT.filter.az_,y_:new Float32Array([1/f,1/z]),aeV:t.hO,aq9:V,ake:d},w.hO);
L.get(R)}else{for(var Y=0;Y<2e3;Y++)$[Y]=Math.exp(-(Y/2e3)*u*(100+(1-V)*(1-V)*1e4));var J=cv+2;for(var Z=J;
Z<z-J;Z++)for(var v=J;v<f-J;v++){var b=0,F=0,B=0,k=0;for(var i=0;i<c;i++)for(var H=0;H<c;H++){var m=v+H-K,j=Z+i-K;
if(m==v&&j==Z||m<J||j<J||m>=f-J||j>=z-J)continue;var Q=O(n,(Z*f+v)*4,(j*f+m)*4),G=j*f+m<<2;b+=Q*N[G+0];
F+=Q*N[G+1];B+=Q*N[G+2];k+=Q}if(k==0){continue}var g=1/k,P=(Z*f+v)*4;R[P+0]=~~((1-d)*g*b+d*R[P+0]);R[P+1]=~~((1-d)*g*F+d*R[P+1]);
R[P+2]=~~((1-d)*g*B+d*R[P+2])}}}return l}();a.ava=function(){var c=6,o=c>>>1,K=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],u=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function X(d,e){var p=!1,h=d.length,E=e[0],W=5,I=0,A=0;for(var Y=1;Y<h;Y++)E=E.X3(e[Y]);if((E.m&1)!=0)E.m++;
if((E.e&1)!=0)E.e++;var q=E.m,Z=E.e,v=Math.max(q,Z);while(v>>>W>8&&W<10)W++;var D=1<<W;if(q%D!=0)I=D-q%D;
if(Z%D!=0)A=D-Z%D;E.JG(I>>>1,A>>>1);q=E.m;Z=E.e;if(q%D!=0||Z%D!=0)throw"e";var U=Date.now(),w=[],t=a.R(E.P()),L=[],J=q*Z,b=new Float32Array(q*Z*2);
for(var Y=0;Y<h;Y++){var F=e[Y],B=a.R(F.P());a.yH(d[Y],B);t.fill(0);a.qv(B,F,t,E);w.push(t.slice(0));
var k=F.x-E.x,i=F.y-E.y,H=k+F.m-2,m=i+F.e;for(var j=0;j<F.e;j++){var Q=(j+i)*q;for(var G=0;G<k;G++)t[Q+G]=t[Q+k];
for(var G=H;G<q;G++)t[Q+G]=t[Q+H-1]}for(var G=0;G<q;G++){for(var j=0;j<i;j++)t[j*q+G]=t[i*q+G];for(var j=m;
j<Z;j++)t[j*q+G]=t[(m-1)*q+G]}var g=new Float32Array(q*Z*2);L.push(g);for(var P=0;P<J;P++)g[P*2]=t[P]*(1/255);
x(g,b,q,Z,W);$(g,q,Z,W)}if(p)console.log("to gray, decompose",Date.now()-U);U=Date.now();var M=a.R(q*Z);
for(var j=0;j<Z;j++)for(var G=0;G<q;G++){var T=0,C=0,gf=j*q+G<<1;for(var Y=0;Y<h;Y++){var s=L[Y],b3=s[gf],d5=s[gf+1],gh=b3*b3+d5*d5;
if(gh>C){C=gh;T=Y}}M[gf>>>1]=T}if(p)console.log("max abs value",Date.now()-U);U=Date.now();O(M,q,Z,W);
n(M,q,Z);if(p)console.log("denoise",Date.now()-U);U=Date.now();var jt=b.slice(0);for(var j=0;j<Z;j++)for(var G=0;
G<q;G++){var Y=j*q+G,gf=Y<<1,fl=L[M[Y]];jt[gf]=fl[gf];jt[gf+1]=fl[gf+1]}l(jt,b,q,Z,W);if(p)console.log("compose",Date.now()-U);
U=Date.now();for(var P=0;P<J;P++){var gh=jt[P*2]*255,T=0,C=1e9;for(var Y=0;Y<h;Y++){var eq=Math.abs(w[Y][P]-gh);
if(eq<C){C=eq;T=Y}w[Y][P]=0}w[T][P]=255}if(p)console.log("toRGB",Date.now()-U);U=Date.now();return[w,E]}function $(d,e,p,h){var E=e>>>h,q=p>>>h,Z=1e-4;
for(var v=0;v<p;v++)for(var W=0;W<e;W++){if(W<E&&v<q)continue;var D=(v*e+W)*2,I=d[D],A=d[D+1],U=I*I+A*A;
if(U<Z)I=A=0;else{var w=(U-Z)/U;I*=w;A*=w}d[D]=I;d[D+1]=A}}function O(d,e,p,h){for(var E=0;E<h;E++){var q=e>>>E,Z=p>>>E,v=q>>>1,W=Z>>>1;
for(var D=0;D<W;D++)for(var I=0;I<v;I++){var A=D*e+v+I,U=(D+W)*e+v+I,w=(D+W)*e+I,t=d[A],L=d[U],J=d[w];
if(t==L==J){}else if(t==L)d[w]=t;else if(L==J)d[A]=L;else if(t==J)d[U]=t}}}function n(d,e,p){for(var h=1;
h<p-1;h++)for(var E=1;E<e-1;E++){var Y=h*e+E,q=d[Y-e],Z=d[Y-1],v=d[Y],W=d[Y+1],D=d[Y+e],I=q==Z&&q==W||q==W&&W==D||W==D&&Z==D||q==Z&&D==Z;
if(I)d[Y]=q==Z?q:Z==W?Z:q;else if(v>q&&v>Z&&v>W&&v>D)d[Y]=q+Z+W+D>>>2;else if(v<q&&v<Z&&v<W&&v<D)d[Y]=q+Z+W+D>>>2}}function x(d,e,p,h,E){for(var Y=0;
Y<E;Y++){var q=p>>>Y,Z=h>>>Y;N(d,e,p,h,q,Z)}}function l(d,e,p,h,E){for(var Y=E-1;Y>=0;Y--){var q=p>>Y,Z=h>>Y;
f(d,e,p,h,q,Z)}}function N(d,e,p,h,E,q){R(d,e,p,h,E,q,!0);R(e,d,p,h,E,q,!1)}function f(d,e,p,h,E,q){V(d,e,p,h,E,q,!0);
V(e,d,p,h,E,q,!1)}function z(d,e,p,h,E,q){var Z=p*h+e<<1;d[Z]=E;d[Z+1]=q}function R(d,e,p,h,E,q,Z){var jJ=Z?E:q,v=Z?q:E,W=v>>>1;
for(var D=0;D<jJ;D++){for(var I=0;I<v;I+=2){var A=0,U=0,w=0,t=0,L=I>>>1;for(var J=0;J<6;J++){var b=I+J-3;
if(b<0)b=v+b;if(b>=v)b=b-v;var F=(Z?b*p+D:D*p+b)<<1,B=d[F],k=d[F+1],i=K[J],H=u[J];A+=B*i[0]-k*i[1];U+=k*i[0]+B*i[1];
w+=B*H[0]-k*H[1];t+=k*H[0]+B*H[1]}if(Z){z(e,D,L,p,A,U);z(e,D,L+W,p,w,t)}else{z(e,L,D,p,A,U);z(e,L+W,D,p,w,t)}}}}function V(d,e,p,h,E,q,Z){var jJ=Z?E:q,v=Z?q:E,W=v>>>1,D,I,A,U;
for(var w=0;w<jJ;w++){for(var t=0;t<v;t++){var L=0,J=0;for(var b=t+3&1;b<6;b+=2){var F=t-b+3>>1;if(F<0)F=W+F;
if(F>=W)F=F-W;if(Z){D=w;I=F;A=w;U=F+W}else{I=w;D=F;U=w;A=F+W}var B=I*p+D<<1,k=U*p+A<<1,i=d[B],H=d[B+1],m=d[k],j=d[k+1],Q=K[b],G=u[b];
L+=i*Q[0]+m*G[0];L+=H*Q[1]+j*G[1];J+=H*Q[0]+j*G[0];J-=i*Q[1]+m*G[1]}if(Z)z(e,w,t,p,L,J);else z(e,t,w,p,L,J)}}}return{Wc:X}}();
a.a5D=function(){var c=Math.floor(12e3/8),o=UPNG.quantize.findNearest,K,u,X,$;function O(z,R,V,d){var e=[z,new ez(0,0,R,V)],h;
a.hR(e);var p=Date.now(),E=R+V>>>1;for(var Y=E<1e3?2:4;Y>=0;Y-=2){var q=e[Y+1],u=q.m,X=q.e;if(h==null){h=new Uint8Array(u*X);
o(e[Y],h,d)}n(e[Y],u,X,d,h);if(Y!=0){var Z=e[Y-1],v=Z.m,W=Z.e,D=new Uint8Array(v*W);for(var I=0;I<W;
I++)for(var A=0;A<v;A++)D[I*v+A]=h[(I>>>1)*u+(A>>>1)];h=D}}return h}function n(z,R,V,d,e){K=z;u=R;X=V;
$=d;var p=$.length>>>2,h=[-1,-u,1,u],E=[-1,-u,-u+1,2,u+1,u],q=[-1,-u,1,u+1,u+u,u-1],Z=8,v=u+X>>>1,W=1e9;
while(v>512){Z>>=1;v>>=1}Z=Math.max(1,Math.min(4,Z));for(var D=0;D<Z;D++){var I=0;for(var A=0;A<X;A++)for(var U=0;
U<u;U++){if(N(e,U,A)<2)continue;var w=A*u+U,t=e[w],L=1e9,J=0,b=U==0||A==0||U>u-3||A>X-3;if(b){L=1e9;
for(var Y=0;Y<p;Y++){e[w]=Y;var F=f(e,U,A,2);if(F<L){L=F;J=Y}}e[w]=J;if(J==t&&U+1<u&&e[w+1]==t){L=1e9;
for(var Y=0;Y<p;Y++){e[w]=e[w+1]=Y;var F=f(e,U,A,2)+f(e,U+1,A,2);if(F<L){L=F;J=Y}}e[w]=e[w+1]=J}if(J==t&&A+1<X&&e[w+u]==t){L=1e9;
for(var Y=0;Y<p;Y++){e[w]=e[w+u]=Y;var F=f(e,U,A,2)+f(e,U,A+1,2);if(F<L){L=F;J=Y}}e[w]=e[w+u]=J}}else{L=1e9;
J=-1;for(var Y=0;Y<4;Y++){var B=e[w+h[Y]];if(B==J)continue;e[w]=B;var F=f(e,U,A,2);if(F<L){L=F;J=B}}e[w]=J;
if(J==t&&U+1<u&&e[w+1]==t){L=1e9;J=-1;for(var Y=0;Y<6;Y++){var B=e[w+E[Y]];if(B==J)continue;e[w]=e[w+1]=B;
var F=f(e,U,A,2)+f(e,U+1,A,2);if(F<L){L=F;J=B}}e[w]=e[w+1]=J}if(J==t&&A+1<X&&e[w+u]==t){L=1e9;J=-1;for(var Y=0;
Y<6;Y++){var B=e[w+q[Y]];if(B==J)continue;e[w]=e[w+u]=B;var F=f(e,U,A,2)+f(e,U,A+1,2);if(F<L){L=F;J=B}}e[w]=e[w+u]=J}}I+=L}}}function x(z){var R=0;
for(var V=0;V<X;V++)for(var d=0;d<u;d++)R+=f(z,d,V,1);return R/(u*X)}function l(z,R,V){var Y=V*u+R,d=Y*4,e=z[Y]*4,p=K[d]-$[e],h=K[d+1]-$[e+1],E=K[d+2]-$[e+2],q=K[d+3]-$[e+3];
return p*p+h*h+E*E+q*q}function N(z,R,V){if(R<0||R>=u||V<0||V>=X)throw"e";var Y=V*u+R,d=z[Y],e=0;if(V>0&&d!=z[Y-u])e+=2;
if(R>0&&d!=z[Y-1])e+=2;if(R<u-1&&d!=z[Y+1])e+=2;if(V<X-1&&d!=z[Y+u])e+=2;if(V>0&&R>0&&d!=z[Y-u-1])e++;
if(V<X-1&&R>0&&d!=z[Y+u-1])e++;if(V>0&&R<u-1&&d!=z[Y-u+1])e++;if(V<X-1&&R<u-1&&d!=z[Y+u+1])e++;return e}function f(z,R,V,d){return l(z,R,V)+N(z,R,V)*d*c}return O}();
var iy=function(){function c(){this.P=0;this.ui=0;this.$c={};this.gz=[];this.sV=1e5;this.wF=1e5;this.jf=-1;
this.DU=-1;this.color=0}function o(cv){this.uX=cv;this.MN=new Array(cv);this.If=new Array(cv*6);this.anQ=0;
this.l9=new Array(cv*2);this.alpha=new Array(cv);this.zz=new Array(cv);this.Gh=new Array(cv)}function K(X,$,O,n){function x(e,p,X,$){return X[$*p+e]}function l(Y){var W=X.length;
while(Y<W&&X[Y]==0)Y++;return Y<W?Y:-1}function N(e,p,W){for(var Y=2;Y<5;Y++){var D=0;for(var I=-Y+1;
I<=Y-1;I++){D+=x(e+I,p+Y-1,X,$)==W?1:-1;D+=x(e+Y-1,p+I-1,X,$)==W?1:-1;D+=x(e+I-1,p-Y,X,$)==W?1:-1;D+=x(e-Y,p+I,X,$)==W?1:-1}if(D>0)return 1;
else if(D<0)return 0}return 0}function f(W,V){var d=new c,e=W,p=V,D=0,I=1,A;d.color=X[V*$+W];d.sign=x(W,V,X,$)==d.color?"+":"-";
while(1){d.gz.push(e,p);if(e>d.jf)d.jf=e;if(e<d.sV)d.sV=e;if(p>d.DU)d.DU=p;if(p<d.wF)d.wF=p;d.ui++;e+=D;
p+=I;d.P-=e*I;if(e==W&&p==V)break;var U=x(e+(D+I-1>>1),p+(I-D-1>>1),X,$)==d.color,w=x(e+(D-I-1>>1),p+(I+D-1>>1),X,$)==d.color;
if(w&&!U){if(n.Kh=="right"||n.Kh=="black"&&d.sign=="+"||n.Kh=="white"&&d.sign=="-"||n.Kh=="majority"&&N(e,p,d.color)||n.Kh=="minority"&&!N(e,p,d.color)){A=D;
D=-I;I=A}else{A=D;D=I;I=-A}}else if(w){A=D;D=-I;I=A}else if(!U){A=D;D=I;I=-A}}return d}var z=0,R=[];
while(!0){var z=l(z);if(z==-1)break;var V=Math.floor(z/$),d=f(z-V*$,V);for(var Y=0;Y<d.gz.length-2;Y+=2){var e=d.gz[Y],p=d.gz[Y+1],h=p*$+e;
if(e==d.gz[Y+2]&&p+1==d.gz[Y+3]&&X[h]!=0)iy.fill(h,X,$,0)}if(d.P>n.anF)R.push(d)}for(var Y=0;Y<R.length;
Y++)R[Y].parent=-1;var E=Date.now();for(var Y=1;Y<R.length;Y++){var q=R[Y];for(var Z=Y-1;Z>=0;Z--){var v=R[Z];
if(q.sV<v.sV||q.jf>v.jf||q.wF<v.wF||q.DU>v.DU)continue;if(!iy.CZ(v.gz,q.gz[0]+.5,q.gz[1]+.5))continue;
q.parent=Z;break}}return R}function u(X,$){function O(D,I,A,U,w){this.x=D;this.y=I;this.__=A;this.fZ=U;
this.h_=w}function n(D,cv){return(cv+D)%cv}function x(D,I,A,U){return D*U-A*I}function l(D,I,A,U){return D*A+I*U}function N(D,I,A){if(D<=A)return D<=I&&I<A;
else return D<=I||I<A}function f(D,I,A){var U=0;U+=I*D[0]*I;U+=I*D[1]*A;U+=I*D[2];U+=A*D[3]*I;U+=A*D[4]*A;
U+=A*D[5];U+=D[6]*I;U+=D[7]*A;U+=D[8];return U}function z(D,I,A){return I+D*(A-I)}function R(D,I,A,U){var w=Math.sign(A-D),t=-Math.sign(U-I);
return w*(A-D)-t*(U-I)}function V(D,I){return Math.sqrt(D*D+I*I)}function d(D,I,A,U,w){var t=1-D;return t*t*t*I+3*(t*t*D)*A+3*(D*D*t)*U+D*D*D*w}function e(D,I,A,U,w,t,L,J){var b=x(D,I,L,J),F=x(A,U,L,J),B=x(w,t,L,J),k=b-2*F+B,i=-2*b+2*F,H=b,m=i*i-4*k*H;
if(k==0||m<0)return-1;var j=Math.sqrt(m),Q=(-i+j)/(2*k),G=(-i-j)/(2*k);if(Q>=0&&Q<=1)return Q;else if(G>=0&&G<=1)return G;
else return-1}function p(W){var Y,D,I;W.bc=W.gz[0];W.awh=W.gz[1];W.dw=[];var A=W.dw;A.push(new O(0,0,0,0,0));
for(Y=0;Y<W.ui;Y++){D=W.gz[Y<<1]-W.bc;I=W.gz[(Y<<1)+1]-W.awh;A.push(new O(A[Y].x+D,A[Y].y+I,A[Y].__+D*I,A[Y].fZ+D*D,A[Y].h_+I*I))}}function h(W){var cv=W.ui,D=W.gz,I,A=new Array(cv),U=new Array(cv),w=new Array(4),t,L,J,b,F,B,k,i,H,m,j,Y,Q,G,g,P,M,T,C=0;
W.DN=new Array(cv);for(Y=cv-1;Y>=0;Y--){if(D[Y<<1]!=D[C<<1]&&D[(Y<<1)+1]!=D[(C<<1)+1])C=Y+1;U[Y]=C}for(Y=cv-1;
Y>=0;Y--){var gf=n(Y+1,cv)<<1;w[0]=w[1]=w[2]=w[3]=0;I=(3+3*(D[gf]-D[Y<<1])+(D[gf+1]-D[(Y<<1)+1]))/2;
w[I]++;t=0;L=0;J=0;b=0;C=U[Y];G=Y;while(1){j=0;I=(3+3*Math.sign(D[C*2]-D[G*2])+Math.sign(D[C*2+1]-D[G*2+1]))/2;
w[I]++;if(w[0]&&w[1]&&w[2]&&w[3]){A[Y]=G;j=1;break}H=D[C*2]-D[Y*2];m=D[C*2+1]-D[Y*2+1];if(x(t,L,H,m)<0||x(J,b,H,m)>0){break}if(Math.abs(H)<=1&&Math.abs(m)<=1){}else{F=H+(m>=0&&(m>0||H<0)?1:-1);
B=m+(H<=0&&(H<0||m<0)?1:-1);if(x(t,L,F,B)>=0){t=F;L=B}F=H+(m<=0&&(m<0||H<0)?1:-1);B=m+(H>=0&&(H>0||m<0)?1:-1);
if(x(J,b,F,B)<=0){J=F;b=B}}G=C;C=U[G];if(!N(C,Y,G)){break}}if(j==0){k=Math.sign(D[C*2]-D[G*2]);i=Math.sign(D[C*2+1]-D[G*2+1]);
H=D[G*2]-D[Y*2];m=D[G*2+1]-D[Y*2+1];g=x(t,L,H,m);P=x(t,L,k,i);M=x(J,b,H,m);T=x(J,b,k,i);Q=1e7;if(P<0){Q=Math.floor(g/-P)}if(T>0){Q=Math.min(Q,Math.floor(-M/T))}A[Y]=n(G+Q,cv)}}Q=A[cv-1];
W.DN[cv-1]=Q;for(Y=cv-2;Y>=0;Y--){if(N(Y+1,A[Y],Q)){Q=A[Y]}W.DN[Y]=Q}for(Y=cv-1;N(n(Y+1,cv),Q,W.DN[Y]);
Y--){W.DN[Y]=Q}}function E(W){function D(W,Y,I){var cv=W.ui,H=W.gz,m=W.dw,j,Q,G,g,P,U,M,T,i,C,gf,s,b3,d5,gh=0;
if(I>=cv){I-=cv;gh=1}if(gh==0){j=m[I+1].x-m[Y].x;Q=m[I+1].y-m[Y].y;g=m[I+1].fZ-m[Y].fZ;G=m[I+1].__-m[Y].__;
P=m[I+1].h_-m[Y].h_;U=I+1-Y}else{j=m[I+1].x-m[Y].x+m[cv].x;Q=m[I+1].y-m[Y].y+m[cv].y;g=m[I+1].fZ-m[Y].fZ+m[cv].fZ;
G=m[I+1].__-m[Y].__+m[cv].__;P=m[I+1].h_-m[Y].h_+m[cv].h_;U=I+1-Y+cv}gf=(H[Y<<1]+H[I<<1])/2-H[0];s=(H[(Y<<1)+1]+H[(I<<1)+1])/2-H[1];
d5=H[I<<1]-H[Y<<1];b3=-(H[(I<<1)+1]-H[(Y<<1)+1]);M=(g-2*j*gf)/U+gf*gf;T=(G-j*s-Q*gf)/U+gf*s;i=(P-2*Q*s)/U+s*s;
C=b3*b3*M+2*b3*d5*T+d5*d5*i;return Math.sqrt(C)}var Y,I,A,U,cv=W.ui,w=new Array(cv+1),t=new Array(cv+1),L=new Array(cv),J=new Array(cv+1),b=new Array(cv+1),F=new Array(cv+1),B,k,i;
for(Y=0;Y<cv;Y++){i=n(W.DN[n(Y-1,cv)]-1,cv);if(i==Y){i=n(Y+1,cv)}if(i<Y){L[Y]=cv}else{L[Y]=i}}I=1;for(Y=0;
Y<cv;Y++){while(I<=L[Y]){J[I]=Y;I++}}Y=0;for(I=0;Y<cv;I++){b[I]=Y;Y=L[Y]}b[I]=cv;A=I;Y=cv;for(I=A;I>0;
I--){F[I]=Y;Y=J[Y]}F[0]=0;w[0]=0;for(I=1;I<=A;I++){for(Y=F[I];Y<=b[I];Y++){k=-1;for(U=b[I-1];U>=J[Y];
U--){B=D(W,U,Y)+w[U];if(k<0||B<k){t[Y]=U;k=B}}w[Y]=k}}W.aqS=A;W.akp=new Array(A);for(Y=cv,I=A-1;Y>0;
I--){Y=t[Y];W.akp[I]=Y}}function q(W){function D(W,Y,B,L,J,jt){var cv=W.ui,fl=W.dw,eq=0,i;while(B>=cv){B-=cv;
eq+=1}while(Y>=cv){Y-=cv;eq-=1}while(B<0){B+=cv;eq-=1}while(Y<0){Y+=cv;eq+=1}var c7=fl[B+1].x-fl[Y].x+eq*fl[cv].x,k8=fl[B+1].y-fl[Y].y+eq*fl[cv].y,hs=fl[B+1].fZ-fl[Y].fZ+eq*fl[cv].fZ,cq=fl[B+1].__-fl[Y].__+eq*fl[cv].__,jn=fl[B+1].h_-fl[Y].h_+eq*fl[cv].h_,k=B+1-Y+eq*cv;
L[jt]=c7/k;L[jt+1]=k8/k;var an=(hs-c7*c7/k)/k,hk=(cq-c7*k8/k)/k,ds=(jn-k8*k8/k)/k,gT=(an+ds+Math.sqrt((an-ds)*(an-ds)+4*hk*hk))/2;
an-=gT;ds-=gT;if(Math.abs(an)>=Math.abs(ds)){i=Math.sqrt(an*an+hk*hk);if(i!=0){J[jt]=-hk/i;J[jt+1]=an/i}}else{i=Math.sqrt(ds*ds+hk*hk);
if(i!=0){J[jt]=-ds/i;J[jt+1]=hk/i}}if(i==0){J[jt]=J[jt+1]=0}}var I=W.aqS,A=W.akp,cv=W.ui,U=W.gz,w=W.bc,t=W.awh,L=new Array(I*2),J=new Array(I*2),b=new Array(I),F=new Array(3),Y,B,k,i,Q,G,g,P,M,T,C;
W.$c=new o(I);for(Y=0;Y<I;Y++){B=A[n(Y+1,I)];B=n(B-A[Y],cv)+A[Y];L[Y<<1]=0;L[(Y<<1)+1]=0;J[Y<<1]=0;J[(Y<<1)+1]=0;
D(W,A[Y],B,L,J,Y<<1)}for(Y=0;Y<I;Y++){b[Y]=[0,0,0,0,0,0,0,0,0];var H=J[Y<<1]*J[Y<<1]+J[(Y<<1)+1]*J[(Y<<1)+1],m=1/H;
if(H!=0){F[0]=J[(Y<<1)+1];F[1]=-J[Y<<1];F[2]=-F[1]*L[(Y<<1)+1]-F[0]*L[Y<<1];for(i=0;i<3;i++){b[Y][i*3+0]=F[i]*F[0]*m;
b[Y][i*3+1]=F[i]*F[1]*m;b[Y][i*3+2]=F[i]*F[2]*m}}}var j=[0,0,0,0,0,0,0,0,0];for(Y=0;Y<I;Y++){j[0]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=0;
var gf=U[A[Y]<<1]-w,s=U[(A[Y]<<1)+1]-t,b3=0,d5=0;B=n(Y-1,I);for(i=0;i<9;i+=3){j[i+0]=b[B][i+0]+b[Y][i+0];
j[i+1]=b[B][i+1]+b[Y][i+1];j[i+2]=b[B][i+2]+b[Y][i+2]}while(1){var gh=j[0]*j[4]-j[1]*j[3];if(gh!=0){b3=(-j[2]*j[4]+j[5]*j[0])/gh;
d5=(j[2]*j[3]-j[5]*j[0])/gh;break}if(j[0]>j[4]){F[0]=-j[1];F[1]=j[0]}else if(j[4]){F[0]=-j[4];F[1]=j[3]}else{F[0]=1;
F[1]=0}var H=F[0]*F[0]+F[1]*F[1],m=1/H;F[2]=-F[1]*s-F[0]*gf;for(i=0;i<3;i++){j[i*3+0]+=F[i]*F[0]*m;j[i*3+1]+=F[i]*F[1]*m;
j[i*3+2]+=F[i]*F[2]*m}}Q=Math.abs(b3-gf);G=Math.abs(d5-s);if(Q<=.5&&G<=.5){W.$c.l9[Y<<1]=b3+w;W.$c.l9[(Y<<1)+1]=d5+t;
continue}g=f(j,gf,s);M=gf;T=s;if(j[0]!=0){for(C=0;C<2;C++){d5=s-.5+C;b3=-(j[1]*d5+j[2])/j[0];Q=Math.abs(b3-gf);
P=f(j,b3,d5);if(Q<=.5&&P<g){g=P;M=b3;T=d5}}}if(j[4]!=0){for(C=0;C<2;C++){b3=gf-.5+C;d5=-(j[3]*b3+j[5])/j[4];
G=Math.abs(d5-s);P=f(j,b3,d5);if(G<=.5&&P<g){g=P;M=b3;T=d5}}}for(i=0;i<2;i++){for(k=0;k<2;k++){b3=gf-.5+i;
d5=s-.5+k;P=f(j,b3,d5);if(P<g){g=P;M=b3;T=d5}}}W.$c.l9[Y<<1]=M+w;W.$c.l9[(Y<<1)+1]=T+t}}function Z(W){var D=W.$c.uX,I=W.$c,Y,A,U,w,t,L,J,b,F;
for(Y=0;Y<D;Y++){A=n(Y+1,D);U=n(Y+2,D);var B=I.l9[Y<<1],k=I.l9[(Y<<1)+1],i=I.l9[U<<1],H=I.l9[(U<<1)+1],m=I.l9[A<<1],j=I.l9[(A<<1)+1],Q=z(.5,i,m),G=z(.5,H,j);
t=R(B,k,i,H);if(t!=0){w=x(m-B,j-k,i-B,H-k)/t;w=Math.abs(w);L=w>1?1-1/w:0;L=L*(1/.75)}else{L=4/3}I.zz[A]=L;
var g=3*A<<1;if(L>=$.a1I){I.MN[A]=0;I.If[g+0]=I.If[g+1]=0;I.If[g+2]=m;I.If[g+3]=j;I.If[g+4]=Q;I.If[g+5]=G}else{if(L<.55){L=.55}else if(L>1){L=1}var P=.5+.5*L;
I.MN[A]=1;I.If[g]=z(P,B,m);I.If[g+1]=z(P,k,j);I.If[g+2]=z(P,i,m);I.If[g+3]=z(P,H,j);I.If[g+4]=Q;I.If[g+5]=G}I.alpha[A]=L;
I.Gh[A]=.5}I.aD3=1}function v(W){function D(){this.AO=0;this.J_=0;this.b5=0;this.HQ=0;this.VM=0;this.AC=0;
this.Z0=0;this.alpha=0}function I(W,Y,B,ky,ay,M,T){var U=W.$c.uX,bb=W.$c.If,ap=W.$c.l9;if(Y==B)return 1;
var cR=Y,m=n(Y+1,U),c8=n(cR+1,U),cq=ap[Y<<1],jn=ap[(Y<<1)+1],gr=ap[m<<1],fF=ap[(m<<1)+1],cj=M[c8];if(cj==0)return 1;
var br=V(cq-gr,jn-fF);for(cR=c8;cR!=B;cR=c8){var c8=n(cR+1,U),hX=n(cR+2,U),gG=ap[c8<<1],jx=ap[(c8<<1)+1],cr=ap[hX<<1],a8=ap[(hX<<1)+1];
if(M[c8]!=cj)return 1;if(Math.sign(x(gr-cq,fF-jn,cr-gG,a8-jx))!=cj)return 1;if(l(gr-cq,fF-jn,cr-gG,a8-jx)<br*V(gG-cr,jx-a8)*-.999847695156)return 1}var f8=n(Y,U)*3+2<<1,dW=n(Y+1,U)<<1,g7=n(B,U)<<1,eU=n(B,U)*3+2<<1,jt=bb[f8],fl=bb[f8+1],f7=ap[dW],d7=ap[dW+1],aW=ap[g7],cy=ap[g7+1],dh=bb[eU],fh=bb[eU+1],C=ap[0],gf=ap[1];
f8=B*3+2<<1;var dP=bb[f8],fg=bb[f8+1],j=T[B]-T[Y];j-=x(dP-C,fg-gf,dP-C,fg-gf)/2;if(Y>=B){j+=T[U]}var bo=f7-jt,jK=d7-fl,jQ=aW-jt,aZ=cy-fl,eo=dh-jt,dC=fh-fl,hG=x(bo,jK,jQ,aZ),dy=x(bo,jK,eo,dC),fw=x(jQ,aZ,eo,dC),dM=hG+fw-dy;
if(dy==hG)return 1;var P=fw/(fw-dM),g=dy/(dy-hG),aX=dy*P/2;if(aX==0)return 1;var fy=j/aX,Q=2-Math.sqrt(4-fy/.3);
ky.J_=z(P*Q,jt,f7);ky.b5=z(P*Q,fl,d7);ky.HQ=z(g*Q,dh,aW);ky.VM=z(g*Q,fh,cy);ky.alpha=Q;ky.AC=P;ky.Z0=g;
f7=ky.J_;d7=ky.b5;aW=ky.HQ;cy=ky.VM;ky.AO=0;for(cR=n(Y+1,U);cR!=B;cR=c8){c8=n(cR+1,U);var gp=ap[cR<<1],aU=ap[(cR<<1)+1],gG=ap[c8<<1],jx=ap[(c8<<1)+1];
P=e(f7-jt,d7-fl,aW-f7,cy-d7,dh-aW,fh-cy,gG-gp,jx-aU);if(P<-.5)return 1;var e7=d(P,jt,f7,aW,dh),eV=d(P,fl,d7,cy,fh),br=V(gG-gp,jx-aU);
if(br==0)return 1;var b8=x(gG-gp,jx-aU,e7-gp,eV-aU)/br;if(Math.abs(b8)>ay)return 1;if(l(gG-gp,jx-aU,e7-gp,eV-aU)<0||l(gp-gG,aU-jx,e7-gG,eV-jx)<0){return 1}ky.AO+=b8*b8}for(cR=Y;
cR!=B;cR=c8){c8=n(cR+1,U);var f8=cR*3+2<<1,dW=c8*3+2<<1,h$=bb[f8],jZ=bb[f8+1],bu=bb[dW],dL=bb[dW+1];
P=e(f7-jt,d7-fl,aW-f7,cy-d7,dh-aW,fh-cy,bu-h$,dL-jZ);if(P<-.5)return 1;var e7=d(P,jt,f7,aW,dh),eV=d(P,fl,d7,cy,fh),br=V(bu-h$,dL-jZ);
if(br==0)return 1;var b8=x(bu-h$,dL-jZ,e7-h$,eV-jZ)/br,iv=x(bu-h$,dL-jZ,ap[c8<<1]-h$,ap[(c8<<1)+1]-jZ)/br;
iv*=.75*W.$c.alpha[c8];if(iv<0){b8=-b8;iv=-iv}if(b8<iv-ay)return 1;if(b8<iv){ky.AO+=(b8-iv)*(b8-iv)}}return 0}var A=W.$c,U=A.uX,w=A.l9,t=new Array(U+1),L=new Array(U+1),J=new Array(U+1),b=new Array(U+1),F,Y,B,k,i=new D,H,m,j,Q,G,g,P,M=new Array(U),T=new Array(U+1);
for(Y=0;Y<U;Y++){if(A.MN[Y]=="CURVE"){var C=w[n(Y-1,U)<<1],gf=w[(n(Y-1,U)<<1)+1],s=w[Y<<1],b3=w[(Y<<1)+1],d5=w[n(Y+1,U)<<1],gh=w[(n(Y+1,U)<<1)+1];
M[Y]=Math.sign(x(s-C,b3-gf,d5-s,gh-b3))}else{M[Y]=0}}j=0;T[0]=0;var jt=A.l9[0],fl=A.l9[1];for(Y=0;Y<U;
Y++){m=n(Y+1,U);if(A.MN[m]=="CURVE"){Q=A.alpha[m];var eq=Y*3+2<<1,c7=m*3+2<<1,k8=A.If[eq],hs=A.If[eq+1],cq=w[m<<1],jn=w[(m<<1)+1],an=A.If[c7],hk=A.If[c7+1];
j+=.3*Q*(4-Q)*x(cq-k8,jn-hs,an-k8,hk-hs)/2;j+=x(k8-jt,hs-fl,an-jt,hk-fl)/2}T[Y+1]=j}t[0]=-1;L[0]=0;J[0]=0;
for(B=1;B<=U;B++){t[B]=B-1;L[B]=L[B-1];J[B]=J[B-1]+1;for(Y=B-2;Y>=0;Y--){k=I(W,Y,n(B,U),i,$.anP,M,T);
if(k){break}if(J[B]>J[Y]+1||J[B]==J[Y]+1&&L[B]>L[Y]+i.AO){t[B]=Y;L[B]=L[Y]+i.AO;J[B]=J[Y]+1;b[B]=i;i=new D}}}F=J[U];
G=new o(F);g=new Array(F);P=new Array(F);B=U;for(Y=F-1;Y>=0;Y--){var ds=n(B,U),gT=Y*3+0<<1,gP=ds*3+0<<1;
if(t[B]==B-1){G.MN[Y]=A.MN[ds];G.If[gT]=A.If[gP];G.If[gT+1]=A.If[gP+1];G.If[gT+2]=A.If[gP+2];G.If[gT+3]=A.If[gP+3];
G.If[gT+4]=A.If[gP+4];G.If[gT+5]=A.If[gP+5];G.l9[Y<<1]=A.l9[ds<<1];G.l9[(Y<<1)+1]=A.l9[(ds<<1)+1];G.alpha[Y]=A.alpha[ds];
G.zz[Y]=A.zz[ds];G.Gh[Y]=A.Gh[ds];g[Y]=P[Y]=1}else{G.MN[Y]="CURVE";G.If[gT]=b[B].J_;G.If[gT+1]=b[B].b5;
G.If[gT+2]=b[B].HQ;G.If[gT+3]=b[B].VM;G.If[gT+4]=A.If[gP+4];G.If[gT+5]=A.If[gP+5];G.l9[Y<<1]=z(b[B].Z0,A.If[gP+4],w[ds<<1]);
G.l9[(Y<<1)+1]=z(b[B].Z0,A.If[gP+5],w[(ds<<1)+1]);G.alpha[Y]=b[B].alpha;G.zz[Y]=b[B].alpha;g[Y]=b[B].Z0;
P[Y]=b[B].AC}B=t[B]}for(Y=0;Y<F;Y++){m=n(Y+1,F);G.Gh[Y]=g[Y]/(g[Y]+P[m])}G.aD3=1;W.$c=G}for(var Y=0;
Y<X.length;Y++){var W=X[Y];p(W);h(W);E(W);q(W);Z(W);if($.a3v)v(W)}}return{aAG:K,aht:u}}();iy.by=function(c,o,K,u){var X={Kh:"minority",anF:u,a3v:!0,a1I:1,anP:.2},$=iy.aAG(c,o,K,X);
iy.aht($,X);return $};iy.Dr=function(c){var o=[];for(var Y=0;Y<c.length;Y++){var K=c[Y],u=K.$c,X=["M"],$=[u.If[(u.uX-1)*6+4],u.If[(u.uX-1)*6+5]];
for(var O=0;O<u.uX;O++){var n=O*6;if(u.MN[O]==1){X.push("C");for(var x=0;x<6;x++)$.push(u.If[n+x])}else if(u.MN[O]==0){X.push("L");
for(var x=2;x<4;x++)$.push(u.If[n+x])}}X.push("Z");o.push({parent:K.parent,color:K.color,path:{j:$,G:X}})}return o};
iy.CZ=function(c,o,K){var cv=c.length>>1,u,X=c[2*cv-3]-K,$=c[2*cv-2]-o,O=c[2*cv-1]-K,n=O>X,x=0;for(var Y=0;
Y<cv;Y++){u=$;X=O;$=c[2*Y]-o;O=c[2*Y+1]-K;if(X==O)continue;n=O>X}for(var Y=0;Y<cv;Y++){u=$;X=O;$=c[2*Y]-o;
O=c[2*Y+1]-K;if(X<0&&O<0)continue;if(X>0&&O>0)continue;if(u<0&&$<0)continue;if(X==O&&Math.min(u,$)<=0)return!0;
if(X==O)continue;var l=u+($-u)*-X/(O-X);if(l==0)return!0;if(l>0)x++;if(X==0&&n&&O>X)x--;if(X==0&&!n&&O<X)x--;
n=O>X}return(x&1)==1};iy.fill=function(c,o,K,u){var X=o[c],$=[c],O=0;while(O<$.length){var n=$[O];O++;
o[n]=u;if(o[n-K]==X){$.push(n-K);o[n-K]=254}if(o[n-1]==X){$.push(n-1);o[n-1]=254}if(o[n+1]==X){$.push(n+1);
o[n+1]=254}if(o[n+K]==X){$.push(n+K);o[n+K]=254}}};var gX=function(){function c(n){return Math.max(0,Math.min(1,n))}function o(n,x){var l=x<0?-x:x;
if(n>1)n=.99;n=n*.99;var N=Math.pow(l/5,.16),z=Math.pow(2,l<1?l:1+(l-1)*.8);if(x<0)z=1/z;n=N*(1-Math.pow(1-n,z))+(1-N)*n;
return n}function K(n,x){var l=x/100;n=n*.99;n=l*(.5-.5*Math.cos(n*Math.PI))+(1-l)*n;return n}var u=a.QW.Mr(1,1,1,-.3),X=a.QW.fH(u);
function $(n,x,l,N,f,z,R){var V=n[l],d=n[l+1],e=n[l+2],p=a.QW.sb(u,[V,d,e,1]);V=p[0];d=p[1];e=p[2];V=o(V,N);
d=o(d,N);e=o(e,N);var p=a.QW.sb(X,[V,d,e,1]);V=p[0];d=p[1];e=p[2];V=c(V);d=c(d);e=c(e);V=K(V,f);d=K(d,f);
e=K(e,f);var h=h7.a7V(V,d,e,z);V=h[0];d=h[1];e=h[2];V=c(V);d=c(d);e=c(e);if(R){var E=new Uint8Array(4);
E[0]=~~(.5+V*255);E[1]=~~(.5+d*255);E[2]=~~(.5+e*255);j7.kg(R,E,E,new ez(0,0,1,1));V=E[0]/255;d=E[1]/255;
e=E[2]/255}x[l]=V;x[l+1]=d;x[l+2]=e}function O(n,x,l,N,f,z){var R=f.Temp?f.Temp.v:0,V=f.Tint?f.Tint.v:0,d=f.Ex12?f.Ex12.v:0,e=f.Cr12?f.Cr12.v:0,p=f.Vibr?f.Vibr.v:0,h=f.Strt?f.Strt.v:0,E=h7.ly(R,V),q=null;
d+=E.awQ;if(p!=0||h!=0)q=j7.tN("vibA",{Strt:f.Strt,vibrance:f.Vibr});var Z=Date.now();if(z){var v=Math.pow(2,d),W=n.length;
d=0;var D=new Float32Array(4e3);for(var Y=0;Y<4e3;Y++){var I=Y*(1/1e3);I=a.CA(I);I*=v;I=a.rp(I);I=c(I);
D[Y]=I}for(var Y=0;Y<W;Y+=3){N[Y]=D[~~(n[Y]*1e3)];N[Y+1]=D[~~(n[Y+1]*1e3)];N[Y+2]=D[~~(n[Y+2]*1e3)]}console.log(Date.now()-Z,"Exposure normalizing");
Z=Date.now()}else N.set(n);if(d!=0||e!=0||R!=0||V!=0||q){var A=17,U=1/(A-1),w=A*A*A,t=new Array(w*3);
for(var L=0;L<A;L++)for(var J=0;J<A;J++)for(var b=0;b<A;b++){var Y=L*A*A+J*A+b,F=Y*3;t[F]=L*U;t[F+1]=J*U;
t[F+2]=b*U}for(var Y=0;Y<w;Y++)$(t,t,Y*3,d,e,E,q);console.log(Date.now()-Z,"making LUT");Z=Date.now();
ICC.U.applyLUTFloat(t,A,N,N);console.log(Date.now()-Z,"applying LUT");Z=Date.now()}}return O}();function fR(){}fR.Sr=function(c,o){var K=new Uint8Array(c),u=0,X=o.split("/").pop().split(".")[0];
function $(e){for(var Y=0;Y<e.length;Y++)e[Y].v.Nm.v=X+"/"+e[Y].v.Nm.v.split("/").pop()}var O={Z7:[],p1:[],list:[]},n=_.SL(K,u);
u+=2;if(n<=2){O=fR.a6N(K);$(O.list);return O}var x=_.SL(K,u);u+=2;var l=_.MQ(K,u,8);u+=8;var N=_.q(K,u);
u+=4;if(N>0)O.Z7=fR.a9P(K,u,N,x,n);u+=N;var f=_.MQ(K,u,8);u+=8;var z=_.q(K,u);u+=4;if(z>0)O.p1=gu.sk(K,u,z);
u+=z;var R=_.MQ(K,u,8);u+=8;var V=_.q(K,u);u+=4;if(V>0){var d={};ik.aZ(K,d,u+4);O.list=d.Brsh.v}u+=V;
var e=O.list;for(var Y=0;Y<e.length;Y++){ac.zB.check(e[Y].v)}$(e);return O};fR.fA=function(c,o){c.v.Nm.v=o};
fR.a6N=function(c){var o={Z7:[],p1:[],list:[]},K=0,u=_.SL(c,K);K+=2;var X=_.SL(c,K);K+=2;for(var Y=0;
Y<X;Y++){var $=_.SL(c,K);K+=2;var O=_.q(c,K);K+=4;var n=K;if($==2){var x={};o.Z7.push(x);var l=_.q(c,n);
n+=4;var N=_.SL(c,n);n+=2;if(u==2){var f=_.p9(c,n);n+=4+f.length*2+2}x.id=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";
n++;n+=8;x.aB=_.QJ(c,n);n+=16;var z=_.SL(c,n);n+=2;var R=c[n];n++;var V=jS.mq(!1,z,c,x.aB.m,x.aB.e,n,R);
fR.ai8(x,V);var d=ac.jz(x.id),e=d.Brsh.v;e.Dmtr.v.val=x.aB.m;e.Spcn.v.val=N;o.list.push({t:"Objc",v:d})}K+=O}return o};
fR.jH=function(c){var o=new fd,K=0,u=0;_.n$(o,K,6);K+=2;_.n$(o,K,2);K+=2;var X={},$=[],O={},n=[];for(var Y=0;
Y<c.list.length;Y++){var x=c.list[Y].v,l=x.Brsh.v;if(l.classID=="sampledBrush")X[l.sampledData.v]=!0;
if(x.Txtr)O[x.Txtr.v.Idnt.v]=!0}for(var Y=0;Y<c.Z7.length;Y++)if(X[c.Z7[Y].id])$.push(c.Z7[Y]);for(var Y=0;
Y<c.p1.length;Y++)if(X[c.p1[Y].id])n.push(c.p1[Y]);_.Ps(o,K,"8BIMsamp");K+=8;K+=4;u=K;K=fR.aa_(o,K,$);
_.FA(o,u-4,K-u);_.Ps(o,K,"8BIMpatt");K+=8;K+=4;u=K;K=gu.vz(o,K,n);_.FA(o,u-4,K-u);var N=JSON.parse(JSON.stringify(c.list));
for(var Y=0;Y<N.length;Y++)N[Y].v.Nm.v=N[Y].v.Nm.v.split("/").pop();var f={classID:"null",Brsh:{t:"VlLs",v:N}};
_.Ps(o,K,"8BIMdesc");K+=8;K+=4;u=K;_.FA(o,K,16);K+=4;K+=ik.Av(o,f,K);_.FA(o,u-4,K-u);return o.data.slice(0,K).buffer};
fR.a9P=function(c,o,K,u,X){var $=_.q,O=_.QJ,n=o+K,x=[];while(o<n){var l={};x.push(l);var N=$(c,o);o+=4;
var f=o,z=_.RF(c,o);o+=z.length;l.id=z.Wr;if(u==1){o+=9;l.aB=O(c,o);o+=16}else{o+=7;var R=$(c,o);o+=4;
l.aB=O(c,o);o+=16;var V=$(c,o);o+=4;o+=V*4;var d=$(c,o);o+=4;var e=$(c,o);o+=4;var p=O(c,o);o+=16}var h=_.SL(c,o);
o+=2;var E=c[o];o+=1;var q=jS.mq(!1,h,c,l.aB.m,l.aB.e,o,E);fR.ai8(l,q);if(N%4!=0)N+=4-N%4;o=f+N}return x};
fR.ai8=function(c,o){var K=c.aB.clone();K.x=K.y=0;c.Y1=[o,K]};fR.aa_=function(c,o,K){var u=_.FA,X=_.NP;
for(var Y=0;Y<K.length;Y++){var $=K[Y],O=o+4,x=56,N=1;o+=4;_.j4(c,o,$.id);o+=$.id.length+2;c.yl(o,1);
c.data[o]=1;o+=3;u(c,o,3);o+=4;var n=o;o+=4;X(c,o,$.aB);o+=16;u(c,o,x);o+=4;o+=x*4;u(c,o-4,1);var l=o;
o+=4;u(c,o,8);o+=4;X(c,o,$.aB);o+=16;_.n$(c,o,8);o+=2;c.yl(o,1);c.data[o]=N;o++;var f=$.Y1[0];c.yl(o,$.aB.P()*2);
o=jS.Sg(!1,f,c.data,$.aB.m,$.aB.e,o,N);c.yl(o,8);o+=8;var z=o-O;u(c,O-4,z);u(c,n,z-49);u(c,l,z-305);
if(z%4!=0)o+=4-z%4}return o};function i8(){}i8.Sr=function(c,o){var K=new Uint8Array(c),u=[],X=0,$=_.SL(K,X);
X+=2;if($!=4){throw"Unknown version of curves: "+$}var O=_.SL(K,X);X+=2;for(var Y=0;Y<O;Y++){var n=i8.a8u(K,X);
X+=2+2*n.length;u.push(n)}if(X!=K.length){var x=_.MQ(K,X,4);X+=4;var l=_.SL(K,X);X+=2;var N=_.SL(K,X);
X+=2;if(N!=0)throw"extra curves for channels"}var f=i8.ax4(u,0);f.presetKind={t:"long",v:3};f.presetFileName={t:"TEXT",v:o.split("/").pop().split(".")[0]};
return[f]};i8.Sy=function(c,o,K){var u=o,X=[],$=c[o];o+=3;var O=_.q(c,o);o+=4;for(var Y=0;Y<4;Y++){var n=O>>>Y&1;
if(n){if($==0){var x=i8.a8u(c,o);o+=2+2*x.length}else{var x=i8.atT(c,o);o+=256}X.push(x)}else X.push($==0?[0,0,255,255]:i8.ad9())}var l=i8.ax4(X,$);
return l};i8.ax4=function(c,o){var K=gZ.ib("curv");for(var Y=0;Y<4;Y++){if(o==0){var u=c[Y],X=[];for(var $=0;
$<u.length;$+=2)X.push(a.HO.ny(u[$],u[$+1],!0));i8.No(K,Y,X)}else i8.No(K,Y,c[Y])}return K};i8.lk=function(c,o,K){var u=[];
for(var Y=0;Y<4;Y++){var X=i8.Jz(K,Y);if(X.length==256)u.push(X);else{var $=[];for(var O=0;O<X.length;
O++)$.push(X[O].v.Hrzn.v,X[O].v.Vrtc.v);u.push($)}}var n=o,x=u[0].length==256?1:0;c.yl(o,3);c.data[o]=x;
c.data[o+1]=0;c.data[o+2]=1;o+=3;_.FA(c,o,15);o+=4;for(var Y=0;Y<4;Y++){var l=u[Y];if(x==0){i8.azV(c,o,l);
o+=2+2*l.length}else{i8.az4(c,o,l);o+=256}}return o-n};i8.ad9=function(){var c=[];for(var Y=0;Y<256;
Y++)c.push(Y);return c};i8.No=function(c,o,K){var u=i3.AR("CrvA",o);if(K.length<256)u.Crv={t:"VlLs",v:K};
else{u.Mpng={t:"VlLs",v:[]};for(var Y=0;Y<256;Y++)u.Mpng.v[Y]={t:"long",v:K[Y]}}u={t:"Objc",v:u};var X=c.Adjs.v,$=i3.FE(X,o);
if($==-1)X.push(u);else X[$]=u};i8.Jz=function(c,o){var K=c.Adjs.v,u=i3.FE(K,o);if(u==-1){if(K.length==0||K[0].v.Crv)return[a.HO.ny(0,0,!0),a.HO.ny(255,255,!0)];
if(K[0].v.autoMachineLearning||K[0].v.AuCo)return[a.HO.ny(0,0,!0),a.HO.ny(128,160,!0),a.HO.ny(255,255,!0)];
var X=[];for(var Y=0;Y<256;Y++)X.push(Y);return X}var $=K[u].v;if($.Crv)return $.Crv.v;if($.Mpng){var X=[];
for(var Y=0;Y<256;Y++)X.push($.Mpng.v[Y].v);return X}return[a.HO.ny(0,0,!0),a.HO.ny(255,255,!0)]};i8.a8u=function(c,o){var K=[],u=_.SL(c,o);
o+=2;for(var X=0;X<u;X++){var $=_.SL(c,o);o+=2;var O=_.SL(c,o);o+=2;K.push(O,$)}return K};i8.azV=function(c,o,K){var u=K.length/2;
_.n$(c,o,u);o+=2;for(var X=0;X<u;X++){_.n$(c,o,K[X*2+1]);o+=2;_.n$(c,o,K[X*2+0]);o+=2}};i8.atT=function(c,o){var K=[];
for(var Y=0;Y<256;Y++)K.push(c[o+Y]);return K};i8.az4=function(c,o,K){c.yl(o,256);for(var Y=0;Y<256;
Y++)c.data[o+Y]=K[Y]};function ij(){}ij.Sy=function(c,o,K){var u={},X=_.SL(c,o);o+=2;u.W0=c[o]==1;o++;
o++;u.fP=[_.ox(c,o),_.ox(c,o+2),_.ox(c,o+4)];o+=6;u.cl=[_.ox(c,o),_.ox(c,o+2),_.ox(c,o+4)];o+=6;u.N8=[];
for(var Y=0;Y<6;Y++){var $={};$.Yj=[_.ox(c,o),_.ox(c,o+2),_.ox(c,o+4),_.ox(c,o+6)];o+=8;$.eI=[_.ox(c,o),_.ox(c,o+2),_.ox(c,o+4)];
o+=6;u.N8.push($)}var O=gZ.ib("hue2"),n=u;if(O.Clrz==null)O.Clrz={t:"bool",v:!1};O.Clrz.v=n.W0;for(var Y=0;
Y<7;Y++){var x=Y==0?n.W0?n.fP:n.cl:n.N8[Y-1];ij.No(O,Y,x)}return O};ij.a9R=function(c){return{classID:"Hst2",H:{t:"long",v:c[0]},Strt:{t:"long",v:c[1]},Lght:{t:"long",v:c[2]}}};
ij.FE=function(c,o){for(var Y=0;Y<c.length;Y++){var K=c[Y].v.LclR;if(o==0&&K==null||K!=null&&K.v==o)return Y}return-1};
ij.No=function(c,o,K){var u=o==0?K:K.eI,X=ij.a9R(u);if(o!=0){var $=K.Yj;X.LclR={t:"long",v:o},X.BgnR={t:"long",v:$[0]};
X.BgnS={t:"long",v:$[1]};X.EndS={t:"long",v:$[2]};X.EndR={t:"long",v:$[3]}}X={t:"Objc",v:X};var O=c.Adjs.v,n=ij.FE(O,o);
if(n==-1)O.push(X);else O[n]=X};ij.Jz=function(c,o){var K=c.Adjs.v,u=ij.FE(K,o);if(u==-1){if(o==0)return[0,0,0];
else return[{Yj:[315,345,15,45],eI:[0,0,0]},{Yj:[15,45,75,105],eI:[0,0,0]},{Yj:[75,105,135,165],eI:[0,0,0]},{Yj:[135,165,195,225],eI:[0,0,0]},{Yj:[195,225,255,285],eI:[0,0,0]},{Yj:[255,285,315,345],eI:[0,0,0]}][o-1]}var X=K[u].v,$=[X.H.v,X.Strt.v,X.Lght.v];
if(o==0)return $;return{eI:$,Yj:[X.BgnR.v,X.BgnS.v,X.EndS.v,X.EndR.v]}};ij.lk=function(c,o,K){var u={W0:K.Clrz?K.Clrz.v:!1,N8:[]};
u.fP=u.cl=ij.Jz(K,0);for(var Y=1;Y<7;Y++)u.N8.push(ij.Jz(K,Y));var X=2+2+12+6*14,$=c.data;c.yl(o,X);
_.$H($,o,2);o+=2;$[o]=u.W0?1:0;o++;o++;_.mP($,o+0,u.fP[0]);_.mP($,o+2,u.fP[1]);_.mP($,o+4,u.fP[2]);o+=6;
_.mP($,o+0,u.cl[0]);_.mP($,o+2,u.cl[1]);_.mP($,o+4,u.cl[2]);o+=6;for(var Y=0;Y<6;Y++){var O=u.N8[Y].Yj,n=u.N8[Y].eI;
_.mP($,o+0,O[0]);_.mP($,o+2,O[1]);_.mP($,o+4,O[2]);_.mP($,o+6,O[3]);o+=8;_.mP($,o+0,n[0]);_.mP($,o+2,n[1]);
_.mP($,o+4,n[2]);o+=6}return X};function i3(){}i3.Sr=function(c){var o=new Uint8Array(c),K=2,u=[];for(var Y=0;
Y<29;Y++){var X=[];u.push(X);for(var $=0;$<5;$++)X.push(_.SL(o,K+Y*10+$*2))}K+=29*10;if(K<o.length){var O=_.MQ(o,K,4);
K+=4;var n=_.SL(o,K);K+=2;var x=_.SL(o,K);K+=2;var l=x-29;for(var Y=0;Y<l;Y++){var X=[];u.push(X);for(var $=0;
$<5;$++)X.push(_.SL(o,K+Y*10+$*2))}}var N=gZ.ib("levl");for(var Y=0;Y<4;Y++)i3.No(N,Y,u[Y]);return N};
i3.AR=function(c,Y){var o=["Cmps","Rd","Grn","Bl"],K={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[Y]}}]};
return{classID:c,Chnl:K}};i3.FE=function(c,o){var K={Cmps:0,Rd:1,Grn:2,Bl:3};for(var Y=0;Y<c.length;
Y++){var u=c[Y].v,X=K[u.Chnl.v[0].v.enum];if(X==o)return Y}return-1};i3.No=function(c,o,K){var u=i3.AR("LvlA",o);
u.Inpt={t:"VlLs",v:[{t:"long",v:K[0]},{t:"long",v:K[1]}]};u.Otpt={t:"VlLs",v:[{t:"long",v:K[2]},{t:"long",v:K[3]}]};
u.Gmm={t:"doub",v:K[4]/100};u={t:"Objc",v:u};var X=c.Adjs.v,$=i3.FE(X,o);if($==-1)X.push(u);else X[$]=u};
i3.Jz=function(c,o){var K=[0,255,0,255,100],u=c.Adjs.v,X=i3.FE(u,o);if(X==-1)return K;var $=u[X].v;if($.Inpt){K[0]=$.Inpt.v[0].v;
K[1]=$.Inpt.v[1].v}if($.Otpt){K[2]=$.Otpt.v[0].v;K[3]=$.Otpt.v[1].v}if($.Gmm){K[4]=Math.round($.Gmm.v*100)}return K};
i3.jH=function(c,o){var K=[],u=0;for(var Y=0;Y<4;Y++)K.push(i3.Jz(o,Y));while(K.length<29)K.push([0,255,0,255,100]);
c.yl(0,2+10*29);_.$H(c.data,u,2);u+=2;for(var Y=0;Y<29;Y++){var X=K[Y];for(var $=0;$<5;$++)_.$H(c.data,u+Y*10+$*2,X[$])}u+=29*10;
if(K.length==29)return u;c.yl(u,8+10*(K.length-29));_.b_(c.data,u,"Lvls");u+=4;_.$H(c.data,u,3);u+=2;
_.$H(c.data,u,K.length);u+=2;var O=K.length-29;for(var Y=0;Y<O;Y++){var X=K[29+Y];for(var $=0;$<5;$++)_.$H(c.data,u+Y*10+$*2,X[$])}u+=10*O;
return u};function jN(){}jN.Sr=function(c,o){var K=new Uint8Array(c),u=2,X=o.split("/").pop().split(".")[0],$={oL:[],iA:[]},O=_.MQ(K,u,4);
u+=4;var n=_.SL(K,u);u+=2;var x=_.q(K,u);u+=4;$.oL=gu.sk(K,u,x);u+=x;var l=_.q(K,u);u+=4;for(var Y=0;
Y<l;Y++){var N=_.q(K,u);u+=4;var f=u,z={Oq:{},ho:{}};$.iA.push(z);u+=4;u+=ik.aZ(K,z.Oq,u);z.Oq.Nm.v=X+"/"+z.Oq.Nm.v.split("=").pop();
u+=4;u+=ik.aZ(K,z.ho,u);u=f+N;var R=z.ho.blendOptions,V=z.ho.Lefx;if(R&&Object.keys(R.v).length>1){}if(V){if(V.v.masterFXSwitch==null)V.v.masterFXSwitch={t:"bool",v:!0};
eW.DH(V.v)}}return $};jN.fA=function(c,o){c.Oq.Nm.v=o};jN.jH=function(c){var o=new fd,K=0;_.n$(o,K,2);
K+=2;_.Ps(o,K,"8BSL");K+=4;_.n$(o,K,3);K+=2;var u=K;K+=4;K=gu.vz(o,K,c.oL);_.FA(o,u,K-u-4);var X=c.iA.length;
_.FA(o,K,X);K+=4;for(var Y=0;Y<X;Y++){K+=4;var $=K,O=c.iA[Y];_.FA(o,K,16);K+=4;var n=O.Oq.Nm.v;O.Oq.Nm.v=O.Oq.Nm.v.split("/").pop();
K+=ik.Av(o,O.Oq,K);O.Oq.Nm.v=n;var x=O.ho.Lefx;if(x){O.ho.Lefx=JSON.parse(JSON.stringify(x));eW.RO(O.ho.Lefx.v)}_.FA(o,K,16);
K+=4;K+=ik.Av(o,O.ho,K);if(x)O.ho.Lefx=x;_.FA(o,$-4,K-$)}return o.data.slice(0,K).buffer};function f4(){}f4.Sy=function(c,o,K){var u=_.SL(c,o);
o+=2;var X={};X.oY=_.SL(c,o)==1;o+=2;X.ZT=[];for(var Y=0;Y<10;Y++){var $=[];X.ZT.push($);for(var O=0;
O<4;O++)$.push(_.ox(c,o+O*2));o+=8}var n=gZ.ib("selc");n.Mthd.v.CrcM=X.oY?"Absl":"Rltv";for(var Y=1;
Y<10;Y++)f4.No(n,Y-1,X.ZT[Y]);return n};f4.Wv="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
f4.AR=function(c,Y){var o=["Cmps","Rd","Grn","Bl"],K={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o[Y]}}]};
return{classID:c,Chnl:K}};f4.FE=function(c,o){var K=f4.Wv;for(var Y=0;Y<c.length;Y++){var u=c[Y].v,X=K.indexOf(u.Clrs.v.Clrs);
if(X==o)return Y}return-1};f4.No=function(c,o,K){var u=["Cyn","Mgnt","Ylw","Blck"],X={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:f4.Wv[o]}}};
for(var $=0;$<4;$++)X[u[$]]={t:"UntF",v:{type:"#Prc",val:K[$]}};X={t:"Objc",v:X};var O=c.ClrC.v,n=f4.FE(O,o);
if(n==-1)O.push(X);else O[n]=X};f4.Jz=function(c,o){var K=[0,0,0,0],u=c.ClrC.v,X=f4.FE(u,o);if(X==-1)return K;
var $=["Cyn","Mgnt","Ylw","Blck"];for(var Y=0;Y<4;Y++)if(u[X].v[$[Y]])K[Y]=u[X].v[$[Y]].v.val;return K};
f4.lk=function(c,o,K){var u={oY:K.Mthd.v.CrcM=="Absl",ZT:[[0,0,0,0]]};for(var Y=0;Y<9;Y++)u.ZT.push(f4.Jz(K,Y));
c.yl(o,84);_.$H(c.data,o,1);o+=2;_.$H(c.data,o,u.oY?1:0);o+=2;for(var Y=0;Y<10;Y++){var X=u.ZT[Y];for(var $=0;
$<4;$++)_.mP(c.data,o+$*2,X[$]);o+=8}return 84};function d$(){}d$.ib=function(){return{_C:new ez(0,0,50,50),Oq:"",PB:"play",$:a.o.YP.p2([.1,.1,.9,.5,.1,.9],0)}};
d$.Sr=function(c,o){c=new Uint8Array(c);var K=0,u=[],X=o.split("/").pop().split(".")[0],$=Date.now(),O=_.MQ(c,0,4);
K+=4;var n=_.q(c,K);K+=4;var x=_.q(c,K);K+=4;for(var Y=0;Y<x;Y++){var l=_.p9(c,K);K+=l.length*2+4+2;
if((l.length&1)==0)K+=2;K=d$.acp(c,K,l,u);u[Y].PB=X+"/"+u[Y].PB}return u};d$.acp=function(c,o,K,u){var X=_.q(c,o);
o+=4;var $=_.q(c,o);o+=4;var O=o,n=_.RF(c,O).Wr;O+=n.length+1;var x=_.QJ(c,O);O+=16;var l=d$.hK(c,O,$-(O-o)),N=a.o.K5(l),f=a.A.jl(N),z=1/f.m,R=1/f.e;
a.o.Ik(l,new bE(z,0,0,R,-f.x*z,-f.y*R));u.push({PB:K,Oq:n,$:l,_C:x});o+=$;return o};d$.fA=function(c,o){c.PB=o};
d$.jH=function(c){var o=new fd,K=0;_.Ps(o,K,"cush");K+=4;_.FA(o,K,2);K+=4;_.FA(o,K,c.length);K+=4;for(var Y=0;
Y<c.length;Y++){var u=c[Y],X=u.PB.split("/").pop()+"\0";_.Ni(o,K,X);K+=4+X.length*2;if((X.length&1)==1)K+=2;
_.FA(o,K,1);K+=4;K+=4;var $=K;_.j4(o,K,u.Oq);K+=u.Oq.length+1;_.NP(o,K,u._C);K+=16;o.yl(K,u.$.length*26);
d$.da(o.data,K,u.$,1,1);K+=u.$.length*26;var O=K-$;if((O&3)!=0)O+=4-(O&3);_.FA(o,$-4,O);K=$+O}return o.data.slice(0,K).buffer};
d$.ap4=function(c){var o=[];for(var Y=0;Y<c.length;Y++){var K=c[Y],u=K.type,X={type:u};o.push(X);if(u==6){}else if(u==8)X.all=K.all;
else if(u==0||u==3){X.length=K.length;X.frule=K.cS;X.third=K.fl;X.prmA=K.tr;X.prmB=K.op}else{X.c=[K.mL.x,K.mL.y,K.L.x,K.L.y,K.oC.x,K.oC.y]}}return o};
d$.a6f=function(c){var o=[];for(var Y=0;Y<c.length;Y++){var K=c[Y],u=K.type,X={type:u};o.push(X);if(u==6){}else if(u==8)X.all=K.all;
else if(u==0||u==3){X.length=K.length;X.cS=K.frule;X.fl=K.third;X.tr=K.prmA;X.op=K.prmB}else{var $=K.c;
X.mL=new kn($[0],$[1]);X.L=new kn($[2],$[3]);X.oC=new kn($[4],$[5])}}return o};d$.hK=function(c,o,K,u,X){if(u==null)u=1;
if(X==null)X=1;function $(d,e,p){var h=_.ajQ(d,e)*p,E=Math.round(h);return Math.abs(h-E)<1e-6?E:h}var O=_.ox,n=[],x=Math.floor(K/26);
for(var Y=0;Y<x;Y++){var l=o+Y*26,N={},f=0;n.push(N);N.type=O(c,l);l+=2;if(N.type==6){f=24}if(N.type==8){N.all=O(c,l);
l+=2;f=22}if(N.type==0||N.type==3){N.length=O(c,l);l+=2;N.cS=O(c,l);l+=2;N.fl=O(c,l);l+=2;N.tr=_.q(c,l);
l+=4;N.op=_.q(c,l);l+=4;f=10}if(N.type==1||N.type==2||N.type==4||N.type==5){var z,R;R=$(c,l,X);l+=4;
z=$(c,l,u);l+=4;N.mL=new kn(z,R);R=$(c,l,X);l+=4;z=$(c,l,u);l+=4;N.L=new kn(z,R);R=$(c,l,X);l+=4;z=$(c,l,u);
l+=4;N.oC=new kn(z,R);f=0}for(var V=0;V<f;V++)if(c[l+V]!=0){console.log("Unexpected non-zero byte!",N,V,c[l+V])}}return n};
d$.da=function(c,o,K,u,X){var $=_.mP,O=_.atq,n=K.length;for(var Y=0;Y<n;Y++){var x=o+Y*26,l=K[Y];$(c,x,l.type);
x+=2;if(l.type==6){}if(l.type==8)$(c,x,l.all);if(l.type==0||l.type==3){$(c,x,l.length);x+=2;$(c,x,l.cS);
x+=2;$(c,x,l.fl);x+=2}if(l.type==1||l.type==2||l.type==4||l.type==5){O(c,x,l.mL.y/X);x+=4;O(c,x,l.mL.x/u);
x+=4;O(c,x,l.L.y/X);x+=4;O(c,x,l.L.x/u);x+=4;O(c,x,l.oC.y/X);x+=4;O(c,x,l.oC.x/u);x+=4}}};function g$(){}g$.Sr=function(c){var o=new Uint8Array(c),K=[],u=0;
if(_.MQ(o,0,4)=="ASEF")K=g$.aC7(o);else{u=g$.a1g(o,u,K);if(u+3<o.length){K=[];u=g$.a1g(o,u,K)}}return K};
g$.aC7=function(c){var o=[],K=8,u=_.q(c,K),X,$=null,O,n,x,l;K+=4;for(var N=0;N<u;N++){var f=_.SL(c,K);
K+=2;var z=_.q(c,K);K+=4;var R=K+z;if(f==49153||f==1){var V=_.SL(c,K);K+=2;var d=_.a8(c,K,V-1);K+=V*2;
if(f==1)X=d;else $=d}if(f==1){var e=_.MQ(c,K,4);K+=4;O=_.vh(c,K);K+=4;n=_.vh(c,K);K+=4;x=_.vh(c,K);K+=4;
if(e=="RGB "){}else if(e=="CMYK"){l=_.vh(c,K);K+=4;var p=UDOC.C.cmykToRgb([O,n,x,l]);O=p[0];n=p[1];x=p[2]}else alert("Unknown color space: "+e);
o.push({Z:O*255,r:n*255,J:x*255,Tw:($?$+" : ":"")+X})}K=R}return o};g$.a1g=function(c,o,K){var u=_.SL,X=_.ox,$=u(c,o);
o+=2;var O=u(c,o);o+=2;for(var Y=0;Y<O;Y++){var n=g$.Bg(c,o);o+=10;if($==2){n.Tw=_.p9(c,o);o+=4+n.Tw.length*2+2}K.push(n)}return o};
g$.Bg=function(c,o){var K=_.SL,u=_.ox,X=K(c,o),R=null;o+=2;var $=K(c,o);o+=2;var O=K(c,o);o+=2;var n=K(c,o);
o+=2;var x=K(c,o);o+=2;var l=1/65535,N=255/65535,f=100/65535,z=255/1e4;if(X==0)R={Z:$*N,r:O*N,J:n*N};
else if(X==1){R=a.$Y($*l,O*l,n*l);R.Z*=255;R.r*=255;R.J*=255}else if(X==2)R=a.T.h0({classID:"CMYC",Cyn:{t:"doub",v:100-$*f},Mgnt:{t:"doub",v:100-O*f},Ylw:{t:"doub",v:100-n*f},Blck:{t:"doub",v:100-x*f}});
else if(X==7){var V=a.$y($/100,u(c,o-6)/100,u(c,o-4)/100);R=V}else if(X==8){R={Z:255-$*z,r:255-O*z,J:255-n*z}}else if(X==18){var d=255*$/16384;
R={Z:d,r:d,J:d}}else{throw X}return R};g$.jH=function(c){var o=new fd,K=0,u=_.n$;u(o,K,2);K+=2;u(o,K,c.length);
K+=2;for(var Y=0;Y<c.length;Y++){var X=c[Y];o.yl(K,10);g$.DB(o.data,K,X);K+=10;var $=(X.Tw?X.Tw:"")+"\0";
_.Ni(o,K,$);K+=4+$.length*2}return o.data.slice(0,K).buffer};g$.fA=function(c,o){c.Tw=o};g$.DB=function(c,o,K){var u=65535/255,X=_.$H;
X(c,o,0);X(c,o+2,Math.round(K.Z*u));X(c,o+4,Math.round(K.r*u));X(c,o+6,Math.round(K.J*u));X(c,o+8,0)};
function bS(){}bS.Sr=function(c){var o=new Uint8Array(c),K=4,u={};u.u0=_.p9(o,K);K+=4+u.u0.length*2+2;
u.exp=o[K++]==1;u.fE=[];var X=_.q(o,K);K+=4;for(var Y=0;Y<X;Y++){var $={};u.fE.push($);$.wM=_.SL(o,K);
K+=2;$.shift=o[K++]==1;$.a4g=o[K++]==1;$.color=_.SL(o,K);K+=2;$.u0=_.p9(o,K);K+=4+$.u0.length*2+2;$.exp=o[K++]==1;
$.fE=[];var O=_.q(o,K);K+=4;for(var n=0;n<O;n++){var x={};$.fE.push(x);x.exp=o[K++]==1;x.w=o[K++]==1;
x.aek=o[K++]==1;x.aef=o[K++];var l=_.MQ(o,K,4);K+=4;if(l=="TEXT"){x.ST=bS.a1W(o,K);K+=4+x.ST.length}else if(l=="long"){x.ST=_.MQ(o,K,4);
K+=4}else throw"e";x.EP=bS.a1W(o,K);K+=4+x.EP.length;var N=_.AU(o,K);K+=4;if(N==-1){x.sK={};var f=ik.aZ(o,x.sK,K);
K+=f}}}console.log(u);var z=new Uint8Array(bS.jH(u));for(var Y=0;Y<z.length;Y++)if(z[Y]!=o[Y]&&_.MQ(o,Y+1,4)!="None"){console.log(o.length,z.length);
var R=4*(Y>>>2)-16;console.log(_.bY(o,R,64));console.log(_.bY(z,R,64));console.log(o.slice(R,R+64));
console.log(z.slice(R,R+64));throw"i"}return[u]};bS.a1W=function(c,o){var K=_.q(c,o);return _.MQ(c,o+4,K)};
bS.a6O=function(c,o,K){_.FA(c,o,K.length);_.Ps(c,o+4,K)};bS.jH=function(c){var o=new fd,K=0;_.FA(o,K,16);
K+=4;_.Ni(o,K,c.u0+"\0");K+=4+c.u0.length*2+2;o.yl(K,1);o.data[K++]=c.exp?1:0;var u=c.fE.length;_.FA(o,K,u);
K+=4;for(var Y=0;Y<u;Y++){var X=c.fE[Y];_.n$(o,K,X.wM);K+=2;o.yl(K,2);o.data[K++]=X.shift?1:0;o.data[K++]=X.a4g?1:0;
_.n$(o,K,X.color);K+=2;_.Ni(o,K,X.u0+"\0");K+=4+X.u0.length*2+2;o.yl(K,1);o.data[K++]=X.exp?1:0;var $=X.fE.length;
_.FA(o,K,$);K+=4;for(var O=0;O<$;O++){var n=X.fE[O];o.yl(K,4);o.data[K++]=n.exp?1:0;o.data[K++]=n.w?1:0;
o.data[K++]=n.aek?1:0;o.data[K++]=n.aef;var x="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(n.ST)!=-1;
_.Ps(o,K,x?"long":"TEXT");K+=4;if(!x){bS.a6O(o,K,n.ST);K+=4+n.ST.length}else{_.Ps(o,K,n.ST);K+=4}bS.a6O(o,K,n.EP);
K+=4+n.EP.length;_._S(o,K,n.sK?-1:0);K+=4;if(n.sK){var l=ik.Av(o,n.sK,K);K+=l}}}return o.data.slice(0,K).buffer};
function kd(){}kd.Sr=function(c){var o=new Uint8Array(c),K=0,u=_.q(o,K),x;K+=4;var X=_.MQ(o,K,8);K+=8;
var $=_.jn(o,K);K+=4;var O=_.jn(o,K);K+=4;var n=_.jn(o,K);K+=4;console.log($,O,n);if(u==2){x=new Float32Array(c,32,c.byteLength-32>>>2)}else if(u==3||u==4){x=new Float32Array(O*n*2);
var l=0,N=0,f=!0;K=u==3?32:16+8+40;while(K<o.length){var z=_.jn(o,K);K+=4;if(f)N+=z;else{for(var Y=0;
Y<z;Y++){x[l+N+Y<<1]=_.Wk(o,K);x[(l+N+Y<<1)+1]=_.Wk(o,K+4);K+=8}N+=z}f=!f;if(z!=0&&N==O){l+=O;N=0;f=!0;
if(l==O*n)break}}}else throw"unknown Mesh version: "+u;return{Oc:O,s_:n,map:x}};kd.or=function(c){var o=c.Oc,K=c.s_,u=c.map,X=new Uint8Array(32+K*o*8+K*8),$=0,O=0;
_.nc(X,$,3);$+=4;_.b_(X,$,"yfqLhseM");$+=8;_.Zg(X,$,2);$+=4;_.Zg(X,$,o);$+=4;_.Zg(X,$,K);$+=4;_.Zg(X,$,0);
$+=4;_.Zg(X,$,1);$+=4;for(var n=0;n<K;n++){_.Zg(X,$,0);$+=4;_.Zg(X,$,o);$+=4;for(var x=0;x<o;x++){_.El(X,$,u[O]);
_.El(X,$+4,u[O+1]);O+=2;$+=8}}return X.buffer};function gn(){}gn.Sr=function(c){var o=new Uint8Array(c),K=0,u=_.MQ(o,K,4);
K+=4;var X=_.SL(o,K);K+=2;var $=_.q(o,K);K+=4;var O=[];for(var Y=0;Y<$;Y++){var n=_.q(o,K);K+=4;var x={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
O.push(x);var l=_.p9(o,K);x.Nm.v=l;K+=4+l.length*2+2;var N=_.SL(o,K);K+=2;var f=_.SL(o,K);K+=2;for(var z=0;
z<f;z++){var R=a.HO.ny(0,0,!0);R.v.Vrtc.v=_.SL(o,K);K+=2;R.v.Hrzn.v=_.SL(o,K);K+=2;x.Crv.v.push(R)}if(n==1){}else if(n==2){for(var z=0;
z<f;z++){x.Crv.v[z].v.Cnty.v=o[K]==1;K+=1}}else throw"error";var V=_.q(o,K);K+=4;var d=_.q(o,K);K+=4}return O};
gn.fA=function(c,o){c.Nm.v=o};gn.jH=function(c){var o=new fd,K=0;_.Ps(o,K,"8BFS");K+=4;_.n$(o,K,1);K+=2;
_.FA(o,K,c.length);K+=4;for(var Y=0;Y<c.length;Y++){_.FA(o,K,2);K+=4;var u=c[Y];_.Ni(o,K,u.Nm.v+"\0");
K+=4+u.Nm.v.length*2+2;_.n$(o,K,2);K+=2;var X=u.Crv.v.length;_.n$(o,K,X);K+=2;for(var $=0;$<X;$++){var O=u.Crv.v[$];
_.n$(o,K,O.v.Vrtc.v);K+=2;_.n$(o,K,O.v.Hrzn.v);K+=2}o.yl(K,X);for(var $=0;$<X;$++){o.data[K]=u.Crv.v[$].v.Cnty.v;
K++}_.FA(o,K,0);K+=4;_.FA(o,K,0);K+=4}return o.data.slice(0,K).buffer};function gu(){}gu.Sr=function(c,o){var K=new Uint8Array(c),u=4,X=o.split("/").pop().split(".")[0],$=_.SL(K,u);
u+=2;var O=_.q(K,u);u+=4;var n=[];for(var Y=0;Y<O;Y++){var x={};n.push(x);u=gu.aqc(K,u,x);x.name=X+"/"+x.name.split("=").pop()}return n};
gu.fA=function(c,o){c.name=o};gu.jH=function(c){var o=new fd,K=0;_.Ps(o,K,"8BPT");K+=4;_.n$(o,K,1);K+=2;
_.FA(o,K,c.length);K+=4;for(var Y=0;Y<c.length;Y++){var u=c[Y],X=u.name;u.name=u.name.split("/").pop();
K=gu.aaK(o,K,u);u.name=X}return o.data.slice(0,K).buffer};gu.sk=function(c,o,K){var u=o+K,X=[];while(o<u){var $={},O=_.q(c,o);
o+=4;var n=o;o=gu.aqc(c,o,$);if(!$.Y1[1].SR())X.push($);if(O%4!=0)O+=4-O%4;o=n+O}return X};gu.vz=function(c,o,K){for(var Y=0;
Y<K.length;Y++){var u=K[Y];o+=4;var X=o;o=gu.aaK(c,o,u);var $=o-X;_.FA(c,X-4,$);if($%4!=0)X+=4-$%4;o=X+$}return o};
gu.aqc=function(c,o,K){var u=_.q(c,o);o+=4;if(u!=1)alert("Unknown version of pattern");var X=_.q(c,o);
o+=4;if(X!=1&&X!=2&&X!=3)console.log("Unsupported mode of pattern: "+X);var $=_.SL(c,o);o+=2;var O=_.SL(c,o);
o+=2;var n=new ez(0,0,O,$);K.name=_.p9(c,o);o+=4+2*K.name.length+2;var x=c[o];o++;K.id=_.MQ(c,o,x);o+=K.id.length;
var l=-1;if(X==2){l=o;o+=3*256+4}var N=new a.Ko(O*$);o=gu.aoC(c,o,N);if(X==2){for(var Y=0;Y<N.Z.length;
Y++){var f=3*N.Z[Y];N.Z[Y]=c[l+f+0];N.r[Y]=c[l+f+1];N.J[Y]=c[l+f+2]}}var z=a.R(n.P()*4);a.Zt(N,z);K.Y1=[z,n];
return o};gu.aaK=function(c,o,K){var u=K.Y1[0],X=K.Y1[1];_.FA(c,o,1);o+=4;_.FA(c,o,3);o+=4;_.n$(c,o,X.e);
o+=2;_.n$(c,o,X.m);o+=2;_.Ni(c,o,K.name+"\0");o+=4+2*K.name.length+2;_.WT(c,o,K.id.length);o++;_.Ps(c,o,K.id);
o+=K.id.length;var $=new a.Ko(X.P());a.j1(u,$);o=gu.a0R(c,o,$,X);return o};gu.aoC=function(c,o,K){var u=o,X={aB:null,O:[],alF:null,Wm:null},$=_.q(c,o);
o+=4;var O=_.q(c,o);o+=4;X.aB=_.QJ(c,o);o+=16;var n=_.q(c,o);o+=4;for(var Y=0;Y<n+2;Y++){var x=_.q(c,o);
o+=4;if(x==0)continue;var l=_.q(c,o);o+=4;if(l==0)continue;var N=_.q(c,o);o+=4;var f=_.QJ(c,o);o+=16;
var z=_.SL(c,o);o+=2;var R=c[o];o++;var V=jS.mq(!1,N,c,f.m,f.e,o,R);if(Y<n)X.O.push(V);if(Y==n)X.alF=V;
if(Y==n+1)X.Wm=V;o+=l-23}if(!X.aB.SR()){if(X.O[0])K.Z=X.O[0];if(X.O[1])K.r=X.O[1];else K.r=X.O[0].slice(0);
if(X.O[2])K.J=X.O[2];else K.J=X.O[0].slice(0);if(X.Wm)K.V=X.Wm;else K.V.fill(255)}return o};gu.a0R=function(c,o,K,u){var X=o,$={aB:u,O:[K.Z,K.r,K.J],alF:null,Wm:K.V};
_.FA(c,o,3);o+=4;_.FA(c,o,0);o+=4;_.NP(c,o,u);o+=16;_.FA(c,o,24);o+=4;for(var Y=0;Y<24+2;Y++){var O=o,n=Y<3||Y==25?1:0;
_.FA(c,o,n);o+=4;if(n==0)continue;_.FA(c,o,0);o+=4;_.FA(c,o,8);o+=4;_.NP(c,o,u);o+=16;_.n$(c,o,8);o+=2;
_.WT(c,o,1,1);o++;var x=Y<3?$.O[Y]:$.Wm;c.yl(o,u.P()+2);o=jS.Sg(!1,x,c.data,u.m,u.e,o,1);_.FA(c,O+4,o-O-8)}_.FA(c,X+4,o-X-8);
return o};function bQ(){}bQ.Sr=function(c,o){var K=new Uint8Array(c),X=0;if(K[0]==71)return bQ.a74(K);
var u=o.split("/").pop().split(".")[0],$=_.MQ(K,X,4);X+=4;var O=_.SL(K,X);X+=2;var n=[];if(O<=3){var x=_.SL(K,X);
X+=2;for(var Y=0;Y<x;Y++){var l=K[X++],N=_.MQ(K,X,l);X+=l;var f=bQ.a0B(K,X,N),z=f[0];X=f[1];n.push(z)}}else{var f={},R=ik.aZ(K,f,X+4),V=f.GrdL.v;
for(var Y=0;Y<V.length;Y++)n[Y]=V[Y].v.Grad.v}for(var Y=0;Y<n.length;Y++){var d=n[Y].Nm.v.split("/").pop().split("=").pop();
n[Y].Nm.v=u+"/"+d}return n};bQ.fA=function(c,o){c.Nm.v=o};bQ.jH=function(c){var o=new fd,K=0;_.Ps(o,K,"8BGR");
K+=4;_.n$(o,K,5);K+=2;_.FA(o,K,16);K+=4;var u={classID:"null",GrdL:{t:"VlLs",v:[]}},X=u.GrdL.v;for(var Y=0;
Y<c.length;Y++){var $=JSON.parse(JSON.stringify(c[Y]));$.Nm.v=$.Nm.v.split("/").pop();X[Y]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:$}}}}K+=ik.Av(o,u,K);
return o.data.slice(0,K).buffer};bQ.a0B=function(c,o,K){var u={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:K},Trns:{t:"VlLs",v:[]}},X=_.SL(c,o);
o+=2;if(X==0)throw"e";for(var Y=0;Y<X;Y++){var $=_.q(c,o),O=_.q(c,o+4),n=g$.Bg(c,o+8),x={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:n.Z},Grn:{t:"doub",v:n.r},Bl:{t:"doub",v:n.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:$},Mdpn:{t:"long",v:O}}};
u.Clrs.v.push(x);o+=20}var l=_.SL(c,o);o+=2;for(var Y=0;Y<l;Y++){var $=_.q(c,o),O=_.q(c,o+4),N=_.SL(c,o+8),x={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*N/255)}},Lctn:{t:"long",v:$},Mdpn:{t:"long",v:O}}};
u.Trns.v.push(x);o+=10}var f=_.SL(c,o);o+=2;u.Intr.v=f==2?_.SL(c,o):4096;o+=2;var z=_.SL(c,o);o+=2;return[u,o]};
bQ.agR=function(c,o,K){var u=K.Clrs.v.length;_.n$(c,o,u);o+=2;for(var Y=0;Y<u;Y++){var X=K.Clrs.v[Y];
_.FA(c,o,X.v.Lctn.v);_.FA(c,o+4,X.v.Mdpn.v);_.n$(c,o+8,0);var $=a.T.mv(a.T.h0(X.v.Clr.v)),O=[$.Rd.v,$.Grn.v,$.Bl.v,0];
for(var n=0;n<4;n++)_.n$(c,o+10+n*2,Math.round(65535*(O[n]/255)));o+=20}var x=K.Trns.v.length;_.n$(c,o,x);
o+=2;for(var Y=0;Y<x;Y++){var X=K.Trns.v[Y];_.FA(c,o,X.v.Lctn.v);_.FA(c,o+4,X.v.Mdpn.v);_.n$(c,o+8,Math.round(255*X.v.Opct.v.val/100));
o+=10}_.n$(c,o,2);o+=2;_.n$(c,o,K.Intr.v);o+=2;_.n$(c,o,32);o+=2;return o};bQ.a74=function(c){var o=_.AF(c,0,c.length).split("\n"),K=parseFloat(o[2]),u=[],X=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]).Grad.v;
X.Intr.v=0;X.Nm.v=o[1];for(var Y=0;Y<K;Y++){var $=o[3+Y].split(" ").map(parseFloat),O=$[11],n=$[12];
u.push([$[0],$.slice(3,6),$[6]]);if(n!=0){var x=a.R0($[3],$[4],$[5]),l=a.R0($[7],$[8],$[9]),N=x.s_,f=l.s_;
if(n==1&&N>f)f++;if(n==2&&N<f)N++;var z=Math.round(Math.abs(f-N)*7);if(z>1)for(var R=0;R<z;R++){var V=1-(R+1)/(z+1),d=1-V,e=a.$Y(V*N+d*f,V*x.Z0+d*l.Z0,V*x.NT+d*l.NT);
u.push([V*$[0]+d*$[2],[e.Z,e.r,e.J],V*$[6]+d*$[10]])}}u.push([$[2],$.slice(7,10),$[10]])}u.sort(function(p,h){return p[0]-h[0]});
a.T.Fa(u,X);return[X]};function aw(){}aw.Sr=function(c){var o=new Uint8Array(c),K=[],u=[],X=[],$=[],O=[],n=0,x=_.MQ(o,n,4);
n+=4;var l=_.q(o,n);n+=4;var N=_.q(o,n);n+=4;while(n<o.length){var f=_.MQ(o,n,4);n+=4;var z=_.MQ(o,n,4);
n+=4;var R=_.q(o,n);n+=4;if(z=="tppa"){u=gu.sk(o,n,R);n+=R}else if(z=="tpbd"){X=fR.a9P(o,n,R,1,1);n+=R}else if(z=="tptp"){var V=_.q(o,n);
n+=4;for(var Y=0;Y<V;Y++){var d=_.p9(o,n);n+=6+d.length*2;n+=4;var e={};n+=ik.aZ(o,e,n);K.push([d,e])}while((n&3)!=0)n++}else if(z=="tpsh"){var p=n,h=o.slice(n,n+R);
while(n<p+R){var E=_.q(o,n);n+=4;n=d$.acp(o,n,"Shape",$)}n=p+R}else if(z=="tpst"){var p=n;n+=4;while(n<p+R){var q=_.q(o,n);
n+=4;var Z=n,v=_.q(o,n);n+=4;var e={Oq:{},ho:{}};O.push(e);n+=4;n+=ik.aZ(o,e.Oq,n);n+=4;n+=ik.aZ(o,e.ho,n);
n=Z+q;var W=e.ho.Lefx;if(W){if(W.v.masterFXSwitch==null)W.v.masterFXSwitch={t:"bool",v:!0};eW.DH(W.v)}}n=p+R}else{console.log(o.slice(n-8,n+64));
console.log(_.MQ(o,n-8,64));throw z}}return{Z7:X,p1:u,list:K,aqM:$,iA:O}};aw.fA=function(c,o){c[0]=o};
aw.jH=function(c){var o=new fd,K=0;_.Ps(o,K,"8BTP");K+=4;_.FA(o,K,3);K+=4;_.FA(o,K,1);K+=4;var u=[c.p1,c.Z7,c.list];
for(var Y=0;Y<3;Y++){if(u[Y].length==0)continue;_.Ps(o,K,"8BIM");K+=4;var X=["tppa","tpbd","tptp"][Y];
_.Ps(o,K,X);K+=4;var $=K;K+=4;if(X=="tppa"){K=gu.vz(o,K,c.p1)}else if(X=="tpbd"){K=fR.aa_(o,K,c.Z7)}else if(X=="tptp"){_.FA(o,K,c.list.length);
K+=4;for(var O=0;O<c.list.length;O++){var n=c.list[O];_.Ni(o,K,n[0]+"\0");K+=6+n[0].length*2;_.FA(o,K,16);
K+=4;K+=ik.Av(o,n[1],K)}}_.FA(o,$,K-$-4);while((K&3)!=0)K++;o.yl(K,0)}return o.data.slice(0,K).buffer};
function eC(){}eC.Sr=function(c,o){var K=new Uint8Array(c),u;if(_.q(K,0)==K.length)u="icc";else if(K[0]=="<".charCodeAt(0))u="look";
else if(_.EJ(K,"LUT_3D_SIZE")!=-1)u="cube";else u="3DL";if(u!="icc"){var X=eC.abw(K,u),$=eC.apa(X[0],X[1]);
K=$}var O=[];for(var Y=0;Y<K.length;Y++)O.push(K[Y]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:o?o:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:O}}]};
eC.jH=function(c){var o=c[0],K=new Uint8Array(o.profile.v);return K.buffer};eC.fA=function(c,o){c.Nm.v=o};
eC.apa=function(c,o){var K=new fd,u=128;K.yl(0,128);var X=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var Y=0;Y<X.length;Y++)K.data[Y]=X[Y];var $=["desc","A2B0"],O=$.length,n=128+4+O*12;_.FA(K,u,O);
u+=4;for(var x=0;x<O;x++){var l=$[x];_.Ps(K,u,l);u+=4;_.FA(K,u,n);u+=4;var N=n;if(l=="desc"){_.Ps(K,N,"mluc");
N+=4;N+=4;_.FA(K,N,1);N+=4;_.FA(K,N,12);N+=4;_.Ps(K,N,"enUS");N+=4;var f="ICC by Photopea\0",z=f.length*2+2;
_.FA(K,N,z);N+=4;_.FA(K,N,28);N+=4;K.yl(N,z);for(var Y=0;Y<f.length;Y++)K.data[N+Y*2+1]=f.charCodeAt(Y);
N+=z}if(l=="A2B0"){_.Ps(K,N,"mAB ");N+=4;N+=4;K.yl(N,4);K.data[N]=3;K.data[N+1]=3;N+=4;K.yl(N,4*5);N+=4*3;
_.FA(K,N,N+8-n);N+=4;N+=4;K.yl(N,20);K.data[N]=c;K.data[N+1]=c;K.data[N+2]=c;N+=16;K.data[N]=2;N+=4;
var R=c*c*c*3;K.yl(N,R*2);for(var Y=0;Y<R;Y++)_.$H(K.data,N+Y*2,Math.max(0,Math.min(65535,Math.round(o[Y]*65535))));
N+=R*2}var V=N-n;while((V&3)!=0)V++;_.FA(K,u,V);u+=4;n+=V}_.FA(K,0,n);return K.data.slice(0,n)};eC.abw=function(c,o){o="LUTFormat"+o.toUpperCase();
var K=[],u=0,X=_.AF(c,0,c.length),$="";for(var Y=0;Y<c.length&&$=="";Y++){if(c[Y]==10)$="\n";else if(c[Y]==13){$="\r";
if(c[Y+1]==10)$+="\n"}}if(o=="LUTFormatCUBE"){var O=X.split($);for(var Y=0;Y<O.length;Y++){if(O[Y]==""||O[Y][0]=="#")continue;
var n=O[Y].split(" "),x=n[0];if(x=="LUT_3D_SIZE"){u=parseInt(n[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(x)!=-1)continue;
K.push(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]))}K=eC.asS(u,K)}else if(o=="LUTFormat3DL"){var O=X.split($),l=1/4095;
for(var Y=0;Y<O.length;Y++){var N=O[Y];if(N==""||N=="3DMESH"||N.startsWith("Mesh")||N[0]=="#")continue;
var n=N.split(" "),x=n[0];if(u==0){u=n.length;continue}K.push(parseFloat(n[0])*l,parseFloat(n[1])*l,parseFloat(n[2])*l)}}else if(o=="LUTFormatLOOK"){var f=new DOMParser,z=f.parseFromString(X,"text/xml"),R=z.getElementsByTagName("LUT")[0],V=R.children[0].textContent;
u=parseInt(JSON.parse(V));var d=R.children[1].textContent;d=d.replace(/"/g,"").replace(/\s/g,"");var e=3*u*u*u,p=e*4,h=new Uint8Array(p);for(var Y=0;Y<p;Y++){var E=d.charCodeAt(Y*2),q=d.charCodeAt(Y*2+1),Z=E<58?E-48:E-55,v=q<58?q-48:q-55;h[Y]=(Z<<4)+v}for(var Y=0;Y<e;Y++)K.push(_.Wk(h,Y<<2));K=eC.asS(u,K)}else throw o;return[u,K]};eC.aDS=function(c,o,K){var u=["#Created by www.Photopea.com","TITLE \""+K+"\"","","#LUT size","LUT_3D_SIZE "+o,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],X=6;
for(var Y=0;Y<c.length;Y+=3){u.push(c[Y].toFixed(X)+" "+c[Y+1].toFixed(X)+" "+c[Y+2].toFixed(X))}u.push("");
return _.qK(u.join("\n")).buffer};eC.asS=function(c,o){var K=[],u=c*c*c;for(var Y=0;Y<u;Y++)K.push(0,0,0);
for(var X=0;X<c;X++)for(var $=0;$<c;$++)for(var O=0;O<c;O++){var Y=3*(O+$*c+X*c*c),n=3*(X+$*c+O*c*c);
K[n]=o[Y];K[n+1]=o[Y+1];K[n+2]=o[Y+2]}return K};function ik(){}ik.aZ=function(c,o,K,u,X){var $=K,O;if(X==null)X=0;
var n=_.q(c,K);if(n==0){O="";K+=4}else{O=_.p9(c,K);K+=4+2*O.length+2}if(O!="")o.__name=O;o.classID=ik.nh(c,K);
if(u)console.log("\t".repeat(X),"- reading descriptor",o.classID,K);K+=ik.C5(c,K);var x=_.AU(c,K);K+=4;
for(var Y=0;Y<x;Y++){var l=ik.nh(c,K);K+=ik.C5(c,K);var N=ik.aBK(c,K,u,X);o[l]=N;K+=N.size;delete N.size}return K-$};
ik.Av=function(c,o,K,u){var X=K,$=o.__name;if($==null)$="";$+="\0";_.Ni(c,K,$);K+=4+2*$.length;ik.nT(c,K,o.classID);
K+=ik.C5(c.data,K);_._S(c,K,Object.keys(o).length-1-(o.__name==null?0:1));K+=4;for(var O in o){if(O=="classID")continue;
if(O=="__name")continue;ik.nT(c,K,O);K+=ik.C5(c.data,K);K+=ik.apJ(c,K,o[O])}return K-X};ik.aBK=function(c,o,K,u){var X=o,$=_.MQ(c,o,4);
o+=4;var O={size:0,t:$,v:null};if(K)console.log("\t".repeat(u),"reading key",$,X);switch($){case"obj ":case"VlLs":O.v=[];
var n=_.q(c,o);o+=4;for(var Y=0;Y<n;Y++){var x=ik.aBK(c,o,K,u+1);o+=x.size;delete x.size;O.v.push(x)}break;
case"UntF":O.v={type:_.MQ(c,o,4),val:_.pl(c,o+4)};o+=12;break;case"doub":O.v=_.pl(c,o);o+=8;break;case"bool":O.v=c[o]==1;
o+=1;break;case"long":O.v=_.AU(c,o);o+=4;break;case"comp":O.v=_.AU(c,o+4);o+=8;break;case"Objc":O.v={};
var l=ik.aZ(c,O.v,o,K,u+1);o+=l;break;case"TEXT":var N=_.q(c,o);if(N==0){O.v="";o+=4}else{O.v=_.p9(c,o);
o+=4+O.v.length*2+2}break;case"enum":var f=ik.nh(c,o);o+=ik.C5(c,o);var z=ik.nh(c,o);o+=ik.C5(c,o);O.v={};
O.v[f]=z;break;case"tdta":var R=_.AU(c,o);o+=4;O.v=[];for(var Y=0;Y<R;Y++)O.v.push(c[o+Y]);o+=R;break;
case"ObAr":var V=_.q(c,o);o+=4;var d=_.p9(c,o);o+=4+2*d.length+2;if(d!="")throw d;var e=ik.nh(c,o);o+=4+Math.max(4,e.length);
O.v={classID:e,arr:[]};var p=_.q(c,o);o+=4;for(var Y=0;Y<p;Y++){var e=ik.nh(c,o);o+=4+Math.max(4,e.length);
var f=_.MQ(c,o,4);o+=4;var h=_.MQ(c,o,4);o+=4;var E={id:e,type:f,uID:h,arr:[]};O.v.arr.push(E);var q=_.q(c,o,4);
o+=4;for(var Z=0;Z<q;Z++){var v=_.pl(c,o);o+=8;E.arr.push(v)}}break;case"Pth ":var W=o,R=_.q(c,o);o+=4;
var D=_.MQ(c,o,4);o+=4;var I=_.jn(c,o);o+=4;var A=_.aC3(c,o);o+=4+A.length*2;O.v={sig:D,pth:A};break;
case"Clss":case"type":case"rele":var A=_.p9(c,o);o+=4+A.length*2+2;var U=ik.nh(c,o);o+=4+Math.max(4,U.length);
O.v={classID:U};if(A!="")O.v.__name=A;if($=="rele"){O.v.val=_.AU(c,o);o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var w=ik.$I[$],A=_.p9(c,o);
o+=4+A.length*2+2;if(A.length!=0){console.log($,A);throw"e"}O.v={};for(var Y=0;Y<w.length;Y++){var U=ik.nh(c,o);
o+=4+Math.max(4,U.length);O.v[w[Y]]=U}if($=="name"){var A=_.p9(c,o);o+=4+A.length*2+2;O.v.val=A}if($=="indx"||$=="Idnt"){O.v.val=_.q(c,o);
o+=4}break;case"alis":var R=_.q(c,o);o+=4;O.v=_.MQ(c,o,R);o+=R;break;default:{console.log("unknown oskey: "+$+", "+X);
throw"e";return O}}if(K){console.log("\t".repeat(u),O.v);console.log("\t".repeat(u),"======",o)}O.size=o-X;
return O};ik.$I={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
ik.apJ=function(c,o,K){var u=o,X=K.t;K=K.v;_.Ps(c,o,X);o+=4;switch(X){case"obj ":case"VlLs":_._S(c,o,K.length);
o+=4;for(var $=0;$<K.length;$++){var O=ik.apJ(c,o,K[$]);o+=O}break;case"UntF":_.Ps(c,o,K.type);_.zs(c,o+4,K.val);
o+=12;break;case"doub":_.zs(c,o,K);o+=8;break;case"bool":_.WT(c,o,K?1:0,1);o+=1;break;case"long":_._S(c,o,K);
o+=4;break;case"comp":_._S(c,o+4,K);o+=8;break;case"Objc":var O=ik.Av(c,K,o);o+=O;break;case"TEXT":_.Ni(c,o,K+"\0");
o+=4+K.length*2+2;break;case"enum":var n=Object.keys(K)[0],x=K[n];ik.nT(c,o,n);o+=ik.C5(c.data,o);ik.nT(c,o,x);
o+=ik.C5(c.data,o);break;case"tdta":_.FA(c,o,K.length);o+=4;_.MZ(c,o,K);o+=K.length;break;case"ObAr":_.FA(c,o,K.arr[0].arr.length);
o+=4;_.Ni(c,o,"\0");o+=6;ik.nT(c,o,K.classID);o+=4+Math.max(4,K.classID.length);_.FA(c,o,K.arr.length);
o+=4;for(var Y=0;Y<K.arr.length;Y++){var l=K.arr[Y];ik.nT(c,o,l.id);o+=4+Math.max(4,l.id.length);_.Ps(c,o,l.type);
o+=4;_.Ps(c,o,l.uID);o+=4;_.FA(c,o,l.arr.length);o+=4;for(var $=0;$<l.arr.length;$++){_.zs(c,o,l.arr[$]);
o+=8}}break;case"Pth ":var N=K.pth.length*2+4+8;_.FA(c,o,N);o+=4;_.Ps(c,o,K.sig);o+=4;_.pE(c,o,N);o+=4;
_.akG(c,o,K.pth);o+=K.pth.length*2+4;break;case"Clss":case"type":case"rele":var f=K.__name;if(f==null)f="";
_.Ni(c,o,f+"\0");o+=4+f.length*2+2;var z=K.classID;ik.nT(c,o,z);o+=4+Math.max(4,z.length);if(X=="rele"){_._S(c,o,K.val);
o+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var R=ik.$I[X];_.FA(c,o,1);o+=6;for(var Y=0;
Y<R.length;Y++){var z=K[R[Y]];ik.nT(c,o,z);o+=4+Math.max(4,z.length)}if(X=="name"){_.Ni(c,o,K.val+"\0");
o+=4+K.val.length*2+2}if(X=="indx"||X=="Idnt"){_.FA(c,o,K.val);o+=4}break;case"alis":var N=K.length;
_.FA(c,o,N);o+=4;_.Ps(c,o,K);o+=N;break;default:console.log("unknown oskey: "+X);o=u;break}return o-u};
ik.nh=function(c,o){var K=_.AU(c,o);if(K>1e3)throw"e";if(K==0)K=4;return _.MQ(c,o+4,K).trim()};ik.C5=function(c,o){var K=_.AU(c,o);
return K==0?8:4+K};ik.nT=function(c,o,K){var u="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),X=4<K.length||u.indexOf(K)!=-1;
_._S(c,o,X?K.length:0);_.Ps(c,o+4,K);if(K.length<4&&!X){var $="";for(var Y=K.length;Y<4;Y++)$+=" ";_.Ps(c,o+4+K.length,$)}};
ik.a3y=function(c){var o={};for(var K in c){if(K=="classID")o[K]=c[K];else if(K=="__name")o[K]=c[K];
else o[K]=ik.a0y(c[K])}return o};ik.a0y=function(c){if(c.AC=="Objc")return ik.a3y(c.v);else if(c.AC=="VlLs"){var o=[];
for(var Y=0;Y<c.v.length;Y++)o.push(ik.a0y(c.v[Y]));return o}else if(c.AC=="UntF")return c.v.val;else return c.v};
function eW(){}eW.aq$=function(c,o,K,u,X,$){while(o<K){var O=_.MQ(c,o,4);o+=4;if(O!="8BIM"&&O!="8B64"){console.log("layer information signature error! "+O,"PSB = "+X);
alert("Error in PSD file: wrong signature.");return K}var n=_.MQ(c,o,4);o+=4;var x=_.q(c,o);o+=4;var l=X&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(n)!=-1;
if(l){x=x<<32|_.AU(c,o);o+=4}var N=["lrFX","PlLd"];if(N.indexOf(n)!=-1){if(x%4!=0)x+=4-x%4;o+=x;continue}switch(n){case"iOpa":u[n]=c[o];
break;case"brst":u[n]=[1,1,1];for(var Y=0;Y<x;Y+=4)u[n][_.q(c,o+Y)]=0;break;case"knko":u[n]=c[o];break;
case"infx":u[n]=c[o];break;case"clbl":u[n]=c[o];break;case"lmgm":u[n]=c[o];break;case"vmgm":u[n]=c[o];
break;case"fcmy":u[n]=c[o];break;case"lyid":u[n]=_.q(c,o);break;case"lsct":u[n]={type:_.q(c,o)};if(x>=12)u[n].Mh=_.MQ(c,o+8,4);
break;case"lsdk":u.lsct={type:_.q(c,o)};break;case"lyvr":u[n]=_.q(c,o);break;case"lnsr":var f={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
u[n]=_.MQ(c,o,4);break;case"lspf":u[n]=_.q(c,o);break;case"lclr":u[n]=_.SL(c,o);break;case"luni":u[n]=_.Wx(c,o);
break;case"fxrp":u[n]=new kn(_.pl(c,o),_.pl(c,o+8));break;case"artb":case"artd":u[n]={};ik.aZ(c,u[n],o+4);
break;case"SoCo":u[n]={};ik.aZ(c,u[n],o+4);break;case"GdFl":u[n]={};ik.aZ(c,u[n],o+4);eW.wY(u[n],n);
break;case"PtFl":u[n]={};ik.aZ(c,u[n],o+4);eW.wY(u[n],n);break;case"CgEd":u[n]={};ik.aZ(c,u[n],o+4);
break;case"brit":var z=u.brit=gZ.ib("brit"),R={};z.Brgh.v=_.ox(c,o);z.Cntr.v=_.ox(c,o+2);z.useLegacy.v=!0;
break;case"levl":var V=c.buffer.slice(o,o+x);u[n]=i3.Sr(V);break;case"curv":u[n]=i8.Sy(c,o,x);break;
case"expA":var d=_.SL(c,o),e=u[n]=gZ.ib("expA");e.Exps.v=_.vh(c,o+2);e.Ofst.v=_.vh(c,o+6);e.gammaCorrection.v=_.vh(c,o+10);
break;case"vibA":u[n]={};ik.aZ(c,u[n],o+4);break;case"hue2":u[n]=ij.Sy(c,o,x);break;case"blnc":var e=u[n]=gZ.ib(n);
e.PrsL.v=c[o+18]==1;var p=["ShdL","MdtL","HghL"];for(var Y=0;Y<3;Y++)for(var h=0;h<3;h++)e[p[Y]].v[h].v=_.ox(c,o+Y*6+h*2);
break;case"blwh":var E={};ik.aZ(c,E,o+4);var e=gZ.ib(n),q="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<q.length;Y++){e[q[Y]]=E[q[Y]];delete E[q[Y]]}u[n]=e;break;case"phfl":var e=u[n]=gZ.ib(n),Z=e.Clr.v,d=_.SL(c,o);
if(d==3){var v=[_.q(c,o+2),_.q(c,o+6),_.q(c,o+10)],W=32768,D=a.awc(v[0]/W,v[1]/W,v[2]/W);Z.Lmnc.v=D.Eb;
Z.A.v=D.V;Z.B.v=D.J}if(d==2){var I=_.SL(c,o+2);if(I!=7)throw"e";Z.Lmnc.v=_.ox(c,o+4)/100;Z.A.v=_.ox(c,o+6)/100;
Z.B.v=_.ox(c,o+8)/100}var A=o+2+(d==3?12:10);e.Dnst.v=_.q(c,A);A+=4;e.PrsL.v=c[A]==1;break;case"mixr":var U={$S:_.SL(c,o+2)==1,b:[]};
for(var Y=0;Y<20;Y++)U.b.push(_.ox(c,o+4+Y*2));u[n]=j7.amw(U);break;case"clrL":case"rplc":u[n]={};ik.aZ(c,u[n],o+6);
break;case"nvrt":u[n]={};break;case"post":u[n]=gZ.ib("post");u[n].Lvls.v=_.SL(c,o);break;case"thrs":u[n]=gZ.ib("thrs");
u[n].Lvl.v=_.SL(c,o);break;case"grdm":var w=o,t=_.SL(c,w);w+=2;var L=c[w]==1,J=c[w+1]==1;w+=2;var b=_.MQ(c,w,4);
if(b=="Perc"||b=="Gcls"||b=="Lnr "||b=="\0\0\x0B\x1D")w+=4;var F=_.Wx(c,w);w+=4+F.length*2;var B=bQ.a0B(c,w,F),k=B[0];
w=B[1];var i=_.SL(c,w);w+=2;var H=_.q(c,w);w+=4;var m=_.SL(c,w)==1;w+=2;var j=_.SL(c,w)==1;w+=2;var Q=_.q(c,w);
w+=4;var G=_.SL(c,w);w+=2;var g=[],P=[];for(var Y=0;Y<4;Y++){g.push({t:"long",v:~~(_.SL(c,w+Y*2)*100/32768)});
P.push({t:"long",v:~~(_.SL(c,w+Y*2+8)*100/32768)})}w+=16;var M=_.SL(c,w);w+=2;if(i==1)k={classID:"Grdn",Nm:{t:"TEXT",v:F},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:m},VctC:{t:"bool",v:j},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:H},Smth:{t:"long",v:Q},Mnm:{t:"VlLs",v:g},Mxm:{t:"VlLs",v:P}};
var T=gZ.ib("grdm");T.Rvrs.v=L;T.Grad.v=k;u[n]=T;break;case"selc":u[n]=f4.Sy(c,o,x);break;case"vmsk":case"vsms":var C=u.vmsk=new gU.JA,gf=_.AU(c,o+4),s=(gf>>0&1)==1;
C.lS=(gf>>1&1)==0;C.isEnabled=(gf>>2&1)==0;C.$=d$.hK(c,o+8,x-8,$.m,$.e);break;case"shmd":u[n]={};var b3=_.q(c,o),A=o+4;
for(var Y=0;Y<b3;Y++){var O=_.MQ(c,A,4);A+=4;var d5=_.MQ(c,A,4);A+=4;var gh=c[A];A++;if(Math.max(c[A],c[A+1])!=0)throw"e";
A+=3;var jt=_.q(c,A);A+=4;if(d5=="cust"||d5=="cmls"||d5=="extn"||d5=="mlst"){var fl=_.q(c,A);if(fl!=16)A+=4;
if(_.q(c,A)==16){var E={};ik.aZ(c,E,A+4,!1);u[n][d5]=E;if(d5=="cmls")r.J3.a5O(u[n][d5])}}else{console.log("unknown shmd key: "+d5+", size: "+jt)}A+=jt}break;
case"shpa":var d=_.q(c,o),eq=_.q(c,o+4);if(eq!=0)console.log("some patterns present!");break;case"TySh":var c7=u[n]={},d=_.SL(c,o);
c7.i=_.nj(c,o+2);var k8=_.SL(c,o+2+48);c7.im={};try{var hs=ik.aZ(c,c7.im,o+56)}catch(ar){u[n]=null;break}var cq=ii.ato();
for(var jn in cq)if(c7.im[jn]==null)c7.im[jn]=cq[jn];c7.KB={};var an=ik.aZ(c,c7.KB,o+56+hs+6);c7.FD=_.at7(c,o+56+hs+6+an);
c7.Bz=cg.Sr(c7.im.EngineData.v);ii.auh(c7.Bz.EngineDict.StyleRun.RunArray);if(c7.Bz.ResourceDict==null)c7.Bz.ResourceDict=JSON.parse(JSON.stringify(c7.Bz.DocumentResources));
delete c7.im.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var hk=_.q(c,o),ds=_.q(c,o+4);u.lmfx={};
var hs=ik.aZ(c,u.lmfx,o+8);eW.DH(u.lmfx);break;case"FMsk":u[n]=_.SN(c,o,x);break;case"Txt2":u[n]={};
u[n].raw=_.SN(c,o,x);u[n].g2=j1.Sr(u[n].raw);break;case"Patt":u[n]=gu.sk(c,o,x);break;case"SoLd":var gT=_.MQ(c,o,4),gP=_.q(c,o+4),ky=_.q(c,o+8),ay=u[n]={},bb=ik.aZ(c,ay,o+12),ap=ay.warp,cR=ay.quiltWarp;
if(cR==null)cR=ay.quiltWarp=a.Pw.aaA(ap);delete ay.warp;var c8=cR.v.warpStyle.v.warpStyle,gr=cR.v.warpValues;
if(c8!="warpCylinder"&&gr){cR.v.warpValue={t:"doub",v:gr.v[0].v};delete cR.v.warpValues}if(ay.nonAffineTransform==null)ay.nonAffineTransform=JSON.parse(JSON.stringify(ay.Trnf));
if(ay.Impr==null)ay.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var gP=_.q(c,o);
u[n]={};var bb=ik.aZ(c,u[n],o+4);break;case"vscg":var d5=_.MQ(c,o,4),gP=_.q(c,o+4);u[d5]={};var bb=ik.aZ(c,u[d5],o+8);
eW.wY(u[d5],d5);break;case"vogk":var fF=_.q(c,o),gP=_.q(c,o+4);u[n]={};var bb=ik.aZ(c,u[n],o+8);u[n]=u[n].keyDescriptorList.v;
for(var Y=0;Y<u[n].length;Y++){var cj=u[n][Y].v;if(!a.O9.fa(cj))continue;if(cj.keyOriginBoxCorners==null){var br=a.O9.Uy(cj);
cj.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var hX=[br[0],br[1],br[2],br[1],br[2],br[3],br[0],br[3]];
if(cj.keyOriginType.v==4)hX=a.O9.aaz(a.O9.mx(cj),cj.keyOriginLineWeight.v);a.O9.ds(cj,"keyOriginBoxCorners",hX)}}break;
case"lnk2":case"lnkD__":case"lnk3__":u[n]=[];var w=o;while(w<o+x){var gG=new gU.dD;u[n].push(gG);var jx=_.vd(c,w);
w+=8;var cr=w;gG.type=_.MQ(c,w,4);w+=4;if(gG.type!="liFD"){alert("Unknown Linked Layer type: "+gG.type);
break;throw gG.type}gG.eE=_.q(c,w);w+=4;var a8=_.RF(c,w);w+=1+a8.Wr.length;gG.Il=a8.Wr;gG.fp=_.p9(c,w);
w+=4+gG.fp.length*2+2;gG.KO=_.MQ(c,w,4);w+=4;gG.qt=_.MQ(c,w,4);w+=4;var f8=_.vd(c,w);w+=8;gG.open=c[w];
w+=1;if(gG.open!=0){var dW={},hs=ik.aZ(c,dW,w+4);if(hs%4!=0)hs+=4-hs%4;console.log(dW);w+=hs+4}gG.open=0;
gG.raw=_.SN(c,w,f8);w=cr+jx;if(jx%4!=0)w+=4-jx%4}break;case"FEid":var w=o;u[n]=[];var g7=w+x,d=_.q(c,w);
w+=4;while(w<g7){w+=4;var jx=_.q(c,w);w+=4;var B={};u[n].push(B);B.id=_.RF(c,w).Wr;w+=B.id.length+1;
var d=_.q(c,w);w+=4;w+=4;var eU=_.q(c,w);w+=4;B.rect=_.QJ(c,w);w+=16;var f7=_.q(c,w);w+=4;var d7=_.q(c,w);
w+=4;var aW=new a.Ko(0);for(var Y=0;Y<d7+2;Y++){var cy=_.q(c,w);w+=4;if(cy!=0){w+=4;var dh=_.q(c,w),fh=null;
w+=4;if(Y<3||Y==25)fh=jS.RV(!0,f7,c,B.rect.m,B.rect.e,w,dh);if(Y==0)aW.Z=fh;if(Y==1)aW.r=fh;if(Y==2)aW.J=fh;
if(Y==25)aW.V=fh;w+=dh}}B.buffer=a.R(B.rect.P()*4);a.Zt(aW,B.buffer);var dP=c[w];w++;if(dP!=0){B.F=new gU.bQ;
B.F.rect=_.QJ(c,w);w+=16;w+=4;var fg=_.q(c,w);w+=4;B.F.channel=jS.RV(!0,f7,c,B.F.rect.m,B.F.rect.e,w,fg);
B.F.color=255;B.F.kj();w+=fg}if(jx%4!=0)w+=4-jx%4}break;case"Lr16":fU.aCa($,c,o);break;case"Anno":u[n]=[];
var bo=o,jK=o+4,eq=_.q(c,jK);jK+=4;for(var Y=0;Y<eq;Y++){var jx=_.q(c,jK);jK+=4;var jQ=_.MQ(c,jK,4);
jK+=4;if(jQ!="txtA")throw jQ;var aZ=c[jK++],eo=c[jK++],dC=_.SL(c,jK);jK+=2;var hG=_.QJ(c,jK);jK+=16;
var dy=_.QJ(c,jK);jK+=16;var Z=g$.Bg(c,jK);jK+=10;var fw=_.RF(c,jK);jK+=fw.length;var dM=_.RF(c,jK);
jK+=dM.length;var aX=_.RF(c,jK);jK+=aX.length;var fy=_.q(c,jK);jK+=4;var gp=_.MQ(c,jK,4);jK+=4;var aU=_.q(c,jK);
jK+=4;var e7=_.a8(c,jK+2,aU-2>>1);jK+=aU;u[n].push([hG.x,hG.y,Z,fw.Wr,e7])}break;default:break}var eV="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(eV.indexOf(n)==-1)if(x%4!=0)console.log("size not multiple of 4!!!",n);if(n!="luni"&&n!="TySh"&&n!="tySh"&&n!="lfx2"&&n!="iOpa")if(x%4!=0)x+=4-x%4;
o+=x}var R=u.CgEd;if(R){var z=u.brit;if(z){z.Brgh.v=R.Brgh?R.Brgh.v:0;z.Cntr.v=R.Cntr?R.Cntr.v:0;z.useLegacy.v=R.useLegacy?R.useLegacy.v:0}delete u.CgEd}var b8=[];
for(var Y=0;Y<b8.length;Y++)delete u[b8[Y]];return o};eW.apD=function(c,o,K,u,X){if(K.SoLd){var $={};
for(var O in K){if(O=="SoLd")$.PlLd={};$[O]=K[O]}K=$}for(var n in K)if(K[n]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+n+"\" tag was present with a null value.");delete K[n]}for(var n in K){var x=u&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(n)!=-1,N=0;
_.Ps(c,o,x?"8B64":"8BIM");o+=4;var l=o;_.Ps(c,o,n);o+=4;_._S(c,o,0);o+=x?8:4;switch(n){case"iOpa":_.WT(c,o,K[n],1);
N=4;break;case"brst":N=0;for(var Y=0;Y<3;Y++)if(K[n][Y]==0){_.FA(c,o+N,Y);N+=4}break;case"knko":_.WT(c,o,K[n],1);
N=4;break;case"infx":_.WT(c,o,K[n],1);N=4;break;case"clbl":_.WT(c,o,K[n],1);N=4;break;case"lmgm":_.WT(c,o,K[n],1);
N=4;break;case"vmgm":_.WT(c,o,K[n],1);N=4;break;case"fcmy":_.WT(c,o,K[n],1);N=4;break;case"lyid":_.FA(c,o,K[n]);
N=4;break;case"lsct":_.FA(c,o,K[n].type);N=4;if(K[n].Mh){_.Ps(c,o+4,"8BIM");_.Ps(c,o+8,K[n].Mh);N=12}break;
case"lyvr":_.FA(c,o,K[n]);N=4;break;case"lnsr":_.Ps(c,o,K[n]);N=4;break;case"lspf":_.FA(c,o,K[n]);N=4;
break;case"lclr":_.n$(c,o,K[n]);N=8;break;case"luni":_.Ni(c,o,K[n]);N=4+2*K[n].length;break;case"fxrp":_.zs(c,o,K[n].x);
_.zs(c,o+8,K[n].y);N=16;break;case"artb":case"artd":_.FA(c,o,16);N=ik.Av(c,K[n],o+4)+4;break;case"SoCo":_.FA(c,o,16);
N=ik.Av(c,K[n],o+4)+4;break;case"GdFl":_.FA(c,o,16);N=ik.Av(c,K[n],o+4)+4;break;case"PtFl":_.FA(c,o,16);
N=ik.Av(c,K[n],o+4)+4;break;case"CgEd":var f={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},z=f,R=K[n];
z.Brgh.v=R.Brgh.v;z.Cntr.v=R.Cntr.v;z.useLegacy.v=R.useLegacy.v;_.FA(c,o,16);N=ik.Av(c,f,o+4)+4;break;
case"brit":c.yl(o,8);N=8;break;case"levl":var V=new fd;N=i3.jH(V,K[n]);_.MZ(c,o,V.data);break;case"curv":N=i8.lk(c,o,K[n]);
break;case"expA":N=14;c.yl(o,14);_.$H(c.data,o,1);_.fx(c.data,o+2,K[n].Exps?K[n].Exps.v:0);_.fx(c.data,o+6,K[n].Ofst?K[n].Ofst.v:0);
_.fx(c.data,o+10,K[n].gammaCorrection?K[n].gammaCorrection.v:1);break;case"vibA":_.FA(c,o,16);N=ik.Av(c,K[n],o+4)+4;
break;case"hue2":N=ij.lk(c,o,K[n]);break;case"blnc":N=19;c.yl(o,N);var d=["ShdL","MdtL","HghL"];for(var Y=0;
Y<3;Y++){var e=K[n][d[Y]].v;for(var p=0;p<3;p++)e.push(_.mP(c.data,o+Y*6+p*2,e[p].v))}c.data[o+18]=K[n].PrsL.v?1:0;
break;case"blwh":var f={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},h="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<h.length;Y++){f[h[Y]]=K[n][h[Y]]}_.FA(c,o,16);N=ik.Av(c,f,o+4)+4;break;case"phfl":_.n$(c,o,2);
var E=K[n].Clr.v;_.n$(c,o+2,7);_.n$(c,o+4,Math.round(E.Lmnc.v*100));_.n$(c,o+6,Math.round(E.A.v*100));
_.n$(c,o+8,Math.round(E.B.v*100));_.n$(c,o+10,0);var q=o+2+10;c.yl(q,5);_.nc(c.data,q,K[n].Dnst.v);q+=4;
c.data[q]=K[n].PrsL.v?1:0;q++;N=q-o;break;case"mixr":N=44;c.yl(o,N);var Z=j7.Xd(K[n]);_.$H(c.data,o,1);
_.$H(c.data,o+2,Z.$S?1:0);for(var Y=0;Y<20;Y++)_.mP(c.data,o+4+Y*2,Z.b[Y]);break;case"clrL":case"rplc":_.n$(c,o,1);
_.FA(c,o+2,16);N=ik.Av(c,K[n],o+6)+6;break;case"nvrt":N=0;break;case"post":_.n$(c,o,K[n].Lvls.v);N=2;
break;case"thrs":_.n$(c,o,K[n].Lvl.v);N=2;break;case"grdm":var v=K[n].Rvrs?K[n].Rvrs.v:!1,W=!1,D=867527939,I=!1,A=!1,U=2048,w=[0,0,0,0],t=[32768,32768,32768,32768],L=K[n].Grad.v,J,b,F=L.Clrs==null?1:0;
if(F==0){J=L;b=JSON.parse(gH.nl.aDL).v}else{J=gZ.ib("grdm").Grad.v;b=L}c.yl(o,4);_.$H(c.data,o,1);c.data[o+2]=v?1:0;
c.data[o+3]=W?1:0;var B=o+4;_.Ni(c,B,L.Nm.v);B+=4+L.Nm.v.length*2;B=bQ.agR(c,B,J);_.n$(c,B,F);B+=2;_.FA(c,B,b.RndS.v);
B+=4;_.n$(c,B,b.ShTr.v?1:0);B+=2;_.n$(c,B,b.VctC.v?1:0);B+=2;_.FA(c,B,b.Smth.v);B+=4;_.n$(c,B,3);B+=2;
for(var Y=0;Y<4;Y++)_.n$(c,B+Y*2,w[Y]);B+=8;for(var Y=0;Y<4;Y++)_.n$(c,B+Y*2,t[Y]);B+=8;B+=2;N=B-o;break;
case"selc":N=f4.lk(c,o,K[n]);break;case"FMsk":_.MZ(c,o,K[n]);N=K[n].length;break;case"Txt2":var k=new fd,i=j1.or(K[n].g2,k),H=a.R(i,!0);
for(var Y=0;Y<i;Y++)H[Y]=k.data[Y];_.MZ(c,o,H);N=H.length;break;case"vmsk":var m=K[n],j=0;_.FA(c,o,3);
if(!m.lS)j+=1<<1;if(!m.isEnabled)j+=1<<2;_.FA(c,o+4,j);N=8;var Q=m.$.length;c.yl(o+8,Q*26);d$.da(c.data,o+8,m.$,X.m,X.e);
N+=Q*26;break;case"shmd":_.FA(c,o,Object.keys(K[n]).length);var q=o+4;for(var G in K[n]){_.Ps(c,q,"8BIM");
q+=4;_.Ps(c,q,G);q+=4;_.FA(c,q,0);q+=4;_.FA(c,q,0);q+=4;_.FA(c,q,16);q+=4;var g=ik.Av(c,K[n][G],q);if(g%4!=0)g+=4-g%4;
_.FA(c,q-8,g+4);q+=g}N=q-o;break;case"TySh":var q=o;_.L4(c,q,1);q+=2;var P=K[n],k=new fd;P.Bz.DocumentResources=JSON.parse(JSON.stringify(P.Bz.ResourceDict));
var i=cg.or(P.Bz,k),H=a.R(i,!0);for(var Y=0;Y<i;Y++)H[Y]=k.data[Y];P.im.EngineData={t:"tdta",v:H};var M=P.Bz.EngineDict.Editor.Text;
P.im.Txt.v=M.substring(0,M.length-1);_.ai_(c,q,P.i);q+=48;_.L4(c,q,50);q+=2;_.FA(c,q,16);q+=4;q+=ik.Av(c,P.im,q);
_.L4(c,q,1);q+=2;_.FA(c,q,16);q+=4;q+=ik.Av(c,P.KB,q);_.a7B(c,q,P.FD);q+=16;N=q-o;break;case"lmfx":_.FA(c,o,0);
_.FA(c,o+4,16);var f=JSON.parse(JSON.stringify(K[n])),T=!1;eW.RO(f);for(var Y=0;Y<gH.N4.length;Y++)if(f[gH.N4[Y]]!=null)T=!0;
_.Ps(c,l,T?"lmfx":"lfx2");N=ik.Av(c,f,o+8)+8;break;case"Patt":var q=gu.vz(c,o,K[n]);N=q-o;break;case"PlLd":var C=o;
c.yl(o,60);var e=K.SoLd;_.Ps(c,o,"plcL");_.FA(c,o+4,3);var gf=c.data[o+8]=e.Idnt.v.length;_.Ps(c,o+9,e.Idnt.v);
var q=o+9+gf,s=[1,1,16,2];for(var Y=0;Y<4;Y++)_.FA(c,q+Y*4,s[Y]);q+=16;s=r.W.sS(e.nonAffineTransform);
for(var Y=0;Y<8;Y++)_.zs(c,q+Y*8,s[Y]);q+=64;_.FA(c,q,0);_.FA(c,q+4,16);var b3=a.Pw.afo(e.quiltWarp).v;
q+=8+ik.Av(c,b3,q+8);N=q-o;break;case"SoLd":var e=K[n],d5=e.quiltWarp;e.warp=a.Pw.afo(d5);if(a.Pw.vl(d5.v)==16)delete e.quiltWarp;
_.Ps(c,o,"soLD");_.FA(c,o+4,4);_.FA(c,o+8,16);N=ik.Av(c,e,o+12)+12;e.quiltWarp=d5;delete e.warp;break;
case"vstk":case"pths":_.FA(c,o,16);N=ik.Av(c,K[n],o+4)+4;break;case"vscg__":_.Ps(c,o,K[n].key);_.FA(c,o+4,16);
N=ik.Av(c,K[n].b,o+8)+8;break;case"vogk":_.FA(c,o,1);_.FA(c,o+4,16);a.O9.ahp(K[n]);for(var Y=0;Y<K[n].length;
Y++){var gh=K[n][Y].v.keyOriginResolution;if(gh)gh.v=X.$M}var jt={classID:"null",keyDescriptorList:{t:"VlLs",v:K[n]}};
N=ik.Av(c,jt,o+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var B=o;for(var Y=0;Y<K[n].length;Y++){var fl=K[n][Y],eq=B;
_.Pi(c,B,0);B+=8;_.Ps(c,B,fl.type);B+=4;_.FA(c,B,fl.eE);B+=4;c.yl(B,1);c.data[B]=fl.Il.length;B++;_.Ps(c,B,fl.Il);
B+=fl.Il.length;_.Ni(c,B,fl.fp+"\0");B+=4+fl.fp.length*2+2;_.Ps(c,B,fl.KO);B+=4;_.Ps(c,B,fl.qt);B+=4;
_.Pi(c,B,fl.raw.length);B+=8;c.yl(B,1);c.data[B]=fl.open;B++;_.MZ(c,B,fl.raw);B+=fl.raw.length;_.FA(c,B,1);
B+=4;B+=11;var c7=B-eq-8;_.Pi(c,eq,c7);if(c7%4!=0){c.yl(B,4-c7%4);B+=4-c7%4}}N=B-o;break;case"FEid":var B=o;
_.FA(c,B,3);B+=4;for(var k8=0;k8<K[n].length;k8++){var hs=K[n][k8];B+=4;var cq=B;B+=4;_.j4(c,B,hs.id);
B+=hs.id.length+1;_.FA(c,B,1);B+=4;var jn=a.R(hs.rect.P()),an=hs.rect,hk=a.R(an.P());B+=4;var ds=B;B+=4;
_.NP(c,B,an);B+=16;_.FA(c,B,8);B+=4;_.FA(c,B,24);B+=4;for(var Y=0;Y<24+2;Y++){var gT=-1;if(Y==0)gT=0;
if(Y==1)gT=1;if(Y==2)gT=2;if(Y==25)gT=3;_.FA(c,B,gT!=-1?1:0);B+=4;if(gT!=-1){a.Sw(hs.buffer,jn,gT);a.qv(jn,hs.rect,hk,an);
B+=4;var gP=B;B+=4;c.yl(B,an.P()+2);B=jS.u3(!0,hk,c.data,an.m,an.e,B,3);_.FA(c,gP,B-(gP+4))}}_.FA(c,ds,B-(ds+4));
c.yl(B,1);c.data[B]=hs.F?1:0;B++;if(hs.F!=null){var ky=an,ay=a.R(ky.P());ay.fill(hs.F.color);a.qv(hs.F.channel,hs.F.rect,ay,ky);
_.NP(c,B,ky);B+=16;B+=4;var bb=B;B+=4;c.yl(B,ky.P()+2);B=jS.u3(!0,ay,c.data,ky.m,ky.e,B,3);_.FA(c,bb,B-(bb+4))}var c7=B-(cq+4);
_.FA(c,cq,c7);if(c7%4!=0)B+=4-c7%4}N=B-o;break;case"Anno":var ap=o,cR=K[n].length;_.n$(c,ap,2);_.n$(c,ap+2,1);
ap+=4;_.FA(c,ap,cR);ap+=4;for(var Y=0;Y<cR;Y++){var c8=K[n][Y],gr=c8[0],fF=c8[1],cj=ap;ap+=4;_.Ps(c,ap,"txtA");
ap+=4;c.yl(ap,2);c.data[ap]=1;c.data[ap+1]=28;ap+=2;_.n$(c,ap,1);ap+=2;_.NP(c,ap,new ez(gr,fF,17,21));
ap+=16;_.NP(c,ap,new ez(gr+8,fF+10,241,141));ap+=16;c.yl(ap,10);g$.DB(c.data,ap,c8[2]);ap+=10;ap+=_.j4(c,ap,c8[3]);
ap+=_.j4(c,ap,"");ap+=_.j4(c,ap,"D:20211012120233+01'00'");var br=c8[4].length*2;_.FA(c,ap,12+2+br);
ap+=4;_.Ps(c,ap,"txtC");ap+=4;_.FA(c,ap,2+br);ap+=4;c.yl(ap,2);c.data[ap]=254;c.data[ap+1]=255;ap+=2;
_.auc(c,ap,c8[4]);ap+=br;_.FA(c,cj,ap-cj)}N=ap-o;break;default:console.log("unknown layer tag: "+n+", size: "+N);
o-=12;continue}var hX=["Txt2","artd","extd","pths"];if(hX.indexOf(n)==-1)if(N%4!=0)N+=4-N%4;if(x)_.Pi(c,o-8,N);
else _.FA(c,o-4,N);if(n!="luni"&&n!="TySh")if(N%4!=0)N+=4-N%4;o+=N}return o};eW.DH=function(c){for(var Y=0;
Y<gH.order.length;Y++){var o=gH.order[Y],K=gH.N4[Y];if(c[K]==null)c[K]={t:"VlLs",v:[]};if(c[o]!=null){c[K].v.push(c[o]);
delete c[o]}var u=[];for(var X=0;X<c[K].v.length;X++){var $=c[K].v[X];if($.v.present==null||$.v.present.v==!0)u.push($)}c[K].v=u}};
eW.RO=function(c){for(var Y=0;Y<gH.order.length;Y++){var o=gH.order[Y],K=gH.N4[Y],u=c[K].v.length;if(u==0){delete c[K];
continue}if(u==1){c[o]=c[K].v[0];delete c[K];continue}}};eW.wY=function(c,o){if(o=="GdFl"){if(c.Angl==null)c.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(c.Algn==null)c.Algn={v:!0,t:"bool"};if(c.Scl==null)c.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(c.Ofst==null)c.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(c.Rvrs==null)c.Rvrs={v:!1,t:"bool"};if(c.Dthr==null)c.Dthr={v:!1,t:"bool"}}if(o=="PtFl"){if(c.Algn==null)c.Algn={v:!0,t:"bool"};
if(c.Angl==null)c.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(c.Scl==null)c.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(c.phase==null)c.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};eW.clone=function(c,o){var K={};
if(c=="TySh"){K.i=o.i.clone();K.im=JSON.parse(JSON.stringify(o.im));K.KB=JSON.parse(JSON.stringify(o.KB));
K.FD=o.FD.clone();K.Bz=JSON.parse(JSON.stringify(o.Bz));if(o.add)K.add={vmsk:o.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(o.add.vogk))};
return K}else if(c=="fxrp")return o.clone();else if(c=="vmsk")return o.clone();else return JSON.parse(JSON.stringify(o))};
function jw(c,o){}jw.Sr=function(c,o,K,u){u=jw.a69(c,o,K,u);return u};jw.or=function(c,o,K,u,X){u=jw.aif(c,o,K,u,X);
return u};jw.a69=function(c,o,K,u){var X=u;c.rect=_.QJ(K,u);u+=16;var $=_.SL(K,u);u+=2;c.r7=[];var O=o.Kn;
for(var Y=0;Y<$;Y++){c.r7[Y]={id:_.ox(K,u),length:(O?_.vd:_.q)(K,u+2)};u+=O?10:6}var n=_.MQ(K,u,4);u+=4;
if(n!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(n));alert("Error in Photoshop file: wrong signature.");
throw"e"}c.Mh=_.MQ(K,u,4);u+=4;c.opacity=K[u];u+=1;c.xQ=K[u]==1;u+=1;c.Ha=K[u];u+=1;if(K[u]!=0)console.log("error in filler!");
u+=1;var x=_.q(K,u);u+=4;var l=u;u=jw.a6R(c,K,u);u=jw.atj(c,K,u);var N=_.RF(K,u);c.name=N.Wr;u+=N.length;
if(N.length%4!=0)u+=4-N.length%4;u=eW.aq$(K,u,l+x,c.add,O,o);if(c.add.lsct){if(c.add.lsct.Mh)c.Mh=c.add.lsct.Mh;
c.add.lsct=c.add.lsct.type}return u};jw.aif=function(c,o,K,u,X){var $=u;_.NP(K,u,c.rect);u+=16;var O=o.add.fcmy==1,n=c.asu(O);
_.n$(K,u,n.length);u+=2;var x=o.Kn;X.push(u);for(var Y=0;Y<n.length;Y++){_.L4(K,u,n[Y]);if(x)_.Pi(K,u+2,0);
else _.FA(K,u+2,0);u+=x?10:6}_.Ps(K,u,"8BIM");u+=4;_.Ps(K,u,c.Mh);u+=4;_.WT(K,u,c.opacity,1);u+=1;_.WT(K,u,c.xQ?1:0,1);
u+=1;_.WT(K,u,c.Ha,1);u+=1;_.WT(K,u,0,1);u+=1;var l=u;_.FA(K,u,0);u+=4;var N=u;u=jw.agx(c,K,u);u=jw.ama(c,K,u);
var f=_.j4(K,u,c.name.slice(0,255));u+=f;if(f%4!=0)u+=4-f%4;if(c.add.lsct){c.add.lsct={type:c.add.lsct};
if(c.Mh=="pass"){c.add.lsct.Mh="pass";c.Mh="norm"}}if(c.Mh=="pass")c.add.lsct={type:c.add.lsct,Mh:"pass"};
if(c.add.brit)c.add.CgEd=c.add.brit;u=eW.apD(K,u,c.add,x,o);delete c.add.CgEd;if(c.add.lsct){if(c.add.lsct.Mh)c.Mh=c.add.lsct.Mh;
c.add.lsct=c.add.lsct.type}var z=u-N;_.FA(K,l,z);return u};jw.a6R=function(c,o,K){var u=_.q(o,K);K+=4;
if(u==0)return K;var X=K;c.F=new gU.bQ;c.F.rect=_.QJ(o,K);K+=16;c.F.color=o[K];K+=1;var $=jw.am3(c.F,o,K);
K+=1;if($){var O=!1,n=255,x=0,l=255,N=0;for(var Y=0;Y<c.r7.length;Y++)if(c.r7[Y].id==-3)O=!0;if(O){c.o9=jw.aeq(o,K);
K+=18}var f=K,z=o[K];K++;if(z>>0&1){n=o[K];K++}if(z>>1&1){x=_.pl(o,K);K+=8}if(z>>2&1){l=o[K];K++}if(z>>3&1){N=_.pl(o,K);
K+=8}if((K-f&1)==1)K++;c._h=[n,x,l,N]}else{if(u==20)K+=2;else{c.o9=jw.aeq(o,K);K+=18}}return X+u};jw.agx=function(c,o,K){_.FA(o,K,0);
K+=4;if(c.F==null)return K;var u=c.wD(),X=c.add.vmsk,$=K,O=!0;_.FA(o,K,0);_.NP(o,K,c.F.rect);K+=16;_.WT(o,K,c.F.color);
K+=1;jw.aCM(c.F,o,K,O);K+=1;if(O){if(c.o9){jw.atu(o,K,c.o9);K+=18}var n=K;_.WT(o,K,X?15:3);K+=1;_.WT(o,K,u?u.Hj:255);
K+=1;_.zs(o,K,u?u.ej:0);K+=8;if(X){_.WT(o,K,X?X.Hj:255);K+=1;_.zs(o,K,X?X.ej:0);K+=8}if((K-n&1)==1)K++}_.FA(o,$-4,K-$);
return K};jw.aeq=function(c,o){var K=new gU.bQ;jw.am3(K,c,o);o+=1;K.color=c[o];o+=1;K.rect=_.QJ(c,o);
o+=16;return K};jw.atu=function(c,o,K){jw.aCM(K,c,o,!1);o+=1;_.WT(c,o,K.color);o+=1;_.NP(c,o,K.rect);
o+=16};jw.am3=function(c,o,K){var u=o[K];c.lS=(u>>0&1)==0;c.isEnabled=(u>>1&1)==0;c.CT=(u>>3&1)==1;return u>>4&1};
jw.aCM=function(c,o,K,u){var X=0;if(!c.lS)X+=1<<0;if(!c.isEnabled)X+=1<<1;if(c.CT)X+=1<<3;if(u)X+=1<<4;
_.WT(o,K,X)};jw.atj=function(c,o,K){var u=_.q(o,K);K+=4;for(var Y=0;Y<u;Y++)c.aY[Y]=o[K+Y];return K+u};
jw.ama=function(c,o,K){_.FA(o,K,c.aY.length);K+=4;o.yl(K,40);for(var Y=0;Y<40;Y++){o.data[K+Y]=c.aY[Y]}return K+40};
function jS(){}jS.Sr=function(c,o,K,u){u=jS.a2m(o,o.Kn,o.bK,o.HJ,c,K,u);return u};jS.jH=function(c,o,K,u,X,$,O){u=jS.ad0(c,o,K,u,X,$,O);
return u};jS.a2m=function(c,o,K,u,X,$,O){var n=X.r7,x={},l=O;for(var Y=0;Y<n.length;Y++){var N=n[Y],f=N.id,z=N.length,R;
if(f==-2&&X.F==null)f=-1;if(f==-3)R=X.o9.rect;else if(f==-2)R=X.F.rect;else R=X.rect;var V=jS.RV(o,K,$,R.m,R.e,O,z);
O+=z;if(f==-3)X.o9.channel=V;else if(f==-2)X.F.channel=V;else x["c"+f]=V}var d=new a.Ko(0);d.V=null;
if(u==3){d.Z=x.c0;d.r=x.c1;d.J=x.c2;d.V=x["c-1"]}else if(u==1){d.Z=x.c0;d.r=x.c0;d.J=x.c0;d.V=x["c-1"]}else if(u==4){var e=c.HX.r1039,p=null,h=x.c0,E=x.c1,q=x.c2,Z=x.c3;
if(e){var p=e.aaR,v=17;if(p==null){var W=ICC.R(e.buffer);if(W.header.spaceIn=="RGB "){}else p=e.aaR=ICC.U.sampleLUT(W,v)}}if(p){var D={Z:h,r:E,J:q,V:Z},I=a.R(h.length*4);
a.Zt(D,I);a.fH(I);ICC.U.applyLUT4(p,v,I,I);a.j1(I,D)}else{for(var Y=0;Y<h.length;Y++){var A=1-h[Y]*(1/255),U=1-E[Y]*(1/255),w=1-q[Y]*(1/255),t=1-Z[Y]*(1/255),L=a.ft([A,U,w,t]);
h[Y]=Math.floor(.5+L[0]*255);E[Y]=Math.floor(.5+L[1]*255);q[Y]=Math.floor(.5+L[2]*255)}}d.Z=h;d.r=E;
d.J=q;d.V=x["c-1"]}if(d.Z==null)d.Z=a.R(0);if(d.V==null&&d.Z!=null){d.V=d.Z.slice(0);d.V.fill(255)}if(d.r==null)d.r=d.Z.slice(0);
if(d.J==null)d.J=d.Z.slice(0);X.buffer=a.R(Math.max(0,X.rect.P()*4));a.Zt(d,X.buffer);return O};jS.ad0=function(c,o,K,u,X,$,O){var n=o.asu(O),x=o.buffer,l=new a.Ko(o.rect.P());
if(O){var N=l.V.slice(0);a.Sw(x,N,3);x=x.slice(0);a.ajz(x);a.j1(x,l);l.aqN=l.V;l.V=N}else a.j1(x,l);
for(var Y=0;Y<n.length;Y++){var f=n[Y],z,R;if(f==-3)z=o.o9.rect;else if(f==-2)z=o.F.rect;else z=o.rect;
if(f==-3)R=o.o9.channel;if(f==-2)R=o.F.channel;if(f==-1)R=l.V;if(f==0)R=l.Z;if(f==1)R=l.r;if(f==2)R=l.J;
if(f==3)R=l.aqN;K.yl(u,z.P()*3+4);var V=u;u=jS.u3(c,R,K.data,z.m,z.e,u,$[1]?3:1);var d=u-V;if(c)_.axf(K.data,X+Y*10+2,d);
else _.nc(K.data,X+Y*6+2,d)}return u};jS.RV=function(c,o,K,u,X,$,O){var n=_.SL(K,$);$+=2;return jS.mq(c,o,K,u,X,$,n,O-2)};
jS.u3=function(c,o,K,u,X,$,O){_.mP(K,$,O);$+=2;$=jS.Sg(c,o,K,u,X,$,O);return $};jS.mq=function(c,o,K,u,X,$,O,n){var x,l=u*X*(o>>>3),N=l&3,z=l+(N==0?0:4-N);
if(n<=0){return a.R(z)}if(O>3){console.log("unknown compression: "+O,u,X,u*X,n);O=0}if(O==0){if($+z<=K.length)x=K.slice($,$+z);
else{x=a.R(l);for(var Y=0;Y<l;Y++)x[Y]=K[$+Y]}$+=l}else if(O==1){x=a.R(l);var R=c?4:2,V=jS.aya(K,x,u,X,$,$+R*X,R);
$+=R*X+V}else if(O==2||O==3){var d=new Uint8Array(K.buffer,$+2,n-6),e=a.R(z);UZIP.inflateRaw(d,e);if(O==3){if(o==8)for(var p=0;
p<X;p++){var h=p*u+1,E=h+u-1,q=e[h-1];for(var Z=h;Z<E;Z++){q+=e[Z];e[Z]=q&255}}else for(var p=0;p<X;
p++){var h=p*u+1,E=h+u-1,q=e[2*h-2]<<8|e[2*h-1];for(var Z=h;Z<E;Z++){var v=Z<<1;q+=e[v]<<8|e[v+1];e[v]=q>>>8;
e[v+1]=q&255}}}if(e.length==z)x=e;else{x=a.R(z);for(var Y=0;Y<e.length;Y++)x[Y]=e[Y]}}if(o==16){var W=a.R(u*X);
for(var Y=0;Y<l;Y+=2)W[Y>>>1]=x[Y];x=W}return x};jS.Sg=function(c,o,K,u,X,$,O){var n=u*X;if(O==0)for(var Y=0;
Y<n;Y++)K[$++]=o[Y];else if(O==1){var x=c?4:2,l=jS.axg(o,K,u,X,$,$+x*X,x);$+=x*X+l}else if(O==2||O==3){if(O==3){var N=new Uint8Array(o.length);
for(var f=0;f<X;f++){var z=f*u+1,R=z+u-1,V=o[z-1];N[z-1]=V;for(var d=z;d<R;d++){N[d]=o[d]+(256-V)&255;
V=o[d]}}o=N}K[$]=120;K[$+1]=156;$+=2;var e=pako.deflateRaw(o,{auI:4});_.ao0(K,$,e);$+=e.length+4}else console.log("Unknown compression: "+O);
return $};jS.aya=function(c,o,K,u,X,$,O){if(!(c instanceof Uint8Array)||!(o instanceof Uint8Array))throw"e";
var n=$,x=u|0;if(O==2)for(var Y=0;Y<x;Y++){var l=_.SL(c,X+(Y<<1));jS.J7(c,$,l,o,Y*K,K);$+=l}else for(var Y=0;
Y<x;Y++){var l=_.q(c,X+(Y<<2));jS.J7(c,$,l,o,Y*K,K);$+=l}return $-n};jS.axg=function(c,o,K,u,X,$,O){var n=$;
if(O==2)for(var Y=0;Y<u;Y++){var x=jS.axZ(c,Y*K,K,o,$);_.$H(o,X+Y*2,x);$+=x}else for(var Y=0;Y<u;Y++){var x=jS.axZ(c,Y*K,K,o,$);
_.nc(o,X+Y*4,x);$+=x}return $-n};jS.axZ=function(c,o,cv,K,u){var X,$,O,n,x,jJ,l;n=o+cv;for(O=o,$=u;cv>0;
O=X,cv-=jJ){l=cv<128?cv:128;if(O<=n-3&&c[O+1]==c[O+0]&&c[O+2]==c[O+0]){for(X=O+3;X<O+l&&c[X]==c[O+0];
)++X;jJ=X-O;K[$++]=1+256-jJ;K[$++]=c[O+0]}else{for(X=O;X<O+l;)if(X<=n-3&&c[X+1]==c[X+0]&&c[X+2]==c[X+0])break;
else++X;jJ=X-O;K[$++]=jJ-1;for(var Y=0;Y<jJ;Y++)K[$+Y]=c[O+Y];$+=jJ}}return $-u};jS.J7=function(c,o,K,u,X,$){for(var O=0;
O<K;){var cv=c[o++];if(cv>=128){var n=c[o++],x=X+(257-cv);u.fill(n,X,x);X=x;O+=2}else{for(var Y=0;Y<=cv;
Y++)u[X+Y]=c[o+Y];o+=cv+1;X+=cv+1;O+=1+1+cv}}};function fU(){}fU.RY=function(c,o,K){return;var u="",X=o;
while(X!=0){var $=X%1e3+"";while($.length<3)$="0"+$;u=(u==""?$:$+" ")+u;X=Math.floor(X/1e3)}while(u.startsWith("0")&&u!="0")u=u.slice(1);
while(u.length<11)u=" "+u;console.log("===",u,"\t".repeat(c),": "+K)};fU.aaH=function(c){var o={HX:{}},u=0,X=0,n;
o.Kn=!1;o.bK=8;var K=new Uint8Array(c);X=fU.hf(o,K,u);u=X;X=fU.amm(o,K,u);u=X;var $=_.q(K,u);u+=4+$;
var O=o.Kn?8:4;if(o.Kn)n=_.vd(K,u);else n=_.q(K,u);u+=O+n;X=fU.aAT(o,K,u);return[{yS:new ez(0,0,o.m,o.e),data:o.buffer.buffer}]};
fU.Sr=function(c,o){o.Kn=!1;o.bK=8;var K=new Uint8Array(c),u=0,X=0,O=0,G,k8=!1,hs=!0,cq=!1,jn=0,eV=0;
X=fU.hf(o,K,u);fU.RY(0,X-u,"PSD Header");u=X;X=fU.amm(o,K,u);fU.RY(0,X-u,"Color Mode Data");u=X;X=fU.aem(o,K,u);
fU.RY(0,X-u,"Image Resources");u=X;X=fU.apR(o,K,u);fU.RY(0,X-u,"Layer And Mask Info");u=X;X=fU.aAT(o,K,u);
fU.RY(0,X-u,"Merged Image");u=X;if(o.s.length==0){var $=o.uB();$.XK("Background");o.s.push($);$.buffer=o.buffer.slice(0);
$.rect=new ez(0,0,o.m,o.e)}for(var Y=0;Y<o.s.length;Y++){var X=o.s[Y],n=X.add.lsct;if(n==aj.mh)O++;else if(n==aj.cD||n==aj.Qw)O--}while(O<0){o.s.unshift(o.FL());
O++}if(o.HX.r1005){o.$M=_.PW(o.HX.r1005,0)}if(o.HX.r1026){var K=o.HX.r1026;for(var Y=0;Y<K.length;Y+=2){var X=o.s[Y>>>1];
if(X)X.r6=_.SL(K,Y)}}if(o.HX.r1072){var K=o.HX.r1072;for(var Y=0;Y<K.length;Y++){var X=o.s[Y];if(X)X.IW=K[Y]==1}}if(o.HX.r1032){o.qb=fU.a7j(o.HX.r1032,0)}delete o.HX.r1036;
o.zH(o.HX.r1039);if(o.HX.r1050){var x=_.q,l=o.HX.r1050,N=_.q(l,0);if(N==6){var f=4,z=_.QJ(l,f);f+=16;
var R=_.Wx(l,f);f+=4+R.length*2;var V=x(l,f);f+=4;var d=o.ni;for(var Y=0;Y<V;Y++){var e=r.Jy.yM(),h;
d.push(e);e=e.v;e.sliceID.v=x(l,f);f+=4;e.groupID.v=x(l,f);f+=4;var p=x(l,f);f+=4;if(p==1){h=x(l,f);
f+=4}var R=_.Wx(l,f);f+=4+R.length*2;var E=x(l,f);f+=4;var q=[x(l,f),x(l,f+4),x(l,f+8),x(l,f+12)];f+=16;
r.Jy.aP(d,d.length-1,q);var Z=e.url.v=_.Wx(l,f);f+=4+Z.length*2;var v=e.null.v=_.Wx(l,f);f+=4+v.length*2;
var W=e.Msge.v=_.Wx(l,f);f+=4+W.length*2;var D=e.altTag.v=_.Wx(l,f);f+=4+D.length*2;e.cellTextIsHTML.v=l[f]==1;
f++;var I=e.cellText.v=_.Wx(l,f);f+=4+I.length*2;var A=x(l,f);f+=4;var U=x(l,f);f+=4;var w=l.slice(f,f+4);
f+=4;if(p!=2)d.pop()}}else if(N==8){var t={};ik.aZ(l,t,8,!1);var l=o.ni=t.slices.v;for(var Y=0;Y<l.length;
Y++){if(l[Y].v.origin.v.ESliceOrigin!="userGenerated"){l.splice(Y,1);Y--}}}}if(o.HX.r1058){var L=o.HX.r1058,J=UTIF.decode(L.buffer,{parseMN:!1,debug:!1});
bf.Kj(J[0],o.VV);delete o.HX.r1058}if(o.HX.r1060){var b=_.AF(o.HX.r1060);bf.Jj(b,o.VV);delete o.HX.r1060}if(o.HX.r1065){var K=o.HX.r1065;
o.Jr={};ik.aZ(K,o.Jr,4,!1)}if(o.HX.r1069){var K=o.HX.r1069,F=[];for(var Y=2;Y<K.length;Y+=4){var h=_.q(K,Y);
for(var B=0;B<o.s.length;B++){var X=o.s[B];if(X.add.lyid==h&&X.add.lsct!=3&&F.indexOf(B)==-1)F.push(B)}}o.g=F}if(o.HX.r1073){var K=o.HX.r1073,f=0,k=_.AU(K,f);
f+=4;var i=_.AU(K,f);f+=4;for(var Y=0;Y<i;Y++){o.Lm.push({y:k>=2?_.vh(K,f+2):_.PW(K,f+2),x:k>=2?_.vh(K,f+6):_.PW(K,f+6)});
f+=14}delete o.HX.r1073}if(o.HX.r1025){var H=o.HX.r1025;delete o.HX.r1025;var m=d$.hK(H,0,H.length,o.m,o.e),j=new gU.JA;
j.$=m;o.es[0]=h_.OW("Working Path",{vmsk:j})}var Q=o.add.pths;delete o.add.pths;var g=o.HX.r3000;if(g){G={};
ik.aZ(g,G,4,!1);delete o.HX.r3000}if(Q){var P=Q.pathSymmetrySelectedPath;if(P){var M=Q.pathList.v[P.v].v,T=M.pathUnicodeName.v;
o.Ku=T.startsWith("Tile Symmetry")}}for(var C=0;C<=997;C++){var gf="r"+(2e3+C),H=o.HX[gf];if(H==null)break;
var m=d$.hK(H,0,H.length,o.m,o.e),T="Path "+C;if(Q){var s=Q.pathList.v[C].v;T=s.pathUnicodeName.v;if(T=="Tile Symmetry 1")continue}var b3=G?G.keyRootDescriptorList.v[C].v.keyDescriptorList.v:gU.$h(m),j=new gU.JA;
j.$=m;o.es.push(h_.OW(T,{vmsk:j,vogk:b3}));delete o.HX[gf]}delete o.Kn;if(o.HX.r4000){o.wS=a.wS.Sr(o.HX.r4000)}var d5=o.HX.r7000,gh=o.HX.r7001;
if(d5){var jt=_.AF(d5);o.s3=fU.ae3(jt)}if(gh){var jt=_.AF(gh);o.Tm=fU.ach(jt)}delete o.HX.r7000;delete o.HX.r7001;
var fl=new ez(0,0,o.m,o.e),eq=o.add.Txt2,c7=eq;if(c7){c7=c7.g2;if(c7._DocumentResources==null)c7=go.a8T(c7)}var an=-1;
for(var Y=0;Y<o.s.length;Y++){var X=o.s[Y],hk=X.add.lsct,ds=X.add.vmsk,gT=X.wD();if(hk==aj.mh){jn++;
X.add.lspf=0}else if(hk==aj.cD||hk==aj.Qw)jn--;if(X.name==""){X.name="Layer "+(Y+1);cq=!0}if(cq&&X.rD()&&X.Mh=="norm")X.Mh="pass";
if(X.Fe()&&X.$a(o)==null)delete X.add.SoLd;if(X.Fe()&&X.$a(o).F){var gP=X.$a(o);gP.F.isEnabled=X.add.SoLd.filterFX.v.filterMaskEnable.v}if(ds&&X.NL()){var ky=gH.e_.ib(!0);
if(X.add.vstk==null)X.add.vstk=JSON.parse(JSON.stringify(ky));else{var ay="strokeStyleLineDashSet";if(X.add.vstk[ay]==null)X.add.vstk[ay]=JSON.parse(JSON.stringify(ky[ay]))}X.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
X.add.vstk.strokeStyleResolution.v=o.$M}if(ds&&(X.add.vogk==null||a.o.mn(ds.$)!=X.add.vogk.length))X.$h();
if(!1){var bb=X.add.vogk,ap=!0;for(var cR=0;cR<bb.length;cR++){var c8=bb[cR].v.keyShapeInvalidated;if(c8==null||c8.v==!1)ap=!1}if(ap)X.$h()}if(X.add.SoLd&&X.rect.SR()){console.log("redrawing smart instance");
X.oP(o,null,null,!0)}if(gT==null&&X.F!=null){if(X.F.CT==!1){X.F.CT=!0;X.o9=X.F.clone()}}gT=X.wD();if(X._h){var ky=X._h,j=ds;
if(gT){gT.Hj=ky[0];gT.ej=ky[1]}if(j){j.Hj=ky[2];j.ej=ky[3]}X._h=null}if(gT!=null&&ds!=null&&(gT.ej+ds.ej!=0||gT.Hj+ds.Hj!=2*255))X.Dm(o);
else if(ds!=null&&!X.NL())X.Dm();else if(gT&&gT.Hj!=255&&X.NL())X.Dm(o);var gr=X.add.artb;if(gr&&gr.artboardBackgroundType==null)gr.artboardBackgroundType={t:"long",v:1};
if(gr&&jn!=0)delete X.add.artb;var fF=X.add.vstk;if(X.NL()&&(X.rect.SR()||ds&&ds.ej!=0||fF&&!fF.fillEnabled.v&&(!fF.strokeEnabled.v||fF.strokeStyleLineWidth.v.val==0)))X.CC(o);
if(X.add.TySh){k8=!0;if(!X.rect.SR())hs=!1}if(X.add.TySh&&c7){an++;var cj=X.add.TySh.Bz,br=ii.Wy(cj),hX=c7._DocumentObjects._TextObjects;
if(hX.length<=an){console.log("Txt2 incomplete");continue}var gG=hX[an]._Model,jx=gG._StyleRun?gG._StyleRun._RunArray:[],cr=cj.EngineDict.StyleRun.RunArray;
for(var a8=0;a8<cr.length;a8++){var f8=cr[a8].StyleSheet.StyleSheetData;if(jx[a8]==null)continue;var dW=jx[a8]._RunData._StyleSheet._Features;
if(dW&&dW._BaselineDirection)f8.BaselineDirection=parseInt(dW._BaselineDirection.slice(1));if(dW&&dW._FillBackgroundFlag)f8._FillBackgroundFlag=dW._FillBackgroundFlag;
if(dW&&dW._FillBackgroundColor){var g7=dW._FillBackgroundColor,eU=g7._Color._Values.slice(0);for(var B=0;
B<4;B++)eU[B]=parseFloat(eU[B].slice(1));f8._FillBackgroundColor={Type:1,Values:eU}}if(dW&&dW._LineWidth)f8._LineWidth=parseFloat(dW._LineWidth.slice(1))}var f7=cj.EngineDict.ParagraphRun.RunArray,d7=gG._ParagraphRun._RunArray;
if(d7==null)d7=[];var aW=Math.min(d7.length,f7.length);for(var B=0;B<aW;B++){var cy=f7[B].ParagraphSheet.Properties,dh=c7._DocumentResources._ParagraphSheetSet._Resources,fh=d7[B]._RunData._ParagraphSheet;
if(typeof fh=="string")fh=dh[parseInt(fh.slice(1))]._Resource;var dP=fh._Parent==null?fh:dh[parseInt(fh._Parent.slice(1))]._Resource;
fh=fh._Features;dP=dP._Features;var fg=fh._ParagraphDirection;if(fg==null)fg=dP._ParagraphDirection;
if(fg)cy._Direction=parseInt(fg.slice(1));if(fh._ComposerEngine)cy._ComposerEngine=parseInt(fh._ComposerEngine.slice(1))}if(gG._AlternateGlyphRun){var d7=gG._AlternateGlyphRun._RunArray,aW=d7.length,bo=cj.EngineDict.AlternateGlyphRun=ii.abL();
for(var B=0;B<aW;B++){var fh=d7[B],jK={},jQ=fh._RunData._AlternateGlyphSheet;if(jQ)jK.Glyph=parseInt(jQ._Glyph.slice(1));
bo.RunArray.push(jK);bo.RunLengthArray.push(parseInt(fh._Length.slice(1)))}}var aZ=c7._DocumentResources,eo=aZ._TextFrameSet._Resources,dC=eo[an]._Resource,hG=dC._Data,dy=new bE(1,0,0,1,0,0);
if(dC._0){var fw=parseFloat(dC._0[0].slice(1)),dM=parseFloat(dC._0[1].slice(1));dy.translate(fw,dM)}if(br){dy.translate(br[0],br[1]);
ii.lf(cj,[0,0,br[2]-br[0],br[3]-br[1]])}else{if(dC._Bezier&&dC._Bezier._Points){var m=dC._Bezier._Points,fw=parseFloat(m[0].slice(1)),dM=parseFloat(m[1].slice(1));
if(fw!=0||dM!=0){dy.translate(fw,dM)}}}if(dC._Data&&dC._Data._FrameMatrix){var aX=dC._Data._FrameMatrix;
aX=aX.map(function(jZ){return parseFloat(jZ.slice(1))});dy.concat(new bE(aX[0],aX[1],aX[2],aX[3],aX[4],aX[5]))}dy.concat(X.add.TySh.i);
X.add.TySh.i=dy;var E=hG._Type?parseInt(hG._Type.slice(1)):0;if(E==2||E==1&&hG._PathData&&hG._PathData._Spacing=="i-3")if(dC._Bezier){var fy=function(jZ){return parseFloat(jZ.slice(1))},m=dC._Bezier._Points.map(fy);
if(br)a.A.i(m,new bE(1,0,0,1,-br[0],-br[1]),m);var gp=hG._PathData?hG._PathData._Reversed:!1,aU=hG._TextOnPathTRange;
if(aU==null)aU=["f-3","f-3"];cj.Curve={Points:m,TextOnPathTRange:aU.map(fy),Reversed:gp==null?!1:gp};
X.add.TySh.add={vmsk:new gU.JA,vogk:null};ii.Bm(X.add.TySh)}if(hG._LineOrientation=="i2")cj._LineOrientation=2}}r.J3.j9(o,!0);
var e7={},b8=[];for(var Y=0;Y<o.s.length;Y++){var h$=o.s[Y].add.lyid;if(h$==null)continue;var eV=Math.max(eV,h$);
if(e7[h$]!=null)b8.push(Y);else e7[h$]=!0}for(var Y=0;Y<b8.length;Y++)o.s[b8[Y]].add.lyid=eV+1+Y};fU.a7j=function(c,o){o+=12;
var K=_.q(c,o),u=[];o+=4;K=Math.min(K,Math.floor((c.length-o)/5));for(var Y=0;Y<K;Y++){var X=Math.min(c[o+Y*5+4],1),$=_.AU(c,o+Y*5)/32;
u.push([X,$])}return u};fU.ae3=function(c){var o=new DOMParser,K=o.parseFromString(c,"text/xml").firstChild.children[0],u=K.getElementsByTagName("variables");
if(u.length==0)return[];u=u[0].children;var X=[],$="varName trait docRef placementMethod align valign clip".split(" ");
for(var O=0;O<u.length;O++){var n=u[O],x={};X.push(x);for(var l=0;l<$.length;l++){var N=$[l],f=n.getAttribute(N);
if(f==null)continue;x[N]=f}}return X};fU.ach=function(c){var o=new DOMParser,K=o.parseFromString(c,"text/xml").firstChild.children,u=[[]];
if(K==null)return u;for(var Y=0;Y<K.length;Y++){var X=K[Y],$=[];u.push($);for(var O=0;O<X.children.length;
O++){var n=X.children[O];if(Y==0)u[0].push(n.tagName);$.push(n.textContent)}}return u};fU.or=function(c,o,K){r.J3.xV(c);
r.J3.j9(c,!1);c.Kn=K[3]==!0;var u=[],X=[],e=0,h=1,V=16,c7=0;for(var Y=0;Y<c.s.length;Y++){var $=c.s[Y];
if($.Fe()&&$.$a(c).F){$.add.SoLd.filterFX.v.filterMaskEnable.v=$.$a(c).F.isEnabled}if($.add.TySh){var O=$.add.TySh.Bz,n=ii.DG(O);
$.add.TySh.im.TextIndex={t:"long",v:u.length};u.push(O);if(n==2)ii.$R($.add.TySh)}var x=$.add.vstk;if(x)x.strokeStyleResolution.v=c.$M;
if($.NL()||K[2]&&$.add.SoLd){X[Y]=[$.rect,$.buffer];$.rect=new ez;$.buffer=a.R(0);if($.add.SoLd){var l=$.$a(c);
if(l!=null){X[Y].push(l.buffer);l.buffer=a.R(l.buffer.length)}}}}if(u.length>0){var N=c.add.Txt2?c.add.Txt2.g2:null;
if(c.add.Txt2==null)c.add.Txt2={};c.add.Txt2.g2=du.aw8(u,null,N)}var f=[c.add.lnk2,c.add.FEid,c.add.Patt],z=c.a6T(c.s);
c.apg(z);c.HX.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);_.aki(c.HX.r1005,0,c.$M);_.aki(c.HX.r1005,8,c.$M);
if(c.Lm.length>0){var R=c.Lm;c.HX.r1073=new Uint8Array(8+R.length*14);_.zl(c.HX.r1073,0,3);_.zl(c.HX.r1073,4,R.length);
for(var Y=0;Y<R.length;Y++){var V=8+14*Y;_.mP(c.HX.r1073,V,14);_.fx(c.HX.r1073,V+2,R[Y].y);_.fx(c.HX.r1073,V+6,R[Y].x);
_.mP(c.HX.r1073,V+10,-1);_.mP(c.HX.r1073,V+12,8)}}if(c._U()){c.HX.r1022=new Uint8Array([0,3+c.lr.length-1,0])}else delete c.HX.r1022;
var d=new Uint8Array(c.s.length*2),p=new Uint8Array(c.s.length);for(var Y=0;Y<c.s.length;Y++){var $=c.s[Y],E=$.r6,q=$.IW?1:0;
_.$H(d,Y*2,E);p[Y]=q;if(E>e)e=E;if(q==0)h=0}if(e>0)c.HX.r1026=d;if(h<1)c.HX.r1072=p;var Z=c.qb,v=Z.length,W=c.HX.r1032=a.R(16+5*v,!0);
_.nc(W,0,1);_.nc(W,4,576);_.nc(W,8,576);_.nc(W,12,v);for(var Y=0;Y<v;Y++){_.zl(W,V,Math.round(Z[Y][1]*32));
W[V+4]=Z[Y][0];V+=5}if(K[4]!=!0){var D=[c.buffer,new ez(0,0,c.m,c.e)],I=0;a.hR(D);while(D[I+1].P()>200*200)I+=2;
var A=c5.nq("jpg"),U=D[I+1],w=new Uint8Array(A.nC([[D[I].buffer]],U.m,U.e)),W=c.HX.r1036=new Uint8Array(28+w.length);
_.nc(W,0,1);_.nc(W,4,U.m);_.nc(W,8,U.e);_.nc(W,12,U.m*3);_.nc(W,16,U.P()*3);_.nc(W,20,w.length);_.$H(W,24,24);
_.$H(W,26,1);W.set(w,28)}var t=a.Ci(c.buffer);if(c.add.fcmy)t=!1;var L=[];if(t)L.push({name:"Transparency",A8:{Z:255,r:0,J:0},E1:100,RL:1});
L=L.concat(c.lr);delete c.HX.r1045;delete c.HX.r1006;delete c.HX.r1077;var J=new fd;V=0;var b=new Uint8Array(4+L.length*13);
b[3]=1;for(var Y=0;Y<L.length;Y++){var F=L[Y],B=F.name+"\0";_.Ni(J,V,B);V+=4+B.length*2;var k=4+Y*13;
g$.DB(b,k,F.A8);b[k+11]=F.E1;b[k+12]=F.RL}if(V!=0)c.HX.r1045=J.data.slice(0,V);c.HX.r1077=b;for(var Y=0;
Y<c.ni.length;Y++)c.ni[c.ni.length-Y-1].v.sliceID.v=2+Y*3;var i={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:c.ni}},J=new fd;
_.FA(J,0,8);_.FA(J,4,16);var H=ik.Av(J,i,8);c.HX.r1050=J.data.slice(0,H+8);var J=new fd;_.FA(J,0,16);
var H=ik.Av(J,c.Jr,4);c.HX.r1065=J.data.slice(0,H+4);var m=c.g;W=c.HX.r1069=a.R(2+m.length*4,!0);_.$H(W,0,m.length);
for(var Y=0;Y<m.length;Y++)_.nc(W,2+4*Y,c.s[m[Y]].add.lyid);delete c.HX.r1058;delete c.HX.r1060;if(Object.keys(c.VV).length!=0){var j=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
bf.KA(c.VV,j[0],K[0]&&K[1]);c.HX.r1058=new Uint8Array(UTIF.encode(j));var Q=bf.uF(c.VV);c.HX.r1060=_.qK(Q)}var G=[],g=[],P=c.es.slice(0);
if(c.Ku){var M=d$.a6f([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),T=new gU.JA;
T.$=M;P.push(h_.OW("Tile Symmetry 1",{vmsk:T,vogk:gU.$h(M)}))}for(var Y=0;Y<P.length;Y++){var C=P[Y],M=C.add.vmsk.$;
if(Y==0&&M.length==2)continue;var gf=a.R(M.length*26);d$.da(gf,0,M,c.m,c.e);var s=Y==0?1025:2e3+Y-1;
c.HX["r"+s]=gf;if(Y!=0){var b3={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:C.name}};if(C.name=="Tile Symmetry 1")b3.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
G.push({t:"Objc",v:b3});g.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:C.add.vogk}}})}}if(G.length!=0){c.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:G}};
if(c.Ku)c.add.pths.pathSymmetrySelectedPath={t:"long",v:G.length-1};g={classID:"null",keyRootDescriptorList:{t:"VlLs",v:g}};
var J=new fd;_.FA(J,0,16);var H=ik.Av(J,g,4);c.HX.r3000=J.data.slice(0,H+4)}else{delete c.add.pths;delete c.HX.r3000}if(c.wS&&c.wS.length!=0){c.HX.r4000=a.wS.or(c.wS)}if(c.s3.length!=0){var d5="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var Y=0;Y<c.s3.length;Y++){var gh=c.s3[Y],jt=[];for(var s in gh)jt.push(s+"=\""+gh[s]+"\"");d5+="<variable "+jt.join(" ")+">\n</variable>\n"}d5+="</variables>\n</variableSet>\n</variableSets>";
c.HX.r7000=_.qK(d5)}if(c.Tm.length!=0){var d5="<sampleDataSets psdPath=\""+c.name+"\">\n";for(var Y=1;
Y<c.Tm.length;Y++){var fl=c.Tm[Y];d5+="<sampleDataSet dataSetName=\"Data Set "+Y+"\">\n";for(var eq=0;
eq<fl.length;eq++)d5+="<"+c.Tm[0][eq]+">"+fl[eq].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+c.Tm[0][eq]+">\n";
d5+="</sampleDataSet>\n"}d5+="</sampleDataSets>";c.HX.r7001=_.qK(d5)}c7=fU.as6(c,o,c7,3+L.length);c7=fU.aeM(c,o,c7);
c7=fU.ada(c,o,c7);c7=fU.a5d(c,o,c7,K,t);c7=fU.a3T(c,o,c7,K[0],t);var k8=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var Y=0;Y<k8.length;Y++)delete c.HX["r"+k8[Y]];for(var Y=0;Y<c.s.length;Y++){var $=c.s[Y];if($.NL()||K[2]&&$.add.SoLd){$.rect=X[Y][0];
$.buffer=X[Y][1];if(X[Y][2]){var l=$.$a(c);X[Y].push(l.buffer);l.buffer=X[Y][2]}}}c.apg(f);r.J3.j9(c,!0);
delete c.Kn;return c7};fU.hf=function(c,o,K){var u=_.MQ(o,K,4);K+=4;if(u!="8BPS")alert("invalid header signature: "+u);
var X=_.SL(o,K);K+=2;c.Kn=X==2;if(X!=1&&X!=2)alert("invalid version: "+X);K+=6;c.ZD=_.SL(o,K);K+=2;c.e=_.AU(o,K);
K+=4;c.m=_.AU(o,K);K+=4;c.bK=_.SL(o,K);K+=2;c.HJ=_.SL(o,K);K+=2;return K};fU.as6=function(c,o,K,u){var X=c.add.fcmy==1;
o.yl(0,64);_.b_(o.data,K,"8BPS");K+=4;_.$H(o.data,K,c.Kn?2:1);K+=2;_.nc(o.data,K,0);K+=4;_.$H(o.data,K,0);
K+=2;_.$H(o.data,K,u+(X?1:0));K+=2;_.zl(o.data,K,c.e);K+=4;_.zl(o.data,K,c.m);K+=4;_.$H(o.data,K,8);
K+=2;_.$H(o.data,K,X?4:3);K+=2;return K};fU.amm=function(c,o,K){var u=_.AU(o,K);K+=4;if(u!=0)c.nQ=o.slice(K,K+u);
K+=u;return K};fU.aeM=function(c,o,K){_._S(o,K,0);K+=4;return K};fU.aem=function(c,o,K){var u=_.q(o,K),X=0;
K+=4;var $=[];while(X<u){var O=_.MQ(o,K+X,4);X+=4;var n=_.SL(o,K+X);X+=2;var x=_.RF(o,K+X);X+=x.length;
if(O=="MeSa"&&(n==7e3||n==7001)){}else if(O!="8BIM"){$.push(n);console.log("Unknown Image Resources signature: "+O+", ID: "+n)}var l=_.q(o,K+X);
X+=4;if(c.HX["r"+n]!=null)console.log("--- two resources with same ID");c.HX["r"+n]=_.SN(o,K+X,l);X+=l+(l&1)}for(var Y=0;
Y<$.length;Y++)delete c.HX["r"+$[Y]];return K+u};fU.ada=function(c,o,K){var u=K,O=0;K+=4;var X=[];for(var $ in c.HX){X.push(parseInt($.slice(1)))}X.sort(function(f,z){return f-z});
for(var Y=0;Y<X.length;Y++){var n=X[Y];_.Ps(o,K+O,n==7e3||n==7001?"MeSa":"8BIM");O+=4;_.n$(o,K+O,n);
O+=2;var x=_.j4(o,K+O,"");O+=x;var l=c.HX["r"+n],N=l.length;_.FA(o,K+O,N);O+=4;_.MZ(o,K+O,l);O+=N;if(N%2==1)O++}_.FA(o,u,O);
return K+O};fU.apR=function(c,o,K){var u=K,X,$,O=c.Kn?8:4;if(c.Kn)X=_.vd(o,K);else X=_.q(o,K);K+=O;if(X==0)return u+O;
$=fU.as4(c,o,K);fU.RY(1,$-K,"Layer Info");K=$;$=fU.ap7(c,o,K);fU.RY(1,$-K,"Global Layer Mask Info");
K=$;$=eW.aq$(o,K,u+O+X,c.add,c.Kn,c);fU.RY(1,$-K,"Project Add Info");K=$;return u+O+X};fU.a5d=function(c,o,K,u,X){var $=K;
_.FA(o,K,0);K+=4;if(c.Kn){_.FA(o,K,0);K+=4}K=fU.aBh(c,o,K,u,X);K=fU.a5Z(c,o,K);K=eW.apD(o,K,c.add,c.Kn,c);
if(c.Kn)_.Pi(o,$,K-$-8);else _.FA(o,$,K-$-4);return K};fU.as4=function(c,o,K){var u,X=c.Kn?8:4;if(c.Kn)u=_.vd(o,K);
else u=_.q(o,K);K+=X;if(u!=0)fU.aCa(c,o,K);return K+u};fU.aCa=function(c,o,K){var u=_.ox(o,K);K+=2;var X=Math.abs(u);
for(var Y=0;Y<X;Y++){var $=new gU;K=jw.Sr($,c,o,K);c.s[Y]=$}var O=new ez(0,0,c.m,c.e);for(var Y=0;Y<X;
Y++){var n=c.s[Y],x=n.wD(),l=jS.Sr(n,c,o,K);if(l-K>8)fU.RY(2,l-K,"Lay: "+n.getName());K=l;fU.aDD(n,O);
if(x)fU.aDD(x,O)}};fU.aDD=function(c,o){};fU.aBh=function(c,o,K,u,X){var $=K,O=c.Kn;K+=O?8:4;K=fU.ajU(c,o,K,u,X);
var n=K-$-(O?8:4);if(n%2!=0)n++;if(O)_.Pi(o,$,n);else _.FA(o,$,n);return $+n+(O?8:4)};fU.ajU=function(c,o,K,u,X){var $=c.s.length;
_.L4(o,K,X?-$:$);K+=2;var O=[];for(var Y=0;Y<$;Y++)K=jw.or(c.s[Y],c,o,K,O);for(var Y=0;Y<$;Y++)K=jS.jH(c.Kn,c.s[Y],o,K,O[Y],u,c.add.fcmy==1);
return K};fU.ap7=function(c,o,K){var u=_.q(o,K);K+=4;K+=u;return K};fU.a5Z=function(c,o,K){var u=_.FA(o,K,0);
K+=4;return K};fU.aAT=function(c,o,K){var u=c.HJ,X="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),$=[1,1,1,3,4,1,1,3],O,d;
if(u!=3){if(u==1||u==2||u==4)console.log("Project will be converted from "+X[u]+" to "+X[3]+" mode.");
else{alert("Color mode "+X[u]+" is not supported yet :(")}if(u==4)c.add.fcmy=1}if(c.HX.r1045){O=[];var n=c.HX.r1045,x=0;
while(x<n.length){var l=_.p9(n,x);O.push(l);x+=4+2+l.length*2}}var N=$[u]+(O==null||O[0]=="Transparency"?1:0),f=c.m,z=c.e,R=f*z,V=_.SL(o,K);
K+=2;c.buffer=a.R(R*4);a.ms(c.buffer,4278190080);var e=K;for(var p=0;p<c.ZD;p++){if(V==0){d=jS.mq(c.Kn,c.bK,o,f,z,K,V);
K+=R*(c.bK>>>3)}else if(V==1){d=a.R(R);var h=c.Kn?4:2;if(p==0)K+=c.ZD*z*h;K+=jS.aya(o,d,f,z,e+p*z*h,K,h)}else{console.log("unknown compression of image data: ",V);
return}if(p<N){a.bp(d,c.buffer,p);if(c.ZD==1&&p==0){a.bp(d,c.buffer,1);a.bp(d,c.buffer,2)}}else{var E=new gU.bQ,q=p-N,Z=p-$[c.HJ];
E.name=O?O[Z]:"Alpha";if(E.name=="Quick Mask"){E.nd=!0;c.LL.push(q)}E.rect=new ez(0,0,f,z);E.channel=d;
E.color=0;E.kj();c.lr[q]=E;if(c.HX.r1077){var n=c.HX.r1077.slice(4+Z*13);E.A8=g$.Bg(n,0);E.E1=n[11];
E.RL=n[12];if(E.RL==2)E.nd=!0}}}c.ZD=4;if(c.HJ==2)for(var Y=0;Y<R;Y++){var v=Y*4,W=c.buffer[v];c.buffer[v]=c.nQ[0+W];
c.buffer[v+1]=c.nQ[256+W];c.buffer[v+2]=c.nQ[512+W]}return K};fU.a3T=function(c,o,K,u,X){var $=1,O=16,n=c.m,x=c.e,N,f;
_.n$(o,K,$);K+=2;var l=n*x;if(!u){f=new a.Ko(n*x);a.j1(c.buffer,f);var z=f.Z,R=f.r,V=f.J,d=f.V;for(var Y=0;
Y<l;Y++){var e=d[Y]*(1/255);z[Y]=~~(z[Y]*e+255*(1-e));R[Y]=~~(R[Y]*e+255*(1-e));V[Y]=~~(V[Y]*e+255*(1-e))}}else N=a.R(l);
var p=[N,N,N];if(!u)p=[f.Z,f.r,f.J];if(c.add.fcmy==1){var h=N;if(!u){h=a.R(l);h.fill(255)}p.push(h)}if(X)p.push(u?N:f.V);
for(var Y=0;Y<c.lr.length;Y++){p.push(c.lr[Y].U2(new ez(0,0,c.m,c.e)))}var E=K;for(var q=0;q<p.length;
q++){o.yl(K,n*x+4);N=p[q];if($==0||$==2||$==3)K=jS.Sg(c.Kn,N,o.data,n,x,K,$);else{var Z=c.Kn?4:2;if(q==0)K+=p.length*x*Z;
var v=K;K+=jS.axg(N,o.data,n,x,E+q*x*Z,K,Z)}}return K};function cg(){}cg.Sr=function(c){var o={};cg.s9(c,o,0,0);
return o};cg.or=function(c,o){var K=0;K=cg.t5(c,o,K,0);return K};cg.s9=function(c,o,K,u){while(c[K]!="<".charCodeAt(0))K++;
K+=2;while(!0){if(c[K]=="/".charCodeAt(0)){K++;var X=_.indexOf(c," ".charCodeAt(0),K,K+50),$=_.indexOf(c,"\n".charCodeAt(0),K,K+50);
if($==-1)$=Infinity;if(X==-1)X=Infinity;var O=Math.min($,X),n=_.MQ(c,K,O-K),x=cg.Ua(c,O+1,u+1,n);o[n]=x.b;
K=O+1;K+=x.size}else if(c[K]==">".charCodeAt(0)){K+=2;break}else{var l=c[K];if(l==10||l==9||l==32)K++;
else{console.log("unknown byte: "+l+", char: "+String.fromCharCode(l),K);K++}}}return K};cg.t5=function(c,o,K,u){_.Ps(o,K,"<<\n");
K+=3;var X=cg.apF;for(var $ in c){_.WT(o,K,"\t".charCodeAt(0),u+1);K+=u+1;_.Ps(o,K,"/"+$);K+=1+$.length;
if(X(c[$])||c[$]instanceof Array){_.Ps(o,K," ");K++}else{_.Ps(o,K,"\n");K++;_.WT(o,K,"\t".charCodeAt(0),u+1);
K+=u+1}K=cg.NH(c[$],o,K,u+1);_.Ps(o,K,"\n");K++}_.WT(o,K,"\t".charCodeAt(0),u);K+=u;_.Ps(o,K,">>");K+=2;
return K};cg.Ua=function(c,o,K,u){var X=o,$={size:0,b:0};while(!0){while(c[o]==" ".charCodeAt(0)||c[o]=="\t".charCodeAt(0)||c[o]=="\n".charCodeAt(0))o++;
if(c[o]=="<".charCodeAt(0)){$.b={};o=cg.s9(c,$.b,o,K+1);break}else if(c[o]=="(".charCodeAt(0)){o+=3;
var O=o;while(!0){if(c[O-1]!="\\".charCodeAt(0)&&c[O]==")".charCodeAt(0)&&(c[O+1]=="\n".charCodeAt(0)||c[O+1]==" ".charCodeAt(0)))break;
else O++}$.b=_.ast(c,o,O);o=O+2;break}else if(c[o]=="[".charCodeAt(0)){o++;$.b=[];while(c[o]==" ".charCodeAt(0)||c[o]=="\t".charCodeAt(0)||c[o]=="\n".charCodeAt(0))o++;
while(c[o]!="]".charCodeAt(0)){var n=cg.Ua(c,o,K+1,u);$.b.push(n.b);o+=n.size;while(c[o]==" ".charCodeAt(0)||c[o]=="\t".charCodeAt(0)||c[o]=="\n".charCodeAt(0))o++}o++;
break}else{var x=_.indexOf(c," ".charCodeAt(0),o,o+50),l=_.indexOf(c,"\n".charCodeAt(0),o,o+50);if(l==-1)l=Infinity;
if(x==-1)x=Infinity;var N=_.MQ(c,o,Math.min(x,l)-o).trim(),f=parseFloat(N);if(!isNaN(f)){$.b=parseFloat(N);
o=Math.min(x,l)+1;break}else if(N=="true"||N=="false"){$.b=N=="true";o=Math.min(x,l)+1;break}else if(N=="null"||N=="NaN"||N=="undefined"){$.b=0;
o=Math.min(x,l)+1;break}else{console.log("unknown identifier: "+N);throw"e"}o=Math.min(x,l)+1}}$.size=o-X;
return $};cg.NH=function(c,o,K,u){if(c instanceof Array){var X=c.length==0||typeof c[0]=="number";if(X){_.Ps(o,K,"[ ");
K+=2;for(var Y=0;Y<c.length;Y++){var $=c[Y]+" ";_.Ps(o,K,$);K+=$.length}_.Ps(o,K,"]");K+=1}else{_.Ps(o,K,"[\n");
K+=2;for(var Y=0;Y<c.length;Y++){_.WT(o,K,"\t".charCodeAt(0),u);K+=u;K=cg.NH(c[Y],o,K,u);_.Ps(o,K,"\n");
K++}_.WT(o,K,"\t".charCodeAt(0),u);K+=u;_.Ps(o,K,"]");K+=1}}else if(c instanceof Object){K=cg.t5(c,o,K,u)}else if(typeof c=="string"){_.Ps(o,K,"(");
K++;_.WT(o,K,254);K++;_.WT(o,K,255);K++;K=_.aAY(o,K,c);_.Ps(o,K,")");K+=1}else{var $=c+"";_.Ps(o,K,$);
K+=$.length}return K};cg.apF=function(c){var o=typeof c;return o=="string"||o=="number"||o=="boolean"};
function j1(){}j1.Sr=function(c){var o={};j1.atd(c,o,0,0);return o};j1.or=function(c,o){var K=0;_.Ps(o,K," ");
K++;K=j1.asU(c,o,K,0);K--;o.yl(K,2);o.data[K]=o.data[K+1]=0;K+=2;return K};j1.s9=function(c,o,K,u){while(c[K]!="<".charCodeAt(0)){K++;
console.log("šipka")}K+=2;K=j1.atd(c,o,K,u);return K};j1.t5=function(c,o,K,u){_.Ps(o,K,"<< ");K+=3;K=j1.asU(c,o,K,u);
_.Ps(o,K,">>");K+=2;return K};j1.Sv=function(c){return c==9||c==10||c==32};j1.atd=function(c,o,K,u){while(!0){while(j1.Sv(c[K])||c[K]==0)K++;
if(K>=c.length)break;if(c[K]=="/".charCodeAt(0)){K++;var X=K;while(!j1.Sv(c[X]))X++;var $=_.MQ(c,K,X-K);
K=X+1;var O=j1.Ua(c,K,u,$);o["_"+$]=O.b;K+=O.size}else if(c[K]==">".charCodeAt(0)){K+=2;break}else{var n=c[K];
console.log(_.MQ(c,K,K+100));console.log("unknown byte: "+n+", char: "+String.fromCharCode(n)+", offset: "+K);
K++;throw"e";return-1}}return K};j1.asU=function(c,o,K,u){for(var X in c){var $=X.substring(1,X.length);
_.Ps(o,K,"/"+$);K+=1+$.length;_.Ps(o,K," ");K++;K=j1.NH(c[X],o,K,u+1,$);_.Ps(o,K," ");K++}return K};
j1.Ua=function(c,o,K,u){var X=o,$={type:"",size:0,b:0};while(j1.Sv(c[o]))o++;if(c[o]=="<".charCodeAt(0)){$.type="Object";
$.b={};o=j1.s9(c,$.b,o,K+1)}else if(c[o]=="(".charCodeAt(0)){$.type="String";o++;if(c[o]==")".charCodeAt(0)){$.b="e";
o++}else if(c[o]==254&&c[o+1]==255){o+=2;var O=o,n=0;while(!0){if(c[O]==")".charCodeAt(0)&&c[O-1]!="\\".charCodeAt(0))break;
else O+=1}$.b="s"+_.ast(c,o,O);o=O+2}else{var O=o;while(c[O]!=")".charCodeAt(0))O++;$.b="s"+_.MQ(c,o,O-o);
o=O+1}}else if(c[o]=="[".charCodeAt(0)){o++;$.b=[];$.type="Array";while(j1.Sv(c[o]))o++;while(c[o]!="]".charCodeAt(0)){var x=j1.Ua(c,o,K+1,u);
if(x==-1)return-1;$.b.push(x.b);o+=x.size;delete x.size;while(j1.Sv(c[o]))o++}o++}else{var l=o;while(!j1.Sv(c[l]))l++;
var N=_.MQ(c,o,l-o),f=parseFloat(N);if(!isNaN(f)&&N.indexOf(".")!=-1){$.type="Float";var z=parseFloat(N);
$.b="f"+z}else if(!isNaN(f)&&N.indexOf(".")==-1){$.type="Integer";$.b="i"+parseInt(N)}else if(N=="true"||N=="false"){$.type="Boolean";
$.b=N=="true"}else if(N.charAt(0)=="/"){$.type="BString";$.b=N}else if(N=="NaN"||N=="undefined"){$.type="Float";
$.b="f0"}else{console.log("unknown value",JSON.stringify(N));throw"e"}o=l+1}$.size=o-X;return $};j1.ajr=function(c){if(c==Math.round(c))return c+".0";
var o=c.toFixed(5);while(o.endsWith("0")&&o[o.length-2]!=".")o=o.slice(0,o.length-1);if(0<c&&c<1)o=o.slice(1);
if(-1<c&&c<0)o="-"+o.slice(2);return o};j1.NH=function(c,o,K,u,X){var $=typeof c=="string"?c.charAt(0):"";
if(c instanceof Array){_.Ps(o,K,"[ ");K+=2;for(var Y=0;Y<c.length;Y++){K=j1.NH(c[Y],o,K,u,"");_.Ps(o,K," ");
K++}_.Ps(o,K,"]");K+=1}else if(c instanceof Object){K=j1.t5(c,o,K,u)}else if($=="e"){_.Ps(o,K,"()");
K+=2}else if($=="s"){_.Ps(o,K,"(");K++;if(X=="97"){_.Ps(o,K,c.slice(1));K+=c.length-1}else{_.WT(o,K,254);
K++;_.WT(o,K,255);K++;K=_.aAY(o,K,c.slice(1))}_.Ps(o,K,")");K++}else if($=="/"){_.Ps(o,K,c);K+=c.length}else if($=="f"){var O=parseFloat(c.substring(1)),n=j1.ajr(O);
_.Ps(o,K,n);K+=n.length}else if($=="i"){_.Ps(o,K,c.substring(1));K+=c.length-1}else{var n=c+"";_.Ps(o,K,n);
K+=n.length}return K};function _(){}_.azo=function(cv){var c="";for(var Y=3;Y>=0;Y--)c+=String.fromCharCode(cv>>Y*8&255);
return c};_.afT=function(c){var cv=0;for(var Y=c.length-1;Y>=0;Y--)cv|=c.charCodeAt(Y)<<(3-Y)*8;return cv};
_.indexOf=function(c,o,K,u){if(K==null)K=0;if(u==null)u=c.length;u=Math.min(u,c.length);for(var Y=K;
Y<u;Y++)if(c[Y]==o)return Y;return-1};_.EJ=function(c,o,K){if(K==null)K=0;var u=o.length,X=c.length-u;
if(typeof o=="string"){var $=[];for(var Y=0;Y<u;Y++)$.push(o.charCodeAt(Y));o=$}if(o.length>0){var O=o[0];
for(var Y=K;Y<X;Y++)if(c[Y]==O){var n=!0;for(var x=1;x<u;x++)if(o[x]!=c[Y+x]){n=!1;break}if(n)return Y}}return-1};
_.ast=function(c,o,K){var u=[],$="";while(o<K){var X=c[o++];if(X=="\\".charCodeAt(0))u.push(c[o++]);
else u.push(X)}for(var Y=0;Y<u.length;Y+=2)$+=String.fromCharCode(u[Y]<<8|u[Y+1]);return $};_.avy=function(c,o,K){var u=new Uint8Array(2);
for(var Y=0;Y<K.length;Y++){_.$H(u,0,K.charCodeAt(Y));if(u[0]==")".charCodeAt(0)||u[0]=="(".charCodeAt(0)||u[0]=="\\".charCodeAt(0)){c[o]="\\".charCodeAt(0);
o++}c[o]=u[0];o++;if(u[1]==")".charCodeAt(0)||u[1]=="(".charCodeAt(0)||u[1]=="\\".charCodeAt(0)){c[o]="\\".charCodeAt(0);
o++}c[o]=u[1];o++}return o};_.aAY=function(c,o,K){c.yl(o,4*K.length);return _.avy(c.data,o,K)};_.NW=function(c,o,K){var u="";
for(var Y=0;Y<K;Y++){var X=c[o++]|c[o++]<<8;u+=String.fromCharCode(X)}return u};_.a8=function(c,o,K){var u="";
for(var Y=0;Y<K;Y++){var X=c[o++]<<8|c[o++];u+=String.fromCharCode(X)}return u};_.aaL=function(c,o,K){for(var Y=0;
Y<K.length;Y++){var u=K.charCodeAt(Y);_.WD(c,o+2*Y,u)}};_.aam=function(c,o,K){for(var Y=0;Y<K.length;
Y++){var u=K.charCodeAt(Y);_.$H(c,o+2*Y,u)}};_.auc=function(c,o,K){c.yl(o,2*K.length);_.aam(c.data,o,K)};
_.a8h=function(c,Y,o){var K=[],u=0,X=0;o+=Y;while(Y<o){u=c[Y++];if((u&128)==0)X=u;else if((u&224)==192){X=(u&31)<<6;
u=c[Y++];X|=u&63}else if((u&240)==224){X=(u&15)<<12;u=c[Y++];X|=(u&63)<<6;u=c[Y++];X|=u&63}else if((u&248)==240){X=(u&7)<<18;
u=c[Y++];X|=(u&63)<<12;u=c[Y++];X|=(u&63)<<6;u=c[Y++];X|=u&63}else throw"e";K.push(X)}return K};_.a9b=window.TextDecoder?new window.TextDecoder("utf8"):null;
_.AF=function(c,o,K){if(o==null)o=0;if(K==null)K=c.length;if(_.a9b&&o==0&&K==c.length)return _.a9b.decode(c);
var u=_.a8h(c,o,K),X=u.length;for(var Y=0;Y<X;Y++)u[Y]=String.fromCharCode(u[Y]);return u.join("")};
_.awo=window.TextEncoder?new window.TextEncoder("utf8"):null;_.qK=function(c){if(_.awo)return _.awo.encode(c);
var o=new Uint8Array(c.length*4),K=_.o5(c,o,0);return o.slice(0,K)};_.o5=function(c,o,K){var u=c.length,Y=0;
for(var X=0;X<u;X++){var $=c.charCodeAt(X);if(($&4294967295-(1<<7)+1)==0){o[K+Y]=$;Y++}else if(($&4294967295-(1<<11)+1)==0){o[K+Y]=192|$>>6;
o[K+Y+1]=128|$>>0&63;Y+=2}else if(($&4294967295-(1<<16)+1)==0){o[K+Y]=224|$>>12;o[K+Y+1]=128|$>>6&63;
o[K+Y+2]=128|$>>0&63;Y+=3}else if(($&4294967295-(1<<21)+1)==0){o[K+Y]=240|$>>18;o[K+Y+1]=128|$>>12&63;
o[K+Y+2]=128|$>>6&63;o[K+Y+3]=128|$>>0&63;Y+=4}else throw"e"}return Y};_.oQ=function(c,o){var K=_.q(c,o),u=_.AF(c,o+4,K-1);
return{Z0:u,hY:4+K}};_.aC3=function(c,o){var K=_.jn(c,o),u=_.NW(c,o+4,K);return u};_.Wx=function(c,o){var K=_.q(c,o),u=_.a8(c,o+4,K);
return u};_.p9=function(c,o){var K=_.q(c,o),u=_.a8(c,o+4,K-1);return u};_.a5g=function(c,o,K){_.Zg(c,o,K.length);
o+=4;_.aaL(c,o,K)};_.azJ=function(c,o,K){_.nc(c,o,K.length);o+=4;_.aam(c,o,K)};_.Ni=function(c,o,K){c.yl(o,4+2*K.length);
_.azJ(c.data,o,K)};_.akG=function(c,o,K){c.yl(o,4+2*K.length);_.a5g(c.data,o,K)};_.bY=function(c,o,K){var u=[];
for(var Y=0;Y<K;Y++)u.push(String.fromCharCode(c[o+Y]));return u};_.avq=function(c,o,K){var u=!1,X=c.length-K.length;
for(var Y=o;Y<X;Y++){for(var $=0;$<K.length;$++){if(c[Y+$]!=K.charCodeAt($))break;if($==K.length-1)return Y}}};
_.MQ=function(c,o,K){var u="";for(var Y=0;Y<K;Y++)u+=String.fromCharCode(c[o+Y]);return u};_.b_=function(c,o,K){for(var Y=0;
Y<K.length;Y++)c[o+Y]=K.charCodeAt(Y)};_.Ps=function(c,o,K){c.yl(o,K.length);_.b_(c.data,o,K)};_.aBV=function(c,o,K){var u="";
for(var Y=0;Y<K;Y++){var X=c[o+Y];if(X<10)u+="  ";else if(X<100)u+=" ";u+=X+", "}return u};_.SL=function(c,o){return c[o]<<8|c[o+1]};
_.$H=function(c,o,cv){c[o]=cv>>8&255;c[o+1]=cv&255};_.n$=function(c,o,cv){c.yl(o,4);_.$H(c.data,o,cv)};
_.PW=function(c,o){var K=_.SL(c,o),u=_.SL(c,o+2);return K+u*(1/65536)};_.aki=function(c,o,cv){var K=Math.floor(cv),u=Math.floor((cv-K)*65536);
_.$H(c,o,K);_.$H(c,o+2,u)};_.Em=function(c,o){return c[o+1]<<8|c[o]};_.WD=function(c,o,cv){c[o+1]=cv>>8&255;
c[o]=cv&255};_.tQ=function(c,o,cv){c.yl(o,4);_.WD(c.data,o,cv)};_.ox=function(c,o){_.Dg[0]=c[o+1];_.Dg[1]=c[o];
return _.I7[0]};_.JH=function(c,o){_.Dg[0]=c[o];_.Dg[1]=c[o+1];return _.I7[0]};_.mP=_.$H;_.L4=_.n$;_.AU=function(c,o){_.wT[0]=c[o+3];
_.wT[1]=c[o+2];_.wT[2]=c[o+1];_.wT[3]=c[o];return _.IG[0]};_.zl=function(c,o,cv){_.IG[0]=cv;c[o+3]=_.wT[0];
c[o+2]=_.wT[1];c[o+1]=_.wT[2];c[o+0]=_.wT[3]};_._S=function(c,o,cv){c.yl(o,4);_.zl(c.data,o,cv)};_.Vd=function(c,o,K,u){K[u+0]=c[o+0];
K[u+1]=c[o+1];K[u+2]=c[o+2];K[u+3]=c[o+3]};_.jn=function(c,o){_.Vd(c,o,_.wT,0);return _.a0E[0]};_.Zg=function(c,o,cv){_.a0E[0]=cv;
_.Vd(_.wT,0,c,o)};_.pE=function(c,o,cv){c.yl(o,4);_.Zg(c.data,o,cv)};_.Sz=function(c,o){_.Vd(c,o,_.wT,0);
return _.IG[0]};_.afD=function(c,o,cv){_.IG[0]=cv;_.Vd(_.wT,0,c,o)};_.afQ=function(c,o,cv){c.yl(o,4);
_.afD(c.data,o,cv)};_.q=function(c,o){var K=c[o]*(256*256*256)+(c[o+1]<<16|c[o+2]<<8|c[o+3]);return K};
_.nc=function(c,o,cv){c[o]=cv>>24&255;c[o+1]=cv>>16&255;c[o+2]=cv>>8&255;c[o+3]=cv>>0&255};_.FA=function(c,o,cv){c.yl(o,4);
_.nc(c.data,o,cv)};_.vd=function(c,o){return _.q(c,o)<<32|_.q(c,o+4)};_.axf=function(c,o,cv){_.nc(c,o,cv>>16>>16);
_.nc(c,o+4,cv&4294967295)};_.Pi=function(c,o,cv){c.yl(o,8);_.axf(c.data,o,cv)};_.pl=function(c,o){var K=new Uint8Array(8);
for(var Y=0;Y<8;Y++)K[Y]=c[o+7-Y];var u=new Float64Array(K.buffer);return u[0]};_.zw=function(c,o){var K=new Uint8Array(8);
for(var Y=0;Y<8;Y++)K[Y]=c[o+Y];var u=new Float64Array(K.buffer);return u[0]};_.EN=function(c,o,cv){var K=new Float64Array(1);
K[0]=cv;var u=new Uint8Array(K.buffer);for(var Y=0;Y<4;Y++){var X=u[Y];u[Y]=u[7-Y];u[7-Y]=X}for(var Y=0;
Y<8;Y++)c[o+Y]=u[Y]};_.zs=function(c,o,cv){c.yl(o,8);_.EN(c.data,o,cv)};_.vh=function(c,o){_.wT[0]=c[o+3];
_.wT[1]=c[o+2];_.wT[2]=c[o+1];_.wT[3]=c[o+0];return _.WE[0]};_.Wk=function(c,o){_.wT[0]=c[o+0];_.wT[1]=c[o+1];
_.wT[2]=c[o+2];_.wT[3]=c[o+3];return _.WE[0]};_.fx=function(c,o,cv){_.WE[0]=cv;c[o+0]=_.wT[3];c[o+1]=_.wT[2];
c[o+2]=_.wT[1];c[o+3]=_.wT[0]};_.ayh=function(c,o,cv){c.yl(o,4);_.fx(c.data,o,cv)};_.El=function(c,o,cv){_.WE[0]=cv;
c[o+0]=_.wT[0];c[o+1]=_.wT[1];c[o+2]=_.wT[2];c[o+3]=_.wT[3]};_.aoX=function(c,o,cv){c.yl(o,4);_.El(c.data,o,cv)};
_.ajQ=function(c,o){var K=_.AU(c,o),u=K*(1/(1<<24));return u};_.atq=function(c,o,K){var u=Math.floor(K*(1<<24));
_.zl(c,o,u)};_.amS=function(c,o,K){c.yl(o,4);_.atq(c.data,o,K)};_.RF=function(c,o){var K=c[o],u=_.MQ(c,o+1,K);
K+=1-K%2;return{Wr:u,length:K+1}};_.aho=function(c,o,K){var u=K.length;c[o]=u;_.b_(c,o+1,K);if(u%2==0){c[o+1+u]=0;
++u}return u+1};_.j4=function(c,o,K){c.yl(o,K.length+2);return _.aho(c.data,o,K)};_.nj=function(c,o){var K=new bE;
K.V=_.pl(c,o+0*8);K.J=_.pl(c,o+1*8);K.If=_.pl(c,o+2*8);K.gI=_.pl(c,o+3*8);K.hW=_.pl(c,o+4*8);K.qj=_.pl(c,o+5*8);
return K};_.Eo=function(c,o,K){_.EN(c,o+0*8,K.V);_.EN(c,o+1*8,K.J);_.EN(c,o+2*8,K.If);_.EN(c,o+3*8,K.gI);
_.EN(c,o+4*8,K.hW);_.EN(c,o+5*8,K.qj)};_.ai_=function(c,o,K){c.yl(o,48);_.Eo(c.data,o,K)};_.at7=function(c,o){var K=_.vh(c,o),u=_.vh(c,o+4),X=_.vh(c,o+8),$=_.vh(c,o+12);
return new ez(K,u,X-K,$-u)};_.ax1=function(c,o,K){_.fx(c,o,K.x);_.fx(c,o+4,K.y);_.fx(c,o+8,K.x+K.m);
_.fx(c,o+12,K.y+K.e)};_.a7B=function(c,o,K){c.yl(o,16);_.ax1(c.data,o,K)};_.QJ=function(c,o){var K=_.AU(c,o),u=_.AU(c,o+4),X=_.AU(c,o+8),$=_.AU(c,o+12);
return new ez(u,K,$-u,X-K)};_.anR=function(c,o,K){_.zl(c,o,K.y);_.zl(c,o+4,K.x);_.zl(c,o+8,K.y+K.e);
_.zl(c,o+12,K.x+K.m)};_.NP=function(c,o,K){c.yl(o,16);_.anR(c.data,o,K)};_.SN=function(c,o,K){var u=new Uint8Array(K);
for(var Y=0;Y<K;Y++)u[Y]=c[o+Y];return u};_.ao0=function(c,o,K){c.set(K,o)};_.MZ=function(c,o,K){c.yl(o,K.length);
_.ao0(c.data,o,K)};_.abf=function(c,o,K,cv){if(!cv)cv=1;for(var Y=0;Y<cv;Y++)c[o+Y]=K};_.WT=function(c,o,K,cv){if(!cv)cv=1;
c.yl(o,cv);_.abf(c.data,o,K,cv)};_.I7=new Int16Array(1);_.Dg=new Uint8Array(_.I7.buffer);_.IG=new Int32Array(1);
_.a0E=new Uint32Array(_.IG.buffer);_.wT=new Uint8Array(_.IG.buffer);_.WE=new Float32Array(_.IG.buffer);
function ka(){}ka.Sr=function(c,o){var K=new Uint8Array(c),u=0,X=_.MQ(K,u,9),n=4,x=100;u+=9;var $=_.MQ(K,u,4);
u+=4;u++;o.m=_.q(K,u);u+=4;o.e=_.q(K,u);u+=4;var O=_.q(K,u);u+=4;if(O!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf($)==-1){x=_.q(K,u);u+=4;if(parseInt($.slice(1))>=7){x=x}else alert("Unknown XCF version: "+$);
n=8}var l={};u=ka._0(K,u,l);var N=[];u=ka.PJ(K,u,N,n);var f=[];u=ka.PJ(K,u,f,n);o.IR=0;for(var Y=0;Y<N.length;
Y++)ka.aud(K,N[Y],o,l,n,x);while(o.IR>0){o.s.push(o.FL());o.IR--}o.s.reverse();delete o.IR;o.buffer=a.R(o.m*o.e*4);
if(o.s.length==0)console.log("No layers!!!");for(var Y=0;Y<f.length;Y++){var z=ka.akF(K,f[Y],l,n,x);
if(z.fv[hw.aym])o.u={channel:z.DE,rect:new ez(0,0,o.m,o.e)}}};ka.aud=function(c,o,K,u,X,$){var O=K.uB(),n=_.q(c,o),f=0;
o+=4;var x=_.q(c,o);o+=4;O.rect=new ez(0,0,n,x);var l=_.q(c,o);o+=4;var N=_.oQ(c,o);o+=N.hY;O.XK(N.Z0);
var z={};o=ka._0(c,o,z);if(z[hw.auF]){var R=z[hw.auF];f=R.length/4-1}if(z[hw.C6]){O.rect.x=_.AU(z[hw.C6],0);
O.rect.y=_.AU(z[hw.C6],4)}if(z[hw.abk]){O.opacity=_.q(z[hw.abk],0)}if(z[hw.aeP]){O.add.lsct=aj.cD;O.Ha=24}if(z[hw.ac1]){var V=_.q(z[hw.ac1],0);
O.Mh=hw.ajY[V];if(O.rD()&&O.Mh=="norm")O.Mh="pass"}if(z[hw.aDC]){if(_.q(z[hw.aDC],0)==0)O.Ha+=2}if(z[hw.aAc]){var d=_.q(z[hw.aAc],0);
O.add.lsct=d&1==1?aj.cD:aj.Qw}if(z[hw.gx]){var e=z[hw.gx];for(var p in e){var h=e[p];if(p=="gimp-text-layer"){var E=ka.aAj(h),q=E.text,Z=E.font,v=E.color,W=E["font-size"];
if(q==null&&E.markup){var D=new DOMParser,I=D.parseFromString(E.markup,"image/svg+xml");while(I.firstChild!=null&&I.firstChild.tagName!=null){I=I.firstChild;
var A=I.getAttribute("font"),U=I.getAttribute("foreground"),w=I.getAttribute("size");if(A!=null)Z=A;
if(U!=null){U=CSS.Bg(U);v=[1,U.Z/255,U.r/255,U.J/255]}if(w!=null){W=""+parseFloat(w)/245}}q=I.textContent}O.add.lnsr="rend";
O.add.TySh=ii.eS(0,0);O.add.TySh.FD=new ez(0,0,100,100);O.add.TySh.i=new bE(1,0,0,1,O.rect.x,O.rect.y);
var t=O.add.TySh.Bz;ii.FO(t,0,q);var L=ii.Ij(t,0,0),J=E.justify,b=E["line-spacing"];if(v)L.W$.FillColor={Type:1,Values:[1,parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]};
if(W){W=Math.round(parseFloat(W));L.W$.FontSize=W;O.add.TySh.i.qj+=Math.min(17,W*.17)}if(b){b=Math.round(parseFloat(b)+L.W$.FontSize*1.2);
L.W$.Leading=b;L.W$.AutoLeading=!1}if(J)L.Xi.Justification=["left","right","center","fill"].indexOf(J);
if(Z&&Z!="Sans-serif"){var F=Z.toLowerCase(),B="bold italic semi extra regular condensed light".split(" "),k=F.length;
for(var Y=0;Y<B.length;Y++){var i=F.indexOf(B[Y]);if(i!=-1&&i<k&&F[i-1]==" ")k=i}if(k!=F.length)Z=Z.slice(0,k-1).split(" ").join("")+"-"+Z.slice(k).split(" ").join("");
ii.CQ(L,Z)}ii.r2(t,0,q.length,L);var H=E["box-width"],m=E["box-height"],j=H?parseFloat(H):O.rect.m,Q=m?parseFloat(m):O.rect.e;
ii.lG(t,1);ii.lf(t,[0,0,Math.ceil(j),Math.ceil(Q)])}else console.log("Unknown property "+p)}}while(K.IR>f){K.s.push(K.FL());
K.IR--}K.IR=f;if(O.add.lsct==aj.cD||O.add.lsct==aj.Qw)K.IR++;var G=X==4?_.q:_.vd,g=G(c,o);o+=X;var P=G(c,o);
o+=X;if(O.Dc()){O.buffer=a.R(O.rect.P()*4);var M=new a.Ko(O.rect.P());ka.aCf(c,g,M,u,X,$);a.Zt(M,O.buffer)}if(P!=0){O.F=new gU.bQ;
var T=ka.akF(c,P,u,X,$);O.F.channel=T.DE;O.F.rect=O.rect.clone();if(z[hw.af3])O.F.isEnabled=_.q(z[hw.af3],0)==1;
O.F.color=O.F.channel[0];O.F.kj()}if(O.rD())O.rect=new ez;K.s.push(O)};ka.aAj=function(c){var o="("+_.AF(c,0,c.length-1)+")",K=[],u={};
ka.aug(o,1,K);ka.alP(K,u);return u};ka.alP=function(c,o){for(var Y=0;Y<c.length;Y++){var K=c[Y],u=K[0];
if(K.length==2)o[u]=K[1];else o[u]=K.slice(1)}};ka.aug=function(c,o,K){while(!0){if(o>=c.length)throw"e";
var u=c.charAt(o);o++;if(u=="("){var X=[];o=ka.aug(c,o,X);K.push(X)}else if(u==" "||u=="\n"||u=="\r"){}else if(u==")")return o;
else if(u=="\""){var $=o;while(!0){var O=c[o];o++;if(O=="\"")break;if(O=="\\")o++}K.push(JSON.parse(c.slice($-1,o)))}else{var $=o-1;
while(c[o]!=" "&&c[o]!=")")o++;K.push(c.slice($,o))}}};ka.akF=function(c,o,K,u,X){var $=_.q(c,o);o+=4;
var O=_.q(c,o);o+=4;var n=_.oQ(c,o);o+=n.hY;var x={};o=ka._0(c,o,x);var l=new a.Ko($*O),N=u==4?_.q:_.vd,f=N(c,o);
o+=u;ka.aCf(c,f,l,K,u,X);return{DE:l.Z,fv:x}};ka.aCf=function(c,o,K,u,X,$){var O=_.q(c,o);o+=4;var n=_.q(c,o);
o+=4;var x=_.q(c,o);o+=4;var l=X==4?_.q:_.vd,N=l(c,o);o+=X;ka.afa(c,N,K,u,x,X,$)};ka.afa=function(c,o,K,u,X,$,O){var n=_.q(c,o),N=0,Y=0;
o+=4;var x=_.q(c,o);o+=4;var l=new ez(0,0,n,x);if(O==100||O==150)N=1;else if(O==200||O==250)N=2;else if(O==300||O==350)N=4;
else if(O==500||O==550)N=2;else if(O==600||O==650)N=4;else if(O==700||O==750)N=8;else{alert("unsupported bit depth "+O);
throw"e"}var f=X/N,N=Math.round(X/f),z=[];o=ka.PJ(c,o,z,$);var R=new a.Ko(64*64*N),V=new ez,d=u[hw.a8q][0],e=[R.Z,R.r,R.J,R.V];
if(f==3)R.V.fill(255);var p=Date.now();if(z.length!=0)for(var h=0;h<x;h+=64)for(var E=0;E<n;E+=64){var q=Math.min(n-E,64),Z=Math.min(x-h,64),v=q*Z;
V.Q7(E,h,q,Z);ka.awt(c,z[Y++],v*N,d,f,e);if(O==100||O==150){}else if(O==250){for(var W=0;W<f;W++){var D=e[W];
for(var I=0;I<v;I++){var A=D[I]<<8|D[v+I];D[I]=Math.min(A>>>8,255)}}}else if(O==600){var U=ka.acr(),w=new Uint32Array(1),t=new Float32Array(w.buffer);
for(var W=0;W<f;W++){var D=e[W];for(var I=0;I<v;I++){w[0]=D[I]<<24|D[v+I]<<16|D[(v<<1)+I]<<8|D[(v<<1)+v+I]<<0;
var L=t[0];if(L<0)L=0;else if(L>1)L=1;D[I]=U[~~(.5+L*1e3)]}}}else console.log("unknown data format",O);
a.WC(R,V,K,l)}};ka.acr=function(){var c=ka.awK;if(c!=null)return c;c=ka.awK=new Uint8Array(1001);for(var Y=0;
Y<1001;Y++)c[Y]=~~(.49+255*a.rp(Y*.001));return c};ka.awt=function(c,o,K,u,X,$){if(u==1){for(var O=0;
O<X;O++){var n=$[O],x=0;while(x<K){var cv=c[o];o++;if(cv<127){var l=c[o];o++;cv++;for(var Y=0;Y<cv;Y++)n[x+Y]=l}else if(cv==127){var N=c[o];
o++;var f=c[o];o++;var l=c[o];o++;cv=N<<8|f;for(var Y=0;Y<cv;Y++)n[x+Y]=l}else if(cv==128){var N=c[o];
o++;var f=c[o];o++;cv=N<<8|f;for(var Y=0;Y<cv;Y++)n[x+Y]=c[o+Y];o+=cv}else{cv=256-cv;for(var Y=0;Y<cv;
Y++)n[x+Y]=c[o+Y];o+=cv}x+=cv}}}else if(u==2){var z=pako.inflate(c.slice(o)),R=Math.round(z.length/K);
for(var Y=0;Y<K;Y++){var V=Y*R;$[0][Y]=z[V];$[1][Y]=z[V+1];$[2][Y]=z[V+2];$[3][Y]=R==3?255:z[V+3]}}else alert("Unknown compression "+u)};
ka.PJ=function(c,o,K,u){var X=u==4?_.q:_.vd;while(!0){var $=X(c,o);o+=u;if($==0)break;else K.push($)}return o};
ka._0=function(c,o,K){while(!0){var u=_.q(c,o);o+=4;var X=_.q(c,o);o+=4;if(u==hw.acF)break;else if(u==hw.gx)K[u]=ka.aqT(c,o,o+X);
else K[u]=_.SN(c,o,X);o+=X}return o};ka.aqT=function(c,o,K){var u={};while(o<K){var X=_.oQ(c,o);o+=X.hY;
var $=_.q(c,o);o+=4;if($!=1)console.log("unknown flags",$);var O=_.q(c,o);o+=4;u[X.Z0]=_.SN(c,o,O);o+=O}return u};
var hw={acF:0,aaT:1,aw7:2,a5$:3,aym:4,akm:5,abk:6,ac1:7,aDC:8,aaY:9,a0V:10,af3:11,ayx:12,abv:13,ami:14,C6:15,aCl:16,a8q:17,ai$:18,ahX:19,a7R:20,gx:21,ahH:22,abg:23,a9f:24,a5u:25,a4j:26,au5:27,aiU:28,aeP:29,auF:30,aAc:31,aeY:32,afK:33,a0x:34,afO:35,alH:36,a3C:37,a3Q:38,ah4:0,aAg:1,aoq:2,aAn:3,a6W:1,a1P:2,abW:0,a5x:1,aCG:1};
hw.ajY="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var gx=function(){var c=!1,o,K,p=0,q;function u(){var W=_.MQ(o,K,4);K+=4;return W[3]+W[2]+W[1]+W[0]}function X(){var W=_.MQ(o,K,4);
K+=4;return W}function $(){var W=o[K];K+=1;return W}function O(){var W=_.Em(o,K);K+=2;return W}function n(){var W=_.jn(o,K);
K+=4;return W}function x(){var W=_.Sz(o,K);K+=4;return W}function l(){var W=_.jn(o,K);K+=8;return W}function N(){var W=_.Wk(o,K);
K+=4;return W}function f(){var W=_.zw(o,K);K+=8;return W}function z(){var W=_.Em(o,K),D=_.AF(o,K+2,W);
K+=2+W;return D}function R(){var W=_.jn(o,K),D=_.AF(o,K+4,W);K+=4+W;return D}function V(W){K=W;var D=[];
while(K!=0){var I=X();if(I!="#FT4"&&I!="#FT3"&&I!="#FT2")throw I;var A=l(),U=l(),w=l(),t=l(),L=l(),J=n(),b=n(),F=n(),B=O(),k=$(),i={};
D.push(i);for(var Y=0;Y<J;Y++){var H=n(),m=$();if(m!=0&&m!=1&&m!=2)throw m;var j=[];if(m==0||m==1){var Q=l(),G=l(),g=l(),P=n(),M=$(),T=n(),C=I!="#FT4"?0:n(),gf=null;
if(I=="#FAT"||I=="#FT2"){switch(M){case 1:M=1;break;case 2:M=65;break;case 3:M=129;break;case 4:M=193;
break;default:M=0;break}}if(m==0)gf=z();j=[Q,G,g,M,gf]}i["i"+H]=[m,j]}for(var Y=0;Y<B;Y++){var s=O(),b3=O(),d5=l(),gh=_.MQ(o,K,s);
K+=s}K=A}D.reverse();for(var jt=1;jt<D.length;jt++){var i=D[jt],fl=D[jt]=JSON.parse(JSON.stringify(D[jt-1]));
for(var eq in i){var c7=i[eq];if(c7[0]==0)fl[eq]=c7;else if(c7[0]==1){c7[1][4]=fl[eq][1][4];fl[eq]=c7}else if(c7[0]==2)delete fl[eq]}}var k8=D.pop(),hs=[];
for(var eq in k8)hs.push(k8[eq][1]);hs.sort(function(cq,jn){return cq[0]-jn[0]});return hs}function d(W,D,I,A){while(K<o.length){var U=$(),J=null;
if(U==0){if(A){var w=$();if(w!=2){var t=u()}if(w==0)K+=4;A=!1;continue}else{break}}var L=u();if(c)console.log("  ".repeat(D),U,U&127,L,W._type);
if(U>127)J=e(U,D,I);else J=h(U,D,I);if(c)console.log("  ".repeat(D),J);W[L]=J}}function e(W,D,I){var A=[];
W=W&127;if(W==43)K+=4;var U=n();if(W==50){var w=u(),t=O();if(t!=1)throw"e";for(var Y=0;Y<U;Y++){var L={_status:"NotShared",_type:w};
A.push(L);var J=$();if(J!=1)throw J;d(L,D+1,I)}}else if(W==41){if(U>8)throw U;for(var Y=0;Y<U;Y++)A.push((o[K]>>>Y&1)==1);
K++}else for(var Y=0;Y<U;Y++){A.push(h(W,D,I,Y!=0));if(W==42)W=2}return A}function h(W,D,I,A){var U=null;
if(W==49){U={};var w=$();if(w!=0){var t=n();if(I==null){U._id=t;U._status=["Shared","Link"][w-1]}if(I&&w==2)U=I[t];
if(w==1){if(I)I[t]=U;var L=$(),J=!1;if(L>1)throw L;U._type=u();if(c)console.log("  ".repeat(D),"new",U._type,L,K);
if(L==0){while(!0){var b=O();if(b!=0&&b!=1&&b!=2&&b!=3&&b!=4)throw b;if(o[K]!=0){J=!0;break}var F=O();
if(F==512)break;var B=u();if(F==256)break}}d(U,D+1,I,J)}}}else if(W==50){U={_status:"NotShared"};if($()==1){U._type=u();
K+=2;d(U,D+1,I)}}else if(W==1)U={type:"byte",value:$()};else if(W==2)U={type:"uint16",value:O()};else if(W==3)U={type:"uint32",value:n()};
else if(W==4)U={type:"uint64",value:l()};else if(W==7)U={type:"int32",value:x()};else if(W==8)U={type:"int64",value:l()};
else if(W==9)U={type:"float32",value:N()};else if(W==10)U={type:"float64",value:f()};else if(W==21)U={type:"Vec2i",value:[n(),n()]};
else if(W==23)U={type:"Vec4i",value:[n(),n(),n(),n()]};else if(W==33)U={type:"Vec4f",value:[N(),N(),N(),N()]};
else if(W==36)U={type:"Vec2",value:[f(),f()]};else if(W==38)U={type:"Vec4",value:[f(),f(),f(),f()]};
else if(W==40)U={type:"Vec6",value:[f(),f(),f(),f(),f(),f()]};else if(W==41)U={type:"bool",value:$()!=0};
else if(W==42)U={type:"Enum",value:n()};else if(W==43)U={type:"string",value:R()};else if(W==44){if(A!=!0)p=O();
U={type:"curv16",value:[f(),p==12?[$(),$(),$(),$()]:[n(),n()]]}}else if(W==45){var k=n();U={type:"buff",value:o.slice(K,K+k)};
K+=k}else if(W==47){U={type:"uint32",value:n()}}else if(W==48){var i=[],H=O();if(H!=1)throw H;while(!0){if(o[K]==135){var m=e($(),D+1,I),j=e($(),D+1,I),Q=e($(),D+1,I);
i.push([m,j,Q])}else{var G=1;if(o[K]==3){$();G=n()}for(var Y=0;Y<G;Y++){if($()!=41)throw"e";var t=$();
if(t!=0&&t!=1)throw t;if($()!=172)throw"e";var g=n(),P=O(),M=[];i.push(M);if(P!=18)throw P;if(g>4e3)throw g;
for(var T=0;T<g;T++)M.push([f(),f(),$(),$()])}}if(o[K]==0){K++;break}}U={type:"curve",value:i}}else if(W==51){U={type:"EmbeddedData"};
U[u()]=R()}else if(W==52)U={type:"uint32",value:n()};else if(W==56)U={type:"Color32",value:[$(),$(),$(),$()]};
else if(W==60)U={type:"ColorGRAY",value:[N(),N()]};else if(W==68)U={type:"ColorRGBA",value:[N(),N(),N(),N()]};
else if(W==72)U={type:"ColorCMYK",value:[N(),N(),N(),N(),N()]};else{throw W}return W==49||W==50||W==51?U:U.value}function E(W){var D=0,I=W.length;
for(var Y=0;Y<I;Y++)W[Y]=D=D+W[Y]&255}function Z(W){o=W;K=4;var D=n(),I=X();if(I!="nsrP")throw I;var I=X();
if(I!="#Inf")throw I;var A=l();q=l();var U=l(),w=l(),t=l(),L=n(),J=n(),I=X();if(I!="Prot")throw I;var L=n(),b=V(A),F={},B=Date.now();
for(var k=0;k<b.length;k++){var i=b[k],H=i[3],g=null;K=i[0];var I=X();if(I!="#Fil")throw I;var m=H>>>5&1,j=H&3,Q=H&192;
switch(Q){case 64:Q=1;m=0;break;case 128:Q=2;break;case 192:Q=3;break;default:Q=0;m=0}var G=new Uint8Array(o.buffer,K,i[2]);
if(j==0)g=G;else if(j==1)g=pako.inflate(G);else if(j==2)g=c5.SI.kP(G,i[1]);else throw j;if(m==0){if(Q==1)E(g);
if(Q==2)throw"e"}else if(m==1){if(Q==2)E(g);else throw Q}else throw m;F[i[4]]=g}return F}function v(W){var D=Z(new Uint8Array(W));
o=D["doc.dat"];K=16;var I={};d(I,0,[]);return[D,I,q]}return{aof:v}}();function cD(){}cD.Sr=function(){function c(R,V){var d=Date.now(),e=gx.aof(R),p=e[0],h=e[1],E=e[2],q=h.DocR,Z=q.DfSz,v=q.Chld;
if(v.length!=1)console.log(v);var W=v[0],D=W.SprB;v=W.Chld;V.m=~~D[2];V.e=~~D[3];V.buffer=a.R(V.m*V.e*4);
var I=[0,{}];for(var Y=0;Y<v.length;Y++)X(v[Y],V,p,new bE,I,0);V.xl(I[0]);console.log(Date.now()-d,"Document created");
d=Date.now()}function o(R){return new bE(R[0],R[3],R[1],R[4],R[2],R[5])}function K(R,V){var d=V.Xfrm;
d=d?o(d):new bE;d.concat(R);return d}function u(R){var V={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[R];
return V?V:"norm"}function X(R,V,d,e,p,h){var E=R._type,q=R.Chld,Z=V.uB();Z.XK(R.Desc==null||R.Desc==""?E=="Grup"?"Folder":"Layer":R.Desc);
Z.OG(R.Visi);Z.opacity=Math.round(255*R.Opac);if(R.FOpc!=1)Z.add.iOpa=Math.round(255*R.FOpc);var v=R.Blnd;
if(v!=null)Z.Mh=u(v);var W=K(e,R),D=E=="ShpN"||E=="PCrv";if(q){V.s.push(V.FL());Z.add.lsct=aj.cD;Z.Mh="pass";
Z.Ha=24;if(E=="ShpN"){var I=R.ShpB;Z.oW(new ez(I[0]+W.hW,I[1]+W.qj,I[2]-I[0],I[3]-I[1]));p[0]++;Z.add.artb.Clr={t:"Objc",v:a.T.mv({Z:255,r:255,J:255})}}for(var Y=0;
Y<q.length;Y++)X(q[Y],V,d,W,p,h+1)}else if(E=="Rstr"||E=="ImgN"||E=="MRst"){var A=R.Bitm,U=A.Bckg,w=Date.now(),t;
if(U==null){t=l(A,d,p[1]);Z.rect=t[2].clone();Z.buffer=t[1].slice(0);Z.rect.x+=W.hW;Z.rect.y+=W.qj}if(U||W.ea()!=1){var L,J=0,b=0;
if(U){var F=d[U.Data],B=_.EJ(F,"ataD")+4,k=_.jn(F,B);B+=4;L=F.slice(B,B+k)}else{J=Z.rect.x-W.hW;b=Z.rect.y-W.qj;
if(t[3]==null)t[3]=new Uint8Array(c5.nq("PNG").nC([[Z.buffer.buffer]],Z.rect.m,Z.rect.e));L=t[3].slice(0)}var i=V.ra(L,Z.getName(),0,0);
i.Ha=Z.Ha;i.opacity=Z.opacity;Z=i;var H=new bE;H.translate(J,b);H.concat(W);var m=Z.rect.clone();m.x=m.y=0;
var j=a.A.W6(m).j;a.A.i(j,H,j);Z.add.SoLd.Trnf=r.W.yf(j);Z.add.SoLd.nonAffineTransform=r.W.yf(j);Z.oP(V,!1)}}else if(E=="TxtA"||E=="TxtF"){Z.add.lnsr="rend";
Z.add.TySh=ii.eS(0,0);Z.add.TySh.FD=new ez(0,0,100,100);var Q=R.TxtH.FrmB,G=1,g=1,P=Z.add.TySh.i=new bE,s=0;
P.translate(Q[0],Q[1]);P.concat(W);if(E=="TxtF"){var M=Math.atan2(-P.J,P.V);P.rotate(-M);G=P.V;g=P.gI;
P.gI=P.V=1;P.rotate(M)}var T=Z.add.TySh.Bz,C=R.StSt,gf=C.Blok;if(gf.length!=1)throw"e";for(var b3=0;
b3<gf.length;b3++){var d5=gf[b3],gh=s,jt=0,fl=d5.Glyp.Utf8;if(fl==null)continue;fl=fl.replace(/\u2028/g,"\n");
fl=fl.replace(/\u2029/g,"\n");fl=fl.slice(0,fl.length-1);if(fl=="")continue;Z.XK(fl.slice(0,255));ii.FO(T,s,fl);
s+=fl.length;var eq=d5.GAtt.Runs,c7=d5.PAtt.Runs[0],k8=c7.Item.Ints[0];for(var hs=0;hs<eq.length;hs++){var cq=eq[hs],jn=cq.Indx,an=cq.Item,hk=an.Objs,ds=ii.Ij(T,gh,1);
ds.Xi.Justification=k8==0?0:k8==1?2:1;ii.CQ(ds,an.DFnt.Post);ds.W$.FontSize=an.Doub[0];for(var Y=0;Y<hk.length;
Y++){var gT=hk[Y];if(gT._type=="FDsc"){var gP=gT.FDeF;if(gP._type=="FilS"){var ky=x(gP.Colr);ds.W$.FillColor={Type:1,Values:[1,ky[0],ky[1],ky[2]]}}}}ii.r2(T,gh+jt,gh+Math.min(jn,fl.length),ds);
jt=jn}}ii.lG(T,1);ii.lf(T,[0,0,Math.round((Q[2]-Q[0])*G),Math.round((Q[3]-Q[1])*g*1.2)]);V._K=!0}else if(D){Z.Ha|=16;
var ay=Z.add.vstk=gH.e_.ib(!0),bb=Z.add.vmsk=$(R);a.o.Ik(bb.$,W);if(R.BFFl){var ap=R.BFFl[0].FDeF,cR=ap._type;
if(cR=="FilS")Z.add.SoCo={classID:"null",Clr:n(ap.Colr)};else if(cR=="FilG"){var c8=Z.add.GdFl=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]);
O(ap,c8)}else if(cR=="FilN"){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}};ay.fillEnabled.v=!1}else console.log(cR)}if(R.LILn){var fF=R.LILn[0].LDeL,cj=fF.Wght;
if(cj!=0){ay.strokeEnabled.v=!0;ay.strokeStyleLineWidth.v.val=cj;var ap=R.LIFl[0].FDeF,cR=ap._type;if(cR=="FilS")ay.strokeStyleContent.v.Clr=n(ap.Colr);
else if(cR=="FilN")ay.strokeEnabled.v=!1}}Z.$h();Z.Dm(V)}else console.log(E);var br=R.AdCh,hX=[];if(br)for(var Y=0;
Y<br.length;Y++){var gG=br[Y],jx=gG._type;if(jx=="ShpN"||jx=="PCrv"){var bb=Z.add.vmsk=$(gG),cr=K(W,gG);
a.o.Ik(bb.$,cr);Z.$h();Z.Dm(V)}else if(gG.AdjP){var a8=gG.AdjP,f8=a8._type,dW={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[f8];
if(dW==null){console.log(a8);continue}var g7=gZ.FB(dW,{});hX.push(g7);var eU=g7.v.Fltr.v;if(f8=="LevP"){var f7=i3.Jz(eU,0);
f7[0]=a8.OutB*255;f7[1]=a8.OutW*255;i3.No(eU,0,f7)}else if(f8=="WhBP"){var f7=i3.Jz(eU,2);f7[4]=100+a8.WBTi*20;
i3.No(eU,2,f7);var f7=i3.Jz(eU,3);f7[4]=100+a8.WBTi*200;i3.No(eU,3,f7)}else if(f8=="HSSP"){var f7=ij.Jz(eU,0);
f7[0]=Math.round(a8.HueA*256);f7[1]=Math.round(a8.SatA*256);f7[2]=Math.round(a8.LumA*256);ij.No(eU,0,f7)}else if(f8=="RecP"){eU.Clrz.v=!0;
var f7=ij.Jz(eU,0);f7[0]=Math.round(a8.RecH*100);f7[1]=Math.round(a8.RecS*100);f7[2]=Math.round(a8.RecL*100);
ij.No(eU,0,f7)}else if(f8=="B&CP"){eU.Brgh.v=Math.round(a8.Brig*100);eU.Cntr.v=Math.round(a8.Ctrs*100-100)}else if(f8=="PosP"){eU.Lvls.v=a8.Post}else if(f8=="VibP"){eU.vibrance.v=a8.Vibr-100;
eU.Strt.v=Math.round(a8.Satu*100)}else if(f8=="ExpP"){eU.Exps.v=a8.Expo;eU.gammaCorrection.v=a8.Gamm/2.2}else if(f8=="ThrP"){eU.Lvl.v=Math.round(a8.Thre*255)}else if(f8=="CrvP"){var d7=a8.Mast["Cnt "],aW=a8.Mast.Vals,f7=i8.Jz(eU,0),cy=f7[0];
for(var dh=0;dh<d7;dh++){var fh=f7[dh]=JSON.parse(JSON.stringify(cy));fh.v.Hrzn.v=Math.round(aW[dh]*255);
fh.v.Vrtc.v=Math.round(aW[4+dh]*255)}i8.No(eU,0,f7)}}else console.log(gG)}if(hX.length!=0&&Z.add.SoLd){Z.add.SoLd.filterFX=gZ.pp();
V.mj({id:Z.add.SoLd.placed.v,rect:new ez,buffer:a.R(1),F:new gU.bQ});Z.add.SoLd.filterFX.v.filterFXList.v=hX;
Z.oP(V,!1)}var dP=R.FiEf;if(dP&&dP.length!=0){var fg=Z.add.lmfx=JSON.parse(gH.default);for(var Y=0;Y<gH.order.length;
Y++)fg[gH.N4[Y]]={t:"VlLs",v:[]};for(var bo=0;bo<dP.length;bo++){var jK=dP[bo],jQ=jK._type,aZ={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[jQ],c8=aZ?JSON.parse(gH.R$[gH.order.indexOf(aZ)]):null;
if(jQ=="ColO"){c8.Clr=n(jK.Colr)}else if(jQ=="GrdO"){O(jK.GrFl.FDeF,c8)}else if(jQ=="Shad"||jQ=="InnS"||jQ=="OutG"||jQ=="InnG"){c8.Clr=n(jK.Colr);
c8.blur.v.val=Math.round(jK.Radi/2.4);if(jK.Offs!=null){c8.Dstn.v.val=jK.Offs;c8.lagl.v.val=Math.round(180-jK.Angl*180/Math.PI);
c8.uglg.v=!1}}else if(jQ=="Strk"){c8.Clr=n(jK.Colr);c8.Sz.v.val=Math.round(jK.Radi)}else if(jQ=="PhgB"||jQ=="BevE"){c8.blur.v.val=Math.round(jK.Radi);
if(jQ=="BevE")c8.bvlS.v.BESl="PlEb"}else if(jQ=="Gaus"){if(D&&jK.Enab){Z.add.vmsk.ej=jK.Radi/2.4;Z.add.vmsk.jt=!0;
Z.$h();Z.Dm(V)}}if(aZ){c8.enab.v=jK.Enab;if(c8.Md&&jK.BlnM!=null)c8.Md.v.BlnM=ef.aj(u(jK.BlnM));if(c8.Opct&&jK.Opac!=null)c8.Opct.v.val=Math.round(jK.Opac*100);
var eo=gH.N4[gH.order.indexOf(aZ)];fg[eo].v.unshift({t:"Objc",v:c8})}}}V.s.push(Z)}function $(R){var V=new gU.JA,d=R._type;
if(d=="PCrv"){var e=R.Crvs.Data,p=[],h=[];for(var Y=0;Y<e.length;Y++){var E=e[Y],q=E.length%3;if(q!=1){E=q==2?E[0][2]!=0?E.slice(0,E.length-1):E.slice(1):E.slice(1,E.length-1)}for(var Z=0;
Z<E.length;Z++){var v=E[Z],W=v[2];if(W!=0)p.push(Z==0?"M":"C");h.push(v[0],v[1])}}V.$=a.A.lR({j:h,G:p},!0)}else{var D=R.ShpB,I=R.Shpe,A=I._type,U=D[2]-D[0];
if(A=="ShpE"){V.$=a.o.YP.AT(D[0],D[1],D[2]-D[0],D[3]-D[1])}else if(A=="ShNR"){var w=[0,0,0,0];if(I.CTyp){w=I.ShCR.slice(0);
for(var Y=0;Y<4;Y++)w[Y]*=D[2]-D[0]}V.$=a.o.YP.Rect(D[0],D[1],D[2]-D[0],D[3]-D[1],w)}else if(A=="ShpT"){V.$=a.A.lR({G:["M","L","L","Z"],j:[D[0],D[3],D[2],D[3],D[0]+U*.5,D[1]]},!0)}else if(A=="ShTz"){V.$=a.A.lR({G:["M","L","L","L","Z"],j:[D[0]+U*I.PosL,D[1],D[0]+U*I.PosR,D[1],D[2],D[3],D[0],D[3]]},!0)}else{console.log("--",A);
V.$=a.o.YP.Rect(D[0],D[1],D[2]-D[0],D[3]-D[1],[0,0,0,0])}}return V}function O(R,V){var d=R.Grad,e=d.Cols;
V.Type.v.GrdT=R.Type==0?"Lnr":"Rdl";var p=[];for(var Y=0;Y<e.length;Y++){var h=x(e[Y]);p.push([d.Posn[Y][0],h])}V.Grad.v.Intr.v=0;
a.T.Fa(p,V.Grad.v);var E=d.Posn,q=new kn(E[0][0],E[0][1]),Z=new kn(E[1][0],E[1][1]);if(R.Type==0)q=new kn((q.x+Z.x)/2,(q.y+Z.y)/2);
a.T.OH(q,Z,new ez(0,0,1,1),V)}function n(R){var V=x(R);return{t:"Objc",v:a.T.mv({Z:V[0]*255,r:V[1]*255,J:V[2]*255})}}function x(R){var V=R._col,d=R._type;
if(d=="HSLA"){var e=a.S_(V[0],V[1],V[2]);return[e.Z,e.r,e.J,V[3]]}else if(d=="RGBA")return V;else if(d=="CMYK")return a.ft(V);
else if(d=="GRAY")return[V[0],V[1],V[2]];else{console.log(V);throw d}}function l(R,V,d){var e=R.Frmt,w="";
if(e!=0&&e!=1&&e!=4&&e!=6)throw e;var p=R.BmpW,h=R.BmpH,E=e==1?128:256,q=e==4?5:e==0||e==1?4:1,Z=Math.ceil(p/E),v=Math.ceil(h/256),W=new ez(0,0,Z,v),D=new ez;
for(var Y=0;Y<q;Y++){var I=new Uint8Array(R["Sta"+(Y+1)]),A=a.Rp(I,W);D=D.X3(A)}var U=[];for(var Y=0;
Y<q;Y++){var I=new Uint8Array(R["Sta"+(Y+1)]),t=a.R(D.P());a.qv(I,W,t,D);U[Y]=[];for(var L=0;L<t.length;
L++)U[Y][L]=t[L];w+=JSON.stringify(U[Y])+","+JSON.stringify(R["Idx"+(Y+1)])+","}if(d[w]==null){var J=D.m*E,b=D.e*256,F=new Array(q);
for(var Y=0;Y<q;Y++){var I=F[Y]=new Uint8Array(J*b);N(I,R["Idx"+(Y+1)],U[Y],V,J,b,E)}var B=a.R(J*b*4);
if(e==0||e==1)a.Zt({Z:F[0],r:F[1],J:F[2],V:F[3]},B);else if(e==4){for(var Y=0;Y<F[0].length;Y++){var k=Y*4,i=F[0][Y]*(1/255),H=F[1][Y]*(1/255),m=F[2][Y]*(1/255),j=F[3][Y]*(1/255),Q=UDOC.C.cmykToRgb([i,H,m,j]);
B[k]=Q[0]*255;B[k+1]=Q[1]*255;B[k+2]=Q[2]*255;B[k+3]=F[4][Y]}}else{B.fill(255);a.oe(F[0],B)}var G=new ez(0,0,J,b),g={buffer:B,rect:G};
a.au(g);d[w]=[g.rect,g.buffer]}var A=d[w][2]=d[w][0].clone();A.x+=D.x*E;A.y+=D.y*256;return d[w]}function N(R,V,d,e,p,h,E){var q=0,Z=p>>>(E==256?8:7),v=h>>>8;
for(var W=0;W<v;W++)for(var D=0;D<Z;D++){var I=D*E,A=W*256,U=W*Z+D,w=A*p+I,t=d[U];if(t<=1)f(R,w,0,p,E,256);
else if(t==2)f(R,w,4294967295,p,E,256);else if(t==4){var L=V[q];q++;var J=e[L.Data.DatI],b=L.Rect;if(b==null)b=[0,0,E,256];
f(R,w,0,p,E,256);z(R,(A+b[1])*p+I+b[0],J,b[1]*E+b[0],p,E,b[2]-b[0],b[3]-b[1])}else console.log(t)}}function f(R,V,d,e,p,h){var E=V+e*h;
for(;V<E;V+=e){var q=V+p;for(var Z=V;Z<q;Z++){R[Z]=d}}}function z(R,V,d,e,p,h,E,q){var Z=V+p*q,v=e+h*q;
for(;V<Z&&e<v;V+=p,e+=h){for(var Y=0;Y<E;Y++)R[V+Y]=d[e+Y]}}return c}();function hQ(){}hQ.Sr=function(c,o){var K=hQ,u=ew.parse(c),$=0;
if(u.pages.length>1)console.log(u.pages.length,"pages");var X=[],O=new ez;for(var n=0;n<u.pages.length;
n++){var x=u.pages[n],l=x.layers,N=K.jl(l,n),z=!1;if(N.P()>8e3*8e3||N.m>3e4||N.e>3e4){K.aq6(l,!0);var f=K.jl(l,n);
if(f.P()>=N.P())K.aq6(l,!1)}N=K.jl(l,n);for(var R=0;R<l.length;R++){var V=l[R];if(K.CH(V)=="artboard")z=!0}if(!z){console.log("no artboard");
var d={};for(var e in x)d[e]=x[e];d._class="group";x.layers=[d]}X.push(N.clone());if(N.SR())continue;
N.x=0;N.y=$;$+=N.e+200;O=O.X3(N)}var p={};if(u.foreignSymbols)for(var Y=0;Y<u.foreignSymbols.length;
Y++){var h=u.foreignSymbols[Y].symbolMaster;p[h.symbolID]={dF:h}}K.ayp(u.pages,p,o);for(var E in p){var V=p[E].dF,q=K.aq1(V.layers)}var Z=hQ.mX(O,8192*8192);
o._K=!0;o.m=Math.round(O.m/Z);o.e=Math.round(O.e/Z);o.buffer=a.R(o.m*o.e*4);o.xl(u.pages[0].layers.length);
o.hJ={};o.my=[];$=0;for(var n=0;n<u.pages.length;n++){var v=u.pages[n],N=X[n],W=new bE(Z,0,0,Z,N.x,N.y-$);
K.on(v.layers,o,W,u,p,{},[]);$+=N.e+200}delete o.hJ;delete o.my;if(Z!=1)alert("File scaled down "+Z+"x");
o.awj()};hQ.apH=0;hQ.CH=function(c){return c._class?c._class:c.$class};hQ.mX=function(c,o){var K=1;while(Math.round(c.m/K)*Math.round(c.e/K)>o||Math.max(Math.round(c.m/K),Math.round(c.e/K))>3e4)K++;
if(K!=1&&!window.confirm("Your image is quite large ("+c.m+" x "+c.e+" px).\n"+"Press OK to scale it down "+K+"x, or Cancel to keep the size."))K=1;
return K};hQ.jl=function(c,o){var K=[],u=hQ;for(var X=0;X<c.length;X++){var $=c[X],O=u.QJ($.frame);if(o==0||u.CH($)=="artboard")K.push(O)}return a.rect.zq(K)};
hQ.aq6=function(c,o){var K=[],u=hQ;for(var X=0;X<c.length;X++){var $=c[X],O=u.QJ($.frame);O.m+=150;O.e+=150;
K.push(O)}var n=a.rect.zq(K);a.rect.aeI(K,o);var x=a.rect.zq(K);if(x.P()*1.5<n.P()||n.m>3e4&&x.m<=3e4||n.e>3e4&&x.e<=3e4){alert("Re-arranging artboards");
for(var X=0;X<c.length;X++){var l=K[X],$=c[X],N=$.frame;N.x=l.x;N.y=l.y}}};hQ.ayp=function(c,o,K){var u=hQ;
for(var X=0;X<c.length;X++){var $=c[X],O=u.CH($);if(["page","artboard","group"].indexOf(O)!=-1)u.ayp($.layers,o,K);
else if(O=="symbolMaster")o[$.symbolID]={dF:$}}};hQ.aq1=function(c){var o=hQ;for(var K=0;K<c.length;
K++){var u=c[K],X=o.CH(u),$=null;if(["page","artboard","group"].indexOf(X)!=-1)$=o.aq1(u.layers);if(X=="symbolMaster"||X=="symbolInstance")$=u;
if($!=null)return $}return null};hQ.on=function(c,o,K,u,X,$,O){var n=hQ,x=[];for(var l=0;l<c.length;
l++){var N=c[l],f=N.frame?n.QJ(N.frame):null,z=N.style,p="",W=null,D=!1;if(z==null){console.log("no styles")}var R=n.aey(N,K),V=n.CH(N),d=V=="shapeGroup"||V=="shapePath"||V=="rectangle"||V=="oval"||V=="triangle"||V=="polygon",e=["page","artboard","group"].indexOf(V)!=-1;
if(V=="shapeGroup"){for(var Y=0;Y<N.layers.length;Y++)if(n.CH(N.layers[Y])=="shapeGroup")e=!0}var h=N.exportOptions;
if(h){var E=h.exportFormats;if(E==null)E=h.sizes;if(V!="artboard"&&(E&&E.length!=0)){var q=E[0].scale}}var Z=o.uB();
Z.OG(N.isVisible);var v=N.name;if(!(typeof v=="string"))v=V;Z.XK(p+v.slice(0,250));if(z!=null)W=n.a0d(u,o,z,f,R,Z.getName(),d||V=="artboard"||e);
if(V=="rectangle"&&z&&z.fills&&z.fills[0]){var I=z.fills[0];if(I.fillType==4&&I.patternFillType>1&&I.image!=null)D=!0}if(N.shouldBreakMaskChain){while(x.length!=0)n.ah8(x.pop(),o)}if(e){Z.add.lsct=N.layerListExpandedType==2?aj.cD:aj.Qw;
Z.Mh="pass";Z.Ha=24;Z.OG(N.isVisible);o.s.push(o.FL());if(V=="artboard"){var A=f.clone(),U=R.ea();A.x=-Math.floor(R.hW/U);
A.y=-Math.floor(R.qj/U);A.m=Math.floor(A.m/U);A.e=Math.floor(A.e/U);Z.oW(A);var w=N.backgroundColor,t=w?{Z:255*w.red,r:255*w.green,J:255*w.blue}:{Z:255,r:255,J:255};
Z.add.artb.Clr={t:"Objc",v:a.T.mv(t)};Z.add.artb.artboardBackgroundType={t:"long",v:4}}n.on(N.layers,o,R,u,X,$,O)}else if(d&&!D){var L=W!=null&&W.frameFXMulti.v.length==1;
Z.add.vmsk=new gU.JA;Z.add.vstk=gH.e_.ib(!0,L);var J=z?z.fills:null,b=z?n.aog(u,J,f,R,Z.getName(),o,n.vx(O,N.do_objectID+"_image")):[];
if(b.length==0){if(L)Z.add.vstk.fillEnabled.v=!1;else Z.add.iOpa=0;Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}}}else{var F=b[0],B=null,k=null;
if(F.type=="SoFi"){B="SoCo";k=gH.wV}if(F.type=="GrFl"){B="GdFl";k=gH.Ty}if(F.type=="patternFill"){B="PtFl";
k=gH.ne}if(B!=null){Z.add[B]={classID:"null"};for(var Y=0;Y<k.length;Y++){var i=k[Y];Z.add[B][i]=F.b.v[i]}var H=F.b.v.Opct.v.val;
if(L&&H==0)Z.add.vstk.fillEnabled.v=!1;else Z.add.iOpa=Math.round(255*H/100)}}Z.Ha|=16;Z.add.vmsk.$=n.Bo(N.layers?N.layers:[N],N.layers?R:K);
var m=z?z.blur:null;if(m&&m.isEnabled&&m.type<=1)Z.add.vmsk.ej=m.radius;if(Z.add.vmsk.$.length==2){console.log("shape with no content:",Z.getName())}if(L){var j=W.frameFXMulti.v[0].v,Q=Z.add.vstk,G=z.borders[0];
W.frameFXMulti.v=[];bL.adg(j,Q);var g=z.borderOptions,P=z.miterLimit;if(g)gH.e_.write(Q,{lcap:g.lineCapStyle,ljoin:g.lineJoinStyle,dash:g.dashPattern,mlimit:P},1)}Z.$h();
Z.Dm(o)}else if(V=="bitmap"||D){if(!D&&N.image==null)continue;var M=D?z.fills[0]:null,T=D?M.image.bdata:N.image.bdata,C=o.ra(T,Z.getName(),0,0);
C.Ha=Z.Ha;Z=C;var m=z?z.blur:null,gf=z?z.colorControls:null;if(m||gf){Z.add.SoLd.filterFX=gZ.pp();o.mj({id:Z.add.SoLd.placed.v,rect:new ez,buffer:a.R(1),F:new gU.bQ});
var J=Z.add.SoLd.filterFX.v.filterFXList.v;if(m){var s=gZ.FB("GsnB",{});s.v.enab.v=m.isEnabled;s.v.Fltr.v.Rds.v.val=m.radius;
J.push(s)}if(gf){var b3=gf.brightness,d5=gf.contrast,gh=gf.hue,jt=gf.saturation;if(gh!=0||jt!=1){var s=gZ.FB("hue2",{});
s.v.enab.v=gf.isEnabled;ij.No(s.v.Fltr.v,0,[Math.round(gh*180/Math.PI),Math.round((jt-1)*100),0]);J.push(s)}if(b3!=0||d5!=1){var s=gZ.FB("brit",{});
s.v.enab.v=gf.isEnabled;d5=d5-1;if(d5>0)d5/=2;var fl=s.v.Fltr.v;fl.Brgh.v=Math.round(b3*255);fl.Cntr.v=Math.round(d5*255);
fl.useLegacy.v=!0;J.push(s)}}}if(D){var eq=M.patternFillType;if(eq==3){var c7=Z.rect.m/Z.rect.e,k8=f.m/f.e;
if(c7<k8){R.translate(-(f.m*(1-c7/k8))/2,0);R.scale(k8/c7,1)}else{R.translate(0,-(f.e*(1-k8/c7))/2);
R.scale(1,c7/k8)}}}f.x=f.y=0;var hs=a.A.W6(f).j;R.fH();a.A.i(hs,R,hs);Z.add.SoLd.Trnf=r.W.yf(hs);Z.add.SoLd.nonAffineTransform=r.W.yf(hs);
Z.oP(o,!1)}else if(V=="text"){if(N.attributedString==null)continue;var cq=R.clone(),jn,an,ky=0;cq.fH();
cq.V=cq.gI=Math.min(cq.V,cq.gI);Z.add.lnsr="rend";Z.add.TySh=ii.eS(0,0);Z.add.TySh.FD=new ez(0,0,f.m,f.e);
Z.add.TySh.i=cq;var hk=N.attributedString;if(hk.archivedAttributedString)hk=hk.archivedAttributedString;
var ds=hk.NSString;if(ds==null)ds=hk.string;if(ds==null)ds="";if(ds["NS.string"])ds=ds["NS.string"];
if($[N.do_objectID]!=null)ds=$[N.do_objectID];var gT=n.vx(O,N.do_objectID+"_stringValue");if(gT)ds=gT.value;
if(hk.attributes!=null){jn=[];an=[];var gP=hk.attributes;for(var Y=0;Y<gP.length;Y++){jn.push(gP[Y].length,Y);
an.push(gP[Y].attributes)}}else if(hk.NSAttributeInfo==null){jn=[ds.length,0];an=[hk.NSAttributes]}else{jn=hk.NSAttributeInfo["NS.data"];
an=hk.NSAttributes;jn=hQ.az0(jn,an)}for(var Y=0;Y<jn.length;Y+=2)ky+=jn[Y];if(ky!=ds.length){while(ky>ds.length){jn[jn.length-2]--;
ky--;if(jn[jn.length-2]==0){jn.pop();jn.pop()}}jn[jn.length-2]+=ds.length-ky}ds=ds.replace(/\u2028/g,"\n");
ds=ds.replace(/\u2029/g,"\n");ds=ds.replace(/\r/g,"\n");var ay=Z.add.TySh.Bz;ii.FO(ay,0,ds);if(ds!=""){var bb=N.textBehaviour,ap=z.textStyle,c8=ap?ap.verticalAlignment:0,gr=n.ate(ay,jn,an,ds),U=cq.ea(),fF=ii.Ij(ay,0,1),jx=0;
if(fF.W$.Font){var br=fF.c9[fF.W$.Font].Name;if(br=="FontAwesome"||br=="Ionicons")gr*=.87}var gG=fF.W$.AutoLeading?0:fF.W$.Leading*.6,cr=Math.max(gr,gG)*U,a8=f.m,f8=f.e;
if(bb==0){ii.lG(ay,0);var dW=ii.wi(fF.Xi);if(dW==1)jx=a8*U;if(dW==2)jx=a8*U*.5;if(c8==0)cr*=1;else cr*=.9}else{ii.lG(ay,1);
ii.lf(ay,[0,0,Math.round(a8),Math.round(f8)]);if(bb==2&&c8==0)cr=cr*.2;else if(bb==2&&c8==1){cr=U*.5*(f8-fF.W$.FontSize)}else if(bb==1&&c8==0)cr=cr*.2;
else cr=cr*.35}Z.add.TySh.i.translate(jx,cr)}}else if(V=="symbolInstance"||V=="symbolMaster"){var g7=N.symbolID;
if($[N.do_objectID])g7=$[N.do_objectID].symbolID;var eU=n.vx(O,N.do_objectID+"_symbolID");if(eU)g7=eU.value;
if(g7=="")continue;var f7={};for(var i in $)f7[i]=$[i];if(N.overrides)for(var i in N.overrides)f7[i]=N.overrides[i];
var d7=O.slice(0);if(N.overrideValues)d7=d7.concat(N.overrideValues);var aW=X[g7];if(aW==null){console.log("Unknown master master",N.symbolID);
continue}var cy=hQ.QJ(aW.dF.frame),dh=cy.m/f.m,fh=cy.e/f.e,dP=R.clone();dP.scale(dh,fh);Z.add.lsct=aj.Qw;
Z.Mh="pass";Z.Ha=24;Z.OG(N.isVisible);o.s.push(o.FL());var fg=aW.dF;if(o.my.indexOf(fg)==-1){o.my.push(fg);
n.on(fg.layers,o,dP,u,X,f7,d7);o.my.pop()}}else if(V=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+V,N);continue}if(z&&z.contextSettings){var bo=z.contextSettings,jK=bo.blendMode;
if(jK<n.DC.length){Z.Mh=ef.oj[ef.uR.indexOf(n.DC[jK])];if(e&&Z.Mh=="norm")Z.Mh="pass"}Z.opacity=Math.round(Z.opacity*bo.opacity)}if(W!=null){Z.add.lmfx=W}o.s.push(Z);
if(N.hasClippingMask&&c.length>1){x.push(Z);o.s.push(o.FL())}}while(x.length!=0)n.ah8(x.pop(),o)};hQ.vx=function(c,o){for(var Y=0;
Y<c.length;Y++)if(c[Y].overrideName.startsWith(o))return c[Y]};hQ.az0=function(c,o){var K=0,u=[];while(K+1<c.length){var X=c[K];
K++;if(X>127){X+=128*(c[K]-1);K++;if(c[K-1]>127){X+=128*(c[K]-1);K++}}var $=c[K];K++;u.push(X,$)}return u};
hQ.ate=function(c,o,K,u){var X=hQ,$=0,N=0,f=0;for(var Y=0;Y<u.length;Y++){var O=u.charCodeAt(Y),n=1473<=O&&O<=1479||1488<=O&&O<=1514||1520<=O&&O<=1524,x=1569<=O&&O<=1594||1600<=O&&O<=1749;
if(n||x)$++}var l=$>u.length/2;for(var Y=0;Y<o.length;Y+=2){var z=o[Y],Z=14,v="DejaVuSans";if(z==0)continue;
var R=o[Y+1],V=K[R],d=ii.Ij(c,N,N+z-1),e=V.NSColor;if(e==null){var e=V.MSAttributedStringColorDictionaryAttribute;
if(e==null)e=V.MSAttributedStringColorAttribute;if(e==null)e="0 0 0";else e=[e.red,e.green,e.blue].join(" ")}else if(X.CH(e)=="MSArchivedColor")e=e.dr+" "+e.dg+" "+e.db;
else if(e.NSRGB){e=e.NSRGB;e=_.MQ(e,0,e.length-1)}else if(e.NSCMYK){e=e.NSCMYK;e=_.MQ(e,0,e.length-1);
e=e.split(" ").map(parseFloat);var p=1-e[0],h=1-e[1],E=1-e[2],q=1-e[3];e=p*q+" "+h*q+" "+E*q}else if(e.NSWhite){e="1 1 1"}e=e.split(" ");
d.W$.FillColor={Type:1,Values:[1,parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])]};var W=V.MSAttributedStringFontAttribute;
if(V.NSFont){Z=V.NSFont.NSSize;v=V.NSFont.NSName}else if(W){if(W.attributes){W=W.attributes;Z=W.size;
v=W.name}else{var D=W.NSFontDescriptorAttributes;if(D==null)D=W.UIFontDescriptorAttributes;W=D;Z=W.NSFontSizeAttribute;
v=W.NSFontNameAttribute}if(v==null)v="DejaVuSans"}var f=Math.max(f,Z);d.W$.FontSize=Math.round(Z);ii.CQ(d,v);
var I=V.NSKern;if(I==null)I=V.kerning;if(I!=null)d.W$.Tracking=Math.round(1e3*I/Z);if(V.NSUnderline!=null)d.W$.Underline=V.NSUnderline>0;
var A=V.NSStrikethrough;if(A==null)A=V.strikethroughStyle;if(A!=null)d.W$.Strikethrough=A>0;if(V.MSAttributedStringTextTransformAttribute==1)d.W$.FontCaps=2;
var U=V.NSParagraphStyle;if(U==null)U=V.paragraphStyle;if(U){var w=U.paragraphSpacing;if(w!=null){d.Xi.SpaceAfter=w}var t=U.NSAlignment;
if(t==null)t=U.alignment;if(t!=null){var L=0;if(!1){}else if(t==1)L=1;else if(t==2)L=2;else if(t==4)L=0;
else{L=t;console.log("unknown align",t)}if(l&&L<2)L=1-L;d.Xi.Justification=L}var J=U.NSMinLineHeight;
if(J==null)J=U.minimumLineHeight;if(J!=null){d.W$.AutoLeading=!1;d.W$.Leading=J}}d.Xi._Direction=l?1:0;
ii.r2(c,N,N+z,d);N+=z}return f};hQ.a0d=function(c,o,K,u,X,$,O){var n=hQ,x=JSON.parse(gH.default),l=!1;
for(var Y=0;Y<gH.order.length;Y++)x[gH.N4[Y]]={t:"VlLs",v:[]};var N=K.fills,f=n.aog(c,N,u,X,$,o);for(var z=0;
z<2;z++){var R=K[["shadows","innerShadows"][z]];if(R==null)continue;var V=["DrSh","IrSh"][z],d=gH.N4[gH.order.indexOf(V)];
for(var Y=0;Y<R.length;Y++){var e=R[Y];if(!e.isEnabled)continue;var p=e.contextSettings;if(p&&p.opacity==0||e.color.alpha==0)continue;
var h=JSON.parse(gH.R$[gH.order.indexOf(V)]);x[d].v.unshift({t:"Objc",v:h});l=!0;h.Clr.v=n.Bg(e.color);
h.blur.v.val=Math.round(e.blurRadius/X.ea());var E=X.clone();E.hW=E.qj=0;E.fH();var q=E.QB(new kn(e.offsetX,e.offsetY)),Z=Math.sqrt(q.x*q.x+q.y*q.y);
h.Dstn.v.val=Math.round(Z);h.lagl.v.val=Math.round(Math.atan2(q.y,-q.x)*(180/Math.PI));if(h.layerConceals)h.layerConceals.v=f.length!=0;
n.up(e,h)}}var v=K.borders;if(v!=null&&(f.length==0||K.blur==null||!K.blur.isEnabled))for(var Y=0;Y<v.length;
Y++){var W=v[Y];if(!W.isEnabled)continue;var h=JSON.parse(gH.R$[gH.order.indexOf("FrFX")]),d=gH.N4[gH.order.indexOf("FrFX")];
x[d].v.unshift({t:"Objc",v:h});l=!0;h.Clr.v=n.Bg(W.color);if(W.fillType!=0&&W.gradient){var D=n.akH(W.gradient,u,X,$),I=["Type","Angl","Ofst","Scl"];
for(var Y=0;Y<I.length;Y++)h[I[Y]]=D[I[Y]];h.Grad.v=D.Grad.v;h.PntT.v.FrFl="GrFl"}h.Sz.v.val=Math.round(W.thickness/X.ea());
h.Styl.v.FStl=["CtrF","InsF","OutF"][W.position];n.up(W,h)}for(var Y=O?1:0;Y<f.length;Y++){var A=f[Y],d=gH.N4[gH.order.indexOf(A.type)];
x[d].v.unshift(A.b);l=!0}return l?x:null};hQ.aog=function(c,o,K,u,X,$,O){if(o==null)return[];var n=hQ,x=[];
for(var Y=0;Y<o.length;Y++)if(o[Y].isEnabled)x.push(o[Y]);o=x;var l=[];for(var Y=0;Y<o.length;Y++){var N=o[Y],f=null,z=null;
if(N.fillType==0){f="SoFi";var R=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);z={t:"Objc",v:R};z.v.Clr.v=n.Bg(N.color)}else if(N.fillType==1){f="GrFl";
z={t:"Objc",v:n.akH(N.gradient,K,u,X)}}else if(N.fillType==4&&N.image!=null){var V=N.image;if(O)V=O.value;
var d=c5.c5(V.bdata.buffer);if(d=="fpng")d="png";if(d!=null&&d!="pdf"&&d!="eps"){var e,Z=0,v=0,W=0;if($.hJ[V.key])e=$.hJ[V.key];
else{var p={data:new ArrayBuffer(4),yS:new ez(0,0,1,1)};try{p=c5.nq(d).gP(V.bdata)[0]}catch(ar){}e={};
e.id=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";e.name="someImage";e.Y1=[new Uint8Array(p.data),p.yS];$.ci(e);
$.hJ[V.key]=e}var h=e.Y1[1],R=JSON.parse(gH.R$[gH.order.indexOf("patternFill")]);f="patternFill";z={t:"Objc",v:R};
var E=N.patternFillType,q=N.patternTileScale;R.Algn.v=!0;R.Ptrn.v.Idnt.v=e.id;if(E==0){Z=q*h.m/Math.min(h.m,h.e);
v=-u.hW;W=-u.qj}else{Z=Math.max(K.m/h.m,K.e/h.e);v=-u.hW-(h.m*Z-K.m)/2;W=-u.qj-(h.e*Z-K.e)/2}R.Scl.v.val=100*Z*(1/u.ea());
R.phase.v.Hrzn.v=Math.round(v/u.ea());R.phase.v.Vrtc.v=Math.round(W/u.ea())}}else if(N.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",N.fillType);
if(f!=null){n.up(N,z.v);l.push({type:f,b:z})}}return l};hQ.alK=function(c){var o=hQ,K=new ez(0,0,1,1);
c=c.slice(0);while(!0){var u=!1;for(var Y=0;Y<c.length-1;Y++){var X=c[Y],$=c[Y+1],O=null,n=X.contextSettings;
if(X.fillType==0&&(n==null||n.opacity==1&&n.blendMode==0)&&X.color.alpha==1){var x="norm",l=1,n=$.contextSettings;
if(n){l=n.opacity;x=ef.rI(o.DC[n.blendMode])}if($.fillType==0){O=JSON.parse(JSON.stringify($));o.axD(O.color,X.color,O.color,K,x,l)}if($.fillType==1){O=JSON.parse(JSON.stringify($));
var N=O.gradient.stops;for(var f=0;f<N.length;f++)o.axD(N[f].color,X.color,N[f].color,K,x,l)}if(O!=null&&O.contextSettings){var n=O.contextSettings;
n.opacity=1;n.blendMode=0}}if(O!=null){c.splice(Y,0,O);u=!0;break}}if(!u||c.length<2)break}return c};
hQ.axD=function(c,o,K,u,X,$){var O=hQ,n=a.R(4);O.agn(c,n);var x=a.R(4);O.agn(o,x);a.a.hA(X,n,u,x,u,u,$);
O.adF(x,K)};hQ.agn=function(c,o){o[0]=255*c.red;o[1]=255*c.green;o[2]=255*c.blue;o[3]=255*c.alpha};hQ.adF=function(c,o){o.red=c[0]/255;
o.green=c[1]/255;o.blue=c[2]/255;o.alpha=c[3]/255};hQ.ah8=function(c,o){c=c.clone();c.Ha=24;c.XK("Mask by "+c.getName());
o.s.push(c);c.add.lsct=aj.cD;c.add.lyid=o.Tv();delete c.add.lmfx;delete c.add.SoCo;delete c.add.GdFl;
delete c.add.PtFl;delete c.add.iOpa;if(c.add.vmsk)c.add.vmsk.jt=!0;c.$h();c.Dm(o);if((c.Ha&16)==16)c.Ha-=16;
if((c.Ha&2)==2)c.Ha-=2;c.Mh="pass";c.opacity=255};hQ.DC="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
hQ.akH=function(c,o,K,u){K=K.clone();K.fH();K.hW=K.qj=0;var X=K.ea(),z=0,R=0;K.scale(1/X,1/X);var $=hQ,O=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),n=O.Grad.v;
n.Intr.v=0;if(c==null)return O;var x=c.gradientType,l=$.LM(c.from),N=$.LM(c.to);l.offset(-.5,-.5);N.offset(-.5,-.5);
l=K.QB(l);N=K.QB(N);var f=Math.atan2(-(N.y-l.y),N.x-l.x);O.Type.v.GrdT=["Lnr","Rdl","Angl"][x];O.Scl.v.val=100*kn.je(l,N);
if(x==0){O.Angl.v.val=180/Math.PI*f;O.Scl.v.val=100*kn.je(l,N);z=(l.x+N.x)/2;R=(l.y+N.y)/2}if(x==1){O.Scl.v.val=200*kn.je(l,N);
z=l.x;R=l.y}if(x==2){O.Angl.v.val=180/Math.PI*(f-Math.PI/2)}var V=O.Ofst.v;V.Hrzn.v.val=z*100;V.Vrtc.v.val=R*100;
var d=[];for(var Y=0;Y<c.stops.length;Y++){var e=c.stops[Y],p=e.color;d.push([e.position,p?[p.red,p.green,p.blue]:[0,0,0],p.alpha])}a.T.Fa(d,n);
return O};hQ.up=function(c,o){var K=hQ,u=1,X=c.contextSettings;if(X!=null){o.Md.v.BlnM=K.DC[X.blendMode];
u*=X.opacity}else o.Md.v.BlnM=K.DC[0];o.enab.v=c.isEnabled;if(o.uglg!=null)o.uglg.v=!1;if(c.color!=null)u*=c.color.alpha;
o.Opct.v.val=Math.round(u*100)};hQ.Bg=function(c){return a.T.mv(c?{Z:c.red*255,r:c.green*255,J:c.blue*255}:{Z:0,r:0,J:0})};
hQ.Bo=function(c,o){var K=hQ,u=[{type:6},{type:8,all:0}];for(var X=0;X<c.length;X++){var $=c[X],O=$.booleanOperation,n=0,x=$._class,V=!1;
if(x=="group"||x=="text"||x=="symbolInstance"||x=="slice"){console.log(x+" inside ShapeGroup");continue}if(O==-1)n=0;
else if(O==0)n=1;else if(O==1)n=2;else if(O==2)n=3;else if(O==3)n=0;if(X==0)n=1;var l=hQ.QJ($.frame),N=K.aey($,o),f=$.path?$.path:$,z=[{type:0,length:0,cS:n,fl:2,tr:0,op:0}],R=f.points;
for(var Y=0;Y<R.length;Y++){var d=R[Y],e=K.LM(d.curveTo),p=K.LM(d.point),h=K.LM(d.curveFrom);V=V||d.hasCurveFrom&&!h.Ug(p)||d.hasCurveTo&&!e.Ug(p)}var E=[];
if(!V){var q=[],cv=R.length;if(cv==0)continue;for(var Y=0;Y<cv;Y++){E[Y]=R[Y].cornerRadius;var d=K.LM(R[Y].point);
q.push(d.x,d.y)}N.scale(1/l.m,1/l.e);N.fH();a.A.i(q,N,q);z=a.o.YP.p2(q,E).slice(2);z[0].cS=n}else{var Z=R.length;
z[0].length=Z;for(var Y=0;Y<Z;Y++){var d=R[Y],v=d.curveMode,W=K.LM(d.point);z[1+Y]={type:v==2||v==4?1:2,mL:d.hasCurveTo?K.LM(d.curveTo):W.clone(),L:W,oC:d.hasCurveFrom?K.LM(d.curveFrom):W.clone()}}N.scale(1/l.m,1/l.e);
N.fH();a.o.Ik(z,N);var E=[];for(var Y=0;Y<Z;Y++){var d=R[Y],v=d.curveMode,D=d.cornerRadius;if(v==1&&D!=0)E.push(D);
else E.push(0)}}if(!f.isClosed)for(var Y=0;Y<z.length;Y++)z[Y].type+=3;u=u.concat(z);var I=K.CH($);if(N.J==0&&N.If==0){var A=N.hW,U=N.qj,w=A+N.V,t=U+N.gI,L=[A,U,w,t]}}return u};
hQ.aey=function(c,o){var K=o.clone(),u=c.frame?hQ.QJ(c.frame):null;if(u)K.translate(-u.x-u.m/2,-u.y-u.e/2);
if(c.isFlippedHorizontal)K.scale(-1,1);if(c.isFlippedVertical)K.scale(1,-1);K.rotate(-c.rotation*(Math.PI/180));
if(u)K.translate(u.m/2,u.e/2);return K};hQ.LM=function(c){c=c.slice(1,c.length-1).split(",");return new kn(parseFloat(c[0]),parseFloat(c[1]))};
hQ.QJ=function(c){return new ez(c.x,c.y,c.width,c.height)};hQ.anR=function(c){return{_class:"rect",constrainProportions:!1,x:c.x,y:c.y,width:c.m,height:c.e}};
function jr(){}jr.Sr=function(c,o){var K=Date.now(),u=jr,X=UZIP.parse(c),$=JSON.parse(_.AF(X.manifest)),O=JSON.parse(_.AF(X["resources/graphics/graphicContent.agc"])).resources,n=[],x=[],l=$.children;
for(var Y=0;Y<l.length;Y++){var N=l[Y];if(N.name=="artwork"){var f=N.children;for(var z=0;z<f.length;
z++){var R=f[z],V=JSON.parse(_.AF(X["artwork/"+R.path+"/graphics/graphicContent.agc"])),d=V.children;
if(d.length==0){}else if(d.length==1){if(R["uxdesign#bounds"]){R._node=d[0];n.push(R)}}else{var e=d[0],p=e.transform,h=e.shape;
if(h==null)h={x:0,y:0,width:1e3,height:1e3};if(h.type=="path"){var E=a.A.P3(Typr.U.SVGToPath(h.path).crds);
h={x:E.x,y:E.y,width:E.m,height:E.e}}h=JSON.parse(JSON.stringify(h));if(p){h.x+=p.tx;h.y+=p.ty}R["uxdesign#bounds"]=h;
R._node={type:"artboard",artboard:{children:d}};x.push(R)}}}}if(n.length==0)n=x;var q=[],Z=new ez;for(var Y=0;
Y<n.length;Y++){var R=n[Y],v=hQ.QJ(R["uxdesign#bounds"]);q.push(v);Z=Z.X3(v)}var W=hQ.mX(Z,8192*8192);
o._K=!0;o.m=Math.round(Z.m/W);o.e=Math.round(Z.e/W);o.buffer=a.R(o.m*o.e*4);o.xl(n.length);var D=new bE(W,0,0,W,Z.x,Z.y);
o.hJ={};for(var Y=0;Y<n.length;Y++){var R=n[Y],v=hQ.QJ(R["uxdesign#bounds"]),I=R._node,A=D.clone(),U=v.clone(),w=A.ea();
A.translate(-v.x,-v.y);U.x=-Math.floor(A.hW/w);U.y=-Math.floor(A.qj/w);U.m=Math.floor(U.m/w);U.e=Math.floor(U.e/w);
A.translate(v.x,v.y);jr.Wq(I,o,A,O,X,U);var t=o.s[o.s.length-1];t.XK(R.name);t.oW(U);if(Y!=n.length-1)t.add.lsct=aj.Qw}delete o.hJ};
jr.nj=function(c){if(c==null)return new bE;return new bE(c.a,c.b,c.c,c.d,c.tx,c.ty)};jr.Wq=function(c,o,K,u,X,$){var O=jr,n=c.type,x=c[n],l=c.style,N=O.nj(c.transform),V,d="none",e,p="none",h,E;
N.fH();var f=K.clone();f.concat(N);var z=o.uB(),R=c.name;z.XK(R?R.slice(0,250):"Layer");if(c.visible!=null)z.OG(c.visible);
if(l){V=l.stroke;d=V?V.type:"none";e=l.fill;p=e?e.type:"none";if(e&&Object.keys(e).length==1)p="none";
h=l.filters;E=l.clipPath;if(E&&u.clipPaths[E.ref])E=u.clipPaths[E.ref].children;else E=null;if(l.opacity!=null)z.opacity=Math.round(255*l.opacity);
if(p=="solid"&&e.color.alpha)z.opacity=Math.round(z.opacity*e.color.alpha);if(h){z.add.lmfx=O.al_(h);
for(var Y=0;Y<h.length;Y++)if(h[Y].type=="uxdesign#blur"){var q=h[Y],Z=q.params,v=Z.brightnessAmount;
if(v==null)v=0;v=Math.abs(v/100);if((q.visible==null||q.visible==!0)&&Z.backgroundEffect)z.opacity=Math.round(z.opacity*(v+(1-v)*Z.fillOpacity))}}if(p=="pattern"&&e.pattern.meta.ux.uid=="")p="none"}if(E==null&&c.meta&&c.meta.ux&&c.meta.ux.clipPathResources)E=c.meta.ux.clipPathResources.children;
if(n=="artboard"||n=="group"){if(E){var W=E[0],D=W.shape,I=D!=null&&D.type=="rect"&&D.width*D.height>4e6;
if(W.type!="text"&&!I){if(D){var N=O.nj(W.transform);N.fH();var A=f.clone();A.concat(N);z.add.vmsk=new gU.JA;
z.add.vmsk.$=O.Bo(D);A=A.clone();A.fH();a.o.Ik(z.add.vmsk.$,A);z.$h();z.Dm(o)}}else if(!I)alert("Clipping by text has been ignored")}z.add.lsct=aj.cD;
z.Mh="pass";z.Ha=24;if(c.visible!=null)z.OG(c.visible);o.s.push(o.FL());var U=x.children,w=e;if(w)w=w.color;
if(w)w=w.value;if(e){if(n=="artboard"&&p=="solid"){z.oW(new ez(0,0,10,10));z.add.artb.Clr={t:"Objc",v:a.T.mv({Z:w.r,r:w.g,J:w.b})};
z.add.artb.artboardBackgroundType={t:"long",v:4}}else{var t=o.uB();t.XK("BACKGROUND");t.Ha|=16;t.add.vstk=gH.e_.ib();
t.add.vmsk=new gU.JA;t.add.vmsk.$=O.Bo({type:"rect",x:$.x,y:$.y,width:$.m,height:$.e});O.cX(e,p,f,$,$,t,o,u,X);
t.$h();t.Dm(o);o.s.push(t)}}for(var Y=0;Y<U.length;Y++){jr.Wq(U[Y],o,f,u,X,$)}}else if(n=="shape"&&(x.type=="rect"&&(x.r==null||x.r==0)||x.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(x.path)))&&p=="pattern"&&(Math.abs(x.width/x.height-e.pattern.width/e.pattern.height)<.01||l.fill.pattern.meta.ux.scaleBehavior=="fill")){var L=e.pattern,J=L.meta.ux,b=J.uid,F=X["resources/"+b];
if(F==null){console.log(L);return}var B=o.ra(F,z.getName(),0,0);B.Ha=z.Ha;B.opacity=z.opacity;z=B;var k=a.o.$$(O.Bo(x),null),i=a.A.W6(new ez(0,0,L.width,L.height)).j,H=new bE;
H.scale(L.width/k.m,L.height/k.e);if(J.offsetX)H.translate(-J.offsetX*L.width,0);if(J.offsetY)H.translate(0,-J.offsetY*L.height);
f.concat(H);f.fH();a.A.i(i,f,i);z.add.SoLd.Trnf=r.W.yf(i);z.add.SoLd.nonAffineTransform=r.W.yf(i);z.oP(o,!1)}else if(n=="shape"){z.Ha|=16;
z.add.vstk=gH.e_.ib();z.add.vmsk=new gU.JA;z.add.vmsk.$=O.Bo(x);var k=a.o.$$(z.add.vmsk.$,null),A=f.clone();
A.fH();a.o.Ik(z.add.vmsk.$,A);var m=a.o.$$(z.add.vmsk.$,null);if(d=="none"){}else{var j=V.color.value,Q,G;
Q="SoFi";var g=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);G={t:"Objc",v:g};G.v.Clr.v=a.T.mv({Z:j.r,r:j.g,J:j.b});
var P=V.align,M=V.cap;if(P==null)P="center";var T=z.add.vstk;T.strokeEnabled.v=!0;T.strokeStyleLineWidth.v.val=V.width;
if(P)T.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gH.e_.R8[["inside","center","outside"].indexOf(P)];
if(M)T.strokeStyleLineCapType.v.strokeStyleLineCapType=gH.e_.wW[["butt","round","square"].indexOf(M)];
var C=["SoFi","GrFl","patternFill"].indexOf(Q),gf=[gH.wV,gH.Ty,gH.ne][C];T.strokeStyleContent.v={classID:gH.e_.jD[0]};
var s=T.strokeStyleContent.v={classID:gH.e_.jD[C]};for(var Y=0;Y<gf.length;Y++)s[gf[Y]]=G.v[gf[Y]]}if(h)for(var Y=0;
Y<h.length;Y++)if(h[Y].type=="uxdesign#blur"&&h[Y].visible){var b3=h[Y];z.add.vmsk.ej=b3.params.blurAmount}O.cX(e,p,f,k,m,z,o,u,X);
z.$h();z.Dm(o)}else if(n=="text"&&c.text){var d5=c.text,gh=d5.frame,jt=l.font,fl=l.textAttributes,N=f.clone(),jn=0;
N.fH();z.add.lnsr="rend";z.add.TySh=ii.eS(0,0);z.add.TySh.FD=new ez(0,0,100,100);z.add.TySh.i=N;var eq=z.add.TySh.Bz,c7=d5.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
ii.FO(eq,0,c7);if(c7!=""){var k8=ii.Ij(eq,0,1),hs=jt.postscriptName;if(hs==null)hs=jt.family;ii.CQ(k8,hs);
k8.W$.FontSize=Math.round(jt.size);if(p=="solid"){var j=e.color.value;k8.W$.FillColor={Type:1,Values:[1,j.r/255,j.g/255,j.b/255]}}if(fl){if(fl.paragraphAlign)k8.Xi.Justification=["left","right","center"].indexOf(fl.paragraphAlign);
if(fl.letterSpacing)k8.W$.Tracking=Math.round(fl.letterSpacing);if(fl.lineHeight){k8.W$.AutoLeading=!1;
k8.W$.Leading=Math.round(fl.lineHeight)}}ii.r2(eq,0,c7.length,k8)}var cq=c.meta.ux.rangedStyles;if(cq)for(var Y=0;
Y<cq.length;Y++){var x=cq[Y],hk=Math.min(x.length,c7.length-jn);if(Y==cq.length-1)hk=c7.length-jn;var k8=ii.Ij(eq,jn,jn+hk),hs=x.postscriptName;
if(hs==null)hs=x.family;if(hs!=null)ii.CQ(k8,hs);var ds=x.textScript,gP=x.underline,ay=x.fontSize,q=x.fill,bb=x.textTransform;
if(ds&&ds!="none")k8.W$.FontBaseline=ds=="superscript"?1:2;if(gP!=null)k8.W$.Underline=gP;if(ay!=null)k8.W$.FontSize=Math.round(ay);
if(bb!=null)k8.W$.FontCaps=bb=="uppercase"?2:0;if(bb=="lowercase"){ii.Ki(eq,jn,jn+hk);ii.FO(eq,jn,c7.slice(jn,jn+hk).toLowerCase())}if(q!=null){var ap=q.value;
k8.W$.FillColor={Type:1,Values:[1,(ap>>>16&255)/255,(ap>>>8&255)/255,(ap>>>0&255)/255]}}ii.r2(eq,jn,jn+hk,k8);
jn+=hk}if(gh.type=="area"||gh.type=="autoHeight"){var gr=gh.width,fF=gh.height;ii.lG(eq,1);ii.lf(eq,[0,0,gr,fF!=null?fF:gr*2])}}else if(n=="syncRef"){var cj=c.syncSourceGuid,br=u.meta.ux.symbols,hX=O.pm(br,cj);
if(hX){var gG=f.clone();gG.concat(O.nj(hX.transform));jr.Wq(hX,o,gG,u,X,$)}return}else console.log(n,c);
o.s.push(z)};jr.pm=function(c,o){for(var Y=0;Y<c.length;Y++){var K=c[Y],u=K.group;if(K.id==o)return K;
if(u){var X=jr.pm(u.children,o);if(X)return X}}return null};jr.Bo=function(c){var o=c.type,K=[{type:6},{type:8,all:0}];
if(o=="rect"){var u=c.r,X=c.x,$=c.y,O=c.width,n=c.height;K=a.o.YP.Rect(X,$,O,n,u?u:0)}else if(o=="circle"){var u=c.r;
K=a.o.YP.AT(c.cx-u,c.cy-u,2*u,2*u)}else if(o=="ellipse"){var x=c.rx,l=c.ry;K=a.o.YP.AT(c.cx-x,c.cy-l,2*x,2*l)}else if(o=="path"||o=="compound"){var N=Typr.U.SVGToPath(c.path);
K=a.A.lR({G:N.cmds,j:N.crds},!1)}else if(o=="line"){var f=c.x1,z=c.x2,R=c.y1,V=c.y2;K=a.o.YP.p2([f,R,z,V],0,!0)}else if(o=="polygon"){var d=c.points,e=[];
for(var Y=0;Y<d.length;Y++)e.push(d[Y].x,d[Y].y);K=K.concat(a.o.YP.p2(e,0,!1).slice(2))}else console.log(o,c);
return K};jr.al_=function(c){var o=JSON.parse(gH.default);for(var Y=0;Y<gH.order.length;Y++)o[gH.N4[Y]]={t:"VlLs",v:[]};
for(var Y=0;Y<c.length;Y++){var K=c[Y],u=K.type,X=K.params,$=K.visible;if(u=="dropShadow"){var O=gH.N4[gH.order.indexOf("DrSh")],n=JSON.parse(gH.R$[gH.order.indexOf("DrSh")]);
o[O].v.unshift({t:"Objc",v:n});var x=X.dropShadows;if(x.length!=1)throw"e";var l=x[0],N=l.color,f=N.value,z=l.dx,R=l.dy;
n.Clr.v=a.T.mv({Z:f.r,r:f.g,J:f.b});n.Opct.v.val=Math.round((N.alpha!=null?N.alpha:1)*100);n.uglg.v=!1;
n.enab.v=$!=null?$:!0;n.lagl.v.val=Math.round(180/Math.PI*Math.atan2(R,-z));n.Dstn.v.val=Math.round(Math.sqrt(z*z+R*R));
n.blur.v.val=Math.round(l.r*2.3)}}return o};jr.cX=function(c,o,K,u,X,$,O,n,x){var l=jr;$.add.vstk.fillEnabled.v=o!="none";
if(o=="none"){$.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}}}else{var N,f,z;if(o=="solid"){var R=c.color.value;
N="SoCo";f=gH.wV;var V=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);z={t:"Objc",v:V};z.v.Clr.v=a.T.mv({Z:R.r,r:R.g,J:R.b})}else if(o=="gradient"){N="GdFl";
f=gH.Ty;var V=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),d=V.Grad.v,q,Z,v;d.Intr.v=0;var e=c[o],p=e.ref?n.gradients[e.ref]:e.meta.ux.gradientResources,h=["linear","radial","angular"].indexOf(p.type),E=p.stops;
V.Type.v.GrdT=["Lnr","Rdl","Angl"][h];if(h==0){var q=new kn(e.x1,e.y1),Z=new kn(e.x2,e.y2);q.x=Z.x+.5*(q.x-Z.x);
q.y=Z.y+.5*(q.y-Z.y)}else{var q=new kn(e.cx,e.cy),Z=new kn(e.cx+e.r,e.cy)}v=X;if(e.units=="objectBoundingBox"){var W=new bE(u.m,0,0,u.e,u.x,u.y);
q=W.QB(q);Z=W.QB(Z)}var W=l.nj(e.transform);q=W.QB(q);Z=W.QB(Z);W=K.clone();W.fH();q=W.QB(q);Z=W.QB(Z);
a.T.OH(q,Z,v,V);var D=[];for(var Y=0;Y<E.length;Y++){var I=E[Y],A=I.color,R=A.value,U=A.alpha;if(U==null)U=1;
D.push([I.offset,[R.r/255,R.g/255,R.b/255],U])}a.T.Fa(D,d);z={t:"Objc",v:V}}else if(o=="pattern"){N="PtFl";
f=gH.ne;var V=JSON.parse(gH.R$[gH.order.indexOf("patternFill")]),i;z={t:"Objc",v:V};var w=c[o],t=w.meta.ux,L=t.uid,J=x["resources/"+L].buffer,b=t.flipX,F=t.flipY,B=L+b+F,k=c5.c5(J);
if(O.hJ[B])i=O.hJ[B];else{var H=new ez(0,0,w.width,w.height),m;if(H.SR()||k==null){H=new ez(0,0,1,1);
m=new ArrayBuffer(4)}else{var j=c5.nq(k);if(j.zi){var Q=new h_;j.gP(J,Q);m=Q.i9().buffer}else{try{var G=j.gP(J)[0];
m=G.data;H=G.yS}catch(ar){m=new ArrayBuffer(H.P()*4)}}}i={};i.id=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";
i.name="someImage";i.Y1=[new Uint8Array(m),H];if(b)a.D.af(i.Y1[0].slice(0),i.Y1[0],H.m,H.e);if(F)a.D.a1J(i.Y1[0].slice(0),i.Y1[0],H.m,H.e);
O.ci(i);O.hJ[B]=i}var g=K.clone();g.fH();g.translate(u.x,u.y);var P=u.m,M=u.e,T=i.Y1[1].m,C=i.Y1[1].e,gf=Math.max(P/T,M/C);
if(t.scale)gf*=t.scale;var s=new bE;s.translate(-T/2,-C/2);s.scale(1/T,1/C);if(t.offsetX!=null)s.translate(t.offsetX,t.offsetY);
s.scale(T,C);s.scale(gf,gf);s.translate(P/2,M/2);s.concat(g);bL.arm(i,V,0,0,1e3,s)}else console.log(o);
if(N!=null){$.add[N]={classID:"null"};for(var Y=0;Y<f.length;Y++){var b3=f[Y];$.add[N][b3]=z.v[b3]}}}};
var c$=function(){function c(e){return e.tagName?e.tagName.split(":").pop():null}function o(e,p,h){if(h&&h[0]==null)h=null;
e=new Uint8Array(e);var E,k=1;if(e[0]==255&&e[1]==254)E=_.NW(e,2,(e.length>>>1)-1);else E=_.AF(e,0,e.length);
var q=new DOMParser,Z=q.parseFromString(E,"image/svg+xml"),v=Z.getElementsByTagName("style")[0];if(v)v=Typr.U.SVG.cssMap(v.textContent);
else v={};var W=Z.firstChild;while(c(W)!="svg")W=W.nextSibling;var D=new ez(0,0,100,100),I=W.getAttribute("viewBox"),A=W.getAttribute("width"),U=W.getAttribute("height"),w=A!=null?parseFloat(A):parseFloat(U),t=U!=null?parseFloat(U):parseFloat(A);
if(I){var L=K(I);D.x=L[0];D.y=L[1];D.m=L[2];D.e=L[3];if(A!=null){var J=L[2]/L[3],b=w/t;if(b>J){var F=L[3]*b-D.m;
D.x-=F/2;D.m+=F}if(b<J){var B=L[2]/b-D.e;D.y-=B/2;D.e+=B}}}else if(A!=null||U!=null){D.m=w;D.e=t}D=a.A.Qt(D);
while(h&&Math.max(D.m*k,D.e*k)<Math.max(h[0],h[1]))k++;while(h==null&&Math.max(D.m,D.e)*k>8192)k*=.5;
p._K=!0;p.m=~~(D.m*k);p.e=~~(D.e*k);var i=new bE(k,0,0,k,-D.x*k,-D.y*k),H={ho:f(W),a4$:v,Vn:0};u(Z,W.children,p,i,H,new bE,0);
if(p.s.length==0){var m=p.uB();m.XK("Layer");p.s.push(m)}}function K(e){var p=" ";if(e.indexOf(",")!=-1)p=",";
return e.split(p).map(parseFloat)}function u(e,p,h,E,q,Z,v,W){var D=["display","opacity","fill-opacity","filter","clip-path"],I=0;
for(var A=0;A<p.length;A++){var U=p[A],w=c(U),t=U.getAttribute("id"),b=13,H=1,Q="clip-path",G=null,d5=0;
if(t==null)t=U.getAttribute("data-name");var L=f(U,q.a4$);for(var J in q.ho)if(D.indexOf(J)==-1&&L[J]==null)L[J]=q.ho[J];
if(L["font-size"])b=O(L["font-size"],b);if(U.getAttribute("dx"))E.hW+=O(U.getAttribute("dx"),b);if(U.getAttribute("dy"))E.qj+=O(U.getAttribute("dy"),b);
var F=x(U);F.concat(E);var B=U.getAttribute("visibility"),k=L.display,i=h.uB();if(B=="hidden"||k=="none")i.OG(!1);
i.XK(t!=null?t.split(":::")[0]:"Layer");if(L.opacity)H*=parseFloat(L.opacity);if(L["fill-opacity"]){var m=parseFloat(L["fill-opacity"]);
if(m!=0)H*=m}i.opacity=Math.round(255*H);if(L["mix-blend-mode"]){var j=ef.GI.indexOf(L["mix-blend-mode"]);
if(j!=-1)i.Mh=ef.oj[j]}if(U.getAttribute(Q)==null)Q="mask";if(U.getAttribute(Q)!=null||L["clip-path"]){var g=U.getAttribute(Q);
if(g==null)g=L["clip-path"];g=g.slice(4,g.length-1);var P=e.getElementById(g.slice(1));if(P){var M=P.children;
G=h.uB();G.XK("Clip-Path"+(t?": "+t:""));G.add.lsct=v<2?aj.cD:aj.Qw;G.Mh="pass";G.Ha=24;var T=G.add.vmsk=new gU.JA;
h.s.push(h.FL());var C=[];if(P.getAttribute(Q)){var g=P.getAttribute(Q);g=g.slice(4,g.length-1);C=e.getElementById(g.slice(1)).children}for(var Y=0;
Y<M.length;Y++){var gf=x(M[Y]);gf.concat(F);var s=$(h,e,M[Y],!1).slice(2);a.o.Ik(s,gf);T.$=T.$.concat(s)}for(var Y=0;
Y<C.length;Y++){var gf=x(M[Y]);gf.concat(F);var s=$(h,e,C[Y],!1).slice(2);for(var b3=0;b3<s.length;b3++)if(s[Y].cS!=null)s[Y].cS=3;
a.o.Ik(s,gf);T.$=T.$.concat(s)}for(var Y=0;Y<T.$.length;Y++)if(T.$[Y].cS!=null)T.$[Y].cS=0;G.$h();G.Dm();
v++}}if(L.filter&&L.filter!="none"){var gh=L.filter,fl,eq,c7,hs=!1,cq=!1,jn=!1;gh=gh.slice(5,gh.length-1);
var jt=e.getElementById(gh),k8=[0,0,0,.5],an=F.ea();if(jt)for(var Y=0;Y<jt.children.length;Y++){var hk=jt.children[Y],ds=c(hk);
if(ds=="feGaussianBlur"){hs=!0;fl=parseFloat(hk.getAttribute("stdDeviation"))*an}if(ds=="feColorMatrix"){var gT=hk.getAttribute("values");
if(gT){gT=gT.split(" ").map(parseFloat);k8=[gT[4],gT[9],gT[14],gT[18]]}}if(ds=="feComposite"){jn=!0}if(ds=="feOffset"){cq=!0;
var gP=hk.getAttribute("dx"),ky=hk.getAttribute("dy");eq=parseFloat(gP?gP:0)*an;c7=parseFloat(ky?ky:0)*an}}if(hs&&(jn||cq)){var ay=jn?"IrSh":"DrSh";
if(ay=="IrSh"){i.add.iOpa=0}var bb=JSON.parse(gH.R$[gH.order.indexOf(ay)]);bb.blur.v.val=Math.round(fl*2.4);
var ap=Math.sqrt(eq*eq+c7*c7);bb.uglg.v=!1;bb.Dstn.v.val=Math.round(ap);bb.lagl.v.val=Math.round(Math.atan2(c7,-eq)*(180/Math.PI));
bb.Clr.v=a.T.mv({Z:k8[0]*255,r:k8[1]*255,J:k8[2]*255});bb.Opct.v.val=Math.round(k8[3]*100);X(i,gH.N4[gH.order.indexOf(ay)],bb)}else if(hs)d5=fl}if(w=="g"||w=="a"||w=="svg"||w=="switch"||(w=="text"||w=="textPath")&&U.children.length>0||w=="symbol"&&W){if(w=="text")Z=l(U,Z);
var cR=U.getAttribute("viewBox"),c8=U.getAttribute("width"),gr=U.getAttribute("height");if(cR&&c8&&gr){var fF=K(cR),cj=l(U),br=new bE;
br.translate(-fF[0],-fF[1]);br.scale(parseFloat(c8)/fF[2],parseFloat(gr)/fF[3]);br.translate(cj.hW,cj.qj);
br.concat(F);F=br}var hX=U.children.length,gG=q.ho;q.ho=L;var jx=q.Vn;q.Vn=Math.max(q.Vn,d5);var cr=w!="text"&&w!="textPath"||hX>1;
if(cr){var a8=i.IT();i.add.lsct=v<2&&a8&&(t==null||!t.endsWith(":::"))?aj.cD:aj.Qw;i.Mh="pass";i.Ha=24;
i.OG(a8);h.s.push(h.FL())}u(e,U.children,h,F,q,Z,v+1);if(cr)h.s.push(i);else{var f8=h.s[h.s.length-1];
f8.opacity=i.opacity;f8.Mh=i.Mh}q.Vn=jx;q.ho=gG}else if(w=="use"){var br=l(U);br.concat(F);var dW=R(U),g7=e.getElementById(dW.slice(1));
if(g7){var gG=q.ho;q.ho=L;if(L.filter)g7.setAttribute("filter",L.filter);u(e,[g7],h,br,q,Z,v+1,!0);q.ho=gG}}else if(w=="path"||w=="rect"||w=="circle"||w=="ellipse"||w=="polygon"||w=="polyline"||w=="line"){i.Ha|=16;
var T=i.add.vmsk=new gU.JA,eU=L.fill,f7=eU=="none"||L["fill-opacity"]&&parseFloat(L["fill-opacity"])==0;
T.$=$(h,e,U,L["fill-rule"]=="evenodd",f7);a.o.Ik(T.$,F);var d7=a.o.$$(T.$),aW=L.stroke,cy=L["stroke-width"],dh=L["stroke-dasharray"],fh=L["stroke-linejoin"];
if(fh==null)fh="miter";var dP=L["stroke-linecap"];if(dP==null)dP="butt";var fg=L["paint-order"],bo=!(aW==null||aW=="none"||aW=="null"),jK=i.add.vstk=gH.e_.ib(null,bo);
if(bo){var jQ=n(e,aW,F,d7,h),aZ=["SoFi","GrFl","patternFill"].indexOf(jQ.type),eo=jQ.b.v.Opct.v,dy=1;
if(eo.val!=100){i.opacity=Math.round(i.opacity*eo.val/100);eo.val=100}var dC=[gH.wV,gH.Ty,gH.ne][aZ],hG=jK.strokeStyleContent.v={classID:gH.e_.jD[aZ]};
for(var Y=0;Y<dC.length;Y++)hG[dC[Y]]=jQ.b.v[dC[Y]];cy=cy?parseFloat(cy):1;if(fg&&fg.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){dy=2;
cy/=2}var fw={ljoin:["miter","round","bevel"].indexOf(fh),lcap:["butt","round","square"].indexOf(dP),lwidth:cy};
if(dh!=null&&dh!="none")fw.dash=dh.split(",").map(parseFloat);gH.e_.write(jK,fw,F.ea());jK.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gH.e_.R8[dy];
jK.strokeStyleOpacity.v.val=100*(L["stroke-opacity"]?parseFloat(L["stroke-opacity"]):1)}i.add.vstk.fillEnabled.v=!f7;
if(f7){i.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}}}else{var jQ=n(e,eU,F,d7,h),dM=null,aX=null;
if(jQ.type=="SoFi"){dM="SoCo";aX=gH.wV}if(jQ.type=="GrFl"){dM="GdFl";aX=gH.Ty}if(jQ.type=="patternFill"){dM="PtFl";
aX=gH.ne}if(dM!=null){var eo=jQ.b.v.Opct.v;if(eo.val!=100){i.opacity=Math.round(i.opacity*eo.val/100);
eo.val=100}i.add[dM]={classID:"null"};for(var Y=0;Y<aX.length;Y++){var J=aX[Y];i.add[dM][J]=jQ.b.v[J]}}}var fy=Math.max(d5,q.Vn);
if(fy!=0)i.add.vmsk.ej=fy;i.$h();i.Dm(h);h.s.push(i)}else if((w=="text"||w=="tspan")&&U.textContent!=""){Z=l(U,Z);
var br=Z.clone(),c7=0;br.concat(F);br.translate(I,0);if(U.children.length>0){var gp=f(U.children[0],q.a4$);
for(var J in gp)if(D.indexOf(J)==-1)L[J]=gp[J]}var aU=L["xml:space"],e7=U.textContent;if(aU=="preserve")e7=e7.replace(/\t/g," ").replace(/\n/g," ");
if(t==null)i.XK(e7);i.add.lnsr="rend";i.add.TySh=ii.eS(0,0);i.add.TySh.FD=new ez(0,0,100,100);i.add.TySh.i=br.clone();
var eV=i.add.TySh.Bz;ii.FO(eV,0,e7);if(w=="tspan")I+=b*e7.length*.5*br.ea();var eU=L.fill,b8=L["font-weight"],h$=L["font-family"],jZ=L["text-decoration"],aW=L.stroke,cy=L["stroke-width"],bu=L["dominant-baseline"];
if(bu=="text-before-edge")c7=b;else if(bu=="middle")c7=b/2;else if(bu=="hanging")c7=b;if(c7!=0)i.add.TySh.i.translate(0,c7);
var dL=ii.Ij(eV,0,1);if(eU&&eU!="none"){var k8=CSS.Bg(eU);dL.W$.FillColor={Type:1,Values:[1,k8.Z/255,k8.r/255,k8.J/255]}}if(jZ=="underline")dL.W$.Underline=!0;
dL.W$.FontSize=Math.round(b);ii.CQ(dL,"LiberationSans");if(b8=="bold")ii.CQ(dL,"LiberationSans-Bold");
if(h$){h$=h$.split(",")[0].trim();if(h$[0]=="\"")h$=h$.slice(1);if(h$[h$.length-1]=="\"")h$=h$.slice(0,h$.length-1);
var iv=h$+":"+(b8?b8:"normal"),k5={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(k5[iv])ii.CQ(dL,k5[iv]);else ii.CQ(dL,h$)}if(L["text-anchor"])dL.Xi.Justification=["start","end","middle"].indexOf(L["text-anchor"]);
ii.r2(eV,0,e7.length,dL);if(aW==null||aW=="none"){}else{var bb=JSON.parse(gH.R$[gH.order.indexOf("FrFX")]);
bb.Clr.v=a.T.mv(CSS.Bg(aW));bb.Sz.v.val=Math.round(parseFloat(cy)*br.ea());X(i,"frameFXMulti",bb)}h.s.push(i)}else if(w=="image"){var dW=R(U);
if(dW&&dW.slice(0,4)=="data"){var ir=c5._T(dW),cu=ir,az=h.ra(cu,i.getName(),0,0);az.Ha=i.Ha;i=az;var jj=i.rect.clone();
jj.x=jj.y=0;var hM=U.getAttribute("width"),je=U.getAttribute("height");if(hM)jj.m=parseFloat(hM);if(je)jj.e=parseFloat(je);
var bP=l(U);bP.concat(F);var bD=a.A.W6(jj).j;a.A.i(bD,bP,bD);i.add.SoLd.Trnf=r.W.yf(bD);i.add.SoLd.nonAffineTransform=r.W.yf(bD);
i.oP(h,!1);h.s.push(i)}}else console.log("unknown tag: "+w,U.children.length,U.textContent.length);if(G!=null){h.s.push(G);
v--}}}function X(e,p,h){var E=e.add.lmfx;if(E==null){var E=e.add.lmfx=JSON.parse(gH.default);for(var Y=0;
Y<gH.order.length;Y++)E[gH.N4[Y]]={t:"VlLs",v:[]}}E[p].v.push({t:"Objc",v:h})}function $(e,p,h,E,q){var Z=[{type:6},{type:8,all:0}],v=c(h);
if(v=="use"){var W=R(h),D=p.getElementById(W.slice(1)),I=new bE;if(c(D)!="rect")I=l(D);I.concat(x(D));
Z=$(e,p,D,E,q);a.o.Ik(Z,I)}else if(v=="path"){var A=h.getAttribute("d");if(A==null)return Z;var U=Typr.U.SVGToPath(A);
Z=a.A.lR({j:U.crds,G:U.cmds},E,q)}else if(v=="rect"){var w=h.getAttribute("rx"),t=new kn(0,0);V("x",h,e,t,!0);
V("y",h,e,t,!1);var L=new kn(0,0);V("width",h,e,L,!0);V("height",h,e,L,!1);Z=a.o.YP.Rect(t.x,t.y,L.x,L.y,w?parseFloat(w):0)}else if(v=="circle"||v=="ellipse"){var J=[0,0,0,0],b=["cx","cy","rx","ry","r"];
for(var Y=0;Y<5;Y++){var F=h.getAttribute(b[Y]);if(F){F=parseFloat(F);if(Y<4)J[Y]=F;else J[2]=J[3]=F}}Z=a.o.YP.AT(J[0]-J[2],J[1]-J[3],2*J[2],2*J[3])}else if(v=="polygon"||v=="polyline"||v=="line"){var B;
if(v=="line")B=[h.getAttribute("x1"),h.getAttribute("y1"),h.getAttribute("x2"),h.getAttribute("y2")].map(parseFloat);
else B=h.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
Z=a.o.YP.p2(B,0,v!="polygon")}return Z}function O(e,p){if(e.charAt(e.length-1)=="m")return p*parseFloat(e.slice(0,e.length-2));
else return parseFloat(e)}function n(e,p,h,E,q){var Z,v,W=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]),D=p!=null?p.indexOf("("):-1;
if(D!=-1){var I=p.indexOf(")"),A=p.slice(0,D).trim(),U=p.slice(D+1,I).trim();if(U.charAt(0)=="'")U=U.slice(1,U.length-1);
if(A=="url"){if(U.charAt(0)=="#"){var w=e.getElementById(U.slice(1));if(w&&c(w).toLowerCase().endsWith("gradient")){var t=d(e,w,h,E);
Z="GrFl";v={t:"Objc",v:t}}else if(w&&c(w).toLowerCase()=="pattern"&&w.children[0]&&c(w.children[0])=="use"){Z="SoFi";
v={t:"Objc",v:W};var L=w.children[0],J=x(L),b=R(L),F=e.getElementById(b.slice(1)),B=c5._T(R(F)).buffer,k=c5.nq(c5.c5(B)),i=k.gP(B)[0],H={};
H.id=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";H.name="someImage";H.Y1=[new Uint8Array(i.data),i.yS];q.ci(H);
var W=JSON.parse(gH.R$[gH.order.indexOf("patternFill")]);W.Scl.v.val=Math.round(100*E.m*J.V);var m=W.phase.v;
m.Hrzn.v=Math.round(E.x+J.hW*E.m);m.Vrtc.v=Math.round(E.y+J.qj*E.e);W.Ptrn.v.Idnt.v=H.id;Z="patternFill";
v={t:"Objc",v:W}}else{Z="SoFi";v={t:"Objc",v:W}}}else console.log("unknown url",U)}else if(A=="rgb"||A=="rgba"){Z="SoFi";
v={t:"Objc",v:W};v.v.Clr.v=a.T.mv(CSS.Bg(p));if(A=="rgba")v.v.Opct.v.val=Math.round(100*parseFloat(p.split(",").pop()))}else console.log("unknown fill",p)}else{Z="SoFi";
v={t:"Objc",v:W};var j=CSS.Bg(p);v.v.Clr.v=a.T.mv(j);if(j.V!=null)v.v.Opct.v.val=Math.round(100*j.V/255)}return{type:Z,b:v}}function x(e){var p=new bE,h=e.getAttribute("transform");
if(h)p=N(h);var E=e.getAttribute("style");if(E!=null){var q={};z(q,E,["transform"]);E=q.transform;if(E)p.concat(N(E))}return p}function l(e,p){var h=new bE,E=e.getAttribute("x"),q=e.getAttribute("y");
if(E)h.hW=parseFloat(E);else if(p)h.hW=p.hW;if(q)h.qj=parseFloat(q);else if(p)h.qj=p.qj;return h}function N(e){var p=Typr.U.SVG.readTrnf(e);
return new bE(p[0],p[1],p[2],p[3],p[4],p[5])}function f(e,p){var h={},E="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var Y=0;Y<E.length;Y++){var q=e.getAttribute(E[Y]);if(q!=null&&q!="inherit")h[E[Y]]=q}var Z=e.getAttribute("class");
if(p!=null&&Z!=null&&p["."+Z]!=null)z(h,p["."+Z],E);var v=e.getAttribute("id");if(p!=null&&v!=null&&p["#"+v]!=null)z(h,p["#"+v],E);
var W=e.getAttribute("style");if(W!=null)z(h,W,E);return h}function z(e,p,h){p=p.trim().split(";");for(var Y=0;
Y<p.length;Y++){var E=p[Y].split(":"),q=E[0]?E[0].trim():"",Z=E[1]?E[1].trim():"";for(var v=0;v<h.length;
v++)if(q==h[v]&&Z!="inherit")e[h[v]]=Z}}function R(e){var p=e.getAttribute("xlink:href");if(p==null)p=e.getAttribute("href");
if(p==null)p=e.getAttribute("xl:href");return p}function V(e,p,h,E,q){var Z=p.getAttribute(e);if(Z==null)return;
var v=parseFloat(Z);if(Z.endsWith("%"))v*=(q?h.m:h.e)/100;if(q)E.x=v;else E.y=v}function d(e,p,h,E){var q=V,Z=new bE,v=p.getAttribute("gradientTransform"),t=!1;
if(v)Z=N(v);Z.concat(h);var W=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),D=W.Grad.v;D.Intr.v=0;var I=c(p),A=new kn(0,0),U=new kn(E.m,0);
if(I=="linearGradient"){W.Type.v.GrdT="Lnr";var w=new ez(0,0,1,1);q("x1",p,w,A,!0);q("y1",p,w,A,!1);
q("x2",p,w,U,!0);q("y2",p,w,U,!1);A.x=U.x+.5*(A.x-U.x);A.y=U.y+.5*(A.y-U.y)}if(I=="radialGradient"){W.Type.v.GrdT="Rdl";
if(p.getAttribute("cx"))A.x=parseFloat(p.getAttribute("cx"));if(p.getAttribute("cy"))A.y=parseFloat(p.getAttribute("cy"));
U.Q7(A.x,A.y);if(p.getAttribute("r"))U.x+=parseFloat(p.getAttribute("r"))}var L=p;while(!0){if(L.getAttribute("gradientUnits")=="userSpaceOnUse")t=!0;
var J=R(L);if(J==null)break;L=e.getElementById(J.slice(1))}if(t){A=Z.QB(A);U=Z.QB(U)}else{A.x=E.x+A.x*E.m;
A.y=E.y+A.y*E.e;U.x=E.x+U.x*E.m;U.y=E.y+U.y*E.e}a.T.OH(A,U,E,W);var b=p.children;if(b.length==0){var F=R(p);
if(F==null)throw"gradient has no stops";var B=e.getElementById(F.slice(1));if(B==null){console.log(F.slice(1))}else{var k=d(e,B,Z,E);
W.Grad=k.Grad}}else{var i=[];for(var Y=0;Y<b.length;Y++){var H=b[Y],m=f(H),j=m["stop-color"],Q=m["stop-opacity"],G=H.getAttribute("offset");
if(j==null)j="#000000";Q=Q==null?1:parseFloat(Q);var g=G?parseFloat(G):0;if(G&&G.endsWith("%"))g/=100;
j=CSS.Bg(j);if(j.V!=null)Q*=j.V/255;i.push([g,[j.Z/255,j.r/255,j.J/255],parseFloat(Q)])}a.T.Fa(i,D)}return W}return{Sr:o}}();
c$.jH=function(){var c=null,o=null,K="",u="",X;function $(D,I,A,U){var w=[],b=" { ",F=" } ",B=!1;o=I;
u=I.MM?"":"\t";K=I.MM?"":" ";var t=I.alV,L=I.ajc;X=new ez(0,0,D.m,D.e);if(U!=null){X=D.root.children[U].l.rA();
t=X.m;L=X.e}w.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[X.x,X.y,X.m,X.e].join(" ")+"\" width=\""+t+"\" height=\""+L+"\">");
if(!I.MM)w.push(O(1)+"<title>"+E(D.name.split(".")[0])+"</title>");var J={zp:[],fE:[],Q6:0,$e:0,W9:0,eW:{},Km:{},E$:0,iA:{},a8V:{},_l:0,ru:[]};
d(D,J,D.root.children,1,I,A,U);if(J.zp.length!=0){w.push(O(1)+"<defs>");w=w.concat(J.zp);w.push(O(1)+"</defs>")}w.push(O(1)+"<style>");
if(I.MM){b="{";F="}"}for(var Y=0;Y<D.s.length;Y++)if(D.s[Y].add.TySh)B=!0;if(B&&!I.acI&&!I.a6a)w.push(O(2)+"tspan"+b+"white-space:pre"+F);
for(var k in J.iA)w.push(O(2)+"."+k+b+J.iA[k]+F);w.push(O(1)+"</style>");w=w.concat(J.fE);w.push("</svg>");
w=w.join(I.MM?"":"\n");return _.qK(w)}function O(cv){var D="";for(var Y=0;Y<cv;Y++)D+=u;return D}function n(cv,D){if(D==null)D=1;
var I=""+parseFloat(cv.toFixed(D));if(I.startsWith("0."))I=I.slice(1);return I}function x(D,I){var A=D.add.lmfx;
if(A)A=A[I].v[0];if(A)A=A.v;if(A&&!A.enab.v)A=null;return A}function l(D,I){var A=x(D,"frameFXMulti");
if(A){var U=A.Sz.v.val;if(A.Styl.v.FStl=="OutF"){I.push("paint-order:stroke fill markers");U*=2}V(I,CSS.Jk(A.Clr.v),1);
if(U!=1)I.push("stroke-width: "+U);I.push("stroke-linejoin: round;")}}var N="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function f(D){var I=N.length,A="";for(var U=1;U<10;U++){var w=(I-10)*~~Math.pow(I,U-1);if(D<w){for(var Y=0;
Y<U;Y++){var t=Y==U-1?10:0,L=I-t,J=D%L;A=N[J+t]+A;D=Math.floor((D-J)/L)}break}D-=w}return A}function z(D,I,A,U){if(D.length!=0){if(U==null)U="s";
var w=D.join(";"),t=I.a8V[w];if(t==null){t=o.MM?f(I._l):U+I._l;I._l++;I.a8V[w]=t;I.iA[t]=w}if(A)A.push(t);
return t}}function R(D){if(o.MM&&D.length==7&&D[0]=="#"){if(D[1]==D[2]&&D[3]==D[4]&&D[5]==D[6])D="#"+D[1]+D[3]+D[5]}return D}function V(D,I,A){I=R(I);
if(I!="#000"||A==1)D.push((A==0?"fill:":"stroke:")+K+I)}function d(D,I,A,U,w,t,L){var J=!1;for(var b=0;
b<A.length;b++){var F=A[b].l,B=F.add.lsct;if(F.add.artb&&L!=null&&b!=L)continue;if(!F.xQ&&A[b+1]&&A[b+1].l.xQ&&F.NL()&&F.add.vmsk){var k=[];
Z(F,F.add.vmsk,I,k);I.fE.push(O(U)+"<g "+k[0]+">");U++;J=!0}else if(!F.xQ&&A[b-1]&&A[b-1].l.xQ&&J){U--;
I.fE.push(O(U)+"</g>");J=!1}var i=F.add.vmsk,H=F.add.vogk,m=F.add.vstk,j=F.add.TySh;if(i&&!i.isEnabled)i=m=null;
var Q=[];if(!w.hidden&&!F.IT())continue;var G=F.opacity/255,g=F.add.iOpa?F.add.iOpa/255:1;if(F.rD()){G*=g;
g=1}if(G!=1)Q.push("opacity:"+K+n(G));if(g!=1)Q.push("fill-opacity:"+K+n(g));if(F.Mh!="norm"){var P=ef.GI[ef.oj.indexOf(F.Mh)];
if(P!=null)Q.push("mix-blend-mode:"+K+P)}if(!F.IT())Q.push("display:"+K+"none");var k=[],M=[],T=F.getName(),C=T.indexOf(" .");
if(!w.MM)k.push("id=\""+E(T)+"\"");var gf=bL.dN(F.add.lmfx,F.add),s=gf[0],b3=gf[1],d5=F.add.SoLd;if(d5&&d5.filterFX){var gh=d5.filterFX.v;
if(gh.enab.v&&gh.filterFXList.v.length!=0)d5=null}if(F.rD()){var jt=A[b].children;if(!(jt.length==1&&jt[0].l.add.SoLd&&!w.$W)){if(c&&F.getName().split("-").length==3){c.push({Ek:F.getName(),ui:0,$C:[]})}Z(F,i,I,k);
if(Q.length!=0)k.push("style=\""+Q.join(";")+"\"");if(s){var fl=CSS.Jk(s.Clr.v),eq="f"+I.$e;I.$e++;I.fE.push(O(U)+"<filter id=\""+eq+"\">");
I.fE.push(O(U+1)+"<feFlood flood-color=\""+fl+"\" flood-opacity=\""+n(s.Opct.v.val/100,2)+"\" />");I.fE.push(O(U+1)+"<feBlend mode=\""+ef.GI[ef.oj.indexOf(ef.rI(s.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
I.fE.push(O(U+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");I.fE.push(O(U)+"</filter>");
k.push("filter=\"url(#"+eq+")\"")}var c7=h(k,M),k8=w.MM&&c7=="";if(!k8)I.fE.push(O(U)+"<g"+(c7==""?"":" "+c7)+">");
d(D,I,jt,U+1,w,t);if(!k8)I.fE.push(O(U)+"</g>")}}else if(F.NL()&&i==null){v(D,Q,F.add,I,X,w);if(Q.length!=0)k.push("style=\""+Q.join(";")+"\"");
I.fE.push(O(U)+"<rect width=\""+X.m+"\" height=\""+X.e+"\" "+h(k,M)+"/>")}else if(i&&d5==null){var hs=a.o.$$(i.$,null,!0),cq,jn=null,an=0,hk;
v(D,Q,F.add,I,hs,w);z(Q,I,M);if(H.length!=0){cq=H[0].v;jn=cq.keyOriginType;if(jn)jn=jn.v;if(jn==2){var ds=a.O9.UE(cq);
an=ds[0];for(var Y=0;Y<3;Y++)if(an!=ds[Y+1])jn=null}}if(H.length==1&&jn==5&&Math.abs(a.O9.atP(cq))<1e-4){var hs=a.O9.Uy(cq),gP=(hs[0]+hs[2])/2,ky=(hs[1]+hs[3])/2,ay=gP-hs[0],bb=ky-hs[1],ap=Math.abs(ay-bb)<.01,cR=ap?"r=\""+n(ay)+"\"":"rx=\""+n(ay)+"\" ry=\""+n(bb)+"\"";
hk="<"+(ap?"circle":"ellipse")+" "+h(k,M)+" cx=\""+n(gP)+"\" cy=\""+n(ky)+"\" "+cR+"/>"}else if(H.length==1&&jn==2&&an!=0&&Math.abs(a.O9.atP(cq))<1e-4){var hs=a.O9.Uy(cq),c8=hs[0],gr=hs[1],fF=hs[2]-hs[0],cj=hs[3]-hs[1],br="";
if(c8!=0)br+=" x=\""+n(c8)+"\"";if(gr!=0)br+=" y=\""+n(gr)+"\"";br+=" width=\""+n(fF)+"\"";br+=" height=\""+n(cj)+"\"";
br+=" rx=\""+n(an)+"\"";hk="<rect "+h(k,M)+br+"></rect>"}else{var hX=a.o.kt(i.$,1);if(hX.bN!=0){k.push("fill-rule=\"evenodd\"")}hk="<path "+h(k,M)+" d=\""+hX.Ad+"\"/>"}I.fE.push(O(U)+hk);
if(c&&c[c.length-1]){var gG=a.A.Uk(i.$);gG.j=gG.j.map(Math.round);var jx=c[c.length-1];jx.ui+=JSON.stringify(gG).length;
jx.$C.push([Q[0].split("#").pop(),gG])}}else if(j&&w.acI){K=w.MM?"":" ";var cr=j.Bz,a8=new ag(cr,t,j.im),f8=null;
if(s)f8=CSS.Jk(s.Clr.v);if(b3){var hs=F.rect.clone();W(b3,I,hs,w);f8="url(#g"+I.Q6+")"}if(f8)Q.push("fill:"+K+f8);
l(F,Q);var dW=hb.tL(a8,j,!0),g7=a.A.pR(dW);for(var eU in g7){var f7=Q.slice(0),d7=M.slice(0),aW=k.slice(0);
if(f8==null){V(f7,eU.slice(0,7),0);if(eU.length>7){var cy=eU.slice(7).split("-");console.log(cy);V(f7,cy[1],1);
if(cy[2]!="1")f7.push("stroke-width:"+K+cy[2])}}z(f7,I,d7);var dh=g7[eU],cy=Typr.U.pathToSVG({crds:dh.j,cmds:dh.G},1);
I.fE.push(O(U)+"<path "+h(aW,d7)+(w.MM?"":" "+p(j))+" d=\""+cy+"\"/>")}}else if(j&&!w.a6a){var cr=j.Bz,fh=j.i.clone(),f8=null;
Q.push("transform:"+K+q(fh));var dP=ii.lo(cr),a8=new ag(cr,t,j.im);l(F,Q);if(Q.length!=0)k.push("style=\""+Q.join(";")+"\"");
I.fE.push(O(U)+"<text "+h(k,M)+" >");if(s)f8=CSS.Jk(s.Clr.v);if(b3){var hs=F.rect.clone();hs.x-=fh.hW;
hs.y-=fh.qj;W(b3,I,hs,w);f8=" url(#g"+I.Q6+")"}for(var Y=0;Y<a8.Xi.length;Y++){var fg=a8.Xi[Y];if(fg.dz.length==1&&fg.dz[0].hl)continue;
for(var bo=0;bo<fg.qw.length;bo++){var jK=fg.qw[bo],ky=fg.J1.y+jK.J1.y,jQ=fg.dz[jK.start].start,aZ=fg.dz[jK.end-1].end,eo=ii.aar(cr,jQ,aZ),dC="";
for(var hG=0;hG<eo.length;hG++){var dy=a8.Vc(jQ),fw=eo[hG],dM=ii.Ij(cr,jQ,jQ),aX=dM.c9[dM.W$.Font].Name,eU=ii.h0(dM.W$.FillColor),fy=Math.round(dM.W$.FontSize),gp=dP.slice(jQ,jQ+fw);
if(dM.W$.FontCaps==2)gp=gp.toUpperCase();var aU=new bE;aU.translate(dy.aB.x,-ky);var e7=[];CSS.a8N(e7,dM,null,!0,!0,f8);
var eV=z(e7,I,null,"t");eV=eV?" class=\""+eV+"\"":"";var gP=dy.aB.x,b8=e(dM,gp);dC+="<tspan "+(hG==0?"x=\""+n(dy.aB.x)+"\"":"")+" y=\""+n(ky)+"\""+eV+b8+">"+E(gp)+"</tspan>";
jQ+=fw}I.fE.push(O(U+1)+dC)}}I.fE.push(O(U)+"</text>")}else if(d5&&w.$W&&s==null){var eq=d5.Idnt.v,h$=0,jZ=d5.Crop?d5.Crop.v:null;
if(I.Km[eq]!=null)h$=I.Km[eq];else{I.E$++;h$=I.E$;I.Km[eq]=I.E$;var bu=D.rj(eq,jZ),k5="";if(bu==null)return;
var dL=bu.Za,iv=c5.c5(bu.raw.buffer);if(iv=="pdf"){var ir=new h_("h");c5.nq("PDF").gP(bu.raw.buffer,ir);
ir.HR();ir.nN();ir.d();ir.Lx();if(d5.Crop&&d5.Crop.v==1){r.zm.H3(ir,ir.root.G5(ir,!0))}var cu=c5.nq("SVG").nC(ir,ir.m,ir.e,null,{ru:t});
k5="data:image/svg+xml;base64,"+c5.c1(cu)}else if(iv=="jpg"||iv=="png"||iv=="gif"||iv=="svg"){var az={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
k5="data:"+az[iv]+";base64,"+c5.c1(bu.raw.buffer)}else{k5=c5.Ec(dL[0].buffer,dL[1].m,dL[1].e)}I.zp.push(O(2)+"<image width=\""+dL[1].m+"\" height=\""+dL[1].e+"\" id=\"img"+h$+"\" href=\""+k5+"\"/>")}var jj=a.D.mD(d5),hM=[];
Z(F,i,I,hM);if(hM.length!=0)I.fE.push(O(U)+"<g "+h(hM,M)+">");if(Q.length!=0)k.push("style=\""+Q.join(";")+"\"");
var je=h(k,M);I.fE.push(O(U)+"<use "+je+" href=\"#img"+h$+"\" transform=\""+q(jj)+"\"/>");if(hM.length!=0)I.fE.push(O(U)+"</g>")}else if(!F.rect.SR()&&(w.$W||j)){if(Q.length!=0)k.push("style=\""+Q.join(";")+"\"");
var je=h(k,M),bP=F.buffer;if(s)bP=bL.aBd(bP,s,F.rect);var bD=F.rect;I.E$++;var k5=c5.Ec(bP.buffer,bD.m,bD.e,"png",null,!0);
I.zp.push(O(2)+"<image "+p(j)+" width=\""+F.rect.m+"\" height=\""+F.rect.e+"\" id=\"img"+I.E$+"\" href=\""+k5+"\"/>");
I.fE.push(O(U)+"<use "+je+" href=\"#img"+I.E$+"\" x=\""+bD.x+"\" y=\""+bD.y+"\"/>")}}if(J){U--;I.fE.push(O(U)+"</g>");
J=!1}}function e(D,I){var A=D.W$.Tracking,U="";if(A!=null&&A!=0){A=Math.round(A*D.W$.FontSize/1e3);U=" dx=\"0";
for(var w=1;w<I.length;w++)U+=" "+A;U+="\" "}return U}function p(D){if(D==null)return"";var I=D.Bz,A=ii.lo(I);
A=E(A.slice(0,A.length-1));return"aria-label=\""+A+"\" "}function h(D,I){if(I.length!=0)D.push("class=\""+I.join(" ")+"\"");
return D.join(" ")}function E(D){return String(D).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function q(D){var I=[D.V,D.J,D.If,D.gI,D.hW,D.qj];
for(var Y=0;Y<6;Y++)I[Y]=n(I[Y],3);return"matrix("+I.join(",")+")"}function Z(D,I,A,U){if(I||D.add.artb){var w;
if(I)w=a.o.kt(I.$).Ad;else{var t=D.rA(),L=a.A.W6(t);w=Typr.U.pathToSVG({crds:L.j,cmds:L.G},1)}A.W9++;
U.push("clip-path=\"url(#cp"+A.W9+")\"");A.zp.push(O(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+A.W9+"\">");
A.zp.push(O(3)+"<path d=\""+w+"\"/>");A.zp.push(O(2)+"</clipPath>")}}function v(D,I,A,U,w,t){var L=A.vstk,J=A.vmsk,b=A.lmfx,F=[];
if(J&&J.ej!=0){var B=n(J.ej);if(U.eW[B]==null){U.$e++;U.eW[B]=U.$e;U.zp.push(O(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+U.$e+"\"> <feGaussianBlur stdDeviation=\""+B+"\"/> </filter>")}F.push("url(#f"+U.eW[B]+")")}if(b)for(var Y=0;
Y<gH.order.length;Y++){var k=gH.order[Y],i=gH.N4[Y],H=b[i].v;for(var m=0;m<H.length;m++){var j=H[m].v,Q=j.classID;
if(!j.enab.v)continue;if(Q=="OrGl"||Q=="DrSh"){U.$e++;F.push("url(#f"+U.$e+")");var G=0,g=0,P=j.blur.v.val/2.4,M=j.Opct.v.val/100;
if(Q=="DrSh"){var T=j.uglg&&j.uglg.v?D.Iy():j.lagl.v.val;T=T*(Math.PI/180);var C=j.Dstn.v.val;G=-Math.cos(T)*C;
g=Math.sin(T)*C}if(Q=="OrGl")M/=j.Inpr.v.val/100;var gf="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+U.$e+"\" >";
gf+="<feDropShadow dx=\""+G+"\" dy=\""+g+"\" stdDeviation=\""+P+"\" flood-color=\""+CSS.Jk(j.Clr.v)+"\" flood-opacity=\""+n(M)+"\"/>";
gf+="</filter>";U.zp.push(O(2)+gf)}}}if(F.length!=0)I.push("filter:"+K+F.join(" "));var s=bL.dN(b,A),b3=s[0],d5=s[1];
if(L&&!L.fillEnabled.v)I.push("fill:"+K+"none");else if(b3){var gh=CSS.Jk(b3.Clr.v);V(I,gh,0)}else if(d5){W(d5,U,w,t);
V(I,"url(#g"+U.Q6+")",0)}if(L==null||!L.strokeEnabled.v)L=bL.$0(b);if(L&&L.strokeEnabled.v){var jt=L.strokeStyleContent.v,fl=jt.classID;
if(fl=="solidColorLayer")V(I,CSS.Jk(jt.Clr.v),1);else{W(jt,U,w,t);V(I,"url(#g"+U.Q6+")",1)}var eq=L.strokeStyleOpacity.v.val/100,c7=gH.e_.f_(L),k8=c7.lcap,hs=c7.ljoin,cq=c7.lwidth,jn=c7.sal,hk=c7.dash;
if(jn==2){cq*=2;I.push("paint-order:stroke fill markers")}if(k8!=0)I.push("stroke-linecap:"+K+["butt","round","square"][k8]);
if(hs!=0)I.push("stroke-linejoin:"+K+["miter","round","bevel"][hs]);if(eq!=1)I.push("stroke-opacity:"+K+n(eq));
if(cq!=1)I.push("stroke-width:"+K+n(cq));if(hk.length!=0)I.push("stroke-dasharray:"+K+hk.join(","))}}function W(D,I,A,U){I.Q6++;
var w=D.Grad.v,t=JSON.parse(JSON.stringify(w.Clrs.v)),L=JSON.parse(JSON.stringify(w.Trns.v)),J=D.Ofst.v,b=D.Type.v.GrdT,F=b=="Rdl"||b=="Dmnd"?1:0,B=(F==1?"radial":"linear")+"Gradient",k=a.T.NA(D,A),H="";
if(F==0){k[0].x=k[1].x+2*(k[0].x-k[1].x);k[0].y=k[1].y+2*(k[0].y-k[1].y)}var i=O(2)+"<"+B+" id=\"g"+I.Q6+"\"";
if(U.MM){if(I.Q6==1)I.zp.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");H=" href=\"#P\""}else H=" gradientUnits=\"userSpaceOnUse\"";
if(F==0)I.zp.push(i+" x1=\""+n(k[0].x)+"\" y1=\""+n(k[0].y)+"\" x2=\""+n(k[1].x)+"\" y2=\""+n(k[1].y)+"\""+H+">");
if(F==1)I.zp.push(i+" cx=\""+n(k[0].x)+"\" cy=\""+n(k[0].y)+"\" r=\""+n(kn.je(k[0],k[1]))+"\""+H+">");
var m=D.Rvrs.v,j=a.T.dZ(w,m),Q=U.MM?2:3;for(var Y=0;Y<j.length;Y++){var G=j[Y],g=G[0],P=G[1],M=G[2];
M=M==1?"":" stop-opacity=\""+n(M,Q)+"\"";var T=g==0&&U.MM?"":" offset=\""+n(g,Q)+"\"",C=CSS.DB({Z:P[0]*255,r:P[1]*255,J:P[2]*255});
C=U.MM&&C=="#000000"?"":" stop-color=\""+R(C)+"\"";I.zp.push(O(3)+"<stop"+T+C+M+"/>")}I.zp.push(O(2)+"</"+B+">")}c$.Eo=q;
return $}();c$.YP=function(c,o,K,u,X){var $=[],O=c$.YP,n=!1,x={Oc:c,s_:o,Rj:[!0,!0,!0],YB:!1,cn:K,az5:0};
x.ya=Math.round(Math.max(c,o)*(.02+O.Z1(x)*.03));x.Rc=O.acx(x);x.ww=O.aaG(x.Rc,(O.Z1(x)<.5?-1:1)*(.2+O.Z1(x)*.3));
if(O.Z1(x)<.5){var l=x.Rc;x.Rc=x.ww;x.ww=l}x.aBe=O.Z1(x)<.4&&O.ahv(x.ww,{Z:1,r:1,J:1})>.3;x.aoD=O.Z1(x)<.5?0:1;
$.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+c+" "+o+"\" width=\""+c+"\" height=\""+o+"\">");
x.Br=u[Math.floor(O.pW(x)*u.length)];x.IA=u[Math.floor(O.pW(x)*u.length)];$.push("<style>");$.push("@font-face {  font-family: "+x.Br[2]+";  src: url(rsrc/fonts/"+x.Br[5]+");  }");
$.push("@font-face {  font-family: "+x.IA[2]+";  src: url(rsrc/fonts/"+x.IA[5]+");  }");$.push("</style>");
var N=[0,0,c,o],f=N;if(X==null)$.push("<path style=\"fill: "+O.PE(x.Rc)+"\" d=\""+O.Rect(N[0],N[1],N[2]-N[0],N[3]-N[1])+"\" id=\"Background\" />");
else{x.YB=!0;O.a2j(x,N,$,X)}if(O.Z1(x)<.25&&!x.YB){x.Rj[0]=x.Rj[2]=!1;O.ajp(N,x,$);f=N}else if(O.Z1(x)<.25||x.YB)f=N;
else{var z=.52+O.Z1(x)*.2;if(O.Z1(x)<.5)z=1-z;var R=N.slice(0),V=N.slice(0);if(O.Z1(x)<.5)R[2]=V[0]=Math.round(z*c);
else R[3]=V[1]=Math.round(z*o);if(O.Z1(x)<.5){var l=R;R=V;V=l}f=R;O.aje(x,V,$,X)}O.aoS(x,f,$);$.push("</svg>");
$=$.join("\n");var d=a.R(Math.round($.length*1.5)),e=_.o5($,d,0);return[d.buffer.slice(0,e),x.lD]};c$.YP.ajp=function(c,o,K){var u=c$.YP,X=c[2]-c[0],$=c[3]-c[1];
if(u.Z1(o)<.5){K.push("<path id=\"Border\" style=\"fill: "+u.PE(o.ww)+"\" d=\""+u.asY(c[0],c[1],c[2]-c[0],c[3]-c[1],o.ya)+"\" />")}else if(u.Z1(o)<-.4){u.acy(o,c,K)}else{var O=u.Z1(o)<.5?0:1,n=(O==0?$:X)/4,x=u.xu(o,O,c,K,n,!0),x=u.xu(o,O+2,c,K,n,!0,x)}};
c$.YP.aoS=function(c,o,K){var u=c$.YP,X="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),$=2*Math.floor(u.Z1(c)*X.length/2),O=o[2]-o[0],n=o[3]-o[1],l=0,f=0;
c.rz=(c.Oc+O)*.5*(.04+u.Z1(c)*.05);c.rz=Math.min(c.rz,n*.4,O*.12);c.rz=Math.round(c.rz);var x=Math.min(c.rz*X[$].length*(.35+.3*u.Z1(c)),O*.9),N=(o[1]+o[3])/2,z=a.i3(c.Rc)<.85?{Z:1,r:1,J:1}:{Z:.1,r:.1,J:.1};
if(u.Z1(c)<.25&&c.Rj[0]){f=0;l=o[0]+c.ya}else if(u.Z1(c)<.33&&c.Rj[2]){f=2;l=o[2]-c.ya}else{f=1;l=(o[0]+o[2])/2}var R=z.Z==1?"0,0,0":"255,255,255",V=c.YB&&u.Z1(c)<1;
if(V){var d=o[0],e=O,p=N-c.rz*1.1,h=c.rz*2.2,E=.7;if(f==1&&u.Z1(c)<.5){d=p=.2*Math.min(O,n);e=O-2*p;
h=n-p-p}else if(u.Z1(c)<.7){d=p=0;e=O;h=n;E=.25}K.push("<path id=\"Strip\" style=\"fill: rgb("+R+"); opacity: "+E+"\" d=\""+u.Rect(d,p,e,h)+"\" />")}if(u.Z1(c)<.4){var q=c.rz*.07;
q*=1.5+u.Z1(c)*1;if(f==-1&&O/n<3&&!V){K.push("<path id=\"Bar-bottom\" style=\"fill: "+u.PE(z)+"\" d=\""+u.Rect(l-x/2,N+c.rz*1.1-q/2,x,q)+"\" />");
K.push("<path id=\"Bar-top\"    style=\"fill: "+u.PE(z)+"\" d=\""+u.Rect(l-x/2,N-c.rz*1.1-q/2,x,q)+"\" />")}if(f!=1){K.push("<path id=\"Bar\" style=\"fill: "+u.PE(z)+"\" d=\""+u.Rect(l-q/2,N-c.rz*.8,q,c.rz*.8*2)+"\" />");
l+=(f==0?1:-1)*c.rz/3}}var Z=c.rz*.4;K.push(u.amB(X[$+1],l,N+Z*1.6,Z,z,f,c.IA));K.push(u.amB(X[$],l,N+c.rz*.04,c.rz,z,f,c.Br))};
c$.YP.aje=function(c,o,K,u){var X=o[2]-o[0],$=o[3]-o[1],O=Math.max(X,$),n=Math.min(X,$),x=c$.YP;if(O/n<5&&!c.YB&&!1){x.a2j(c,o,K,u)}else if(x.Z1(c)<0)K.push("<path style=\"fill: "+x.PE(c.ww)+"\" d=\""+x.Rect(o[0],o[1],X,$)+"\" />");
else{var l=0;if(o[3]!=c.s_)l=0;if(o[2]!=c.Oc)l=3;if(o[0]!=0)l=1;if(o[1]!=0)l=2;var N=l+2&3;if(O/n<3){var f=x.aCB(N),z=f[Math.round(x.Z1(c)*(f.length-1))],R=z.Ek.slice(0,4),V=R.indexOf(1);
z=JSON.parse(JSON.stringify(z));var d=-1;if(R!="0000"){var e=new bE;if(z.Ek[5]=="0"){if(V==3&&l==1){d=1;
e.scale(-1,1)}else d=V}else{var p=N;while(p==N)p=Math.floor(x.Z1(c)*4)&3;e.rotate((-V+p)*Math.PI/2)}x.i(z,e)}var h=x.jl(z),E=X-2*c.ya,q=$-2*c.ya;
if(d!=-1){if((d&1)==0)q-=c.ya;else E-=c.ya}var Z=Math.min(E/h.m,q/h.e),v=new bE;v.translate(-h.x,-h.y);
v.scale(Z,Z);var W=(X-h.m*Z)/2,D=($-h.e*Z)/2;if(d!=-1){if(d==3)W=0;if(d==0)D=0;if(d==1)W=X-h.m*Z;if(d==2)D=$-h.e*Z}v.translate(o[0]+W,o[1]+D);
x.mc(c,z,v,c.ww,K)}else{x.xu(c,l,o,K,1e9)}}};c$.YP.a2j=function(c,o,K,u){var X=o[2]-o[0],$=o[3]-o[1],O=Math.max(X,$),n=Math.min(X,$),x=c$.YP,l=x.pW(c),N,f,z,R=u[0]instanceof ArrayBuffer;
if(R){N="data:image/jpg;base64,"+fn.$k(u[0]);f=u[1];z=u[2]}else{var V=Math.floor(l*u.length),d=u[V];
c.lD=d;N=d.webformatURL;f=d.webformatWidth;z=d.webformatHeight}var e=o[0],p=o[1],h=X,E=$;if(X/$>f/z){E=h*z/f;
p=p-(E-$)/2}else{h=E*f/z;e=e-(h-X)/2}if(R){K.push("<defs>");K.push("<image width=\""+f+"\" height=\""+z+"\" id=\"Background\" href=\""+N+"\" />");
K.push("</defs>");var q=h/f;K.push("<use href=\"#Background\" transform=\""+c$.Eo(new bE(q,0,0,q,e,p))+"\" />")}else{var Z="cp"+Math.random();
K.push("<clipPath id=\""+Z+"\">");K.push("<path style=\"fill: "+x.PE(c.ww)+"\" d=\""+x.Rect(o[0],o[1],X,$)+"\" />");
K.push("</clipPath>");K.push("<image  clip-path=\"url(#"+Z+")\" xlink:href=\""+N+"\" x=\""+e+"\" y=\""+p+"\" width=\""+h+"\" height=\""+E+"\" />")}};
c$.YP.amB=function(c,o,K,u,X,$,O){var n=c$.YP;return"<text x=\""+o+"\" y=\""+K+"\" style=\"fill:"+n.PE(X)+"; font-size:"+u+"px; text-anchor:"+["start","middle","end"][$]+"; font-family:"+O[2]+";\"><tspan>"+c+"</tspan></text>"};
c$.YP.mc=function(c,o,K,u,X){var $=c$.YP,O=[];for(var Y=0;Y<o.$C.length;Y++){O.push(u);if(c.aBe){u=(Y&1)==c.aoD?{Z:1,r:1,J:1}:O[0]}}X.push("<g id=\""+o.Ek.split("-")[2]+":::\" style=\"transform: "+c$.Eo(K)+";\" >");
for(var Y=0;Y<o.$C.length;Y++){var n=o.$C[Y];u=O.pop();X.push("<path style=\"fill: "+(u?$.PE(u):"#"+n[0])+"\" d=\""+Typr.U.pathToSVG({crds:n[1].j,cmds:n[1].G})+"\" />")}X.push("</g>")};
c$.YP.acy=function(c,o,K){var u=c$.YP,X=c$.YP.hC,$=[];for(var Y=0;Y<X.length;Y++){var O=X[Y],n=O.Ek.slice(0,4);
if(n!="1001")continue;$.push(O)}var O=$[Math.floor(u.Z1(c)*$.length)];if(u.Z1(c)<.5)u.i(O,new bE(0,1,1,0,0,0));
var x=o[3]-o[1],l=o[2]-o[0],N=u.jl(O),f=.7*Math.min(l,x,.5*Math.max(l,x))/Math.max(N.m,N.e),z=new bE;
z.scale(f,f);if(u.Z1(c)<.5){z.scale(1,-1);z.translate(0,x)}u.mc(c,O,z,c.ww,K);z.rotate(Math.PI);z.translate(l,x);
u.mc(c,O,z,c.ww,K)};c$.YP.aCB=function(c){var o=c$.YP.hC,K=[];for(var Y=0;Y<o.length;Y++){var u=o[Y],X=u.Ek.slice(0,4);
if(X=="0000"){K.push(u);continue}if(["1000","0100","0010","0001"].indexOf(X)==-1)continue;var $=X.indexOf("1");
if(u.Ek[5]=="0"&&c==$&&$!=3)continue;K.push(u)}return K};c$.YP.xu=function(c,o,K,u,X,$,O){var n=c$.YP.hC,x=c$.YP,l=[],h,E;
for(var Y=0;Y<n.length;Y++){var N=n[Y],f=N.Ek.slice(0,4);if(["1110","1101","1011","0111"].indexOf(f)==-1)continue;
var z=f.indexOf("0")+2&3;if(N.Ek[5]=="0")if($==!0||o!=z&&!(o==1&&z==3))continue;l.push(N)}var R=O!=null?O:Math.floor(x.Z1(c)*l.length),N=l[R],N=JSON.parse(JSON.stringify(N)),f=N.Ek.slice(0,4),z=f.indexOf("0")+2&3;
if(z==3&&o==1)a.i(N,new bE(1,0,0,-1,0,1e3));var V=new bE;V.translate(-500,-500);V.rotate(-z*Math.PI/2);
V.translate(500,500);x.i(N,V);var d=K[3]-K[1],e=K[2]-K[0],p=x.jl(N);if(p.y<0){p.e+=p.y;p.y=0}if(p.y>0){p.e+=p.y;
p.y=0}if((o&1)==0){E=d;h=e}else{h=d;E=e}var q=Math.min(Math.min(.5+.5*x.Z1(c))*Math.min(e,d),X)/p.e,Z=Math.ceil(h/(1e3*q)),v=new bE,W=new bE;
W.scale(q,q);if(o==0||o==2){W.translate(-(e/2),-(d/2));W.rotate(-o*Math.PI/2);W.translate(e/2+K[0],d/2+K[1])}else{W.rotate(Math.PI/2);
W.scale(1,-1);W.translate(K[0],K[1]);if(o==1){W.scale(-1,1);W.translate(e,0)}}u.push("<g id=\"Border-"+["top","right","bottom","left"][o]+":::\">");
for(var Y=0;Y<Z;Y++){var D=v.clone();D.concat(W);x.mc(c,N,D,c.ww,u);v.translate(1e3-2,0)}u.push("</g>");
return R};c$.YP.Rect=function(c,o,K,u){return Typr.U.pathToSVG({crds:[c,o,c+K,o,c+K,o+u,c,o+u],cmds:["M","L","L","L","Z"]})};
c$.YP.asY=function(c,o,K,u,X){var $=[c,o,c+K,o,c+K,o+u,c,o+u];c+=X;o+=X;K-=2*X;u-=2*X;$.push(c,o,c,o+u,c+K,o+u,c+K,o);
return Typr.U.pathToSVG({crds:$,cmds:"M L L L Z M L L L Z".split(" ")})};c$.YP.aaG=function(c,o){var K=a.CX(c.Z,c.r,c.J);
K.hY=Math.max(.1,Math.min(.9,K.hY+o));return a.S_(K.s_,K.Z0,K.hY)};c$.YP.alL=function(c,o){var K=a.CX(c.Z,c.r,c.J);
K.s_+=o;return a.S_(K.s_,K.Z0,K.hY)};c$.YP.ar9=function(c){var o=a.CX(c.Z,c.r,c.J);o.hY=1-o.hY;return a.S_(o.s_,o.Z0,o.hY)};
c$.YP.ahv=function(c,o){var K=c.Z-o.Z,u=c.r-o.r,X=c.J-o.J;return Math.sqrt(K*K+u*u+X*X)};c$.YP.acx=function(c){var o=c$.YP;
return{Z:o.Z1(c),r:o.Z1(c),J:o.Z1(c)}};c$.YP.PE=function(c){return CSS.DB({Z:c.Z*255,r:c.r*255,J:c.J*255})};
c$.YP.jl=function(c){var o=c.$C,K=new ez;for(var Y=0;Y<o.length;Y++)K=K.X3(a.A.jl(o[Y][1].j));return K};
c$.YP.i=function(c,o){var K=c.$C;for(var Y=0;Y<K.length;Y++)a.A.i(K[Y][1].j,o,K[Y][1].j)};c$.YP.Z1=function(c){c.az5++;
var o=c.az5&3;if(o==0)c.cn=c$.YP.gc(c.cn);var K=c.cn>>>8*o&255;return K*(.99999999/255)};c$.YP.pW=function(c){var o=c$.YP.gc(c.cn);
c.cn=c$.YP.gc(o);return o*(1/4294967295)};c$.YP.gc=function(c){c=(c^61^c>>>16)>>>0;c=c+(c<<3)>>>0;c=(c^c>>>4)>>>0;
c=c*668265261>>>0;c=(c^c>>>15)>>>0;return c};c$.YP.hC=[{Ek:"0001-0-bird",$C:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),j:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),j:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),j:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Ek:"0001-0-bird2",$C:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),j:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),j:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),j:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),j:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),j:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),j:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Ek:"0000-1-flower",$C:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),j:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Ek:"0000-1-flower",$C:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),j:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Ek:"0000-1-flower",$C:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),j:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Ek:"0000-1-flower",$C:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Ek:"0000-1-flower",$C:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),j:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),j:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Ek:"0000-0-hearts",$C:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),j:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),j:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),j:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Ek:"0000-0-anchor",$C:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),j:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Ek:"0000-1-leaf",$C:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),j:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Ek:"0000-1-acorn",$C:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),j:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),j:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Ek:"0000-0-skull",$C:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),j:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Ek:"0000-0-ghost",$C:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),j:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),j:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Ek:"1001-1-rose",$C:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),j:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),j:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Ek:"1001-1-curls",$C:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Ek:"0111-0-pines",$C:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),j:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),j:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Ek:"0111-0-flowers",$C:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),j:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Ek:"1101-1-confetti",$C:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Ek:"1101-1-branch",$C:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),j:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Ek:"1101-1-sticks",$C:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Ek:"1101-1-dots",$C:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],j:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Ek:"1101-1-strips",$C:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],j:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Ek:"1101-1-circs",$C:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),j:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),j:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],j:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Ek:"1101-1-squares",$C:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),j:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),j:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],j:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Ek:"1101-0-christmas",$C:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var ew={};ew.parse=function(c){var o=new Uint8Array(c),K=null;if(o[0]==80&&o[1]==75){var u=Date.now(),X=UZIP.parse(o.buffer),K=X["document.json"];
K=JSON.parse(_.AF(K,0,K.length));ew.a_(K,X)}else{var $=iX.parse(c);K=ew.awi($[2][0][1])}return K};ew.a_=function(c,o){var K=typeof c;
if(K=="string"||K=="number"||K=="boolean")return c;if(c instanceof Array){for(var Y=0;Y<c.length;Y++)c[Y]=ew.a_(c[Y],o);
return c}var u=c._class;if(u==null)return c;if(u=="MSJSONFileReference"){var X=c._ref;if(!1){}else if(o[X+".json"]!=null){var $=o[X+".json"],O=$.length;
for(var Y=0;Y<O;Y++)if($[Y]==11||$[Y]==3)$[Y]=32;var n=_.AF($,0,O);c=JSON.parse(n)}else if(o[X+".png"]!=null)return{key:X.split("/").pop(),bdata:o[X+".png"]};
else if(o[X+".jpg"]!=null)return{key:X.split("/").pop(),bdata:o[X+".jpg"]};else if(o[X+".pdf"]!=null)return{key:X.split("/").pop(),bdata:o[X+".pdf"]};
else if(o[X]!=null)return{key:X.split("/").pop(),bdata:o[X]};else{console.log(c,o);return}}else if(u=="MSAttributedString"){var n=atob(c.archivedAttributedString._archive),x=n.length,l=new Uint8Array(x);
for(var Y=0;Y<x;Y++)l[Y]=n.charCodeAt(Y);c.archivedAttributedString=ew.awi(l)}for(var N in c)c[N]=ew.a_(c[N],o);
return c};ew.air=function(c,o,K,u){if(c instanceof Uint8Array)return null;if(u.indexOf(c)!=-1)return null;
u.push(c);if(c==o)return K;for(var X in c){K.push(X);var $=ew.air(c[X],o,K,u);if($){console.log(c,$);
throw"e"}K.pop()}};ew.awi=function(c){var o=hh.parse(c,0),K=o.$objects,u=new Uint8Array(K.length),X=ew.At(K,u,o.$top.root);
for(var Y=0;Y<K.length;Y++)if(u[Y]==0&&Y!=0){console.log(Y,K[Y]);ew.air(X,Y,[],[])}for(var Y=0;Y<K.length;
Y++){var $=K[Y];if($._class&&($._class=="bitmap"||$._class=="fill"&&$.fillType==4&&($.image||$.imageSHA))){var O=$.image,n=$.imageSHA,x=null,l=null;
if(O=="$null")O=null;if(n=="$null")n=null;if(O&&O.data){l=O.sha1["NS.bytes"];l=btoa(_.MQ(l,0,l.length));
x=O.data instanceof Uint8Array?O.data:O.data["NS.bytes"]}else if(O==null&&n==null){var N=c5.nq("PNG").nC([[a.R(4).buffer]],1,1);
x=new Uint8Array(N)}else{var f=(X.assets?X.assets.imageCollection:X.images).images;if(n)l=n instanceof Uint8Array?n:n["NS.bytes"];
else l=O.sha1["NS.bytes"];l=btoa(_.MQ(l,0,l.length));var x=f[l].data;if(x["NS.bytes"])x=x["NS.bytes"]}x=new Uint8Array(x.buffer.slice(x.byteOffset,x.byteOffset+x.length));
delete $.imageSHA;$.image={key:l,bdata:x}}}return X};ew.a4y=function(c){return c.slice(0,11)=="MSImmutable"?"MS"+c.slice(11):c};
ew.At=function(c,o,K){var u=c[K];if(o[K]==1){return u}o[K]=1;if(typeof u=="string")return u;if(typeof u=="number")return u;
if(typeof u=="boolean")return u;if(u instanceof Array)return u;if(u instanceof Uint8Array){return u}if(c[u.$class]==null){if(u.$class==null&&u["NS.data"]!=null)return u;
console.log(K,u);throw"e"}var X=c[u.$class],$=ew.a4y(X.$classname);o[u.$class]=1;u.$class=$;if(ew.auS[$]){delete u.$class;
u._class=ew.auS[$]}var O=ew.At;if($=="NSMutableArray"||$=="NSArray"){var n=[];if(u["NS.objects"]!=null)for(var Y=0;
Y<u["NS.objects"].length;Y++)n.push(O(c,o,u["NS.objects"][Y]));else for(var Y=0;u["NS.object."+Y]!=null;
Y++)n.push(O(c,o,u["NS.object."+Y]));c[K]=n;return n}if($=="NSDictionary"||$=="NSMutableDictionary"){var x={$class:$};
if(u["NS.keys"]!=null)for(var Y=0;Y<u["NS.keys"].length;Y++){var l=O(c,o,u["NS.keys"][Y]);if(l instanceof Uint8Array)l=btoa(ew.mb.MQ(l,0,l.length));
else if(typeof l!="string"&&typeof l!="number")l=btoa(ew.mb.MQ(l["NS.bytes"],0,l["NS.bytes"].length));
x[l]=O(c,o,u["NS.objects"][Y])}else for(var Y=0;u["NS.key."+Y]!=null;Y++){var l=O(c,o,u["NS.key."+Y]);
if(l instanceof Uint8Array)l=btoa(ew.mb.MQ(l,0,l.length));else if(typeof l!="string"&&typeof l!="number")l=btoa(ew.mb.MQ(l["NS.bytes"],0,l["NS.bytes"].length));
x[l]=O(c,o,u["NS.object."+Y])}for(var N in u)delete u[N];for(var N in x)u[N]=x[N];return u}if($=="NSURL")return{$class:$,base:O(c,o,u["NS.base"]),relative:O(c,o,u["NS.relative"])};
if(ew.a5N.indexOf($)!=-1){c[K]=O(c,o,u.array_do);return c[K]}if(u.do_objectID!=null)u.do_objectID=O(c,o,u.do_objectID);
if(ew.a4m.indexOf($)!=-1)return u;var f=ew.a5h[$];if(f==null){console.log(c,u);throw"unknown class "+$}for(var Y=0;
Y<f.length;Y++)if(u[f[Y]]!=null)u[f[Y]]=O(c,o,u[f[Y]]);if($=="MSTextLayer"){var z=u,R,V,d,e;if(z.attributedString)R=z.attributedString.archivedAttributedString;
else R=z.storage;e=R.NSString;if(typeof e!="string")e=_.AF(e["NS.bytes"],0,e["NS.bytes"].length);if(R.NSAttributeInfo)V=R.NSAttributeInfo["NS.bytes"];
else{var p=e.length,h=[];while(p>0){var E=Math.min(100,p);h.push(E,0);p-=E}V=new Uint8Array(h)}d=R.NSAttributes instanceof Array?R.NSAttributes:[R.NSAttributes];
var q={$class:"NSAttributedString",NSString:e,NSAttributes:d};z.attributedString={_class:"MSAttributedString",archivedAttributedString:q};
q.NSAttributeInfo={$class:"NSMutableData","NS.data":V};delete z.storage}return u};ew.mb={SL:function(c,o){return c[o+1]<<8|c[o]},q:function(c,o){return c[o+3]<<24|c[o+2]<<16|c[o+1]<<8|c[o]},MQ:function(c,o,K){var u="";
for(var Y=0;Y<K;Y++)u+=String.fromCharCode(c[o+Y]);return u}};ew.auS={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
ew.a5N=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
ew.a4m="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
ew.a5h={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var hh={};hh.parse=function(c,o){var K=_.MQ(c,o,8);o+=8;var u=c.length-32,X=hh.parse.axH(c,u),$=[];if(X.rK==1){var o=u-X.rK*X.k_;
for(var Y=0;Y<X.k_;Y++)$.push(c[o+Y])}else if(X.rK==2){var o=u-X.rK*X.k_;for(var Y=0;Y<X.k_;Y++)$.push(_.SL(c,o+Y*2))}else if(X.rK==4){var o=u-X.rK*X.k_;
for(var Y=0;Y<X.k_;Y++)$.push(_.q(c,o+Y*4))}else{throw"e"}var O=hh.parse.At(c,$,X.root,X);return O};
hh.parse.At=function(c,o,K,u){var X=hh.mb,$=u.afR,O=$==4?X.q:$==2?X.SL:X.a7N,n=hh.parse,x=o[K],l=c[x],N=l>>4,f=l&15,R=null;
x+=1;if([4,5,6,10,12,13].indexOf(N)!=-1&&f==15){var z=n.AU(c,x);x+=z.ui;f=z.b}if(!1){}else if(N==0)R=f==8?!1:f==9?!0:null;
else if(N==1)R=n.AU(c,x-1).b;else if(N==2)R=1<<f==4?_.vh(c,x):_.pl(c,x);else if(N==3)R=_.pl(c,x);else if(N==4)R=new Uint8Array(c.buffer,x,f);
else if(N==5)R=_.MQ(c,x,f);else if(N==6)R=_.a8(c,x,f);else if(N==8){R=0;for(var Y=0;Y<f+1;Y++)R=R<<8|c[x+Y]}else if(N==10){R=[];
for(var Y=0;Y<f;Y++)R.push(n.At(c,o,O(c,x+$*Y),u))}else if(N==12){R=[];for(var Y=0;Y<f;Y++)R.push(n.At(c,o,O(c,x+$*Y),u))}else if(N==13){R={};
for(var Y=0;Y<f;Y++){var V=n.At(c,o,O(c,x+$*Y),u),d=n.At(c,o,O(c,x+$*(f+Y)),u);R[V]=d}}else throw"unknown mask "+N;
return R};hh.parse.AU=function(c,o){var K=1<<(c[o]&15),u=0;for(var Y=0;Y<K;Y++)u=u<<8|c[o+1+Y];return{b:u,ui:K+1}};
hh.parse.axH=function(c,o){var K={};o+=6;K.rK=c[o];o++;K.afR=c[o];o++;o+=4;K.k_=_.q(c,o);o+=4;o+=4;K.root=_.q(c,o);
o+=4;o+=4;K.a3h=_.q(c,o);o+=4;return K};hh.mb={a7N:function(c,o){return c[o]},SL:function(c,o){return c[o]<<8|c[o+1]},q:function(c,o){return c[o]<<24|c[o+1]<<16|c[o+2]<<8|c[o+3]},MQ:function(c,o,K){var u="";
for(var Y=0;Y<K;Y++)u+=String.fromCharCode(c[o+Y]);return u}};var iX={parse:function(c){var o=new Uint8Array(c),K=iX.hf(o),u=[],X=new Uint8Array(o.length),$=[];
u.push($);iX.sF(o,K,1,X,$);for(var Y=0;Y<$.length;Y++){var O=[];u.push(O);iX.sF(o,K,$[Y][3],X,O,Y==11);
$[Y][3]=Y+1}return u},sF:function(c,o,K,u,X,$){K--;var O=K*o.tB+(K==0?100:0),n=c[O],x=iX.SL(c,O+1),l=iX.SL(c,O+3),N=iX.SL(c,O+5),z=0;
if(N==0)N=65536;var f=c[O+7];O+=8;if(n==2||n==5){z=iX.q(c,O);O+=4}for(var R=0;R<l;R++){var V=K*o.tB+iX.SL(c,O+2*R),d=-1,e=0,p=0,h=0;
if(n==2||n==5){d=iX.q(c,V);V+=4}if(n==2||n==10||n==13){e=iX.ot(c,V);V+=e.ui}if(n==5||n==13){p=iX.ot(c,V);
V+=p.ui}if(n==2||n==5){iX.sF(c,o,d,u,X,$);continue}var E=o.tB-(K==0?100:0),q=e.NT,Z=n==13?E-35:Math.floor((E-12)*64/255)-23,v=Math.floor((E-12)*32/255)-23,W=v+(q-v)%(E-4);
if(q<=Z){iX.lY(c,V,u,0,q)}else{var D=W<=Z?W:v,I=0;iX.lY(c,V,u,0,D);I+=D;h=iX.q(c,V+D);while(h!=0){var A=(h-1)*o.tB;
h=iX.q(c,A);var U=Math.min(o.tB-4,q-I);iX.lY(c,A+4,u,I,U);I+=U}}X.push(iX.ajm(u,q))}if(z!=0)iX.sF(c,o,z,u,X,$)},ajm:function(c,o){var K=0,u=iX.ot(c,K);
K+=u.ui;var X=[],$=[];while(K<u.NT){var O=iX.ot(c,K);K+=O.ui;X.push(O.NT)}if(K!=u.NT)throw"e";for(var Y=0;
Y<X.length;Y++){var O=X[Y];if(!1){}else if(O==0)$.push(null);else if(O==1){$.push(iX.aeG(c,K));K+=1}else if(O==2){$.push(iX.ox(c,K));
K+=2}else if(O==3){$.push(iX.ad7(c,K));K+=3}else if(O==4){$.push(iX.AU(c,K));K+=4}else if(O==5){$.push(iX.q(c,K+2));
K+=6}else if(O==6){$.push(iX.q(c,K)+":"+iX.q(c,K+4));K+=8}else if(O==7){$.push(iX.agk(c,K));K+=8}else if(O==8)$.push(0);
else if(O==9)$.push(1);else if(O>=12&&(O&1)==0){var n=O-12>>1,x=new Uint8Array(n);iX.lY(c,K,x,0,n);$.push(x);
K+=n}else if(O>=13&&(O&1)==1){var n=O-13>>1;$.push(iX.AF(c,K,n));K+=n}else throw"unknonw type "+O}return $},hf:function(c){if(!(c[18]==1&&c[19]==1&&c[20]==0&&c[21]==64&&c[22]==32&&c[23]==32))throw"unexpected SQL3 header";
var o={eM:iX.MQ(c,0,15),tB:iX.SL(c,16),a52:iX.q(c,24),size:iX.q(c,28),a6V:iX.q(c,32),aAe:iX.q(c,36),afk:iX.q(c,40),aaJ:iX.q(c,44),agN:iX.q(c,48),acz:iX.q(c,52),acP:iX.q(c,56),amC:iX.q(c,60),afZ:iX.q(c,64)!=0,a3m:iX.q(c,68),ayy:iX.q(c,92),a2z:iX.q(c,96)};
if(o.tB==1)o.tB=65536;if(o.acP!=1)throw"unsupported text encoding "+o.acP;return o},ayT:function(c,o){return c[o]<<16|c[o+1]<<8|c[o+2]},ad7:function(c,o){var K=iX.ayT(c,o),u=K&8388608;
return u?-(16777215-K+1):K},aeG:function(c,o){iX.jA[0]=c[o];return iX.a5V[0]},AU:function(c,o){var K=iX.jA;
for(var Y=0;Y<4;Y++)K[Y]=c[o+3-Y];return iX.afL[0]},ox:function(c,o){var K=iX.jA;K[0]=c[o+1];K[1]=c[o];
return iX.a0s[0]},SL:function(c,o){return c[o]<<8|c[o+1]},q:function(c,o){var K=iX.jA;for(var Y=0;Y<4;
Y++)K[Y]=c[o+3-Y];return iX.a2g[0]},agk:function(c,o){var K=iX.jA;for(var Y=0;Y<8;Y++)K[Y]=c[o+7-Y];
return iX.axP[0]},ot:function(c,o){var K=o,cv=0;while(!0){var u=c[o];o++;cv=cv*128+(u&127);if(u<128)break}return{NT:cv,ui:o-K}},MQ:function(c,o,K){var u="";
for(var Y=0;Y<K;Y++)u+=String.fromCharCode(c[o+Y]);return u},AF:function(c,o,K){var u="";for(var Y=0;
Y<K;Y++)u+="%"+iX.as9(c[o+Y].toString(16));try{u=decodeURIComponent(u);return u}catch(ar){return u}},lY:function(c,o,K,u,X){if(c[o+X-1]==null||K[u+X-1]==null){console.log(o,u,X);
throw"e"}for(var Y=0;Y<X;Y++)K[u+Y]=c[o+Y]},as9:function(cv){return cv.length<2?"0"+cv:cv}};iX.jA=new Uint8Array(8);
iX.a5V=new Int8Array(iX.jA.buffer);iX.a0s=new Int16Array(iX.jA.buffer);iX.afL=new Int32Array(iX.jA.buffer);
iX.a2g=new Uint32Array(iX.jA.buffer);iX.axP=new Float64Array(iX.jA.buffer);iX.aDg=function(c,o){var K=c[0],u={};
for(var Y=0;Y<K.length;Y++){var X=K[Y],$=X[1];if(X[0]!="table")continue;var O=X[4];O=O.slice(O.indexOf("(")+1,O.indexOf(")"));
O=O.split(",");for(var n=0;n<O.length;n++){var x=O[n].trim().split(" ")[0];if(o&&x.startsWith($))x=x.slice($.length);
O[n]=x}var l=u[$]=[],N=c[X[3]];for(var n=0;n<N.length;n++){var f=N[n],z={};l.push(z);for(var R=0;R<O.length;
R++){if(z[O[R]]!=null)throw"e";z[O[R]]=f[R]}}}return u};function eK(c,o,K){this.fk=c;this.dE=o;this.a9W=K;
this.Bb=new kn(0,0);this.sj=-1;this.f6=0;this.us=0;this.VX=new ez;this.dO=[];this.G4=null;this.ahd=null;
this.Gk=null;this.GH=null;this.WA=null;this.a2u=null}eK.prototype.StartPage=function(c,o,K,u,X){var $=this.dE,O=$.ea(),n=1,x=(K-c)*(u-o);
if(X!=null)x=X;while(x*O*O/(n*n)>2*8192*8192)n++;$.scale(1/n,1/n);this.ahd=[c,o,K,u];var n=$.ea();c=Math.round(c*n);
o=Math.round(o*n);K=Math.round(K*n);u=Math.round(u*n);var l=this.fk,N=this.Gk;if(N==null){$.hW=-c}else{var f=N[2]-N[0]+30,z=Math.round(K-c)+30;
if(this.Bb.x+f+z>8192){$.hW=-c;this.Bb.x=0;this.Bb.y+=this.us+120;this.us=0}else{$.hW+=f;this.Bb.x+=f}}$.qj=this.Bb.y+(this.a9W?u:-o);
this.us=Math.max(this.us,Math.round(u-o));this.Gk=[c,o,K,u];this.aq7=[];l.s.push(l.FL())};eK.prototype.StartTGroup=function(c){this.TH();
var o=this.fk;o.s.push(o.FL());var K=eK.J5[c.bmode];if(K==null)K="norm";var u=o.uB();u.XK("<Group>");
u.add.lsct=aj.cD;u.Mh=K=="norm"?"pass":K;u.Ha=24;u.opacity=Math.round(255*c.ca);this.aq7.push(u)};eK.prototype.EndTGroup=function(){this.fk.s.push(this.aq7.pop())};
eK.prototype.a6q=function(){var c=this.fk,o=c.s[c.s.length-1];return o};eK.prototype.aAa=function(){var c=this.fk,o=c.uB();
o.XK("Path "+c.s.length);this.fk.s.push(o);o.Ha|=16;o.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}};
o.add.vmsk=new gU.JA;o.add.vstk=gH.e_.ib();return o};eK.prototype.zP=function(c){var o={j:c.crds,G:c.cmds},K=a.A.lR(o,!1);
a.o.Ik(K,this.dE);return K};eK.awu=function(c,o){for(var Y=0;Y<c.length;Y++)if(c[Y].cS!=null)c[Y].cS=o};
eK.va=function(c){return a.T.mv({Z:c[0]*255,r:c[1]*255,J:c[2]*255})};eK.rl=function(c){return new bE(c[0],c[1],c[2],c[3],c[4],c[5])};
eK.prototype.Stroke=function(c){if(this.sj!=-1&&this.sj!=this.f6)return;if(c.pth.cmds.length<=1)return;
var o=this.zP(c.pth),$=null;if(o.length<=2)return;this.hV(c);eK.awu(o,-1);o[2].cS=1;var K=this.a6q(),u=gH.e_.ib(null,!0),X=c.ctm;
gH.e_.write(u,c,Math.sqrt(Math.abs(X[0]*X[3]-X[1]*X[2]))*this.dE.ea());if(!(c.COLR instanceof Array)){$=a.A.jl(c.pth.crds);
var O=a.A.W6($);a.A.i(O.j,this.dE,O.j);$=a.A.jl(O.j)}var n=eK.ga(c.COLR,this.dE,$),x=["SoFi","GrFl","patternFill"].indexOf(n.type),l=[gH.wV,gH.Ty,gH.ne][x],N=u.strokeStyleContent.v={classID:gH.e_.jD[x]};
for(var Y=0;Y<l.length;Y++)N[l[Y]]=n.b.v[l[Y]];var f=K!=null&&K.add.vmsk!=null&&!K.rD(),z=f&&!K.add.vstk.fillEnabled.v&&JSON.stringify(u)==K.add.vsjs;
if(z){var R=K.add.vmsk.$;for(var Y=2;Y<o.length;Y++)R.push(o[Y])}else{var V=f&&!K.add.vstk.strokeEnabled.v&&gU.JA.abP(K.add.vmsk.$,o,!0);
if(V){K.add.vstk=u;u.fillEnabled.v=!0}else{K=this.aAa();K.add.vmsk.$=o;K.add.vstk=u;K.add.vsjs=JSON.stringify(u)}}};
eK.prototype.Fill=function(c,o){if(this.sj!=-1&&this.sj!=this.f6)return;if(c.ca==0)return;var K=c.pth.cmds;
if(K.length==0)return;if(K.length==2&&JSON.stringify(K)=="[\"M\",\"L\"]")return;var u=a.A.jl(c.pth.crds),X=a.A.jl(c.cpth.crds);
if(u.ar(X).SR())return;var $=c.pth,O=UDOC.G.isBox($,[u.x,u.y,u.x+u.m,u.y+u.e]),n=c.cpth,x=UDOC.G.isBox(n,[X.x,X.y,X.x+X.m,X.y+X.e]);
if(O&&x&&u.P()>X.P()*2){var l=u.ar(X),N=l.x,f=l.y,z=N+l.m,R=f+l.e;$={cmds:["M","L","L","L","Z"],crds:[N,f,z,f,z,R,N,R]};
u=l}else if(this.GH==null&&UDOC.G.isBox($,[u.x,u.y,u.x+u.m,u.y+u.e])&&u.v8(X)){$=n;u=X}else this.hV(c);
var V=this.zP($),d=a.A.W6(u);a.A.i(d.j,this.dE,d.j);u=a.A.jl(d.j);var e=eK.ga(c.colr,this.dE,u),p=this.a6q(),h=p!=null&&p.opacity==Math.round(255*c.ca)&&p.add.vstk!=null&&!p.add.vstk.strokeEnabled.v&&p.add.SoCo&&e.type=="SoFi"&&JSON.stringify(p.add.SoCo.Clr.v)==JSON.stringify(e.b.v.Clr.v);
if(h){var E=!1;for(var Y=0;Y<V.length;Y++){if(V[Y].cS==0||V[Y].cS==2)E=!0}if(E){var q=a.A.jl(a.o.K5(p.add.vmsk.$)),Z=a.A.jl(a.o.K5(V));
h=q.ar(Z).SR()}}if(h){var v=p.add.vmsk.$;for(var Y=2;Y<V.length;Y++)v.push(V[Y])}else{p=this.aAa();delete p.add.SoCo;
p.add.vmsk.$=gU.JA.qA(V);eK.cX(c.colr,p,this.dE,u);eK.ahM(c,p)}};eK.cX=function(c,o,K,u){var X=eK.ga(c,K,u),$=null,O=null;
o.add.vstk.fillEnabled.v=!0;if(X.type=="SoFi"){$="SoCo";O=gH.wV}if(X.type=="GrFl"){$="GdFl";O=gH.Ty}if(X.type=="patternFill"){$="PtFl";
O=gH.ne}if($!=null){o.add[$]={classID:"null"};for(var Y=0;Y<O.length;Y++){var n=O[Y];o.add[$][n]=X.b.v[n]}}};
eK.prototype.hV=function(c){var o=this.fk,K=c.cpth,u=K.cmds.join(""),X=K.crds,$=u+" "+X.join(","),O=UDOC.G.isBox(K,this.ahd);
if(O&&this.GH==null)return;if($==this.GH)return;this.TH();if(!O){this.GH=$;o.s.push(o.FL());var n=o.uB();
n.XK("Mask");n.add.lsct=aj.Qw;n.Mh="pass";n.Ha=24;var x=n.add.vmsk=new gU.JA;x.$=this.zP(c.cpth);if(UDOC.G.isBox(K)){this.WA=a.o.$$(x.$);
this.WA.JG(3,3)}else this.WA=null;this.a2u=n}};eK.prototype.TH=function(){var c=this.fk;if(this.GH!=null){var o=c.s.length-1,Y=o,K=!1;
while(Y>=0&&c.s[Y].add.lsct!=aj.mh)Y--;var u=this.WA;if(u){var X=new ez,$=o;while($>Y){X=c.s[$].qP(this.fk,!1,!0);
$--}K=u.v8(X)}if(K){this.dO.splice(Y,1);c.s.splice(Y,1)}else{c.s.push(this.a2u)}this.GH=null}};eK.ga=function(c,o,K){var u,X;
if(c.length!=null){u="SoFi";var $=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);X={t:"Objc",v:$};X.v.Clr.v=eK.va(c)}else{var O=eK.aAA(c,o,K);
u="GrFl";X={t:"Objc",v:O}}return{type:u,b:X}};eK.aAA=function(c,o,K){var u=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),X=u.Grad.v;
X.Intr.v=0;var $=eK.rl(c.mat);$.concat(o);var O=new kn(0,0),n=new kn(K.m,0),x=c.crds;if(c.typ=="rad"){u.Type.v.GrdT="Rdl";
var l=.7;O.x=(1-l)*x[0]+l*x[3];O.y=(1-l)*x[1]+l*x[4];n.x=O.x;n.y=O.y;n.x+=Math.max(x[2],x[5])}else{u.Type.v.GrdT="Lnr";
O.x=x[0];O.y=x[1];n.x=x[2];n.y=x[3];O.x=n.x+.5*(O.x-n.x);O.y=n.y+.5*(O.y-n.y)}O=$.QB(O);n=$.QB(n);a.T.OH(O,n,K,u);
var N=c.grad;a.T.Fa(N,X);return u};eK.prototype.PutText=function(c,o,K,u){var X=o.charCodeAt(0),R=null;
if(this.sj!=-1&&this.sj!=this.f6)return;if(o.length==0||o.length==1&&(X==0||X==8203))return;this.hV(c);
var $=this.fk,O=c.font,n=Math.round(255*c.ca);if(c.font.Tmode==3)n=0;var x=eK.rl(c.ctm);x.concat(this.dE);
var l=eK.rl(O.Tm);l.concat(x);var N=l.ea(),f=new bE(1/N,0,0,-1/N,0,0);f.concat(l);var z=O.Tfs*N,V=$.s.length-1;
while(V>=0&&$.s[V].add.TySh==null)V--;if(f.J*f.J+f.If*f.If<.001&&u==null&&V>=0&&$.s[V].add.TySh&&$.s[V].opacity==n){var d=$.s[V],e=this.dO[V],p=d.add.TySh.i,h=(f.hW-e.apu)/z,E=Math.abs(h),q=p.V==f.V&&p.J==f.J&&p.If==f.If&&p.gI==f.gI,Z=f.qj-e.om,v=q&&Math.abs(Z)<1e-5&&E<1;
if(v){R=d;if(h>.2&&[".",",","?",":","!"].indexOf(o)==-1){o=" "+o;K+=.5}}else if(q&&0<Z&&Z<z*1.7&&e.a3G==z){R=d;
this.acs(e);e.om=f.qj;e.aoL=f.hW;o="\n"+o}}if(R==null){V=$.s.length;this.dO[V]={y$:[],aG:0,apu:f.hW,om:f.qj,aoL:f.hW,iL:"",a3G:z};
R=$.uB();$.s.push(R);R.add.lnsr="rend";R.add.TySh=ii.eS(0,0);R.add.TySh.i=f}var e=this.dO[V];e.aG+=K*z;
e.iL+=o;e.apu=f.hW+K*z;var W=R.add.TySh.Bz,D=ii.lo(W);if(u){ii.lG(W,1);var I=[0,0,Math.ceil(u[0]*N),Math.ceil(u[1]*N)];
ii.lf(W,I)}var A=D.length-1,U=A+o.length;ii.FO(W,A,o);if(this.G4==null)this.G4=ii.Ij(W,A,A);var w=this.G4;
w.W$.FontSize=Math.round(z);w.W$.Tracking=Math.round(O.Tc*100);w.W$.Underline=O.Tun==1;w.W$.FillColor={Type:1,Values:[1,c.colr[0],c.colr[1],c.colr[2]]};
if(O.Tal!=null)w.Xi.Justification=O.Tal;if(e.y$.length!=0){w.W$.AutoLeading=!1;w.W$.Leading=e.om-e.y$[e.y$.length-1].y}var t=O.Tf;
t=t.replace(/#2B/g,"+");t=t.replace(/#2C/g,"-");t=t.split("+").pop();var L={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(L[t])t=L[t];ii.CQ(w,t);ii.r2(W,A,U-1,w);R.RE();R.opacity=n};eK.prototype.acs=function(c){c.y$.push({Oc:c.aG,AC:c.iL.slice(c.y$.length==0?0:1)+"\n",x:c.aoL,y:c.om,Z0:c.a3G});
c.aG=0;c.iL=""};eK.prototype.yE=function(c,o,K){return new Uint8Array(c5.nq("PNG").nC([[c.buffer,0]],o,K))};
eK.prototype.PutImage=function(c,o,K,u,X,$,O){if(this.sj!=-1&&this.sj!=this.f6)return;var n=this.fk,x=c.font.Tmode;
if(x==7&&n.s[n.s.length-1].add.TySh){return}this.hV(c);var l=eK.rl(c.ctm);l.concat(this.dE);var N=new bE(1/K,0,0,-1/u,0,1);
N.concat(l);l=N;o=eK.agq(o,K,u,$,!1);if(X)X=eK.agq(X,K,u,O,!0);if(X==null){if(o.length==K*u*4)o=this.yE(o,K,u)}else{o=this.adC(o,K,u,$,!1);
X=this.adC(X,K,u,O,!0);var f=a.R(K*u);a.Sw(X,f,0);a.bp(f,o,3);o=this.yE(o,K,u)}var z=n.ra(o,"Bitmap",0,0),R=z.rect.clone();
R.x=R.y=0;var V=a.A.W6(R).j;a.A.i(V,l,V);z.add.SoLd.Trnf=r.W.yf(V);z.add.SoLd.nonAffineTransform=r.W.yf(V);
z.oP(n,!1);eK.ahM(c,z);n.s.push(z)};eK.ahM=function(c,o){o.opacity=Math.round(255*c.ca);var K=eK.J5[c.bmode];
if(K==null)console.log("Unknown blend mode",K);else o.Mh=K};eK.J5={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
eK.amT=function(c){if(c=="pass")c="norm";for(var o in eK.J5)if(eK.J5[o]==c)return o;return"/Normal"};
eK.agq=function(c,o,K,u,X){var $=c5.c5(c.buffer);if($=="jpg"){try{c=new Uint8Array(c5.nq("JPG").a31(c.buffer))}catch(ar){c=new Uint8Array(o*K*4)}}else if($=="jb2"){c=new Uint8Array(c5.nq("JPG").gP(c.buffer,u,X)[0].data)}else if(c.length!=o*K*4){var O=new Uint8Array(o*K*4),n=Math.ceil(o/8),x=new Uint8Array(K*n);
UTIF.decode._decodeG4(c,0,c.length,x,0,o,1);var l=x[0]==(X?255:0);for(var N=0;N<K;N++){var f=n*N;for(var z=0;
z<o;z++){var Y=N*o+z,R=Y*4,V=(x[f+(z>>3)]>>7-(z&7)&1)*255;if(l)V=255-V;O[R]=V;O[R+1]=V;O[R+2]=V;O[R+3]=255}}c=O}return c};
eK.prototype.adC=function(c,o,K,u,X){if(c.length!=o*K*4){var $=c5.c5(c.buffer);if($=="jb2")throw"e";
var O=c5.nq($);if(O==null||$=="tga")O=c5.nq("jpg");c=new Uint8Array(O.gP(c,u,X)[0].data)}return c};eK.prototype.ShowPage=function(){var c=this.fk;
this.f6++;var o=this.Gk;this.TH();var K=c.uB();c.s.push(K);var u=new ez(Math.round(this.Bb.x),Math.round(this.Bb.y),Math.round(o[2]-o[0]),Math.round(o[3]-o[1]));
if(u.SR())u.m=u.e=2e3;this.VX=this.VX.X3(u);K.oW(u);K.add.artb.artboardBackgroundType.v=1;K.XK("Page "+this.f6);
K.add.lsct=aj.Qw;K.Mh="pass";K.Ha=24};eK.prototype.Print=function(c){console.log("Print:",c)};eK.prototype.Done=function(){var c=this.fk;
if(this.f6==1)c.s[c.s.length-1].add.lsct=aj.cD;c.xl(this.f6);for(var Y=0;Y<c.s.length;Y++){var o=c.s[Y],K=o.add.vmsk,u=o.add.TySh,X=this.dO[Y];
o.$h();delete o.add.vsjs;if(K){var $=!1;for(var O=0;O<K.$.length;O++){var n=K.$[O];if((n.type==0||n.type==3)&&n.length>32767)$=!0}if($){c.s.splice(Y,1);
Y--;continue}}o.Dm(c);if(u&&X&&X.y$.length!=0){this.acs(X);var x=u.Bz,l=X.y$.length,N=X.y$[0],f=1e9,z=-1e9,v="";
for(var O=0;O<l;O++){var R=X.y$[O];f=Math.min(f,R.x);z=Math.max(z,R.x+R.Oc)}var V=[];for(var O=0;O<l;
O++){var R=X.y$[O],d=-1,e=N.Z0*.1,p=Math.abs(R.x-f),h=Math.abs(R.x+R.Oc-z),E=Math.abs(p-h);if(E<e)d=2;
if(h<e){d=1;if(R.x!=f)if(O!=0&&X.y$[O-1].x==R.x||O!=l-1&&X.y$[O+1].x==R.x)d=-1}if(p<e)d=0;if(R.Oc==z-f)d=3;
V.push(d)}var q=[!1,!1,!1];for(var O=0;O<l;O++){var d=V[O];if(d==3)d=O==0?V[O+1]:V[O-1];if(d==3)d=0;
V[O]=d;q[d]=!0}var Z=(z-f)*.05;if(q[0]&&!q[1])z+=Z;if(!q[0]&&q[1])f-=Z;if(!q[0]&&!q[1]){f-=Z;z+=2*Z}ii.lG(x,1);
u.i.qj-=N.Z0*.7;u.i.hW=Math.round(f);ii.lf(x,[0,0,Math.ceil(z-f),Math.ceil(X.y$[l-1].y-N.y+N.Z0*2)]);
for(var O=0;O<l;O++){var R=X.y$[O],d=V[O],W=0;if(d==-1){d=0;W=Math.round(R.x-f)}var D=v.length,I=D+R.AC.length;
v+=R.AC;var A={c9:[],W$:{},Xi:{Justification:d,StartIndent:W}};ii.r2(u.Bz,D,I-1,A)}}if(u){var x=u.Bz;
ii.a7Y(x);var U=ii.lo(x).split("\n");for(var O=0;O<U.length-1;O++){var R=U[O],w=0;for(var t=0;t<R.length;
t++){var L=R.charCodeAt(t);if(1473<=L&&L<=1524)w++}if(w>R.length/2){U[O]=R.split("").reverse().join("");
var J=x.EngineDict.ParagraphRun.RunArray[O].ParagraphSheet.Properties;J._Direction=1;J.Justification=ii.wi(J)}}ii.W2(x,U.join("\n"))}}c._K=!0;
c.m=this.VX.m;c.e=this.VX.e;c.buffer=a.R(this.VX.P()*4)};var kv={};kv.Cv=null;kv.jH=function(c,o,K,u,X,$){if(X==null)X=c.m;
if($==null)$=c.e;kv.Cv=c;var O=!1,n=[c.root],x=c.root.children;if(c.add.artd){O=!0;for(var Y=0;Y<x.length;
Y++)if(x[Y].l.add.artb==null)O=!1;if(O)n=x}var l=new ez(0,0,c.m,c.e),N=o[0];N=N.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
N=N.split(" ");var f=[];for(var Y=0;Y<N.length;Y++){var z=N[Y];if(z=="-"){var R=f.pop(),V=parseInt(N[Y+1]);
while(R<V){f.push(R);R++}}else f.push(parseInt(z))}N=f;for(var Y=0;Y<N.length;Y++)if(isNaN(N[Y])||N[Y]<1||N[Y]>n.length){N.splice(Y,1);
Y--}var d=X/c.m,e=$/c.e,p=d*72/c.$M,h=e*72/c.$M,E=o[5];if(E==null)E=0;var q=72*E,Z=72*E;for(var v=0;
v<n.length;v++){var Y=v;if(o[2])Y=n.length-1-v;if(N.length!=0&&N.indexOf(Y+1)==-1)continue;var W=n[Y],D=O?W.l.rA():l;
if(!W.l.IT())continue;var I=Math.round(D.m*p+2*q),A=Math.round(D.e*h+2*Z);K.StartPage(0,0,I,A);var U=UDOC.getState(),w=new bE;
w.translate(-D.x,-D.y-D.e);w.scale(p,-h);w.translate(q,Z);if(O){var t=W.l.add.artb,L=t.artboardBackgroundType.v;
if(L!=1&&L!=3){var J=W.l.s1(),b=q*p,F=Z*h,B=b+D.m*p,k=F+D.e*h;U.colr=[(J>>>0&255)/255,(J>>>8&255)/255,(J>>>16&255)/255];
U.pth={cmds:["M","L","L","L","Z"],crds:[b,F,B,F,B,k,b,k]};K.Fill(U)}}if(o[3]){var i=c.i9();if(!l.Ug(D)){i=a.R(D.P()*4);
a.Ui(c.i9(),l,i,D)}var H=c.bx();if(H)ICC.U.applyLUT(H[c.add.fcmy==1?5:3],H[2],i,i);var m=c5.nq("JPG").nC([[i.buffer]],D.m,D.e,[o[1]]);
i=new Uint8Array(m);var j=new bE;j.translate(D.x,D.y);kv.DI(U,K,i,D,j,w)}else{kv.a9F(c,W,U,K,w,o,u);
if(q!=0){var b=q,F=Z,B=b+D.m,k=F+D.e,Q=B+q,G=k+q;U.ca=1;U.colr=[1,1,1];U.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,G,Q,G,Q,0,b,F,B,F,B,k,b,k]};
K.Fill(U)}}if(o[6]){var g=[[0,0],[1,0],[1,1],[0,1]],P=50,M=5,T=P*.5,C=M*.5;U.colr=[.1,.1,.1];for(var v in g){var gf=g[v],s=[v==0||v==3?-1:1,v==0||v==1?-1:1],b3=[q-T+C*s[0]+gf[0]*c.m,Z-(s[1]!=1?M:0)+gf[1]*c.e],d5=[q-(s[0]!=1?M:0)+gf[0]*c.m,Z-T+C*s[1]+gf[1]*c.e];
U.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[b3[0],b3[1],b3[0]+P,b3[1],b3[0]+P,b3[1]+M,b3[0],b3[1]+M,d5[0],d5[1],d5[0]+M,d5[1],d5[0]+M,d5[1]+P,d5[0],d5[1]+P]};
K.Fill(U)}}var gh=c.ni;for(var jt=0;jt<gh.length;jt++){var fl=gh[jt].v,D=a.Pw.G5(fl),eq=a.A.W6(D).j;
a.A.i(eq,w,eq);var c7=a.A.jl(eq);if(!new ez(0,0,I,A).v8(c7))continue;if(K.AddAnnot)K.AddAnnot([c7.x,c7.y,c7.x+c7.m,c7.y+c7.e],fl.url.v)}K.ShowPage()}K.Done();
kv.Cv=null};kv.$p=function(c){c=a.T.h0(c);return[c.Z/255,c.r/255,c.J/255]};kv.a9F=function(c,o,K,u,X,$,O){var n=o.l,x=n.add.lsct,l=n.add.lmfx,N=n.add.vmsk,f=n.add.vstk,z=n.add.TySh,p,h,U;
if(!n.IT())return;var R=n.opacity/255,V=n.add.iOpa!=null?n.add.iOpa/255:1;K.bmode=eK.amT(n.Mh);var d=K.ca;
K.ca=K.CA=R*V;var e=l;if(e)e=e.solidFillMulti.v[0];if(e)e=e.v;if(e&&!e.enab.v)e=null;var E=n.rect;if(n.EE()&&(!n.rD()||n.J9&&n.J9.Oe)){if(n.rD()){p=n.J9.Oe;
E=n.J9.a13}else{p=a.R(n.rect.P());a.Sw(n.buffer,p,3)}h=bL.Zr(l,n.add.fxrp,p,E,c,E).type;var q=["DrSh","OrGl"];
if(V!=1||f&&!f.fillEnabled.v){var Z=p.slice(0);a.fH(Z);for(var Y=0;Y<q.length;Y++){var v=h[q[Y]];for(var W=0;
W<v.length;W++){var D=v[W],I=D.hx.clone();I.x+=E.x;I.y+=E.y;a.Vu(Z,E,D.PX,I)}}}}if(h)kv.aok(n,p,E,h,K,u,X,$,!0);
var A=bL.ayi(n,!1);if(A){u.StartTGroup(K);U=K;K=UDOC.getState()}var w=N&&!n.NL();if(w){var t=a.A.gy(N.$,!1),L=t.Ad;
a.A.i(L.j,X,L.j);K.cpth={cmds:L.G,crds:L.j}}if(n.rD()){for(var Y=0;Y<o.children.length;Y++)kv.a9F(c,o.children[Y],K,u,X,$,O)}else if(n.NL()&&n.add.PtFl==null){var J=N?N.$:a.o.YP.Rect(0,0,c.m,c.e),b=a.o.$$(J),F=!1;
if(N==null)F=!0;else{if(f.fillEnabled.v)F=!0;var B=bL.$0(l);if(!f.strokeEnabled.v&&B)f=B}if(F){var k=bL.dN(l,n.add),i=k[0],H=k[1];
K.colr=kv.an6(i?i:H,X,b)}var t=a.A.gy(J,f?f.strokeEnabled.v:!1),L=t.Ad;a.A.i(L.j,X,L.j);K.pth={cmds:L.G,crds:L.j};
kv.agK(u,K,F,f,X,b,t.bN!=0)}else if(z&&$[4]){var m=z.Bz,j=new ag(m,O,z.im),L=hb.tL(j,z,!0),Q=a.A.pR(L),G=bL.$0(l);
for(var g in Q){var P=parseInt(g.slice(1,7),16),M=0;K.colr=e?kv.$p(e.Clr.v):kv.aw5(P);var T=Q[g];a.A.i(T.j,X,T.j);
T=a.A.akN(T);K.pth={cmds:T.G,crds:T.j};var f=G;if(g.length>7){f=gH.e_.ib();var C=g.slice(7).split("-"),P=parseInt(C[1].slice(1),16),gf=kv.aw5(P);
f.fillEnabled.v=!0;f.strokeEnabled.v=!0;f.strokeStyleLineWidth.v.val=parseFloat(C[2]);f.strokeStyleContent.v.Clr.v=e?e.Clr.v:a.T.mv({Z:gf[0]*255,r:gf[1]*255,J:gf[2]*255});
f.strokeStyleMiterLimit.v=parseFloat(C[2])}kv.agK(u,K,!0,f,X,null,!1)}}else if(z){var m=JSON.parse(JSON.stringify(z.Bz));
ii.a7Y(m);var s=z.i.clone(),b3=new bE(1,0,0,-1,0,0);b3.concat(s);b3.concat(X);var d5=ii.lo(m),j=new ag(m,O,z.im);
for(var Y=0;Y<j.Xi.length;Y++){var gh=j.Xi[Y];if(gh.dz.length==1&&gh.dz[0].hl)continue;for(var W=0;W<gh.qw.length;
W++){var jt=gh.qw[W],fl=gh.J1.y+jt.J1.y,eq=gh.dz[jt.start].start,c7=gh.dz[jt.end-1].end,k8=ii.aar(m,eq,c7);
for(var hs=0;hs<k8.length;hs++){var cq=j.Vc(eq),jn=k8[hs],an=ii.Ij(m,eq,eq),hk=an.c9[an.W$.Font].Name;
K.font.Tf=hk;var g=ii.h0(an.W$.FillColor);K.colr=e?kv.$p(e.Clr.v):[g.Z/255,g.r/255,g.J/255];var ds=K.font.Tfs=Math.round(an.W$.FontSize),gP=d5.slice(eq,eq+jn);
if(an.W$.FontCaps==2)gP=gP.toUpperCase();var ay=new bE;ay.translate(cq.aB.x,-fl);ay.concat(b3);K.ctm=[ay.V,ay.J,ay.If,ay.gI,ay.hW,ay.qj];
u.PutText(K,gP,0);for(var bb=0;bb<2;bb++){var ap=an.W$[bb==0?"Strikethrough":"Underline"];if(!ap)continue;
var cR=j.Vc(eq+jn-1),c8=bb==0?.27:-.2,gr=ds*c8,fF=ds*(c8+.07),M=cR.aB.x+cR.aB.m-cq.aB.x,cj=[0,gr,M,gr,M,fF,0,fF];
a.A.i(cj,ay,cj);K.pth={cmds:["M","L","L","L","Z"],crds:cj};u.Fill(K)}K.ctm=[1,0,0,1,0,0];eq+=jn}}}}else if(!n.rect.SR()){var br,gG,jx=!1,cr=new bE,a8=n.add.SoLd,f8=!0;
if(a8)f8=a.D.TP(a.D.ly(r.W.sS(a8.Trnf)));var dW=c.bx();if(a8&&f8&&dW==null){var g7=a8.Idnt.v,eU=c.rj(g7,a8.Crop?a8.Crop.v:null),aW="";
if(eU==null)return;var f7=eU.Za,d7=c5.c5(eU.raw.buffer);if($[7].indexOf(d7)!=-1){br=eU.raw;jx=!0}else br=f7[0];
gG=f7[1];cr=a.D.mD(a8)}else{br=n.buffer;gG=n.rect;cr.translate(gG.x,gG.y);if(dW){br=br.slice(0);ICC.U.applyLUT(dW[c.add.fcmy==1?5:3],dW[2],br,br)}if(a.JO(br,gG.m,gG.e)&&$[7]&&$[7].indexOf("jpg")!=-1){var cy=c5.nq("JPG").nC([[br.buffer]],gG.m,gG.e,[$[1]]);
br=new Uint8Array(cy);jx=!0}}if(e&&!jx)br=bL.aBd(br,e,gG);kv.DI(K,u,br,gG,cr,X);if(e&&jx){var cj=[0,0,gG.m,0,gG.m,gG.e,0,gG.e];
a.A.i(cj,cr,cj);a.A.i(cj,X,cj);var dh=JSON.parse(JSON.stringify(K));dh.ca=e.Opct.v.val/100;dh.pth={cmds:["M","L","L","L","Z"],crds:cj};
dh.colr=kv.$p(e.Clr.v);u.Fill(dh)}}if(w)K.cpth=null;if(A){u.EndTGroup();K=U}K.ca=K.CA=d;if(h)kv.aok(n,p,E,h,K,u,X,$,!1)};
kv.agK=function(c,o,K,u,X,$,O){var n=!1,x=0,l=0;if(u&&u.strokeEnabled.v){var N=u.strokeStyleContent.v;
o.COLR=kv.an6(N,X,$);gH.e_.f_(u,o,X.ea());x=o.sal;delete o.sal;l=o.lwidth;n=!0}var f=x==2;if(K&&!f)c.Fill(o,O);
if(n){o.lwidth=l*(x==2?2:1);c.Stroke(o)}if(K&&f)c.Fill(o,O)};kv.av6=function(c){var o=kv.Cv;if(o==null)return c;
var K=o.bx();if(K&&o.add.fcmy){var u=new Uint8Array(4);u[0]=.5+c[0]*255;u[1]=.5+c[1]*255;u[2]=.5+c[2]*255;
ICC.U.applyLUT(K[o.add.fcmy==1?5:3],K[2],u,u);c=[u[0]/255,u[1]/255,u[2]/255]}return c};kv.$p=function(c){c=a.T.h0(c);
return kv.av6([c.Z/255,c.r/255,c.J/255])};kv.aw5=function(c){return kv.av6([(c>>>16&255)/255,(c>>>8&255)/255,(c&255)/255])};
kv.an6=function(c,o,K){if(c.Clr)return kv.$p(c.Clr.v);var u=c,X=u.Rvrs?u.Rvrs.v:!1,$=u.Type.v.GrdT,O,n=$=="Rdl"||$=="Dmnd"?"rad":"lin",x=a.T.NA(u,K),l=o.QB(x[0]),N=o.QB(x[1]);
if(n=="rad")O=[l.x,l.y,0,l.x,l.y,kn.je(l,N)];else{l.Q7(N.x+(l.x-N.x)*2,N.y+(l.y-N.y)*2);O=[l.x,l.y,N.x,N.y]}var f=a.T.dZ(u.Grad.v,X);
return{typ:n,mat:[1,0,0,1,0,0],grad:f,crds:O}};kv.aok=function(c,o,K,u,X,$,O,n,x){var l=K.clone(),N=o;
if(c.add.TySh&&!n[3]&&!n[4])return;var f=X.ca,z=X.bmode;for(var Y=gH.order.length-1;Y>=0;Y--){var R=gH.order[Y];
if(R=="GrFl"||R=="SoFi")continue;if((c.add.vmsk||c.add.TySh)&&R=="FrFX")continue;var V=u[R],d=Y>7||R=="FrFX";
if(d!=x)continue;for(var e=0;e<V.length;e++){var p=V[e];if(p.hx==null)p=p.WV?p.WV:p.bi;if(p==null)continue;
var h=p.hx.clone();h.offset(l.x,l.y);if(!d){if(!l.v8(h)){var E=l.X3(h),q=a.R(E.P());a.qv(N,l,q,E);N=q;
l=E}a.Vu(N,l,p.PX,h)}if(d&&R=="FrFX"&&p.vr)a.Vu(p.vr,h,p.PX,h);var Z=new bE;Z.translate(h.x,h.y);X.ca=p.fQ;
X.bmode=eK.amT(p.FS);kv.DI(X,$,p.PX,h,Z,O)}}X.ca=f;X.bmode=z};kv.DI=function(c,o,K,u,X,$){var O=new bE;
O.scale(u.m,-u.e);O.translate(0,u.e);O.concat(X);O.concat($);c.ctm=[O.V,O.J,O.If,O.gI,O.hW,O.qj];o.PutImage(c,K,u.m,u.e);
c.ctm=[1,0,0,1,0,0]};var ce={};ce.Sr=function(c){var o=new Uint8Array(c);return ce.pg(o,0)};ce.pg=function(c,o){var K=_.q,u=_.MQ,X={Il:u(c,o,4),p:o+8,size:K(c,o+4)},$=X.Il=="FORM"||X.Il=="FOR4"||X.Il=="LIST"||X.Il=="CAT ";
if($)X.jD=u(c,o+8,4);if(X.size<0||X.p+X.size>c.length)throw"e";if($){X.sub=[];o+=12;var O=X.p+X.size;
while(o<O){var n=ce.pg(c,o);X.sub.push(n);var x=n.size&1,l=n.size&3;if(X.Il=="FOR4")x=l==0?0:4-l;o+=8+n.size+x}}return X};
var ke={};ke.Sr=function(c,o){var K=new Uint8Array(c);return ke.pg(K,0,o)};ke.pg=function(c,o,K){var u=_.jn,X=_.MQ,$={Il:X(c,o,4),p:o+8,size:u(c,o+4)};
if(K&&K[$.size]!=null)$.size=K[$.size];if($.Il=="RIFF"||$.Il=="LIST"){$.jD=X(c,o+8,4)}if($.size<0||$.p+$.size>c.length)throw"e";
if($.Il=="RIFF"||$.Il=="LIST"&&($.jD!="cmpr"&&$.jD!="stlt")){$.sub=[];o+=12;var O=$.p+$.size;while(o<O){var n=ke.pg(c,o,K);
$.sub.push(n);o+=8+n.size+(n.size&1)}}return $};var eh=function(){function c(P,M){var T=null;if(P.sub==null)return T;
for(var Y=0;Y<P.sub.length;Y++){var C=P.sub[Y];if(C.Il==M||C.jD==M)T=C}return T}function o(P){if(P==32)return 300;
else if(P<49)return 0;else if(P<58)return 100*(P-48);else if(P<65)return 0;return 100*(P-55)}var K;function u(P,M){var T=new Uint8Array(P);
M._K=!0;K={};var C=_.MQ(T,0,2);if(C=="WL"){alert("Unsupported CDR version")}else{var gf,s,b3,jt,hk=300,gP=0;
if(C=="PK"){s=UZIP.parse(T);if(s["content/root.dat"]){T=s["content/root.dat"];b3=_.AF(s["content/dataFileList.dat"]).split("\n")}else{T=s["content/riffData.cdr"];
s=null}}gf=ke.Sr(T.buffer);console.log(gf);var d5=o(T[11]),gh={data:T,p:0,lZ:d5};gh.T$=gh.lZ<600?16:32;
D(T,gh,b3,s,gf.sub,0);var fl=[];if(s){jt=c(gf,"doc ");X(jt);var eq=gf.sub;for(var Y=0;Y<eq.length;Y++)if(eq[Y].jD=="page")fl.push(eq[Y]);
fl=fl.slice(1)}else if(gf.sub[3]&&gf.sub[3].Il=="pack"){alert("We dont support this version of CDR files");
return}else if(c(gf,"cmpr")==null){jt=c(gf,"page");fl.push(jt);if(c(jt,"mcfg")==null){jt=c(gf,"doc ");
X(jt);fl=[];var eq=gf.sub;for(var Y=0;Y<eq.length;Y++)if(eq[Y].jD=="page")fl.push(eq[Y]);fl=fl.slice(1)}}else{var c7=c(gf,"cmpr").sub;
jt=c7[0];fl=[c7.slice(1)[1]];if(c(jt,"filt"))X(jt)}var k8=c(jt,"mcfg").b,hs=k8.ap5,cq=hs.x*.1,jn=hs.x*fl.length+cq*(fl.length-1),an=hs.y;
hk/=hQ.mX(new ez(0,0,Math.round(jn*hk),Math.round(an*hk)),8192*8192);var ds=Math.round(jn*hk),gT=Math.round(an*hk);
M.m=ds;M.e=gT;M.buffer=a.R(M.m*M.e*4);for(var Y=0;Y<fl.length;Y++){var ky=new bE(hk,0,0,-hk,hs.x*hk/2+gP,hs.y*hk/2);
$(fl[Y],jt,M,ky);var ay=M.s[M.s.length-1];ay.oW(new ez(Math.round(gP),0,Math.round(hs.x*hk),Math.round(hs.y*hk)));
ay.XK("Page "+(Y+1));gP+=hs.x*hk+cq*hk}M.xl(fl.length)}}function X(P){var M=c(P,"filt").sub,T=c(P,"otlt").sub,C=c(P,"fntt");
if(C)C=C.sub;P._9={};for(var Y=0;Y<M.length;Y++)P._9[M[Y].sub[0].b.id]=M[Y].sub[0].b;P.d4={};for(var Y=0;
Y<T.length;Y++)P.d4[T[Y].b.id]=T[Y].b;if(C){P.fonts={};for(var Y=0;Y<C.length;Y++)P.fonts[C[Y].b.id]=C[Y].b}}function $(P,M,T,C){var gf=P.jD?P.jD:P.Il,s=c(P,"lgob"),b3=c(P,"txsm"),d5=null,gh=null;
if(s){d5=c(s,"trfl");gh=c(s,"loda")}else if(c(P,"lobj"))gh=c(P,"lobj");var jt=d5&&d5.sub[0].kn?d5.sub[0].kn.clone():new bE;
jt.concat(C);var fl=T.uB();if(gf=="page"||gf=="layr"||gf=="grp "){fl.XK((gf=="page"?"Page":"Group")+" "+T.s.length);
fl.add.lsct=aj.cD;fl.Mh="pass";fl.Ha=24;var eq=[];if(gf=="page")eq=c(P,"gobj").sub;if(gf=="layr")eq=P.sub.slice(2);
if(gf=="grp ")eq=P.sub.slice(4);if(eq.length==0)return;T.s.push(T.FL());for(var Y=eq.length-1;Y>=0;Y--)$(eq[Y],M,T,C)}else if(gf=="obj "&&gh.b&&gh.b.path){var c7,k8;
if(M._9){c7=M._9[gh.b.a97];k8=M.d4[gh.b.akw]}if(c7==null)c7=gh.b.a9p;if(k8==null)k8=gh.b.ahG;fl=O(T,gh.b.path,C,jt,c7,k8)}else if(gf=="obj "&&b3){var hs=gh.b.azQ,cq=gh.b.a1M,hk="";
fl.add.TySh=ii.eS(0,0);var jn=jt.ea();fl.add.TySh.i.translate(jt.hW,jt.qj);var an=fl.add.TySh.Bz,ds=b3.b.f5;
if(ds==null)return;for(var Y=0;Y<ds.length;Y++){var gT=ds[Y],gP=hk.length;hk+=gT.text+"\n";ii.FO(an,gP,gT.text+"\n");
if(gT.text=="")continue;var ky=n(gT.ao7,M),ay=ky.agQ,bb=M.fonts[ay.atQ],ap=ii.Ij(an,gP,hk.length);if(ky.align==3)ap.Xi.Justification=1;
else if(ky.align==2)ap.Xi.Justification=2;else ap.Xi.Justification=0;var c8=ky.fill.b;if(c8==null)c8=[0,0,0];
if(bb.Zc)ii.CQ(ap,bb.Zc);ap.W$.FillColor={Type:1,Values:[1,c8[0],c8[1],c8[2]]};ap.W$.FontSize=Math.round(ay.fontSize*C.ea());
ii.r2(an,gP,hk.length-1,ap)}if(cq){ii.lG(an,0)}else{ii.lG(an,1);ii.lf(an,[0,0,Math.round(hs.x*jt.V),Math.round(-hs.y*jt.gI)])}fl.XK(hk.slice(0,10))}else{fl=null}if(fl)T.s.push(fl)}function O(P,M,T,C,gf,s){var b3=P.uB();
b3.XK("Object "+P.s.length);b3.Ha|=16;var d5=b3.add.vstk=gH.e_.ib();b3.add.vmsk=new gU.JA;b3.add.vmsk.$=a.A.lR(M,!1);
a.o.Ik(b3.add.vmsk.$,C);var gh=gf&&gf.type!=0,jt=gh&&gf.b!=null?gf.b:[0,0,0];eK.cX(jt,b3,C,a.o.$$(b3.add.vmsk.$));
d5.fillEnabled.v=gh;if(s&&s.a6z!=1){d5.strokeEnabled.v=!0;d5.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var fl=d5.strokeStyleLineWidth.v.val=s.lineWidth*T.ea(),eq=s.color;d5.strokeStyleContent.v.Clr.v=a.T.mv({Z:eq[0]*255,r:eq[1]*255,J:eq[2]*255});
if(s.b$.length!=0)d5.strokeStyleLineDashSet.v=bL.Rr(s.b$,4/fl);var c7=s.aiy,k8=s.aqW;if(k8!=0){var hs=M.j,Y=hs.length-4,cq=hs[Y],jn=hs[Y+1],an=hs[Y+2],hk=hs[Y+3],ds=new bE;
ds.scale(.15,.15);ds.rotate(-Math.PI/2+Math.atan2(hk-jn,-(an-cq)));ds.translate(an,hk);ds.concat(C);
if(K[k8]){var gT=O(P,K[k8],T,ds,eq,null);P.s.push(gT)}}}b3.$h();b3.Dm(P);return b3}function n(P,M){var T=c(M,"stlt").b,C=JSON.parse(JSON.stringify(T.dn[P]));
if(C.w2!=0){var gf=T.dn[C.w2];for(var s in gf)if(C[s]==null||C[s]==0)C[s]=gf[s];delete C.w2}C.align=T.ahZ[C.ahe];
C.fill=M._9[T.arP[C.a87]];C.ak3=M.d4[T.aqk[C.ayP]];C.agQ=T.acC[C.atS];return C}function x(Y){var cv=Y.data[Y.p];
Y.p+=1;return cv}function l(Y){var cv=_.Em(Y.data,Y.p);Y.p+=2;return cv}function N(Y){var cv=_.jn(Y.data,Y.p);
Y.p+=4;return cv}function f(Y){var cv=_.jn(Y.data,Y.p);Y.p+=8;return cv}function z(Y){var cv=_.JH(Y.data,Y.p);
Y.p+=2;return cv}function R(Y){var cv=_.Sz(Y.data,Y.p);Y.p+=4;return cv}function V(Y){var cv=_.zw(Y.data,Y.p);
Y.p+=8;return cv}function d(Y){if(Y.p>=Y.data.length)throw"e";var P=0;while(Y.data[Y.p+P]!=0)P++;var M=_.MQ(Y.data,Y.p,P);
Y.p+=P+1;return M}function e(Y){var P="";while(!0){var M=l(Y);if(M==0)break;P+=String.fromCharCode(M)}return P}function p(P){var M=N(P),T=(M&4294901760)>>>16,C=(M&65535)/65535;
return T+C}function h(P){if(P.lZ<600)return Math.PI*z(P)/1800;return Math.PI*R(P)/18e7}function E(P){if(P.lZ<1500)return q(P);
else return V(P)/254e3}function q(P){if(P.lZ<600)return z(P)/1e3;else return R(P)/254e3}function Z(P){if(P.lZ<600)return l(P);
else return N(P)}function v(P){if(P.lZ<600)return z(P);else return R(P)}function W(P,M,T){var C="";for(var Y=0;
Y<T;Y++){for(var gf=0;gf<M;gf+=4){var cv=_.jn(P.data,P.p+Y*M+gf);C+=(cv<500?cv:cv)+","}C+="\n"}return C}function D(P,M,T,C,gf,s){var b3,d5,gh;
for(var jt=0;jt<gf.length;jt++){var fl=M.lZ,eq=gf[jt];M.data=P;M.p=eq.p+(eq.Il=="LIST"?4:0);if(C&&eq.sub==null){b3=N(M);
d5=N(M);gh=N(M);var c7=l(M);if(c7!=0)throw"e";var k8=l(M);if(k8>32)throw"e";M.p-=16;if(b3!=4294967295){M.data=C["content/data/"+T[b3]];
M.p=gh}}if(eq.Il=="vrsn"){if(eq.size==16)M.p+=8;var hs=l(M);M.lZ=hs;console.log("Version",hs);M.T$=hs<600?16:32}else if(eq.Il=="DISP"){}else if(eq.Il=="pack"){var cq=N(M),jn=_.MQ(M.data,M.p,4),ds=0;
if(jn!="CPng")throw jn;var an=new Uint8Array(M.data.buffer,M.p+8+2,eq.size-10-4),hk=pako.inflateRaw(an);
eq.sub=[];while(ds<hk.length){var gT=ke.pg(hk,ds);ds=gT.p+gT.size;eq.sub.push(gT)}var gP={data:hk,p:0,lZ:fl,T$:M.T$};
D(hk,gP,T,C,eq.sub,s+1)}else if(eq.Il=="LIST"&&eq.jD=="cmpr"){var ky=N(M),ay=N(M),bb=N(M),cq=N(M),jn=_.MQ(M.data,M.p,4),ds=0;
if(jn!="CPng")throw jn;var an=new Uint8Array(M.data.buffer,M.p+8+2,ky-6-8),hk=pako.inflateRaw(an);M.p+=ky;
an=new Uint8Array(M.data.buffer,M.p+8+2);var ap=pako.inflateRaw(an),cR=[];for(var c8=0;c8<ap.length;
c8+=4)cR.push(_.jn(ap,c8));eq.sub=[];while(ds<hk.length){var gT=ke.pg(hk,ds,cR);ds=gT.p+gT.size;eq.sub.push(gT)}var gP={data:hk,p:0,lZ:fl,T$:M.T$};
D(hk,gP,T,C,eq.sub,s+1)}else if(eq.Il=="LIST"&&eq.jD=="stlt"||eq.Il=="stlt"){if(b3==4294967295)return;
var gr=M.p,cr="",bo=32;eq.b={};var fF=N(M);if(fF==0)return;eq.b.arP=F(M,fl>=1300);eq.b.aqk=F(M);eq.b.acC={};
var cj=N(M);for(var Y=0;Y<cj;Y++){var br=N(M);M.p+=fl<1e3?12:20;var hX=l(M),gG=l(M);M.p+=8;var jx=q(M);
M.p+=fl<1e3?12:20;eq.b.acC[br]={atQ:hX,a5_:gG,fontSize:jx}}eq.b.ahZ=F(M);var a8=N(M);cr+="Intervals\n"+W(M,52,a8)+"\n";
M.p+=52*a8;var f8=N(M);cr+="Set5s\n"+W(M,152,f8)+"\n";M.p+=152*f8;var dW=N(M);cr+="Tabs\n"+W(M,784,dW)+"\n";
M.p+=784*dW;var g7=N(M);cr+="Bullets\n";for(var Y=0;Y<g7;Y++){var eU=M.p,f7=N(M);M.p+=4*3;if(fl>1300)M.p+=4;
var d7=N(M);M.p+=4*5;if(fl>=1300){var aW=N(M);if(aW){if(N(M))M.p+=64;else M.p+=60}else M.p+=12}else{M.p+=20;
if(fl>=1e3)M.p+=8;if(N(M))M.p+=8;M.p+=8}var cy=M.p;M.p=eU;cr+=W(M,cy-eU,1);M.p=cy}cr+="\n";var dh=N(M);
cr+="Indents\n";eq.b.ak5={};for(var Y=0;Y<dh;Y++){var eU=M.p,fh=N(M),dP={};M.p+=12;dP.right=q(M);dP.aCS=q(M);
dP.left=q(M);eq.b.ak5[fh]=dP;var cy=M.p;M.p=eU;cr+=W(M,cy-eU,1);M.p=cy}cr+="\n";var fg=N(M);if(fl>=1300)bo+=4;
cr+="Hypens\n"+W(M,bo,fg)+"\n";M.p+=bo*fg;var jK=N(M);cr+="Dropcaps\n"+W(M,28,jK)+"\n";M.p+=28*jK;if(fl>800){var jQ=N(M);
cr+="Set11s\n"+W(M,28,jQ)+"\n";M.p+=12*jQ}eq.b.dn={};for(var Y=0;Y<fF;Y++){var aZ=N(M);if(aZ>3)throw aZ;
var eo=N(M),dC={};dC.w2=N(M);M.p+=8;var hG=N(M);if(fl>=1200)hG*=2;M.p+=hG;dC.a87=N(M);dC.ayP=N(M);if(aZ>1){dC.atS=N(M);
dC.ahe=N(M);dC.auV=N(M);dC.anZ=N(M);if(fl>800)dC.a84=N(M)}if(aZ>2){dC.an0=N(M);dC.a9e=N(M);dC.abl=N(M);
dC.aig=N(M);dC.aqH=N(M)}eq.b.dn[eo]=dC}}else if(eq.Il=="LIST")D(P,M,T,C,eq.sub,s+1);else if(eq.Il=="txsm"){eq.b={};
if(fl<600)throw"e";if(fl<700)throw"e";if(fl>=1600){eq.b=b(M);return}if(fl>=1500)M.p+=37;else M.p+=36;
if(N(M)){if(fl<800)M.p+=32}if(fl<800)M.p+=4;eq.b.ac_=N(M);eq.b.f5=[];M.p+=48;if(fl>=800){if(N(M)){M.p+=32;
if(fl>=1300)M.p+=8}}if(fl>=1500)M.p+=12;var aZ=N(M),dy=1,fw=!1;if(!aZ){if(fl>=800)M.p+=4;if(fl>800)M.p+=2;
if(fl>=1400)M.p+=2;M.p+=24;if(fl<800)M.p+=8;dy=N(M)}for(var c8=0;c8<dy;c8++){var dM=N(M),Y=0;if(fl>=1300&&aZ)M.p++;
M.p++;var fF=N(M),aX=[];for(Y=0;Y<fF;Y++){var fy=x(M),aU=0;x(M);var gp=x(M);if(fl>=800)aU=x(M);var dC={};
if(gp&1){dC.atQ=l(M);var e7=l(M);if(e7)dC.a8W=e7}if(gp&2)M.p+=4;if(gp&4)dC.ark=q(M);if(gp&8)M.p+=4;if(gp&16)M.p+=4;
if(gp&32)M.p+=4;if(gp&64){dC.a87=N(M);if(fl>=1500)M.p+=48}if(gp&128){dC.ayP=N(M)}if(aU&8){if(fl>=1300){var eV=N(M);
if(M.p+eV*2>=M.data.length){fw=!0;break}M.p+=eV*2}else M.p+=4}if(aU&32){var b8=x(M);if(b8)M.p+=52}if(fy==2)if(fl>=1300)M.p+=48;
aX.push(dC)}if(fw){break}var h$=N(M);if(M.p+h$*4>M.data.length)break;var jZ=[];for(Y=0;Y<h$;Y++){var bu=0;
if(fl>=1200)bu=f(M)&4294967295;else bu=N(M);jZ[Y]=bu>>16|bu&1}var dL=h$;if(fl>=1200)dL=N(M);var iv=d(M);
eq.b.f5.push({ao7:dM,text:iv,dn:aX})}}else if(eq.Il=="arrw")eq.b=I(M);else if(eq.Il=="font"){var eU=M.p,k5=l(M),ir=l(M),cu="";
M.p+=14;if(M.lZ>=1200)cu=e(M);else cu=d(M);eq.b={id:k5,asW:ir,name:cu};if(C){var az=eU+d5;while(M.data[M.p]==0)M.p++;
M.p+=2;var jj=e(M);while(M.data[M.p]==0)M.p++;while(M.data[M.p]<=2)M.p+=4;eq.b.Zc=e(M)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(eq.Il)!=-1){}else if(eq.Il=="flgs")eq.b=N(M);
else if(eq.Il=="bbox"){var hM=q(M),je=q(M),bP=q(M),bD=q(M);eq.b=new ez(hM,je,bP-hM,bD-je)}else if(eq.Il=="fild"){var aC=N(M),cm;
if(fl>=1300)M.p+=8;var bV=l(M);if(bV==0){}else if(bV==1){M.p+=fl>=1300?13:2;cm=G(M)}else if(bV==2){M.p+=fl>=1300?8:2;
var e3=x(M),eT=0;if(fl>=1300){M.p+=17;eT=z(M)}else if(fl>=600){M.p+=19;eT=R(M)}else{M.p+=11;eT=z(M)}var b6=h(M),jH=.5+v(M),b_=.5+v(M)-.5;
if(fl>=600)M.p+=2;var jc=Z(M)&255,g3=x(M)/100;M.p++;var hy=Z(M)&65535;if(fl>=1300)M.p+=3;var jD=[];for(var Y=0;
Y<hy;Y++){var fa=G(M);if(fl>=1400)M.p+=26;else if(fl>=1300)M.p+=5;var a0=(Z(M)&65535)/100;if(fl>=1300)M.p+=3;
jD.push([a0,fa])}cm={typ:e3==1?"lin":"rad",crds:[jH-Math.cos(b6)/2,b_-Math.sin(b6)/2,jH,b_],grad:jD,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",bV);
eq.b={id:aC,type:bV,b:cm}}else if(eq.Il=="outl"){var eQ=N(M);if(fl>=1300){var cd=0,iB=0;while(cd!=1){M.p+=iB;
cd=N(M);iB=N(M)}}var dm=l(M),dG=l(M),gE=l(M);if(fl<1300&&fl>=600)M.p+=2;var hF=q(M),jz=l(M)/100;if(fl>=600)M.p+=2;
var bw=h(M);if(fl>=1300)M.p+=46;else if(fl>=600)M.p+=52;var cm=G(M);if(fl<600)M.p+=10;else M.p+=16;var ix=l(M),ig=M.p,aT=[];
for(var Y=0;Y<ix;++Y)aT.push(l(M));if(fl<600)M.p=ig+20;else M.p=ig+22;var cx=N(M),f$=N(M);eq.b={id:eQ,a6z:dm,agd:dG,auK:gE,lineWidth:hF,color:cm,b$:aT,aiy:cx,aqW:f$}}else if(eq.Il=="mcfg"){if(1300<=fl)M.p+=12;
else if(900<=fl)M.p+=4;else if(600<=fl&&fl<700)M.p+=28;var eN=0,dK=0;if(fl<400){M.p+=2;var hM=q(M),je=q(M),bP=q(M),bD=q(M);
eN=Math.abs(bP-hM);dK=Math.abs(bD-je)}else{eN=q(M);dK=q(M)}eq.b={ap5:new kn(eN,dK)}}else if(eq.Il=="loda"||eq.Il=="lobj"){var gr=M.p,iH=Z(M),k7=Z(M),b0=Z(M),bK=Z(M),i5=Z(M),hP=[],i2=[],Y=0,j4=null;
M.p=gr+b0;while(Y<k7)hP[Y++]=Z(M);M.p=gr+bK;while(Y>0)i2[--Y]=Z(M);eq.b={};for(Y=0;Y<k7;Y++){M.p=gr+hP[Y];
var e1=i2[Y];if(e1==30){if(fl>=400&&i5==1||fl<400&&i5==0){eq.b.path=L(M)}else if(fl>=400&&i5==2||fl<400&&i5==1){eq.b.path=t(M)}else if(fl>=400&&i5==3||fl<400&&i5==2){eq.b.path=H(M)}else if(i5==37){eq.b.path=i(M)}else if(fl>=400&&i5==4||fl<400&&i5==3){eq.b.a1M=B(M)}else if(fl>=400&&i5==6||fl<400&&i5==5){eq.b.azQ=k(M)}else console.log(i5)}else if(e1==20){if(fl<400)eq.b.a9p=U(M);
else eq.b.a97=N(M)}else if(e1==10){if(fl<400)eq.b.ahG=w(M);else eq.b.akw=N(M)}else if(e1==200)eq.b.a5b=Z(M);
else if(e1==100){if(fl<400)j4=A(M)}}if(j4&&eq.b.path)a.A.i(eq.b.path.j,j4,eq.b.path.j)}else if(eq.Il=="trfd"){var gr=M.p,iH=Z(M),k7=Z(M),b0=Z(M);
M.p=gr+b0;var hP=[];for(var Y=0;Y<k7;Y++)hP[Y]=Z(M);for(var Y=0;Y<k7;Y++){M.p=gr+hP[Y];if(fl>=1300)M.p+=8;
var au=l(M);if(au==8){var cn,cN,hM,bg,i7,je;if(fl>=600)M.p+=6;if(fl>=500){cn=V(M);cN=V(M);hM=V(M)/(fl<600?1e3:254e3);
bg=V(M);i7=V(M);je=V(M)/(fl<600?1e3:254e3)}else throw"e";eq.kn=new bE(cn,bg,cN,i7,hM,je)}else console.log(au)}}else if(!1){console.log(eq);
var hl=Math.min(eq.size,32);console.log(_.bY(P,eq.p,hl));console.log(_.aBV(P,eq.p,hl))}}}function I(P){var M=N(P);
P.p+=4;var T=l(P);P.p+=4;var C=[];for(var gf=0;gf<T;gf++)C.push(x(P));P.p+=1;var s=[];for(var b3=0;b3<T;
b3++){var d5=[];d5[1]=q(P);d5[0]=q(P);s.push(d5)}var gh=j(s,C);K[M]=gh}function A(P){var M=0,T=0,C=0,gf=0,s=0,b3=0;
if(P.lZ>=300){var d5=P.p;P.p+=10;var gh=Z(P);P.p=d5+gh;M=p(P);T=p(P);C=R(P)/1e3;gf=p(P);s=p(P);b3=R(P)/1e3}else{C=q(P);
b3=q(P);M=p(P);T=p(P);C+=p(P)/1e3;gf=p(P);s=p(P);b3+=p(P)/1e3}return new bE(M,T,gf,s,C,b3)}function U(P){var M=x(P);
if(M==0)return null;else if(M==1)return G(P);else console.log(M)}function w(P){var M=x(P);M<<=1;var T=q(P),C=l(P)/100,gf=h(P),s=G(P);
return{a6z:M,lineWidth:T,color:s,b$:[],aiy:0,aqW:0}}function t(P){var M=q(P),T=q(P),C=h(P),gf=h(P),s=a.A.Uk(a.o.YP.AT(0,0,M,T));
return s}function L(P){var M=P.lZ,T=E(P),C=E(P),gf=0,s=0,b3=0,d5=0,gh=0,jt=1,fl=1;if(M<1500){d5=E(P);
b3=M<900?d5:E(P);s=M<900?d5:E(P);gf=M<900?d5:E(P)}else{var eq=V(P);if(eq!=0)jt=eq;eq=V(P);if(eq!=0)fl=eq;
var c7=x(P);P.p+=7;if(c7==0){d5=V(P);gh=x(P);P.p+=15;b3=V(P);P.p+=16;s=V(P);P.p+=16;gf=V(P);var k8=Math.abs(T*jt/2),hs=Math.abs(C*fl/2);
d5*=k8<hs?k8:hs;b3*=k8<hs?k8:hs;s*=k8<hs?k8:hs;gf*=k8<hs?k8:hs}else{d5=E(P);gh=x(P);P.p+=15;b3=E(P);
P.p+=16;s=E(P);P.p+=16;gf=E(P)}}return a.A.Uk(a.o.YP.Rect(0,0,T,C,[gf,s,b3,d5]))}function J(P){var M=N(P);
if(P.lZ<1700)M*=2;P.p+=M;return""}function b(P){var M=N(P),C=0;P.p+=37;var T=N(P);for(var Y=0;Y<T;Y++){var gf=N(P);
C=gf;P.p+=48;var s=N(P);if(s==1)P.p+=12*4;else P.p+=8;if(!M){P.p+=16;J(P)}}var b3={ac_:C,f5:[]},d5=N(P);
for(var gh=0;gh<d5;gh++){var jt=N(P),gT="";P.p+=1;if(M)P.p+=1;var fl=J(P),eq=N(P);for(var Y=0;Y<eq;Y++){P.p+=2;
var c7=l(P),k8=l(P);if(k8&4){var hs=N(P);hs*=2;P.p+=hs}if(c7||k8&4){var cq=J(P)}}var jn=N(P),an=[];for(var Y=0;
Y<jn;Y++){var hk=f(P)&4294967295;an[Y]=hk>>16|hk&1}var ds=N(P);for(var Y=0;Y<jn;Y++){var gP=an[Y]&7,ky=0;
if(gP==0||gP==2||gP==4||gP==6)ky=P.data[P.p++];else if(gP==1||gP==3)ky=P.data[P.p++]+P.data[P.p++]*256;
else throw gP;gT+=String.fromCharCode(ky)}var ay=gT.split("\r");for(var Y=0;Y<ay.length;Y++)b3.f5.push({text:ay[Y],ao7:jt,dn:[]})}return b3}function F(P,M){var T={},C=N(P);
for(var Y=0;Y<C;Y++){var gf=N(P);P.p+=4;var s=N(P);T[gf]=s;if(M)P.p+=48}return T}function B(P){var M=q(P),T=q(P);
return new kn(M,T)}function k(P){P.p+=4;var M=q(P),T=q(P);return new kn(M,T)}function i(P){P.p+=4;var M=l(P)+l(P);
P.p+=16;var T=m(P,M);return T}function H(P){var M=l(P);P.p+=2;return m(P,M)}function m(P,M){var T=[],C=[];
for(var Y=0;Y<M;Y++)T.push([q(P),q(P)]);for(var Y=0;Y<M;Y++)C.push(x(P));return j(T,C)}function j(P,M){var T={j:[],G:[]},C=0,gf=0,s=0;
for(var Y=0;Y<P.length;Y++){var C=P[Y][0],gf=P[Y][1],b3=M[Y];if(!(b3&64)&&!(b3&128)||Y==0){T.j.push(C,gf);
T.G.push("M");s+=2}else if(b3&64&&!(b3&128)){T.j.push(C,gf);T.G.push("L");s+=2}else if(!(b3&64)&&b3&128){T.j.push(C,gf);
T.G.push("C");s+=6}else if(b3&64&&b3&128){T.j.push(C,gf)}}if(s!=T.j.length)throw"e";return T}function Q(P,M){var T=_.jn;
M+=8;var C=T(P,M);M+=4;var gf=T(P,M);M+=4;M+=4*7;var s=M,b3=a.R(C*gf*4);M+=1024;for(var d5=0;d5<gf;d5++)for(var gh=0;
gh<C;gh++){var Y=d5*C+gh,jt=(gf-d5-1)*C+gh,fl=P[M+Y]<<2,eq=jt<<2;b3[eq+0]=P[s+fl+2];b3[eq+1]=P[s+fl+1];
b3[eq+2]=P[s+fl+0];b3[eq+3]=255}return{PX:b3,rect:new ez(0,0,C,gf)}}function G(P){var M=P.lZ,T=0,C=0,gf=0;
if(M>=500){T=l(P);if(T==1&&M>=1300)T=25;if(T==30){T=25;C=30}else{C=l(P);P.p+=4}gf=N(P)}else if(M>=400)throw"e";
else{T=x(P);gf=N(P)}return g(T,C,gf)}function g(P,M,T){var C=[0,0,0];if(P==2||P==3||P==9||P==17){var gf=[T>>>0&255,T>>>8&255,T>>>16&255,T>>>24&255];
if(P==2)for(var Y=0;Y<4;Y++)gf[Y]=Math.round(255*gf[Y]/100);for(var Y=0;Y<4;Y++)gf[Y]/=255;C=UDOC.C.cmykToRgb(gf)}else if(P==1||P==5){C=[T>>>0&255,T>>>8&255,T>>>16&255];
for(var Y=0;Y<3;Y++)C[Y]=C[Y]/255;if(P==5)C.reverse()}else console.log("Unknown color model "+P,T,T.toString(16));
return C}return{Sr:u}}(),cU=function(){var c,o,K=new ArrayBuffer(4),u=new Uint8Array(K),X=new Uint32Array(K),$=new Float32Array(K);
function O(z,R){for(var V=0;V<z.length;V++)if(z[V][0]==R)return z[V]}function n(){var z=0,R=0,V=0;do{V=c[o++];
z|=(V&127)<<R;R+=7}while(V&128&&R<35);return z>>>0}function x(z,R,V,d,e){c=z;o=R;var p=d[0]=="mesg",h=d[2],E={},q=1,Z=p?1e9:h.length;
while(q<=Z){var v=q;if(p){v=n();if(v==0)break}var W=O(h,v),D=W[2],I=W[1]==1,A=I?n():1,U=new Array(A);
if(D==3){if(!I)throw"e";U=c.slice(o,o+A);o+=A}else for(var Y=0;Y<A;Y++){var w;if((D&1)==1){if(D==1)w=c[o++]==1;
else if(D==3)w=c[o++];else if(D==5){var t=n();w=t&1?~(t>>>1):t>>>1}else if(D==7)w=n();else if(D==9){if(c[o]==0){w=0;
o++}else{u[0]=c[o];u[1]=c[o+1];u[2]=c[o+2];u[3]=c[o+3];var L=X[0];X[0]=L<<23|L>>>9;w=$[0];o+=4}}else if(D==11){var J=l(c,o);
w=J[0];o+=J[1]+1}else throw D}else{var b=V[D>>>1];if(b[0]=="enum"){var F=n();w=b[2][F]}else{var B=x(c,o,V,b,e+1);
w=B[0];o=B[1]}}U[Y]=w}E[W[3]]=I?U:U[0];q++}return[E,o]}function l(z,R){var V=R;while(z[V]!=0)V++;return[_.AF(new Uint8Array(z.buffer,R,V-R)),V-R]}function N(z,R){var V=R;
while(z[V]!=0)V++;for(var Y=R;Y<V;Y++)if(z[Y]>127)throw"e";return _.MQ(z,R,V-R)}function f(z){c=z;o=1;
var R=[];while(o<z.length){var V=o,d=R.length,e=N(z,o);o+=e.length+1;var p=n();if(p>2)throw"e";var h=n(),E=[];
for(var Y=0;Y<h;Y++){var q=N(z,o);o+=q.length+1;var Z=n(),v=n(),W=n();E.push(p==0?q:[W,v,Z,q])}R.push([["enum","strc","mesg"][p],e,E])}return R}return{anK:f,ap6:x}}();
function ju(){}ju.Sr=function(c,o){var K=Date.now(),u=new Uint8Array(c),X=8,$,f=0,B=0;if(u[0]==80&&u[1]==75){$=UZIP.parse(c);
u=$["canvas.fig"]}var O=_.jn(u,X);X+=4;var n=[];while(X<u.length){var x=_.jn(u,X);X+=4;var l=u.slice(X,X+x);
if(u[X]==137&&u[X+1]==80){}else l=UZIP.inflateRaw(l);n.push(l);X+=x}var N=cU.anK(n[0]);for(var Y=0;Y<N.length;
Y++)if(N[Y][1]=="Message")f=Y;var z=cU.ap6(n[1],0,N,N[f],0)[0],R={kB:{},ba:{},adQ:{},Me:$},V=z.nodeChanges;
for(var d=0;d<V.length;d++){var e=V[d],p=e.guid;R.ba[p.sessionID+","+p.localID]=e}for(var d=0;d<V.length;
d++){var e=V[d],p=e.parentIndex;if(p){var h=ju.pm(R.ba,p.guid);if(h.children==null)h.children=[];h.children.push(e)}}var E=V[0],q=E.children,Z=new ez,v=[],W=[];
for(var p=0;p<q.length;p++){var D=q[p],I=D.children;if(D.name=="Internal Only Canvas"||I==null)continue;
var A=new ez;for(var Y=0;Y<I.length;Y++){var U=I[Y],w=U.transform,t=U.size;if(w.m00==1&&w.m10==0&&w.m01==0&&w.m11==1){var L=new ez(w.m02,w.m12,t.x,t.y);
A=A.X3(L)}}var J=Z.e==0?0:Z.e+100,b=A.clone();b.x=0;b.y=J;Z=Z.X3(b);v[p]=A;W[p]=J}var F=hQ.mX(new ez(0,0,Z.m,Z.e),8192*8192);
o.m=Math.round(Z.m/F);o.e=Math.round(Z.e/F);o.buffer=a.R(o.m*o.e*4);for(var p=0;p<q.length;p++){var D=q[p],I=D.children;
if(D.name=="Internal Only Canvas"||I==null)continue;I.sort(ju.aAK);var k=new bE(1,0,0,1,-v[p].x,W[p]-v[p].y);
k.scale(1/F,1/F);for(var Y=0;Y<I.length;Y++){var U=I[Y];ju.Wq(U,[],k,z.blobs,o,0,R);B++}}o.xl(B);o._K=!0;
if(F!=1)alert("File scaled down "+F+"x")};ju.Wq=function(c,o,K,u,X,$,O){var n=ju,A=!1,U,L=!1,J,b;o=JSON.parse(JSON.stringify(o));
var x=c.overrideKey?c.overrideKey:c.guid;for(var Y=0;Y<o.length;Y++){var l=o[Y],N=l.guidPath.guids;if(n.a3E(N[0],x)){if(N.length==1){var f={};
for(var z in c)f[z]=l[z]!=null?l[z]:c[z];c=f}else l.guidPath.guids=N.slice(1)}}var R=c.type,V=c.children,d=c.size,e=c.effects,p=X.uB();
p.XK(c.name);p.OG(c.visible);p.opacity=Math.round(c.opacity*255);var h=n.nj(c.transform),E=h.clone();
E.concat(K);if(d==null)d={x:0,y:0};var q=new ez(Math.round(E.hW),Math.round(E.qj),Math.round(d.x*E.ea()),Math.round(d.y*E.ea()));
if(q.m==0||isNaN(q.m))q.m=100;if(q.e==0||isNaN(q.e))q.e=100;var Z=c.fillPaints,v=c.inheritFillStyleID;
if(v){var f=n.pm(O.ba,v);if(f)Z=f.fillPaints}if(Z==null)Z=[];var Z=n.amI(Z),W=Z[0];if(W&&W.type=="IMAGE"&&n.i9(u,ju.Yt(W),O,!0)==null)W=null;
var D=c.strokePaints,v=c.inheritFillStyleIDForStroke;if(v){var f=n.pm(O.ba,v);if(f)D=f.fillPaints}if(D==null)D=[];
var D=n.amI(D),I="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(R)!=-1;
if(I||R=="FRAME"){U=new gU.JA;n.a4o(c,u,U);A=a.o.H$(U.$);a.o.Ik(U.$,E);var w=a.A.Qt(a.o.$$(U.$));if(!w.SR())q=w;
if(O.kB.D5&&W){var t=gU.JA.qA(O.kB.D5.$);for(var Y=2;Y<t.length;Y++)if(t[Y].cS!=null)t[Y].cS=3;U.$=U.$.concat(t.slice(2))}}if(W&&W.type=="IMAGE"){b=W.imageScaleMode;
L=!0;var F=W.originalImageWidth,B=W.originalImageHeight;if(F*B==0){var k=n.i9(u,ju.Yt(W),O);F=k.yS.m;
B=k.yS.e}var i=F/B,H=d.x/d.y;J=Math.abs(i-H)}if(R=="FRAME"){}else if(I&&A&&L&&(b=="FIT"||b=="FILL"&&J<=.05||b=="STRETCH"&&J<=.05)){var m=n.i9(u,ju.Yt(W),O,!0),j=X.ra(m,p.getName(),0,0);
j.Ha=p.Ha;j.opacity=p.opacity;p=j;var Q=new ez(0,0,d.x,d.y);if(b=="FIT"){var G=W.originalImageWidth,g=W.originalImageHeight,P=Math.min(d.x/G,d.y/g),M=G*P,T=g*P;
Q=new ez(Q.x+(Q.m-M)/2,Q.y+(Q.e-T)/2,M,T)}var C=a.A.W6(Q).j;a.A.i(C,E,C);p.add.SoLd.Trnf=r.W.yf(C);p.add.SoLd.nonAffineTransform=r.W.yf(C);
var gf=[],e=c.effects,s=W.paintFilter;if(e)for(var Y=0;Y<e.length;Y++)if(e[Y].type=="FOREGROUND_BLUR"){var b3=e[Y],d5=gZ.FB("GsnB",{});
gf.push(d5);d5.v.enab.v=b3.visible;d5.v.Fltr.v.Rds.v.val=b3.radius/2.4}if(s&&s.exposure!=0){var d5=gZ.FB("brit",{});
gf.push(d5);d5.v.Fltr.v.Brgh.v=Math.round(s.exposure*160);d5.v.Fltr.v.useLegacy.v=!0}if(s&&s.vibrance!=0){var d5=gZ.FB("vibA",{});
gf.push(d5);d5.v.Fltr.v.Strt.v=Math.round(Math.round(s.vibrance*100))}if(gf.length!=0){p.add.SoLd.filterFX=gZ.pp();
X.mj({id:p.add.SoLd.placed.v,rect:new ez,buffer:a.R(1),F:new gU.bQ});p.add.SoLd.filterFX.v.filterFXList.v=gf}p.oP(X,!1);
n.a2h(O,p,X)}else if(I){n.a2U(p,U,c,W,D,E,q,u,X,O);if(e)for(var Y=0;Y<e.length;Y++){var b3=e[Y];if(b3.type!="FOREGROUND_BLUR")continue;
U.ej=b3.radius/2.4}p.$h();p.Dm(X)}else if(R=="TEXT"){var gh=c.textData,jt=gh.layoutSize,fl=["LEFT","RIGHT","CENTER"].indexOf(c.textAlignHorizontal);
p.add.lnsr="rend";p.add.TySh=ii.eS(0,0);p.add.TySh.FD=new ez(0,0,100,100);var eq=E.clone();p.add.TySh.i=eq;
var c7=p.add.TySh.Bz,k8=gh.characters;if(c.textCase=="TITLE"){for(var Y=0;Y<k8.length;Y++)if(Y==0||k8[Y-1]==" "){var hs=k8.slice(0,Y),cq=k8.slice(Y+1);
k8=hs+k8[Y].toUpperCase()+cq}}k8=k8.replace(/\u2028/g,"\n");k8=k8.replace(/\u2029/g,"\n");k8=k8.replace(/\r\n/g," \n");
ii.FO(c7,0,k8);var jn=c.textAutoResize,an=gh.baselines;if(jn=="WIDTH_AND_HEIGHT"){var hk=fl==0?0:fl==1?jt.x:jt.x/2,ds=an?an[0].position.y:0;
eq.translate(hk*E.ea(),ds*E.ea());ii.lG(c7,0)}else if(jn=="HEIGHT"||jn=="NONE"||jn==null){var ds=an?an[0].position.y-c.fontSize*.7:0;
eq.translate(0,ds*E.ea());ii.lG(c7,1);ii.lf(c7,[0,0,Math.round(jt.x),Math.round((jn=="NONE"?1.8:1)*jt.y)])}else throw jn;
if(k8!=""){var gT=ii.Ij(c7,0,1);n.abQ(c,E,d,gT,p,u,X,O);ii.r2(c7,0,k8.length,gT);var gP=gh.characterStyleIDs,ky=gh.styleOverrideTable;
if(gP){gP=gP.slice(0);for(var Y=0;Y<gP.length;Y++)if(k8[Y]=="\n")gP[Y]=-Y-1;var ay=[0],bb=0,ap=0;for(var Y=0;
Y<gP.length;Y++){ap++;var cR=gP[Y];if(Y==0||cR==gP[Y-1]){}else{ay.push(ap-1,Y);ap=1}}ay.push(ap);for(var Y=0;
Y<ay.length;Y+=2){var c8=ay[Y],gr=ay[Y+1];if(k8[c8]=="\n")continue;var cR=gP[c8];if(cR!=0){var fF;for(var cj=0;
cj<ky.length;cj++)if(ky[cj].styleID==cR)fF=ky[cj];var gT=ii.Ij(c7,c8,c8+1);n.abQ(fF,E,d,gT,p,u,X,O);
ii.r2(c7,c8,c8+gr-1,gT)}}}}}else if(R=="SYMBOL"){}else if(R=="INSTANCE"){var br=c.symbolData,hX=br.symbolOverrides,f=n.pm(O.ba,br.symbolID);
if(f)V=f.children;else console.log(c.name,"symbol not found",br.symbolID);o=o.slice(0);for(var Y=0;Y<hX.length;
Y++)o.push(hX[Y])}else console.log(R);if(!1){}else if(V&&!I){X.s.push(X.FL());var gG=!1,jx=$==0&&R!="SYMBOL"&&R!="INSTANCE";
if(jx){if(q.SR())console.log(q);p.oW(q)}W=Z[Z.length-1];if(W&&W.type=="IMAGE"&&n.i9(u,ju.Yt(W),O,!0)==null)W=null;
if(jx&&W&&W.type=="SOLID"){var cr=W.color;p.add.artb.artboardBackgroundType.v=4;p.add.artb.Clr=n.Bg(cr)}else if((W||D[0])&&U){var a8=X.uB();
a8.XK("Background");n.a2U(a8,U,c,W,D,E,q,u,X,O);a8.$h();a8.Dm(X);X.s.push(a8);gG=!0}V.sort(n.aAK);var f8=O.kB;
O.kB={};for(var dW=0;dW<V.length;dW++)n.Wq(V[dW],o,E,u,X,$+1,O);O.kB=f8;p.add.lsct=!1?aj.cD:aj.Qw;p.Mh="pass";
var g7=p.IT();p.Ha=24;p.OG(g7);var eU=$!=0&&Z.length!=0&&!c.frameMaskDisabled&&c.containerSupportsFillStrokeAndCorners;
if(!gG&&eU&&U){p.add.vmsk=U;p.$h();p.Dm(X)}else n.a2h(O,p,X);X.s.push(p)}else if(c.mask){if(U){O.kB.D5=U}}else{var f7=[],fg=1;
if(e)for(var d7=0;d7<e.length;d7++){var b3=e[d7],aW=b3.color,cy=b3.type,dh=["DROP_SHADOW","INNER_SHADOW"].indexOf(cy);
if(dh!=-1){var fh=["DrSh","IrSh"][dh],dP=JSON.parse(gH.R$[gH.order.indexOf(fh)]);f7.push([fh,dP]);dP.enab.v=b3.visible;
dP.Md.v.BlnM=ef.aj(n.ajn(b3.blendMode));dP.Opct.v.val=Math.round(100*aW.a);dP.blur.v.val=Math.round(b3.radius*E.ea());
dP.Clr=n.Bg(aW);var hk=b3.offset.x,ds=b3.offset.y;dP.uglg.v=!1;dP.lagl.v.val=Math.round(180/Math.PI*Math.atan2(ds,-hk));
dP.Dstn.v.val=Math.round(Math.sqrt(hk*hk+ds*ds)*E.ea())}}if(R=="TEXT"&&Z[0]&&Z[0].type!="SOLID")fg=0;
for(var Y=fg;Y<Z.length;Y++){var bo=Z[Y],jK=n._w(c,bo,E,q,u,X,O);if(jK[0]=="GdFl")f7.push(["GrFl",jK[1]]);
else if(jK[0]=="SoCo")f7.push(["SoFi",jK[1]]);else if(jK[0]=="PtFl")f7.push(["patternFill",jK[1]]);else if(jK[0]=="None"){}else throw jK}if(!I)for(var Y=0;
Y<D.length;Y++){var bo=D[Y],jK=n._w(c,bo,E,q,u,X,O);if(jK[0]=="SoCo"){var dP=JSON.parse(gH.R$[gH.order.indexOf("FrFX")]);
f7.push(["FrFX",dP]);dP.enab=jK[1].enab;dP.Opct=jK[1].Opct;dP.Md=jK[1].Md;dP.Clr=jK[1].Clr;dP.Sz.v.val=Math.round(c.strokeWeight);
var jQ=c.strokeAlign;if(jQ)dP.Styl.v.FStl=gH.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(jQ)]}}if(f7.length!=0){var aZ=JSON.parse(gH.default);
for(var Y=0;Y<gH.order.length;Y++)aZ[gH.N4[Y]]={t:"VlLs",v:[]};for(var Y=0;Y<f7.length;Y++){var eo=f7[Y],fh=gH.N4[gH.order.indexOf(eo[0])];
aZ[fh].v.unshift({t:"Objc",v:eo[1]})}if(V==null)p.add.lmfx=aZ}X.s.push(p)}};ju.a2U=function(c,o,K,u,X,$,O,n,x,l){var N=ju;
c.Ha|=16;c.add.vmsk=o;var f=c.add.vstk=gH.e_.ib(),z=N._w(K,u,$,O,n,x,l);f.fillEnabled.v=z[0]!="None";
if(z[0]=="None"){c.add.SoCo=z[1]}else{N.Sq(z,c);c.add[z[0]]=z[1]}var z=N._w(K,X[0],$,O,n,x,l);if(z[0]!="None"){var f=c.add.vstk;
f.strokeEnabled.v=!0;f.strokeStyleLineWidth.v.val=K.strokeWeight*$.ea();f.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gH.e_.R8[["INSIDE","CENTER","OUTSIDE"].indexOf(K.strokeAlign)];
var R={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[z[0]],V=["SoFi","GrFl","patternFill"].indexOf(R),d=[gH.wV,gH.Ty,gH.ne][V];
f.strokeStyleContent.v={classID:gH.e_.jD[0]};var e=K.dashPattern;if(e)f.strokeStyleLineDashSet.v=bL.Rr(e,1/K.strokeWeight);
var p=f.strokeStyleContent.v={classID:gH.e_.jD[V]};for(var Y=0;Y<d.length;Y++)p[d[Y]]=z[1][d[Y]];if(!f.fillEnabled.v)N.Sq(z,c)}};
ju.Sq=function(c,o){var K=c[1].Opct.v.val;if(K!=100)o.opacity=Math.round(o.opacity/255*(K/100)*255)};
ju.aAK=function(c,o){var K=c.parentIndex.position,u=o.parentIndex.position;return K>u?1:-1};ju.amI=function(c){for(var Y=1;
Y<c.length;Y++){var o=c[Y];if(o.type=="IMAGE"&&o.opacity==1){c=c.slice(Y);break}}for(var Y=0;Y<c.length;
Y++){var o=c[Y],K=o.imageThumbnail,u=o.type=="IMAGE";if(u&&(o.image==null||o.image.dataBlob==null)&&K&&K.dataBlob)o.image=K;
if(!o.visible||u&&o.image==null){c.splice(Y,1);Y--}}return c};ju.a2h=function(c,o,K){if(c.kB.D5){o.add.vmsk=c.kB.D5.clone();
o.$h();o.Dm(K)}};ju.abQ=function(c,o,K,u,X,$,O,n){var x=c.fontSize,l=c.lineHeight,N=c.fontName,f=c.textAlignHorizontal,z=c.textTracking,R=c.textCase,V=c.textDecoration;
if(x==null)x=u.W$.FontSize;if(N){var d=N.postscript;if(d==""){var e=N.family,p=N.style;d=e.split(" ").join("")+"-"+p}ii.CQ(u,d)}if(x!=null)u.W$.FontSize=Math.round(x);
if(V=="UNDERLINE")u.W$.Underline=!0;if(z)u.W$.Tracking=Math.round(z*1e3);if(R)u.W$.FontCaps=R=="UPPER"?2:0;
if(l&&(l.units!="PERCENT"||l.value!=100)){if(x==null)x=15;var h=l.value;if(l.units=="PERCENT")h=1*x*h/100;
if(l.units=="RAW")h=1*x*h;u.W$.AutoLeading=!1;u.W$.Leading=Math.round(h)}if(f)u.Xi.Justification=["LEFT","RIGHT","CENTER"].indexOf(f);
var E=c.fillPaints,q=c.inheritFillStyleID;if(q){var Z=ju.pm(n.ba,q);if(Z)E=Z.fillPaints}if(E&&E[0]){var v=ju._w(c,E[0],o,K,$,O,n);
if(v[0]=="SoCo"){var W=a.T.h0(v[1].Clr.v);u.W$.FillColor={Type:1,Values:[1,W.Z/255,W.r/255,W.J/255]};
ju.Sq(v,X)}}};ju._w=function(c,o,K,u,X,$,O){var n=ju,x,l,N=c.size;if(N==null)N={x:0,y:0};if(o){var f=o.type,z=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(f);
if(f=="SOLID"){x="SoCo";var R=o.color;l=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);l.Clr=n.Bg(R)}else if(z!=-1){var V=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),d=V.Grad.v;
d.Intr.v=0;V.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][z];var e=[],p=o.stops;for(var Y=0;Y<p.length;Y++){var h=p[Y],E=h.color;
e.push([h.position,[E.r,E.g,E.b],E.a])}a.T.Fa(e,d);var q=n.nj(o.transform);q.fH();var Z=q.clone();if(N)Z.scale(N.x,N.y);
Z.concat(K);var v=new kn(0,.5),W=new kn(1,.5);v=Z.QB(v);W=Z.QB(W);if(!0){v.x=W.x+.5*(v.x-W.x);v.y=W.y+.5*(v.y-W.y)}a.T.OH(v,W,u,V);
if(z==3){if(Z.V*Z.gI-Z.J*Z.If<0)V.Rvrs.v=!V.Rvrs.v}x="GdFl";l=V}else if(f=="IMAGE"){var V=JSON.parse(gH.R$[gH.order.indexOf("patternFill")]),q=n.nj(o.transform);
q.fH();var D=ju.Yt(o),I=O.adQ[D];if(I==null){var A=n.i9(X,D,O);I=O.adQ[D]={};I.id=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";
I.Y1=[new Uint8Array(A.data),A.yS];if(q.V<0){var U=I.Y1[0].slice(0);a.D.af(U,I.Y1[0],A.yS.m,A.yS.e)}I.name="someImage";
$.ci(I)}if(q.V<0)q.V=-q.V;var w=["FILL","FIT","STRETCH","TILE"].indexOf(o.imageScaleMode),t=w==3?o.scale:1;
bL.arm(I,V,N.x,N.y,w,K,q,t);x="PtFl";l=V}else if(f=="VIDEO"){x="SoCo";l=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);
l.Clr=n.Bg({r:255,g:0,b:255})}else throw f;if(l)l.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(o.opacity*100)}}}if(x==null||o.opacity<.001){x="None";
l={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}}}return[x,l]};ju.Yt=function(c){var o=c.image,K=o.dataBlob;
if(K==null){K="";for(var Y=0;Y<20;Y++)K+=o.hash[Y].toString(16).padStart(2,"0")}return K};ju.i9=function(c,o,K,u){if(c[o]){var X=c[o];
if(u)return X.bytes;if(X.rslt)return X.rslt;var $=X.bytes.buffer;X.rslt=ju.aCZ($);return X.rslt}else{if(K.Me==null)return null;
if(u)return K.Me["images/"+o];var $=K.Me["images/"+o].buffer;if(K.Me["images/-"+o])return K.Me["images/-"+o];
K.Me["images/-"+o]=ju.aCZ($);return K.Me["images/-"+o]}};ju.aCZ=function(c){var o=c5.c5(c);if(o=="fpng")o="png";
var K=c5.nq(o);try{return K.gP(c)[0]}catch(ar){return{data:a.R(4),yS:new ez(0,0,1,1)}}};ju.a4o=function(c,o,K){var u=c.type,X=c.size,$=c.cornerRadius,l;
if($==null)$=0;var O=X.x,n=X.y,x=[$,$,$,$],N=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var Y=0;Y<4;Y++)if(c[N[Y]]!=null)x[Y]=c[N[Y]];if(u=="RECTANGLE"||u=="ROUNDED_RECTANGLE"||u=="FRAME"){l=a.o.YP.Rect(0,0,O,n,x)}else if(u=="ELLIPSE"){var f=c.arcData,z=f?f.startingAngle:0,R=f?f.endingAngle:2*Math.PI,V=f?f.innerRadius:0;
if(z==0&&R>1.999*Math.PI)l=a.o.YP.AT(0,0,O,n,0);else l=a.o.YP.ah_(O/2,n/2,n/2,z,R);if(V!=0&&V!=1){var d=gU.JA.qA(l).slice(3);
d.reverse();for(var Y=0;Y<d.length;Y++){var e=d[Y],p=e.mL;e.mL=e.oC;e.oC=p}var h=new bE;h.translate(-O/2,-n/2);
h.scale(V,V);h.translate(O/2,n/2);a.o.Ik(d,h);l=l.concat(d);l[2].length*=2}}else if(u=="LINE"){l=a.o.YP.Rect(0,0,O,n,0);
l.pop();l.pop();l[2].length=2}else if(u=="STAR"){l=a.o.YP.aiK(O/2,n/2,O/2,2*Math.PI*(1/4),5,0,c.starInnerScale)}else if(u=="REGULAR_POLYGON"){l=a.o.YP.Hr(.5,.5,.5,Math.PI/2,c.count,0);
var E=new bE;E.scale(O,n);a.o.Ik(l,E)}else if(u=="BOOLEAN_OPERATION"){l=[{type:6},{type:8,all:0}];var q=c.children,Z=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(c.booleanOperation);
if(Z==-1)throw c;if(q==null)q=[];for(var Y=0;Y<q.length;Y++){var v=q[Y],W=new gU.JA,D=ju.a4o(v,o,W);
if(W.$==null)continue;a.o.Ik(W.$,ju.nj(v.transform));l=l.concat(W.$.slice(2))}for(var Y=3;Y<l.length;
Y++)if(l[Y].cS!=null)l[Y].cS=Z}else if(u=="VECTOR"){var I,A,H=3;if(!0){var U=c.vectorData;if(U==null)return;
I=U.normalizedSize;A=U.vectorNetworkBlob}var w=o[A].bytes,t=new Uint32Array(w.buffer),L=new Float32Array(w.buffer),J=t[0],b=t[1],F=t[2],B=[],k=[],i=[],m=H+J*3,j=m+b*7;
for(var Y=0;Y<J;Y++){var Q=H+Y*3,G=new kn(L[Q+1],L[Q+2]);B.push(G)}for(var Y=0;Y<b;Y++){var g=m+Y*7;
k.push([t[g+0],t[g+1],L[g+2],L[g+3],t[g+4],L[g+5],L[g+6]])}for(var Y=0;Y<F;Y++){var P=t[j+1],M=i[Y]=[];
j+=2;for(var T=0;T<P;T++){var C=t[j++],gf=M[T]=[];for(var s=0;s<C;s++)gf[s]=t[j+s];j+=C}}if(j!=t.length)throw"e";
if(F==0){var b3=-1;for(var Y=0;Y<b;Y++){if(b3==-1){}else{var d5=-1;for(var T=Y;T<b;T++)if(k[T][4]==b3)d5=T;
for(var T=Y;T<b;T++)if(k[T][1]==b3)d5=T;if(d5!=-1){var gh=0,p=k[d5];k[d5]=k[Y];k[Y]=p;if(p[1]!=b3){gh=p[1];
p[1]=p[4];p[4]=gh;gh=p[2];p[2]=p[5];p[5]=gh;gh=p[3];p[3]=p[6];p[6]=gh}}}b3=k[Y][4]}i.push([[]]);for(var Y=0;
Y<b;Y++)i[0][0].push(Y)}var fl=[],eq=[];for(var c7=0;c7<i.length;c7++){for(var k8=0;k8<i[c7].length;
k8++){var hs=i[c7][k8],cq=0;if(hs.length>1){var jn=k[hs[0]],an=k[hs[1]];cq=jn[4]==an[1]?1:0}for(var Y=0;
Y<hs.length;Y++){var hk=k[hs[Y]],ds=1,gT=4;if(cq==0){ds=4;gT=1}var gP=B[hk[ds]],ky=B[hk[gT]];if(Y==0){eq.push("M");
fl.push(gP.x,gP.y)}eq.push("C");fl.push(gP.x+hk[ds+1],gP.y+hk[ds+2],ky.x+hk[gT+1],ky.y+hk[gT+2],ky.x,ky.y)}}}l=a.A.lR({j:fl,G:eq},!1);
if($!=0){var x=[],ay=l[2].length;for(var Y=0;Y<ay;Y++)x.push($);if(a.o.tS(l))a.o.LN(l,2,x)}var bb=new bE;
bb.scale(I.x==0?1:X.x/I.x,I.y==0?1:X.y/I.y);a.o.Ik(l,bb)}K.$=l};ju.pm=function(c,o){return c[o.sessionID+","+o.localID]};
ju.a3E=function(c,o){return c.sessionID==o.sessionID&&c.localID==o.localID};ju.ajn=function(c){var o={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[c];
if(o==null)throw c;return o};ju.Bg=function(c){return{t:"Objc",v:a.T.mv({Z:c.r*255,r:c.g*255,J:c.b*255})}};
ju.nj=function(c){if(c==null)return new bE;var o=[c.m00,c.m10,c.m01,c.m11,c.m02,c.m12];for(var Y=0;Y<6;
Y++)if(Math.abs(o[Y])<1e-20)o[Y]=0;return new bE(o[0],o[1],o[2],o[3],o[4],o[5])};function c3(){}c3.Sr=function(){var c=_.MQ;
function o(R,V,d,e){var p=e?[]:{};while(V<R.length-1&&R[V]!=125){var h=c(R,V,3),E=c(R,V+3,1),q;V+=4;
V++;if(E=="v"){var Z=o(R,V,d+1,h=="ELM"||h=="TIL");q=Z.b;V=Z.p}else if(E=="i"||E=="f"){var v=V;while(R[v]!=125)v++;
var W=c(R,V,v-V);q=E=="i"?parseInt(W,16):parseFloat(W);V=v+1}else if(E=="s"){var D=_.SL(R,V),W="";V+=2;
for(var Y=0;Y<D;Y++)W+=String.fromCharCode(R[V+2*Y+1]);q=W;V=V+2*D+1}else if(E=="b"){q=R[V]==49;V=V+2}else throw"e";
if(e)p.push([h,q]);else if(p[h]==null)p[h]=q;else{if(!(p[h]instanceof Array))p[h]=[p[h]];p[h].push(q)}}V++;
return{b:p,p:V}}function K(R,V){var d=u(R).slice(1),R=V.Clr.v;R.Rd.v=d[0]*255;R.Grn.v=d[1]*255;R.Bl.v=d[2]*255}function u(R){return[(R>>>24&255)/255,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}function X(R,V){var d=V&4278190080|(V&255)<<16|(V>>>8&255)<<8|V>>>16&255;
new Uint32Array(R.buffer).fill(d)}function $(R,V){var d=R.TSZ,e=R.WPX,p=R.HPX,h=R.TIL,E=new ez(0,0,e,p),q=a.R(e*p*4),Z=0;
for(var v=0;v<p;v+=d)for(var W=0;W<e;W+=d){var D=new ez(W,v,d,d),I,A=h[Z];if(A[0]=="TMC"){I=a.R(D.P()*4);
X(I,A[1])}else if(A[0]=="TID"){I=V[A[1]]}a.Ui(I,D,q,E);Z++}return[q,E]}function O(R,V){R=new Uint8Array(R);
var d=8,e,p={},b=0;while(d<R.length){var h=_.q(R,d);d+=4;var E=c(R,d,4);d+=4;if(E=="mkTS"){var q=pako.inflate(R.slice(d,d+h)),Z=o(q,0,0);
e=Z.b}else if(E=="mkBT"){var v=_.q(R,d+4),W=_.q(R,d+8),q=pako.inflate(R.slice(d+76,d+h));if(W==0)for(var Y=0;
Y<q.length;Y+=4){var D=q[Y],I=q[Y+1],A=q[Y+2],U=q[Y+3];q[Y+3]=D;q[Y+2]=U;q[Y+1]=A;q[Y]=I}else{var w=a.R(q.length*4);
w.fill(255);a.oe(q,w);q=w}p[v]=q}d+=h+4}var t=e.PDC,L=t?t instanceof Array?t:[t]:[e.MKB],J=new ez;for(var Y=0;
Y<L.length;Y++){var F=L[Y];J=J.X3(new ez(0,b,F.WID,F.HIT));b+=F.HIT+100}V.m=J.m;V.e=J.e;V.buffer=a.R(J.P()*4);
V.xl(L.length);b=0;for(var B=0;B<L.length;B++){V.s.push(V.FL());var F=L[B],k=F.WID,i=F.HIT,H=F.BGC,m=(F.LYL?F:e).LYL.LAY,G=3;
for(var Y=0;Y<m.length;Y++)x(m[Y],V,null,p,new bE(1,0,0,1,-F.XLC,-F.YLC+b));var j=V.uB();V.s.push(j);
var Q=new ez(0,b,k,i);b+=i+100;j.oW(Q);if(H>>>24!=0){var g=a.T.mv({Z:H>>>16&255,r:H>>>8&255,J:H>>>0&255});
j.add.artb.Clr={t:"Objc",v:g};G=4}j.add.artb.artboardBackgroundType.v=G;j.XK(F.PGN?F.PGN:"Page "+(B+1));
j.add.lsct=aj.Qw;j.Mh="pass";j.Ha=24}}function n(R,V,d){var e=R[V];return e instanceof Array?e[d]:e}function x(R,V,d,e,p){var h=V.uB();
if(R.VIS!=null)h.OG(R.VIS);if(R.VIF!=null)h.OG(R.VIF.VIS);if(R.OPA!=null)h.opacity=Math.round(255*R.OPA/1e3);
h.Mh=R.CLL||d=="GRP"?"pass":"norm";if(R.BLD!=null){var E=R.BLD,q={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[E+""];
if(q==null)console.log(R.OBN,E);else h.Mh=q;if(E==30)h.opacity>>>=1}if(R.CLL){h.XK(R.LNM);V.s.push(V.FL());
var Z=R.CLL.CEL;if(Z.length==null)Z=[Z];for(var v=Z.length-1;v>=0;v--){var W=Z[v].ELM;for(var Y=W.length-1;
Y>=0;Y--)x(W[Y][1],V,W[Y][0],e,p)}h.add.lsct=R.DIS?aj.cD:aj.Qw;h.Ha|=24}else if(d=="GRP"){var D=h.add.lmfx=N(R.EFL),I;
V.s.push(V.FL());var W=R.ELM;if(R.MNA){I=W[0][1];W=W.slice(1)}h.XK("Group: "+W.length+" objects");for(var Y=W.length-1;
Y>=0;Y--)x(W[Y][1],V,W[Y][0],e,p);if(I){if(R.MRX){var A=$(I,e),U=h.F=new gU.bQ;U.rect=A[1].clone();U.rect.x=I.XLC;
U.rect.y=I.YLC+p.qj;U.channel=a.R(U.rect.P());a.Sw(A[0],U.channel,0);a.fH(U.channel)}else{l(h,I,p);h.$h();
h.Dm(V)}}h.add.lsct=aj.Qw;h.Ha|=24}else if(d=="IMG"){h.XK(R.OBN?R.OBN:"Bitmap");var A=$(R,e);h.rect=A[1].clone();
h.rect.x=R.XLC;h.rect.y=R.YLC+p.qj;h.buffer=A[0]}else if(d=="TXT"){var w=R.TFS,t=w.TRN instanceof Array?w.TRN.length:1,F="",B="Arial",k=20,i=0;
h.add.lnsr="rend";h.add.TySh=ii.eS(0,0);h.add.TySh.FD=new ez(0,0,100,100);var L=new bE(1,0,0,1,R.LFT,R.TOP);
if(R.MTX){var J=R.MTX,U=new bE(J.M00,J.M01,J.M10,J.M11,J.M20,J.M21);L.concat(U)}L.concat(p);h.add.TySh.i=L;
var b=h.add.TySh.Bz;for(var Y=0;Y<t;Y++){var H=n(w,"TRN",Y);if(H==null)continue;H=H.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
H=H.replaceAll("\x03","\n").replaceAll("\r","\n");ii.FO(b,F.length,H);var m=ii.Ij(b,0,1),j=n(w,"FON",Y);
if(j)B=j;ii.CQ(m,B);var Q=n(w,"PTS",Y);if(Q!=null)k=Q;m.W$.FontSize=Math.round(k);var G=n(w,"LED",Y);
if(G!=null){m.W$.Leading=G*k;m.W$.AutoLeading=!1}var g=n(w,"UND",Y);if(g!=null){m.W$.Underline=g}var P=n(w,"ITL",Y);
if(P!=null){m.W$.FauxItalic=P}var M=n(w,"FCL",Y);if(M!=null)i=M;m.W$.FillColor={Type:1,Values:u(i)};
var T=n(w,"JST",Y);if(T!=null)m.Xi.Justification=[0,2,1,3,5,4,6,7,8][T];ii.r2(b,F.length,F.length+H.length,m);
F+=H}h.XK(F.slice(0,255));var C=R.RIT-R.LFT,gf=R.BOT-R.TOP;if(R.IMG){x(R.IMG,V,"IMG",e,p);var s=V.s.pop();
h.buffer=s.buffer;h.rect=s.rect.clone()}ii.lG(b,1);ii.lf(b,[0,0,C,gf])}else if(d=="PTH"){h.XK(R.OBN?R.OBN:"Path");
h.Ha|=16;var b3=!1;l(h,R,p);var d5=h.add.vmsk,gh=h.add.vstk,jt=a.o.$$(d5.$),fl=R.PAT,eq=fl.BPL,c7=fl.FPL,k8=fl.TXF;
if(c7&&c7.FEF)d5.ej+=c7.FEF/2.4;if(eq){var hs=eq.CAT;gh.strokeEnabled.v=!0;gh.strokeStyleLineWidth.v.val=eq.BDI;
gh.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gH.e_.R8[R.BRP];K(fl.BCL,gh.strokeStyleContent.v);
if(hs!="bc_Basic"&&hs!="bc_Pencil")b3=!0}gh.fillEnabled.v=c7!=null;if(c7==null){h.add.SoCo=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);
K(0,h.add.SoCo)}else if(c7.CAT=="fc_Solid"){h.add.SoCo=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);K(R.PAT.FCL,h.add.SoCo)}else if(c7.CAT=="fc_Linear"||c7.CAT=="fc_Circular"||c7.CAT=="fc_Elliptical"){var cq=c7.CAT=="fc_Linear",jn=h.add.GdFl=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),an=jn.Grad.v,hk=[],ds=c7.FGL,gT,gP=[];
if(ds.FGY){var ky=ds.FGY,gT=ky.FG0.FGI,gP=ky.FG1.FGI}else gT=ds.FGV.FGI;for(var Y=0;Y<gT.length;Y++){var ay=gT[Y],bb=u(ay.FGC),ap=1;
if(gP.length==gT.length)ap=u(gP[Y].FGC)[0];hk.push([ay.FGP,bb.slice(1),ap])}jn.Type.v.GrdT=cq?"Lnr":"Rdl";
a.T.Fa(hk,an);an.Intr.v=0;var cR=R.PRI?R.PRI:R,c8=new kn(cR.PSX,cR.PSY),gr=new kn(cR.PEX,cR.PEY);if(c7.CAT=="fc_Elliptical"&&cR.PFX!=null){var fF=new kn(cR.PFX,cR.PFY),cj=kn.je(c8,gr),br=kn.je(c8,fF);
if(br<cj){var gG=cj;cj=br;br=gG}gr=new kn(c8.x+(cj+br)/2,c8.y);if(cj/br<.5)b3=!0}if(cq){c8.x=(c8.x+gr.x)/2;
c8.y=(c8.y+gr.y)/2}a.T.OH(c8,gr,jt,jn)}else console.log(c7.CAT);var D=h.add.lmfx=N(R.EFL,d5);if(c7&&c7.FTB!=0&&k8){var A=$(k8.MSK,e),jx={};
jx.id=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";jx.name="someImage";jx.Y1=A;V.ci(jx);var cr=A[0];for(var Y=0;
Y<cr.length;Y+=4){cr[Y+3]=255-cr[Y];cr[Y]=cr[Y+1]=cr[Y+2]=255}var jn=JSON.parse(gH.R$[gH.order.indexOf("patternFill")]);
jn.Opct.v.val=Math.round(c7.FTB/10);jn.Algn.v=!0;jn.Ptrn.v.Idnt.v=jx.id;D.patternFillMulti.v.unshift({t:"Objc",v:jn})}if(b3&&R.IMG){x(R.IMG,V,"IMG",e,p);
var a8=V.s[V.s.length-1];a8.opacity=h.opacity;return}h.$h();h.Dm(V)}else if(d=="URL")return;else{console.log("unknown layer type",d,R);
h.XK("Layer")}V.s.push(h)}function l(R,V,d){if(V.PBL==null)return;var e=R.add.vmsk=new gU.JA,p=R.add.vstk=gH.e_.ib(!0),h=V.PBL.PBP;
if(!(h instanceof Array))h=[h];for(var E=0;E<h.length;E++){var q=h[E].PBT;if(q==null)continue;if(!(q instanceof Array))q=[q];
var Z=h[E].ISC?0:3;e.$.push({type:Z,length:q.length,cS:0,fl:2,tr:0,op:0});for(var Y=0;Y<q.length;Y++){var v=q[Y],W=v.XLC,D=v.YLC,I=[W,D,W,D,W,D],A="XPC YPC XLC YLC XSC YSC".split(" ");
for(var U=0;U<6;U++){var w=A[U],t=v[w];if(t!=null)I[U]=t}e.$.push({type:Z+2,L:new kn(W,D),mL:new kn(I[0],I[1]),oC:new kn(I[4],I[5])})}}a.o.Ik(e.$,d)}function N(R,V){var d=JSON.parse(gH.default);
for(var Y=0;Y<gH.order.length;Y++)d[gH.N4[Y]]={t:"VlLs",v:[]};if(R==null||R.EPS==null)return d;var e=R.EPS;
if(!(e instanceof Array))e=[e];for(var Y=0;Y<e.length;Y++){var p=e[Y].DCE,h={};for(var E=0;E<p.length;
E++)h[p[E].DCK]=p[E].DCV;if(h.EffectIsVisible=="false")continue;var q=h.mkbFile_WriteOnly_TemporaryEffectUiName;
if(q=="Gaussian Blur..."&&V){V.ej+=parseFloat(h.gaussian_blur_radius);continue}var Z=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(q);
if(Z==-1){continue}var v=["DrSh","ebbl","IrGl","OrGl"][Z],W=gH.N4[gH.order.indexOf(v)],D=JSON.parse(gH.R$[gH.order.indexOf(v)]);
d[W].v.unshift({t:"Objc",v:D});if(v=="DrSh"){D.uglg.v=!1;f(h,"ShadowDistance",D,"Dstn");f(h,"ShadowBlur",D,"blur");
f(h,"ShadowAngle",D,"lagl",180);D.Opct.v.val=100;z(h,"ShadowColor",D,"Clr")}if(v=="IrGl"){D.Md.v.BlnM="Nrml";
var I=h.MaskSoftness,A=h.GlowWidth;if(I&&A){I=parseInt(I);A=parseInt(A);D.blur.v.val=A+I;D.Ckmt.v.val=Math.round(100*A/(A+I))}f(h,"BevelContrast",D,"Opct");
z(h,"OuterBevelColor",D,"Clr")}if(v=="OrGl"){D.Md.v.BlnM="Nrml";var I=h.MaskSoftness,A=h.GlowWidth;if(I&&A){I=parseInt(I);
A=parseInt(A);D.blur.v.val=A+I}f(h,"BevelContrast",D,"Opct");z(h,"OuterBevelColor",D,"Clr")}if(v=="ebbl"){D.uglg.v=!1;
f(h,"BevelWidth",D,"blur");f(h,"AngleSoftness",D,"Sftn");f(h,"BevelContrast",D,"srgR");f(h,"LightAngle",D,"lagl")}}return d}function f(R,V,d,e,p){var h=R[V];
if(p==null)p=0;if(h)d[e].v.val=parseInt(h)+p}function z(R,V,d,e){var p=R[V];if(p){p=p.slice(1);if(p.length==6)p=p+"ff";
if(p.length!=8)throw"e";var h=u(parseInt(p,16)),E=d[e].v;E.Rd.v=h[0]*255;E.Grn.v=h[1]*255;E.Bl.v=h[2]*255;
d.Opct.v.val=Math.round(d.Opct.v.val/100*h[3]*100)}}return O}();var aB=function(){function c(X){var $=new Uint8Array(X.length);
_.b_($,0,X);return $}function o(X){var $=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",c("")],O=$.length,x=0;
$.push("<< /AIMetaData  "+(O+2)+" 0 R /AIPrivateData1 "+(O+3)+" 0 R  /AIPrivateData2 "+(O+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
$.push(c(""));$.push(c(""));$.push(X);var n=new fd,l=[];function N(V){_.Ps(n,x,V);x+=V.length}N("%PDF-1.5\n");
for(var Y=0;Y<$.length;Y++){l.push(x);N(Y+1+" 0 obj\n");var f=$[Y];if(typeof f=="string")N($[Y]+"\n");
else{var z=pako.afn(f);N("<< /Length "+z.length+" /Filter [ /FlateDecode ] >>\nstream\n");n.yl(x,z.length);
n.data.set(z,x);x+=z.length;N("\nendstream\n")}N("endobj\n")}var R=x;N("xref\n0 "+(l.length+1)+"\n0000000000 65535 f\r\n");
for(var Y=0;Y<l.length;Y++)N((l[Y]+"").padStart(10,"0")+" 00000 n\r\n");N("trailer\n<< /Root 1 0 R /Size "+(l.length+1)+" >>\nstartxref\n"+R+"\n%%EOF\n");
return n.data.slice(0,x)}function K(X,$){var O=Date.now(),n=new Uint8Array(X),x,l=n[2]==68;if($)console.log(!l?"EPS":"PDF");
if(l){var N=_.EJ(n,"/AIMetaData "),q,Z,v;while(n[N]!=60)N--;N--;var f=_.EJ(n,">>",N),z=_.MQ(n,N+2,f-N-2).split("/"),R=[];
for(var Y=0;Y<z.length;Y++){var V=z[Y],d=V.startsWith("AIPrivateData"),e=V.startsWith("AIPDFPrivateData");
if(!d&&!e)continue;var p=V.trim().split(/\s+/),h=parseInt(p[1]),E=parseInt(p[0].slice(d?13:16));R.push([E,h])}if($)console.log("--- map made",Date.now()-O);
O=Date.now();while(!0){var W=FromPDF.indexOfXref(n),D=[],I=FromPDF.readXrefTrail(n,W,D),A={buff:n,off:0},U=!1;
q=new Array(R.length);Z=!1;v=!1;for(var Y=0;Y<R.length;Y++){var E=R[Y][0],h=R[Y][1],J=0;if(D[h]==null){U=!0;
break}var w=FromPDF.getIndirect(h,0,A,D),t=w.buff,L=w["/Filter"];if(L!=null&&typeof L=="string")L=[L];
var b=_.MQ(t,J,J+20);if(b=="%AI12_CompressedData"){J+=20;Z=!0}else if(b=="%AI24_ZStandard_Data"){J+=20;
v=!0}t=new Uint8Array(t.buffer,t.byteOffset+J,t.length-J);if(L)for(var F=0;F<L.length;F++){var B=L[F];
if(B=="/FlateDecode")t=pako.inflate(t);else if(B=="/ASCIIHexDecode")t=FromPS.F.HexDecode({buff:t,off:0});
else if(B=="/ASCII85Decode")t=FromPS.F.ASCII85Decode({buff:t,off:0});else throw B}q[E-1]=t}if(U){console.log("extra xref after AI");
n=n.slice(0,W);continue}break}if($)console.log("--- arrays found",Date.now()-O);O=Date.now();var k=_.MQ(q[0],0,13);
if(k=="%%BoundingBox"||k=="%AI7_Thumbnai")q=q.slice(1);if(k=="%AI24_ZStanda"){q[0]=q[0].slice(20);v=!0}if(_.MQ(q[0],0,13)=="%AI12_Compres"){q[0]=q[0].slice(20);
Z=!0}x=u(q);if($)console.log("--- concatenated",Date.now()-O);O=Date.now();if(Z)x=UZIP.inflate(x);if(v)x=c5.SI.kP(x);
if($)console.log("--- inflated",Date.now()-O);O=Date.now()}else{var i=_.AF(n);if(i.indexOf("%AI5_BeginLayer")!=-1){x=n}else{var H=i.split(/[\n\r]+/),m=[],j=!1;
for(var Q=0;Q<H.length;Q++){var G=H[Q].trim();if(G=="%AI9_PrivateDataEnd"){j=!1;break}else if(G=="%AI9_DataStream"||G=="%AI24_DataStream"){j=!0}else if(j)m.push(G.slice(1))}var g=_.qK(m.join("")),P=FromPS.F.ASCII85Decode({buff:g,off:0});
if(P[0]==120&&P[1]==156)x=UZIP.inflate(P);else x=c5.SI.kP(P)}}return x}function u(X){var $=0,n=0;for(var Y=0;
Y<X.length;Y++)$+=X[Y].length;var O=new Uint8Array($);for(var Y=0;Y<X.length;Y++){var x=X[Y];O.set(x,n);
n+=x.length}return O}return{ayJ:K,a4X:o}}();function e5(){}e5.Sr=function(){function c(b,F,B){var k=!1,i=Date.now(),H=aB.ayJ(b,k);
if(k)console.log("part found",Date.now()-i);i=Date.now();var m=I(H),j=m.Layer,Q=m.Header;if(k)console.log(m);
var G=m.Setup.TextDocument,g=j[0];g=m.Layer[0];if(k)console.log("document parsed",Date.now()-i);i=Date.now();
m.Setup.Gradient=D(m.Setup.Gradient,H);if(k)console.log("grads loaded",Date.now()-i);i=Date.now();m.Setup.Pattern=v(m.Setup.Pattern,H);
if(k)console.log("patts loaded",Date.now()-i);i=Date.now();m.Setup.Palette=W(m.Setup.Palette,H);if(k)console.log("palet loaded",Date.now()-i);
i=Date.now();var P=q(m.Setup.DocumentData,H),M=Z(P);m.Setup.DocumentData=P.pop();if(k)console.log("docdata loaded",Date.now()-i);
i=Date.now();m.Setup.SVGFilter=q(m.Setup.SVGFilter,H);if(k)console.log("svgfilter loaded",Date.now()-i);
i=Date.now();var T=Q.Cropmarks,C=Q.BoundingBox.split(" ").map(parseFloat),gf=Q.ArtSize?Q.ArtSize.split(" ").map(parseFloat):[C[2]-C[0],C[3]-C[1]];
F.m=Math.round(gf[0]);F.e=Math.round(gf[1]);var s=[1,0,0,1,-C[0]+(F.m-(C[2]-C[0]))/2,-C[1]+(F.e-(C[3]-C[1]))/2];
s[3]=-1;s[5]=F.e-s[5];if(T){T=T.split(" ").map(parseFloat);F.m=Math.round(T[2]-T[0]);F.e=Math.round(T[3]-T[1]);
s=[1,0,0,-1,-T[0],F.e+T[1]]}var P=m.Setup.DocumentData,b3=[],d5=[];if(P&&P[0]&&P[0].ArtboardArray){var b3=P[0].ArtboardArray;
if(b3.length!=1)console.log(b3.length,"artboards");var gh=new ez;for(var Y=0;Y<b3.length;Y++){var jt=b3[Y],fl=jt.PositionPoint1,eq=jt.PositionPoint2,c7=fl[0],k8=Math.min(fl[1],eq[1]),hs=eq[0],cq=Math.max(fl[1],eq[1]),jn=new ez(c7,k8,hs-c7,cq-k8);
d5.push(jn);gh=gh.X3(jn)}F.m=Math.round(gh.m);F.e=Math.round(gh.e);s[4]=-gh.x;s[5]=gh.y+F.e}if(P&&P[0]&&P[0]["#document"]){var an=P[0]["#document"],hk=an["xmlnode-children"][0];
if(hk&&hk["xmlnode-children"])hk=hk["xmlnode-children"][0];if(hk["xmlnode-nodename"]=="variableSets"){var ds=hk["xmlnode-children"][0]["xmlnode-children"],gT=ds[0],gP=ds[1],ky=J(gT);
F.s3=fU.ae3("<variableSets><variableSet>"+ky+"</variableSet></variableSets>");if(gP){var ay=J(gP),bb=F.Tm=fU.ach(ay);
for(var Y=0;Y<bb.length;Y++)for(var ap=0;ap<bb[Y].length;ap++)bb[Y][ap]=bb[Y][ap].trim()}}}var cR=1/hQ.mX(new ez(0,0,F.m,F.e),8192*8192);
while(Math.max(F.m*cR,F.e*cR)<800)cR*=2;while(B&&Math.max(F.m*cR,F.e*cR)<Math.max(B[0],B[1]))cR++;F.m=Math.round(F.m*cR);
F.e=Math.round(F.e*cR);F.$M=Math.round(72*cR);for(var Y=0;Y<6;Y++)s[Y]*=cR;var c8=[];if(b3.length!=[1,0][gN]){var gr=gN==0?F.s:[];
gr.push(F.FL());for(var Y=0;Y<d5.length;Y++){var jt=b3[Y],jn=d5[Y],fF=F.uB();fF.XK(jt.Name);gr.push(fF);
fF.add.SoCo=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);var cj=fF.add.SoCo.Clr.v;f(cj,[1,1,1]);var c7=jn.x,k8=jn.y,hs=c7+jn.m,cq=k8+jn.e,br=[c7,k8,hs,k8,hs,cq,c7,cq];
a.A.i(br,R(s),br);e(fF,{cmds:["M","L","L","L","Z"],crds:br},F,0);fF.add.vstk=gH.e_.ib(!0);var B=a.A.jl(br);
c8.push({Ek:jt.Name,_C:[B.x,B.y,B.x+B.m,B.y+B.e],g:jt.IsArtboardSelected})}var fF=F.uB();fF.XK("_Artboards_");
fF.add.lsct=aj.Qw;fF.Mh="pass";fF.Ha=24;gr.push(fF)}else c8=[{Ek:"Artboard",_C:new ez(0,0,F.m,F.e)}];
if(gN==1)F.add.arts=c8;K=[0,0,0];u=[0,0,0];X="SoCo";$="SoCo";for(var hX=0;hX<j.length;hX++){var gG=j[hX];
gG.Raster=o(gG,"Raster");gG.Place=o(gG,"Place");var jx=h(H,gG);O(F,jx,s,m,gG,H)}if(gN==0)for(var Y=0;
Y<F.s.length;Y++){var fF=F.s[Y];if(fF.lH){F.s.splice(Y,1);var cr=F.s[Y];cr.add.vmsk=fF.add.vmsk;cr.add.vogk=fF.add.vogk;
cr.Dm(F)}}else{}if(k)console.log("layers created",Date.now()-i);i=Date.now()}function o(b,F){var B=b.Layer,k=b[F];
if(k==null)k=[];if(B){for(var Y=0;Y<B.length;Y++){var i=B[Y],H=i[F]=o(i,F);k=k.concat(H)}k.sort(function(m,j){return m._begin-j._begin})}return k}var K,u,X,$;
function O(b,F,B,k,i,H){var m=[],j=0,Q="",G=!1,g={},P=UDOC.G,M=UDOC.getState(),T="norm",C=1,gf=0,s=!1,b3=0,d5=!1,gh=!0,jt=null,fl=!1,eq=0,c7=null,k8,hs,cq=0,jn=0,an=0,gP=0,ky=!1;
M.ctm=B;var hk=[0,0],ds=[],gT=[];for(var ay=0;ay<F.length;ay++){var bb=F[ay],cj=1e9;if(bb[0]=="%"){if(bb=="%_/ArtDictionary :"&&eq==0)jt=[bb.slice(2)];
else if(jt!=null){if(bb=="%_"&&eq==0){var ap=w(jt)[0],cR=b.s[b.s.length-1],c8=ap.AI10_ArtUID,gr=ap.BBAccumRotation;
if(c8&&!c8.startsWith("XMLID"))cR.XK(L(c8));if(gr&&cR.add.vmsk)cR.add.vmsk.JR=parseFloat(gr);jt=null}else{jt.push(bb.slice(fl?1:2));
if(bb=="%_X=")eq++;if(bb=="%_X+")eq--;if(bb=="%_/Binary : /ASCII85Decode ,")fl=!0;if(fl&&bb.endsWith("~>"))fl=!1}}else if(c7){k8+=(k8==""?"":" ")+bb.slice(2);
if(k8.endsWith("X#")){c7.push(k8.slice(0,k8.length-3));k8=""}}continue}else if(bb=="/Mesh X!"){c7=[];
k8="";continue}else if(bb=="/End X!"){l(c7,M,b);c7=null;continue}var fF="Xa XR m l c f U u *U w J j M d".split(" "),br=-1,hX=bb.indexOf("(")!=-1;
for(var Y=0;Y<fF.length;Y++){var gG=bb.indexOf(" "+fF[Y]+" ");if(gG!=-1&&gG<cj&&!hX){cj=gG;br=Y}}if(br!=-1){G=!0;
var jx=cj+1+fF[br].length;F[ay]=bb.slice(0,jx);var cr=F[ay+1];if(cr==null||cr[0]=="%"||br>9)F.splice(ay+1,0,bb.slice(jx));
else F[ay+1]=(bb.slice(jx)+" "+cr).replace(/\s\s+/g," ");ay--;continue}bb=bb.trim();var a8=bb.split(" "),f8=a8[a8.length-1],dW=f8.toLowerCase(),g7=a8.map(parseFloat);
if(f8=="m")P.moveTo(M,g7[0],g7[1]);else if(f8=="L"||f8=="l")P.lineTo(M,g7[0],g7[1]);else if(f8=="V"||f8=="v"){var eU=M.pth.crds,f7=M.cpos[0],d7=M.cpos[1];
P.curveTo(M,f7,d7,g7[0],g7[1],g7[2],g7[3]);var aW=eU.length;eU[aW-6]=f7;eU[aW-5]=d7}else if(f8=="Y"||f8=="y")P.curveTo(M,g7[0],g7[1],g7[2],g7[3],g7[2],g7[3]);
else if(f8=="C"||f8=="c")P.curveTo(M,g7[0],g7[1],g7[2],g7[3],g7[4],g7[5]);else if(f8=="H"||f8=="h"){if(f8==dW)P.closePath(M);
if(!s){var cy=b.uB();b.s.push(cy);cy.XK("<Clipping Path>");cy.lH=!0;cy.add.vstk=gH.e_.ib();cy.add.SoCo=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);
e(cy,M.pth,b,gf)}else d5=!0}else if(f8=="XR"){gf=g7[0]}else if(f8=="Xy"){T=e5.amW[g7[0]];C=g7[1];if(T==null){T="norm";
console.log("unknown blend mode",g7[0])}}else if(f8=="Xd"){var cR=b.s[b.s.length-1];cR.opacity=Math.round(255*C);
cR.Mh=cR.rD()&&T=="norm"?"pass":T}else if(f8=="AE")cq=g7[0];else if(f8=="Ae")jn=g7[0];else if(f8=="Xw")an=g7[0];
else if(f8=="*"){var dh=M.pth.crds,fh=M.ctm,gG=dh[0]==dh[2]?0:1;b.qb.push([gG,dh[gG]]);P.newPath(M)}else if(f8=="XN")hs=bb.split(" ")[0];
else if(f8=="XI"){var dP=i.Raster,fg,bo;if(dP==null||dP.length==0){console.log("no Raster");continue}if(bb!="XI"){continue}else{var jK=dP[j++];
if(jK.Data)jK=jK.Data;var jQ=jK._begin,aZ=jK._end;while(H[jQ]!=88)jQ++;jQ+=3;fg=H.slice(jQ,aZ);bo=F[ay-2].split(" ").map(parseFloat)}var eo=bo.slice(8),dC=eo[2],hG=eo[3],dy=dC*hG,fw=a.R(dy*4);
fw.fill(255);var dM=eo[7],aX=eo[8],fy=eo[6],gp=Math.ceil(dC*dM*fy/8);if(dM==1){if(fy==8)for(var Y=0;
Y<dy;Y++)for(var aU=0;aU<3;aU++)fw[4*Y+aU]=fg[Y];else if(fy==1)for(var e7=0;e7<hG;e7++)for(var eV=0;
eV<dC;eV++)for(var aU=0;aU<3;aU++)fw[4*(e7*dC+eV)+aU]=255*(fg[e7*gp+(eV>>>3)]>>>7-(eV&7)&1);else throw fy}else if(dM==3)for(var Y=0;
Y<dy;Y++)for(var aU=0;aU<3;aU++)fw[4*Y+aU]=fg[3*Y+aU];else if(dM==4||dM==5)for(var Y=0;Y<dy;Y++){var b8=V([fg[dM*Y+0]/255,fg[dM*Y+1]/255,fg[dM*Y+2]/255,fg[dM*Y+3]/255]);
fw[4*Y+0]=b8[0]*255;fw[4*Y+1]=b8[1]*255;fw[4*Y+2]=b8[2]*255}else if(dM==7)for(var Y=0;Y<dy;Y++){fw[4*Y+0]=fg[dM*Y+0];
fw[4*Y+1]=fg[dM*Y+1];fw[4*Y+2]=fg[dM*Y+2]}else console.log("unknown number of channels",dM);if(aX==1){var h$=hG*gp;
for(var Y=0;Y<dy;Y++)fw[4*Y+3]=fg[h$+Y]}var jZ=a.JO(fw,dC,hG)?"JPG":"PNG";if(dC*hG<700*700)jZ="PNG";
var bu=c5.nq(jZ).nC([[fw.buffer]],dC,hG),dL=b.ra(new Uint8Array(bu),"<Image>",0,0);b.s.push(dL);dL.Mh=T;
dL.opacity=Math.round(255*C);dL.OG(an==0);var iv=new bE;iv.scale(1,-1);iv.concat(R(bo.slice(1)));iv.concat(R(M.ctm));
var k5=dL.add.SoLd,ir=k5.Sz.v,cu=new ez(0,0,ir.Wdth.v,ir.Hght.v),a8=a.A.W6(cu).j;a.A.i(a8,iv,a8);dL.add.SoLd.Trnf=r.W.yf(a8);
dL.add.SoLd.nonAffineTransform=r.W.yf(a8);dL.oP(b,!1)}else if(f8=="Ln"){m.push(N(bb))}else if(f8=="u"||f8=="q"||f8=="Lb"){ds.push(jn==1);
gT.push((f8=="Lb"?1-g7[0]:an)==0);if(s)continue;b.s.push(b.FL())}else if(f8=="U"||f8=="Q"||f8=="LB"){if(ds.length==0||gT.length==0)throw ay;
var az=ds.pop(),jj=gT.pop();if(f8=="LB")az=cq==1;if(s)continue;var dL=b.uB();dL.XK((f8=="U"?"<Group>":"<Clip Group>")+Q);
if(f8=="LB")dL.XK(m.pop());dL.add.lsct=az?aj.cD:aj.Qw;dL.Mh="pass";dL.Ha=24;dL.OG(jj);b.s.push(dL);if(ky){if(b.s[b.s.length-3].getName()=="</Layer group>"){b.s.pop();
b.s.splice(b.s.length-2,1)}ky=!1}}else if(f8=="Bb")gh=g7[0]!=1;else if(f8=="BB"){}else if(f8=="Bm"||f8=="Bc"||f8=="Xm"){}else if(f8=="Bh")hk=g7.slice(2,4);
else if(f8=="Bg"){var hM=k.Setup.Gradient,je=hM[N(bb)],a8=bb.slice(bb.indexOf(")")+2).split(" ").map(parseFloat);
if(je==null){console.log("gradient not found");for(var bP in hM){je=hM[bP];break}}var bD=a8[10];if(isNaN(bD))bD=1;
var aC=a8.slice(0,4);aC.push(bD,hk[0],hk[1]);var bV=[je.RL,je.awe,aC,a8.slice(4,10)];x(bV,"GdFl",gh)}else if(dW=="p"){var cm=N(bb);
if(b.hJ[cm]==null){var e3=k.Setup.Pattern[cm],eT=e3._C,dC=Math.round(eT[2]-eT[0]),hG=Math.round(eT[3]-eT[1]),ap=new h_;
ap.m=dC;ap.e=hG;ap.buffer=a.R(dC*hG*4);var b6=B[0],iv=new bE(1,0,0,-1,-e3._C[0],hG+e3._C[1]);iv.concat(new bE(b6,0,0,b6,0,0));
O(ap,e3.y$,[iv.V,iv.J,iv.If,iv.gI,iv.hW,iv.qj],k,i,H);ap.m*=b6;ap.e*=b6;ap.HR();ap.d();if(gN==0)ap.Lx();
window.akC=e3.y$;b.hJ[cm]=ap}var jH=bb.slice(bb.indexOf(")")+2),b_=jH.slice(0,jH.indexOf("[")-1).split(" ").map(parseFloat),jc=jH.slice(jH.indexOf("[")+1,jH.indexOf("]")).split(" ").map(parseFloat);
x([cm,[b_,jc]],"patt",f8=="p")}else if(f8=="J"||f8=="j"||f8=="w"||f8=="M"||f8=="d"){for(var Y=1;Y<a8.length;
Y++){var g3=a8[Y],hy=g7[Y-1];if(g3=="w")M.lwidth=hy;if(g3=="j")M.ljoin=hy;if(g3=="J")M.lcap=hy;if(g3=="M")M.mlimit=hy;
if(g3=="d"){var fa=bb.slice(bb.indexOf("[")+1,bb.indexOf("]")).trim();if(fa.length!=0){var a0=fa.split(" ").map(parseFloat);
M.dash=a0}else if(fa=="")M.dash=[]}}}else if(dW=="xa"||dW=="xx"){var eQ=d(bb);x(eQ,"SoCo",f8=="Xa"||f8=="Xx")}else if(dW=="xk"){eQ=d(bb);
x(eQ,"SoCo",f8=="Xk")}else if(dW=="k"||dW=="x"){eQ=d(bb);x(eQ,"SoCo",f8==dW)}else if(dW=="g"){var eQ=[g7[0],g7[0],g7[0]];
x(eQ,"SoCo",f8==dW)}else if(dW=="n"){if(!s)P.newPath(M)}else if(f8=="*u"){s=!0;b3=0;gT.push(an==0)}else if(f8=="*U"||dW=="s"||dW=="f"||dW=="b"){if(f8!="*U"&&s){if(dW=="f"||dW=="b")b3|=1;
if(dW=="s"||dW=="b")b3|=2;continue}if(f8==dW)P.closePath(M);if(f8=="*U"){s=!1}var dL;{dL=b.uB();dL.Ha|=16;
e(dL,M.pth,b,gf);var cd=dW=="f"||dW=="b"||f8=="*U"&&b3&1,iB=dW=="s"||dW=="b"||f8=="*U"&&b3&2,dm=dL.add.vstk=gH.e_.ib(cd,iB),dG=gH.Be.ib();
dG.QQ=dG.uK=null;var iv=M.ctm,b6=Math.sqrt(Math.abs(iv[0]*iv[3]-iv[1]*iv[2]));gH.Be.write(dG,M,b6);if(cd)dG.QQ=K;
if(iB)dG.uK=u;if(gN==0){gH.e_.write(dm,M,b6);if(X=="SoCo"){dL.add.SoCo=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);
var gE=dL.add.SoCo.Clr.v;f(gE,K)}if(X=="GdFl"){dL.add.GdFl=e5.ayG(K,dL.add.vmsk.$)}if(X=="patt"){dL.add.PtFl=n(K,b)}if(iB){var hF=["SoCo","GdFl","patt"].indexOf($);
console.log($,hF);var jz=hF==0?{Clr:{t:"Objc",v:eK.va(u)}}:hF==1?e5.ayG(u,dL.add.vmsk.$):n(u,b),bw=[gH.wV,gH.Ty,gH.ne][hF],ix=dm.strokeStyleContent.v={classID:gH.e_.jD[hF]};
for(var Y=0;Y<bw.length;Y++)ix[bw[Y]]=jz[bw[Y]]}}else dL.add.vstl=dG}if(f8=="*U"&&d5){dL.lH=!0;d5=!1}dL.XK("<"+(f8=="*U"?"Compound ":"")+"Path>"+Q);
dL.Mh=T;dL.opacity=Math.round(255*C);dL.OG(f8=="*U"?gT.pop():an==0);dL.Dm(b);b.s.push(dL);P.newPath(M)}else if(f8==","&&a8[0]=="/XMLUID"){var cR=b.s[b.s.length-1];
for(var Y=0;Y<b.s3.length;Y++)if("("+b.s3[Y].docRef+")"==a8[2])b.s3[Y].docRef="id('"+cR.add.lyid+"')"}else if(f8==","&&a8[1]=="/FreeUndo"){gP=g7[0]}else if(f8==","&&a8[1]=="/StoryIndex"){var ig=k.Setup.TextDocument,bK=null;
if(!(ig instanceof Array))window.avB=ig=k.Setup.TextDocument=E(ig,H);var aT=ig[0],cx=ig[2];if(aT._DocumentResources)aT=ig[0]=go.a6_(aT);
else go.a8T(aT);var dL=b.uB();dL.add.lnsr="rend";dL.add.TySh=ii.eS(0,0);var f$=g7[0];if(gP==1){for(var Y=1;
Y<60;Y++){var cr=F[ay+Y];if(cr&&cr.endsWith("/StoryIndex ,")){f$=parseFloat(cr.slice(2,cr.indexOf(" ")));
ky=!0;break}}gP=0}var eN=du.amp(aT),dK=dL.add.TySh.Bz=eN[f$];if(dK==null){console.log("text not found");
ky=!1;continue}dL.XK(ii.lo(dK).slice(0,50));dL.Mh=T;dL.opacity=Math.round(255*C);dL.OG(an==0);var iH=aT._1._1[f$]._1._0[0]._0;
iH=parseInt(iH.slice(1));var k7=aT._0._8._0,b0=k7[iH]._0;if(b0._0)bK=z(b0._0);else if(b0._1)bK=z(b0._1._0);
else bK=z(b0._2._2).slice(3);if(bK.length!=2){var eT=a.A.jl(bK);bK=[eT.x,eT.y];if(eT.P()!=0){ii.lG(dK,1);
ii.lf(dK,[0,0,Math.round(eT.m),Math.round(eT.e)])}}var i5=new bE,hP=new bE(1,0,0,1,bK[0],bK[1]),i2=new bE(1,0,0,1,-cx[0],-cx[1]),j4=R(M.ctm),e1=new bE;
if(b0._2&&b0._2._2){var B=z(b0._2._2);e1=new bE(B[0],B[1],B[2],B[3],B[4],B[5])}i5.concat(hP);i5.concat(e1);
i5.concat(i2);i5.scale(1,-1);i5.concat(j4);dL.add.TySh.i=i5;b.s.push(dL);b._K=!0}else if(f8=="Tp"){g.kn=R(g7)}else if(f8=="Tf"){g.font=a8[0].slice(2)}else if(f8=="Tk"){var dL=b.uB();
dL.add.lnsr="rend";var au=dL.add.TySh=ii.eS(0,0),dK=au.Bz,iv=g.kn.clone(),ir=iv.ea();iv.concat(R(M.ctm));
var cn=new bE(1/ir,0,0,-1/ir,0,0);cn.concat(iv);au.i=cn;var cN=N(bb);dL.XK(cN);ii.FO(dK,0,cN);var bg=ii.Ij(dK,0,cN.length);
bg.W$.FontSize=ir;bg.W$.FillColor={Type:1,Values:[1,K[0],K[1],K[2]]};ii.CQ(bg,g.font);ii.r2(dK,0,cN.length,bg);
b.s.push(dL);b._K=!0}else if(G&&g7.length>3){var i7=!1;for(var Y=0;Y<g7.length;Y++)if(isNaN(g7[Y]))i7=!0;
if(!i7)F[ay+1]=(bb+" "+F[ay+1]).replace(/\s\s+/g," ")}}}function n(K,b){if(b.$b==null)b.$b={};var F=b.$b[K[0]];
if(F==null){var B=b.hJ[K[0]],F=b.$b[K[0]]={};F.id=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";F.name="someImage";
F.Y1=[B.i9(),new ez(0,0,B.m,B.e)];b.ci(F)}var k=JSON.parse(gH.R$[gH.order.indexOf("patternFill")]);k.Ptrn.v.Idnt.v=F.id;
var i=R(K[1][1]),H=-Math.atan2(-i.J,i.V);k.Angl.v.val=Math.round(H*180/Math.PI);k.Scl.v.val=Math.round(100*i.ea());
return k}e5.ayG=function(b,F){var B=e5.axO(b,F),k=[0,0,1,0];if(b[0]==0)k[0]=.5;a.A.i(k,B,k);var i=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),H=i.Grad.v;
H.Intr.v=0;i.Type.v.GrdT=["Lnr","Rdl"][b[0]];a.T.Fa(b[1],H);a.T.OH(new kn(k[0],k[1]),new kn(k[2],k[3]),a.o.$$(F),i);
return i};e5.Sn=function(b,F){var B=["Lnr","Rdl"].indexOf(b.Type.v.GrdT),k=a.o.$$(F),i=a.T.NA(b,k),H=i[0],m=i[1];
if(B==0){H.x-=m.x-H.x;H.y-=m.y-H.y}var j=m.x-H.x,Q=m.y-H.y,G=Math.sqrt(j*j+Q*Q),g=new bE;g.rotate(Math.atan2(-Q,j));
g.scale(G,G);g.translate(H.x,H.y);var P=e5.aCj(B,g,k),M=b.Grad.v;P[1]=a.T.dZ(M,null,null);return P};
e5.aCj=function(b,F,B){F.translate(-B.x,-B.y);var k=B.m,i=B.e,H,m,j=Math.atan2(-F.J,F.V),Q;if(b==0){F.translate(-k/2,-i/2);
var G=e5.aDZ(k,i,j);F.scale(1/G,1/G);F.rotate(-j);F.scale(1/k,1/i);H=F.hW+.5;m=F.qj+.5;Q=F.V}else{H=F.hW/k-.5;
m=F.qj/i-.5;var g=(H-.5)*k/2,P=(m-.5)*i/2;Q=F.ea()/Math.sqrt(2*(g*g+P*P))}return[b,null,[H,m,j*180/Math.PI,Q,1,0,0],[1,0,0,1,0,0]]};
e5.axO=function(b,F){var B=b[0],k=b[2],i=b[3],H=new bE(i[0],i[1],i[2],i[3],i[4],i[5]);H.fH();var m=gU.JA.qA(F);
a.o.Ik(m,H);var j=a.o.$$(m),Q=j.m,G=j.e,g=k[0],P=k[1],M=k[2]*Math.PI/180,T=k[3],C=new bE;if(B==0){C.scale(T,T);
C.translate(g-.5,P-.5);C.scale(Q,G);C.rotate(M);var gf=e5.aDZ(Q,G,M);C.scale(gf,gf);C.translate(Q/2,G/2)}else{var s=(g-.5)*Q/2,b3=(P-.5)*G/2,gf=T*Math.sqrt(2*(s*s+b3*b3));
C.scale(gf,gf*k[4]);C.rotate(M);C.translate((g+.5)*Q,(P+.5)*G)}C.translate(j.x,j.y);C.concat(new bE(i[0],i[1],i[2],i[3],i[4],i[5]));
return C};function x(b,F,B){if(B){X=F;K=b}else{$=F;u=b}}function l(b,F,B){var k=UDOC.G,i=[],H=[],m="/DeviceGray",j=1,Q=[],G=1;
for(var g=0;g<b.length;g++){var P=b[g];if(P.endsWith(" /CS")){var M=P.indexOf("/NChannel"),T=P.indexOf("/Process");
if(P.startsWith("/DeviceRGB")){m="/DeviceRGB";j=3}else if(P.startsWith("/DeviceGray")){m="/DeviceGray";
j=1}else if(P.startsWith("/DeviceCMYK")){m="/DeviceCMYK";j=4;Q=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(M!=-1){m="/DeviceCMYK";
j=parseInt(P.slice(M-2,M-1));var C=1;for(var Y=0;Y<j;Y++){C=P.indexOf("[",C);Q[j-1-Y]=P.slice(C+1,C+8).split(" ").map(parseFloat);
C++}}else if(T){m="/DeviceGray";j=1}else throw P}else if(P[0]=="["){var gf=P.indexOf("]"),s=P.slice(1,gf).split(" ").map(parseFloat),b3=P.slice(gf+2),d5,gh,jt,fl,eq,c7;
if(b3=="/Size"||b3=="/P"||b3=="/R")continue;if(b3=="/S"||b3=="/A"){d5=s[0];gh=s[1];jt=s[2];fl=s[3];eq=s[4];
c7=s[5]}else if(b3=="/N"){var k8=j+(G==1?0:1),hs;d5=s[k8+0];gh=s[k8+1];jt=s[k8+2];fl=s[k8+3];eq=s[k8+5];
c7=s[k8+6];if(m=="/DeviceRGB")hs=s.slice(0,3);else if(m=="/DeviceGray")hs=[s[0],s[0],s[0]];else if(m=="/DeviceCMYK"){var cq=[0,0,0,0];
for(var Y=0;Y<j;Y++){var jn=s[Y],an=Q[Y];cq[0]+=jn*an[0];cq[1]+=jn*an[1];cq[2]+=jn*an[2];cq[3]+=jn*an[3]}hs=V(cq)}else throw hs;
hs.push(s[j]);H.push([hs,d5,gh])}else throw b3;i.push([b3,eq,c7,d5,gh,jt,fl])}else if(P=="/E"){var hk=i.slice(0),ds=0;
for(var Y=0;Y<i.length;Y++){var gT=i[Y][0];if(gT=="/N"){ds++;continue}var gP=Y,ky=Y+1;while(i[ky][0]!="/N"&&ky<i.length)ky++;
if(ds==0||ds==3){for(var ay=0;ay<ky-gP;ay++)hk[gP+ay]=i[ky-1-ay]}else for(var ay=gP;ay<ky;ay++){var bb=hk[ay],ap=bb[1];
bb[1]=bb[5];bb[5]=ap;ap=bb[2];bb[2]=bb[6];bb[6]=ap}Y=ky-1}i=[];for(var Y=0;Y<hk.length;Y++){var bb=hk[Y];
i.push(bb[1],bb[2],bb[3],bb[4],bb[5],bb[6])}var cR=i.length;k.moveTo(F,i[2],i[3]);for(var Y=0;Y<cR;Y+=6){var jt=i[(Y+4)%cR],fl=i[(Y+5)%cR],eq=i[(Y+6)%cR],c7=i[(Y+7)%cR],d5=i[(Y+8)%cR],gh=i[(Y+9)%cR];
k.curveTo(F,jt,fl,eq,c7,d5,gh)}k.closePath(F);i=[]}else if(P.endsWith("/Version"))G=parseFloat(P[0])}var c8=B.uB();
c8.Ha|=16;c8.XK("<Mesh>");var gr=c8.add.vstk=gH.e_.ib(!0);if(H.length>=2){var fF=0,cj=0,br=0;for(var Y=0;
Y<H.length;Y++)for(var ay=Y+1;ay<H.length;ay++){var hX=H[Y][0],gG=H[ay][0],jx=hX[0]-gG[0],cr=hX[1]-gG[1],a8=hX[2]-gG[2],f8=Math.sqrt(jx*jx+cr*cr+a8*a8);
if(f8>br){br=f8;fF=Y;cj=ay}}var dW=H[fF],g7=H[cj],eU=c8.add.GdFl=JSON.parse(gH.R$[gH.order.indexOf("GrFl")]),f7=eU.Grad.v;
f7.Intr.v=0;eU.Type.v.GrdT="Lnr";a.T.Fa([[0,dW[0]],[1,g7[0]]],f7);var d7=R(F.ctm),aW=d7.QB(new kn(dW[1],dW[2])),cy=d7.QB(new kn(g7[1],g7[2])),dh=a.A.jl(F.pth.crds);
aW.x=(aW.x+cy.x)/2;aW.y=(aW.y+cy.y)/2;a.T.OH(aW,cy,dh,eU)}e(c8,F.pth,B,0);B.s.push(c8);k.newPath(F)}function N(b){var F=b.indexOf(")");
while(b[F-1]=="\\")F=b.indexOf(")",F+1);return b.slice(b.indexOf("(")+1,F).replaceAll("\\","")}function f(b,K){b.Rd.v=K[0]*255;
b.Grn.v=K[1]*255;b.Bl.v=K[2]*255}function z(b){var F=[];for(var Y=0;Y<b.length;Y++)F[Y]=parseFloat(b[Y].slice(1));
return F}function R(b){return new bE(b[0],b[1],b[2],b[3],b[4],b[5])}function V(b){return a.ft(b.slice(0,4)).slice(0,3)}function d(b){var F=b.split(" "),B=F[F.length-1],k=B.toLowerCase(),i=F.map(parseFloat),H=null;
if(k=="xa"||k=="xx"||k=="xz"){var H=i[4]==null?i.slice(0,3):[i[4],i[5],i[6]];if(k=="xx"&&i[i.length-2]==2)H=V(i)}else if(k=="g")H=V([0,0,0,1-i[0]]);
else if(k=="x"||k=="k"){if(k=="x"){i.pop();var m=1-i.pop();for(var Y=0;Y<4;Y++)i[Y]*=m}H=V(i)}else if(k=="xk"){var j=i[i.length-2],Q=i[i.length-3];
if(j==0)H=V(i);else if(j==1){H=[i[4],i[5],i[6]];for(var Y=0;Y<3;Y++)H[Y]=Q*1+(1-Q)*H[Y]}else throw b}else throw k;
return H}function e(b,F,B,k){b.add.vmsk=new gU.JA;if(F.crds.length!=0)b.add.vmsk.$=p(F);b.add.vmsk.cS=k;
b.$h();b.Dm(B)}function p(b){var F={j:b.crds,G:b.cmds},B=a.A.lR(F,!1);return B}function h(b,F){var B=[],G=0,T=0;
for(var k=0;k<2;k++){var i=F[["Raster","Place"][k]];if(i){for(var Y=0;Y<i.length;Y++){var H=i[Y][["Data","Document","PlacedObjectPreview"][k]];
if(H==null)continue;var m=H._begin,j=H._end;if(m>j)m=j;B.push([m,j])}}}B.sort(function(gf,s){return gf[0]-s[0]});
var Q=[F._begin];for(var Y=0;Y<B.length;Y++){var g=B[Y],m=g[0]+32;Q.push(m,g[1]);G+=g[1]-m}Q.push(F._end);
var P=F._end-F._begin,M=new Uint8Array(P-G);for(var Y=0;Y<Q.length;Y+=2){var m=Q[Y],C=Q[Y+1]-m;M.set(new Uint8Array(b.buffer,m,C),T);
T+=C}return _.AF(M).split(/\r\n|\r|\n/)}function E(b,F){if(b==null)return[];var B=h(F,b),k="",i="",H=0,m;
for(var Y=2;Y<B.length;Y++){var j=B[Y];if(j[0]=="%"){if(H==0)k+=j.slice(1);else i+=j.slice(1)}else if(j==";")H++;
else if(j.endsWith("/RulerOrigin ,"))m=j.split(" ").slice(0,2).map(parseFloat)}var Q=[k,i],G=[];for(var Y=0;
Y<2;Y++){var g=Q[Y],P=new Uint8Array(g.length);_.b_(P,0,g);var M=FromPS.F.ASCII85Decode({buff:P,off:0}),T=j1.Sr(M);
G.push(T)}G.push(m);return G}function q(b,F){if(b==null)return[];var B=h(F,b);B=B.slice(1);for(var Y=0;
Y<B.length;Y++){var k=B[Y];if(k[0]=="%")B[Y]=k.slice(k[1]=="_"?2:1)}var i=w(B);return i}function Z(b){var F=[];
A(b,F);for(var Y=0;Y<F.length;Y++)F[Y]="%_"+F[Y];return F}function v(b,F){var B={};if(b==null)return B;
for(var Y=0;Y<b.length;Y++){var k=h(F,b[Y]),i=k[1],H=N(i),m=i.slice(i.lastIndexOf(")")+2).split(" ").map(parseFloat),j=[];
for(var Q=2;Q<k.length;Q++)j.push(k[Q].slice(2));B[H]={_C:m,y$:j}}return B}function W(b,F){var B=[],i,H;
if(b==null)return B;var k=h(F,b);for(var Y=1;Y<k.length;Y++){var m=k[Y];if(m=="0 0 Pb"||m=="PB"||m==""){}else if(m.endsWith("Xa")||m.endsWith("Xz")||m.endsWith("Xx")||m.endsWith("Xk")||m.endsWith(" k")||m.endsWith(" g")||m.endsWith(" x"))i=[0,d(m)];
else if(m.endsWith("Xs"))i=[0,[0,0,0]];else if(m.endsWith("Bg"))i=[1,N(m)];else if(m.endsWith("Pg"))i=[2,N(m)];
else if(m[0]=="(")H=N(m);else if(m=="Pc")B.push([H,i]);else if(m=="0 BB"||m=="Bb"||m.endsWith("Bh")){}else throw m}return B}function D(b,F){var B={},k,i;
if(b==null)return B;var H=[];for(var Y=0;Y<b.length;Y++){var m=h(F,b[Y]);for(var j=0;j<m.length;j++){var Q=m[j];
if(Q.endsWith("%_Bs")){var G=Q.slice(0,Q.length-4);if(!G.endsWith(" "))G+=" ";Q=G+"%_BS"}if(Q[0]=="("){k=N(Q);
var g=Q.split(")"),P=g[1].split(" ");i=parseInt(P[1])}else if(Q.endsWith("%_BS")){var g=Q.split(" "),gf,s=1;
g.pop();g=g.map(parseFloat);var M=g.pop(),T=g.pop(),C=g.pop();if(C==0)gf=[g[0],g[0],g[0]];else if(C==2||C==4)gf=[g[4],g[5],g[6]];
else if(C==1||C==3)gf=V(g);else if(C==6){if(g.length==3)gf=[g[0],g[0],g[0]];else if(g.length>=8)gf=g.slice(4,7);
else gf=V(g);s=g.pop()}else{throw C}H.push([M/100,gf,s,T/100])}else if(Q=="BD"){for(var b3=0;b3<H.length-1;
b3++)H[b3][3]=H[b3+1][3];H.sort(function(d5,gh){return d5[0]-gh[0]});B[k]={RL:i,awe:H};H=[]}}}return B}function I(b){var F="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),B=Date.now(),k=0,i=[],H={Header:{}},m=[H],j=b.length;
while(k<j){var Q=k;while(Q!=j&&b[Q]!=13&&b[Q]!=10){Q++}if(b[k]==37&&b[k+1]==95&&b[k+2]==37)k+=2;if(b[k]==37&&(b[k+1]==37||b[k+1]==65)){var G=_.MQ(b,k,Q-k);
if(G=="%%EOF")break;if(G=="%%EndComments"||G=="%EndComments"||G=="%AI5_Begin_NonPrinting"||G=="%AI5_End_NonPrinting--"||G.startsWith("%AI17_Begin_Content_if_version_gt")||G=="%AI17_End_Versioned_Content"){}else{var g=G.indexOf("Begin"),P=Math.max(G.indexOf("_End"),G.indexOf("%End"));
if(g!=-1&&G[g-1]!="%"&&G[g-1]!="_")g=-1;if(g!=-1){var M=G.slice(g+5).split(":")[0],T={_begin:k,_end:k},C=m[m.length-1];
if(F.indexOf(M)!=-1){if(C[M]==null)C[M]=[];C[M].push(T)}else{if(C[M]!=null){console.log(m);throw G}C[M]=T}m.push(T);
if(G.startsWith("%%BeginData")){Q=_.EJ(b,"%%EndData",k)}else if(G.slice(0,15)=="%%BeginDocument")Q=_.EJ(b,"%%EndDocument",Q);
else if(G=="%AI9_BeginDocumentData")Q=_.EJ(b,"%AI9_EndDocumentData",Q);else if(G=="%AI11_BeginTextDocument")Q=_.EJ(b,"%AI11_EndTextDocument",Q)}else if(P!=-1){if(m.length>1)m.pop()._end=k}else if(m.length==1&&(G.startsWith("%AI")||G.startsWith("%%")&&G.indexOf(" ")!=-1)){var gf=1;
if(G.startsWith("%AI"))while(G[gf]!="_"&&gf<G.length)gf++;var s=G.indexOf(":");if(s==-1)s=G.indexOf(" ");
var b3=G.slice(gf+1,s),d5=G.slice(s+1).trim();H.Header[b3]=d5}}}k=Q;if(b[k]==13)k++;if(b[k]==10)k++}return H}function A(b,F){if(b instanceof Array)for(var Y=0;
Y<b.length;Y++)A(b[Y],F);else if(typeof b=="object"){for(var B in b){var k=b[B];if(typeof k=="number")F.push(k+" /Int ("+B+") ,");
else if(typeof k=="string")F.push("("+k+") /String ("+B+") ,");else if(k instanceof Array){F.push("/Array :");
A(k,F);F.push("; ("+B+") ,")}else if(typeof k=="object"){F.push("/Dictionary :");A(k,F);F.push("; ("+B+") ,")}}}}function U(b,F){for(var Y=0;
Y<F.length;Y++)if(b.startsWith(F[Y]))return!0;return!1}function w(b){var F=[],B=[],top=-1,k,i=null,H=null,m=null,j=0;
for(var Q=0;Q<b.length;Q++){var G=b[Q];if(k){G=k+G;k=null}var g="\t".repeat(F.length);if(i!=null){i.push(G);
if(G.endsWith("~>")){var P=_.qK(i.join("")),M=FromPS.F.ASCII85Decode({off:0,buff:P});F.push(M);B.push(!1);
top++;i=null}}else if(m!=null){if(G=="X+"){if(j==1){F.push(m);B.push(!1);top++;m=null}else j--}else if(G=="X=")j++;
else m.push(G)}else if(H!=null){if(G=="/Def ; "){F.push(H);B.push(!1);top++;H=null}else H.push(G)}else if(G=="/Binary : /ASCII85Decode ,"){i=[]}else if(G=="X="){m=[];
j++}else if(G=="/FillStyle : 0 O"){H=["0 O"]}else if(G=="/SVGFilter :"||G=="; /Def ;")continue;else if(G.startsWith("/XMLUIDREF :")){var T=t(G);
F[top][T[4]]=T[2]}else if(G.startsWith("/")&&G[1].toUpperCase()!=G[1].toLowerCase()){if(G.startsWith("/XMLUID")){var T=t(G);
if(B[top])throw"e";F[top][T[4]]=T[2]}if(G.startsWith("/GObjRef")){var T=t(G);if(T.length==7){if(B[top])throw"e";
F[top][T[5]]=T[2]}else{if(!B[top])throw"e";F[top].push(T[2])}}else{var C=G.startsWith("/Array")||G.startsWith("/Document");
F.push(C?[]:{});B.push(C);top++}}else if(G.endsWith(",")){var gf,s,T=t(G);T.pop();if(T[0]==";"||T.length==1||G==" ,"){s=F.pop();
B.pop();top--;gf=B[top]?null:T.pop()}else{gf=B[top]?null:T.pop();var b3=T.pop(),d5=T[0];if(b3=="/Int")s=parseInt(d5);
else if(b3=="/Real")s=parseFloat(d5);else if(b3=="/Bool")s=d5=="1";else if(b3=="/String"||b3=="/UnicodeString")s=T.join("");
else if(b3=="/RealMatrix"||b3=="/RealPoint"||b3=="/RealPointRelToROrigin")s=T.map(parseFloat);else throw b3}if(B[top])F[top].push(s);
else F[top][gf]=s}else if(G==";"){}else if(G==""){}else{if(G.indexOf("/RealPoint")!=-1){}else if(G.startsWith("(")&&G.endsWith(")")){}else if(G.endsWith("/RealMatrix")){}else throw G;
k=k?k+G:G}}return F}function t(b){var F=0,B=[];while(F<b.length){var k=b[F],i=k.charCodeAt(0);if(k==" ")F++;
else if(k==","||k==";"||k==":"){B.push(k);F++}else if(k=="("){var H=F+1;while(!(b[H]==")"&&(b[H-1]!="\\"||b[H-2]=="\\")))H++;
var m=b.slice(F+1,H);B.push(m);F=H+1}else if(k=="/"||k=="-"||48<=i&&i<=57){var H=F;while(b[H]!=" ")H++;
B.push(b.slice(F,H));F=H}else throw k}return B}function L(b){var F="";for(var Y=0;Y<b.length;Y++){if(b[Y]=="_"&&b[Y+1]=="x"){var cv=parseInt(b.slice(Y+2,Y+4),16);
F+=String.fromCharCode(cv);Y+=4}else if(b[Y]=="_")F+=" ";else F+=b[Y]}return F}function J(b){var F="xmlnode-nodename",B="xmlnode-nodevalue",k="xmlnode-attributes",i="xmlnode-children",H=b[F].split(":").pop().replace("#",""),m=b[k],j=b[i],Q="<"+H;
for(var G in m)if(G!="xmlns"&&G!="xmlns:v")Q+=" "+G.split(":").pop()+"=\""+m[G][B]+"\"";Q+=">"+(j.length==0?"":"\n");
for(var Y=0;Y<j.length;Y++)Q+=J(j[Y]);if(b[B])Q+=b[B];return Q+"</"+H+">\n"}return c}();e5.aDZ=function(c,o,K){var u=a.A.W6(new ez(0,0,c,o)).j,X=new bE;
X.rotate(K);a.A.i(u,X,u);var $=a.A.jl(u);return $.m/c};e5.amW=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
e5.jH=function(){function c(z){var R=72/z.$M,V=new bE(R,0,0,-R,0,0),d=z.root.children,e=[],p={Yn:[],aqg:0},h=16383,P=0,T=0;
for(var Y=0;Y<d.length;Y++)O(d[Y],z,V,p,e,0);var E=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+h+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
E.push("%%BeginSetup\r");E=E.concat(p.Yn);for(pn in z.hJ){var q=z.hJ[pn],Z=z.$M/72;E.push("%AI3_BeginPattern: ("+pn+")");
E.push("("+pn+") 0 0 "+Math.round(q.m/Z)+" "+Math.round(q.e/Z));var d=q.root.children,v=[];for(var Y=0;
Y<d.length;Y++)O(d[Y],q,V,p,v,1);v=window.akC;for(var Y=0;Y<v.length;Y++){var W=v[Y];E.push(W.startsWith("%_")?W:"%_"+W)}E.push("E","%AI3_EndPattern");
console.log(R);console.log(q)}E=E.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var D=z.add.arts;for(var Y=0;Y<D.length;Y++){var I=D[Y];console.log(I);var A=I._C[0]*R,U=-I._C[1]*R,w=I._C[2]*R,t=-I._C[3]*R;
E.push("/Dictionary :","("+I.Ek+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",h/2+" "+h/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",K(A)+" "+K(U)+" /RealPointRelToROrigin"," (PositionPoint1) ,",K(w)+" "+K(t)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}E=E.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var L=[],J=[];for(var Y=0;Y<z.s.length;Y++){var b=z.s[Y],F=b.add.TySh;if(F){L.push(F.Bz);J.push(F)}}if(L.length!=0){var B=du.aw8(L,null,null);
function k(I){return I.map(function(C){return"f"+C})}for(var i=0;i<L.length;i++){var F=J[i],H=B._1._1[i],m=H._1._0[0]._0;
m=parseInt(m.slice(1));var j=B._0._8._0[m]._0,Q=F.i.clone();Q.concat(V);Q.scale(1,-1);j._2._2=k([Q.V,Q.J,Q.If,Q.gI,Q.hW,Q.qj])}var G=o(B),g=o(B);
E.push("%AI11_BeginTextDocument");E.push("/AI11TextDocument : /ASCII85Decode ,");E=E.concat(G);E.push("0.0001 0.0001 /RulerOrigin ,");
E.push(";");E.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");E=E.concat(g);E.push(";");E.push("%AI11_EndTextDocument")}E.push("%%EndSetup\r");
E=E.concat(e);console.log(E.join("\n"));E.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var Y=0;Y<E.length;Y++){var I=E[Y];if(typeof I=="string")I=E[Y]=_.qK(I);P+=I.length+1}var M=new Uint8Array(P);
for(var Y=0;Y<E.length;Y++){var I=E[Y];M.set(I,T);T+=I.length;M[T]=13;T++}return aB.a4X(M).buffer}function o(z){var R=new fd,V=j1.or(z,R)-2,d=f(R.data.slice(0,V)),e=[];
for(var p=0;p<d.length;p+=100){if(d.length-p<103){e.push("%"+d.slice(p));break}e.push("%"+d.slice(p,p+100))}return e}function K(cv){return cv.toFixed(3)}function u(z,R){var V=z.getName(),d=null;
R.push("%_/ArtDictionary :");if(z.add.vmsk)d=z.add.vmsk.JR;if(z.add.SoLd){var e=a.D.mD(z.add.SoLd);d=Math.atan2(-e.J,e.V)}if(z.add.TySh){var e=z.add.TySh.i;
d=Math.atan2(-e.J,e.V)}if(d!=null&&d!=0)R.push("%_("+d+") /String (BBAccumRotation) ,");if(z.add.TySh)R.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!V.startsWith("<")&&!V.endsWith(">")){R.push("%_/XMLUID : "+X(V)+" ; (AI10_ArtUID) ,")}R.push("%_;","%_")}function X(z){var R="";
for(var Y=0;Y<z.length;Y++){var V=z[Y],d=z.charCodeAt(Y);if(V==" ")R+="_";else if(V=="."||V==":"||V=="-"||48<=d&&d<=57||65<=d&&d<=90||97<=d&&d<=122||127<d)R+=V;
else R+="_x"+d.toString(16).toUpperCase()+"_"}return"("+R+")"}function $(z,R,V){V.push(K(z[0])+" "+K(z[1])+" "+K(z[2])+" "+R)}function O(z,R,V,d,e,p){var h=z.l;
if(p!=0)e.push((h.IT()?0:1)+" Xw");if(h.rD()){var E=!1;for(var Y=0;Y<z.children.length;Y++)if(z.children[Y].l.lH)E=!0;
var q=h.add.lsct==aj.cD?1:0;if(p==0){e.push("%AI5_BeginLayer");e.push((h.IT()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");
e.push("("+h.getName()+") Ln");e.push(q+" AE");u(h,e)}else{e.push(q+" Ae");e.push(E?"q":"u")}for(var Y=0;
Y<z.children.length;Y++)O(z.children[Y],R,V,d,e,p+1);if(p==0)e.push("LB","%AI5_EndLayer--");else{e.push(E?"Q":"U");
u(h,e);n(h,e);e.push("0 0 Xd","6 () XW")}}else{n(h,e);var Z=h.add.TySh,v=h.add.vmsk;if(Z){e.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",d.aqg+" /StoryIndex ,");
if(ii.DG(Z.Bz)==1){var W=ii.Wy(Z.Bz),D=a.A.W6(new ez(W[0],W[1],W[2],W[3])).j;a.A.i(D,Z.i,D);a.A.i(D,V,D);
e.push("/Art :","X=","1 Ap",D[0]+" "+D[1]+" m",D[2]+" "+D[3]+" L",D[4]+" "+D[5]+" L",D[6]+" "+D[7]+" L",D[0]+" "+D[1]+" L","n","X+","; /ConfiningPath ,")}e.push("2 /TextAntialiasing ,",";");
d.aqg++}else if(h.add.SoLd){var I,A,U,w=h.add.SoLd,t=w.Idnt.v,L=R.rj(t,w.Crop?w.Crop.v:null),J=L.Za,I=J[0],A=J[1];
U=a.D.mD(w);var b=new bE(1,0,0,-1,0,0);b.concat(U);b.concat(V);var F=A.P(),B=A.m,k=A.e,i=a.R(F*4+8);
for(var Y=0;Y<F;Y++){var H=Y*4,m=Y*3;i[m]=I[H];i[m+1]=I[H+1];i[m+2]=I[H+2];i[3*F+Y]=I[H+3]}_.b_(i,F*4,"%EndData");
e.push("%AI5_File:","%AI5_BeginRaster","[ "+[b.V,b.J,b.If,b.gI,b.hW,b.qj].map(K).join(" ")+" ] 0 0 "+[B,k,B,k].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(F*4+4),"XI",i,"XH","%AI5_EndRaster","N")}else if(v){var j=h.add.vstk,Q=h.add.vstl,G=Q.QQ,g=Q.uK,P=a.o.mn(v.$)>1;
if(P)e.push("*u","0 Xw");if(G){if(G.length==3)$(G,"Xa",e);else if(G.length==4){var M=l(G,d);e.push("Bb",M,"2 BB")}else{e.push("("+G[0]+") "+G[1][0].join(" ")+" ["+G[1][1].join(" ")+"] p")}}if(g){var T=gH.Be.f_(Q,T,V.ea());
e.push(T.lcap+" J "+T.ljoin+" j "+T.lwidth+" w "+K(T.mlimit)+" M ["+T.dash.join(" ")+"]0 d");if(g.length==3)$(g,"XA",e);
else{var C=j.strokeStyleContent.v,M=l(g,d);e.push("1 Bb",M,"2 BB")}}var gf=a.A.Uk(v.$,1);a.A.i(gf.j,V,gf.j);
var s=h.lH?"h\nW\nn":G&&g?"b":G?"f":"s";x(gf,s,v.cS,e);if(P)e.push("*U")}u(h,e)}}function n(z,R){var V=e5.amW.indexOf(z.Mh);
if(V==-1)V=0;R.push(V+" "+K(z.opacity/255)+" 0 0 0 Xy")}function x(z,R,V,d){d.push(V+" XR");var e=0;
for(var p=0;p<z.G.length;p++){var h=z.G[p],E,q=0,Z="";if(h=="M"){q=2;E="m"}if(h=="L"){q=2;E="l"}if(h=="C"){q=6;
E="c"}for(var Y=0;Y<q;Y++)Z+=K(z.j[e+Y])+" ";e+=q;if(q!=0)d.push(Z+E);if(p==z.G.length-1||z.G[p+1]=="M"){d.push(h=="Z"?R:R.toUpperCase())}}}function l(z,R){var V=N(z,R),d="";
if(z[0]==1)d="0 0 "+z[2].slice(5).map(K).join(" ")+" Bh\n";return d+"1 ("+V+") "+z[2].slice(0,4).map(K).join(" ")+" "+z[3].map(K).join(" ")+" "+K(z[2][4])+" Bg"}function N(z,R){var V=z[0],d=z[1].slice(0),e="grd"+R.Yn.length;
R.Yn.push("%AI5_BeginGradient: ("+e+")","("+e+") "+V+" "+d.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(V==0)d=d.reverse();for(var Y=0;Y<d.length;Y++){var p=d[Y],h=a.S4(p[1]),E=h.concat(p[1]).map(K).join(" ")+" 2 "+K(p[2])+" 6 50 "+K(p[0]*100);
R.Yn.push(E+" %_BS");R.Yn.push("%_"+E+" Bs")}R.Yn.push("BD","%AI5_EndGradient");return e}function f(z){var R=[85*85*85*85,85*85*85,85*85,85,1],V="",d=z.length,e=new Uint8Array(4),p=new Uint32Array(e.buffer);
for(var Y=0;Y<d;Y+=4){var h=d-Y;e[3]=z[Y];e[2]=h>1?z[Y+1]:0;e[1]=h>2?z[Y+2]:0;e[0]=h>3?z[Y+3]:0;var E=p[0],q=1+Math.min(4,h);
for(var Z=0;Z<q;Z++){var v=Math.floor(E/R[Z]);V+=String.fromCharCode(33+v);E-=v*R[Z]}}return V+"~>"}return c}();
function kr(){}kr.Sr=function(){var c,o,K,u,X,p,h,E;function $(b){return _.zw(c,b)}function O(b){return _.Em(c,b)}function n(b){return _.jn(c,b)}function x(b){return _.Sz(c,b)}function l(b,F){var B=[];
for(var Y=0;Y<F;Y++)B.push(n(b+Y*4));return B}function N(b,F){var B=[];for(var Y=0;Y<F;Y++)B.push($(b+Y*8));
return B}function f(b){return n((b+1)*4096-12)}function z(b){return n((b+1)*4096-8)}function R(b,o,F,B){if(u[b]==null)u[b]=[];
u[b].push([B,new Uint8Array(c.buffer,o,F)])}function V(b,F,B,k){var i=K[b],o=i*4096;o=o+n(o+4096-24-12-F*4);
var H=O(o),m=c[o+2],j=c[o+3];if(F!=m)throw m;if(j==0)R(k,o+4,B,9);else{var Q=O(o+6),G=n(o+8);R(k,o+12,H-12,9);
V(G,Q,B-(H-12),k)}}function d(){var b=n(352),F=n(b*4096+128),B=n(936);K=[];u={};X={};for(var Y=0;Y<1e9;
Y++){var k=n(B*4096+128+Y*4);if(k==0)break;var i=l(k*4096+128,4096-128-12>>>2);K=K.concat(i)}for(var H=0;
H<K.length;H++){var m=K[H],j=f(m);if(j!=6)continue;var o=m*4096,Q=n(o);o+=4;for(var Y=0;Y<Q;Y++){var G=n(o);
o+=4;var g=n(o);o+=4;var P=n(o);o+=4;var M=n(o);o+=4;if(G==0)X[g]=P;else{var T=P&65535,C=P>>>16;if(C==0)R(g,M*4096,T,8);
else V(M,C,T,g)}}}var p={};for(var gf in u){var s=u[gf],b3=s.length;if(b3==1)p[gf]=s[0][1];else{var d5=0,o=0;
for(var Y=0;Y<b3;Y++)d5+=s[Y][1].length;var gh=p[gf]=new Uint8Array(d5);for(var Y=0;Y<b3;Y++){gh.set(s[Y][1],o);
o+=s[Y][1].length}}}return p}function e(o,b){var F=b?n(o):O(o),B="";o+=b?4:2;while(B.length<F){var k=c[o++],i=c[o++],H=0,m="";
k+=(i&15)*256;i=i&240;for(var Y=0;Y<k;Y++){if(i==64)H=c[o++];else if(i==128)H=c[o++]|c[o++]<<8;else throw i;
m+=String.fromCharCode(H)}B+=m}return[B,o]}function q(o,b,F){var B=l(o,b);for(var Y=0;Y<b;Y++){F.push(Y);
if(B[Y]>h)throw"e";B[Y]=v(B[Y],F);F.pop()}return B}var Z={};function v(b,F){if(E.indexOf(b)!=-1)return p[b];
if(b==0)return null;if(p[b]==null)return null;if(!(p[b]instanceof Uint8Array))return p[b];var B=c,o=0;
c=p[b];E.push(b);var k=X[b].toString(16),i=p[b]={_type:J[k]?J[k]+":"+k:"typ-"+k,_eid:b};while(o+8<c.length){var H=n(o);
o+=4;var m=H.toString(16),j=n(o);o+=4;var Q=o+j;if(o+j>c.length){i._bin=c;break}W(m,U,i,o,j,F);o=Q}c=B;
E.pop();return i}function W(b,F,B,o,k,i){var H=F[b+":"+B._type];if(H==null)H=F[b];i.push(H?H[0]==""?b:H[0]:b);
if(H){var m=H[0],j=null,Q=H[1];if(m=="")m=Q+"-"+b;if(t[Q]&&k!=t[Q]){console.log(Q);console.log(b,H);
console.log(c.slice(o,o+k));throw"e"}if(Q=="mat")j=N(o,6);else if(Q=="mmat")j=[v(n(o),i),N(o+6,6)];else if(Q=="rect")j=N(o,4);
else if(Q=="mrct"){j=N(o,4);j.push(O(o+32))}else if(Q=="doub")j=$(o);else if(Q=="pointArr"){var G=O(o);
j=l(o+2,G*2)}else if(Q=="usrt")j=O(o);else if(Q=="uint")j=n(o);else if(Q=="pntr"||Q=="ptr6"){j=v(n(o),i)}else if(Q=="bool2"){if(O(o)!=0&&O(o)!=1)throw O(o);
j=O(o)==1}else if(Q=="bool4"){if(n(o)!=0&&n(o)!=1)throw b+","+n(o);j=n(o)==1}else if(Q=="color"){if(k!=38&&k!=30)throw k;
var g=n(o),P=O(o+4);j=[g];for(var Y=0;Y<P;Y++)j.push($(o+6+Y*8))}else if(Q=="path"){var M=o+k;j=[];var T=n(o);
o+=4;for(var Y=0;Y<T;Y++){var C=[[]];j.push(C);var gf=n(o);o+=4;for(var s=0;s<gf;s++){var g=n(o);o+=4;
if(g<2){C[0].push([g,$(o),$(o+8),$(o+16),$(o+24),$(o+32),$(o+40)]);o+=48}else if(g==2){C[0].push([g,$(o),$(o+8)]);
o+=16}else throw g}C.push(O(o));o+=2}}else if(Q=="ptrAndList"){var b3=n(o),d5=n(o+4);j=q(o+8,d5,i);j.unshift(v(b3,i))}else if(Q=="ptrArray"||Q=="ptrArrayX"){var gh=k>>2;
if(Q=="ptrArray"){gh=n(o);o+=4;if(k!=4+gh*4)throw k}j=q(o,gh,i)}else if(Q=="ptrArray2"){var gh=n(o);
o+=4;j=q(o,gh,i);o+=gh*4;gh=n(o);o+=4;j.push(q(o,gh,i))}else if(Q=="cldrn"){var jt=n(o),fl=n(o+4),gh=n(o+8);
j={H:v(jt,i),S7:v(fl,i),rY:q(o+12,gh,i)};if(k!=12+gh*4){console.log(b,sa);throw"e"}if(jt==0)throw jt}else if(Q=="aprnc"){var gh=n(o);
o+=4;j={};for(var Y=0;Y<gh;Y++){var eq=n(o),c7=O(o+4),k8=O(o+6);o+=8;var hs=L[eq.toString(16)];if(hs==null)hs="prm-"+eq.toString(16);
else hs=A(hs);j[hs]=[];for(var s=0;s<k8;s++){var cq=n(o),jn=O(o+4),an=null;o+=6;if(cq==28264)an=$(o);
else if(cq==28263)an=n(o);else if(cq==279||cq==6917)an=v(n(o),i);else if(cq==28261)an=O(o)==1;else if(cq==28265)an=[$(o),$(o+4)];
else if(cq==6914||cq==83231)an=e(o+3)[0];else if(cq==28259||cq==28260||cq==23094||cq==67679){an=c.slice(o,o+jn)}else throw cq.toString(16);
j[hs].push(an);o+=jn}}}else if(Q=="lopts"){j={a0D:O(o+0)==1,show:O(o+2)==1,aDa:O(o+4)==1,hP:n(o+10),name:e(o+21)[0]}}else if(Q=="origin"){var M=o+k;
if(c[o++]!=1)throw"e";var G=n(o);o+=4;var hk=_.MQ(c,o,G);o+=G;if(c[o++]!=1)throw"e";var ds=c[o++];if(ds!=1&&ds!=53)throw ds;
var gT=O(o);o+=2;if(gT!=0&&gT!=1)throw gT;var gP=n(o);o+=4;if(gP!=0&&gP!=1)throw gP;var ky=n(o);o+=4;
if(ky!=0&&ky!=2&&ky!=3)throw ky;var ay=n(o);o+=4;var bb=e(o,!0);o=bb[1];bb=bb[0];var ap=n(o),cR=n(o+4);
o+=8;var c8=n(o);o+=4;if(c8!=0)throw c8;var gr=n(o);o+=4;o+=3;var fF=e(o)[0];o+=2+2+fF.length;j={file:hk,id:bb,GA:fF}}else if(Q=="string")j=e(o+3)[0];
else if(Q=="relEnt"){var cj=O(o);o+=2;j=[];for(var Y=0;Y<cj;Y++)j.push([n(o+Y*8),v(n(o+Y*8+4),i)])}else if(Q=="textData"){var M=o+k,br=n(o);
o+=4;var eq=n(o);o+=4;var P=O(o);o+=2;var hX=[];for(var Y=0;Y<P;Y++){var gG=n(o);o+=4;if(br==514)hX.push(e(o,!0)[0]);
else if(br==515){var jx=n(o),b=n(o+4),cr=D(o+8,i);hX.push([jx,v(b,i),cr])}else if(br==516){var jx=n(o),b=n(o+4),a8=O(o+8),cr=D(o+8,i);
hX.push([jx,v(b,i),cr])}else hX.push(c.slice(o,o+gG));o+=gG}if(M-o!=12)throw M-o;j=hX}else if(Q=="storyProps"){var f8=n(o);
if(O(o+4)>1)throw"e";var dW=v(n(o+6),i),P=n(o+10),g7=v(n(o+14+P*4),i);j={a6X:f8,a5r:dW,rY:q(o+14,P,i),a4d:g7,aE2:l(o+14+P*4+4,4)}}else if(Q=="styleProps")j=D(o,i);
else if(Q=="bounds"){var eU=o,cj=n(o);o+=4;j=[];for(var Y=0;Y<cj;Y++){var f7=[];j.push(f7);for(var s=0;
s<4;s++)f7.push($(o+s*8));o+=32;f7.push(c[o]);o++}if(o!=eU+k)throw"e"}else if(Q=="columnPos"){var cj=n(o);
o+=4;j=[N(o,cj),$(o+cj*8)];o+=cj*8+8}else if(Q=="StyleName"){j=[n(o+4)]}else if(Q=="fontName"){var M=o+k;
j=[O(o)];o+=2;for(var Y=0;Y<2;Y++){var hk=e(o+3);o=hk[1];j.push(hk[0])}j.push(n(o));o+=4;var d7=O(o);
o+=2;j.push(d7);var aW=O(o);o+=2;var cy=[];j.push(cy);for(var dh=0;dh<aW;dh++){var fh=[];cy.push(fh);
var hk=e(o+3);o=hk[1];fh.push(hk[0]);var dP=O(o);o+=2;var hk=_.MQ(c,o,dP);o+=dP;fh.push(hk);for(var Y=0;
Y<3;Y++){var hk=e(o+3);o=hk[1];fh.push(hk[0])}fh.push(n(o));o+=4;var hk=e(o,!0);o=hk[1];fh.push(hk[0])}if(o+4!=M)throw"e";
j.push(n(o))}else throw Q;if(B[m]!=null){console.log(m,B[m],j);console.log(i.slice(0));console.log(eid,b,o,B[m],H,j);
throw"e"}B[m]=j}else{var fg=c.slice(o,o+k);B["prop-"+b]=fg}i.pop()}function D(o,b){var F=O(o);o+=2;var B={};
for(var Y=0;Y<F;Y++){var k=n(o);o+=4;var i=k.toString(16),H=O(o);o+=2;var m=O(o);o+=2;for(var j=0;j<m;
j++){var Q=n(o);o+=4;var G=O(o);o+=2;W(i,w,B,o,G,b);o+=G}}return B}function I(b){c=new Uint8Array(b);
p=d();var F=p[2147483649];F=_.AF(F,4,F.length-4);delete p[2147483649];h=0;for(var B in p)h=Math.max(h,parseInt(B));
E=[];var k={};for(var B in p)k[B]=p[B];for(var B in p)v(parseInt(B),[]);return p}function A(b){b=b.split(" ").join("");
return b[0].toLowerCase()+b.slice(1)}var U={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},w={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},t={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},L={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},J={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return I}();function bO(){}bO.Sr=function(){var c=0;function o(f,z){var R=kr.Sr(f),w=1;c=0;var V=R[1],d=V.spreads,e=[],p=new ez;
for(var h=0;h<d.length;h++){var E=d[h],q=E.children.rY,Z=u(E),v=q[0].children.rY,W=new ez;for(var D=0;
D<v.length;D++){var I=v[D],A=u(I);A.concat(Z);var U=K(I);U.offset(A.hW,A.qj);U=a.A.Qt(U);W=W.X3(U)}e.push(W);
p=p.X3(W)}while(Math.sqrt(p.P())*w<1e3)w++;z.m=p.m*w;z.e=p.e*w;z.buffer=new Uint8Array(4*z.m*z.e);z._K=!0;
z.$M=Math.round(72*w);z.xl(d.length);for(var h=0;h<d.length;h++){var E=d[h],q=E.children.rY,t=z.uB();
t.Ha=24;t.add.lsct=aj.cD;t.XK("Artboard "+(h+1));var L=e[h].clone();L.offset(-p.x,-p.y);L.x*=w;L.y*=w;
L.m*=w;L.e*=w;L=a.A.Qt(L);t.oW(L);t.Mh="pass";z.s.push(z.FL());var Z=u(E);Z.translate(-p.x,-p.y);Z.scale(w,w);
var J={};for(var b=0;b<q.length-1;b++){var F=q[b],B=F.children.rY,k=z.uB(),i=F.layer.lopts;if(i.name=="Internal_pages_layer_name"||J[i.name])continue;
J[i.name]=!0;k.Ha=24;k.add.lsct=aj.cD;k.XK(i.name);k.OG(i.show);if(i.a0D)k.add.lspf=1<<31;k.Mh="pass";
z.s.push(z.FL());for(var Y=0;Y<B.length;Y++)x(B[Y],z,Z,R);z.s.push(k)}z.s.push(t)}}function K(f){var z=f.rect;
return new ez(z[0],z[1],z[2]-z[0],z[3]-z[1])}function u(f){var z=f.transform;return new bE(z[0],z[1],z[2],z[3],z[4],z[5])}function X(f){var z=f.color,R=f.parentFill,d;
if(z==null&&R)z=R.color;if(z==null){console.log("strange color",f);return[0,0,0]}var V=z[0];if(V==5)d=z.slice(1);
else if(V==6)d=UDOC.C.cmykToRgb(z.slice(1));else if(V==7){var e=a.$y(z[1],z[2],z[3]);d=[e.Z/255,e.r/255,e.J/255]}else if(V==14){d=z.slice(1);
console.log("unsure about the color")}else{console.log(z);throw V}return d}function $(f){var z=X(f);
return a.T.mv({Z:z[0]*255,r:z[1]*255,J:z[2]*255})}function O(f){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[f]}function n(f,z){var Y=0,R=0;
while(f[Y+1]&&R+f[Y][0]<=z){R+=f[Y][0];Y++}f=f[Y][1].textData;Y=0;while(f[Y+1]&&R+f[Y][0]<=z){R+=f[Y][0];
Y++}return f[Y]}function x(f,z,R,V){var d=f.transform?u(f):new bE;d.concat(R);var e=f.path,p=f.appearance,h=f.visible,E=f.children?f.children.rY:null,q=z.uB();
if(h!=null)q.OG(h);var Z=E&&E.length==1&&E[0].bitmapFill,v=f["bool2-1623"]&&E&&E.length==1&&E[0].rect&&E[0]._type.startsWith("TextFrame");
if(Z){q.XK("bitmap");var W=E[0],D=K(W),I=u(W),L=null;I.concat(d);var A=W.bitmapFill.bitmap;A=V[A]._bin;
if(A.length!=A.buffer.byteLength)A=A.slice(0);if(A[0]==123){console.log("unknown bitmap format");return}var U=z.ra(A,"img.jpg",0,0);
U.Ha=q.Ha;q=U;var w=[0,0,D.m,0,D.m,D.e,0,D.e];a.A.i(w,I,w);q.add.SoLd.Trnf=r.W.yf(w);q.add.SoLd.nonAffineTransform=r.W.yf(w);
q.oP(z,!1);var t=W.path;if(t&&t.length!=0)L=N(t,I,p);else if(e&&e.length!=0)L=N(e,d,p);if(L){var J=a.o.$$(L.$),b=a.A.jl(w);
if(J.P()/b.ar(J).P()>1.1){if(J.contains(b))L=null;var F=f.children;f.children=null;x(f,z,R,V);f.children=F}}if(L)q.add.vmsk=L;
q.$h();q.Dm(z)}else if(v){if(p&&p.strokeSwatch){var B=z.uB();l(B,z,p,e,d);z.s.push(B)}var k=E[0],D=K(k),I=u(k),jt=0;
I.concat(d);var i=k.children.rY[0],H=i.obj228,m=H[0].story[1],j=m.stoProps.a5r.relEnt,Q=m.stoProps.rY[0].relEnt,G=m.stoProps.rY[1]["ptrArrayX-210"][0].textData,g=V[j[0][1].textData[0][1].name[0]],P=g?g.styProps:{};
G=G.join("").replace(/\r/g,"\n");var M=-1;while((M=G.indexOf("\uFFFC"))!=-1){G=G.slice(0,M)+(G[M-1]=="\n"?" ":" ")+G.slice(M+1)}q.XK(G.slice(0,255));
q.add.lnsr="rend";q.add.TySh=ii.eS(0,0);q.add.TySh.FD=D;q.add.TySh.i=I;var T=q.add.TySh.Bz;ii.FO(T,0,G);
var C=ii.Ij(T,0,G.length);C.W$.FontSize=10;ii.r2(T,0,G.length,C);var gf=[];if(G.length!=0){var s=n(j,0),b3=n(Q,0),d5=1;
for(var Y=1;Y<G.length;Y++){var e=n(j,Y),gh=n(Q,Y);if(e!=s||gh!=b3){gf.push(d5);d5=0}s=e;b3=gh;d5++}if(d5!=0)gf.push(d5)}for(var Y=0;
Y<gf.length;Y++){var fl=n(Q,jt),eq=gf[Y],c7=Math.min(jt+eq,G.length-1),k8=fl[2],hs=fl[1].styProps;if(hs==null)hs={};
var cq=n(j,jt),jn=cq[1].styProps,an=cq[2],hk={};for(var ds in P)hk[ds]=P[ds];for(var ds in jn)hk[ds]=jn[ds];
for(var ds in an)hk[ds]=an[ds];for(var ds in hs)hk[ds]=hs[ds];for(var ds in k8)hk[ds]=k8[ds];var C=ii.Ij(T,jt,c7),gT=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],gP=gT.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var ky=0;ky<gP.length;ky++){var ds=gP[ky],ay=ky<gT.length?C.W$:C.Xi;if(hk[ds]!=null)ay[ds]=hk[ds]}if(hk.fillColor){var bb=X(hk.fillColor);
C.W$.FillColor={Type:1,Values:[1].concat(bb)}}if(hk.font){var ap=hk.font.name[5],cR=hk.fontStyle;if(cR==null)cR="Regular";
for(var gr=0;gr<ap.length;gr++)if(ap[gr][0]==cR)ii.CQ(C,ap[gr][1])}if(hk.leading!=null&&hk.leading>1){C.W$.Leading=hk.leading;
C.W$.AutoLeading=!1}if(hk.align!=null)C.Xi.Justification=[0,2,1,6,3,5,4,0,0,0][hk.align];ii.r2(T,jt,c7,C);
jt+=eq}ii.lG(T,1);ii.lf(T,[0,0,Math.round(D.m),Math.round(D.e)])}else if(f._type.startsWith("Path")&&(E==null||E.length==0)&&e){l(q,z,p,e,d)}else{var fF=f["prop-14526"];
if(E==null&&fF){var cj=V[_.jn(fF,20)];E=[cj]}if(E){if(e&&e.length!=0){q.add.vmsk=N(e,d,p);q.$h();q.Dm(z)}q.XK("group");
q.Ha=24;q.add.lsct=aj.cD;z.s.push(z.FL());for(var Y=0;Y<E.length;Y++)x(E[Y],z,d,V)}}if(p){var br=p.objectBlendingMode,hX=p.objectOpacity,gG=p.fillTint,cr=!1;
if(br)q.Mh=O(br[0]);if(hX)q.opacity=Math.round(q.opacity*hX[0]/100);if(!Z&&gG)q.opacity=Math.round(q.opacity*gG[0]/100);
var jx=JSON.parse(gH.default);for(var Y=0;Y<gH.order.length;Y++)jx[gH.N4[Y]]={t:"VlLs",v:[]};var a8="dropShadow innerShadow satin bevel iglow oglow".split(" "),f8="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var Y=0;Y<a8.length;Y++){var dW=a8[Y];if(p[dW]&&p[dW][0]){var g7=p[dW],f7=135,d7=10;cr=!0;var eU=JSON.parse(gH.R$[gH.order.indexOf(f8[Y])]);
jx[gH.N4[gH.order.indexOf(f8[Y])]].v.push({t:"Objc",v:eU});if(p[dW+"Color"])eU.Clr.v=$(p[dW+"Color"][0]);
else if(a8[Y]=="iglow"||a8[Y]=="oglow")eU.Clr.v=a.T.mv({Z:255,r:255,J:255});if(p[dW+"ColorH"])eU.hglC.v=$(p[dW+"ColorH"][0]);
if(p[dW+"ColorS"])eU.sdwC.v=$(p[dW+"ColorS"][0]);if(p[dW+"BMode"])eU.Md.v.BlnM=ef.aj(O(p[dW+"BMode"][0]));
if(p[dW+"BModeH"])eU.hglM.v.BlnM=ef.aj(O(p[dW+"BModeH"][0]));if(p[dW+"BModeS"])eU.sdwM.v.BlnM=ef.aj(O(p[dW+"BModeS"][0]));
if(p[dW+"Opacity"])eU.Opct.v.val=p[dW+"Opacity"][0];if(p[dW+"OpacityH"])eU.hglO.v.val=p[dW+"OpacityH"][0];
if(p[dW+"OpacityS"])eU.sdwO.v.val=p[dW+"OpacityS"][0];if(p[dW+"Size"])eU.blur.v.val=p[dW+"Size"][0];
if(p[dW+"Angle"])f7=p[dW+"Angle"][0];if(p[dW+"Dist"])d7=p[dW+"Dist"][0];if(p[dW+"DX"]){var aW=p[dW+"DX"][0],cy=p[dW+"DY"][0];
d7=Math.round(Math.sqrt(aW*aW+cy*cy));f7=Math.round(Math.atan2(cy,-aW)*180/Math.PI)}if(eU.lagl)eU.lagl.v.val=f7;
if(eU.Dstn)eU.Dstn.v.val=d7;if(eU.uglg)eU.uglg.v=!1;if(p[dW+"Invert"])eU.Invr.v=p[dW+"Invert"][0];else if(a8[Y]=="satin")eU.Invr.v=!1;
if(p[dW+"Alt"])eU.Lald.v.val=p[dW+"Alt"][0];if(p[dW+"Depth"])eU.srgR.v.val=p[dW+"Depth"][0];if(p[dW+"Choke"])eU.Ckmt.v.val=p[dW+"Choke"][0]}}if(cr)q.add.lmfx=jx}if(f.name)q.XK(f.name);
else if(p&&p.name)q.XK(p.name[0]);z.s.push(q)}function l(f,z,R,V,d){f.XK("path");f.Ha|=16;f.add.vmsk=N(V,d,R);
var e=f.add.vstk=gH.e_.ib(!0),p=null;if(R){var h=R.strokeSwatch,E=R.fillSwatch,q=R.basicFeather,Z=R.basicFeatherWidth,v=R.strokeWeight;
e.strokeEnabled.v=h!=null;e.fillEnabled.v=E!=null;if(q)f.add.vmsk.ej=Z?Z[0]:9;if(h){e.strokeStyleLineWidth.v.val=v?v[0]:1;
p=$(h[0]);e.strokeStyleContent.v.Clr.v=p}if(E){p=$(E[0])}}if(p)f.add.SoCo={classID:"null",Clr:{t:"Objc",v:p}};
f.$h();f.Dm(z)}function N(f,z,R){var V=new gU.JA,d=V.$;for(var e=0;e<f.length;e++){var p=f[e],h=p[0].length,E=p[1]==0,q=E?0:3;
d.push({type:q,length:h,cS:0,fl:2,tr:0,op:0});for(var Y=0;Y<h;Y++){var Z=p[0][Y],v=Z[0],W=new kn(Z[1],Z[2]),D=new kn(Z[3],Z[4]),I=new kn(Z[5],Z[6]);
if(v==0||v==1)d.push({type:q+2,mL:W,L:D,oC:I});else if(v==2)d.push({type:q+2,mL:W,L:W,oC:W});else throw v}}a.o.Ik(d,z);
return V}return o}();var iY=function(c){function o(O,n){var x=[];for(var Y=0;Y<9;Y++){var l=_.q(O,n+Y*4);
if(Y%3==2)x.push((l>>>30)+(l&1073741823)/1073741823);else x.push((l>>>16)+(l&65535)/65535)}return x}function K(O,n,x,l){var N={},f=_.q,z=_.SL;
while(n<x){var R=n,V=_.q(O,n);n+=4;if(V==0){V=_.q(O,n);n+=4}var d=_.MQ(O,n,4);n+=4;if(V==0)throw"e";
if(V==1){V=_.vd(O,n);n+=8}var e=R+V,p="".padStart(l,"\t"),h={};if(d=="mvhd"){var E=O[n];if(E!=0)throw"e";
n+=4;h.aDQ=f(O,n);n+=4;h.ab_=f(O,n);n+=4;h.qs=f(O,n);n+=4;h.duration=f(O,n);n+=4;h.akA=f(O,n);n+=4;h.volume=z(O,n);
n+=2;n+=10;h.aAS=o(O,n);n+=4*9;h.a8b=[];for(var Y=0;Y<6;Y++)h.a8b.push(f(O,n+Y*4));n+=4*6;h.azy=f(O,n);
n+=4}else if(d=="tkhd"){var E=O[n];if(E!=0)throw"e";n+=4;h.aDQ=f(O,n);n+=4;h.ab_=f(O,n);n+=4;h.atZ=f(O,n);
n+=4;n+=4;h.duration=f(O,n);n+=4;n+=8;h.l=z(O,n);n+=2;h.aAN=z(O,n);n+=2;h.volume=z(O,n);n+=2;n+=2;h.aAS=o(O,n);
n+=4*9;h.Oc=f(O,n)>>>16;n+=4;h.s_=f(O,n)>>>16;n+=4}else if(d=="mdhd"){h.Ha=f(O,n);n+=4;h.aDQ=f(O,n);
n+=4;h.ab_=f(O,n);n+=4;h.qs=f(O,n);n+=4;h.duration=f(O,n);n+=4;h.lang=z(O,n);n+=2;h.hu=z(O,n);n+=2}else if(d=="hdlr"){var q=f(O,n);
n+=4;if(q!=0)throw q;h.RL=_.MQ(O,n,4);n+=4;h.atH=_.MQ(O,n,4);n+=4;h.azj=f(O,n);n+=4;h.Ha=f(O,n);n+=4;
h.a3d=f(O,n);n+=4;var Z=n;while(O[Z]!=0)Z++;h.name=_.MQ(O,n,Z-n);n+=Z-n+1}else if(d=="stsd"){var q=f(O,n);
n+=4;if(q!=0)throw q;var v=f(O,n);n+=4;if(v!=1)throw v;var W=f(O,n);n+=4;h.O2=_.MQ(O,n,4);n+=4;if(h.O2=="mett"){h.as3=_.MQ(O,n,e-n)}else{for(var Y=0;
Y<6;Y++)if(O[n+Y]!=0)throw"e";n+=6;h.aax=z(O,n);n+=2;h.aor=z(O,n);n+=2;h.a4P=z(O,n);n+=2;h.aaS=f(O,n);
n+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ".split(",").indexOf(h.O2)!=-1){h.a2O=f(O,n);n+=4;
h.aw9=f(O,n);n+=4;h.adn=[z(O,n),z(O,n+2)];n+=4;h.apc=[f(O,n)/(1<<16),f(O,n+4)/(1<<16)];n+=8;var D=f(O,n);
n+=4;if(D!=0)throw"e";var I=z(O,n);n+=2;if(I!=1)throw"e";var A=O[n];n++;h.aja=_.MQ(O,n,A);n+=31;h.a8o=z(O,n);
n+=2;var U=z(O,n);n+=2;if(U!=65535)throw"e";if(n!=e)h.a8l=K(O,n,e,l+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(h.O2)!=-1){h.lr=z(O,n);
n+=2;h.aao=z(O,n);n+=2;var w=z(O,n);n+=2;if(w!=0&&w!=65534)throw w;var t=z(O,n);n+=2;if(t!=0)throw t;
h.alM=f(O,n)/(1<<16);n+=4}else if(h.O2=="CTMD"){h.b=O.slice(n,e)}else if(h.O2=="tx3g"||h.O2=="text"||h.O2=="mebx"){}else if(h.O2=="tmcd"){}else if(h.O2=="CRAW"){}else throw h.O2}}else if(d=="stts"||d=="stsz"||d=="stco"||d=="stsc"||d=="ctts"){var q=f(O,n),L=0,b=0;
n+=4;if(q!=0)throw q;if(d=="stsz"){L=f(O,n);n+=4}var J=f(O,n)*(d=="stsc"?3:d=="stts"||d=="ctts"?2:1);
n+=4;h=[];for(var Y=0;Y<J;Y++){if(L!=0)h.push(L);else{h.push(f(O,n));n+=4}}for(var Y=0;Y<J;Y++)b+=h[Y]}else if(d=="co64"){var q=f(O,n);
n+=4;if(q!=0)throw q;var J=f(O,n);n+=4;h=[];for(var Y=0;Y<J;Y++){h.push(_.vd(O,n));n+=8}}else if(d=="moov"||d=="trak"||d=="mdia"||d=="minf"||d=="dinf"||d=="stbl"||d=="uuid"){if(d=="uuid")n+=16;
h=K(O,n,e,l+1)}else if(d=="CMT1"||d=="CMT2"||d=="CMT3"||d=="CMT4"){h=UTIF.decode(O.slice(n,e))}else{h.p=n;
h.aE=V}n=e;if(d=="trak"||d=="free"||d=="uuid"){if(N[d]==null)N[d]=[];N[d].push(h)}else{if(N[d]!=null)throw d;
N[d]=h}}return N}function u(O){var n=new Uint8Array(O);return K(n,0,n.length,0)}function X(O,n,x){var l=$(O,n),N=l.mdia.minf.stbl,f=N.stsc,z=0,R=0;
for(var Y=0;Y<f.length;Y+=3){var V=(Y+3<f.length?f[Y+3]:1e4)-f[Y],d=R+V*f[Y+1];if(R<=x&&x<d){while(R+f[Y+1]<=x){z++;
R+=f[Y+1]}break}z+=V;R=d}var e=N.stco;if(e==null)e=N.co64;var p=e[z];while(R<x){p+=N.stsz[R];R++}return[p,N.stsz[x]]}function $(O,n){var x=O.moov.trak;
for(var Y=0;Y<x.length;Y++)if(x[Y].mdia.hdlr.atH==n)return x[Y]}return{Sr:u,aj8:X,aqE:$}}(),r={};r.Sm=function(c){return window.devicePixelRatio||1};
r.io=function(c,o){return(o.af0=="touch"?12:8)*r.Sm()/c.Q.U};r.vV=function(c,o,K){this.name=c;this.id=o;
this.M0=null;if(K!=null)this.wo=K};r.vV.prototype.GN=function(c,o,K,u,X){};r.vV.prototype.enable=function(c,o,K,u,X,$){var O=new ev(y.E.M,!0);
O.data={Y:y.H.L3,Vp:"default"};o.I(O)};r.vV.prototype.disable=function(c,o,K,u,X){};r.vV.prototype.aDM=function(c,o,K,u,X){return!1};
r.vV.prototype.x5=function(c,o,K,u,X){};r.vV.prototype.Cz=function(c,o,K,u,X){};r.vV.prototype.Xo=function(c,o,K,u,X){};
r.vV.prototype.v$=function(c,o,K,u,X,$){};r.vV.prototype.Lz=function(c,o,K,u,X){};r.vV.prototype.y9=function(c,o,K,u){};
r.vV.prototype.fb=function(c,o,K,u){};r.vV.prototype.eX=function(c,o){};r.vV.prototype.Bt=function(c,o){};
r.vV.prototype.qy=function(c){return 0};r.vV.prototype.sE=function(c,o,K,u,X){};r.vV.prototype.VW=function(c,o){};
r.vV.prototype.P6=function(c,o){return!1};r.vV.prototype.Wp=function(c,o){return!1};r.vV.prototype.I2=function(){return!1};
r.vV.prototype.Yq=function(c,o){return!0};r.vV.prototype.eA=function(){return null};r.vV.prototype.YF=function(c,o,K){};
r.vV.prototype.ak6=function(){return!1};r.vV.prototype.YM=function(c,o,K,u){};r.vV.prototype.track=function(c){var o=new ev(y.E.XV,!0);
o.data=c;c.mf=!0;this.M0.I(o)};r.vV._g=function(c,o,K,u){var X=10*r.Sm()*(c.af0=="touch"?2:1),$=c.x+X,O=c.y-X,n=a.Pj.IL(o.m,K.$M,u,K.m,!0),x=a.Pj.IL(o.e,K.$M,u,K.e,!0);
while(n.length<x.length)n=" "+n;while(n.length>x.length)x=" "+x;r.vV.Ep($,O,[iV.get([12,41]).charAt(0)+": "+n,iV.get([12,42]).charAt(0)+": "+x],K)};
r.vV.Ep=function(c,o,K,u){function X(l,d,e,p,h,E){l.beginPath();l.moveTo(d,e+E);l.arcTo(d,e+h,d+E,e+h,E);
l.arcTo(d+p,e+h,d+p,e+h-E,E);l.arcTo(d+p,e,d+p-E,e,E);l.arcTo(d,e,d,e+E,E)}var $=r.Sm(),O=Math.round,n=O(11*$),x=r.vV.a9i,N=0;
if(x==null)x=r.vV.a9i=document.createElement("canvas");var l=x.getContext("2d");l.font=n+"px monospace";
for(var Y=0;Y<K.length;Y++)N=Math.max(N,l.measureText(K[Y]).width);var f=O(N+12*$),z=O((K.length*14+5)*$),R=new ez(c,o-z,f,z);
if(x.width!=f||x.height!=z){x.width=f;x.height=z;l.font=n+"px monospace"}l.clearRect(0,0,f,z);l.fillStyle="rgba(0,0,3,0.8)";
X(l,0,0,f,z,O(4*$));l.fill();l.fillStyle="rgba(255,255,255,1)";for(var Y=0;Y<K.length;Y++)l.fillText(K[Y],O(6*$),O((Y+1)*13*$));
var V=[l.getImageData(0,0,f,z).data,R.clone()];if(u)u.S.Uo=[V];return V};r.vV.a9i=null;r.DA="0";r.TN="1";
r.aDI="2";r.auY="3";r.Qp="5";r.agM="6";r.abK="7";r.Yc="8";r.eU="9";r.JT="10";r.LB="11";r.t4="12";r.Nn="13";
r.FJ="14";r.acv="15";r.yu="16";r.uy="18";r.yg="19";r.awF="90";r.i4="20";r.fU="21";r.MU="22";r.yj="23";
r.yv="24";r.UJ="25";r.VQ="27";r.dM="31";r.kD="32";r.aiJ="33";r.pN="34";r.abI="35";r.XL="36";r.yV="37";
r.Uw="38";r.CN="39";r.WQ="40";r.SK="41";r.Tc="42";r.MC="43";r.aeO="44";r.aqP="45";r.apf="46";r.awd="72";
r.kO="47";r.aU="48";r.iZ="51";r.FP="52";r.CJ="54";r.tD="55";r.B4="56";r.ij="57";r.ry="58";r.OC="59";
r.uE="60";r.Hu="61";r.vg="70";r.aw2="71";r.Le="100";r.qx="101";r.A$="102";r.$Z="103";r.lF="120";r._r="230";
r.ajx="231";r.DX="232";r.KX="233";r.rU="234";r.qS="235";r.uQ="236";r.k7={};r.k7[r.yj]="tools/brush";
r.k7[r.yv]="tools/pencil";r.k7[r.dM]="tools/eraser";r.K6={PcTl:r.yv,PbTl:r.yj,moveTool:r.DA,cloneStampTool:r.VQ,typeCreateOrEditTool:r.kO,artboardTool:r.vg,marqueeRectTool:r.TN,typeVerticalCreateOrEditTool:r.aU,perspectiveCropTool:r.LB,marqueeEllipTool:r.aDI,eyedropperTool:r.FJ,eraserTool:r.dM,pathComponentSelectTool:r.iZ,lassoTool:r.Qp,backgroundEraserTool:r.kD,directSelectTool:r.FP,polySelTool:r.agM,rectangleTool:r.CJ,magneticLassoTool:r.abK,gradientTool:r.pN,quickSelectTool:r.Yc,bucketTool:r.abI,ellipseTool:r.tD,magicWandTool:r.eU,blurTool:r.XL,polygonTool:r.B4,cropTool:r.JT,sharpenTool:r.yV,lineTool:r.ij,sliceTool:r.t4,smudgeTool:r.Uw,customShapeTool:r.ry,sliceSelectTool:r.Nn,dodgeTool:r.CN,spotHealingBrushTool:r.uy,burnInTool:r.WQ,saturationTool:r.SK,penTool:r.Tc,redEyeTool:r.MU,freeformPenTool:r.MC,rulerTool:r.yu,paintbrushTool:r.yj,handTool:r.OC,pencilTool:r.yv,zoomTool:r.Hu,objectSelectTool:r.auY,healingBrushTool:r.yg,patchTool:r.i4,contentAwareMoveTool:r.fU,colorReplacementBrushTool:r.UJ,curvaturePenTool:r.aeO,rotareViewTool:r.uE};
r.VN=function(c,o,K){r.vV.call(this,c,o,K);this.OS={brush:c?ac.jz():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.RU=null;this.bz=null;this.$U=null;this.OV=null;this.Vm=null;this.bf=null;this.zF=null;this.k6=null;
this.S8=null;this.gY=null;this.zx=null;this.rN=null;this.AB=null;this.J4=1;this.xX=!1;this._f=null;this.caller=null};
r.VN.prototype=new r.vV;r.VN.prototype.Wp=function(c,o){return c.dm&&o.N(d2.Qx)};r.VN.prototype.Cz=function(c,o,K,u,X){if(u.N(d2.u6)){this.bf=new kn(X.x,X.y);
var $=this.OS.brush.Brsh.v,O=$.Dmtr.v.val,n=$.Hrdn!=null?$.Hrdn.v.val:-1;this.zF=[O,n,!0,JSON.parse(JSON.stringify(this.OS.brush)),X];
this.en(K)}};r.VN.prototype.C9=function(c,o,K){var u=this.zF,X=c.Q.U,$=K.x-u[4].x,O=K.y-u[4].y,n=u[0],x=u[1],l=Math.abs($)>Math.abs(O);
if(l&&u[2]){var N=Math.round(2*$/X);n+=N;K.x-=$-.5*N*X}if(!l&&!u[2]&&x!=-1){var N=Math.round(.25*O);
x+=N;K.y-=O-4*N}n=Math.max(1,n);x=u[1]==-1?-1:Math.max(0,Math.min(100,x));var f=u[3];f.Brsh.v.Dmtr.v.val=n;
if(x!=-1)f.Brsh.v.Hrdn.v.val=x;this.zF=[n,x,l,f,K];var z=kD.ck(f,o.i_.Z7,X),R=z[1];R.x=Math.round(this.bf.x-R.m/2);
R.y=Math.round(this.bf.y-R.e/2);c.S.rW=[z];var V=c.Q.FT(this.bf.x,this.bf.y);c.S.bn={ZS:[],xh:[V.x-n/2,V.y,V.x+n/2,V.y]};
if(x!=-1)c.S.bn.xh.push(V.x+50/X,V.y-x/2,V.x+50/X,V.y+x/2);c.Jn=!0};r.VN.prototype.Lz=function(c,o,K,u,X){if(this.id==r.i4||this.id==r.fU)return;
if(this.bf){this.bf=null;this.iP(JSON.parse(JSON.stringify(this.zF[3])));c.S.rW=[];c.S.bn=null;c.Jn=!0;
return}var $=new ev(y.E.M,!0);$.data={Y:y.H.Wu,f:this.id,aC_:"showBrushOpts",RT:new kn(X.ct+4,X.TY)};
o.I($)};r.VN.prototype.iP=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.NU,EU:iD.nD,u1:c};this.caller.I(o)};
r.VN.P5=function(c,o,K,u,X,$){if(c==null)c="FrgC";if(o==null)o="norm";if(K==null)K=1;if(X==null)X=!1;
var O={classID:"Fl",Usng:{t:"enum",v:{FlCn:c}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(K*100)}},PrsT:{t:"bool",v:X},Md:{t:"enum",v:{BlnM:ef.aj(o)}}};
if(c=="Clr")O.Clr={t:"Objc",v:u};if(c=="contentAware")O.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(c=="Ptrn")O.Ptrn={t:"Objc",v:$};return{ST:"fill",sK:O}};r.VN.prototype.GN=function(c,o,K,u,X){this.M0=o;
var $=K.LL.length;if($==0&&!K.n_())return;var O=$!=0?-1-K.LL[0]:K.g[0],n=K.s[O];if(c.Y=="fromAction"){var x=c.Va,l=x.sK;
if(l&&l.null&&l.null.v[0]&&l.null.v[0].v.classID=="Path"){var N=K.Dr(),f=N[0],z=N[1],R=f[z.length==0?0:z[0]].add.vmsk;
if(x.ST=="fill"){var V=R.wD(),d=X.V5,e=this.OS,p=d>>16&255,h=d>>8&255,E=d>>0&255;this.LF(K,n,V,p,h,E,Math.round(e.opacity*255),e.bmode,"Fill Path")}else{var q=l&&l.Prs&&l.Prs.v,Z=JSON.stringify(this.OS.brush);
if(q)ac.aB7(this.OS.brush,[!1,!0]);for(var v=0;v<1e3;v++){var W=a.o.uM(R.$,v,!0);if(W==-1){this.v$(K,o,X,u,null);
break}var D=R.$[W],I=R.$.slice(W,W+1+D.length),A=a.A.Uk(I,2).j,U=A.slice(0,8);for(var w=8;w<A.length;
w+=6)U.push(A[w-2],A[w-1],A[w],A[w+1],A[w+2],A[w+3],A[w+4],A[w+5]);var t={};t.Points=U;t.TextOnPathTRange=R.$C.slice(0);
var t=ag.MH(t,2,D.type==3),L=t[0],J=K.Q.dV(L[0],L[1]);if(q)J.Wf=0;if(v==0)this.x5(K,o,X,u,J);else this.bz.moveTo(L[0],L[1]);
var b=L.length,F=D.type==0?b+2:b;for(var Y=2;Y<F;Y+=2){J=K.Q.dV(L[Y%b],L[(Y+1)%b]);J.dm=!0;if(q){var B=Y/F;
J.Wf=2*Math.min(B,1-B)}this.Xo(K,o,X,u,J,this.OS.flow)}this.bz.finish();this.mr(K)}if(q)this.OS.brush=JSON.parse(Z)}}else if(x.ST=="fill"){var k=l.PrsT?l.PrsT.v:!1,i=n?n.add.lspf:0;
if(k&&n){n.add.lspf=i==null?1:i|1}var H=(l.Opct?l.Opct.v.val:100)/100,m=l.Md?ef.rI(l.Md.v.BlnM):"norm";
H=Math.round(255*H);var j=l.Usng.v.FlCn;if(j=="contentAware"||j=="aiHeal"){if(K.u==null){alert("Select an area to heal first.");
return}if(!K.n_())return;var Q=K.u;if(j=="aiHeal"&&!dw.XZ(K))return;this.Su(K);this.Zn(K,0);if(j=="contentAware"){var G=a.R(Q.rect.P()*4);
a.bp(Q.channel,G,3);this.pJ(K,"sheal",G,Q.rect,Q.rect);this.d(K,Q.rect);this.finish(K,Q.rect)}else{this.Cv=K;
console.log(c);dw.a6y(!0,null,l.prmt?l.prmt.v:"empty background",K,this.asd.bind(this),l.EU);alert("Processing ...",5e3)}}else if(j=="Ptrn"){var g=X.dx,P=K.u?K.u.rect.clone():new ez(0,0,K.m,K.e),M=a.R(P.P()*4);
bL.Cu(l,M,P,g,new kn(0,0));for(var Y=0;Y<M.length;Y+=4)M[Y+3]=H;this.GK(K,n,K.u,M,m,[6,48,0,2])}else{var d;
if(j=="FrgC")d=X.V5;else if(j=="BckC")d=X.th;else if(j=="Blck")d=0;else if(j=="Wht")d=16777215;else if(j=="Gry")d=8421504;
else if(j=="Clr"){var T=a.T.h0(l.Clr.v);d=T.Z<<16|T.r<<8|T.J}var p=d>>16&255,h=d>>8&255,E=d>>0&255;this.LF(K,n,K.u,p,h,E,H,m,[2,3])}if(k&&n){n.add.lspf=i==null?0:i}}else if(x.ST=="delete"){var C=O<0?1:n.Xx,Q=K.u,d5;
if(Q==null)return;var gf=O<0?K.lr[-O-1]:C<=0?null:C==1?n.wD():n.$a(K).F,P=C<=0?n.rect:gf.rect,s=C<=0?Q.rect.ar(P):Q.rect.clone();
if(s.SR())return;var b3=s.P();if(C<=0){d5=a.R(b3*4);a.Ui(n.buffer,n.rect,d5,s)}else{d5=a.R(b3);gf.extend(s);
a.qv(gf.channel,gf.rect,d5,s)}if(0<=O&&n.t1(K,Q)){if(C<=0){a.ms(d5,0);a.Ui(n.X1._C,n.X1.pa,d5,s)}else{d5.fill(255);
a.qv(n.X1._C,n.X1.pa,d5,s)}}else{if(C<=0){var gh=a.R(d5.length>>2);a.Sw(d5,gh,3);a.a.dU(a._6(Q.rect.P()),Q.rect,gh,s,Q.channel,s,1);
a.bp(gh,d5,3)}else{var jt=a.R(Q.rect.P()),p=X.th>>>16&255,h=X.th>>8&255,E=X.th>>0&255;jt.fill(Math.round(a.NV(p,h,E)));
a.a.dU(jt,Q.rect,d5,s,Q.channel,s,1)}}this.EI(K,!0,[2,2],O,C,s,d5)}}if(c.Y=="stroke"){var fl=c.adA,Q=K.u;
if(Q==null){Q={rect:n.rect.clone(),channel:a.R(n.rect.P())};a.Sw(n.buffer,Q.channel,3)}var eq=bL.T3(fl),c7=r.mW.av1(Q,Math.ceil(eq[0]),Math.ceil(eq[1])),d=a.T.h0(fl.Clr.v),p=Math.round(d.Z),h=Math.round(d.r),E=Math.round(d.J);
this.LF(K,n,c7,p,h,E,Math.round(255*fl.Opct.v.val/100),ef.rI(fl.Md.v.BlnM),[14,9])}if(c.Y=="fillBMP"){this.GK(K,n,K.u,c.Ra,c.FS,c.u0)}if(c.Y=="draw"){var k8=c.rQ,hs=k8.rect;
this.Su(K);var cq=K.s[K.g[0]];if(c.aAd&&cq&&cq.Xx<=0&&K.LL.length==0){hs=r.Es.a3B(k8,K);cq.buffer=k8.buffer.slice(0);
cq.rect=hs.clone()}else{var jn=this.OS.bmode,an=this.OS.opacity;this.OS.bmode="norm";this.OS.opacity=1;
this.pJ(K,"draw",k8.buffer,hs,hs.ar(new ez(0,0,K.m,K.e)));this.OS.bmode=jn;this.OS.opacity=an}this.d(K,hs);
K.rH=!0;this.finish(K,hs,c.u0,c.aAd)}};r.VN.prototype.asd=function(c){var o=UPNG.decode(c.target.response),K=new Uint8Array(UPNG.toRGBA8(o)[0]),u=dw.ye(this.Cv),X=this.Cv;
this.Cv=null;this.pJ(X,"draw",K,u,u);this.d(X,u);this.finish(X,u);dw.Or("remove")};r.VN.prototype.LF=function(c,o,K,u,X,$,O,n,x){var l=K==null?new ez(0,0,c.m,c.e):K.rect,N=O<<24|$<<16|X<<8|u<<0,f=a.R(l.P()*4);
a.ms(f,N);this.GK(c,o,K,f,n,x)};r.VN.prototype.GK=function(c,o,K,u,X,$){var O=c.LL.length!=0?-1-c.LL[0]:c.g[0],n=O<0?1:o.Xx,x=O<0?c.lr[-1-O]:n<=0?null:n==1?o.wD():o.$a(c).F,l=n<=0?o.rect:x.rect,N=K==null?new ez(0,0,c.m,c.e):K.rect,f=K==null?a.JD(c.m*c.e):K.channel;
if(K!=null)a.L7(f,u);var z=N.P(),R=a.R(z*4);if(n<=0)a.Ui(o.buffer,o.rect,R,N);else{x.extend(N);R.fill(255);
a.oe(x.TF(N),R)}if(0<=O&&K&&o.t1(c,K)&&n<=0){var V=o.X1.UF,d=o.X1.UF.slice(0);if(n<=0)a.lY(u,d);else a.lY(fullc,d);
var e=new gv([2,3],this);e.data={Y:"drawtemp",l:c.g[0],yN:n,azY:V,aj0:d};c.bs(e);this.eX(e.data,c)}else{if(n<=0){var p;
if(o.wu(0)){p=a.R(N.P());a.Sw(R,p,3)}a.a.hA(X,u,N,R,N,N,1);if(o.wu(0))a.bp(p,R,3)}else{a.a.hA(X,u,N,R,N,N,1);
var h=a.R(z);a.yH(R,h);R=h}this.EI(c,!0,$,O,n,N,R)}};r.VN.prototype.P6=function(c){if(d2.NO.indexOf(c)!=-1)return!0;
return!1};r.VN.prototype.y9=function(c,o,K,u){var X=this.OS.brush,$=u.N(d2.u6),O=$!=this.xX,n=r.VN.pY(X,u);
if(n!=null)this.iP(n);if(!u.N(d2.vm)&&u.bP()!=-1){var x=d2.Lb(Math.round(this.OS.opacity*100),u.bP())/100;
this.fJ({opacity:x},o)}if(this.id==r.Yc&&O&&c!=null){var l=this.OS.qsmode;if(l==2)l=c.u==null?0:1;else l=2;
this.fJ({qsmode:l},o)}this.xX=$;if(O){if(c)this.J4=c.Q.U;this.en(K,u)}};r.VN.pY=function(c,o){var K=c.Brsh.v.Dmtr.v.val,u=c.Brsh.v.Hrdn!=null?c.Brsh.v.Hrdn.v.val:-1,X=K,$=u,O=o.N(d2.Qx);
if(o.N(d2.Ef)){if(O)u=25*Math.floor((u-1)/25);else{if(K<=10)K--;else if(K<=50)K=5*Math.floor((K-1)/5);
else if(K<=100)K=10*Math.floor((K-1)/10);else if(K<=200)K=25*Math.floor((K-1)/25);else if(K<=400)K=50*Math.floor((K-1)/50);
else K=100*Math.floor((K-1)/100)}}if(o.N(d2.aa)){if(O)u=25*Math.ceil((u+1)/25);else{if(K<10)K++;else if(K<50)K=5*Math.ceil((K+1)/5);
else if(K<100)K=10*Math.ceil((K+1)/10);else if(K<200)K=25*Math.ceil((K+1)/25);else if(K<400)K=50*Math.ceil((K+1)/50);
else K=100*Math.ceil((K+1)/100)}}K=Math.max(1,K);u=Math.max(0,Math.min(100,u));if($==-1)u=-1;if(K!=X||u!=$){var n=JSON.parse(JSON.stringify(c));
n.Brsh.v.Dmtr.v.val=K;if($!=-1)n.Brsh.v.Hrdn.v.val=u;return n}return null};r.VN.prototype.en=function(c,o,K,u){if(c.i_.list.length==0)return;
var X=this.id,$;if((X==r.VQ||X==r.yg||X==r.yj||X==r.yv)&&(o!=null&&o.N(d2.u6)||this.OS.alt[0]))$="crosshair";
else{var O=this.J4,n=this.OS.brush;if((X==r.VQ||X==r.yg)&&K&&this.rN&&this.rN.length==this.zx.P()*4){var x=K.Q.FT(u.x,u.y),l=this.amF(x),N=this.rN,f=this.zx,z=new ez(f.x+l.x,f.y+l.y,f.m,f.e),R=kD.ck(n,c.i_.Z7,O),V=R[0],d=R[1],e=Math.ceil(d.m/O),p=new ez(Math.round(x.x-e/2),Math.round(x.y-e/2),e,e),h=a.R(p.P()*4),E,q;
a.Ui(N,z,h,p);if(O==1){E=h;q=p}else{var Z=new bE(O,0,0,O,0,0),v=r.W.IN([h,p],Z,!0);q=d.clone();q.x=v.rect.x;
q.y=v.rect.y;if(q.Ug(v.rect))E=v.buffer;else{E=a.R(q.P()*4);a.Ui(v.buffer,v.rect,E,q)}}var W=this.OS.opacity/255;
for(var Y=0;Y<E.length;Y+=4)E[Y+3]=W*(V[Y+3]*E[Y+3]);kD.aeL(new Uint32Array(E.buffer),q,4278190080,4294967295);
$={lD:E,aB:q,Q2:new kn(q.m/2,q.e/2)}}else $=kD.FW(n,c.i_.Z7,O,X==r.UJ||X==r.kD)}var D=new ev(y.E.M,!0);
D.data={Y:y.H.L3,Vp:$};if(this.caller)this.caller.I(D)};r.VN.prototype.enable=function(c,o,K,u){this.RU=K;
this.caller=o;this.iP(JSON.parse(JSON.stringify(this.OS.brush)));if(c&&c.Q.U!=0)this.J4=c.Q.U;this.en(K,u)};
r.VN.prototype.VW=function(c,o){if(o==iD.nD){this.OS.brush=c.i_.ET;this.en(c)}};r.VN.prototype.sE=function(c,o,K,u,X){for(var $ in c)this.OS[$]=c[$];
if(this.OS.alt[0])this.en(X,u,K)};r.VN.prototype.axT=function(c){var o=c.LL.length!=0?-1-c.LL[0]:c.g[0],K=c.s[o],u=o<0?1:K.Xx,X=o<0?c.lr[-o-1]:u<=0?null:u==1?K.wD():K.$a(c).F,$=X?X.channel:K.buffer,O=(X?X.rect:K.rect).clone();
return[K,u,X,$,O]};r.VN.prototype.Su=function(c,o){this.AB=c.u==null?null:{rect:c.u.rect.clone(),channel:c.u.channel.slice(0)};
var K=this.gY,u=this.axT(c),X=u[0],$=u[1],O=u[2];this.gY=u[3];this.S8=u[4];var n=new ez(0,0,c.m,c.e),x=n.X3(this.S8);
if((this.Nh()&&$<=0||x.Ug(this.S8))&&o!=!0){if(K&&K.length==this.gY.length){K.set(this.gY);this.gY=K}else this.gY=this.gY.slice(0)}else{if(O)O.extend(x);
else X.extend(x)}};r.VN.prototype.Zn=function(c,o){var K=this.axT(c),u=K[1],X=K[3],$=K[4],O=[X,$],n=o!=null?o:this.OS.sfrom;
if(u<=0&&n!=0){O[1]=new ez(0,0,c.m,c.e);O[0]=c.i9(n==1&&c.g[0]!=c.s.length-1?c.g[0]:null).slice(0)}this.zx=O[1].clone();
this.rN=O[0].slice(0)};r.VN.prototype.AP=function(c,o,K,u,X,$){if(X.dm&&u.N(d2.u6)&&this.bf==null){if($)this.ve=K.V5;
var O=new ev(y.E.v,!0);O.f=r.FJ;O.data={Y:"pickhere",aps:X};o.I(O);var n=r.am.ahB(c,!1,!0,X,null,K.V5,this.ve,1),O=new ev(y.E.M,!0);
O.data={Y:y.H.L3,Vp:n};o.I(O);return!0}return!1};r.VN.prototype.an=function(c,o,K,u,X,$){if(this.id!=r.Yc&&!c.n_(this.caller)){this.bz=null;
return}if(this.id!=r.Yc&&this.bz)return;this.Su(c);var O=new ez(0,0,c.m,c.e),n=null;if($!=null){var x=c.LL.length!=0?-1-c.LL[0]:c.g[0],l=c.s[x],N=x<0?c.lr[-x-1]:l.Xx<=0?null:l.Xx==1?l.wD():l.$a(c).F;
n=a.R(O.P()*4);if(N)r.VN.nW(this.gY,this.S8,N.color,n,O);else a.Ui(this.gY,this.S8,n,O)}var f=this.OS;
if(this.bz&&this.id==r.Yc&&f.qsmode!=0&&c.u!=null){}else{var z=o.V5,R=o.th;if(this._f=="erase"){var V=z;
z=R;R=V}var d=this.id==r.Yc?this.S8:O;this.bz=new kD(f.brush,o.i_.Z7,o.i_.p1,{FK:X,K2:$,anS:f.smth*50/c.Q.U,OF:this.id==r.yv||f.emode==1,Ku:c.Ku},z,R,d,n)}if(this.id==r.Yc){this.bz.anx(f.brush,f.qsmode==2?0:16777215)}var e=c.Q.FT(u.x,u.y);
if(K.N(d2.Qx)&&this.$U){var p=this.$U;this.bz.moveTo(p.x,p.y,u.Wf);this.bz.lineTo(.001*p.x+.999*e.x,.001*p.y+.999*e.y,u.Wf);
this.bz.lineTo(e.x,e.y,u.Wf)}else this.bz.moveTo(e.x,e.y,u.Wf);this.$U=e;this.OV=e.clone();this.Vm=new i$(e,c.Q.yp)};
r.VN.prototype.sJ=function(c,o,K){if(c&&c.Q.U!=0&&c.Q.U!=this.J4){this.J4=c.Q.U;this.en(K)}};r.VN.prototype.fR=function(c,o,K,u){if(this.bz==null)return;
var X=c.s[c.g[0]],$=c.Q.FT(u.x,u.y),O=this.Vm.Fl($,K);if(O.Ug(this.$U))return 1;this.bz.lineTo(O.x,O.y,u.Wf);
this.$U=O;if(this.id==r.VQ||this.id==r.yg){var n=this.kL(),x=11;n=c.Q.dV($.x-n.x,$.y-n.y);var l=x>>>1,N=new ez(Math.round(n.x)-l,Math.round(n.y)-l,x,x),f=a.R(N.P()*4);
a.ms(16777215);for(var Y=0;Y<x;Y++)f[(Y*x+l)*4+3]=f[(x*l+Y)*4+3]=255;c.S.Uo=[[f,N]];c.Jn=!0}};r.VN.prototype.fb=function(c,o,K,u){if(K.lm!=this.id)return;
if(this.id!=r.Yc||c==null)return;if(c.u==null||c.g[0]!=this.arZ){this.arZ=c.g[0];this.fJ({qsmode:0},o)}};
r.VN.prototype.d=function(c,o){if(c.LL.length!=0){c.Jn=!0;return}var K=c.s[c.g[0]];if(o==null){o=this.bz.gi();
if(this.Nh()&&K.Xx<=0)o=o.ar(this.S8)}var u=K.Xx;if(u==1||u==3){var X=Math.round((u==1?K.wD():K.$a(c).F).ej*2.4);
o=o.clone();o.JG(X,X)}if(o.SR())return;if(u<=0){K.d(o)}if(u==1){K.wD().jt=!0;K.Dm(c,o)}if(u==3){K.d(o)}c.d(c.root.lz(o,c,c.g[0],!0))};
r.VN.prototype.v$=function(c,o,K,u,X){if(this.bz==null)return;this.bz.finish();if(this.id!=r.uy&&this.id!=r.yg&&this.id!=r.Yc)this.mr(c);
if(this.id==r.VQ||this.id==r.yg){c.S.Uo=[];c.Jn=!0}if(this.id==r.Yc){var $=c.u;c.u=this.AB;var O=new ev(y.E.v,!0);
O.data={Y:"setsel",u0:this.name,u:$};O.f=r.TN;o.I(O);if(this.OS.qsmode==0)this.fJ({qsmode:1},o)}else{this.finish(c,this.bz.gD());
this.bz=null;this.k6=null}this.dir=0};r.VN.prototype.fJ=function(c,o){for(var K in c)this.OS[K]=c[K];
var u=new ev(y.E.M,!0);u.data={Y:y.H.Wu,f:this.id,Dy:c};o.I(u)};r.VN.prototype.Nh=function(){var c=this.id;
return c==r.Yc||c==r.dM||c==r.CN||c==r.WQ||c==r.SK||c==r.MU};r.VN.prototype.finish=function(c,o,K,u,X){var $=c.LL.length!=0?-1-c.LL[0]:c.g[0],O=c.s[$],n=$<0?1:O.Xx,x=$<0?c.lr[-$-1]:n<=0?null:n==1?O.wD():O.$a(c).F,l=x?x.rect:O.rect,z;
if(this.Nh()||!l.Ug(this.S8)){if(x==null){if(this.Nh())O.kj();else{var N=o.X3(this.S8),f=a.R(N.P()*4);
a.Ui(O.buffer,O.rect,f,N);O.buffer=f;O.rect=N}}else x.kj();this.d(c,l)}if(n<=0){z=a.R(o.P()*4);a.Ui(this.gY,this.S8,z,o)}else{z=a.R(o.P());
z.fill(x.color);a.qv(this.gY,this.S8,z,o)}this.EI(c,!1,K?K:this.name,$,n,o,z,u,X)};r.VN.prototype.EI=function(c,o,K,u,X,$,O,n,x){var l=O;
if(X>0){l=a.R($.P()*4);r.VN.nW(O,$,0,l,$)}var N=new gv(K,this);N.data=[{l:u,yN:X,aB:$,OQ:l}];if(n)N.data.aV=[c.u,null];
if(x)N.data.aV=[this.AB,c.u];c.bs(N);if(o)this.eX(N.data,c);else if(n)c.u=null;r.vk.azd(c,N.data)};r.VN.prototype.Bt=function(c,o){this.awH(c,o,!1)};
r.VN.prototype.eX=function(c,o){this.awH(c,o,!0)};r.VN.prototype.qy=function(c){return r.vk.qy(c)};r.VN.prototype.awH=function(c,o,K){if(c.Y=="drawtemp"){var u=K?c.aj0:c.azY,X=o.s[c.l];
X.X1.UF=u;X.jC(o,0,0,o.u);X.d();o.rH=!0}else{r.vk.ZZ(o,c);if(c.aV){o.u=c.aV[K?1:0];o.sG=!0}}o.d()};r.VN.prototype.mr=function(c){this.pJ(c,this._f,this.bz.M5(),this.bz.G5(),this.bz.gi());
this.d(c)};r.VN.prototype.pJ=function(c,o,K,u,X){var $=this.OS,O=c.s[c.g[0]],n=c.LL.length!=0?c.lr[c.LL[0]]:O.Xx<=0?null:O.Xx==1?O.wD():O.$a(c).F,x=a.R(X.P()*4),l,N=O.wu(0);
if(n==null){if(this.id==r.fU&&o=="heal")a.Ui(O.buffer,O.rect,x,X);else a.Ui(this.gY,this.S8,x,X);if(N){l=a.R(X.P());
a.Sw(x,l,3)}}else{r.VN.nW(this.gY,this.S8,n.color,x,X)}if(c.u&&o!="qselect"){var f=X.ar(c.u.rect),z=a.R(f.P()*4);
if(o=="copy"){var R=a.R(f.P());a.qv(c.u.channel,c.u.rect,R,f);a.Ui(x,X,z,f);a.a.ut(K,u,z,f,R,f,0,f,1,!1)}else{a.Ui(K,u,z,f);
a.Vu(c.u.channel,c.u.rect,z,f)}K=z;u=f}function V(p,hs){var jn=Math.max(hs.x,Math.min(hs.x+hs.m-1,p.x)),an=Math.max(hs.y,Math.min(hs.y+hs.e-1,p.y));
return new kn(jn,an)}if(o=="idraw"||o=="ierase"){if(this.k6==null)this.k6=a.R(this.S8.P());var d=this.OS.samp,e=this.RU.th,p=V(this.$U,X),h=d==0?p:this.OV,E=h.x,q=h.y,Z=r.y1.hh(this.gY,this.S8,[h,new kn(E-2,q),new kn(E+2,q),new kn(E,q-2),new kn(E,q+2)]);
if(d==2)Z=[[e>>>16&255,e>>>8&255,e>>>0&255,255]];var v=r.y1.IO(x,X,p,Z,this.OS.wconf),W=a.R(X.P());a.qv(this.k6,this.S8,W,X);
a._M.X3(v,W,W);a.qv(W,X,this.k6,this.S8);a.Vu(W,X,K,u);o=o.slice(1)}if(o=="erase"&&(r.vk.aj4(c)!=16777215||n))o="draw";
if(o=="draw")a.a.hA($.bmode,K,u,x,X,X,$.opacity);else if(o=="erase"){var D=$.opacity;if(this.id==r.kD)D=1;
var I=a.R(X.P()*4);a.Ui(K,u,I,X);if(n==null){var A=a.R(X.P());a.Sw(I,A,3);a.sh(A,D);a.fH(A);a.Vu(A,X,x,X)}else{a.ms(I,0,4278190080);
a.a.hA("norm",I,X,x,X,X,D)}}else if(o=="clone"||o=="heal"){var U=this.kL(),w=this.zx.clone();w.offset(U.x,U.y);
var t=X.clone();t.JG(1,1);var L=a.R(t.P()*4),J=a.R(t.P());a.Ui(K,u,L,t);a.Sw(L,J,3);a.ms(L,0);if(n==null){a.Ui(this.rN,w,L,t);
var b=a.R(t.P());a.Sw(L,b,3);a._u(b,J)}else r.VN.nW(this.rN,w,n.color,L,t);if(o=="clone"){a.bp(J,L,3);
a.a.hA($.bmode,L,t,x,X,X,$.opacity)}if(o=="heal"){var F=J.slice(0);a.round(F,20);var B=a.R(t.P()*4);
if(n==null)a.Ui(this.gY,this.S8,B,t);else r.VN.nW(this.gY,this.S8,n.color,B,t);a.a.ut(L,t,B,t,F,t,0,t,1,!1);
a.S5.sZ(B,F,t);a.a.ut(B,t,x,X,J,t,0,X,1,!1)}}else if(o=="dodge"||o=="burn"){var L=a.R(X.P()*4),H=1,m=0,j=0,Q=0;
a.Ui(K,u,L,X);var k=X.P()*4,i=r.VN.Hc;if(this.xX){if(o=="dodge")o="burn";else o="dodge"}var G=$.rng;
if(o=="dodge"){m=[1-H/2,1,1+H][G];j=[1,1/(1+H),1][G];Q=[H/2,0,0][G]}if(o=="burn"){m=[1/(1-H/2),1,1-H/2][G];
j=[1,1+H,1][G];Q=[-(H/2)/(1-H/2),0,0][G]}for(var Y=0;Y<k;Y+=4){var g=L[Y+3];x[Y+0]=i(x[Y+0],m,j,Q,g);
x[Y+1]=i(x[Y+1],m,j,Q,g);x[Y+2]=i(x[Y+2],m,j,Q,g)}}else if(o=="sponge"||o=="redeye"){var L=a.R(X.P()*4),J=a.R(X.P());
a.Ui(K,u,L,X);a.Sw(L,J,3);a.lY(x,L);var P=$.smode;if(this.xX)P=1-P;var M=gZ.ib("hue2");if(o=="sponge")ij.No(M,0,[0,[-50,46][P],[6,5][P]]);
else ij.No(M,1,{Yj:[265,305,25,55],eI:[0,-90,-70]});var T=j7.tN("hue2",M);j7.kg(T,L,L,X);a.a.ut(L,X,x,X,J,X,0,X,1,!1)}else if(o=="copy")a.Ui(K,u,x,X);
else if(o=="sheal"){var L=a.R(X.P()*4),J=a.R(X.P());a.Ui(K,u,L,X);a.Sw(L,J,3);L.fill(0);var C=this.rN,gf=this.zx;
if(n){C=a.R(gf.P()*4);r.VN.nW(this.rN,gf,0,C,gf)}else if(O.wD()&&O.wD().isEnabled){var s=O.wD(),b3=a.R(s.rect.P()*4);
a.Ui(C,gf,b3,s.rect);a.bp(s.channel,b3,3);C=b3;gf=s.rect}var d5=a.K7.sZ(C,gf,J,L,X);if(d5!=0)a.Ui(C,gf,L,X);
if(this.OS.sfrom==0)a.Ui(L,X,x,X);else{a.Ui(this.gY,this.S8,x,X);a.bp(J,L,3);a.a.hA("norm",L,X,x,X,X,1)}}else if(o=="qselect"){var gh=this.S8,jt=gh.m,fl=gh.e,eq=jt*fl,c7=this.bz.M5(),Z=this.gY,k8=r.mW.vF,J=k8.jw;
J.fill(128);for(var Y=0;Y<eq;Y++){var hs=c7[Y<<2],cq=c7[(Y<<2)+3];if(cq==255&&(hs==0||hs==255))J[Y]=hs}J[0]=J[jt-1]=0;
J[(fl>>>1)*jt]=J[(fl>>>1)*jt+jt-1]=0;r.Aa.QL(k8,!0,c);c.u={rect:gh,channel:k8.u.slice(0)};c.sG=!0}if(n==null){if(N)a.bp(l,x,3);
a.Ui(x,X,O.buffer,O.rect)}else r.VN.yy(x,X,n)};r.VN.kL=function(){return null};r.VN.Hc=function(c,o,K,u,X){var $=c*(1/255),O=u+o*Math.pow($,K),n=Math.round(O*X+$*(255-X));
return Math.max(0,Math.min(255,n))};r.VN.nW=function(c,o,K,u,X){var $=a.R(X.P());$.fill(K);a.qv(c,o,$,X);
u.fill(255);a.oe($,u)};r.VN.yy=function(c,o,K){var u=a.R(o.P());a.yH(c,u);a.qv(u,o,K.channel,K.rect)};
r.mW=function(c,o,K){r.vV.call(this,c,o,K);this.OS={binop:0,feat:0,cstr:{AC:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.hD=new kn(-1,-1);this.X0=new kn(-1,-1);this.Pp="default";this.M0=null;this.MV=!1;this.UK=new as;
this.v7=!1;this.wb=null;this.jg=null;this.M_=!1;this.lv=!1};r.mW.prototype=new r.vV;r.mW.prototype.eA=function(){var c=this.OS,o=[c.binop,c.feat],K=c.wconf,u=K.join(",")=="16,true,true";
if(o[0]==0&&o[1]==0&&u)return null;if(!u)o.push(K);return o};r.mW.prototype.YF=function(c,o,K){var u=this.OS;
if(c[0])u.binop=c[0];if(c[1])u.feat=c[1];if(c[2])u.wconf=c[2];this.Zs(K)};r.mW.prototype.Zs=function(c){var o=new ev(y.E.M,!0);
o.data={Y:y.H.Wu,f:this.id,OS:this.OS};c.I(o)};r.mW.vF={key:""};r.mW.cz=function(c,o,K){var u={ST:c,sK:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(o)u.sK.T=o;if(K!=null)u.sK.AntA={t:"bool",v:K};return u};r.mW.mu=function(c,o,K){return r.mW.cz("set",{t:"Objc",v:{classID:c,Top:{t:"UntF",v:{type:"#Pxl",val:o.y}},Left:{t:"UntF",v:{type:"#Pxl",val:o.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:o.y+o.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:o.x+o.m}}}},K)};
r.mW.VA=function(c,o,K){var u=[],X=[],O="set";for(var Y=0;Y<c.length;Y+=2){u.push(c[Y]);X.push(c[Y+1])}var $={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:u},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:X}]}}}};
if(o)O=["set","addTo","subtractFrom","interfaceWhite"][o];return r.mW.cz(O,$,K)};r.mW.amM=function(c,o,K){var u={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c.y}}}},X=r.mW.cz("set",u);
X.sK.Tlrn={t:"long",v:o[0]};X.sK.AntA={t:"bool",v:o[1]};X.sK.Cntg={t:"bool",v:o[2]};if(K==!0)X.sK.Mrgd={t:"bool",v:K};
return X};r.mW.Io=function(c){return r.mW.cz("set",{t:"enum",v:{Ordn:c?"Al":"None"}})};r.mW.Yo=function(c,o,K){var u={classID:"null"};
if(c!="border")u.selectionModifyEffectAtCanvasBounds={t:"bool",v:K};var X={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[c[0]];
u[X]={t:"UntF",v:{type:"#Pxl",val:o}};return{ST:c,sK:u}};r.mW.II=function(c,o,K){var u={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},X={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:o}}]};
if(K)X.v.push({t:"name",v:{classID:"Lyr",val:K}});var $=[{classID:"null",null:u,T:X},{classID:"null",null:X,T:u},{classID:"null",null:X,From:u},{classID:"null",null:X,With:u}],O=["set","add","subtract","interfaceIconFrameDimmed"];
return{ST:O[c],sK:$[c]}};r.mW.anV=function(c,o){var K=new ev(y.E.M,!0);K.data={Y:y.H.NU,EU:iD.pn};if(!o.ja)c.I(K);
K.data={Y:y.H.NU,EU:iD.Cp};if(!o.RG.yk)c.I(K)};r.mW.prototype.GN=function(c,o,K,u,X){r.mW.anV(o,X);this.M0=o;
var $=c.Y,O,n,x=new ez(0,0,K.m,K.e),jx=!1,cr,a8,f8,dW;if($=="fromAction"){var l=c.Va,N=l.ST,f=l.sK,z=f?f.selectionModifyEffectAtCanvasBounds:null,R=z&&z.v;
if(N=="colorRange"){if(f.Clrs){var V=f.Clrs.v.Clrs,d=0,e=255,p=["Shdw","Mdtn","Hghl"].indexOf(V),Z=.4;
if(p==0)e=60;else if(p==1){d=100;e=150}else d=190;var h=["shadows","midtones","highlights"][p],E=f[h+"LowerLimit"],q=f[h+"UpperLimit"];
if(E)d=E.v;if(q)e=q.v;var v=f[h+"Fuzziness"];if(v)Z=v.v/100;O=r.mW.R5(K,d,e,Z,!0)}else{var d=f.Mnm.v,e=f.Mxm.v,Z;
d={Eb:d.Lmnc.v,V:d.A.v,J:d.B.v};e={Eb:e.Lmnc.v,V:e.A.v,J:e.B.v};Z=f.Fzns.v/200;O=r.mW.R5(K,d,e,Z)}n=[7,8]}else if(N=="inverse"){if(K.u==null){alert("No selection!");
return}O={channel:a.R(x.P()),rect:x};a.qv(K.u.channel,K.u.rect,O.channel,O.rect);a.fH(O.channel);n=[7,2]}else if(N=="expand"){var W=f.By.v.val,D=K.u.rect.clone();
D.JG(W,W);var I=a.R(D.P()),A=a.R(D.P());a.qv(K.u.channel,K.u.rect,A,D);a.style.stroke(A,I,D,W);O={channel:I,rect:D};
n=[7,4]}else if(N=="contract"){var W=f.By.v.val,U=K.u.rect.clone();U.JG(1,1);if(!R)U=U.ar(x);var A=a.R(U.P()),w=a.R(A.length);
a.qv(K.u.channel,K.u.rect,A,U);a.fH(A);a.style.stroke(A,w,U,W);a.fH(w);O={channel:w,rect:U};a.kj(O);
n=[7,5]}else if(N=="border"){var W=f.Wdth.v.val;O=r.mW.av1(K.u,W/2,W/2);n=[7,9]}else if(N=="feather"||N=="smoothness"){var W=f.Rds.v.val;
O=r.mW.at5(K.u,W,N=="smoothness",x,R);n=N=="feather"?[7,6]:[19,3,0]}else if(N=="move"){var t=f.T.v,D=K.u.rect.clone();
D.x+=t.Hrzn.v.val;D.y+=t.Vrtc.v.val;O={channel:K.u.channel,rect:D};n=[7,7]}else if(N=="grow"||N=="similar"){var L=this.OS.wconf.slice(0);
if(f.Tlrn)L[0]=f.Tlrn.v;L[2]=N=="grow";var J=K.i9(),b=new ez(0,0,K.m,K.e),F=K.u.rect,B=Math.round(Math.sqrt(F.P())/10),k=a.R(b.P());
a.qv(K.u.channel,F,k,b);var i=[];for(var H=0;H<F.e;H+=B)for(var m=(F.P()+H)%B;m<F.m;m+=B)if(K.u.channel[H*F.m+m]==255){var j=new kn(F.x+m,F.y+H);
i.push(j);if(L[2])a._M.X3(r.y1.IO(J,b,j,null,L),k,k)}if(!L[2])a._M.X3(r.y1.IO(J,b,j,r.y1.hh(J,b,i),L),k,k);
O={channel:k,rect:b};n=N=="grow"?"Grow Selection":"Similar Selection";console.log(f)}else{var Q=f.null.v,G=f.AntA!=null&&f.AntA.v;
function g(fw){var dM=fw.Top.v.val,f7=fw.Left.v.val;return new ez(f7,dM,fw.Rght.v.val-f7,fw.Btom.v.val-dM)}function P(fw){var dM=fw[0].arr,aX=fw[1].arr,fy={j:[],G:[]};
for(var Y=0;Y<dM.length;Y++){fy.G.push(Y==0?"M":"L");fy.j.push(dM[Y],aX[Y])}fy.G.push("Z");return fy}var M=["set","addTo","subtractFrom","interfaceWhite"].indexOf(N),T=f.T?f.T.v:null;
if(T&&T.classID=="Elps"){O=this.a4U(r.rJ.arG(g(T)));n=[10,4]}else if(T&&T.classID=="Rctn"){var C=g(T);
O={channel:a.R(C.P()),rect:C.clone()};O.channel.fill(255);n=[10,15]}else if(T&&T.classID=="ObSl"){var C=g(T),gf=r.mW.vF,s=gf.rect,b3=gf.jw,d5=s.m,gh=s.e,jt=C.x-s.x,fl=jt+C.m-1,eq=Math.max(jt,Math.min(fl,jt+fl>>>1)),c7=C.y-s.y,k8=c7+C.e-1,hs=Math.max(c7,Math.min(k8,c7+k8>>>1)),cq=Math.max(jt,0),jn=Math.min(fl,d5),an=Math.max(c7,0),hk=Math.min(k8,gh);
b3.fill(128);if(0<=c7)for(var m=cq;m<jn;m++)b3[c7*d5+m]=0;if(k8<gh)for(var m=cq;m<jn;m++)b3[k8*d5+m]=0;
if(0<=jt)for(var H=an;H<hk;H++)b3[H*d5+jt]=0;if(fl<d5)for(var H=an;H<hk;H++)b3[H*d5+fl]=0;var ds=r.PG.a7a,gT=Math.round(C.m*ds),gP=Math.round(C.e*ds);
for(var m=Math.max(0,eq-gT);m<Math.min(d5,eq+gT);m++)b3[hs*d5+m]=255;for(var H=Math.max(0,hs-gP);H<Math.min(gh,hs+gP);
H++)b3[H*d5+eq]=255;r.Aa.QL(gf,!0);O={channel:gf.u.slice(0),rect:s.clone()};n=[10,44]}else if(T&&T.classID=="Plgn"){O=this.a4U(P(T.Pts.v.arr));
n=[10,9]}else if(T&&T.classID=="Pnt"){O=r.y1.awW(K,new kn(T.Hrzn.v.val,T.Vrtc.v.val),[f.Tlrn.v,G,f.Cntg==null||f.Cntg.v],f.Mrgd?f.Mrgd.v:!1);
n=[10,12]}else if(T&&T.Ordn=="None"){O=null;n=[7,1]}else if(T&&T.Ordn=="Al"){var ky=x;if(K.g.length!=0){var ay=K.root.g4(K.g[0]);
while(ay.parent&&ay.parent.parent)ay=ay.parent;if(ay.l.add.artb)ky=ay.l.rA()}O={channel:a.R(ky.P()),rect:ky};
O.channel.fill(255);n=[7,0]}else if(T&&T[0]&&T[0].v.keyID=="WrPt"){var bb={Y:"frompath",Yg:[-1,0,0]};
this.GN(bb,o,K,u,X);return}else{var ap=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(N),c8=N=="set"?T:Q,gr=c8[0].v.enum,bb;
if(gr=="Trsp"||gr=="Msk"||gr=="vectorMask"||gr=="Trgt"){var fF=K.g[0];if(c8.length==2)fF=a5.Bh(K,c8[1]);
var cj=["Trsp","Msk","vectorMask"].indexOf(gr);if(gr=="Trgt"&&K.s[fF].Xx==1)cj=1;bb={Y:"fromlayer",Yg:[fF,cj,ap]}}else{if(c8[0].t=="name"){var fF=0;
for(var Y=0;Y<K.lr.length;Y++)if(K.lr[Y].name==c8[0].v.val)fF=Y;bb={Y:"fromchannel",Yg:[-5-fF,0,ap]}}else{var br=["RGB","Rd","Grn","Bl"].indexOf(gr);
bb={Y:"fromchannel",Yg:[-1-br,0,ap]}}}this.GN(bb,o,K,u,X);return}if(O){if(!G)a.round(O.channel);if(f.Fthr)O=r.mW.at5(O,f.Fthr.v.val,!1);
if(N!="set"&&K.u!=null)O=a._M.AV(O,K.u,M)}}if(N=="expand"||N=="contract")if(!R&&!x.contains(O.rect)){var hX=O.rect.ar(x),gG=a.R(hX.P());
a.qv(O.channel,O.rect,gG,hX);O.channel=gG;O.rect=hX}}if($=="qmask"){jx=!0;var g7=K._U(),b=new ez(0,0,K.m,K.e);
if(g7){O=g7.rect.Ug(b)&&a.PA(g7.channel,255)?null:{rect:g7.rect.clone(),channel:g7.channel.slice(0)};
cr=g7}else{O=null;a8=new gU.bQ;a8.color=0;a8.name="Quick Mask";a8.nd=!0;if(K.u){a8.rect=K.u.rect.clone();
a8.channel=K.u.channel.slice(0)}else{a8.rect=b;a8.channel=a.R(a8.rect.P());a8.channel.fill(255)}}n=[6,6,1];
K.rH=!0}if($=="setsel"){O=c.u;n=c.u0}if($=="crange"){var d=c.Kp,e=c.L0;O=r.mW.R5(K,d,e,c.CS);n=[7,8]}if($=="fromlayer"||$=="fromchannel"||$=="frompath"){var eU=c.Yg[0],cj=c.Yg[1],M=c.Yg[2];
if($=="fromlayer"){if(eU==null)eU=K.g[0];var f7=K.s[eU];if(cj==0){var d7=f7.rect,aW=f7.buffer;if(d7.SR())return;
var cy=a.R(aW.length>>>2);a.Sw(aW,cy,3);O={channel:cy,rect:d7.clone()}}else{if(f7.F==null)f7.Dm(K);var dh=cj==1?f7.wD():f7.F;
O=r.mW.a77(dh,x)}this.track(r.mW.II(M,["Trsp","Msk"][cj],f7.getName()))}else if($=="frompath"){var fh=K.Dr(),dP=fh[1],fh=fh[0],jK=!0;
if(eU==null)if(fh.length==0||dP.length==0)return;var fg=fh[dP[0]];if(eU!=null)for(var Y=0;Y<fh.length;
Y++)if(fh[Y].wM==eU)fg=fh[Y];var dh=fg.add.vmsk.wD(),bo=dh.G5();if(bo.P()==0)return;var cy=dh.zV();if(c.Yg[3]!=null)jK=c.Yg[3];
if(!jK){cy=cy.slice(0);a.round(cy)}f8=[JSON.stringify(K.o3),JSON.stringify(K.mU)];dW=["[]","[]"];K.o3=[];
K.mU=[];O={channel:cy,rect:bo}}else{if(eU==null)eU=r.mW.aiO(K);O=r.mW.a8f(K,eU)}if(M!=0&&K.u)O=a._M.AV(O,K.u,M);
n=[14,11]}if($=="bgrm"){var jQ=window.locStor.getItem("bgrmt"),aZ=120;if(jQ==null)jQ=0;var eo=r.mW.aBl.bind([K,o,c]),dC=Math.floor((Date.now()-jQ)/1e3);
if(!ar.Is()&&dC<aZ){var hG="Non-Premium users can use it once in "+aZ+" seconds ("+(aZ-dC)+" sec remain). Watch a short ad and skip waiting?";
ji.pu(eo,hG,"rmbg")}else eo();return}if(O!=null&&a.PA(O.channel,0)){O=null;n=[7,1]}if(O)a.kj(O);var dy=new gv(n,this);
dy.data={Y:"changesel",u:O,_U:jx,aCC:cr,aAs:a8,lu:f8,a4W:dW};K.bs(dy);this.eX(dy.data,K)};r.mW.aBl=function(){var c=this[0],o=this[1],K=this[2],u=c.s[c.g[0]],X=u.rect,$=u.buffer,O=1,f="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)666`+'$T}MSVH?o:ja2.`Z%$PyHt =o<g8bdjbSTL}Jqtk;hj3NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
while(Math.max(X.m,X.e)>4096){var n=a.KP($,X);X=n.rect;$=n.PX;O*=2}var x=c5.nq("png"),l=c5.nq("jpg"),N=l.nC([[$.buffer]],X.m,X.e);
f=JSON.parse(d0.hn(f));var X=new XMLHttpRequest;X.open("POST",f[0]);X.setRequestHeader(f[1],f[2]);X.setRequestHeader(f[3],f[4]);
var z=new FormData;z.append("image",new Blob([N],{type:"ima"+"ge/j"+"pg"}));X.send(z);alert(iV.get([23,5])+" ...",2800);
X.onload=function(R){var V=JSON.parse(R.target.response),d=V.results[0].entities[0].image,e=c5.sT(d),d=x.gP(e)[0],p=d.yS,h=a.R(p.P());
a.yH(new Uint8Array(d.data),h);for(var Y=0;Y<h.length;Y++){if(h[Y]>250)h[Y]=255}if(O!=1){var n=r.W.ia([h,p],new bE(O,0,0,O,0,0));
p=n.rect;h=n.channel}p.x=u.rect.x;p.y=u.rect.y;var E=new ev(y.E.v,!0);if(K.b==1){E.f=r.KX;E.data={Y:gU.a0,iX:f[5],a6C:!0};
o.I(E);var q=u.wD();q.color=0;q.rect=p;q.channel=h;q.kj();u.Dm()}else if(K.b==2){E.f=r.TN;E.data={Y:"setsel",u:{channel:h,rect:p},u0:"Select Subject"};
o.I(E)}else throw"e";ar.event("rembg_Rem"+"ove B"+"G:  "+(ar.Is()?"Pre"+"mium":"Free"));window.locStor.setItem("bgrmt",Date.now())}};
r.mW.aiO=function(c){var o=0;if(c.LL.length!=0)o=-5-c.LL[0];else if(JSON.stringify(c.Q.O)=="[1,1,1]")o=-1;
else o=-2-c.Q.O.indexOf(1);return o};r.mW.a8f=function(c,o){var K,u=new ez(0,0,c.m,c.e);if(-5<o&o<0){var X=-o-1,$=c.i9(),O=a.R(u.P());
if(X==0)a.yH($,O);else a.Sw($,O,X-1);K={channel:O,rect:u.clone()}}if(o<-4){K=r.mW.a77(c.lr[-o-5],u)}return K};
r.mW.a77=function(c,o){var K,u;if(c.h0()==0){u=c.G5().clone();if(u.P()==0)return;K=c.zV()}else{u=o;K=a.R(u.P());
c.U2(u,K)}return{channel:K,rect:u}};r.mW.prototype.Wp=function(c){return this.v7||c.dm&&this.id!=r.Qp};
r.mW.prototype.vT=function(c,o,K){var u=new ev(o,!0);u.data=K;c.I(u)};r.mW.prototype.afx=function(c,o){var K=new ev(y.E.M,!0);
K.data={Y:y.H.L3,Vp:o};c.I(K)};r.mW.prototype.G5=function(c,o,K){o=c.u==null||this.UK.cr(1)||this.UK.Pq(1)?o:null;
var u=this.hD,X=this.X0;if(K){u.x=Math.max(0,Math.min(c.m,u.x));u.y=Math.max(0,Math.min(c.e,u.y));X.x=Math.max(0,Math.min(c.m,X.x));
X.y=Math.max(0,Math.min(c.e,X.y))}var $=r.mc.P7(u,X,o,!0,this.OS.cstr),O=$[0].x,n=$[0].y,x=new ez(O,n,$[1].x-O,$[1].y-n);
if(K){x.x=Math.max(x.x,0);x.y=Math.max(x.y,0)}return x};r.mW.prototype.x5=function(c,o,K,u,X){this.lv=!0;
if(this.rs())return;this.M0=o;this.MV=!1;this.UK.x5(u);this.hD=c.Q.FT(X.x,X.y);this.hD=r.W7.Fx(c,this.hD,K);
if(this.alA(c,this.hD,u)){this.v7=!0;this.wb=c.u.rect.clone();return}this.tT(c,K,u,X);c.Q.cI=new ez};
r.mW.prototype.alA=function(c,o,K){var u=K.N(d2.Qx),X=K.N(d2.u6);if(c.u&&!u&&!X&&this.OS.binop==0)return a.cQ(o,c.u.channel,c.u.rect);
return!1};r.mW.prototype.Xo=function(c,o,K,u,X){this.M0=o;if(this.M_)return;var $=c.Q.FT(X.x,X.y);if(kn.je(this.hD,$)*c.Q.U>5){this.MV=!0;
this.UK.Xo()}if(u.N(d2.gO)){if(this.jg==null)this.jg=new kn($.x-this.hD.x,$.y-this.hD.y);this.hD.x=$.x-this.jg.x;
this.hD.y=$.y-this.jg.y}else this.jg=null;this.X0=$;if(!this.v7&&this.id!=r.Qp)this.X0=r.W7.Fx(c,this.X0,K);
if(this.alA(c,this.X0,u))this.afx(o,"move");else this.afx(o,this.Pp);if(this.v7){var O=this.wb.clone();
O.x+=this.X0.x-this.hD.x;O.y+=this.X0.y-this.hD.y;var n=r.W7.PL(c,O,K);c.u.rect.x=Math.round(this.X0.x-this.hD.x+this.wb.x+n[0]);
c.u.rect.y=Math.round(this.X0.y-this.hD.y+this.wb.y+n[1]);c.sG=!0;r.W7.iu(c,O,n);return}this.Al(c,K,u,X,o);
if(c.Q.cI)c.Q.cI=this.G5(c,u)};r.mW.prototype.rs=function(){return!1};r.mW.prototype.v$=function(c,o,K,u,X,$){var O=this.lv;
this.lv=!1;if($||!O)return;c.Q.cI=null;this.X0=c.Q.FT(X.x,X.y);this.X0=r.W7.Fx(c,this.X0,K);if(this.v7){this.v7=!1;
if(c!=null&&c.S.aH){c.S.aH=null;c.Jn=!0}if(this.X0.Ug(this.hD)&&this.L5()==0){this.vT(o,y.E.XV,r.mW.Io());
return}this.a1d(c,this.wb,c.u.rect.clone());return}this.cF(c,K,u,X,o);r.mW.anV(o,K);this.UK.v$();this.uP(o)};
r.mW.prototype.a1d=function(c,o,K){var u=c.qF();if(u!=null&&u.f==this&&u.data.Y=="movesel"){}else{u=new gv([7,7],this);
u.data={Y:"movesel",nn:o};c.bs(u)}u.data.zL=K;this.eX(u.data,c)};r.mW.prototype.Cz=function(c,o,K,u,X){this.M_=!0};
r.mW.prototype.Lz=function(c,o,K,u,X){var $=new ev(y.E.M,!0);$.data={Y:y.H.Wu,f:this.id,UN:X,fk:c,dd:K};
o.I($);this.M_=!1};r.mW.prototype.y9=function(c,o,K,u){this.UK.y9(u);if(c!=null&&c.u!=null){var X=u.Z8();
if(X.x!=0||X.y!=0){var $=c.u.rect.clone();$.x+=X.x;$.y+=X.y;this.a1d(c,c.u.rect.clone(),$)}}this.uP(o)};
r.mW.prototype.uP=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.Wu,f:this.id,fQ:this.L5()};c.I(o)};
r.mW.prototype.L5=function(){var c=this.UK.cr(0),o=this.UK.Pq(0);return r.mW.J8(this.OS.binop,c,o)};
r.mW.J8=function(c,o,K){if(o)c=1;if(K)c=2;if(o&&K)c=3;return c};r.mW.prototype.finish=function(c,o,K,u){var X=c.u,$=this.getSelection(c,o,K,u);
if($==null)$=r.mW.Io();else{var O=this.OS.feat,n=this.L5();if(O!=0)$.sK.Fthr={t:"UntF",v:{type:"#Pxl",val:O}};
if(n!=0&&n!=4)$.ST=["","addTo","subtractFrom","interfaceWhite",""][n]}this.vT(this.M0,y.E.XV,$);this.hD.Q7(-1,-1);
this.X0.Q7(-1,-1)};r.mW.prototype.getSelection=function(c,o,K,u){return null};r.mW.prototype.tT=function(c,o,K,u){};
r.mW.prototype.Al=function(c,o,K,u){};r.mW.prototype.cF=function(c,o,K,u){};r.mW.prototype.Bt=function(c,o){var K=c.Y;
if(K=="changesel"){var u=o.u;o.u=c.u;c.u=u}if(K=="movesel")o.u.rect=c.nn;if(c._U){if(c.aCC){o.LL=[o.lr.length];
o.lr.push(c.aCC)}else{o.lr.pop();o.LL=[]}}if(c.lu){o.o3=JSON.parse(c.lu[0]);o.mU=JSON.parse(c.lu[1])}o.sG=!0};
r.mW.prototype.eX=function(c,o){var K=c.Y;if(K=="changesel"){var u=o.u;o.u=c.u;c.u=u}if(K=="movesel")o.u.rect=c.zL;
if(c._U){if(c.aAs){o.LL=[o.lr.length];o.lr.push(c.aAs)}else{o.lr.pop();o.LL=[]}}if(c.lu){o.o3=JSON.parse(c.a4W[0]);
o.mU=JSON.parse(c.a4W[1])}o.sG=!0};r.mW.prototype.qy=function(c){return c.Y=="changesel"&&c.u?c.u.channel.length:0};
r.mW.prototype.sE=function(c){for(var o in c.OS)this.OS[o]=c.OS[o]};r.mW.prototype.a4U=function(c){var o=a.A.P3(c.j);
if(o.SR())return null;var K=a.kW(o.m,o.e);K.save();K.beginPath();K.translate(-o.x,-o.y);Typr.U.pathToContext({cmds:c.G,crds:c.j},K);
K.closePath();K.fill();K.restore();var u=a.R(o.P()),X=K.getImageData(0,0,o.m,o.e);a.Sw(X.data,u,3);return{rect:o,channel:u}};
r.mW.at5=function(c,o,K,u,X){if(K)o=Math.round(o*.7);var $=Math.ceil(2.6*o),O=c.rect.clone();O.JG($,$);
if(u&&!X)O=O.ar(u);var n=a.R(O.P()),x=a.R(n.length);a.qv(c.channel,c.rect,x,O);a.kZ.mA(x,n,O,o);if(K){var l=n.length;
for(var Y=0;Y<l;Y++){var N=(n[Y]-128)*o*2.5;n[Y]=Math.max(0,Math.min(255,Math.round(128+N)))}}return{channel:n,rect:O}};
r.mW.av1=function(c,o,K){var u=Math.max(1,Math.ceil(K)),X=c.rect.clone();X.JG(u,u);var $=X.P(),O={channel:a.R($),rect:X},n=a.R($);
a.qv(c.channel,c.rect,n,O.rect);if(K!=0)a.style.stroke(n,O.channel,O.rect,K);else a.lY(n,O.channel);
var x=a.R($);a.fH(n);if(o!=0)a.style.stroke(n,x,O.rect,o);else a.lY(n,x);a._M.ar(O.channel,x,O.channel);
return O};r.mW.R5=function(c,o,K,u,X){var $=new ez(0,0,c.m,c.e),O=c.i9();if(c.u){var n=c.u.rect.ar($),x=a.R(n.P()*4);
a.Ui(O,$,x,n);$=n;O=x}var l=$.P(),N=a.R(l),f=1/u;if(X){if(o>=K)o=K-1;var z=o*(1-u),R=o,V=K,d=K+(255-K)*u,e=z==R?0:1/(R-z),p=V==d?0:1/(d-V);
for(var Y=0;Y<l;Y++){var h=Y<<2,E=a.NV(O[h],O[h+1],O[h+2]),q=0;if(E<z)q=0;else if(E<R)q=(E-z)*e;else if(E<=V)q=1;
else if(E<=d)q=1-(E-V)*p;else q=0;N[Y]=O[h+3]*q*q}}else for(var Y=0;Y<l;Y++){var h=Y<<2,Z=a.xW(O[h],O[h+1],O[h+2]),q=a.ah6(Z,o,K,u,f);
N[Y]=O[h+3]*q}return{rect:$,channel:N}};r.ER=function(){r.VN.call(this,[10,18],r.XL,"tools/blur");this._f="copy"};
r.ER.prototype=new r.VN;r.ER.prototype.x5=function(c,o,K,u,X){var $=u.N(d2.u6)?kD.Po:kD.XL;this.an(c,K,u,X,this.OS.strn,$);
if(this.bz==null)return;this.mr(c)};r.ER.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);
if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.NS=function(){r.VN.call(this,[10,0],r.yj,"tools/brush");
this._f="draw"};r.NS.prototype=new r.VN;r.NS.prototype.x5=function(c,o,K,u,X){if(this.AP(c,o,K,u,X,!0))return;
this.an(c,K,u,X,this.OS.flow);if(this.bz==null)return;this.mr(c)};r.NS.prototype.Xo=function(c,o,K,u,X){if(this.AP(c,o,K,u,X))return;
this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};
r._L=function(){r.VN.call(this,[10,42],r.UJ,"tools/crepl");this._f="idraw";this.OS.bmode="hue "};r._L.prototype=new r.VN;
r._L.prototype.x5=function(c,o,K,u,X){if(this.AP(c,o,K,u,X,!0))return;this.an(c,K,u,X,this.OS.flow);
if(this.bz==null)return;this.mr(c)};r._L.prototype.Xo=function(c,o,K,u,X){if(this.AP(c,o,K,u,X))return;
this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};
r.jx=function(){r.VN.call(this,[10,43],r.MU,"tools/redeye");this.OS.smode=0;this._f="redeye"};r.jx.prototype=new r.VN;
r.jx.prototype.x5=function(c,o,K,u,X){this.an(c,K,u,X,this.OS.flow);if(this.bz==null)return;this.mr(c)};
r.jx.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);if(this.bz==null)return;
if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.Vo=function(){r.VN.call(this,[10,38],r.yv,"tools/pencil");
this._f="draw"};r.Vo.prototype=new r.VN;r.Vo.prototype.x5=function(c,o,K,u,X){if(this.AP(c,o,K,u,X,!0))return;
this.an(c,K,u,X,this.OS.flow);if(this.bz==null)return;this.mr(c)};r.Vo.prototype.Xo=function(c,o,K,u,X){if(this.AP(c,o,K,u,X))return;
this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};
r.KU=function(){r.VN.call(this,[10,22],r.WQ,"tools/burn");this._f="burn"};r.KU.prototype=new r.VN;r.KU.prototype.x5=function(c,o,K,u,X){this.an(c,K,u,X,this.OS.expo/Math.E);
if(this.bz==null)return;this.mr(c)};r.KU.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);
if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.ec=function(c,o,K){r.VN.call(this,c==""?null:c?c:[10,1],o?o:r.VQ,K?K:"tools/clone");
this._f="clone";this.P_=null;this.p=null};r.ec.prototype=new r.VN;r.ec.prototype.x5=function(c,o,K,u,X){var $=this.OS,O=$.alt[0];
if(u.N(d2.u6)||u.N(d2.gj)||O){this.P_=c.Q.FT(X.x,X.y);this.p=null;if(O)this.fJ({alt:[!1]},o);this.Zn(c);
this.en(K,u,c,X);return}if(this.P_==null){alert(iV.get([15,7,0]));return}this.en(K,u);this.an(c,K,u,X,this.OS.flow);
if(this.bz==null)return;this.p=this.amF(c.Q.FT(X.x,X.y));this.mr(c)};r.ec.prototype.amF=function(c){var o=this.p;
if(o==null||!this.OS.algnd)o=new kn(Math.round(c.x-this.P_.x),Math.round(c.y-this.P_.y));return o};r.ec.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);
if(this.bf)this.C9(c,K,X);if(this.bz==null){if(this.P_!=null)this.en(K,u,c,X);return}if(!X.dm||this.P_==null)return;
this.fR(c,K,u,X);this.mr(c)};r.ec.prototype.kL=function(){return this.p};r.oN=function(){r.vV.call(this,[10,53],r.acv,"tools/csamp");
this.Ax=-1;this.atC=null};r.oN.prototype=new r.vV;r.oN.prototype.x5=function(c,o,K,u,X){this.atC=JSON.stringify(c.Lm);
var $=c.Q.FT(X.x,X.y),O=c.Lm,n=1e9,x=-1;for(var Y=0;Y<O.length;Y++){var l=O[Y],N=$.x-l.x,f=$.y-l.y,z=N*N+f*f;
if(z<n){n=z;x=Y}}var R=15/c.Q.U;x=n<R*R?x:-1;if(x==-1){x=O.length;O.push({x:$.x,y:$.y})}else if(u.N(d2.u6)){O.splice(x,1);
x=-1}this.Ax=x;c.Jn=!0};r.oN.prototype.Xo=function(c,o,K,u,X){var $=this.Ax;if($!=-1){var O=c.Q.FT(X.x,X.y);
c.Lm[$].x=O.x;c.Lm[$].y=O.y;c.Jn=!0}};r.oN.prototype.v$=function(c,o,K,u,X,$){var O=new gv(this.name,this);
O.data={Ak:this.atC,qU:JSON.stringify(c.Lm)};c.bs(O);this.Ax=-1};r.oN.prototype.Bt=function(c,o){o.Lm=JSON.parse(c.Ak)};
r.oN.prototype.eX=function(c,o){o.Lm=JSON.parse(c.qU)};r.zm=function(c,o,K){r.vV.call(this,c,o,K);this.t2={QY:{AC:0,x:0,y:0},H3:!1,TK:!1};
this.Tp=!1;this.jp=null;this.cursor=null;this.a7u=0;this.ky=null;this.hD=null;this.tV=null;this.gA=!1};
r.zm.prototype=new r.vV;r.zm.prototype.I2=function(){return this.jp!=null};r.zm.prototype.Wp=function(c){return this.hD!=null||this.jp&&this.jp.aCI()};
r.zm.prototype.x5=function(c,o,K,u,X){this.ky=X;var $=c.Q.FT(X.x,X.y),O=this.t2.QY,n=O.AC!=0?O.x/O.y:null,x=this.gA;
this.gA=!1;if(this.jp){var l=this.jp.pz($,c.Q.U);if(x&&l==null){this.jp.clear(c);this.jp=null}else{this.jp.x5(c,K,u,$,n,!1,X);
return}}this.hD=r.W7.Fx(c,$,K)};r.zm.prototype.eo=function(c,o,K){if(K==null)K=[c.x,c.y,c.x+c.m,c.y,c.x+c.m,c.y+c.e,c.x,c.y+c.e];
return new bR(K,!0,!1,this.id==r.LB,!0,o,this.id==r.LB?2:0,this.id==r.LB?4:3)};r.zm.prototype.en=function(c){var o=new ev(y.E.M,!0);
o.data={Y:y.H.L3,Vp:this.cursor};c.I(o)};r.zm.prototype.enable=function(c,o,K,u){this.M0=o;this.cursor="crosshair";
this.en(o);if(c!=null&&this.jp==null){var X=c.u?{XF:"cropby",a4f:3}:{XF:"config",t2:this.t2,awA:!0};
this.sE(X,o,c,u,K);if(c.u==null&&this.t2.QY.AC==0)this.gA=!0}};r.zm.prototype.Xo=function(c,o,K,u,X){this.ky=X;
var $=c.Q.FT(X.x,X.y);if(!X.dm){var O="crosshair";if(this.jp){var n=this.jp.pz($,c.Q.U,null,X);if(n)O=n;
else O="default"}if(O!=this.cursor){this.cursor=O;this.en(o)}}if(this.jp)this.jp.Xo(c,K,u,$);else if(this.hD){if(this.Tp){c.S.nO={G:["M","L"],j:[this.hD.x,this.hD.y,$.x,$.y]}}else{var x=r.mc.P7(this.hD,r.W7.Fx(c,$,K),u,!0,this.t2.QY),l=x[0].x,N=x[0].y,f=this.tV=new ez(l,N,x[1].x-l,x[1].y-N);
c.S.nO=a.A.W6(f);r.vV._g(X,f,c,K)}c.Jn=!0}};r.zm.ayM=function(c,o,K){var u,X,n,x;if(o<=K){u=o;X=K}else{u=K;
X=o}var $=c-Math.floor((c+Math.PI)/(2*Math.PI))*2*Math.PI;$=Math.abs($);if($>Math.PI/2)$=Math.PI-$;var O=u/(X*Math.sin($)+u*Math.cos($));
if(o<=K){n=u*O;x=X*O}else{n=X*O;x=u*O}return{Oc:n,s_:x}};r.zm.prototype.v$=function(c,o,K,u,X){this.ky=X;
var $=c.Q.FT(X.x,X.y);if(this.jp==null){var O=this.tV;if(this.hD&&(O||this.Tp)){if(this.Tp){var n=this.hD,x=$,l=x.x-n.x,N=x.y-n.y;
if(Math.abs(l)<Math.abs(N))x=new kn(n.x-N,n.y+l);if(n.x>x.x){var f=n;n=x;x=f}var n=Math.atan2(-(x.y-n.y),x.x-n.x),z=r.zm.ayM(n,c.m,c.e);
if(this.t2.TK){var R=a.A.W6(new ez(0,0,c.m,c.e)),V=new bE;V.rotate(n);a.A.i(R.j,V,R.j);z=a.A.P3(R.j);
z={Oc:z.m,s_:z.e}}var d=[0,0,z.Oc,0,z.Oc,z.s_,0,z.s_],e=new bE;e.translate(-z.Oc/2,-z.s_/2);e.rotate(n);
e.translate(c.m/2,c.e/2);a.A.i(d,e,d);this.jp=this.eo(O,!1,d);this.Tp=!1}else{var p=this.t2.QY;this.jp=this.eo(O,p.AC!=0)}this.jp.SX(c,K);
this.tV=null;this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,g5:!0});this.hD=null;c.S.Uo=[];c.S.nO=null;c.Jn=!0}return}this.jp.v$(c,K,u,$);
this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,g5:!0});var d=this.jp.tK();if(Math.abs(d[0]-d[4])<2&&Math.abs(d[1]-d[5])<2){this.lP(c,o,null,u);
return}if(Date.now()-this.a7u<200&&this.jp.Js($)){this.St(c,K);this.lP(c,o,K,u);return}this.a7u=Date.now()};
r.zm.prototype.y9=function(c,o,K,u){var X=this.jp;if(X==null||this.ky&&this.ky.dm)return;if(u.N(d2.m8)){this.St(c,K);
this.lP(c,o,K,u)}else if(u.N(d2.G$)){this.lP(c,o,K,u)}else X.y9(c,K,u)};r.zm.a6H=function(c,o,K){var u={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:c[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:c[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:c[1]+c[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:c[0]+c[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:o!=null?o:0}},Dlt:{t:"bool",v:K!=null?K:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{ST:"crop",sK:u}};r.zm.vY=function(c,o){if(o==null)o=[!0,!0,!0,!0];var K={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][c]}}},u=["Top","Left","Btom","Rght"];
for(var Y=0;Y<4;Y++)K[u[Y]]={t:"bool",v:o[Y]};return{ST:"trim",sK:K}};r.zm.ane=function(c,o,K,u){var X={classID:"null"};
if(u!=null){X.Wdth={t:"UntF",v:{type:"#Pxl",val:c}};X.Hght={t:"UntF",v:{type:"#Pxl",val:o}};X.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][u]}}}if(K!=null)X.Rslt={t:"UntF",v:{type:"#Rsl",val:K}};
return{ST:"imageSize",sK:X}};r.zm.axI=function(c,o,K,u){if(K==null)K=4;if(u==null)u=!1;var X=Math.floor(K/3),$=K%3;
return{ST:"canvasSize",sK:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:c}},Hght:{t:"UntF",v:{type:"#Pxl",val:o}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][$]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][X]}},Rltv:{t:"bool",v:u}}}};
r.zm.prototype.GN=function(c,o,K,u,X){var $=new ez(0,0,K.m,K.e),O=[11,3],n=K.$M,x=K.m/2,l=K.e/2,N=1,Q,G,g;
if(c.Y=="fromAction"){var f=c.Va,z=f.ST,R=f.sK,V=K.m/K.e,d=R.Wdth?R.Wdth.v.val:-1,e=R.Hght?R.Hght.v.val:-1,n=R.Rslt?R.Rslt.v.val:null,p=R.Wdth?R.Wdth.v.type:R.Hght?R.Hght.v.type:-1,h=1,E;
if(p=="#Prc"){if(d!=-1)d=Math.round(K.m*d/100);if(e!=-1)e=Math.round(K.e*e/100)}if(z=="imageSize"){if(R.Intr){if(R.Intr.v.Intp=="Nrst")h=0;
if(R.Intr.v.Intp=="bicubicSharper")h=2;if(d==-1&&e==-1){var q=n/K.$M;d=Math.round(K.m*q);e=Math.round(K.e*q)}if(R.CnsP&&R.CnsP.v){if(d==-1)d=Math.round(e*V);
if(e==-1)e=Math.round(d/V)}}else{if(p=="#Prc")n=Math.round(K.$M*(K.m/d));else if(p==-1)n=Math.round(n);
else throw"e";d=K.m;e=K.e}E={Y:"imgsize",rG:d,mT:e,OY:n,S9:h}}else if(z=="canvasSize"){if(d==-1)d=K.m;
if(e==-1)e=K.e;if(R.Rltv&&R.Rltv.v==!0){if(R.Wdth)d+=K.m;if(R.Hght)e+=K.e}var Z=R.Vrtc?R.Vrtc.v.VrtL:"Cntr",v=R.Hrzn?R.Hrzn.v.HrzL:"Cntr";
E={Y:"canvsize",rG:d,mT:e,gg:3*["Top","Cntr","Btom"].indexOf(Z)+["Left","Cntr","Rght"].indexOf(v)}}else if(z=="revealAll"){E={Y:"revealAll"}}else if(z=="trim"){var W={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[R.trimBasedOn.v.trimBasedOn];
if(W==null)throw"e";var D=["Top","Left","Btom","Rght"],I=[!0,!0,!0,!0];for(var Y=0;Y<4;Y++)if(R[D[Y]])I[Y]=R[D[Y]].v;
E={Y:"trim",ald:W,Zh:I}}else if(z=="crop"){var A,U,w,t;if(R.T){var L=R.T.v,A=Math.round(L.Left.v.val),U=Math.round(L.Top.v.val),w=Math.round(L.Rght.v.val)-A,t=Math.round(L.Btom.v.val)-U}else{var J=K.u.rect;
A=J.x;U=J.y;w=J.m;t=J.e}E={Y:"canvsize",rG:w,mT:t,p:new kn(A,U),aex:R.Dlt!=null&&R.Dlt.v}}else console.log(f);
if(E)this.GN(E,o,K,u,X);return}else if(c.Y=="imgsize"){$=new ez(0,0,c.rG,c.mT);if(c.OY)n=c.OY;N=c.S9}else if(c.Y=="canvsize"){var b=c.gg!=null?c.gg:0;
$=new ez(0,0,c.rG,c.mT);var F=K.m-c.rG,B=K.e-c.mT,k=Math.round(F/2),i=Math.round(B/2);if(b==1||b==4||b==7)$.x=k;
if(b==2||b==5||b==8)$.x=F;if(b==3||b==4||b==5)$.y=i;if(b==6||b==7||b==8)$.y=B;if(c.p){$.x=c.p.x;$.y=c.p.y}}else if(c.Y=="rot"&&(c.b+2*Math.PI)%(Math.PI/2)!=0){var H=a.A.W6($).j,m=new bE;
m.translate(-x,-l);m.rotate(c.b);m.translate(x,l);a.A.i(H,m,H);$=a.A.P3(H)}else if(c.Y=="rot"&&c.b!=Math.PI&&c.b!=-Math.PI){$=new ez(x-K.e/2,l-K.m/2,K.e,K.m);
if((K.m+K.e&1)==1){x=Math.floor(x);l=Math.floor(l);$=new ez(x-Math.floor(K.e/2),l-Math.floor(K.m/2),K.e,K.m);
if((K.m&1)==1&&c.b!=-Math.PI/2)$.y--;if((K.e&1)==1&&c.b==-Math.PI/2)$.x--}}else if(c.Y=="trim"){O=[11,12,0];
var j=K.i9(),J=new ez(0,0,K.m,K.e);$=a.pD(j,J,c.ald,c.Zh);if($.SR())$=J}else if(c.Y=="revealAll"){O=[11,12,2];
$=K.root.G5(K,!0)}var P=c.Y=="canvsize"&&c.aex;if(c.Y=="imgsize"||c.Y=="rot"||c.Y=="scl"||P){var M=new bE;
if(c.Y=="imgsize"){O=[11,10];M.scale(c.rG/K.m,c.mT/K.e);g=K.Tf();for(var Y=0;Y<g[0].length;Y++)g[0][Y][1]*=g[0][Y][0]==0?M.V:M.gI}else if(P){}else{M.translate(-x,-l);
if(c.Y=="rot")M.rotate(c.b);if(c.Y=="scl")M.scale(c.b.x,c.b.y);M.translate(x,l);O=c.u0}G=a.D.I_(M);Q=this.wt(K,X,!0,G,N,P?$:null)}else if(c.Y=="auto-align"){if(K.g.length<2){alert("Select two or more layers.");
return}var T=[];for(var Y=0;Y<K.g.length;Y++){var C=K.s[K.g[Y]];if(!C.Dc()&&C.add.SoLd==null){alert("Unsupported layer selected.");
return}if(C.rect.SR()){alert("Empty layer selected.");return}T.push([C.buffer,C.rect])}var gf=a.Nf.Kd(T);
if(gf==null){alert("No similarity found.");return}G=gf[1];Q=this.wt(K,X,!1,gf,N);$=K.root.G5(K,!0);O=[2,10,1]}var s=new ez(0,0,K.m,K.e);
if(!$.SR()&&(!$.Ug(s)||Q!=null)){var b3=new gv(O,this);b3.data={as5:K.$M,OY:n,z4:Q,YK:G,n4:r.zm.aBP(K,$,s,Q!=null)};
if(g){b3.data.a9z=K.Tf();b3.data.aty=g}r.zm.av7(K,b3.data,$);K.bs(b3);this.eX(b3.data,K)}};r.zm.aBP=function(c,o,K,u){if(c.ni.length==0)return null;
var X=JSON.stringify(c.ni),$=JSON.parse(X);r.Jy.aae($,o,K,u);$=JSON.stringify($);return[X,$]};r.zm.prototype.wt=function(c,o,K,u,X,$,O){var n={s:[],A6:null,h1:null};
if(K){for(var Y=0;Y<c.s.length;Y++)n.s.push(Y);for(var Y=0;Y<c.es.length;Y++)n.s.push(-1-Y);for(var Y=0;
Y<c.lr.length;Y++)n.s.push(-1e3-Y)}else n.s=c.g.slice(0);n.A6=r.W.XH(c,n.s,!0);var x=Math.abs(u[3]*u[1])>1e-9;
r.W.YS(c,o,n.s,n.A6,X,u,null,!0,x?null:$);if(K&&O&&c.n_()){var l=c.s[c.g[0]],N=l.buffer,f=l.rect,z=x?f.clone():$.clone(),R=a.R(z.P()*4),V=a.R(f.P());
a.Sw(N,V,3);var d=a.R(z.P());a.qv(V,f,d,z);a.round(d,255);a.fH(d);var e=a.K7.sZ(N,f,d,R,z);if(e==0){l.rect=z;
l.buffer=R}}n.h1=r.W.XH(c,n.s,!0);return n};r.zm.prototype.eX=function(c,o){if(c.OY)o.$M=c.OY;if(c.n4)o.ni=JSON.parse(c.n4[1]);
if(c.z4){r.zm.KM(o,a.D.EV(c.YK));r.W.w0(o,c.z4.s,c.z4.h1);if(c.aty)o.$w(c.aty)}r.zm.HN(o,c)};r.zm.prototype.Bt=function(c,o){if(c.as5)o.$M=c.as5;
if(c.n4)o.ni=JSON.parse(c.n4[0]);r.zm.Fz(o,c);if(c.OJ)o.Q.p.Xl(c.OJ);o.avW();if(c.z4){var K=a.D.EV(c.YK).clone();
K.fH();r.zm.KM(o,K);r.W.w0(o,c.z4.s,c.z4.A6);if(c.a9z)o.$w(c.a9z)}};r.zm.KM=function(c,o){for(var Y=0;
Y<c.s.length;Y++){var K=c.s[Y];if(K.add.artb==null)continue;var u=a.A.W6(K.rA()).j;a.A.i(u,o,u);var X=a.A.P3(u);
K.oW(X)}};r.zm.c4=function(c){var o=new ez,K=0,u=c.root.children.length;for(var Y=0;Y<u;Y++){var X=c.root.children[Y].l;
if(X.add.artb==null)continue;o=o.X3(X.rA());K++}var $=new ez(0,0,c.m,c.e);if(!o.SR()&&!$.Ug(o))return o;
return null};r.zm.tv=function(c){var o=r.zm.c4(c);if(o)r.zm.H3(c,o,!0);return o};r.zm.H3=function(c,o,K){var u=c.m,X=c.e,$=o.m,O=o.e,n=o.x==0&&o.y==0;
if(n&&u==$&&X==O)return;c.m=$;c.e=O;var x=[];for(var Y=0;Y<c.s.length;Y++)x.push(Y);if(!n)r.W7.uz(c,x,null,-o.x,-o.y);
for(var Y=0;Y<c.s.length;Y++){c.s[Y].Dm(c)}c.avW();if(K){var l=c.Q.p,N=c.Q.U;l.x+=Math.round((o.x+($-u)/2)*N);
l.y+=Math.round((o.y+(O-X)/2)*N)}else c.Q.p.Q7(0,0);if(c.u)c.u.rect.offset(-o.x,-o.y);var f=c.Tf();for(var z=0;
z<f[0].length;z++)if(f[1][z]==-1){var R=c.qb[z];R[1]-=R[0]==0?o.x:o.y}for(var Y=0;Y<c.lr.length;Y++)c.lr[Y].rect.offset(-o.x,-o.y)};
r.zm.prototype.sE=function(c,o,K,u,X){if(c.XF=="commit"){this.St(K,X);this.lP(K,o,null,u)}else if(c.XF=="cancel"){this.lP(K,o,null,u)}var $=null,O=new ez(0,0,K.m,K.e),n=this.t2.QY;
if(c.XF=="config"){this.t2=c.t2;n=this.t2.QY;if(K==null||!c.awA)return;$=O;if(n.AC==1){var x=n.x/n.y;
if($.m/x<$.e)$.e=Math.round($.m/x);else $.m=Math.round($.e*x)}if(n.AC==2){$.m=n.x;$.e=n.y}$.x=Math.round((K.m-$.m)/2);
$.y=Math.round((K.e-$.e)/2)}if(c.XF=="straighten"){alert("Draw a line in the image.");this.Tp=!0}if(c.XF=="cropby"){if(K==null)return;
var l=c.a4f,$;if(l==0)$=K.root.G5(K,!0);if(l==1){if(K.g.length==0)alert("No layer is selected.");else{var N=K.root.g4(K.g[0]);
$=N.G5(K,!0)}}if(l==2){if(K.g.length==0)alert("No layer is selected.");else{$=a.pD(K.i9(),O,0);if($.SR())$=O.clone()}}if(l==3){if(K.u!=null)$=K.u.rect;
else alert("There is no selection.")}if(l==4){$=new ez(0,0,K.m,K.e)}}if($&&$.SR())$=null;if($!=null){this.jp=this.eo($,n.AC!=0);
this.jp.SX(K,X);this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,g5:!0})}};r.zm.prototype.fb=function(c,o,K,u){this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,xk:[c.m,c.e]})};
r.zm.prototype.St=function(c,o){var K=this.jp.tK(),u=a.A.P3(K),X=this.amc(c,K),$=!1,O=this.t2,n=O.QY,x=O.H3,l=n.x,N=n.y,R;
if(this.id==r.JT&&n.AC==2&&X.P()!=l*N){X=new ez(X.x,X.y,l,N);$=!0}var f=a.D.ly(K,X);f=a.D.fH(f);var z=a.D.TP(f),V=Math.atan2(f[3],f[0]),d=new ez(0,0,c.m,c.e);
if(Math.abs(V)>1e-9||!z||$||x||O.TK)R=this.wt(c,o,!0,f,1,u,O.TK);else if(X.Ug(d))return;var e=new gv(this.name,this);
e.data={z4:R,YK:f,OJ:c.Q.p.clone(),n4:r.zm.aBP(c,X,d,!1)};r.zm.av7(c,e.data,X);c.bs(e);this.eX(e.data,c);
this.track(r.zm.a6H([u.x,u.y,u.m,u.e],null,x))};r.zm.av7=function(c,o,K){if(K==null)return;o.nn=new ez(0,0,c.m,c.e);
o.zL=K};r.zm.HN=function(c,o){if(o.zL==null)return;r.zm.H3(c,o.zL)};r.zm.Fz=function(c,o){if(o.zL==null)return;
var K=o.nn.clone();K.offset(-o.zL.x,-o.zL.y);r.zm.H3(c,K)};r.zm.prototype.amc=function(c,o){var K=a.D.ly(o),u=a.D.TP(K),X=a.D.EV(K),$=X.hW,O=X.qj,n=Math.atan2(X.J,X.V);
X.rotate(n);var x=new ez($,O,X.V,X.gI);if(!u){function l(E,Y,q){var Z=E[Y]-E[q],v=E[Y+1]-E[q+1];return Math.sqrt(Z*Z+v*v)}var N=l(o,0,2),f=l(o,4,6),z=Math.max(N,f),R=l(o,2,4),V=l(o,6,0),d=Math.max(R,V),e=r.zm.qN(o,c.m/2,c.e/2),p,h;
if(isNaN(e)||e==Infinity||e==-Infinity||Math.min(e,1/e)<.1)e=(N+f)/(R+V);if(z/d>e){p=z*1;h=p/e}else{h=d*1;
p=h*e}x.m=p;x.e=h}x.x=Math.round(x.x);x.y=Math.round(x.y);x.m=Math.round(x.m);x.e=Math.round(x.e);return x};
r.zm.qN=function(c,o,K){var u=c[0]-o,X=c[1]-K,$=c[2]-o,O=c[3]-K,n=c[6]-o,x=c[7]-K,l=c[4]-o,N=c[5]-K,f=((X-N)*n-(u-l)*x+u*N-X*l)/((O-N)*n-($-l)*x+$*N-O*l),z=((X-N)*$-(u-l)*O+u*N-X*l)/((x-N)*$-(n-l)*O+n*N-x*l),R=-((z*x-X)*(f*O-X)+(z*n-u)*(f*$-u))/((z-1)*(f-1));
function V(e){return e*e}var d=Math.sqrt((V(f-1)+V(f*O-X)/R+V(f*$-u)/R)/(V(z-1)+V(z*x-X)/R+V(z*n-u)/R));
if(f==1&&z==1)d=Math.sqrt((V(O-X)+V($-u))/(V(x-X)+V(n-u)));return d};r.zm.prototype.lP=function(c,o,K,u){if(c==null)return;
if(this.jp)this.jp.clear(c);this.jp=null;this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,g5:!1})};r.zm.prototype.disable=function(c,o,K,u){if(this.jp)this.St(c,K);
this.lP(c,o,K,u)};r.zm.prototype.vT=function(c,o,K,u){var X=new ev(o,!0);X.data=K;if(u)X.f=u;c.I(X)};
r.a9k=function(){r.zm.call(this,[10,2],r.JT,"tools/rcrop")};r.a9k.prototype=new r.zm;r.ahc=function(){r.zm.call(this,[10,39],r.LB,"tools/pcrop")};
r.ahc.prototype=new r.zm;r.GC=function(){r.VN.call(this,[10,21],r.CN,"tools/dodge");this._f="dodge"};
r.GC.prototype=new r.VN;r.GC.prototype.x5=function(c,o,K,u,X){this.an(c,K,u,X,this.OS.expo/Math.PI);
if(this.bz==null)return;this.mr(c)};r.GC.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);
if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.O8=function(){r.VN.call(this,[10,3],r.dM,"tools/eraser");
this._f="erase"};r.O8.prototype=new r.VN;r.O8.prototype.x5=function(c,o,K,u,X){this.an(c,K,u,X,this.OS.flow);
if(this.bz==null)return;this.mr(c)};r.O8.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);
if(this.bz==null)return;if(!X.dm)return;var $=this.fR(c,K,u,X);this.mr(c)};r.r5=function(){r.VN.call(this,[10,45],r.kD,"tools/beraser");
this._f="ierase"};r.r5.prototype=new r.VN;r.r5.prototype.x5=function(c,o,K,u,X){if(this.AP(c,o,K,u,X,!0))return;
this.an(c,K,u,X,this.OS.flow);if(this.bz==null)return;this.mr(c)};r.r5.prototype.Xo=function(c,o,K,u,X){if(this.AP(c,o,K,u,X))return;
this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};
r.vK=function(){r.mW.call(this,[10,15],r.TN,"tools/rselect");this.Pp="crosshair"};r.vK.prototype=new r.mW;
r.vK.prototype.Al=function(c,o,K,u){if(!u.dm||!this.MV)return;var X=this.G5(c,K,!0);c.S.nO=a.A.W6(X);
c.Jn=!0;r.vV._g(u,X,c,o)};r.vK.prototype.cF=function(c,o,K,u){c.S.nO=null;c.S.Uo=[];c.Jn=!0;this.finish(c,o,K,u)};
r.vK.prototype.getSelection=function(c,o,K,u){if(this.hD.Ug(this.X0)||!this.MV)return null;var X=this.G5(c,K,!0);
if(X.SR())return null;return r.mW.mu("Rctn",X,this.OS.anta)};r.rJ=function(){r.mW.call(this,[10,4],r.aDI,"tools/eselect");
this.Pp="crosshair"};r.rJ.prototype=new r.mW;r.rJ.prototype.Al=function(c,o,K,u){if(!u.dm||!this.MV)return;
var X=this.G5(c,K);c.S.nO=r.rJ.arG(X);c.Jn=!0;r.vV._g(u,X,c,o)};r.rJ.prototype.cF=function(c,o,K,u){c.S.nO=null;
c.S.Uo=[];c.Jn=!0;this.finish(c,o,K,u)};r.rJ.prototype.getSelection=function(c,o,K,u){if(this.hD.Ug(this.X0)||!this.MV)return null;
var X=this.G5(c,K);if(!X.Yd(new ez(0,0,c.m,c.e)))return null;return r.mW.mu("Elps",X,this.OS.anta)};
r.rJ.arG=function(c){var o=c.x,K=c.y,u=c.x+c.m,X=c.y+c.e,$=(o+u)/2,O=(K+X)/2,n=(o-u)/2,x=(K-X)/2,l=.5522848,N={j:[$,O-x],G:["M","C","C","C","C"]};
N.j.push($+l*n,O-x,$+n,O-l*x,$+n,O);N.j.push($+n,O+l*x,$+l*n,O+x,$,O+x);N.j.push($-l*n,O+x,$-n,O+l*x,$-n,O);
N.j.push($-n,O-l*x,$-l*n,O-x,$,O-x);return N};r.am=function(c){r.vV.call(this,[10,5],c?r.$Z:r.FJ,"tools/eyedropper");
this.$d=null;this.a5l=!1;this.ve=0;this.Pe=null;this.LW=1;this.VK=2;this.anq=!0;this.cA=!1};r.am.prototype=new r.vV;
r.am.prototype.Wp=function(c){return c.dm};r.am.prototype.enable=function(c,o,K,u,X){r.vV.prototype.enable.call(this,c,o,K,u,X);
this.a5l=X};r.am.prototype.GN=function(c,o,K,u,X){if(c.Y=="pickhere")this.u_(K,o,X,null,c.aps);if(c.Y=="supertool")this.$d=c.f};
r.am.prototype.x5=function(c,o,K,u,X){var $=this.$d;if($){$.x5(c,o,K,u,X);return}this.ve=K.V5;this.Pe=X;
var O=this.u_(c,null,K,u,X);this.en(c,o,O,X)};r.am.prototype.Xo=function(c,o,K,u,X){var $=this.$d;if($){$.Xo(c,o,K,u,X);
return}var O=this.Pe;if(O){var n=X.x-O.x,x=X.y-O.y,l=1,N=new kn(O.x+n*l,O.y+x*l),f=this.u_(c,null,K,u,N);
this.en(c,o,f,N,new kn(n*(1-l),x*(1-l)))}};r.am.prototype.en=function(c,o,K,u,X){var $=this.anq,O=this.cA;
if(c.Q.U>4)O=!1;if(!O&&!$)return;var n=r.am.ahB(c,O,$,u,X,K,this.ve,this.LW),x=new ev(y.E.M,!0);x.data={Y:y.H.L3,Vp:n};
o.I(x)};r.am.prototype.v$=function(c,o,K,u,X,$){var O=this.$d;if(O){O.v$(c,o,K,u,X);return}this.u_(c,o,K,u,X);
if(this.Pe){this.Pe=null;if($)this.u_(c,o,K,u,X,this.ve);var n=new ev(y.E.M,!0);n.data={Y:y.H.L3,Vp:"default"};
o.I(n)}};r.am.prototype.u_=function(c,o,K,u,X,$){if($==null)$=r.am.Uf(c,X,this.LW,this.VK);var O=new ev(y.E.M);
O.data={Y:y.H.NU,EU:iD.Mn,D$:!this.a5l&&u&&u.N(d2.u6)?1:0,b:$};if(o)o.I(O);return $};r.am.ahB=function(c,o,K,u,X,$,O,n){if(X==null)X=new kn(0,0);
var x=new ez(0,0,c.m,c.e),l=c.i9(),N=12,f=11,z=(N*2+1)*f,R=new kn(z/2,z/2),V=new ez(0,0,z,z),d=a.R(V.P()*4),e=c.Q.FT(u.x,u.y),p=Math.floor(e.x),h=Math.floor(e.y),E=new bE;
E.scale(1/f,1/f);E.translate(p-N,h-N);if(o)a.scale.adu(l,x,E,d,V);var q=(N-3.4)*f,Z=(N-1.7)*f,v=N*f;
for(var W=0;W<z;W++)for(var D=0;D<z;D++){var I=kn.je(new kn(D,W),R);if(I>q){if(K){var A=Math.max(0,q-I+1),U=(W*z+D)*4,w=d[U+3]<<24|d[U]<<16|d[U+1]<<8|d[U+2],t=255<<24|(W<v+f*.5?$:O);
if(I>Z){A=Math.max(0,Z-I+1);w=t;t=4286611584}else if(!o){w=t&16777215}d[U+0]=(1-A)*(t>>>16&255)+A*(w>>>16&255);
d[U+1]=(1-A)*(t>>>8&255)+A*(w>>>8&255);d[U+2]=(1-A)*(t>>>0&255)+A*(w>>>0&255);d[U+3]=(1-A)*(t>>>24&255)+A*(w>>>24&255)}if(I>v){d[(W*z+D)*4+3]=Math.max(0,255*(v-I+1))}}}function L(Y){var C=Y<<2;
d[C]=0;d[C+1]=0;d[C+2]=0;d[C+3]=255}function J(Y){var C=Y<<2;d[C]=255;d[C+1]=255;d[C+2]=255;d[C+3]=255}var b=n*f+2,F=z-b>>>1,B=F+b-1;
if(o&&b<z)for(var Y=0;Y<b;Y++){var k=F*z+F+Y,i=B*z+F+Y,H=(F+Y)*z+F,m=(F+Y)*z+B;L(k);L(i);L(H);L(m);if(Y!=0&&Y!=b-1){J(k+z);
J(i-z);J(H+1);J(m-1)}}if(!o)for(var Y=-9;Y<=9;Y++){if(-3<Y&&Y<3)continue;var j=z>>>1,D=j*z+j+Y,W=(j+Y)*z+j;
J(D-z);L(D);J(D+z);J(W-1);L(W);J(W+1)}var Q=$>>>16&255,G=$>>>8&255,g=$>>>0&255,P="RGB "+Q+","+G+","+g,M=a.S4([Q/255,G/255,g/255]);
if(c.add.fcmy)P="CMYK "+M.map(function(C){return Math.round(C*100)}).join(",");var T=r.vV.Ep(0,0,["#"+a.On($),P]),x=T[1];
x.y=0;x.x=z-x.m>>>1;a.Ui(T[0],x,d,V);return{lD:d,aB:V,Q2:new kn(R.x+X.x,R.y+X.y)}};r.am.Uf=function(c,o,K,u,X){if(u==null)u=2;
var $=c.Q.FT(o.x,o.y),O,n,x=c.g.length==1&&c.s[c.g[0]].Xx>0&&X!=!0,l=c.LL.length!=0,Z=0,v=0,W=0;if(x||l){var N;
if(l)N=c.lr[c.LL[0]];else{var f=c.s[c.g[0]];N=f.Xx==1?f.wD():f.a0L()}n=N.G5();if(!n.Y3($))return N.color==0?0:16777215;
O=a.R(n.P()*4);O.fill(255);var z=N.zV();a.oe(z,O)}else if(u==0&&c.g.length!=0){var f=c.s[c.g[0]];O=f.buffer;
n=f.rect}else{O=u==2?c.i9():c.i9(c.g[0]);n=new ez(0,0,c.m,c.e)}var R=Math.floor($.x)-n.x,V=Math.floor($.y)-n.y,d=(K-1)/2,e=Math.max(0,R-d),p=Math.max(0,V-d),h=Math.min(n.m,R+d+1),E=Math.min(n.e,V+d+1),q=(h-e)*(E-p);
for(var R=e;R<h;R++)for(var V=p;V<E;V++){var Y=4*(V*n.m+R);Z+=O[Y];v+=O[Y+1];W+=O[Y+2]}Z=Math.round(Z/q);
v=Math.round(v/q);W=Math.round(W/q);return Z<<16|v<<8|W};r.am.prototype.sE=function(c){var o=c.OS;this.LW=[1,3,5,11,31][o[0]];
this.VK=o[1];this.anq=o[2];this.cA=o[3]};r.YU=function(){r.vV.call(this,[10,6],r.pN,"tools/gradient");
this.OS={T:JSON.parse(gH.nl.aBk).v,ho:"Lnr",GL:!1,MI:!1,amn:"norm",FK:1};this.c2=!1;this.bD=null};r.YU.prototype=new r.vV;
r.YU.prototype.enable=function(c,o,K,u){var X=new ev(y.E.M,!0);X.data={Y:y.H.L3,Vp:"default"};o.I(X)};
r.YU.prototype.sE=function(c){this.OS=c.EU};r.YU.prototype.x5=function(c,o,K,u,X){if(!c.n_())return;
this.bD=c.Q.FT(X.x,X.y);this.bD=r.W7.Fx(c,this.bD,K);this.c2=!0};r.YU.prototype.Xo=function(c,o,K,u,X){if(!this.c2)return;
var $=c.Q.FT(X.x,X.y);$=r.W7.Fx(c,$,K);if(u.N(d2.Qx))$=r.YU.rB(this.bD,$);c.S.nO={j:[this.bD.x,this.bD.y,$.x,$.y],G:["M","L"]};
c.S.vM=[this.bD.x,this.bD.y,$.x,$.y];c.Jn=!0};r.YU.prototype.v$=function(c,o,K,u,X){if(!this.c2)return;
var $=c.s[c.g[0]],O=c.Q.FT(X.x,X.y);O=r.W7.Fx(c,O,K);if(u.N(d2.Qx))O=r.YU.rB(this.bD,O);var n=O.wv(this.bD),x=kn.n8(this.bD,O,.5),l=Math.atan2(n.y,n.x),N=kn.je(this.bD,O),f=Math.sin(l),z=Math.cos(l);
if(N>2){var R;if(c.u)R=c.u.rect;else R=new ez(0,0,c.m,c.e);var V=a.R(R.P()*4),d=this.OS,e=d.ho;if(e!="Lnr"){N*=2;
x=this.bD}a.T.I3(d.T,V,R,[z*1/N,f*1/N,-f*1/N,z*1/N],x.x,x.y,d.GL,gH.T.types.indexOf(e),K.V5,K.th,null,d.MI);
var p=Math.round(d.FK*256),h=V.length;if(p!=256)for(var Y=0;Y<h;Y+=4)V[Y+3]=V[Y+3]*p>>>8;var E=new ev(y.E.v);
E.f=r.dM;E.data={Y:"fillBMP",Ra:V,FS:d.amn,u0:this.name};o.I(E)}c.S.nO=null;c.S.vM=[];c.Jn=!0;this.c2=!1};
r.YU.prototype.GN=function(c,o,K,u,X){function $(z){z=z.v;var R=z.Hrzn.v.val,V=z.Vrtc.v.val;return K.Q.dV(R,V)}if(c.Y=="fromAction"){var O=this.OS,n=this.OS={};
for(var x in O)n[x]=O[x];var l=c.Va.sK;if(l.Opct)n.FK=l.Opct.v.val/100;if(l.Dthr)n.MI=l.Dthr.v;if(l.Grad)n.T=l.Grad.v;
if(l.Type)n.ho=l.Type.v.GrdT;var N=$(l.From),f=$(l.T);this.x5(K,o,X,u,N);this.v$(K,o,X,u,f);this.OS=O}};
r.YU.rB=function(c,o){if(c.Ug(o))return c;var K=o.x-c.x,u=o.y-c.y,X=Math.abs(K),$=Math.abs(u);if(X>$)$=X/2>$?0:X;
if($>X)X=$/2>X?0:$;X=K>0?X:-X;$=u>0?$:-$;var O=Math.sqrt(K*K+u*u)/Math.sqrt(X*X+$*$);return new kn(c.x+X*O,c.y+$*O)};
r.YU.Zq=function(c,o,K,u,X,$,O){var n=new ez(0,0,o,K),x=a.R(o*K*4);a.MY(x,o,K,4);var l=Math.sin(u),N=Math.cos(u),f=a.R(o*K*4);
a.T.I3(c,f,n,[N*1/o,l*1/o,-l*1/K,N*1/K],o/2,K/2,!1,0,X,$);a.a.hA("norm",f,n,x,n,n,1);if(O)return new ImageData(new Uint8ClampedArray(x.buffer),o,K);
else return c5.Ec(x.buffer,o,K,null,null,!0)};r.YU.a8E=function(c,o,K){var u=JSON.parse(JSON.stringify(c));
if(u.Clrs)for(var Y=0;Y<u.Clrs.v.length;Y++){var X=u.Clrs.v[Y].v,$=X.Type.v.Clry;if($=="UsrS")continue;
var O=$=="FrgC"?o:K;X.Type.v.Clry="UsrS";X.Clr={t:"Objc",v:a.T.mv({Z:O>>16&255,r:O>>8&255,J:O&255})}}return u};
r.bT=function(){r.vV.call(this,[10,7],r.OC,"tools/hand");this.Dv=!1;this.Pe=new kn(0,0);this._$=null;
this.A7=0};r.bT.prototype=new r.vV;r.bT.prototype.sE=function(c,o,K,u){this.Dv=c.Dv};r.bT.prototype.GN=function(c,o,K,u,X){var $=c.Y;
if($=="setcls"){K.Q.O=c.O;K.Jn=!0;K.So=!0}if($=="scroll"&&!u.N(d2.u6)){if(u.N(d2.vm))r.bT.qM(K,K.Q.p.x-c.SS.y,K.Q.p.y-c.SS.x);
else r.bT.qM(K,K.Q.p.x-c.SS.x,K.Q.p.y-c.SS.y)}};r.bT.prototype.enable=function(c,o,K,u){this._$=null;
var X=new ev(y.E.M,!0);X.data={Y:y.H.L3,Vp:"grab"};o.I(X);if(c&&Date.now()-this.A7<300){X.type=y.E.v;
X.f=r.Hu;X.data={Y:"adapt",b:"fitscr"};o.I(X)}this.A7=Date.now()};r.bT.prototype.x5=function(c,o,K,u,X){this._$=c.Q.p.clone();
this.Pe.Q7(X.x,X.y)};r.bT.prototype.Xo=function(c,o,K,u,X){if(!X.dm)return;if(this._$==null)this.x5(c,o,K,u,X);
var $=this.Dv?o.eJ:[c];for(var Y=0;Y<$.length;Y++)r.bT.qM($[Y],this._$.x+(X.x-this.Pe.x),this._$.y+(X.y-this.Pe.y))};
r.bT.prototype.v$=function(c,o,K,u,X){this._$=null};r.bT.qM=function(c,o,K){var u=c.Q.U,X=c.Q.fE,$=X.m,O=X.e,n=c.m*u,x=c.e*u,l=n<$&&x<O,N=$/2+n/2-64,f=O/2+x/2-64;
c.Q.p.Q7(Math.max(-N,Math.min(N,o)),Math.max(-f,Math.min(f,K)));c.So=!0};r.de=function(){r.vV.call(this,[10,47],r.uE,"tools/rview");
this.Pe=new kn(0,0);this.$U=null;this.zt=null;this.A7=0};r.de.prototype=new r.vV;r.de.prototype.enable=function(c,o,K,u){this._$=null;
var X=new ev(y.E.M,!0);X.data={Y:y.H.L3,Vp:"grab"};o.I(X);if(c&&Date.now()-this.A7<300&&c.Q.yp!=0){c.Q.yp=0;
c.Jn=!0}this.A7=Date.now();if(c)this.q1(c,o)};r.de.prototype.disable=function(c,o,K,u,X){if(c)this.q1(c,o)};
r.de.prototype.YM=function(c,o,K,u){if(c)this.q1(c,o)};r.de.prototype.x5=function(c,o,K,u,X){this.Pe.Q7(X.x,X.y);
var $=c.Q;this.$U=$.FT($.fE.m/2,$.fE.e/2);this.zt=$._X();var O=$.FT($.fE.m/2,$.fE.e/2),n=Math.min($.fE.m,$.fE.e)*.35/$.U,x=n*.2,l=O.x,N=O.y;
c.S.nO={G:"M L L L L L".split(" "),j:[l,N,l,N-n,l+x,N,l,N+n,l-x,N,l,N-n]};c.Jn=!0};r.de.prototype.a4t=function(c){var o=c.Q,K=o.FT(o.fE.m/2,o.fE.e/2);
c.S.nO={G:["M","L"],j:[K.x,K.y,K.x,K.y-200]}};r.de.prototype.Xo=function(c,o,K,u,X){if(!X.dm)return;
var $=c.Q,O=this.$U,n=this.Pe,x=new kn($.fE.m/2,$.fE.e/2),l=Math.atan2(X.y-x.y,X.x-x.x),N=Math.atan2(n.y-x.y,n.x-x.x),f=Math.atan2(this.zt.J,this.zt.V),z=l-N,R=Math.PI/4;
if(u.N(d2.Qx)){z=f+R*Math.round((z-f)/R)}this.a7I(c,o,this.zt.clone(),O,z)};r.de.prototype.v$=function(c,o,K,u,X){c.S.nO=null;
c.Jn=!0};r.de.prototype.sE=function(c,o,K,u){this.a7I(K,o,null,null,c.K$-K.Q.yp);K.Q.yp=c.K$};r.de.prototype.a7I=function(c,o,K,u,X){var $=c.Q;
if(K==null)K=$._X();if(u==null)u=$.FT($.fE.m/2,$.fE.e/2);K.translate(-u.x,-u.y);K.rotate(X);K.translate(u.x,u.y);
$.a6G(K);if(c.m*$.U<$.fE.m&&c.e*$.U<$.fE.e)$.p.Q7(0,0);c.Jn=!0;this.q1(c,o)};r.de.prototype.q1=function(c,o){var K=new ev(y.E.M,!0);
K.data={Y:y.H.Wu,f:this.id,K$:c.Q.yp};o.I(K)};r.gR=function(){r.ec.call(this,[10,25],r.yg,"tools/hbrush")};
r.gR.prototype=new r.ec("");r.gR.prototype.v$=function(c,o,K,u,X){if(this.bz==null)return;this.pJ(c,"heal",this.bz.M5(),this.bz.G5(),this.bz.gD());
this.d(c,this.bz.gD());r.VN.prototype.v$.call(this,c,o,K,u,X);if(!this.OS.algnd)this.p=null};r.gU=function(c){r.vV.call(this,c?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],c?r.aU:r.kO,c?"tools/vtype":"tools/htype");
this.LO=[];this.dd=null;this.caller=null;this.QD=1;this.YC=0;this.c7=null;this.ayw=0;this.aO=0;this.am9=null;
this.TC=null;this.GO=null;this.M2=null;this.zI=null;this.T0=null;this.atz=null;this.Ti=null;this.jp=null;
this.Rl=null;this.a6D=null;this.qX=!1;this.js=!1;this.Oa=!1;this.CP=null;this.S3=null;this.abi=null;
this.Qo=!1;this.C8=!1;this.jN=-1;this.w4=-1;this.Xc=document.createElement("textarea");this.Xc.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Xc.addEventListener("input",this.Uc.bind(this),!1);this.Xc.addEventListener("keydown",this.aco.bind(this),!1);
this.Xc.addEventListener("keyup",this.ayv.bind(this),!1)};r.gU.prototype=new r.vV;r.gU.prototype.Wp=function(c){return c.dm};
r.gU.prototype.fb=function(c,o,K,u){if(this.GO!=null||this.id==r.aU)return;this.caller=o;var X=this.azw(c);
if(X.length!=0){var $=null,O=[],n=[];for(var Y=0;Y<X.length;Y++){var x=c.s[X[Y]],l=x.add.TySh,N=0,f=ii.lo(l.Bz).length-2,z=ii.Ij(l.Bz,N,f);
ii.$x(z,l.i.ea());if(z.W$.Font!=null)z.W$.Font=z.c9[z.W$.Font].Name;$=z.c9;O.push(z.W$);n.push(z.Xi)}var z={c9:$,W$:ii.Jv(O),Xi:ii.Jv(n)};
if(z.W$.Font!=null)ii.CQ(z,z.W$.Font);this.anI(o,z,l)}};r.gU.prototype.azw=function(c){var o=[];for(var Y=0;
Y<c.g.length;Y++)if(c.s[c.g[Y]]&&c.s[c.g[Y]].add.TySh)o.push(c.g[Y]);return o};r.gU.prototype.GN=function(c,o,K,u,X){var $=c.Y=="insertGlyph",O=c.Y=="copyText",n=c.Y=="selectAll";
if(($||O||c.Y=="insertText"||n)&&this.GO){var x=$?String.fromCharCode(65533):c.b,l=this.Xc,N=l.value,f=l.selectionStart,z=l.selectionEnd;
if(O){fn.Zo(new Blob([N.slice(f,z)],{type:"text/plain"}))}else if(n){this.jN=l.selectionStart=0;this.w4=l.selectionEnd=N.length;
this.N_(K);l.focus()}else{l.value=N.slice(0,f)+x+N.slice(z);l.selectionStart=l.selectionEnd=f+x.length;
this.Uc(null,$?c.b:null);l.focus()}}if(c.Y=="updateStyles"){if(this.GO==null){var R=this.azw(K),V=!1;
if(R.length!=0){this.EB(K,o,X,R);for(var Y=0;Y<R.length;Y++){var d=K.s[R[Y]],e=d.add.TySh;ii.l8(e,this.QD);
e.im.VAlign.v=this.YC;this.GO=d;var p=ii.lo(e.Bz);this.jN=0;this.w4=p.length-1;ii.r2(e.Bz,this.jN,this.w4,this.CV(X,e));
var h=this.cN(K,X);if(h==!1)V=!0}if(V){this.Qo=!0;return}this.l0(K,o,!0)}return}this.O0(X)}if(c.Y.startsWith("warp")){var E=this.C8;
if(c.Y=="warp"||c.Y=="warpCancel"){if(this.GO==null)return;if(c.Y=="warp")this.GO.add.TySh.KB=c.Pw;else this.GO.add.TySh.KB=this.atz;
this.cN(K,X);if(!E)this.N_(K)}if(c.Y!="warp")this.Xc.focus();if((c.Y=="warpConfirm"||c.Y=="warpCancel")&&E){this.C8=!1;
if(c.Y=="warpConfirm")this.l0(K,o);else this.GB(K,o)}}if(c.Y=="editCurr"){if(X.lm!=r.kO){this.c7=X.lm;
var q=new ev(y.E.M,!0);q.data={Y:y.H.VO,f:r.kO};o.I(q)}if(this.GO!=null)this.disable(K,o,X,u);this.dd=X;
this.caller=o;this.EB(K,o,X,[c.Qb]);var p=ii.lo(this.GO.add.TySh.Bz);this.jN=0;this.w4=p.length-1;this.N_(K);
this.Kq();this.Xc.focus()}if(c.Y=="switchPntPrgr"){if(this.GO)return;var d=K.s[K.g[0]],e=d.add.TySh,Z=e.i.ea(),v=d.qP(),W=JSON.parse(JSON.stringify(e.Bz)),D=ii.DG(W),I=D==1?ii.Wy(W):[0,0,Math.round(v.m*1.05/Z),Math.round(v.e*1.25/Z)],A=ii.Ij(W,0,0),U=A.c9[A.W$.Font].Name,w=X.ru.YW(U),t=[0,I[2],I[2]/2][A.Xi.Justification%3],L=(w?ag.vc(w):.8)*A.W$.FontSize;
ii.lG(W,1-D);if(D==0){console.log(ag.vc(w,U,A.W$));t=-t;L=-L;ii.lf(W,[0,0,I[2],I[3]])}var J=new bE(1,0,0,1,t,L);
J.concat(e.i);this.GN({U0:K.g[0],Y:"newED",ha:W,i:J,aCx:[16,3,D==1?0:1]},o,K,u,X)}if(c.Y=="newED"){var d=K.s[c.U0],e=d.add.TySh,b=this.oi(K,[c.U0]);
e.Bz=c.ha;if(c.i)e.i=c.i;if(hb.HK(e,X.ru,o)){hb.cN(d,X.ru,K);K.d()}else K._K=!0;var F=new gv(c.aCx?c.aCx:this.name,this);
F.data={xB:b,WF:this.oi(K,[c.U0])};K.bs(F)}if(c.Y=="fromAction"){var B=c.Va.sK.Usng.v,k=B.TxtC.v,i=[];
for(var Y=0;Y<2;Y++){var H=k[Y==0?"Hrzn":"Vrtc"].v,x=H.val;if(H.type=="#Prc")x=(Y==0?K.m:K.e)*(x/100);
i[Y]=x}this.EL(K,o,X,u,K.Q.dV(i[0],i[1]),!0);var d=K.s[K.g[0]],e=d.add.TySh,m=e.Bz,N=ii.lo(m);ii.Ki(m,0,N.length-1);
ii.FO(m,0,B.Txt.v.replace(/\r/g,"\n"));N=ii.lo(m);for(var D=0;D<2;D++){var j=B[D==0?"Txtt":"paragraphStyleRange"].v;
for(var Y=0;Y<j.length;Y++){var Q=j[Y].v,f=Q.From.v,z=Math.min(Q.T.v-1,N.length-1);Q=Q[D==0?"TxtS":"paragraphStyle"].v;
var G=ii.Ij(m,f,z),g=D==0?G.W$:G.Xi;for(var P in Q){var M=Q[P].v;if(P=="Sz")g.FontSize=Math.round(M.val*(M.type=="#Pnt"?K.$M/72:1));
else if(P=="fontPostScriptName")ii.CQ(G,M);else if(P=="Algn")g.Justification={Left:1,Cntr:2}[M.Alg];
else if(P=="leading")g.Leading=Q[P].v.val;else if(P=="baselineShift")g.BaselineShift=Q[P].v.val;else if(P=="autoLeading")g.AutoLeading=Q[P].v;
else if(P=="syntheticBold")g.FauxBold=Q[P].v;else if(P=="syntheticItalic")g.FauxItalic=Q[P].v;else if(P=="Trck")g.Tracking=Q[P].v;
else if(P=="verticalScale")g.VerticalScale=Q[P].v/100;else if(P=="horizontalScale")g.HorizontalScale=Q[P].v/100;
else if(P=="Clr")g.FillColor={Type:1,Values:[1,M.Rd.v/255,M.Grn.v/255,M.Bl.v/255]}}ii.r2(m,f,z,G)}}if(hb.t0(K,X.ru,o))hb.cN(d,X.ru,K);
else K._K=!0;K.d();this.l0(K,o)}};r.gU.prototype.O0=function(c){var o=Math.min(this.jN,this.w4),K=Math.max(this.jN,this.w4),u=this.GO.add.TySh;
ii.l8(u,this.QD);u.im.VAlign.v=this.YC;var X=this.CV(c,u);ii.r2(u.Bz,o,K-1,X);var $=this.caller.pL(),O=this.cN($,c);
if(O)this.N_($);if(document.activeElement.tagName.toLowerCase()!="input")this.Xc.focus()};r.gU.prototype.P6=function(c){return this.LO.indexOf(c)!=-1};
r.gU.prototype.enable=function(c,o,K,u){var X=this.Xc;o.n.appendChild(X);this.Ti="default";this.en(o)};
r.gU.prototype.I2=function(){return this.GO!=null};r.gU.Zz=function(c,o){var K=new kn(o.x,o.y);for(var Y=c.s.length-1;
Y>=0;Y--){var u=c.s[Y],X=u.add.TySh;if(X&&c.aqr(Y)){var $=K,O=u.rect;if(gN==1){var n=X.i.clone();n.fH();
$=n.QB(K);O=u.J9.Bp}if(!O.Y3($))continue;var x=u.wu(31);return x?-2:Y}}return-1};r.gU.prototype.x5=function(c,o,K,u,X){this.dd=K;
this.caller=o;var $=c.Q.FT(X.x,X.y),O=this.GO==null;if(O){var n=r.gU.Zz(c,$);if(n==-2){alert(iV.get([6,57,0]));
return}if(n>=0&&!u.N(d2.Qx)){if(!hb.HK(c.s[n].add.TySh,K.ru,o)){alert("Fonts not loaded yet");return}this.EB(c,o,K,[n])}else{this.Oa=!0;
this.CP=X;return}}var x=O?-1:ii.DG(this.GO.add.TySh.Bz),l=this.Rl?this.Rl:this.jp,N=l&&l.x5(c,K,u,$,null,null,X)&&a.Pw.ex(this.GO.add.TySh.KB),f=!O&&a.A.at$($,this.GO.qP())>20/c.Q.U&&(x==0||x==1);
if(N||f){this.qX=!0;this.S3=$;this.abi=this.GO.add.TySh.i.clone();if(this.jN==-1&&this.w4==-1)this.jN=this.w4=this.x7($)}else{if(this.zI==null){alert("Fonts not loaded yet");
return}this.js=!0;this.jN=this.w4=this.x7($);var z=Date.now();if(z-this.ayw>300)this.aO=0;this.aO++;
this.ayw=z;if(this.aO==2)this.auA();if(this.aO==3)this.arW();if(this.aO>1){this.js=!1}}this.Kq();this.N_(c)};
r.gU.prototype.EB=function(c,o,K,u){var X=c.s[u[0]];this.GO=X;this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,XF:"showactive"});
this.M2=u;c.g=u.slice(0);c.v_();c.ZL=!0;this.T0=this.oi(c,u);this.xg(X.add.TySh);this.cN(c,K)};r.gU.prototype.xg=function(c){if(ii.DG(c.Bz)!=1)return;
var o=ii.Wy(c.Bz);o=new ez(0,0,o[2]-o[0],o[3]-o[1]);var K=[o.x,o.y,o.x+o.m,o.y,o.x+o.m,o.y+o.e,o.x,o.y+o.e];
a.A.i(K,c.i,K);this.jp=new bR(K,!1,!1,!1,!0);this.jp.fV(0)};r.gU.prototype.auA=function(){var c=ii.lo(this.GO.add.TySh.Bz);
this.jN=this.ayQ(c,this.jN);this.w4=this.acR(c,this.jN)};r.gU.prototype.ayQ=function(c,o){var K=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",u=[];
for(var Y=0;Y<K.length;Y++)u.push(K.charAt(Y));var X=u.indexOf(c[o])==-1?!0:!1;for(var Y=o-1;Y>=0;Y--)if(u.indexOf(c.charAt(Y))!=-1==X)return Y+1;
return 0};r.gU.prototype.acR=function(c,o){var K=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",u=[];for(var Y=0;
Y<K.length;Y++)u.push(K.charAt(Y));var X=u.indexOf(c[o])==-1?!0:!1;for(var Y=o+1;Y<c.length;Y++)if(u.indexOf(c.charAt(Y))!=-1==X)return Y;
return c.length-1};r.gU.prototype.arW=function(){var c=this.zI.az1(this.jN);this.jN=c[0];this.w4=c[1]};
r.gU.prototype.en=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.L3,Vp:this.Ti};c.I(o)};r.gU.prototype.Xo=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=this.GO;
if(!X.dm){var n="default",x=this.jp,l=this.Rl?this.Rl:x;if(l&&a.Pw.ex(O.add.TySh.KB)){var N=l.pz($,c.Q.U,null,X);
if(N)n=N;else if(l==x&&x.Js($))n="text"}else if(O&&a.A.at$($,O.qP())>20/c.Q.U)n="move";else if(r.gU.Zz(c,$)>=0)n="text";
if(n!=this.Ti){this.Ti=n;this.en(o)}}var f=this.CP;if(this.Oa&&Math.min(X.x-f.x,X.y-f.y)>4/c.Q.U){this.Oa=!1;
this.EL(c,o,K,u,X);O=this.GO;this.qX=!0;this.jp=new bR(null,!1,!1,!1,!0);this.jp.fV(0);var z=c.Q.FT(this.CP.x,this.CP.y);
z.x=Math.round(z.x);z.y=Math.round(z.y);this.jp.x5(c,K,u,z,null,null,X,c.Q.yp)}if(this.qX){var R=O.add.TySh;
if(this.Rl){this.Rl.Xo(c,K,u,$);var V=a.D.EV(a.D.ly(this.Rl.tK(),this.a6D));R.i=V;this.cN(c,K);ii.Bm(R)}else if(this.jp){this.jp.Xo(c,K,u,$);
var d=R.i.clone(),e=Math.atan2(d.J,d.V);d.rotate(e);var V=a.D.EV(a.D.ly(this.jp.tK())),p=Math.atan2(V.J,V.V);
V.rotate(p);if(!isNaN(V.V)&&V.V*V.gI-V.J*V.If!=0){var h=new ez(0,0,V.V/d.V,V.gI/d.gI),E=Math.round(h.m),q=Math.round(h.e),Z=R.Bz.Curve;
if(Z){var v=ii.Wy(R.Bz),W=new bE(E/v[2],0,0,q/v[3],0,0);a.A.i(Z.Points,W,Z.Points);ii.Bm(R)}ii.lf(R.Bz,[0,0,E,q]);
R.i=a.D.EV(a.D.ly(this.jp.tK(),h));this.cN(c,K);ii.Bm(R)}}else{var D=$.x-this.S3.x,I=$.y-this.S3.y;R.i=this.abi.clone();
var A=new kn(R.i.hW+D,R.i.qj+I);A=r.W7.Fx(c,A,K);R.i.hW=A.x;R.i.qj=A.y;this.cN(c,K)}}if(this.js)this.w4=this.x7($);
if(this.qX||this.js)this.N_(c)};r.gU.prototype.EL=function(c,o,K,u,X,$){var O=c.Dr(),n=O[0],x=O[1],l=c.uB();
l.add.lnsr="rend";var N=c.s.slice(0);l.XK("Text layer "+N.length);this.GO=l;var f=c.g.length==0?c.s.length-1:c.g[c.g.length-1],z=f+1;
if(N[f].add.lsct==aj.cD)z--;this.T0={mS:N.slice(0),AB:c.g.slice(0)};N.splice(z,0,l);c.g=[z];this.jN=this.w4=0;
c.QK(N);this.T0.Un=N.slice(0);this.T0.I1=c.g.slice(0);this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,XF:"showactive"});
var R=c.Q.FT(X.x,X.y),V=K.qH;console.log(V);if(this.id==r.aU){V=JSON.parse(JSON.stringify(V));V.W$.BaselineDirection=1}l.add.TySh=ii.eS(R.x,R.y,V,c.Q.yp);
var d=l.add.TySh,e=d.Bz;if(this.id==r.aU)e._LineOrientation=2;ii.l8(d,this.QD);d.im.VAlign.v=this.YC;
if(X.dm)ii.lG(e,1);else{ii.lG(e,0);var p=n[x.pop()],h=p?p.add.vmsk:null;if($)h=null;if(h&&!u.N(d2.Qx)){h=h.clone();
var E=h.$,Z,v;for(var Y=0;Y<E.length;Y++)if(E[Y].cS!=null)E[Y].cS=0;var q=5/c.Q.U;Z=a.o.cQ(h.$,R,!0,q);
if(Z.wM==-1)Z=a.o.cQ(h.$,R);if(Z.wM!=-1){ii.lG(e,1);var W=a.o.uM(E,Z.wM),D=a.o.ri(E,Z.wM)-1;E=h.$=E.slice(0,2).concat(E.slice(W,W+D+1));
h.g=[];d.add={vmsk:h,vogk:gU.$h(E)};e.Curve={};ii.$R(d);if(Z.kB!=null){var I=ag.MH(e.Curve);a.A.i(I[0],d.i,I[0]);
var A=a.A.dI(I[0],R.x,R.y),U=K.qH.Xi.Justification;if(U==2||U==5){var w=(I[2][A]+I[3]*.5)%I[3];A=ag.FC(w,I[2])}var t=I[1][A];
t=t%D;h.$C=[t,t];ii.$R(d)}else this.xg(d)}}}return l};r.gU.prototype.v$=function(c,o,K,u,X,$){if($){this.Oa=!1;
return}if(this.GO==null&&!this.Oa)return;var O=c.Q.FT(X.x,X.y),n=this.Oa;if(this.Oa){this.Oa=!1;this.EL(c,o,K,u,X);
this.js=!0}if(this.qX||this.js){this.N_(c);this.Kq();if(n)this.O0(K)}if(this.qX&&this.jp)this.jp.v$(c,K,u,O);
this.qX=this.js=!1;this.Xc.focus()};r.gU.prototype.Kq=function(){var c=this.GO.add.TySh,o=Math.min(this.jN,this.w4),K=Math.max(this.jN,this.w4),u,X;
if(o==K){var $=ii.lo(c.Bz);if(o==0||$.charAt(o-1)=="\n")u=X=o;else u=X=o-1}else{u=o;X=K-1}var O=ii.Ij(c.Bz,u,X);
ii.$x(O,c.i.ea());this.anI(this.caller,O,c)};r.gU.prototype.anI=function(c,o,K){this.vT(c,y.E.M,{Y:y.H.NU,EU:iD.al,qH:o});
var u=this.QD=ii.FN(K),X=this.YC=K.im.VAlign.v;this.vT(this.caller,y.E.M,{Y:y.H.Wu,f:this.id,XF:"changeOther",Lt:u,TJ:X})};
r.gU.prototype.Lz=function(c,o,K,u,X){if(c==null)return;var $=c.Q.FT(X.x,X.y),O=r.gU.Zz(c,$);if(O==-1)return;
var n=new ev(y.E.M,!0);n.data={Y:y.H.Wu,f:this.id,XF:"showpan",amL:this.GO!=null,Qb:O,UN:X,fk:c,dd:K};
o.I(n)};r.gU.prototype.aqn=function(){var c=this.GO;if(c&&!this.qX&&this.Rl!=null){var o=this.caller.pL();
this.Rl.v$(o,this.dd,null,null);this.Rl=null;this.xg(c.add.TySh);this.N_(o)}};r.gU.prototype.disable=function(c,o,K,u){var X=this.GO;
this.l0(c,o)};r.gU.prototype.sE=function(c,o,K,u,X){if(this.C8)return;if(c.XF=="commit")this.l0(K,o);
if(c.XF=="cancel")this.GB(K,o);if(c.XF=="changeOther"){this.QD=c.Lt;this.YC=c.TJ;if(K!=null)this.GN({Y:"updateStyles"},o,K,u,X)}if(c.XF=="showwarp"){if(K==null)return;
if(this.GO==null){var $=K.s[K.g[0]],O=$.add.TySh;if(O==null)return;this.EB(K,o,X,[K.g[0]]);this.Xc.focus();
this.C8=!0}this.atz=this.GO.add.TySh.KB;var n=new ev(y.E.M,!0);n.data={Y:y.H.Vl,n9:"textwarp"};o.I(n)}};
r.gU.prototype.VW=function(c,o){if(o!=iD.gk)return;if(this.Qo){this.Qo=!1;var K=this.caller.pL(),u=this.M2;
for(var Y=0;Y<u.length;Y++){this.GO=K.s[u[Y]];this.cN(K,c)}this.l0(K,this.caller);return}if(this.GO)this.O0(c)};
r.gU.prototype.CV=function(c,o){var K=JSON.parse(JSON.stringify(c.qH));ii.$x(K,1/o.i.ea());return K};
r.gU.prototype.eX=function(c,o){if(c.xB!=null)this.vS(o,c.WF);else this.amh(o,c.Un,c.I1)};r.gU.prototype.Bt=function(c,o){if(c.xB!=null)this.vS(o,c.xB);
else this.amh(o,c.mS,c.AB)};r.gU.prototype.vS=function(c,o){for(var Y=0;Y<o.length;Y++){var K=o[Y],u=K.U0,X=c.s[u];
X.buffer=K.OQ;X.rect=K.aB.clone();X.d();X.J9.Y1=null;X.J9.path=null;var $=X.add.TySh;$.KB=K.Pw;$.FD=K.FD.clone();
$.i=K.i.clone();$.Bz=JSON.parse(JSON.stringify(K.Bz));X.RE()}c.d()};r.gU.prototype.oi=function(c,o){var K=[];
for(var Y=0;Y<o.length;Y++){var u=o[Y],X=c.s[u],$=X.add.TySh;K.push({U0:u,i:$.i.clone(),Pw:JSON.parse(JSON.stringify($.KB)),FD:$.FD.clone(),Bz:JSON.parse(JSON.stringify($.Bz)),OQ:X.buffer.slice(0),aB:X.rect.clone()})}return K};
r.gU.prototype.amh=function(c,o,K){c.g=K;c.QK(o);c.d();c.rH=!0};r.gU.prototype.cN=function(c,o,K){if(K==null)K=!1;
var u=this.GO.add.TySh;if(!hb.HK(u,o.ru,this.caller))return!1;if(!K){var X=ii.lo(u.Bz);this.Xc.value=X.slice(0,X.length-1)}var $=this.GO.rect,O=hb.cN(this.GO,o.ru,c);
this.zI=O[1];var n=this.zI.I4();if(a.Pw.ex(u.KB))u.FD=new ez;else{if(ii.DG(u.Bz)==1){var x=ii.Wy(u.Bz),cv=n.y;
u.FD=new ez(0,cv,x[2]-x[0],x[3]-x[1]-cv)}else u.FD=n}c.HR();if(O[2])c.d(c.root.lz(O[2].aB.X3($),c,c.s.indexOf(this.GO)));
return!0};r.gU.prototype.Uc=function(c,o){if(this.GO==null||this.C8)return;var K=this.Xc.selectionStart,u=this.GO.add.TySh,X=ii.lo(u.Bz),$=this.Xc.value+"\n",O=Math.min(this.jN,this.w4),n=Math.max(this.jN,this.w4),z=!1;
this.jN=Math.min(K,O);if($.length-K<X.length-this.w4)this.w4=X.length-$.length+K;if(X!=$){while(this.jN>0&&X.charAt(this.jN-1)!=$.charAt(this.jN-1))this.jN--}var x=X.substring(0,this.jN),l=X.substring(this.w4,X.length),N=$.substring(this.jN,$.length-l.length);
ii.Ki(u.Bz,this.jN,this.w4);ii.FO(u.Bz,this.jN,N);if(o!=null)ii.a27(u.Bz,this.jN,o);var f=this.CV(this.dd,u),R=-1,V=Array.from(N);
for(var Y=0;Y<V.length;Y++)R=Math.max(R,V[Y].codePointAt(0));if(R!=-1&&R>128&&R!=65533&&f.W$.Font!=null){var d=f.c9[f.W$.Font].Name,e=this.dd.ru.bH(R,d,f.c9);
if(d!=e){ii.CQ(f,e);z=!0}}if(this.TC!=null&&N==this.TC){var p=JSON.parse(this.am9);ii.$x(p,1/u.i.ea());
f.W$=p.W$;f.c9=p.c9;z=!0}ii.r2(u.Bz,this.jN,this.jN+N.length-1,f);this.jN=this.w4=x.length+N.length;
var h=this.caller.pL(),E=this.cN(h,this.dd,!0);if(E)this.N_(h,!0);if(z)this.Kq()};r.gU.prototype.ayv=function(c){var o=d2;
if(!c.ctrlKey)this.aqn();c.stopPropagation()};r.gU.prototype.aco=function(c){c.stopPropagation();var o=c.ctrlKey||c.metaKey,K=d2,x=0,l=0,E=0,L=!1;
if(this.GO==null||this.C8)return;if(this.GO==null)return;if(this.caller.f2.ZG())return;var u=this.caller.pL();
if(this.Rl==null&&o){var X=this.GO.add.TySh,$=ii.DG(X.Bz),O;if($==1){O=ii.Wy(X.Bz);O=new ez(0,0,O[2]-O[0],O[3]-O[1])}else O=this.zI.I4();
var n=[O.x,O.y,O.x+O.m,O.y,O.x+O.m,O.y+O.e,O.x,O.y+O.e];a.A.i(n,X.i,n);this.Rl=new bR(n,!0,!0,!1,!1);
this.Rl.fV(0);this.a6D=O;this.N_(u)}if(K.y3(c.code,K.Sk))x=1;if(K.y3(c.code,K.Lw))x=-1;if(K.y3(c.code,K.hF))l=-1;
if(K.y3(c.code,K.N5))l=1;var N=K.y3(c.code,d2.W3),f=K.y3(c.code,d2.a2B);if(K.y3(c.code,d2.m8)&&o){this.l0(u,this.caller);
return}if(K.y3(c.code,d2.G$)){this.GB(u,this.caller);return}if(K.y3(c.code,d2.q2)){c.preventDefault();
var z=this.Xc,R=z.value,V=z.selectionStart,d=z.selectionEnd;z.value=R.substring(0,V)+"\t"+R.substring(d);
z.selectionStart=z.selectionEnd=V+1;this.Uc(null);return}var e=K.y3(c.code,K.v0),p=K.y3(c.code,K.pS);
if(o&&(e||p)){c.preventDefault();var h=new ev(y.E.v,!0);h.f=r.Hu;h.data={Y:"zoom",hI:e};this.caller.I(h)}if(K.y3(c.code,K.uT))E=1;
if(K.y3(c.code,K._k))E=-1;var q=this.jN==this.w4,Z=o&&c.shiftKey&&E!=0&&!q;if(Z||c.altKey&&x!=0){var v=JSON.parse(JSON.stringify(this.dd.qH));
if(Z){var W=v.W$.FontSize;if(W==null)W=16;v.W$.FontSize=Math.max(1,W+E*(c.altKey?5:1))}else{if(q){v.W$.Kerning+=20*x;
v.W$.AutoKerning=!1}else v.W$.Tracking+=20*x}c.preventDefault();var D=new ev(y.E.M,!0);D.data={Y:y.H.NU,EU:iD.al,qH:v};
this.caller.I(D);var h=new ev(y.E.v,!0);h.f=r.kO;h.data={Y:"updateStyles"};this.caller.I(h);return}if((K.y3(c.code,K.y6)||K.y3(c.code,K.Ji))&&o){var I=this.jN,A=this.w4;
if(I>A){var U=I;I=A;A=U}var X=this.GO.add.TySh,w=ii.lo(X.Bz);if(I!=A){this.TC=w.slice(I,A);this.am9=JSON.stringify(this.dd.qH)}}var t=ii.lo(this.GO.add.TySh.Bz);
if(x!=0||l!=0||N||f){c.preventDefault();var J=this.jN;if(x!=0){if(o&&x==-1)J=this.ayQ(t,this.jN-1);else if(o&&x==1)J=this.acR(t,this.jN);
else{var z=this.Xc,R=z.value;J=this.jN+x;if(J!=0&&R.codePointAt(J-1)>65535)J+=x}}else if(l!=0){var b=this.zI.Vc(this.jN);
if(l==-1&&b.vE==0)J=0;else if(l==1&&b.vE==this.zI.abJ()-1)J=99999999999;else J=this.zI.aBS(new kn(b.aB.x+b.aB.m/2,0),b.vE+l)}else if(N){var F=this.jN-1;
while(F>0&&t.charCodeAt(F)!=10)F--;J=F==0?0:F+1}else if(f){var F=this.jN;while(F<t.length-1&&t.charCodeAt(F)!=10)F++;
J=F}J=Math.max(0,Math.min(t.length-1,J));if(c.shiftKey)this.jN=J;else this.jN=this.w4=J;L=!0}if(K.y3(c.code,d2.H)&&o){this.jN=0;
this.w4=t.length-1;L=!0}if(L){this.Kq();this.N_(u)}};r.gU.apl=function(c,o){var K=c.length;if(K!=o.length)return!1;
for(var Y=0;Y<K;Y++)if(c[Y].U0!=o[Y].U0)return!1;return!0};r.gU.prototype.l0=function(c,o,K){if(this.GO==null)return;
this.GO.RE();var u=this.T0;if(u instanceof Array){var X=this.oi(c,this.M2),$=c.qF();if($!=null&&$.f==this&&$.data.xB&&r.gU.apl($.data.xB,u)&&K)$.data.WF=X;
else{var O=new gv(this.name,this);O.data={xB:u,WF:X};c.bs(O)}}else{var O=new gv(this.name,this);O.data={mS:u.mS,Un:u.Un,AB:u.AB,I1:u.I1};
c.bs(O)}this.escape(c,o)};r.gU.prototype.GB=function(c,o){if(this.GO==null)return;if(this.T0 instanceof Array){this.vS(c,this.T0);
if(this.GO)ii.Bm(this.GO.add.TySh)}else{c.g=this.T0.AB;c.QK(this.T0.mS);c.rH=!0}c.d();this.escape(c,o)};
r.gU.prototype.escape=function(c,o){this.aqn();this.GO=null;this.M2=null;this.zI=null;this.jp=null;this.Xc.blur();
c.S.nO=null;c.S.A_=null;c.S.vM=[];c.Jn=!0;this.qX=!1;this.js=!1;this.jN=this.w4=-1;this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,XF:"hideactive"});
if(this.c7){var K=new ev(y.E.M,!0);K.data={Y:y.H.VO,f:this.c7};o.I(K);this.c7=null}};r.gU.prototype.vT=function(c,o,K,u){var X=new ev(o,!0);
X.data=K;if(u)X.f=u;c.I(X)};r.gU.prototype.x7=function(c){var o=this.GO.add.TySh,K=this.zI,u=o.i.clone();
u.fH();var X=u.QB(c),$=ii.G5(o,K),O=a.Pw.N1(o.KB,$),n=a.ul.Tx(O,X);if(n==null)n=new Float64Array(2);
X=new kn($.x+n[0]*$.m,$.y+n[1]*$.e);if(K.nA){var x=K.nA.clone();x.fH();X=x.QB(X)}var l=K.aBS(X);return l};
r.gU.prototype.N_=function(c,o){if(o==null)o=!1;var K=this.GO.add.TySh,u=ii.DG(K.Bz),X=this.zI,$=X?ii.G5(K,X):null;
c.S.vM=[];c.S.nO=null;c.S.A_=null;var O=this.Rl?this.Rl:this.jp;if(O){O.SX(c,this.dd,!a.Pw.ex(K.KB));
var n=K.i.clone();n.fH();if(X&&X.nA&&X.RL==1){var x=X.nA.clone();x.fH();n.concat(x)}a.A.i(c.S.vM,n,c.S.vM);
a.A.i(c.S.nO.j,n,c.S.nO.j);if(X&&X.nA==null&&X.ag2()){var l=$.m-20,N=$.e+8;c.S.nO.j.push(l,N,l+10,N,l+5,N-5,l+5,N+5);
c.S.nO.G.push("M","L","M","L")}}else if(u==0)this.avT(c,K,X);else c.S.nO={j:[],G:[]};var f=Math.min(this.jN,this.w4),z=Math.max(this.jN,this.w4);
if(!o){this.Xc.selectionStart=f;this.Xc.selectionEnd=z}if(X!=null){var R=function(O,q){var Z=O.x,v=O.y+O.e,W=new bE;
W.translate(-Z,-v);W.rotate(-q);W.translate(Z,v);O.y+=O.e*.27;var E=a.A.W6(O);a.A.i(E.j,W,E.j);return E};
if(f==z){f=Math.max(f,0);var V=X.Vc(f);if(V){var d=V.aB,e=this.dd.qH.W$.FontSize;if(e!=null&&e!=0){e/=K.i.ea();
d.y+=d.e-e;d.e=e}var p=X.a47(f);if(p!=null&&p.RW==1)d.x+=d.m;var h=R(d,V.yp).j;c.S.nO.G.push("M","L");
c.S.nO.j.push(h[0],h[1]-1,h[6],h[7]-1)}}else{c.S.A_={j:[],G:[]};for(var Y=f;Y<z;Y++){var V=X.Vc(Y),E=R(V.aB,V.yp);
a.A.concat(c.S.A_,E)}}}c.S.nO=hb.AS(c.S.nO,K,X,!0);c.S.A_=hb.AS(c.S.A_,K,X,!0);c.S.vM=hb.AS({j:c.S.vM},K,X,!0).j;
c.Jn=!0};r.gU.prototype.avT=function(c,o,K){if(K==null)return;c.S.vM.push(0,0);if(c.S.nO==null)c.S.nO={G:[],j:[]};
for(var Y=0;Y<K.Xi.length;Y++){var u=K.Xi[Y];for(var X=0;X<u.qw.length;X++){var $=u.qw[X],O=u.J1.x+$.J1.x+$.aB.x,n=u.J1.y+$.J1.y+$.aB.y+$.aB.e;
c.S.nO.G.push("M","L");c.S.nO.j.push(O,n,O+$.aB.m,n)}}c.Jn=!0};r.pr=function(){r.gU.call(this,!0)};r.pr.prototype=new r.gU;
r.VH=function(c){r.mW.call(this,c?"Magic Replace":[10,9],c?r.awF:r.Qp,c?"tools/mremove":"tools/lasso");
this.Pp="crosshair";this.oE=null;this.jm=null;this.S3=null};r.VH.prototype=new r.mW;r.VH.prototype.tT=function(c,o,K,u){this.oE=this.hD;
this.jm={j:[this.oE.x,this.oE.y],G:["M"]}};r.VH.prototype.Al=function(c,o,K,u){this.S3=u;var X=this.jm;
if(X==null)return;if(!u.dm){if(this.jm!=null&&this.UK.Pq(1)&&K.N(d2.u6)){X.j.pop();X.j.pop();X.j.push(this.X0.x,this.X0.y);
c.S.nO=X;c.Jn=!0}return}X.G.push("L");X.j.push(this.X0.x,this.X0.y);this.oE=this.X0;if(this.MV){c.S.nO=X;
c.Jn=!0}};r.VH.prototype.I2=function(){return this.jm!=null};r.VH.prototype.rs=function(){return this.jm!=null};
r.VH.prototype.y9=function(c,o,K,u){r.mW.prototype.y9.call(this,c,o,K,u);if(this.jm&&this.UK.Pq(1)&&this.S3&&!this.S3.dm&&!u.N(d2.u6))this.ax_(c,K,u)};
r.VH.prototype.cF=function(c,o,K,u){this.S3=u;var X=this.jm;if(X==null)return;if(this.UK.Pq(1)&&K.N(d2.u6)){X.G.push("L");
X.j.push(this.X0.x,this.X0.y);return}this.ax_(c,o,K)};r.VH.prototype.ax_=function(c,o,K){this.finish(c,o,K,this.S3);
this.jm=null;c.S.nO=null;c.Jn=!0};r.VH.prototype.getSelection=function(c,o,K,u){if(this.hD.Ug(this.X0)||!this.MV)return null;
return r.mW.VA(this.jm.j,null,this.OS.anta)};r.W7=function(){r.vV.call(this,[10,11],r.DA,"tools/move");
this.Na=new kn(0,0);this.Jd=new kn(0,0);this.K4=null;this.Vm=null;this.tC=new kn(0,0);this.R4=null;this.RU=null;
this.M0=null;this.A7=0;this.PC=null;this.Yf=[];this.eV=null;this.tt=null;this.c2=!1;this.Y=0;this.UY=null;
this.iH=null;this.f7=null;this.U$=!1;this.OS={cu:!0,cT:!1,bn:!1,a2y:1};this.aaU=!1;this.amR=!1;this.jp=null;
this.D8=null;this.fd=null;var c=[];for(var Y=0;Y<a.Pj.gm.length;Y++)c.push({name:a.Pj.gm[Y],w:function(o,K,u){return{zS:K.RG.MF==u}}});
this.ph=new jf(c);this.ph.B("select",this.Ie,this)};r.W7.prototype=new r.vV;r.vV.prototype.Wp=function(c){return this.c2&&this.Y!=2};
r.W7.prototype.ak6=function(){return this.c2&&(this.Y==0||this.Y==1)};r.W7.prototype.YM=function(c,o,K,u){this.Jg(c,-this.tC.x,-this.tC.y);
this.tC.Q7(0,0);this.n0(c,null,K);this.np(c)};r.W7.prototype.eA=function(){var c=this.OS;return[c.cu?1:0,c.cT?1:0,c.bn?1:0]};
r.W7.prototype.YF=function(c,o,K){var u=this.OS;if(c&&c[0]!=null)u.cu=c[0]==1;if(c&&c[1]!=null)u.cT=c[1]==1;
if(c&&c[2]!=null)u.bn=c[2]==1;var X=new ev(y.E.M,!0);X.data={Y:y.H.Wu,f:this.id,oq:u,a9I:o};K.I(X)};
r.W7.ajJ=function(c,o,K,u,X,$,O){if(O==null)O=[!1,!0];var n=c.Dk(null,X,!0),x,l=X==null?c.g[0]:X;if(c.add.artd&&(X!=null||c.g.length==1)&&c.s[l].add.artb){var N=c.s[l].rA();
x=c.lg(n,N,N)[0]}else{var f=new ez(0,0,c.m,c.e),x=c.lg(n,O[0]?f:null,O[1]?null:f)[0];delete x.add.artd;
if(O[1]){var z=a.pD(x.i9(),new ez(0,0,x.m,x.e),2);r.zm.H3(x,z)}}if(K!=1){var R=new ez(0,0,Math.round(x.m*K),Math.round(x.e*K));
r.zm.H3(x,R);var V=[];for(var Y=0;Y<x.s.length;Y++)V.push(Y);var d=r.W.XH(x,V,!0);r.zm.KM(x,new bE(K,0,0,K,0,0));
r.W.YS(x,u,V,d,1,a.D.I_(new bE(K,0,0,K,0,0)),null,!0);x.Lx()}var e=[];for(var Y=0;Y<o.length;Y++)if(x.m*x.e!=0)e.push(c5.PY(x,o[Y].toUpperCase(),null,null,$?$[Y]:null,u));
return e};r.W7.prototype.a7K=function(c,o,K,u,X){if(c==null||c.g.length==0)return;var $=r.W7.ajJ(c,[o],K,u,null)[0],O=new ev(y.E.M,!0);
O.data={Y:y.H.fe,data:$,name:c.s[c.g[0]].getName()+(K==1?"":"@"+K+"x")+"."+o};X.I(O)};r.W7.prototype.sE=function(c,o,K,u,X){if(c.D$=="getPNG"){this.a7K(K,"png",c.og,X,o)}else if(c.D$=="getSVG"){this.a7K(K,"svg",c.og,X,o)}if(c.D$=="prms"){this.OS=c;
this.np(K)}};r.W7.ant=function(c){var cv=c.length,K=0;c.sort(function($,O){return $[0]+$[1]/2-(O[0]+O[1]/2)});
var o=c[cv-1][0]+c[cv-1][1]-c[0][0];for(var Y=0;Y<cv;Y++)K+=c[Y][1];var u=Math.round((o-K)/(cv-1)),X=c[0][0];
for(var Y=0;Y<cv;Y++){c[Y][0]=X;X+=c[Y][1]+u}};r.W7.prototype.GN=function(c,o,K,u,X){var $=c.Y;if($=="trsl"){var O=Math.round(c.ln),n=Math.round(c.B1);
this.tC.Q7(O,n);this.Fp(K,o,u,X,!1,c.l);this.Jg(K,O,n);this.n0(K,null,X)}else if($=="fcmy"||$=="fvec"){var x=["RGB","CMYK"][c.b]+" Color";
if($=="fvec")x=["Raster","Vector"][c.b]+" Mode";var l=new gv(x,this);l.data={Y:c.Y,Ak:K.add[$]==null?0:K.add[$],qU:c.b};
K.bs(l);this.eX(l.data,K)}else if($=="pview"){var $=new gv([8,14],this);$.data={Y:c.Y};K.bs($);this.eX($.data,K)}else if($=="lockguides"){if(K)K.yn=!K.yn}else if($=="gids"||$=="gidsFromLayer"){var N=c.iH,f,z;
if(N==null)N=K.Tf();if($=="gids"){f=c.Um;var R=N[0].length,V=f[0].length;z=R==V?[23,2]:R>V?[23,3]:[23,4];
if(V==0)z=[11,15,0]}else if($=="gidsFromLayer"){var d=[],e=[],p=K.bl();for(var Y=0;Y<K.g.length;Y++){var h=K.s[K.g[Y]].rect;
if(h.SR())continue;d.push([0,h.x],[1,h.y],[0,h.x+h.m],[1,h.y+h.e]);e.push(p,p,p,p)}z=[11,15,1];f=K.Tf();
r.W7.KJ(f,[d,e])}if(JSON.stringify(N)==JSON.stringify(f))return;var $=new gv(z,this);$.data={Y:2,iH:N,Um:f};
K.bs($);this.eX($.data,K)}else if($=="algn"){var E=c.b;if(K==null)return;if(K.g.length<2&&!(K.u!=null&&E!=3&&E!=7)){alert(iV.get([15,7,5]));
return}var q=K.u;K.u=null;var h=q?q.rect:r.W.G5(K);this.Fp(K,o,u,X,!1);if(!this.c2)return;var Z=this.PC,v={},W=[],D=[],I=[];
for(var Y=0;Y<Z.length;Y++){var A=Z[Y];while(K.s[A].getName()=="</Layer group>")A++;var U=K.root.g4(A),w=U;
while(U.parent!=null){U=U.parent;if(Z.indexOf(U.index)!=-1)w=U}var t=D.indexOf(w.index);if(t==-1){t=D.length;
D.push(w.index)}W[Y]=t}var L=[],J=[],b=[];for(var Y=0;Y<D.length;Y++){var F=r.W.G5(K,K.Dk(!0,D[Y]));
b.push(F);var B=E==3?[F.y,F.e]:[F.x,F.m];L[Y]=B;J.push(B)}r.W7.ant(J);for(var Y=0;Y<D.length;Y++){var F=b[Y],k=F.x,i=F.y;
if(E==0)k=h.x;if(E==1)k=h.x+(h.m-F.m)/2;if(E==2)k=h.x+(h.m-F.m);if(E==3)i=L[Y][0];if(E==4)i=h.y;if(E==5)i=h.y+(h.e-F.e)/2;
if(E==6)i=h.y+(h.e-F.e);if(E==7)k=L[Y][0];I.push(Math.round(k-F.x),Math.round(i-F.y))}var H=[];for(var Y=0;
Y<Z.length;Y++){var m=W[Y];H[2*Y]=I[2*m];H[2*Y+1]=I[2*m+1]}this.Jg(K,0,0,null,H);var j=E==3||E==7?[20,4,6]:[20,4,E<3?E:E-1];
this.n0(K,null,X,H,j);K.u=q}else if($=="disabAuto"){this.YF([!1],null,o)}};r.W7.KJ=function(c,o){for(var Y=0;
Y<o[0].length;Y++){var K=o[0][Y],u=o[1][Y],X=!1;for(var $=0;$<c[0].length;$++){var O=c[0][$],n=c[1][$];
if(K[0]==O[0]&&K[1]==O[1]&&u==n)X=!0}if(!X){c[0].push(K.slice(0));c[1].push(u)}}};r.W7.prototype.enable=function(c,o,K,u,X){this.RU=K;
this.M0=o;this.U$=X?!0:!1;this.np(c);this.en("default",o);this.y9(c,o,K,u)};r.W7.prototype.disable=function(c,o,K,u){this.a0Q(c)};
r.W7.prototype.a0Q=function(c){if(c==null)return;if(this.jp){this.jp.clear(c);this.jp=null}if(c.S.bn){c.S.bn=null;
c.Jn=!0}if(c.S.aH){c.S.aH=null;c.Jn=!0}if(c.S.m7[this.id]){delete c.S.m7[this.id];c.Jn=!0}if(c.S.Uo.length!=0){c.S.Uo=[];
c.Jn=!0}};r.W7.prototype.fb=function(c,o,K,u){if(K.lm!=this.id)return;this.np(c)};r.W7.prototype.np=function(c,o){if(c==null)return;
var K=this.OS;this.a0Q(c);if(!this.U$){var u;if(K.cT||K.bn)u=a.A.Qt(r.W.G5(c));if(K.cT&&!u.SR()){var X=c.s[c.g[0]],$=a.A.W6(u).j;
if(gN==1&&c.g.length==1){if(X.add.vmsk)$=X.add.vmsk.afu();if(X.add.SoLd)$=r.W.sS(X.add.SoLd.nonAffineTransform);
if(X.add.TySh){$=a.A.W6(X.J9.Bp).j;a.A.i($,X.add.TySh.i,$)}}this.jp=new bR($,!0);this.jp.SX(c,this.RU)}if(K.bn){var O=null,z=null,R=!1;
if(c.bl()!=-1)O=c.s[c.bl()].rA();else O=new ez(0,0,c.m,c.e);c.S.bn={ZS:[u],xh:[]};var n=c.S.bn.xh,x=u.x+u.m,l=u.y+u.e,N=u.x+Math.floor(u.m/2),f=u.y+Math.floor(u.e/2);
if(o){var V=c.root.cQ(new kn(Math.floor(o.x),Math.floor(o.y)));if(V){z=a.A.Qt(V.l.qP(c));if(z.Yd(u)){R=(z.v8(u)||u.v8(z))&&!u.Ug(z);
if(!R)z=null}}}this.adp(u,n);if(z!=null){c.S.bn.ZS.push(z);var d=z.x+z.m,e=z.y+z.e,p=z.x+Math.floor(z.m/2),h=z.y+Math.floor(z.e/2);
if(R){var E=N,q=f;if(u.v8(z)){E=p;q=h}n.push(u.x,q,z.x,q);n.push(x,q,d,q);n.push(E,u.y,E,z.y);n.push(E,l,E,e)}else{this.adp(z,n);
var Z=l<z.y||e<u.y,v=x<z.x||d<u.x;if(x<z.x)n.push(x,f,z.x,f);if(d<u.x)n.push(d,f,u.x,f);if(l<z.y)n.push(N,l,N,z.y);
if(e<u.y)n.push(N,e,N,u.y);if(Z&&!v){if(u.x<z.x)n.push(u.x,h,z.x,h);if(z.x<u.x)n.push(z.x,f,u.x,f)}}}else{if(u.y>O.y)n.push(N,O.y,N,u.y);
if(l<O.y+O.e)n.push(N,l,N,O.y+O.e);if(u.x>O.x)n.push(O.x,f,u.x,f);if(x<O.x+O.m)n.push(x,f,O.x+O.m,f)}c.Jn=!0}}if(this.Y==2&&this.c2){var W=new ez(0,0,c.m,c.e),D=c.bl();
if(D!=-1){var I=c.Tf(),A=I[1][this.PC];if(A==-1)A=D;W=c.s[A].rA()}var U=c.qb[this.PC],w=U[0],t=(w==0?"X":"Y")+": "+a.Pj.IL(U[1]-(w==0?W.x:W.y),c.$M,this.RU,w==0?W.m:W.e,!0);
r.vV.Ep(Math.round(this.K4.x)+10,Math.round(this.K4.y)-10,[t],c);c.Jn=!0}if(this.Y==3&&this.c2){var L=a.A.W6(this.UY);
c.S.m7[this.id]={nO:L};c.Jn=!0}};r.W7.prototype.adp=function(c,o){var K=c.m,u=c.e,X=c.x+Math.floor(K*.2),$=c.y+Math.floor(u*.2);
o.push(X,c.y,X,c.y+u);o.push(c.x,$,c.x+K,$)};r.W7.prototype.en=function(c,o){var K={Y:y.H.L3,Vp:c},u=new ev(y.E.M,!0);
u.data=K;o.I(u)};r.W7.prototype.VP=function(c){var o=this.D8.rC()[0];if(o==this.fd.length){var K=new ev(y.E.M,!0);
K.data={Y:y.H.JW,GA:"psd"};this.M0.I(K);return}var u=this.R4,X=this.fd[o];this.akg(u,X)};r.W7.prototype.Ie=function(c){var o=JSON.parse(JSON.stringify(this.RU.RG));
o.MF=this.ph.rC()[0];var K=new ev(y.E.M,!0);K.data={Y:y.H.NU,EU:iD.V2,qU:o};this.M0.I(K)};r.W7.prototype.Lz=function(c,o,K,u,X){if(this.c2)this.v$(c,o,K,u,X);
this.R4=c;this.RU=K;this.M0=o;var $=c.Q.FT(X.x,X.y),O;if(r.W7.Py(K,X,c.Q)){O=this.ph}else{if(this.D8)this.D8.removeEventListener("select",this.VP);
var n=[];c.root.cQ($,n);if(n.length==0)return;var x=[];this.fd=n;for(var Y=0;Y<n.length;Y++)x.push({name:c.s[n[Y]].getName(),ql:Y==n.length-1});
x.push({name:[1,18],PS:!0});O=this.D8=new jf(x);O.B("select",this.VP,this)}O.parent=o;O._();O.update(c,K);
var l=new ev(y.E.M,!0);l.data={Y:y.H.B2,KH:O,x:X.ct+2,y:X.TY+1};o.I(l)};r.W7.prototype.aDM=function(c,o,K,u,X){var $=r.W7.iD(c,X);
return $!=-1||r.W7.Py(K,X,c.Q)};r.W7.iD=function(c,o){if(c==null||c.add.artd==null)return-1;var K=c.Q.FT(o.x,o.y),u=12*r.Sm()/c.Q.U;
for(var Y=0;Y<c.s.length;Y++){var X=c.s[Y];if(!X.IT()||X.add.artb==null)continue;var $=X.rA(),O=new ez($.x,$.y-1.7*u,u*X.getName().length*.5,u);
if(O.Y3(K))return Y}return-1};r.W7.prototype.x5=function(c,o,K,u,X){var $=r.W7.iD(c,X),O=r.W7.a3k(c,c.Q.FT(X.x,X.y));
if($!=-1){c.g=[$];if(K.lm==r.DA){var n=new ev(y.E.M);n.data={Y:y.H.VO,f:r.vg};o.I(n)}return}if(O!=-1){c.Q.KI=O;
c.So=!0;var n=new ev(y.E.M,!0);n.data={Y:y.H.P8,n9:cs.Bl.a94};o.I(n);return}this.K4=X;this.Na.Q7(X.x,X.y);
this.Jd=c.Q.FT(X.x,X.y);this.Vm=new i$(this.Jd);this.Fp(c,o,u,K,!0)};r.W7.Py=function(c,o,K,u){var X=a.Pj.U5,$=K.fE.e;
return c.zo&&(0<o.x&&o.x<X||0<o.y&&o.y<X||u&&0<o.x&&o.x<4*X&&$-X<o.y&&o.y<$)};r.W7.prototype.Fp=function(c,o,K,u,X,$){var O,n=this.Jd,x=!1;
if(X){var l=u.ja&&u.RG.qb;if(r.W7.Py(u,this.Na,c.Q)){O=c.Tf();var N=c.Tf(),f=null;if(this.Na.x<a.Pj.U5){f=[0,n.x]}if(this.Na.y<a.Pj.U5){f=[1,n.y]}N[0].push(f);
N[1].push(c.bl(!0));c.$w(N);if(!l){var z=new ev(y.E.M);if(!u.RG.qb){z.data={Y:y.H.NU,EU:iD.mR};o.I(z)}if(!u.ja){z.data={Y:y.H.NU,EU:iD.pn};
o.I(z)}l=!0}}var R=this.aq5(c,n);if(l&&R!=null&&!c.yn){this.Y=2;this.iH=O?O:c.Tf();this.PC=R;this.c2=!0;
this.tt=r.W.G5(c);return}if(c.LL.length!=0){this.Y=4;this.tt=c.lr[c.LL[0]].rect.clone();this.c2=!0;return}if(this.jp&&this.jp.pz(n,c.Q.U,!0,this.K4)!=null){var z=new ev(y.E.M);
z.data={Y:y.H.VO,f:r.Le,a3L:!0};o.I(z);return}if(c.u&&c.u.rect.Y3(n)){var V=Math.round(n.x),d=Math.round(n.y),e=c.u.rect;
x=c.u.channel[(d-e.y)*e.m+V-e.x]>128}if(!x&&(!this.U$&&this.OS.cu||this.U$&&this.OS.cu&&(K.N(d2.Qx)||c.g.length<2))){var p=this.aB1(c,n,K);
if(!p){c.g=[];c.mU=null;c.rH=c.AZ=!0;this.Y=3;this.UY=new ez;this.c2=!0;return}}if(K.N(d2.u6)&&!x){var h=new ev(y.E.v);
h.f=r.KX;h.data={Y:gU.vi,a12:!0};o.I(h)}}if(c.LL.length!=0){this.Y=4;this.tt=c.lr[c.LL[0]].rect.clone();
this.c2=!0;return}this.PC=c.Dk($==null,$,null,!0);for(var Y=0;Y<this.PC.length;Y++){var E=this.PC[Y],q=c.s[E];
if(q.wu(2)||q.wu(31)||c.US(E)){alert(iV.get([6,57,0]));return}}if(c.add.artd&&X){var Z=this.PC,v=!1;
for(var Y=0;Y<Z.length;Y++)if(c.s[Z[Y]].add.artb)v=!0;if(!v){this.eV=[c,c.s.slice(0),c.g.slice(0),-1];
this.PC.sort(function(L,J){return L-J})}}this.Yf=r.W7.ado(c,this.PC);this.Y=0;if(c.u&&(!X||x)&&c.g.length==1&&c.n_(!1)){if(!c.aiP()){this.c2=!1;
return}var W=c.s[c.g[0]],D=K.N(d2.u6);this.Y=1;var I=c.history[c.Wi];if(I.f==this&&I.data.Y==1&&I.data.l==c.g[0]&&W.Xx==W.X1.Xx&&!D){this.f7=I}else{var A=W.X1,U=!1,w;
if(!W.t1(c,c.u)||D){U=!0;W.Cd(c,c.u,D)}if(W.X1.Xx<=0){w=a.R(W.X1.UF.length>>2);a.Sw(W.X1.UF,w,3)}else w=c.u.channel.slice(0);
var t={rect:W.X1.bN.clone(),channel:w};this.f7=new gv(D?[12,53]:[12,54],this);this.f7.data={Y:1,l:c.g[0],X1:W.X1,B7:A,kc:U,AB:c.u,I1:t,gI:new kn(0,0)};
c.bs(this.f7);c.u=t;c.sG=!0}}this.c2=!0;this.tt=r.W.G5(c)};r.W7.prototype.aB1=function(c,o,K){var u=c.root.cQ(new kn(Math.floor(o.x),Math.floor(o.y)));
if(u){if(u.l.add.vmsk)c.Jn=!0;var X=c.s.indexOf(u.l);if(this.OS.a2y==0){var $=c.root.g4(X);while($.parent&&$.parent.depth!=0&&$.parent.l.add.artb==null)$=$.parent;
X=$.index}if(K.N(d2.Qx)){var O=c.g.indexOf(X);if(O==-1)c.g.push(X);else if(c.g.length>1)c.g.splice(O,1)}else if(c.g.indexOf(X)==-1){this.akg(c,X)}}return u!=null};
r.W7.prototype.akg=function(c,o){c.s[o].Xx=0;c.g=[o];c.mU=null;c.v_();c.ZL=!0;c.rH=!0};r.W7.a3k=function(c,o){var K=c.add.Anno;
if(K==null||K.length==0)return-1;var u=30/c.Q.U;for(var Y=0;Y<K.length;Y++)if(new ez(K[Y][0],K[Y][1],u,u).Y3(o))return Y;
return-1};r.W7.prototype.Xo=function(c,o,K,u,X){this.K4=X;var $=c.Q.FT(X.x,X.y),R,V;if(this.Vm&&this.Y<2)$=this.Vm.Fl($,u);
if(!this.c2){if(K.ja&&K.RG.qb&&c&&!c.yn){var O=this.aq5(c,$),n="default",x=r.W7.iD(c,X);if(O!=null)n=["col-resize","row-resize"][c.qb[O][0]];
else if(this.jp){var l=this.jp.pz($,c.Q.U,null,X);if(l)n=l}else if(x!=-1||r.W7.a3k(c,$)!=-1){n="pointer"}this.en(n,o)}this.np(c,$);
return}var N=this.Jd,f=Math.round($.x-N.x)-this.tC.x,z=Math.round($.y-N.y)-this.tC.y;if(this.tt){if(this.Y==2){var d=[];
if(c.u)d.push(c.u.rect);if(this.tt)d.push(this.tt);if(c.Q.cI)d.push(c.Q.cI);$=r.W7.Fx(c,$,K,[!1,d,!0,!0])}else{V=this.tt.clone();
V.offset(this.tC.x+f,this.tC.y+z);R=r.W7.PL(c,V,K);var e=this.Vm.atn(u);if(e==1){R[0]=0;R[2]=1e9}if(e==2){R[1]=0;
R[3]=1e9}f+=Math.round(R[0]);z+=Math.round(R[1])}}this.tC.x+=f;this.tC.y+=z;var p=this.eV;if(p&&c==p[0]){c.QK(p[1]);
c.g=p[2].slice(0);p[3]=-1}this.Jg(c,f,z,$,null,u.N(d2.Qx));if(p&&c==p[0]){var h=this.tt.clone();h.offset(this.tC.x,this.tC.y);
var E=$,x=c.bl(),q=-1;for(var Y=0;Y<c.s.length;Y++){var Z=c.s[Y];if(!Z.IT()||Z.add.artb==null)continue;
var v=Z.rA();if(v.Y3(E))q=Y}if(q!=-1&&q!=x){var W=r.Es.XN(c,this.PC,q,!0,null,!1);c.QK(W[0]);c.g=W[1];
p[3]=q}}this.np(c,$);if(R)r.W7.iu(c,V,R)};r.W7.prototype.aq5=function(c,o){var K=r.io(c,this.K4);o=[o.x,o.y];
var u=c.Tf(),X=c.bl();for(var Y=0;Y<u[0].length;Y++){var $=u[0][Y],O=u[1][Y];if(O!=-1&&O!=X)continue;
if(Math.abs($[1]-o[$[0]])<K)return Y}return null};r.W7.prototype.Jg=function(c,o,K,u,X,$){if(this.Y==0){if(X)r.W7.LG(c,this.PC,this.Yf,X);
else r.W7.uz(c,this.PC,this.Yf,o,K)}else if(this.Y==1){var O=this.f7.data;O.gI.offset(o,K);r.W7.Ts(c,O.l,o,K)}else if(this.Y==2){var n=1e-5;
if($)n=c.Q.U<=1?10:1;var x=n*Math.round(u.x/n),l=n*Math.round(u.y/n),N=[x,l],f=c.qb[this.PC];f[1]=N[f[0]]}else if(this.Y==3){var z=this.Jd,R=a.A.P3([z.x,z.y,u.x,u.y]);
this.UY=R;var V=[];c.root.a5S(R,V);if(JSON.stringify(c.g)!=JSON.stringify(V)){c.g=V;c.rH=c.AZ=!0}}else if(this.Y==4){for(var Y=0;
Y<c.LL.length;Y++)c.lr[c.LL[Y]].rect.offset(o,K);c.Jn=!0}};r.W7.Ts=function(c,o,K,u){var X=c.s[o];c.u.rect.offset(K,u);
X.jC(c,K,u,c.u);c.sG=!0;c.d()};r.W7.prototype.v$=function(c,o,K,u,X,$){this.n0(c,X,K);this.np(c);if(Date.now()-this.A7<300&&!$){var O=r.gU.Zz(c,c.Q.FT(X.x,X.y));
if(r.W7.Py(K,X,c.Q,!0)){var n=new ev(y.E.M);if(X.y>c.Q.fE.e-20){n.data={Y:y.H.Vl,n9:"doczoom",Ak:c.Q.U*100,t9:{K:y.E.v,f:r.Hu,C:{Y:"pzoom"}}}}else{n.data={Y:y.H.Vl,n9:"preferences"}}o.I(n)}else if(O>=0){var x=new ev(y.E.v,!0);
x.f=r.kO;x.data={Y:"editCurr",Qb:O};o.I(x)}}this.A7=Date.now();r.zm.tv(c)};r.W7.prototype.n0=function(c,o,K,u,X){if(!this.c2)return;
this.c2=!1;if(this.Y==0){if(u){this.a8B(c,null,u,X)}else{if(this.tC.x==0&&this.tC.y==0)return;this.a8B(c,this.tC.clone())}c.So=!0}else if(this.Y==2){var $=0;
o=[o.x,o.y];var O=this.PC,n=c.qb[O],dJ=this.iH[0].length,x=c.qb.length;if(K.zo&&o[n[0]]<a.Pj.U5){var l=c.Tf();
l[0].splice(O,1);l[1].splice(O,1);c.$w(l);$=1;if(dJ==x-1)return}if(dJ<x)$=2;var N=new gv([[23,2],[23,3],[23,4]][$],this);
N.data={Y:2,iH:this.iH,Um:c.Tf()};c.bs(N)}else if(this.Y==4){var N=new gv([12,54],this);N.data={Y:4,g:c.LL.slice(0),p:this.tC.clone()};
c.bs(N)}this.tC.Q7(0,0)};r.W7.prototype.y9=function(c,o,K,u){var X=u.Z8(c?c.Q.yp:0);if(c!=null&&(X.x!=0||X.y!=0)){if(u.N(d2.u6)&&c.u==null){var $=new ev(y.E.v);
$.f=r.KX;$.data={Y:gU.vi,a12:!0};o.I($)}this.tC.Q7(X.x,X.y);this.Fp(c,o,u,K,!1);if(!this.c2)return;this.Jg(c,X.x,X.y);
this.n0(c,null,K);this.np(c)}var O=u.N(d2.vm);if(!this.U$&&this.amR!=O){if(O){this.aaU=this.OS.cu;this.OS.cu=!0}else{this.OS.cu=this.aaU}this.amR=O;
var n=new ev(y.E.M,!0);n.data={Y:y.H.Wu,f:this.id,oq:this.OS};o.I(n)}};r.W7.prototype.Bt=function(c,o){if(c.Y==0){var K=c.SJ;
if(K){o.QK(K.mS);o.g=K.Zx.slice(0);o.d();o.rH=!0}r.W7.LG(o,c.g,c.nX,c.rk,!0);r.zm.tv(o)}else if(c.Y=="fcmy"||c.Y=="fvec"){if(c.Ak==0)delete o.add[c.Y];
else o.add[c.Y]=c.Ak;o.Jn=!0}else if(c.Y=="pview"){o.Ku=!o.Ku;o.d()}else if(c.Y==2){o.$w(c.iH);o.Jn=!0}else if(c.Y==4){for(var Y=0;
Y<c.g.length;Y++)o.lr[c.g[Y]].rect.offset(-c.p.x,-c.p.y);o.Jn=!0}else{var u=o.s[c.l];if(c.kc){u.yF(o,c.B7);
o.u=c.AB;o.sG=!0;o.d();u.d()}else{r.W7.Ts(o,c.l,-c.gI.x,-c.gI.y)}}};r.W7.prototype.eX=function(c,o){if(c.Y==0){r.W7.LG(o,c.g,c.nX,c.rk);
var K=c.SJ;if(K){o.QK(K.Un);o.g=K.ku.slice(0);o.d();o.rH=!0}r.zm.tv(o)}else if(c.Y=="fcmy"||c.Y=="fvec"){if(c.qU==0)delete o.add[c.Y];
else o.add[c.Y]=c.qU;o.Jn=!0}else if(c.Y=="pview"){o.Ku=!o.Ku;o.d()}else if(c.Y==2){o.$w(c.Um);o.Jn=!0}else if(c.Y==4){for(var Y=0;
Y<c.g.length;Y++)o.lr[c.g[Y]].rect.offset(c.p.x,c.p.y);o.Jn=!0}else{var u=o.s[c.l];if(c.kc){u.X1=c.X1;
o.u=c.I1;r.W7.Ts(o,c.l,0,0);u.d()}else{r.W7.Ts(o,c.l,c.gI.x,c.gI.y)}}};r.W7.prototype.a8B=function(c,o,K,u){if(K){var X=!0;
for(var Y=0;Y<K.length;Y++)if(K[Y]!=0)X=!1;if(X)return}var $=c.history[c.Wi],O=this.eV,n=O!=null&&O[3]!=-1&&O[0]==c;
if(!n&&K==null&&$.data&&$.f==this&&$.data.Y==0&&JSON.stringify($.data.g)==JSON.stringify(this.PC)&&JSON.stringify($.data.nX)==JSON.stringify(this.Yf)){var x=$.data.rk,l=$.data.a6i.sK.T.v;
l.Hrzn.v.val+=o.x;l.Vrtc.v.val+=o.y;for(var Y=0;Y<x.length;Y+=2){x[Y]+=o.x;x[Y+1]+=o.y}}else{if(o==null)o=new kn(K[0],K[1]);
var N={ST:"move",sK:{classID:"null",null:a5.Vs("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:o.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:o.y}}}}}},f=null;
if(n)f={mS:O[1],Zx:O[2],Un:c.s.slice(0),ku:c.g.slice(0)};this.eV=null;var z=new gv(u?u:[12,54],this);
if(K)z.data={Y:0,g:this.PC,nX:this.Yf,SJ:f,rk:K};else z.data={Y:0,g:this.PC,nX:this.Yf,SJ:f,rk:r.W7.aCY(this.PC,o.x,o.y)};
z.data.a6i=N;c.bs(z);this.track(N)}};r.W7.aCY=function(c,o,K){var u=[];for(var Y=0;Y<c.length;Y++)u.push(o,K);
return u};r.W7.uz=function(c,o,K,u,X){r.W7.LG(c,o,K,r.W7.aCY(o,u,X))};r.W7.LG=function(c,o,K,u,X){if(o.length==0)return;
if(K==null){K=[];for(var Y=0;Y<o.length;Y++){K.push(c.s[o[Y]].si(c,!0))}}var $=new ez,O=new ez(0,0,c.m,c.e);
for(var Y=0;Y<o.length;Y++){var n=u[2*Y],x=u[2*Y+1];if(X){n=-n;x=-x}var l=c.s[o[Y]],N=K[Y];if(l.add.fxrp&&(N.indexOf(0)!=-1||l.NL()))l.add.fxrp.offset(n,x);
for(var f=0;f<N.length;f++){var z=N[f];if(z==0){l.rect.offset(n,x);if(l.Fe()&&l.$a(c))l.$a(c).rect.offset(n,x);
if(l.add.artb){var R=l.rA();R.offset(n,x);l.oW(R);var V=l.add.artb.guideIndeces;V=V?V.v:[];for(var d=0;
d<V.length;d++){var e=c.qb[V[d].v];e[1]+=e[0]==0?n:x}}if(l.add.TySh){l.add.TySh.i.translate(n,x);if(l.add.TySh.add){l.add.TySh.add.vmsk.offset(n,x)}}if(l.add.SoLd){var p=new bE(1,0,0,1,n,x),h=l.add.SoLd,E=r.W.sS(h.Trnf),q=r.W.sS(h.nonAffineTransform);
a.A.i(E,p,E);a.A.i(q,p,q);h.Trnf=r.W.yf(E);h.nonAffineTransform=r.W.yf(q);r.W.ajq(h,p)}}if(z==1)l.wD().rect.offset(n,x);
if(z==2){l.add.vmsk.offset(n,x);if(l.add.vogk)a.O9.i(l.add.vogk,[1,0,n,0,1,x,0,0],[]);if(l.J9.jm){var Z=l.J9.jm.Ad.j;
a.A.i(Z,new bE(1,0,0,1,n,x),Z)}}if(z==3){l.$a(c).F.rect.offset(n,x);if(N.length==1)l.d()}}if(N.length>0){var v=l.add.GdFl;
if(v==null)v=l.add.PtFl;if(l.NL()&&!l.ir()&&l.add.vmsk!=null&&a.o.zQ(l.add.vmsk.$)&&l.add.vmsk.Hj==255&&(v==null||v.Algn&&v.Algn.v)){l.rect.offset(n,x)}else l.Dm(c);
var W=c.root.lz(l.qP(c),c,o[Y]);if(l.add.artb)W=W.X3(l.rA());$=$.X3(W);W.offset(-n,-x);$=$.X3(W);if(l.EE()&&l.F&&l.F.color==255)$=$.X3(O);
l.aia()}}c.d(a.A.Qt($))};r.W7.ado=function(c,o){var K=[];for(var Y=0;Y<o.length;Y++){var u=c.s[o[Y]];
K.push(u.si(c))}return K};r.W7.iu=function(c,o,K){var u={j:[],G:[]},X=o.x+K[0],$=o.y+K[1];if(K[2]!=1e9){u.G.push("M","L");
var O=$+o.e;if(K[4])u.j.push(K[2],Math.min($,O,K[4][1]),K[2],Math.max($,O,K[4][1]));else u.j.push(K[2],$,K[2],$+o.e)}if(K[3]!=1e9){u.G.push("M","L");
var n=X+o.m;if(K[5])u.j.push(Math.min(X,n,K[5][0]),K[3],Math.max(X,n,K[5][0]),K[3]);else u.j.push(X,K[3],n,K[3])}if(u.j.length!=0){c.S.aH=u;
c.Jn=!0}};r.W7.Fx=function(c,o,K,u){var X=r.W7.a0g(c,[[o.x],[o.y]],K,u);return new kn(o.x+X[0],o.y+X[1])};
r.W7.PL=function(c,o,K,u,X){var $=X==!0?1:.5,O=r.W7.a0g(c,[[o.x,o.x+Math.round(o.m*$),o.x+o.m],[o.y,o.y+Math.round(o.e*$),o.y+o.e]],K,u);
return O};r.W7.a0g=function(c,o,K,u){if(u==null)u=[!0,null,!0];var X=[0,0,1e9,1e9,null,null];if(!K.WJ)return X;
var $=JSON.parse(JSON.stringify(o));for(var O=0;O<2;O++){var n=1e9,x=o[O],l=0,N=null;for(var f=0;f<x.length;
f++){var z=r.W7.al7(c,x[f],$[1-O][f],O,K,u),R=z[0];if(R!=1e9)$[O][f]=R;if(R!=1e9&&Math.abs(R-x[f])<Math.abs(n)){n=R-x[f];
l=R;N=z[1]}}if(n!=1e9){X[O]=n;X[O+2]=l;X[O+4]=N}}return X};r.W7.al7=function(c,o,K,u,X,$){var O=1e9,n=null,x=X.Yi,l=X.RG,N=[c.root];
while(N.length!=0&&x[2]){var f=N.pop(),z=f.l,R=z.rect;if(!z.IT())continue;if(f.children)for(var Y=0;
Y<f.children.length;Y++)N.push(f.children[Y]);if(c.g.indexOf(f.index)!=-1||R.SR())continue;var V=R.m,d=V>>>1,e=R.e,p=e>>>1,h=O;
if(u==0){if(Math.abs(R.x-o)<Math.abs(O-o))O=R.x;if(Math.abs(R.x+d-o)<Math.abs(O-o))O=R.x+d;if(Math.abs(R.x+V-o)<Math.abs(O-o))O=R.x+V}else{if(Math.abs(R.y-o)<Math.abs(O-o))O=R.y;
if(Math.abs(R.y+p-o)<Math.abs(O-o))O=R.y+p;if(Math.abs(R.y+e-o)<Math.abs(O-o))O=R.y+e}if(h!=O){n=[R.x+d,R.y+p]}}var E=O;
O=1e9;if($[0]&&x[0]&&l.qb&&X.ja){var q=c.Tf(),Z=q[0],v=q[1],W=c.bl();for(var Y=0;Y<Z.length;Y++)if((v[Y]==-1||v[Y]==W)&&Z[Y][0]==u&&Math.abs(Z[Y][1]-o)<Math.abs(O-o))O=Z[Y][1]}if(x[1]&&l.wr&&X.ja){var D=Math.round(a.Pj.Pv(l.vl,c.$M,c.m,l.Vy));
if(u==1&&l.Mu==1){var I=K*.5*Math.sqrt(4/3),A;D*=Math.sqrt(4/3);A=Math.round((o-I)/D)*D+I;if(Math.abs(A-o)<Math.abs(O-o))O=A;
A=Math.round((o+I)/D)*D-I;if(Math.abs(A-o)<Math.abs(O-o))O=A}else{var A=Math.round(o/D)*D;if(Math.abs(A-o)<Math.abs(O-o))O=A}}var U=c.ni;
if(x[3]&&l.ni&&X.ja&&U.length!=0){for(var Y=0;Y<U.length;Y++){if(!$[2]&&c.uW.indexOf(Y)!=-1)continue;
var w=r.Jy.M4(U,Y);for(var t=0;t<3;t+=2)if(w[t+u]!=o&&Math.abs(w[t+u]-o)<Math.abs(O-o))O=w[t+u]}}if($[1])for(var L=0;
L<$[1].length;L++){var R=$[1][L],V=R.m,e=R.e,d=V>>>1,p=e>>>1;if($[3]){d=V/2;p=e/2}var J=[R.x,R.y,R.x+d,R.y+p,R.x+V,R.y+e];
for(var Y=0;Y<6;Y+=2)if(Math.abs(J[Y+u]-o)<Math.abs(O-o))O=J[Y+u]}if(x[4]){var R=new ez(0,0,c.m,c.e),W=c.bl();
if(W!=-1)R=c.s[W].rA();var V=R.m,e=R.e,d=V>>>1,p=e>>>1;if($[3]){d=V/2;p=e/2}var J=[R.x,R.y,R.x+d,R.y+p,R.x+V,R.y+e];
for(var Y=0;Y<6;Y+=2)if(Math.abs(J[Y+u]-o)<Math.abs(O-o))O=J[Y+u]}if(Math.abs(O-o)<=Math.abs(E-o))n=null;
else O=E;var b=Math.abs(O-o)<=4*r.Sm()/c.Q.U?O:1e9;return[b,n]};r.y1=function(){r.mW.call(this,[10,12],r.eU,"tools/mwand");
this.Je=null};r.y1.prototype=new r.mW;r.y1.prototype.tT=function(c,o,K,u){this.Je=u;this.ah2=this.OS.wconf[0];
this.finish(c,o,K,u)};r.y1.prototype.Al=function(c,o,K,u,X){if(!u.dm)return;var $=new ev(y.E.v);$.f=r.DX;
$.data={Y:"h_stepbck"};X.I($);var O=u.x-this.Je.x,n=Math.max(0,Math.min(255,Math.round(this.ah2+O/4)));
this.OS.wconf[0]=n;this.Zs(X);this.finish(c,o,K,this.Je)};r.y1.prototype.cF=function(c,o,K,u,X){this.OS.wconf[0]=this.ah2;
this.Zs(X)};r.y1.prototype.getSelection=function(c,o,K,u){var X=this.X0;X=c.Q.FT(u.x,u.y);var $=r.mW.amM(new kn(Math.floor(X.x),Math.floor(X.y)),this.OS.wconf,this.OS.sall);
return $};r.y1.awW=function(c,o,K,u,X){if(o.x<0||o.x>c.m||o.y<0||o.y>c.e)return null;var $,O=new ez(0,0,c.m,c.e);
if(u)$=c.i9();else{var n=c.g.length,l=null;if(n!=1){alert(n==0?"No layer selected.":"More than one layer selected.");
return null}var x=c.s[c.g[0]],N=x.Xx<=0?null:x.Xx==1?x.wD():x.$a(c).F;if(X||N&&N.nd)l=N;if(l==null&&x.add.lsct!=null&&x.add.lsct!=aj._c){alert("No layer selected.");
return null}if(l==null&&O.Ug(x.rect))$=x.buffer;else{$=a.R(O.P()*4);if(l==null)a.Ui(x.buffer,x.rect,$,O);
else r.VN.nW(l.channel,l.rect,l.color,$,O)}}var f=r.y1.IO($,O,o,null,K),z=a.Rp(f,O),R=a.R(z.P());a.qv(f,O,R,z);
return{rect:z,channel:R}};r.y1.hh=function(c,o,K){var u=o.m,X=o.e,O=0,n=0,x=0,l=0;c=new Uint32Array(c.buffer);
var $=[],N=K.length;for(var Y=0;Y<N;Y++){var f=K[Y],z=Math.round(f.x-.5-o.x),R=Math.round(f.y-.5-o.y);
z=Math.max(0,Math.min(u-1,z));R=Math.max(0,Math.min(X-1,R));var V=R*u+z,d=c[V];$.push([d&255,d>>8&255,d>>16&255,d>>>24])}return $};
r.y1.IO=function(c,o,K,u,X){c=new Uint32Array(c.buffer);var $=o.m,O=o.e,n=$*O;if(u==null)u=r.y1.hh(c,o,[K]);
var x=Math.round(K.x-.5-o.x),l=Math.round(K.y-.5-o.y),N=l*$+x,f=Date.now(),z=a.R($*O),R=X[0],V=1/R,d=X[1]&&R>0?255:0;
if(X[2]){var e=a.R(z.length),p=new Uint32Array(n),h=1;p[0]=x<<16|l;e[N]=1;while(h>0){var E=p[h-1];h--;
var q=E>>>16,Z=E&65535,Y=Z*$+q,v=r.y1.o_(c[Y],u);if(v>R){var W=d*(1-Math.max(0,Math.min(1,(v-R)*V)));
z[Y]=~~W}else{z[Y]=255;if(Z!=O-1&&e[Y+$]==0){p[h++]=q<<16|Z+1;e[Y+$]=1}if(Z!=0&&e[Y-$]==0){p[h++]=q<<16|Z-1;
e[Y-$]=1}if(q!=$-1&&e[Y+1]==0){p[h++]=q+1<<16|Z;e[Y+1]=1}if(q!=0&&e[Y-1]==0){p[h++]=q-1<<16|Z;e[Y-1]=1}}}}else{for(var Y=0;
Y<n;Y++){var v=r.y1.o_(c[Y],u);if(v<=R)z[Y]=255}for(var Z=0;Z<O;Z++)for(var q=0;q<$;q++){var Y=Z*$+q;
if(z[Y]==0&&(q>0&&(z[Y-1]==255||Z>0&&z[Y-$-1]==255||Z<O-1&&z[Y+$-1]==255)||q<$-1&&(z[Y+1]==255||Z>0&&z[Y-$+1]==255||Z<O-1&&z[Y+$+1]==255)||Z>0&&z[Y-$]==255||Z<O-1&&z[Y+$]==255)){var v=r.y1.o_(c[Y],u),W=d*(1-Math.max(0,Math.min(1,(v-R)*V)));
z[Y]=~~W}}}return z};r.y1.o_=function(c,o){var K=o.length,u=r.y1.akV(c,o[0]),Y=1;while(Y!=K){u=Math.min(u,r.y1.akV(c,o[Y]));
Y++}return u};r.y1.akV=function(c,o){var K=c&255,u=c>>>8&255,X=c>>>16&255,$=c>>>24&255;if(o[3]==0)return $<5?0:255;
var O=Math.max(Math.abs(K-o[0]),Math.max(Math.abs(u-o[1]),Math.abs(X-o[2])));return $==0?255:O};r.zT=function(c,o){if(o)r.VN.call(this);
else if(c)r.VN.call(this,[10,49],r.fU,"tools/camove");else r.VN.call(this,[10,26],r.i4,"tools/patch");
this.oE=null;this.jm=null;this.p=null;this.J1=null;this.Qq=new kn;this.Ia=null;this.Jf=null};r.zT.prototype=new r.VN;
r.zT.prototype.x5=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y);if(c.u&&a.cQ($,c.u.channel,c.u.rect)){var O=new ez(0,0,c.m,c.e),n=O.ar(c.u.rect);
if(!c.n_()||n.SR())return;if(!0){var x=a.R(n.P());a.qv(c.u.channel,c.u.rect,x,n);c.u={channel:x,rect:n}}this.Su(c);
this.Zn(c);this.J1=$;this.Qq=new kn($.x-c.u.rect.x,$.y-c.u.rect.y);this.Jf=a.R(c.u.rect.P()*4);this.Jf.fill(255);
if(this.OS.patch==1){var l=c.s[c.g[0]];l.Cd(c,c.u,!0);if(l.X1==null)this.J1=null}this.Ia=c.u.rect.clone()}else{this.jm={j:[$.x,$.y],G:["M"]};
this.oE=$}};r.zT.prototype.Xo=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y);if(this.J1){if(this.OS.patch==1){if(c.LL.length==0){var O=c.s[c.g[0]].X1,n=$.x-this.Qq.x,x=$.y-this.Qq.y;
r.W7.Ts(c,c.g[0],Math.round(n-O.bN.x),Math.round(x-O.bN.y))}}else this.aC2(c,$,"clone")}if(this.oE){this.jm.G.push("L");
this.jm.j.push($.x,$.y);this.oE=$;c.S.nO=this.jm;c.Jn=!0}};r.zT.prototype.v$=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y);
if(this.J1){var O=c.u.rect.clone();if(this.id==r.fU){var n=c.s[c.g[0]];n.yF(c,n.X1);c.u.rect=this.Ia.clone();
var x=a.R(c.u.rect.P()*4);a.bp(c.u.channel,x,3);this.pJ(c,"sheal",x,c.u.rect,c.u.rect);c.u.rect=O;O=O.X3(this.Ia)}this.aC2(c,$,"heal");
this.finish(c,O,null,null,!0);c.d(O);this.J1=null}if(this.oE){var l=r.mW.J8(this.OS.setop,u.N(d2.Qx),u.N(d2.u6)),N=new ev(y.E.XV,!0);
if(this.jm.j.length<=4)N.data=r.mW.Io();else N.data=r.mW.VA(this.jm.j,l);o.I(N);this.oE=null;c.S.nO=null;
c.Jn=!0}};r.zT.prototype.kL=function(){return this.p};r.zT.prototype.sE=function(c,o,K,u,X){r.VN.prototype.sE.call(this,c,o,K,u,X);
this.en(X,u)};r.zT.prototype.en=function(c,o){var K="auto;";if(o!=null&&o.N(d2.Qx)&&!o.N(d2.u6)||this.OS.setop=="union")K="copy";
var u=new ev(y.E.M,!0);u.data={Y:y.H.L3,Vp:K};if(this.caller)this.caller.I(u)};r.zT.prototype.aC2=function(c,o,K){var u=new kn(Math.round(this.J1.x-o.x),Math.round(this.J1.y-o.y));
if(this.OS.patch==1)u.Q7(-u.x,-u.y);this.p=u;this.pJ(c,K,this.Jf,c.u.rect,c.u.rect);this.d(c,c.u.rect)};
r.a8X=function(){r.zT.call(this,!0);this.OS.patch=1};r.a8X.prototype=new r.zT(!0,!0);r.jK=function(c){if(c)r.VN.call(this,[10,52],r.aiJ,"tools/meraser");
else r.VN.call(this,[10,13],r.abI,"tools/pbucket");this.AG=!1;this.a0M=c};r.jK.prototype=new r.VN;r.jK.prototype.enable=function(c,o,K,u){var X=new ev(y.E.M,!0);
X.data={Y:y.H.L3,Vp:"default"};o.I(X)};r.jK.prototype.VW=function(c,o){};r.jK.prototype.x5=function(c,o,K,u,X){if(this.AP(c,o,K,u,X,!0))return;
this.AG=!0};r.jK.prototype.Xo=function(c,o,K,u,X){if(this.AP(c,o,K,u,X))return};r.jK.prototype.v$=function(c,o,K,u,X,$){this.enable(c,o,K,u);
var O=this.AG;this.AG=!1;if(!O||$)return;if(!c.n_())return;var n=c.Q.FT(X.x,X.y),x=r.y1.awW(c,n,this.OS.wconf,this.OS.sall,!0);
if(x==null)return;var l=a.R(x.rect.P()*4);a.ms(l,(K.V5&255)<<16|(K.V5>>8&255)<<8|(K.V5>>16&255)<<0);
a.bp(x.channel,l,3);this.Su(c);this.pJ(c,this.a0M?"erase":"draw",l,x.rect,x.rect);this.d(c,x.rect);this.finish(c,x.rect)};
r.EZ=function(){r.mW.call(this,[10,14],r.agM,"tools/plasso");this.Pp="crosshair";this.LO=[];this.Tn=null;
this.jm=null;this.akh=0};r.EZ.prototype=new r.mW;r.EZ.prototype.disable=function(c,o,K,u){this.g8(c)};
r.EZ.prototype.tT=function(c,o,K,u){this.LO=[d2.UL,d2.Kf]};r.EZ.prototype.P6=function(c){return this.LO.indexOf(c)!=-1};
r.EZ.prototype.Wp=function(c){return this.jm!=null};r.EZ.prototype.rs=function(){return this.jm!=null};
r.EZ.prototype.I2=function(){return this.jm!=null};r.EZ.prototype.Al=function(c,o,K,u){if(this.jm==null)return;
var X=this.jm,$=X.j,O=$.length-2,n=this.X0;if(this.UK.Pq(1)&&K.N(d2.u6)&&u.dm){$.push(0,0);X.G.push("L");
O+=2}else if(K.N(d2.Qx))n=r.YU.rB(new kn($[O-2],$[O-1]),n);$[O]=n.x;$[O+1]=n.y;c.S.nO=X;c.Jn=!0};r.EZ.prototype.cF=function(c,o,K,u){var X=Date.now();
if(this.jm==null)this.jm={j:[this.X0.x,this.X0.y,this.X0.x,this.X0.y],G:["M","L"]};else{this.Al(c,o,K,u);
if(X-this.akh<250||kn.je(this.X0,new kn(this.jm.j[0],this.jm.j[1]))<r.io(c,u)){this.Tn=this.jm;this.finish(c,o,K,u);
this.g8(c);return}this.jm.G.push("L");this.jm.j.push(this.X0.x,this.X0.y)}this.akh=X;c.S.nO=this.jm};
r.EZ.prototype.g8=function(c){this.jm=null;this.LO=[];if(c!=null){c.S.nO=null;c.Jn=!0}};r.EZ.prototype.y9=function(c,o,K,u){r.mW.prototype.y9.call(this,c,o,K,u);
if(u.N(d2.G$)&&this.jm==null&&this.Tn&&c.u!=null){var X=new ev(y.E.v);X.f=r.DX;X.data={Y:"h_stepbck"};
o.I(X);this.tT(c,K,u,null);this.jm=this.Tn;return}if(this.jm==null)return;if(u.N(d2.UL)||u.N(d2.Kf)){this.jm.j.pop();
this.jm.j.pop();this.jm.G.pop();this.Al(c,K,u)}if(u.N(d2.m8)){if(this.jm.j.length>4){this.Tn=this.jm;
this.finish(c,K,u)}this.jm=null}if(u.N(d2.G$)){this.jm=null}c.S.nO=this.jm;c.Jn=!0};r.EZ.prototype.getSelection=function(c,o,K,u){return r.mW.VA(this.jm.j,null,this.OS.anta)};
r.Ck=function(){r.mW.call(this,[10,10],r.abK,"tools/mlasso");this.Pp="crosshair";this.LO=[];this.$=[];
this.vs=[];this.qw=[];this.yR=null;this.S$=null;this.HE=null;this.A7=0;this.Yy=0};r.Ck.prototype=new r.mW;
r.Ck.prototype.disable=function(c,o,K,u){this.clear(c)};r.Ck.prototype.Wp=function(c){return this.$.length!=0};
r.Ck.prototype.I2=function(){return this.$.length!=0};r.Ck.prototype.P6=function(c){return this.LO.indexOf(c)!=-1};
r.Ck.prototype.tT=function(c,o,K,u){this.LO=[d2.UL,d2.Kf];var X=this.ce(this.hD,c);if(this.$.length!=0&&(kn.je(X,this.$[0])<r.io(c,u)||Date.now()-this.A7<300)){this.jc(c,this.$[0]);
this.finish(c,o,K);this.clear(c);return}this.A7=Date.now();if(this.$.length!=0)X=this.GU(X,c);else{var $=c.m,O=c.e,n=a.R($*O),x=c.i9(),l=$*O*4;
for(var Y=0;Y<l;Y+=4)n[Y>>>2]=~~(.5+a.NV(x[Y],x[Y+1],x[Y+2])*(x[Y+3]*(1/255)));this.yR=a.Gs.aA$(n,$,O);
this.HE=new Uint16Array(n.length)}this.jc(c,X);this.Yy=K.N(d2.u6)?1:0;this.S0(c)};r.Ck.prototype.jc=function(c,o){var K=this.$;
this.vs[K.length]=this.qw.length;if(K.length!=0){a.Gs.mw(this.S$,o.y*c.m+o.x);var u=this.Cc(c,o);u.reverse();
var X=r.Ck.an3(c,u);this.qw=this.qw.concat(X)}K.push(o);this.akk(c)};r.Ck.prototype.akk=function(c){var o=this.$[this.$.length-1],K=o.y*c.m+o.x;
this.S$=a.Gs.aDc(this.yR.s$,this.yR.hY,K);this.HE.fill(0)};r.Ck.prototype.ce=function(c,o){return new kn(Math.floor(Math.max(0,Math.min(o.m-1,c.x))),Math.floor(Math.max(0,Math.min(o.e-1,c.y))))};
r.Ck.prototype.clear=function(c){this.qw=[];this.$=[];this.vs=[];this.yR=null;this.S$=null;this.HE=null;
if(c!=null){c.S.nO=null;c.S.vM=[];c.Jn=!0}this.LO=[]};r.Ck.prototype.Al=function(c,o,K,u){var X=this.$,$=X.length;
if($==0)return;var O=this.GU(this.ce(this.X0,c),c),n=this.Cc(c,O);for(var Y=0;Y<n.length;Y++){var x=n[Y],l=new kn(x%c.m,Math.floor(x/c.m));
if(this.HE[x]>30&&kn.je(l,X[$-1])>20){this.jc(c,l);return}this.HE[x]++}if(this.Yy==1&&u.dm)this.jc(c,O);
this.S0(c)};r.Ck.prototype.S0=function(c){var o=this.$;if(o.length!=0){var K=this.GU(this.ce(this.X0,c),c),u=this.Cc(c,K);
u.reverse();var X=r.Ck.an3(c,u),$=this.qw.concat(X),O=c.S.nO={j:$,G:["M"]};for(var Y=2;Y<$.length;Y+=2)O.G.push("L")}c.S.vM=[];
for(var Y=0;Y<o.length;Y++)c.S.vM.push(o[Y].x+.5,o[Y].y+.5);c.Jn=!0};r.Ck.prototype.cF=function(c,o,K,u){};
r.Ck.prototype.y9=function(c,o,K,u){if(this.$.length==0)return;if(u.N(d2.UL)||u.N(d2.Kf)){this.$.pop();
this.qw=this.qw.slice(0,this.vs[this.$.length]);this.vs.pop();if(this.$.length==0)this.clear(c);else this.akk(c);
this.S0(c)}if(u.N(d2.m8)){var X=this.ce(this.X0,c);this.jc(c,X);this.finish(c,K,u);this.clear(c)}if(u.N(d2.G$)){this.clear(c)}};
r.Ck.prototype.getSelection=function(c,o,K,u){return r.mW.VA(this.qw,null,this.OS.anta)};r.Ck.prototype.Cc=function(c,o){var K=this.$[this.$.length-1],u=K.y*c.m+K.x,X=o.y*c.m+o.x;
if(this.Yy==1)return[X,u];var $=[X];while(X!=u){X=this.S$.MD[X];$.push(X);if($.length>5e3){console.log($);
throw"e"}}return $};r.Ck.an3=function(c,o){var K=[],u=c.m;for(var Y=0;Y<o.length;Y++){var X=o[Y];K.push(X%u+.5,Math.floor(X/u)+.5)}return K};
r.Ck.prototype.GU=function(c,o){var K=o.m,u=o.e,X=c.clone(),O=3;a.Gs.mw(this.S$,c.y*K+c.x);var $=this.S$.U7[c.y*K+c.x];
for(var n=-O+1;n<O;n++)for(var x=-O+1;x<O;x++){var l=c.x+x,N=c.y+n;if(l<0||l>=K||N<0||N>=u)continue;
a.Gs.mw(this.S$,N*K+l);if(this.S$.U7[N*K+l]<$)X.Q7(l,N)}return X};r.Iw=function(){r.vV.call(this,[10,36],r.yu,"tools/ruler");
this.$C=null;this.cg=null;this.kb=null;this.rx=null;this.oM=null};r.Iw.prototype=new r.vV;r.Iw.prototype.Wp=function(c){return c.dm};
r.Iw.prototype.enable=function(c,o,K,u){r.vV.prototype.enable.call(this,c,o,u,K);if(c)this.np(c)};r.Iw.prototype.disable=function(c,o,K,u){if(c)this.g8(c)};
r.Iw.prototype.GN=function(c,o,K,u,X){this.$C=this.kb=null;this.np(K)};r.Iw.prototype.x5=function(c,o,K,u,X){var $=r.io(c,X),O=c.Q.FT(X.x,X.y);
O.x=Math.round(O.x);O.y=Math.round(O.y);var n=this.$C;this.cg=n?n.slice(0):null;var x=n&&kn.je(O,n[0])<$,l=n&&kn.je(O,n[1])<$,N=n&&n[2]&&kn.je(O,n[2])<$;
if(x||l||N){if(u.N(d2.u6)&&n.length==2){if(l){var f=n[0];n[0]=n[1];n[1]=f}n[2]=n[0].clone();this.kb=[2]}else this.kb=[x?0:l?1:2]}else if(n&&r.Iw.aln(n[0],n[1],O)<$&&Math.min(n[0].x,n[1].x)-5<=O.x&&O.x<=Math.max(n[0].x,n[1].x)+5&&Math.min(n[0].y,n[1].y)-5<=O.y&&O.y<=Math.max(n[0].y,n[1].y)+5){this.kb=[];
this.oM=[];for(var Y=0;Y<n.length;Y++){this.kb.push(Y);this.oM.push(n[Y].clone())}this.rx=O}else{this.$C=[O.clone(),O.clone()];
this.kb=[1]}};r.Iw.prototype.Xo=function(c,o,K,u,X){if(this.kb==null)return;var $=this.$C,O=this.kb,n=c.Q.FT(X.x,X.y);
n.x=Math.round(n.x);n.y=Math.round(n.y);if(O.length>1){var x=n.x-this.rx.x,l=n.y-this.rx.y;for(var Y=0;
Y<$.length;Y++){$[Y]=this.oM[Y].clone();$[Y].offset(x,l)}}else{$[O[0]].Q7(n.x,n.y);if(u.N(d2.Qx)){$[O[0]]=r.YU.rB($[1-O[0]],$[O[0]])}}this.np(c);
this.vT(o,y.E.M,{Y:y.H.Wu,f:this.id,a0C:$[0],iW:$[1],Kz:$[2],$M:c.$M,af2:c.m});c.Q.cI=a.A.P3([$[0].x,$[0].y,$[1].x,$[1].y]);
console.log(c.Q.cI)};r.Iw.prototype.v$=function(c,o,K,u,X,$){this.kb=null;if($){this.$C=this.cg.slice(0);
this.np(c)}};r.Iw.prototype.vT=function(c,o,K){var u=new ev(o,!0);u.data=K;c.I(u)};r.Iw.prototype.np=function(c){var o=this.$C;
if(o==null)this.g8(c);else{var K=[o[1].x,o[1].y,o[0].x,o[0].y],u=["M","L"];if(o.length>2){K.push(o[2].x,o[2].y);
u.push("L")}c.S.nO={G:u,j:K};c.S.vM=K}c.Jn=!0};r.Iw.prototype.g8=function(c){c.S.nO=null;c.S.vM=[]};
r.Iw.aln=function(c,o,K){var u=o.x-c.x,X=o.y-c.y,$=Math.abs(X*K.x-u*K.y+o.x*c.y-o.y*c.x),O=Math.sqrt(u*u+X*X);
return O==0?0:$/O};r.j8=function(){r.VN.call(this,[10,19],r.yV,"tools/sharpen");this._f="copy"};r.j8.prototype=new r.VN;
r.j8.prototype.x5=function(c,o,K,u,X){var $=this.OS.pdetail?kD.Po:kD.yV;if(u.N(d2.u6))$=kD.XL;this.an(c,K,u,X,this.OS.strn,$);
if(this.bz==null)return;this.mr(c)};r.j8.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);
if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.Db=function(){r.VN.call(this,[10,24],r.uy,"tools/shbrush");
this._f="draw";this.OS.opacity=.5};r.Db.prototype=new r.VN;r.Db.prototype.x5=function(c,o,K,u,X){this.an(c,K,u,X,1);
if(this.bz==null)return;this.Zn(c);this.mr(c)};r.Db.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);
if(this.bf)this.C9(c,K,X);if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.Db.prototype.v$=function(c,o,K,u,X){if(this.bz==null)return;
this.pJ(c,"sheal",this.bz.M5(),this.bz.G5(),this.bz.gD(),null);this.d(c,this.bz.gD());r.VN.prototype.v$.call(this,c,o,K,u,X)};
r.Ft=function(){r.VN.call(this,[10,20],r.Uw,"tools/smudge");this._f="copy"};r.Ft.prototype=new r.VN;
r.Ft.prototype.x5=function(c,o,K,u,X){var $=this.OS.brush.toolOptions;this.an(c,K,u,X,this.OS.strn,kD.Uw);
if(this.bz==null)return;this.mr(c)};r.Ft.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);
if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.Ya=function(){r.VN.call(this,[10,23],r.SK,"tools/sponge");
this._f="sponge"};r.Ya.prototype=new r.VN;r.Ya.prototype.x5=function(c,o,K,u,X){this.an(c,K,u,X,this.OS.flow);
if(this.bz==null)return;this.mr(c)};r.Ya.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);if(this.bf)this.C9(c,K,X);
if(this.bz==null)return;if(!X.dm)return;this.fR(c,K,u,X);this.mr(c)};r.PN=function(){r.vV.call(this,[10,17],r.Hu,"tools/zoom");
this.fH=!1;this.hI=!0;this.Dv=!1;this.OM=0;this.Pk=null;this.bD=null;this.Zm=0;this.OJ=null;this.a68=0;
this.ph=new jf([{name:[8,0],rh:"Ctrl + +"},{name:[8,1],rh:"Ctrl + -",ql:!0},{name:[20,3],rh:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],rh:"Ctrl + 1"}],[{K:y.E.v,f:r.Hu,C:{Y:"zoom",hI:!0}},{K:y.E.v,f:r.Hu,C:{Y:"zoom",hI:!1}},{K:y.E.v,f:r.Hu,C:{Y:"adapt",b:"fitscr"}},{K:y.E.v,f:r.Hu,C:{Y:"adapt",b:"pixel"}}])};
r.PN.prototype=new r.vV;r.PN.prototype.Lz=function(c,o,K,u,X){var $=this.ph;$._();$.parent=o;$.update(c,K);
var O=new ev(y.E.M,!0);O.data={Y:y.H.B2,KH:$,x:X.ct+2,y:X.TY+1};o.I(O)};r.PN.prototype.enable=function(c,o,K,u){this.$P(o,u);
if(c&&Date.now()-this.OM<300)this.GN({Y:"adapt",b:"pixel"},o,c,u,K);this.OM=Date.now()};r.PN.prototype.x5=function(c,o,K,u,X){this.bD=new kn(X.x,X.y);
this.Zm=c.Q.U;this.OJ=c.Q.p.clone()};r.PN.prototype.Xo=function(c,o,K,u,X){if(this.bD==null)return;var $=Math.exp(Math.log(this.Zm)+(X.x-this.bD.x)/64);
$=Math.max(.02,Math.min(r.PN.Id[0],$));c.Q.U=this.Zm;c.Q.p=this.OJ.clone();this.GN({Y:"zoom",U:$,K4:this.bD,Dv:this.Dv},o,c,u,K)};
r.PN.prototype.v$=function(c,o,K,u,X){if(kn.je(this.bD,X)<4){var $=this.aq8(u);this.GN({Y:"zoom",hI:$,K4:X,Dv:this.Dv},o,c,u,K)}this.bD=null};
r.PN.Id=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
r.PN.Nr=function(c,o,K,u){var X=1;while(c*X*1/2>K||o*X*1/2>u)X*=1/2;if(c*X*2/3>K||o*X*2/3>u)X*=1/2;else if(c*X>K||o*X>u)X*=2/3;
return X};r.PN.apb=function(c,o){var K=r.PN.a8j(c);if(o&&K==0)return c;if(!o&&K==r.PN.Id.length-1)return c;
return r.PN.Id[o?K-1:K+1]};r.PN.a8j=function(c){var o=0;while(r.PN.Id[o]>c)o++;return o};r.PN.cq=function(c,o,K,u){var X=c.ff;
if(u==0||u==null){u=r.PN.apb(c.U,K);if(u==c.U)return}var $=c.FT(o.x,o.y);$.x=Math.max(0,Math.min(X.m,$.x));
$.y=Math.max(0,Math.min(X.e,$.y));if(!1){}else{var O=c._X(),n=c.U/u;O.translate(-$.x,-$.y);O.scale(n,n);
O.translate($.x,$.y);c.a6G(O)}};r.PN.prototype.GN=function(c,o,K,u,X){if(c.Y=="pzoom"){if(typeof c.b=="string")return;
c={Y:"zoom",U:c.b/100}}var $=0,O=!1,n=null;if(c.Y=="adapt"){var x=0;if(c.b=="pixel")x=1;if(c.b=="fitscr"){var x=0,l=K.Q.fE.m,N=K.Q.fE.e,f=new ez(0,0,K.m,K.e),z=a.A.W6(f).j,R=new bE;
R.rotate(K.Q.yp);a.A.i(z,R,z);var V=a.A.jl(z),d=X.zo?a.Pj.U5+4:8;x=Math.min((l-d*2)/V.m,(N-d*2)/V.e);
K.Q.p.Q7(0,0)}n=new kn(Math.round(K.Q.fE.m/2),Math.round(K.Q.fE.e/2));$=x;r.PN.cq(K.Q,n,O,$);K.So=!0}if(c.Y.startsWith("multi")){function e(t){var B=t[0].x-t[1].x,k=t[0].y-t[1].y;
return Math.sqrt(B*B+k*k)}function p(t){return new kn((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2)}function h(t){var B=t[0].x-t[1].x,k=t[0].y-t[1].y;
return Math.atan2(k,B)}var E=c.ah,q=p(E);if(c.Y=="multidown"){this.Pk=[E,K.Q.U,K.Q.FT(q.x,q.y),K.Q.yp]}else{var Z=r.PN.Id,A=.15;
$=this.Pk[1]*e(E)/e(this.Pk[0]);$=Math.max(Z[Z.length-1],Math.min(Z[0],$));if($!=K.Q.U)r.PN.cq(K.Q,q,O,$);
var v=this.Pk[2],W=K.Q.dV(v.x,v.y),D=K.Q.p;D.x=Math.round(D.x+q.x-W.x);D.y=Math.round(D.y+q.y-W.y);var I=this.Pk[3]+(h(E)-h(this.Pk[0]));
I=I%(2*Math.PI);while(I<0)I+=2*Math.PI;if(I<A||I>2*Math.PI-A)I=0;K.Q.yp=I;K.So=!0}}if(c.Y=="scroll"){n=c.K4;
var Z=r.PN.Id,U=c.SS.y,w=1+Math.abs(U)*8e-4*(c.ana?10:1);if(U>0)w=1/w;$=K.Q.U*w;r.PN.cq(K.Q,n,O,Math.min(Z[0],Math.max(Z[Z.length-1],$)));
K.So=!0}if(c.Y=="zoom"){var t=c.Dv?o.eJ:[K];for(var Y=0;Y<t.length;Y++){var L=t[Y],J=L.Q;n=c.K4?c.K4:new kn(Math.round(J.fE.m/2),Math.round(J.fE.e/2));
if(c.U!=null)$=c.U;else O=c.hI;r.PN.cq(J,n,O,$);L.So=!0}}if(c.Y=="mskView"){var b=K.s[K.g[0]];if(b.Xx<=0){b.Xx=1;
K.rH=!0}var F=b.Xx==3?b.$a(K).F:b.wD();if(c.b==0){K.Q.O=[1,1,1];F.nd=!1}if(c.b==1){K.Q.O=[1,1,1];F.nd=!0}if(c.b==2){K.Q.O=[0,0,0];
F.nd=!0}for(var Y=0;Y<K.lr.length;Y++)K.lr[Y].nd=!1;K.LL=[];K.Jn=!0}};r.PN.prototype.y9=function(c,o,K,u){if(this.fH!=u.N(d2.u6)){this.fH=u.N(d2.u6);
var X={Y:y.H.Wu,f:this.id,fH:this.fH},$=new ev(y.E.M,!0);$.data=X;o.I($);this.$P(o,u)}};r.PN.prototype.$P=function(c,o){var K=new ev(y.E.M,!0),u=this.aq8(o);
K.data={Y:y.H.L3,Vp:u?"zoom-in":"zoom-out"};c.I(K)};r.PN.prototype.sE=function(c,o,K,u){this.hI=c.hI;
this.Dv=c.Dv;this.$P(o,u)};r.PN.prototype.aq8=function(c){var o=this.hI;if(c.N(d2.gO)&&c.N(d2.vm))o=!0;
if(this.fH)o=!o;return o};r.PN.a02=function(c,o){if(c.N(d2.v0)||c.N(d2.a3A)){o.f=r.Hu;o.data={Y:"zoom",hI:!0}}if(c.N(d2.pS)){o.f=r.Hu;
o.data={Y:"zoom",hI:!1}}if(c.N(d2.jJ)){o.f=r.Hu;o.data={Y:"adapt",b:"fitscr"}}if(c.N(d2.Dj)){o.f=r.Hu;
o.data={Y:"adapt",b:"pixel"}}};r.ju=function(c,o,K){r.vV.call(this,c,o,K);this.dp=null;this.RU=null;
this.M0=null;this.amz=0};r.ju.prototype=new r.vV;r.ju.EO=function(c,o){var K={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},u=c==null?{classID:"null",null:K,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:K,Usng:{t:"type",v:{classID:c}},__name:"Stroke"};
if(o)u.Prs={t:"bool",v:!0};return{ST:c==null?"fill":"stroke",sK:u}};r.ju.prototype.enable=function(c,o,K,u,X){this.RU=K;
var $=new ev(y.E.M,!0);$.data={Y:y.H.L3,Vp:"default"};o.I($)};r.ju.prototype.Lz=function(c,o,K,u,X){var $=c.Dr(),O=$[0],n=$[1];
if(n.length==0)return;var x=O[n[0]],l=x.add.vmsk,N=c.Q.FT(X.x,X.y),f=4*r.Sm()/c.Q.U,z=new ez(N.x-f,N.y-f,f*2,f*2),R=a.o.TM(l.$,z)[0];
if(R.length!=0){l.s5=R;c.Jn=!0}var V=a.o.cQ(l.$,N).wM;if(V!=-1){l.g=[V];c.Jn=!0}var d=new ev(y.E.M,!0);
d.data={Y:y.H.Wu,f:this.id,UN:X,fk:c,dd:K};o.I(d)};r.ju.prototype.aAJ=function(c,o){var K=new ev(y.E.M,!0);
K.data={Y:y.H.NU,EU:iD.pn};if(!o.ja)c.I(K);K.data={Y:y.H.NU,EU:iD.qB};if(!o.RG.es)c.I(K)};r.ju.prototype.fb=function(c,o,K,u,X){if(K.lm!=this.id&&X==null)return;
if(c.g.length==0)return;var $=c.s[c.g[0]],O=$.add.vmsk,n=$.add.vstk,x=$.add.vstl;if(gN==0){var l=gH.pK($.add);
this.dp=c;this.M0=o;if($.NL()&&O!=null&&(JSON.stringify(n)!=JSON.stringify(K.KT)||JSON.stringify(l)!=JSON.stringify(K.L6))){this.amz=Date.now();
var N=new ev(y.E.M,!0);N.data={Y:y.H.NU,EU:iD.Cr,b:l};o.I(N);N.data={Y:y.H.NU,EU:iD.JP,b:n};o.I(N)}}else if(x){var f=JSON.stringify(x);
if(f!=JSON.stringify(K.Be)){var N=new ev(y.E.M,!0);N.data={Y:y.H.NU,EU:iD.cv,b:JSON.parse(f)};o.I(N)}}};
r.ju.prototype.VW=function(c,o){if(this.dp==null)return;if(o==iD.Vk||o==iD.Cr||o==iD.JP){if(Date.now()-this.amz<50)return;
var K=o==iD.Cr,u=this.dp,X=K?c.L6:c.KT,$=[],O=u.g;for(var Y=0;Y<O.length;Y++){var n=O[Y],x=u.s[n];if(!x.NL()||x.add.vmsk==null)continue;
$.push(n)}var l=new ev(y.E.v,!0);l.f=r.KX;l.data={Y:gU.Nl,FG:$,Y$:K,b:X};if($.length!=0)this.M0.I(l)}};
r.ju.prototype.a8v=function(c){if(typeof c=="number"){var o=new ev(y.E.XV,!0);o.data=r.mc.P5(0);o.data.sK.Usng.v.Type.v.Clr.v=a.T.mv({Z:c>>>16&255,r:c>>>8&255,J:c>>>0&255});
this.M0.I(o)}};r.ju.prototype.GN=function(c,o,K,u,X){this.M0=o;if(c.Y=="newfill"){if(c.RL==0){var $=new ev(y.E.M,!0);
$.data={Y:y.H.Vl,n9:"colorpicker",A8:X.V5,hB:this.a8v.bind(this)};o.I($)}}else if(c.Y=="smplp"){if(K==null)return;
var O=K.Dr(),n=O[0],x=O[1];if(x.length==0){alert("No paths selected");return}var N=n[x[0]];if(N.add.vmsk.g.length<=0){alert("No paths selected");
return}if(this.$v==null){this.$v=N.add.vmsk.clone();this.JC=JSON.stringify(N.add.vogk);this.jm=N;this.dp=K}var $=new ev(y.E.M,!0);
$.data={Y:y.H.Vl,n9:"simplifypath",Ak:100,vu:this.adT.bind(this)};o.I($)}else if(c.Y=="pathedit"){var f=c.D$,z="",R=K.es.slice(0),V=K.o3.slice(0),d=K.es.slice(0),e=K.o3.slice(0);
if(f=="rnm"){var p=-1-c.wM,h=R[p],E=h_.OW(c.name,h.add);if(p!=0)d[p]=E;else{e=[d.length];d.push(E);d[0]=h_.OW("Work Path")}z="Rename"}else if(f=="new"){var E=h_.OW("Path "+R.length);
if(c.azC){var O=K.Dr(),n=O[0],x=O[1],q=n[x[0]];E.add.vmsk=q.add.vmsk.clone();E.add.vogk=JSON.parse(JSON.stringify(q.add.vogk));
if(q.wM==-1){var Z=d[e[0]]=h_.OW("Path "+R.length);Z.name=q.name;Z.wM=q.wM}}d.push(E);e=[d.length-1];
z="New"}else if(f=="del"){if(e.length==0)return;e.sort(function(L,g){return L-g});if(e[0]==0){d[0]=h_.OW(R[0].name);
e=e.slice(1)}var v=0;while(e.length!=0){d.splice(e[0]-v,1);e=e.slice(1);v++}z="Delete"}else if(f=="fromsel"){var N=d[0]=h_.OW("Work Path");
e=[0];if(K.u==null)return;var W=K.u.channel.slice(0);for(var Y=0;Y<W.length;Y++)W[Y]=W[Y]>128?2:1;var D=K.u.rect.clone();
D.JG(1,1);var I=a.R(D.P());a.qv(W,K.u.rect,I,D);var A=iy.by(I,D.m,D.e,Math.round(D.P()*5e-4)),n=iy.Dr(A),U=new bE(1,0,0,1,-1+K.u.rect.x,-1+K.u.rect.y);
for(var Y=0;Y<n.length;Y++)a.A.i(n[Y].path.j,U,n[Y].path.j);for(var Y=0;Y<n.length;Y++){var w=n[Y];if(w.color==1&&w.parent==-1)continue;
var t=a.A.lR(n[Y].path,!1);t[2].cS=0;N.add.vmsk.$=N.add.vmsk.$.concat(t.slice(2))}N.add.vogk=gU.$h(N.add.vmsk.$);
z="Selection to"}var L=new gv(z+" Path",this);L.data={cg:R,xt:V,aAM:d,cG:e};if(f=="fromsel"){L.data.AB=K.u;
L.data.I1=null}K.bs(L);this.eX(L.data,K)}else{var J=c.u0,O=K.Dr(c.Y=="append"||c.Y=="fromAction"),n=O[0],x=O[1],N=n[x[0]],b=N.add.vmsk,F=N.add.vogk,B=b.clone(),k=b.clone(),i=JSON.stringify(F);
if(c.Y=="fromAction"){var H=c.Va,m=H.ST,j=H.sK,Q=j.T;if(m=="set"){if(Q){F.push(a.O9.Ln(Q));k.$.push({type:0,cS:1,length:0});
a.O9.Tu(F,k);J=[12,76,0]}else throw j}else if(m=="draw"){F=[a.O9.Ln(j.Shp)];k.$.push({type:0,cS:1,length:0});
a.O9.Tu(F,k);r.ju.a2V(k.$,j.AntA.v,X.V5,o);return}else throw m}else if(c.Y=="remove"){if(c.bm&&k.s5.length!=0){k.$=a.o.ap1(k.$,k.s5,F,c.a7p);
var G=a.o.mn(k.$);for(var Y=0;Y<k.g.length;Y++)if(k.g[Y]>=G){k.g.splice(Y,1);Y--}k.s5=[];J="Delete Anchors"}else{if(k.g.length==0)return;
var v=0;for(var Y=0;Y<k.g.length;Y++){F.splice(k.g[Y]+v,1);v--}k.$=a.o.a0i(k.$,k.g);k.g=[];k.s5=[];if(J==null)J="Delete Paths"}}if(c.Y=="append"){r.ju.PF(c.a4e,k,F)}this.pe(K,N.wM,k,F);
this.ZK(K,J,N.wM,B,k.clone(),null,i,JSON.stringify(F))}};r.ju.a2V=function(c,o,K,u){var X=new gU.JA;
X.$=X.$.concat(c.slice(2));var $=X.wD();if(!o)a.round($.channel);var O=a.R($.rect.P()*4);a.ms(O,(K&255)<<16|(K>>8&255)<<8|(K>>16&255)<<0);
a.bp($.channel,O,3);var n=new ev(y.E.v,!0);n.f=r.yj;n.data={Y:"draw",rQ:{buffer:O,rect:$.rect.clone()},u0:this.name};
u.I(n)};r.ju.k0=function(c,o){var K=a.o.aCQ(c.$,c.g),u=[];for(var Y=0;Y<c.g.length;Y++)u.push(JSON.parse(JSON.stringify(o[c.g[Y]])));
return[K,u]};r.ju.PF=function(c,o,K){var u=a.o.mn(o.$),X=a.o.mn(c[0]);o.$=o.$.concat(c[0].slice(2));
o.g=[];for(var Y=0;Y<X;Y++)o.g.push(u+Y);for(var Y=0;Y<X;Y++)K.push(JSON.parse(JSON.stringify(c[1][Y])))};
r.ju.prototype.P6=function(c,o){if(o==null)return!1;var K=o.Dr(),u=K[0],X=K[1];if(X.length==0)return!1;
var $=u[X[0]],O=$.add.vmsk;if(O&&O.g.length+O.s5.length!=0)return[d2.UL,d2.Kf].indexOf(c)!=-1};r.ju.prototype.y9=function(c,o,K,u){if(c==null)return;
var X=c.Dr(),$=X[0],O=X[1];if(O.length==0)return;var n=$[O[0]],x=n.add.vmsk;if(u.N(d2.G$)||u.N(d2.m8)||this.id==r.Tc&&u.N(d2.Fu)&&x.s5.length==1){x.s5=[];
c.Jn=!0}if(x.g.length!=0){var l=u.Z8(c?c.Q.yp:0);if(l.x!=0||l.y!=0){var N=x.clone(),f=x.clone(),z=new bE(1,0,0,1,l.x,l.y),R=n.add.vogk,V=JSON.stringify(R);
if(u.N(d2.u6)){var d=r.ju.k0(f,R);r.ju.PF(d,f,R)}a.o.Ik(f.$,z,f.g);a.O9.i(R,a.D.I_(z),f.g);this.pe(c,n.wM,f,R);
this.ZK(c,"Move Paths",n.wM,N,f.clone(),!0,V,JSON.stringify(R))}if(u.N(d2.UL)||u.N(d2.Kf))this.GN({Y:"remove",bm:this.id==r.Tc},o,c,u,K)}};
r.ju.prototype.ZK=function(c,o,K,u,X,$,O,n){var x=new gv(o,this);x.data={Ba:K,WX:u,xq:X,alh:$,aoA:O,Ta:n};
c.bs(x)};r.ju.prototype.eX=function(c,o){if(c.Ba!=null)this.pe(o,c.Ba,c.xq.clone(),JSON.parse(c.Ta));
else{o.es=c.aAM.slice(0);o.o3=c.cG.slice(0);o.Jn=o.rH=!0}if(c.AB||c.I1){o.u=c.I1;o.sG=!0}};r.ju.prototype.Bt=function(c,o){if(c.Ba!=null)this.pe(o,c.Ba,c.WX.clone(),JSON.parse(c.aoA));
else{o.es=c.cg.slice(0);o.o3=c.xt.slice(0);o.Jn=o.rH=!0}if(c.AB||c.I1){o.u=c.AB;o.sG=!0}};r.ju.prototype.pe=function(c,o,K,u){var X=o<0?c.es[-1-o]:o<1e6?c.s[o]:c.s[o-1e6].add.TySh,$=X.add.vmsk;
$.channel=null;$.jt=!0;if($.o9){$.o9.channel=null;$.o9.jt=!0}X.add.vmsk=K;X.add.vogk=u;if(1e6<=o){ii.$R(X);
var O=c.s[o-1e6],n=X,x=this.RU;hb.cN(O,x.ru);c.d()}else if(0<=o){K.jt=!0;X.Dm(c);c.d()}c.Jn=c.rH=!0};
r.mc=function(c,o,K,u){r.ju.call(this,c,o,K);this.OS={shape:d$.ib(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{AC:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.akY=u;this.ZI=null;this._j=null;this.$o=null;this.UK=new as};r.mc.prototype=new r.ju;r.mc.prototype.Wp=function(c){return c.dm&&this.id!=r.MC};
r.mc.prototype.enable=function(c,o,K,u,X){this.RU=K;var $=new ev(y.E.M,!0);$.data={Y:y.H.L3,Vp:"crosshair"};
o.I($)};r.mc.prototype.y9=function(c,o,K,u){r.ju.prototype.y9.call(this,c,o,K,u);this.UK.y9(u);this.uP(o,K)};
r.mc.prototype.uP=function(c,o){var K=new ev(y.E.M,!0);K.data={Y:y.H.Wu,f:this.id,fQ:this.L5(o)};c.I(K)};
r.mc.prototype.L5=function(c){var o=this.UK.cr(0),K=this.UK.Pq(0),u=r.mW.J8(this.OS.binop,o,K);if(c.zc==1&&u==0)u=1;
return u};r.mc.prototype.i6=function(c,o,K,u){};r.mc.prototype.x5=function(c,o,K,u,X){var $=K.zc;if($!=2)this.aAJ(o,K);
if($==2&&!c.n_())return;var O=c.Q.FT(X.x,X.y);O=r.W7.Fx(c,O,K);this.$o=[O.x,O.y];this.ZI=O;this._j=new kn(0,0);
this.UK.x5(u)};r.mc.prototype.a9X=function(c,o,K,u){var X=[this.ZI.clone(),o.clone()];K=this.UK.cr(1)||K.N(d2.Qx)||this.UK.Pq(1)?K:null;
if(this.akY)X=r.mc.P7(X[0],X[1],K,!0,this.OS.cstr);if(c)c.Q.cI=new ez(X[0].x,X[0].y,X[1].x-X[0].x,X[1].y-X[0].y);
return this.i6(X[0],X[1],this.UK.cr(1)&&K.N(d2.Qx),this.$o,c.Q,u)};r.mc.prototype.a6x=function(c,o,K){var u=c.Q.FT(o.x,o.y);
if(this.id==r.MC)return u;var X=this.OS.cstr;if(X.AC==2){var $=new ez(u.x-X.x,u.y-X.y,X.x,X.y),O=r.W7.PL(c,$,K);
u.x+=O[0];u.y+=O[1];r.W7.iu(c,$,O)}else u=r.W7.Fx(c,u,K);return u};r.mc.prototype.Xo=function(c,o,K,u,X){if(this.ZI==null)return;
var $=this.$o,O=$.length,n=X?this.a6x(c,X,K):new kn($[O-2],$[O-1]);if(u.N(d2.gO))this.ZI=n.wv(this._j);
else this._j=n.wv(this.ZI);$.push(n.x,n.y);if(this.OS.shape==null)this.OS.shape=K.Vr[0];var x=this.a9X(c,n,u,!0)[0],l=a.A.Uk(x);
c.S.nO=l;if(this.id!=r.MC&&this.id!=r.B4&&this.id!=r.ij)r.vV._g(X,c.Q.cI,c,K);c.Jn=!0;this.UK.Xo()};
r.mc.prototype.ajb=function(c,o,K,u){var X=c[4].clone();if(u){X.x-=o/2;X.y-=K/2}if(this.id==r.B4){o/=2;
K/=2;X.x+=o;X.y+=K;K=-K;o=0}var $=this.i6(X,new kn(X.x+o,X.y+K),!1,this.$o);this.an8(c[0],c[1],c[2],$)};
r.mc.prototype.an8=function(c,o,K,u){var X=K.zc,$=new ev(y.E.XV,!0);if(X==0)$.data=r.mc.a3g(u[1],K);
else if(X==1){var O={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:u[1]};
$.data={ST:"set",sK:O}}else{var O={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:u[1]};$.data={ST:"draw",sK:O}}o.I($);
if(u[1].v.classID=="customShape"&&u[1].v.Nm.v.startsWith("--")){var n=c.Dr(),x=n[0],N=n[1],f=x[N.pop()],z=f.add.vmsk,R=f.add.vogk;
a.O9.arU(R);var V=z.clone();V.$=u[0];this.pe(c,f.wM,V,R)}};r.mc.prototype.v$=function(c,o,K,u,X,$){if(this.ZI==null)return;
var O=this.a6x(c,X,K),n=this.L5(K),x=K.zc,l=this.$o,N=l.length;if(this.id==r.MC&&N<=4){}else if(N<=4){O.x=Math.round(O.x);
O.y=Math.round(O.y);var f=new ev(y.E.M);f.data={Y:y.H.Vl,n9:"createshape",axQ:this.ajb.bind(this),a46:this.name,aBr:[c,o,K,u,O]};
if(!$)o.I(f)}else if(N!=2){var z=this.a9X(c,O,u),R=z[0],V=c.Dr(!0),d=V[0],e=V[1],p=e.length-1;if(x==1&&R.length>2||x==0&&n!=0&&p!=-1&&d[e[p]].wM>=0){R[2].cS=[1,2,3,0][n-1];
var h=d[e.pop()],E=h.add.vmsk,q=h.add.vogk,Z=E.clone(),v=E.clone(),W=JSON.stringify(q);v.$=v.$.concat(R.slice(2));
v.g=[a.o.mn(v.$)-1];var D=a.O9.Ln(z[1]);q.push(D?D:a.O9._6());this.pe(c,h.wM,v,q);this.ZK(c,this.name,h.wM,Z,v,null,W,JSON.stringify(q))}else if(x==0){this.an8(c,o,K,z)}else if(x==2){r.ju.a2V(R,this.OS.anta,K.V5,o)}}this.ZI=null;
c.S.nO=null;c.S.aH=null;c.S.Uo=[];c.Q.cI=null;c.Jn=!0;this.UK.v$();this.uP(o,K)};r.mc.prototype.sE=function(c,o,K,u,X){for(var K in c)this.OS[K]=c[K]};
r.mc.P7=function(c,o,K,u,X){var $=c.x,O=c.y,n=o.x,x=o.y;if(X&&X.AC==2){if(u){n=Math.round(n);x=Math.round(x)}$=n-X.x;
O=x-X.y}else{var l=0;if(X&&X.AC==1)l=X.y/X.x;else if(K&&K.N(d2.Qx))l=1;if(l!=0){if(u){if($<n)$=Math.floor($);
else $=Math.ceil($);if(O<x)O=Math.floor(O);else O=Math.ceil(O)}var N=Math.abs(n-$),f=Math.abs(x-O),z=N;
if(f/N<l)z*=f/N/l;n=n>$?$+z:$-z;x=x>O?O+z*l:O-z*l}if(K&&K.N(d2.u6)){$-=n-$;O-=x-O}}var c=new kn($,O),o=new kn(n,x);
if(u)r.mc.aus(c,o);return[c,o]};r.mc.aus=function(c,o){if(c.x>o.x){var K=c.x;c.x=o.x;o.x=K}if(c.y>o.y){var K=c.y;
c.y=o.y;o.y=K}c.x=Math.floor(c.x);c.y=Math.floor(c.y);o.x=Math.ceil(o.x);o.y=Math.ceil(o.y)};r.mc.a7E=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
r.mc.P5=function(c,o){var K=r.mc.a7E(),u=K.Usng.v.Type;if(o==null){u.v=JSON.parse(JSON.stringify(gH.Kw[c]));
u.v.classID=["solidColorLayer","gradientLayer","patternLayer"][c]}else r.Es.p_(o,u.v,c);return{ST:"make",sK:K}};
r.mc.a3g=function(c,o){var K=o.L6,u=JSON.parse(JSON.stringify(o.KT));u.fillEnabled.v=K.KO!=0;var X=r.mc.P5(Math.max(0,K.KO-1),K.gq);
X.sK.Usng.v.Shp=c;X.sK.Usng.v.strokeStyle={t:"Objc",v:u};return X};r.E5=function(c){r.ju.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][c],[r.Tc,r.aeO,r.aqP,r.apf,r.awd][c],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][c]);
this.Yy=c;this.CF=null;this.S3=null;this.$v=null;this.JC=null;this.Qn=0;this.o$=null;this.XQ=!1;this.YY=!1;
this._2=!1;this.zD=!1;this.v1=!1;this.Ir=!1;this.OM=0};r.E5.prototype=new r.ju;r.E5.prototype.Wp=function(c){return this.$v!=null};
r.E5.prototype.y9=function(c,o,K,u){if(!u.N(d2.u6))this.v1=!1;if(this.Yy==1&&(u.N(d2.UL)||u.N(d2.Kf))&&this.P6(d2.UL,c)){this.GN({Y:"remove",bm:!0},o,c,u,K);
return}if(this.S3)this.en(c,o,K,u,this.S3);r.ju.prototype.y9.call(this,c,o,K,u)};r.E5.prototype.Fc=function(c,o,K,u){var X=c.Q.FT(u.x,u.y,!0),$=r.W7.Fx(c,X,o),O=this.Yy,n=o.zc,x=this.Qn;
if(n==2)n=0;var l=c.Dr(n==1),N=l[0],f=l[1],z=N[f.pop()],R=z?z.add.vmsk:null;if(n==0&&x!=0&&z&&z.wM>=0)n=1;
var V=r.io(c,u);if(O<2&&n==0&&(R==null||R.s5.length==0&&a.o.cQ(R.$,X,!0,V).wM==-1))return["new",!0];
if(R==null)return[null];var d=R.$,e=a.o.TM(d,new ez(X.x-V,X.y-V,V*2,V*2),R.s5,!0),p=a.o.cQ(d,X,!0,V);
if(O<3&&p.wM!=-1&&e[0].length==0)return["add"];if((e[3]!=0||p.wM!=-1)&&(K.N(d2.u6)||O==4))return["cnv"];
var h=e[0].length==1&&d[e[0][0]-1]&&(d[e[0][0]-1].L!=null||d[e[0][0]-1].type==0||d[e[0][0]-1].length==1);
if(h)return[O==0||O==3?"del":O==2?"mva":"mov"];if(O<2){var E=a.o.uM(d,a.o.TT(d,R.s5[0]));if(E!=-1&&kn.je(X,d[E+1].L)<V)return["fin"];
if(R.s5.length!=1)return["new"];return["nrm"]}return[null]};r.E5.prototype.x5=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y,!0),O=r.W7.Fx(c,$,K),n=this.Yy,x=K.zc,l=this.Qn;
if(x==2)x=0;var N=c.Dr(x==1),f=N[0],z=N[1],R=f[z.pop()],V=R?R.add.vmsk:null;if(x==0&&l!=0&&R&&R.wM>=0)x=1;
var d=r.io(c,X),e=this.Fc(c,K,u,X);if(e[0]==null)return;if(e[1]){var p=new ev(y.E.XV,!0),h=a.O9.Rs("customShape",[0,0,1,1],null,null,null,"--");
p.data=r.mc.a3g(h,K);o.I(p);this.Ir=!0;N=c.Dr(!0);f=N[0];z=N[1];R=f[z.pop()];V=R.add.vmsk;V.$=V.$.slice(0,2)}var E=R.add.vogk,q=V.$;
this.$v=V.clone();this.JC=JSON.stringify(E);this.CF=X;this.aAJ(o,K);var Z=a.o.TM(q,new ez($.x-d,$.y-d,d*2,d*2),V.s5,!0),v=a.o.cQ(q,$,!0,d);
if(e[0]=="add"){var W=a.o.uM(q,v.wM),D=q[W].length;while(D<=v.kB){v.kB-=D;W+=D+1}var I={type:4,mL:O.clone(),L:O.clone(),oC:O.clone()},A=W+2+v.kB,U=W+1+(1+v.kB)%D,w=q[A-1],t=q[U];
if(!w.L.Ug(w.oC)||!t.mL.Ug(t.L)){var L=a.A.axo(w.L,w.oC,t.mL,t.L,v.RT);w.oC=L[0];I.mL=L[1];I.L=L[2];
I.oC=L[3];t.mL=L[4]}this.zD=!0;q.splice(A,0,I);q[W].length++;V.s5=[A];if(n==1){I.mL.x+=2;this.Cn(V)}}else if(e[0]=="cnv"){var J=-1;
if(Z[0].length!=0){J=Z[0][0];var b=q[J],F=b.type>=3?3:0,B=J==q.length-1;b.type=F+1;if(!(n==4&&u.N(d2.u6))&&!(n==0&&B))b.mL=b.L.clone();
b.oC=b.L.clone();this.zD=!0;if(n==0&&!B)this.v1=!0}else if(Z[1].length+Z[2].length!=0){var J=Z[2][0];
if(J==null){J=Z[1][0];this.YY=!0}var b=q[J],F=b.type>=3?3:0;b.type=F+2}else J=a.o.uM(q,v.wM)+v.kB+1;
if(J!=-1)V.s5=[J]}else if(e[0]=="mva"){this._2=!0;V.s5=[Z[0][0]]}else if(e[0]=="mov"){var J=Z[0][0],k=q[J],i=k.L,H=Math.abs(a.A.kE(k.mL.x,k.mL.y,i.x,i.y,k.oC.x,k.oC.y));
if(H>.01){k.mL=i.clone();k.oC=i.clone()}if(Date.now()-this.OM<300){var m=k.mL.Ug(i)&&k.oC.Ug(i);if(m)k.oC.offset(2,2);
else{k.mL=i.clone();k.oC=i.clone()}this.OM=0}else this.OM=Date.now();V.s5=[J];this.Cn(V)}else if(e[0]=="del"){var J=Z[0][0],W=a.o.uM(q,a.o.TT(q,J)),h=q[W],j=W+h.length;
if(J!=j||h.type==0){q[W].length--;q.splice(J,1);j--;if(h.length==0){q.splice(W,1);j=-1}}if(j!=-1)V.s5=[j];
else V.s5=[]}else if(e[0]=="fin"){var W=a.o.uM(q,a.o.TT(q,V.s5[0]));q[W].type=0;V.s5=[W+1];this.o$=O;
this.XQ=!0;this.zD=!0}else{var Q=0;if(e[0]=="new"){V.g=[a.o.mn(q)];q.push({type:3,length:1,cS:[1,2,3,0][Math.max(0,l-1)],fl:0,tr:0,op:0});
Q=q.length;E.push(a.O9._6())}if(e[0]=="nrm"){var W=a.o.uM(q,a.o.TT(q,V.s5[0])),k=W+q[W].length;q[W].length++;
Q=k+1;if(k==W+1&&q[W].length!=2)Q=W+1}if(u.N(d2.Qx)&&q[Q-1]&&q[Q-1].L)O=r.YU.rB(q[Q-1].L,O);var I={type:4,mL:O.clone(),L:O.clone(),oC:O.clone()};
q.splice(Q,0,I);V.s5=[Q];this.o$=O;if(this.Yy==1){I.mL.x+=2;this.Cn(V)}this.zD=!0;this.OM=Date.now()}this.pe(c,R.wM,V,E);
c.Jn=!0};r.E5.prototype.Cn=function(c){var o=c.$,K=c.s5[0],u=a.o.uM(o,a.o.TT(o,K))+1,X=o[u-1].length;
if(X<3)return;var $=[],O=[];for(var Y=0;Y<5;Y++){var n=u+(K-u-2+Y+5*X)%X;O.push(n);var x=o[n].L;$.push(x.x,x.y)}var l=a.A.a7A($);
for(var Y=1;Y<4;Y++){var N=Y*4,f=o[O[Y]],x=f.L,z=f.mL.Ug(x)&&f.oC.Ug(x);if(!z){f.mL.Q7(l[N],l[N+1]);
f.oC.Q7(l[N+2],l[N+3])}else{f.mL=x.clone();f.oC=x.clone()}}};r.E5.prototype.en=function(c,o,K,u,X){var $=this.Fc(c,K,u,X)[0],O=null;
if($==null)O="default";else O=r.E5.FW($);var n=new ev(y.E.M,!0);n.data={Y:y.H.L3,Vp:O};o.I(n)};r.E5.prototype.Xo=function(c,o,K,u,X){this.S3=X;
if(this.$v==null){this.en(c,o,K,u,X);return}var $=this.CF;if($&&kn.je($,X)<r.io({Q:{U:1}},X))return;
this.CF=null;var O=c.Q.FT(X.x,X.y),n=r.W7.Fx(c,O,K),x=c.Dr(K.zc==1),l=x[0],N=x[1],f=l[N.pop()],z=f.add.vmsk,R=z.$,V=R[z.s5[0]];
if(this.Yy==1){var d=V.L.Ug(V.mL)&&V.L.Ug(V.oC);V.L=O.clone();V.mL=O.clone();V.oC=O.clone();if(!d)V.mL.x+=2;
this.Cn(z)}else if(u.N(d2.gO)){if(u.N(d2.Qx))n=r.YU.rB(this.o$,n);var e=V.L.wv(V.oC),p=V.mL.wv(V.L);
V.oC=n;V.L=n.add(e);V.mL=V.L.add(p)}else if(this._2){var h=V.mL.wv(V.L),E=V.oC.wv(V.L);V.L=n;V.mL=V.L.add(h);
V.oC=V.L.add(E)}else{if(u.N(d2.Qx))n=r.YU.rB(V.L,n);if(this.YY){var q=V.mL;V.mL=V.oC;V.oC=q}if(this.XQ){var Z=kn.je(V.L,n),v=Z==0?0:kn.je(V.L,V.oC)/Z;
V.oC.x=V.L.x+v*(n.x-V.L.x);V.oC.y=V.L.y+v*(n.y-V.L.y)}else V.oC=n;var W=V.type>=3?3:0;if(this.zD&&!this.v1)V.type=W+u.N(d2.u6)?2:1;
if(V.type-W==1){V.mL=V.L.add(V.L.wv(n))}this.o$=n;if(this.YY){var q=V.mL;V.mL=V.oC;V.oC=q}}this.pe(c,f.wM,z,f.add.vogk);
c.Jn=!0};r.E5.prototype.v$=function(c,o,K,u,X){if(this.$v==null)return;var $=c.Dr(K.zc==1),O=$[0],n=$[1],x=O[n.pop()],l=x.add.vmsk,N=x.add.vogk;
if(this.XQ){l.s5=[];this.pe(c,x.wM,l,x.add.vogk)}var f=this.$v.$.length,z=l.$.length;if(!this.Ir)this.ZK(c,this.XQ?"Close Path":(f==z?"Move":f<z?"Add":"Delete")+" Anchor Point",x.wM,this.$v,l.clone(),null,this.JC,JSON.stringify(N));
this.Ir=!1;this.XQ=!1;this.YY=!1;this._2=!1;this.zD=!1;this.$v=null};r.E5.prototype.sE=function(c,o,K,u,X){this.Qn=c.binop};
r.E5.avi={};r.E5.FW=function(c){var o=r.E5.avi[c],K=64,n=2,x=10,l=25,N=5,f=35;if(o)return o;var u=new ez(0,0,K,K),X=-.38,$=a.kW(K,K);
$.clearRect(0,0,K,K);var O=r.Sm();$.save();$.lineWidth=n;$.translate(4-n/2,4-n/2);$.rotate(X);if(O<1.5){var z=.66;
x*=z;l*=z;N*=z;f*=z}$.lineJoin="miter";$.beginPath();if(c=="cnv"){$.moveTo(-x,l);$.lineTo(0,0);$.lineTo(x,l);
$.stroke()}else{$.moveTo(0,0);$.lineTo(x,l);$.lineTo(N,f);$.lineTo(-N,f);$.lineTo(-x,l);$.lineTo(0,0);
$.moveTo(0,0);$.lineTo(0,l);$.fillStyle="white";$.fill();$.stroke();$.fillStyle="black";$.fillRect(-N-1,f,2*N+2,6);
$.beginPath();$.arc(0,l-2,2.5,0,2*Math.PI,!1);$.fill();$.rotate(-X);$.translate(24,7);$.beginPath();
if(c=="add"||c=="del"||c=="new"){$.moveTo(-5,0);$.lineTo(5,0);if(c=="add"){$.moveTo(0,-5);$.lineTo(0,5)}if(c=="new"){$.moveTo(-2.5,-4.5);
$.lineTo(2.5,4.5);$.moveTo(2.5,-4.5);$.lineTo(-2.5,4.5)}}else if(c=="fin")$.arc(0,0,5,0,2*Math.PI,!1);
else if(c=="mov"||c=="mva"){for(var Y=0;Y<4;Y++){$.moveTo(0,0);$.lineTo(-7,0);var R=1+n;$.moveTo(-7+R,-R);
$.lineTo(-7,0);$.lineTo(-7+R,R);$.rotate(Math.PI/2)}}$.stroke()}$.restore();var V=new Uint8Array($.getImageData(0,0,K,K).data.buffer),d=a.R(K*K);
a.Sw(V,d,3);var e=a.R(K*K),p=[3,5,3,4,8,4,3,5,3];p=a.wq.Lg(p);a.wq.s4(d,e,K,K,p);for(var Y=0;Y<e.length;
Y++)e[Y]=Math.min(255,e[Y]*2);a.wq.s4(e,d,K,K,p);for(var Y=0;Y<d.length;Y++)d[Y]=Math.min(255,d[Y]*2);
var h=V.slice(0);V.fill(255);a.bp(d,V,3);a.a.hA("norm",h,u,V,u,u,1);r.E5.avi[c]=o={lD:V,aB:u,Q2:new kn(4,4)};
return o};r.wK=function(){r.mc.call(this,[10,30],r.MC,"tools/fpen",!1)};r.wK.prototype=new r.mc;r.wK.prototype.i6=function(c,o,K,u,X,$){var O=u.length-1,n=Math.sqrt((u[O-1]-u[0])*(u[O-1]-u[0])+(u[O]-u[1])*(u[O]-u[1]))<6/X.U;
return[a.o.RQ(u,n,$),a.O9.Rs("customShape",[0,0,1,1],null,null,null,"--")]};r.G3=function(){r.ju.call(this,[10,27],r.iZ,"tools/pselect");
this.O7=null;this.ZP=!1;this.jm=null;this.$v=null;this.aL=null;this.JC=null;this.HV=null;this.tt=null;
this.Y4=null;this.Vm=null};r.G3.prototype=new r.ju;r.G3.prototype.Wp=function(c){return c.dm};r.G3.prototype.x5=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=c.Dr(),n=O[0],x=O[1],l,N;
for(var Y=0;Y<x.length;Y++){var f=n[x[Y]],z=f.add.vmsk,R=a.o.cQ(z.$,$).wM;if(R!=-1){this.jm=l=f;N=R}for(var V=0;
V<z.$C.length;V++){var d=a.o.ank(z.$,z.$C[V]);if(d==null)continue;var e=kn.je(d,$);if(e<4*r.Sm()/c.Q.U){var p=c.s[f.wM-1e6].add.TySh,h=p.Bz.Curve,E=p.i,q=h.Reversed;
h.Reversed=!1;var h=ag.MH(p.Bz.Curve);h.Reversed=q;a.A.i(h[0],E,h[0]);this.Y4=[h,V,E.V*E.gI-E.J*E.If];
this.jm=l=f;N=0}}if(this.Y4)break}if(l!=null){var z=l.add.vmsk;z.s5=[];var Z=z.g.indexOf(N);if(u.N(d2.Qx)){if(Z==-1){z.g.push(N);
this.ZP=!0}else z.g.splice(Z,1)}else{if(Z==-1)z.g=[N];this.ZP=!0}this.tt=a.o.$$(z.$,z.g)}this.O7=$;this.Vm=new i$($);
c.rH=!0;c.Jn=!0};r.G3.prototype.Xo=function(c,o,K,u,X){if(this.O7==null)return;var $=c.Q.FT(X.x,X.y);
if(this.ZP){$=this.Vm.Fl($,u);var O=this.jm;if(this.$v==null){this.$v=this.aL=O.add.vmsk.clone();this.JC=this.HV=JSON.stringify(O.add.vogk);
if(u.N(d2.u6)){var n=this.$v.clone(),x=JSON.parse(this.JC),l=r.ju.k0(n,x);r.ju.PF(l,n,x);this.aL=n;this.HV=JSON.stringify(x)}}var n=this.aL.clone(),x=JSON.parse(this.HV);
if(this.Y4){var N=this.Y4,f=N[0][0],z=a.A.dI(f,$.x,$.y);n.$C[N[1]]=N[0][1][z];var R=f[z*2],V=f[z*2+1],d=(f[z*2+2]-R)*($.y-V)-(f[z*2+3]-V)*($.x-R);
if(N[2]<0)d=-d;n.GL=d>0}else{var e=this.tt.clone(),p=e.x,h=e.y;e.offset($.x-this.O7.x,$.y-this.O7.y);
e.x=Math.round(e.x);e.y=Math.round(e.y);var E=r.W7.PL(c,e,K),q=new bE(1,0,0,1,e.x-p+E[0],e.y-h+E[1]);
a.o.Ik(n.$,q,n.g);a.O9.i(x,a.D.I_(q),n.g);r.W7.iu(c,e,E)}this.pe(c,O.wM,n,x)}else{var Z=this.O7;c.S.nO=a.A.W6(new ez(Z.x,Z.y,$.x-Z.x,$.y-Z.y));
c.Jn=!0}};r.G3.prototype.v$=function(c,o,K,u,X){if(this.O7==null)return;var $=c.Q.FT(X.x,X.y),O=this.jm,n=O?O.add.vmsk:null;
if(this.ZP){var x=JSON.stringify(O.add.vogk);if(!this.O7.Ug($))this.ZK(c,"Move Paths",O.wM,this.$v,n,null,this.JC,x);
if(c!=null&&c.S.aH){c.S.aH=null;c.Jn=!0}}else{if(n){var l=this.O7,N=new ez(l.x,l.y,$.x-l.x,$.y-l.y),f=a.o.a6Q(n.$,N);
if(u.N(d2.Qx)){for(var Y=0;Y<f.length;Y++)if(n.g.indexOf(f[Y])==-1)n.g.push(f[Y])}else n.g=f}c.S.nO=null;
c.Jn=!0}this.O7=null;this.$v=null;this.Y4=null;this.ZP=!1;this.Vm=null};r.G3.prototype.adT=function(c){var o=this.jm,K=this.dp,u=o.add.vmsk,X=o.add.vogk,$=X.length;
if(c=="confirm"){if(u!=this.$v)this.ZK(K,[12,94,2],o.wM,this.$v,u,null,this.JC,JSON.stringify(X));this.g8();
return}if(c=="cancel"){this.pe(this.dp,this.jm.wM,this.$v.clone(),JSON.parse(this.JC));this.g8()}else{var u=this.$v.clone(),X=JSON.parse(this.JC);
u.$=a.o.ahz(u.$,u.g,c);this.pe(this.dp,this.jm.wM,u,X)}};r.G3.prototype.g8=function(){this.jm=null;this.$v=null;
this.O7=null;this.pF=this.Hk=-1;this.Vm=null};r.G3.prototype.fb=function(c,o,K,u){r.ju.prototype.fb.call(this,c,o,K,u);
if(K.lm!=this.id)return;if(c.g.length==0)return;var X=c.Dr(),$=X[0],O=X[1];if(O.length==0)return;var n=$[O[0]],x=n.add.vmsk,l=n.add.vstk,N=n.add.vogk,f=new ev(y.E.M,!0);
f.data={Y:y.H.Wu,f:this.id,XF:"main",D5:x?x:null,O9:N};o.I(f)};r.G3.prototype.sE=function(c,o,K,u,X){var $=c.Yg;
if($.D5){var O=K.Dr(),n=O[0],x=O[1];if(x.length==0)return;var l=n[x[0]],N=l.add.vmsk.clone(),f=JSON.stringify(l.add.vogk),z=$.D5;
this.pe(K,l.wM,z,$.O9);var R=[18,5];if(N.$.length==z.$.length)R=N.g[0]==z.g[0]?"Fill Rule":"Path Order";
this.ZK(K,R,l.wM,N,z,null,f,JSON.stringify($.O9))}};r.rm=function(){r.ju.call(this,[10,28],r.FP,"tools/dselect");
this.pF=-1;this.Hk=-1;this.cM=null;this.O7=null;this.jm=null;this.$v=null;this.JC=null;this.dp=null;
this.A7=0;this.a7={psnap:!1};this.Vm=null};r.rm.prototype=new r.ju;r.rm.prototype.Wp=function(c){return c.dm};
r.rm.prototype.sE=function(c){this.a7=c};r.rm.prototype.GN=function(c,o,K,u,X){if(c.Y=="crnr"){if(K==null)return;
var $=K.Dr(),O=$[0],n=$[1];if(n.length==0){alert("No paths selected");return}var x=O[n[0]],l=x.add.vmsk;
if(l.s5.length==0){alert("No corners selected");return}for(var Y=0;Y<l.s5.length;Y++){var N=l.$[l.s5[Y]];
if(!N.L.Ug(N.oC)||!N.L.Ug(N.mL)){alert("Only sharp corners can be rounded");return}}if(this.$v==null){this.$v=x.add.vmsk.clone();
this.JC=JSON.stringify(x.add.vogk);this.jm=x;this.dp=K}var f=new ev(y.E.M,!0);f.data={Y:y.H.Vl,n9:"cornerradius",Ak:5,vu:this.anc.bind(this)};
o.I(f)}else r.ju.prototype.GN.call(this,c,o,K,u,X)};r.rm.prototype.anc=function(c){if(c=="confirm"){var o=this.dp,K=this.jm,u=K.add.vmsk,X=K.add.vogk;
this.ZK(o,[12,94,0],K.wM,this.$v,u,null,this.JC,JSON.stringify(X));this.g8();return}var u=this.$v.clone(),X=JSON.parse(this.JC),$=u.s5;
if(c=="cancel"){}else{var O=[];for(var Y=0;Y<$.length;Y++){var n=$[Y],x=a.o.TT(u.$,n,!0),f=0;if(O.indexOf(x)!=-1)continue;
O.push(x);var l=a.o.uM(u.$,x,!0),N=u.$[l].length,z=[];for(var R=0;R<N;R++){var V=u.s5.indexOf(l+R+1)==-1?0:c;
z.push(V);if(V!=0)f++}a.o.LN(u.$,l,z);for(var R=0;R<$.length;R++)if($[R]>l+N)$[R]+=f}this.PU(u,X);u.s5=[]}this.pe(this.dp,this.jm.wM,u,X);
if(c=="cancel")this.g8()};r.rm.prototype.disable=function(c,o,K,u){this.sC(c)};r.rm.prototype.x5=function(c,o,K,u,X){this.sC(c);
var $=c.Q.FT(X.x,X.y),f,z,R;this.cM=$.clone();var O=c.Dr(),n=O[0],x=O[1];if(x.length==0)return;var l=r.io(c,X),N=new ez($.x-l,$.y-l,l*2,l*2);
for(var V=0;V<x.length;V++){f=this.jm=n[x[V]];z=f.add.vmsk;R=a.o.TM(z.$,N);if(R[0].length+R[1].length+R[2].length!=0)break}var d=[!1,!1,!1];
for(var Y=0;Y<3;Y++){for(var e=0;e<R[Y].length;e++){var p=R[Y][e],h=z.$[p];if(z.s5.indexOf(p)!=-1||Y==1&&z.s5.indexOf(p-1)!=-1&&!h.L.Ug(h.mL)||Y==2&&z.s5.indexOf(p+1)!=-1&&!h.L.Ug(h.oC)){R[Y]=[p];
d[Y]=!0;break}}}if(R[0].length!=0&&(d[0]||!d[1]&&!d[2])){var E=R[0][0],q=z.s5.indexOf(E);if(u.N(d2.Qx)){if(q==-1)z.s5.push(E);
else{z.s5.splice(q,1);c.Jn=!0;return}}else if(q==-1)z.s5=[E];this.pF=E;this.Hk=0}else if(R[1].length!=0&&d[1]){this.pF=R[1][0];
this.Hk=1}else if(R[2].length!=0&&d[2]){this.pF=R[2][0];this.Hk=2}else{var Z=a.o.cQ(z.$,$,!0,l);if(Z.wM==-1)this.O7=$;
else{z.g=[Z.wM];z.s5=[]}}if(this.$v==null){this.$v=f.add.vmsk.clone();this.JC=JSON.stringify(f.add.vogk)}this.Vm=new i$($);
c.Jn=!0};r.rm.prototype.Xo=function(c,o,K,u,X){if(c==null)return;var $=c.Q.FT(X.x,X.y),O=this.jm;if(this.pF!=-1){var n=this.$v.clone(),x=O.add.vogk,l=n.$[this.pF];
l=[l.L,l.mL,l.oC][this.Hk];if(u.N(d2.Qx)){if(this.Hk==0){$=this.Vm.Fl($,u);$.x+=l.x-this.cM.x;$.y+=l.y-this.cM.y}else $=r.YU.rB(n.$[this.pF].L,$)}else{if(this.a7.psnap){$.x=Math.round($.x);
$.y=Math.round($.y)}$=r.W7.Fx(c,$,K)}if(this.Hk==0){var N=new bE(1,0,0,1,$.x-l.x,$.y-l.y);a.o.Ik(n.$,N,null,n.s5)}else{var f=n.$[this.pF],z=f.mL,R=f.oC;
if(this.Hk==2){z=f.oC;R=f.mL}if(u.N(d2.u6)&&(f.type==1||f.type==4))f.type++;z.Q7($.x,$.y);if(f.type==1||f.type==4){var V=kn.je(z,f.L),d=kn.je(R,f.L);
if(d!=0){R.x=f.L.x-(z.x-f.L.x)*(d/V);R.y=f.L.y-(z.y-f.L.y)*(d/V)}}}this.PU(n,x);this.pe(c,O.wM,n,x)}else if(this.O7!=null){var e=this.O7;
c.S.nO=a.A.W6(new ez(e.x,e.y,$.x-e.x,$.y-e.y));c.Jn=!0}else{var p=c.Dr(),h=p[0],E=p[1],O,n,v;if(E.length==0)return;
var q=r.io(c,X),Z=new ez($.x-q,$.y-q,q*2,q*2);for(var W=0;W<E.length;W++){O=h[E[W]];n=O.add.vmsk;v=a.o.TM(n.$,Z);
if(v[0].length+v[1].length+v[2].length!=0)break}this.sC(c);for(var Y=0;Y<3;Y++){for(var D=0;D<v[Y].length;
D++){var I=v[Y][D],A=n.$[I];A=Y==0?A.L:Y==1?A.mL:A.oC;c.S.Wt.push(A.x,A.y);c.Jn=!0}}}};r.rm.prototype.sC=function(c){if(c&&c.S.Wt.length!=0){c.S.Wt=[];
c.Jn=!0}};r.rm.prototype.v$=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=this.jm,n=O?O.add.vmsk:null,x=O?O.add.vogk:null;
if(this.pF!=-1){if(Date.now()-this.A7<300){var l=n.$[this.pF],N=this.Hk,f=null;if(N==0){var z=l.mL.Ug(l.L),R=l.oC.Ug(l.L);
if(!z&&!R){f="Anchor Type";if(l.type==1||l.type==4)l.type++;else{l.type--;l.oC=l.L.add(l.L.wv(l.mL))}}else{f="Add Handles";
if(z&&R){l.mL.x-=30;l.oC.x+=30}else if(z)l.mL=l.L.add(l.L.wv(l.oC));else if(R)l.oC=l.L.add(l.L.wv(l.mL))}}else{f="Remove Handle";
if(N==1)l.mL.Xl(l.L);else l.oC.Xl(l.L)}this.PU(n,x);this.pe(c,O.wM,n,x);this.ZK(c,f,O.wM,this.$v,n,null,this.JC,JSON.stringify(x))}else if(!this.cM.Ug($)){this.ZK(c,"Drag Anchors",O.wM,this.$v,n,null,this.JC,JSON.stringify(x))}this.A7=Date.now()}else if(this.O7!=null){var V=this.O7,d=new ez(V.x,V.y,$.x-V.x,$.y-V.y);
if(d.m<0)d.x+=d.m;if(d.e<0)d.y+=d.e;d.m=Math.abs(d.m);d.e=Math.abs(d.e);var e=a.o.TM(n.$,d);n.s5=e[0].concat(u.N(d2.Qx)?n.s5:[]);
c.S.nO=null}this.g8();c.Jn=!0};r.rm.prototype.g8=function(){this.jm=null;this.$v=null;this.O7=null;this.pF=this.Hk=-1;
this.Vm=null};r.rm.prototype.PU=function(c,o){for(var Y=0;Y<c.s5.length;Y++){var K=a.o.TT(c.$,c.s5[Y]);
a.O9.ug(o,K)}};r.rm.prototype.y9=function(c,o,K,u){if(c==null)return;var X=c.Dr(),$=X[0],O=X[1];if(O.length==0)return;
var n=$[O[0]],x=n.add.vmsk;if(x==null||x.s5.length==0)return;var l=n.add.vogk,N=JSON.stringify(l),f=u.Z8(c?c.Q.yp:0);
if(f.x!=0||f.y!=0){var z=x.clone(),R=x.clone(),V=new bE(1,0,0,1,f.x,f.y);a.o.Ik(R.$,V,null,R.s5);this.PU(R,l);
this.pe(c,n.wM,R,l);this.ZK(c,"Move Anchors",c.g[0],z,R.clone(),!0,N,JSON.stringify(l))}if(u.N(d2.UL)||u.N(d2.Kf))this.GN({Y:"remove",bm:!0,a7p:!0},o,c,u,K)};
r.rm.prototype.ZK=function(c,o,K,u,X,$,O,n){var x=c.qF();if($&&x!=null&&x.f==this&&x.data.alh&&x.data.Ba==K&&JSON.stringify(x.data.WX.s5)==JSON.stringify(u.s5)){x.data.xq=X;
x.data.Ta=n}else{var x=new gv(o,this);x.data={Ba:K,WX:u,xq:X,alh:$,aoA:O,Ta:n};c.bs(x)}};r.Rect=function(){r.mc.call(this,[10,32],r.CJ,"tools/rect",!0)};
r.Rect.prototype=new r.mc;r.Rect.prototype.i6=function(c,o,K){var u=this.OS.crad,X=o.x-c.x,$=o.y-c.y;
return[a.o.YP.Rect(c.x,c.y,X,$,u),a.O9.Rs("Rctn",[c.x,c.y,o.x,o.y],[u,u,u,u])]};r.AT=function(){r.mc.call(this,[10,33],r.tD,"tools/ellipse",!0)};
r.AT.prototype=new r.mc;r.AT.prototype.i6=function(c,o,K){var u=o.x-c.x,X=o.y-c.y;return[a.o.YP.AT(c.x,c.y,u,X),a.O9.Rs("Elps",[c.x,c.y,o.x,o.y])]};
r.H6=function(){r.mc.call(this,[10,34],r.B4,"tools/pshape",!1);this.OS.aopts=[!1,!0,50,100,0]};r.H6.prototype=new r.mc;
r.H6.prototype.i6=function(c,o,K){var u=this.OS.pshape,X=this.OS.crad,$=this.OS.irad/100,O=this.OS.sides,n=this.OS.width,x=this.OS.aopts,l=this.OS.length,e;
o=o.clone();var N=c.x,f=c.y,z=o.x,R=o.y,V=Math.sqrt((z-N)*(z-N)+(R-f)*(R-f)),d=Math.atan2(-R+f,z-N);
if(K)d=Math.round(d*180/Math.PI/15)*15*Math.PI/180;if(u==0)e=a.o.YP.Hr(N,f,V,d,O,X);if(u==1)e=a.o.YP.aiK(N,f,V,d,O,X,$);
if(u==2)e=a.o.YP.$r(c.x,c.y,o.x,o.y,n,x);if(u==3)e=a.o.YP.amV(N,f,V,d,l);return[e,a.O9.Rs("customShape",[c.x,c.y,o.x,o.y],null,null,null,"--")]};
r.H6.prototype.y9=function(c,o,K,u){r.mc.prototype.y9.call(this,c,o,K,u);var X=u.Z8(),$=this.OS,O,n;
if(X.y!=0){var x=-X.y,l=$.pshape;if(l<2){O="sides";n=Math.max(3,Math.min(100,$.sides+x))}else if(l==2){O="width";
n=Math.max(1,Math.min(100,$.width+x))}else if(l==3){O="length";n=Math.max(4,Math.min(40,$.length+x))}}if(X.x!=0){O="pshape";
n=Math.max(0,Math.min(3,$.pshape+X.x))}if(O){var N=new ev(y.E.M,!0),f={};f[O]=n;$[O]=n;N.data={Y:y.H.Wu,f:this.id,D$:"vals",a7k:f};
o.I(N);this.Xo(c,o,K,u)}};r.YV=function(){r.mc.call(this,[10,35],r.ij,"tools/line",!1)};r.YV.prototype=new r.mc;
r.YV.prototype.i6=function(c,o,K){var u=this.OS.width,X=this.OS.aopts;o=o.clone();if(K){o=r.YU.rB(c,o)}return[a.o.YP.$r(c.x,c.y,o.x,o.y,u,X),a.O9.Rs("Ln",null,null,[c.x,c.y,o.x,o.y],u,null,X)]};
r.ko=function(){r.mc.call(this,[10,31],r.ry,"tools/cshape",!0)};r.ko.prototype=new r.mc;r.ko.prototype.i6=function(c,o,K){var u=this.OS.shape,X=u._C.m/u._C.e,$=gU.JA.qA(u.$);
o=o.clone();if(K){o.y=c.y+(o.x-c.x)/X}var O=o.x-c.x,n=o.y-c.y;a.o.Ik($,new bE(O,0,0,n,c.x,c.y));return[$,a.O9.Rs("customShape",[c.x,c.y,o.x,o.y],null,null,null,u.PB)]};
r.W=function(c,o,K){r.vV.call(this,c,o,K);this.M6=0;this.s=null;this.m1=null;this.dd=null;this.S9=1;
this.Gb=0;this.zj=!0;this._e=!1;this.cursor=null;this.B7=null;this.AB=null;this.kc=!1;this.A6=null;this.aqw=0;
this.ti=null;this.Yy=0;this.nn=null;this.jp=null;this.KS=null;this._7=null;this.avS=null;this.Fy=null};
r.W.prototype=new r.vV;r.W.OD=function(c,o,K){var u={classID:"null",null:a5.Vs(K?"Lyr":"Dcmn",!0)};if(c)u.Angl={t:"UntF",v:{type:"#Ang",val:o}};
else u.Axis={t:"enum",v:{Ornt:o}};return{ST:c?"rotateEventEnum":"flip",sK:u}};r.W.prototype.Lz=function(c,o,K,u,X){var $=new ev(y.E.M,!0);
$.data={Y:y.H.Wu,f:this.id,UN:X,fk:c,dd:K};o.I($);this.M_=!1};r.W.prototype.Wp=function(c){return this.jp&&this.jp.aCI()};
r.W.prototype.GN=function(c,o,K,u,X){this.dd=X;if(c.Y=="again"&&this.ti==null)return;if(!this.Yq(K,X))return;
if(this.jp){this.axY(c,this.jp.q4(),o,K,u,X);this.t8(K,X,0,!0);this.zX(K);return}this.ain(K,c.l==null,c.l);
this.arh(K);this.axY(c,c.aee,o,K,u,X);this.l0(K,o,c.u0,!1)};r.W.prototype.axY=function(c,o,K,u,X,$){var O=this.nn;
if(o==null){var n=c.gg!=null?c.gg:4;o=this.jp.aBg()[n]}var x=o.x,l=o.y;if(c.Y=="rot"&&c.b!=Math.PI&&(O.m+O.e&1)==1){x=Math.floor(x);
l=Math.floor(l)}var N=new bE;N.translate(-x,-l);if(c.Y=="rot")N.rotate(c.b);if(c.Y=="scl")N.scale(c.b.x,c.b.y);
if(c.Y=="mat")N.concat(c.b);N.translate(x,l);if(c.Y=="again")N=this.ti;var f=a.D.I_(N);if(c.Y=="dtr"){var z=a.D;
f=z.Jv(c.b,z.R(-x,-l));f=z.Jv(z.R(x,l),f)}var R=this.jp.tK();a.D.i(f,R);this.jp.rc(R);if(c.eR){var V=c.eR.v;
this.sE({XF:"switchWarp"},K,u,X);this.sE({XF:"wrp",eR:V},K,u,X)}};r.W.prototype.I2=function(){return!0};
r.W.prototype.Yq=function(c,o,K){if(c==null)return!1;if(this.id==r.qx)return c.u!=null;var u=c.Dk(!0,null,null,!0);
if(this.id==r.A$&&c.s[u[0]].rect.SR()){alert("Layer is empty.");return!1}for(var Y=0;Y<u.length;Y++){var X=c.s[u[Y]];
if(X.wu(2)||X.wu(31)){alert(iV.get([6,57,0]));return!1}if(X.add.artb){alert("You can not transform the whole artboard");
return!1}if(X.add.TySh)if(!hb.HK(X.add.TySh,o.ru))return!1;if(X.add.SoLd){if(u.length==1&&(K&&K.B5==-1)&&(X.wD()&&X.wD().lS||X.add.vmsk&&X.add.vmsk.lS)){alert("Unlink masks before transforming Smart Object");
return!1}if(!c.apm(X.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+c.Uv(X.add.SoLd.Idnt.v).fp+")");
return!1}}}if(c.u==null)return!0;if(!c.n_())return!1;return c.aiP()};r.W.prototype.x5=function(c,o,K,u,X){var $=this.tM(X,c),O=$[0],n=$[1],x=this.Yy==0?this.jp:this.KS;
c.Q.U*=n;this._e=x.x5(c,K,u,O,null,null,X);this.zX(c,O);c.Q.U/=n;if(this._e&&x.Js(O)){if(Date.now()-this.aqw<250)this.l0(c,o,null,!0);
this.aqw=Date.now()}};r.W.prototype.en=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.L3,Vp:this.cursor};
c.I(o)};r.W.prototype.tM=function(c,o){var K=1;c=o.Q.FT(c.x,c.y);if(this.Yy==1){var u=a.D.ly(this.jp.tK(),this.nn);
K=a.D.EV(u).ea();var X=a.D.fH(u);c=a.D.atp(X,c)}return[c,K]};r.W.prototype.Xo=function(c,o,K,u,X){var $=this.tM(X,c),O=$[0],n=$[1],x=this.Yy==0?this.jp:this.KS;
if(!X.dm){var l="default";if(x){var N=x.pz(O,c.Q.U*n,null,X);if(N)l=N}if(l!=this.cursor){this.cursor=l;
this.en(o)}if(this.KS){this.zX(c,O)}}if(!this._e)return;c.Q.U*=n;var f=this.To=x.Xo(c,K,u,O,this.zj);
c.Q.U/=n;this.t8(c,K,0,!0);this.zX(c,O);this.xD(o)};r.W.prototype.v$=function(c,o,K,u,X){var $=this.tM(X,c),O=$[0],n=$[1];
this.jp.v$(c,K,u,O);if(this.KS){var x=this.KS.v$(c,K,u,O);if(x){this.xD(o,!0);this.zX(c)}}if(this.To){var l=this.ov(),N=a.A.W6(this.nn).j;
a.D.i(l,N);this.jp.rc(N);this.To=null}this._e=!1};r.W.prototype.y9=function(c,o,K,u){if(u.N(d2.m8))this.l0(c,o,null,!0);
else if(u.N(d2.G$))this.GB(c,o);else{var X=this.jp.y9(c,K,u);if(X){this.t8(c,K,0,!0);this.xD(o)}}};r.W.prototype.sE=function(c,o,K,u){if(c.XF=="commit")this.l0(K,o,null,!0);
else if(c.XF=="cancel")this.GB(K,o);else if(c.XF=="switchWarp"){this.Yy=1-this.Yy;this.azq();this.zX(K);
this.xD(o)}else if(c.XF=="wrp"){this.KS.al1(c.eR);this.zX(K);this.t8(K,this.dd,0,!0)}else if(c.XF=="splt")this.KS.at1(c.b);
else if(c.XF=="ctyp"){this.jp.a40(c.ss);this.zX(K);this.xD(o)}else if(c.XF=="cen"){this.jp.aeJ(c.Q2);
this.zX(K);this.t8(K,this.dd,0,!0)}else if(c.XF=="trn"){var X=a.D.I_(c.Qg),$=this.nn,O=a.D.ly(this.jp.tK(),this.nn);
X[6]=O[6],X[7]=O[7];var n=[$.x,$.y,$.x+$.m,$.y,$.x+$.m,$.y+$.e,$.x,$.y+$.e];a.D.i(X,n);this.S9=c.S9;
if(c.Gb!=this.Gb){this.Gb=c.Gb;this.a7b(K)}this.zj=c.zj;this.jp.rc(n);this.zX(K);this.t8(K,this.dd,0,!0)}};
r.W.prototype.zX=function(c,o){if(this.Yy==0)this.jp.SX(c,this.dd);else{this.KS.SX(c,o);var K=this.ov();
a.D.i(K,c.S.vZ.j);a.D.i(K,c.S.bF);a.D.i(K,c.S.yb)}};r.W.prototype.l0=function(c,o,K,u){this.t8(c,this.dd,this.S9);
var X=new gv(K?K:this.name,this),Z="";if(this.M6==0)X.data={type:this.M6,s:this.s,A6:this.m1,h1:r.W.XH(c,this.s)};
else if(this.M6==1){var $=c.s[this.s[0]],O;if($.X1.Xx<=0){O=a.R($.X1.bN.P());a.Sw($.X1.UF,O,3)}else O=c.u.channel;
var n={rect:$.X1.bN.clone(),channel:O};X.data={type:this.M6,l:this.s[0],AB:this.AB,I1:n,B7:this.B7,kc:this.kc,X1:$.X1,A6:this.A6,h1:{aB:$.X1.bN,OQ:$.X1.UF}}}else if(this.M6==2){X.data={type:this.M6,AB:this.AB,I1:{rect:c.u.rect.clone(),channel:c.u.channel.slice(0)}}}c.bs(X);
var x=this.nn,l=a.D.ly(this.jp.tK(),x),N=this.m1,f=N?N[0]:null;if(N&&N.length==1&&f[4]){var z=r.W.sS(f[4].nonAffineTransform),x=a.A.jl(a.Pw.N1(f[4].quiltWarp.v)[3]),R=a.D.ly(z,x);
l=a.D.Jv(l,a.D.fH(R))}var V=a.D.EV(l),d=this.jp.q4(),e=new bE;e.translate(d.x,d.y);e.concat(V);e.translate(-d.x,-d.y);
V=e.clone();var p=-Math.atan2(-V.J,V.V),h=new bE;h.rotate(p);V.concat(h);function E(A,U){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][U],val:A}}}var q=a5.Vs("Lyr",!0);
if(this.id==r.qx)q.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var v=r.W.arf;for(var W in v)if(v[W]==this.jp.IZ)Z=W;
if(Z==""){Z="Qcsi";e.hW=e.qj=0}var D={classID:"null",null:q,FTcs:{t:"enum",v:{QCSt:Z}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:E(e.hW,0),Vrtc:E(e.qj,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:E(Math.atan(V.If/V.gI)*180/Math.PI,2),Vrtc:E(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:E(100*0,1),Vrtc:E(100*0,1)}},Wdth:E(V.V*100,1),Hght:E(V.gI*100,1),Angl:E(p*180/Math.PI,2)};
if(Z=="Qcsi")D.Pstn={t:"Objc",v:{Hrzn:E(d.x,0),Vrtc:E(d.y,0)}};var I=this.KS?this.KS.jW():null;if(I&&!a.Pw.ex(I)){D.quiltWarp={t:"Objc",v:I}}this.M0=o;
this.track({ST:"transform",sK:D});this.escape(c,o,u)};r.W.arf={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
r.W.prototype.GB=function(c,o){if(this.M6==0)r.W.w0(c,this.s,this.m1);else if(this.M6==1){var K=c.s[this.s[0]];
c.u=this.AB;if(!this.kc){K.X1.bN=this.A6.aB;K.X1.UF=this.A6.OQ;K.jC(c,0,0,c.u)}else{K.yF(c,this.B7)}c.d();
c.sG=!0}else if(this.M6==2){c.u=this.AB;c.sG=!0}this.escape(c,o,!0)};r.W.prototype.escape=function(c,o,K){this.jp.clear(c);
if(this.KS)this.KS.clear(c);this.jp=null;this.KS=null;this.Fy=null;this.Yy=0;if(K)this.vT(o,y.E.M,{Y:y.H.aq})};
r.W.prototype.eX=function(c,o){if(c.type==0)r.W.w0(o,c.s,c.h1);else{if(c.type==1){var K=o.s[c.l];if(c.kc){K.X1=c.X1}else{K.X1.bN=c.h1.aB;
K.X1.UF=c.h1.OQ}K.jC(o,0,0,o.u);o.d()}o.u={rect:c.I1.rect.clone(),channel:c.I1.channel.slice(0)};o.sG=!0}};
r.W.prototype.Bt=function(c,o){if(c.type==0)r.W.w0(o,c.s,c.A6);else{if(c.type==1){var K=o.s[c.l];if(c.kc){K.yF(o,c.B7)}else{K.X1.bN=c.A6.aB;
K.X1.UF=c.A6.OQ;K.jC(o,0,0,o.u)}o.d()}o.u=c.AB;o.sG=!0}};r.W.prototype.ain=function(c,o,K){c.Dr();var u=[];
if(K==null)for(var Y=0;Y<c.o3.length;Y++)if(c.es[c.o3[Y]].add.vmsk.$.length>2)u.push(-1-c.o3[Y]);var X=[],$=c.Q.O;
if($[0]+$[1]+$[2]==3)if(K!=null||u.length==0||c.mU!=null&&c.mU.length!=0){if(c.g.length==1){var O=c.s[c.g[0]];
if(O.rD()&&O.NR)X=[c.g[0]]}if(X.length==0)X=c.Dk(o,K,null,!0)}X=X.concat(u);for(var Y=0;Y<c.LL.length;
Y++)X.push(-1e3-c.LL[Y]);this.s=X};r.W.prototype.enable=function(c,o,K,u,X,$){if(this.cursor==null)this.cursor="default";
this.en(o);if(this.jp)return;this.dd=K;this.ain(c,!0);this.arh(c,$&&$.B5!=null&&$.B5!=-1?$.B5:null);
this.xD(o,null,c);this.zX(c);if($&&$.B5==-1)this.sE({XF:"switchWarp"},o,c,u)};r.W.prototype.eA=function(){return[this.zj?1:0]};
r.W.prototype.YF=function(c,o,K){if(c&&c[0]!=null)this.zj=c[0]==1};r.W.prototype.xD=function(c,o,K){var u={Y:y.H.Wu,f:this.id};
if(this.Yy==0){var X=a.D.ly(this.jp.tK(),this.nn),$=a.D.EV(X);u.Qg={kn:$,ss:this.jp.a23(),Q2:this.jp.q4(),aB:this.nn.clone(),zj:this.zj}}else{u.ar6=o;
u.eR=this.KS.jW()}if(K){u.lr=["---"];for(var Y=0;Y<K.lr.length;Y++)u.lr.push(K.lr[Y].name)}u.aDn=this.KS!=null;
this.vT(c,y.E.M,u)};r.W.prototype.arh=function(c,o){var K=this.id==r.qx,u=!0,X=this.s[0],$=c.s[X],n=null,x=null,l=null,z=null;
if(K){this.M6=2;this.AB=c.u}else if(c.u&&this.s.length==1&&X>=0&&!$.rect.SR()){this.M6=1;this.AB=c.u;
this.B7=$.X1;this.kc=!1;if(!$.t1(c,c.u)){this.kc=!0;$.Cd(c,c.u,!1)}this.A6={OQ:$.X1.UF,aB:$.X1.bN}}else{this.M6=0;
this.m1=r.W.XH(c,this.s,null);for(var Y=0;Y<this.m1.length;Y++)if(this.m1[Y][3]!=null)u=!1}var O=this.M6==1;
if(this.m1&&this.m1.length==1){var N=this.m1[0];if(N[2]!=null)x=N[2].D5;if(N[3]==null)O=!0;if(N[3]!=null)l=N[3];
if(N[4]!=null){n=c.s[this.s[0]].add.SoLd;if(N[1]||N[2])O=!1}}var f=K?c.u.rect.clone():r.W.G5(c,this.s);
this.nn=f;if(!K&&x&&gN==1){z=x.afu();this._7=a.D.ly(z,this.nn)}else if(!K&&l&&gN==1){var R=c.s[this.s[0]],l=R.add.TySh;
z=a.A.W6(R.J9.Bp).j;a.A.i(z,l.i,z);this._7=a.D.ly(z,this.nn)}else if(!K&&n){z=r.W.sS(n.nonAffineTransform);
this.nn=a.A.jl(a.Pw.N1(n.quiltWarp.v)[3]);if(O)this.KS=new gl(n.quiltWarp.v);this._7=a.D.ly(z,this.nn)}else{if(O||K)this.KS=new gl(a.Pw.R(this.nn));
this._7=[1,0,0,0,1,0,0,0];if(this.id==r.A$)o=3;z=[f.x,f.y,f.x+f.m,f.y,f.x+f.m,f.y+f.e,f.x,f.y+f.e]}this.jp=new bR(z,!0,!0,u,!1,!1,o);
this.avS=[1,0,0,0,1,0,0,0];this.a7b(c)};r.W.prototype.a7b=function(c){if(this.id==r.A$){var o,K,$=null;
if(this.m1&&c.u==null){var u=this.m1[0][0],X=u.jX;o=X[0];K=X[1]}else if(this.A6){o=this.A6.OQ;K=this.A6.aB}if(this.Gb!=0)$=c.lr[this.Gb-1].U2(K);
this.Fy=a.Kk.abb(o,K.m,K.e,$)}};r.W.G5=function(c,o){if(o==null)o=c.Dk(!0,null,null,!0);var K=new ez,u=new ez;
if(c.u&&o.length==1&&o[0]>=0)K=c.u.rect.clone();else for(var Y=0;Y<o.length;Y++){var X=o[Y],$=0<=X?c.s[X]:-1e3<X?c.es[-1-X]:c.lr[-1e3-X],O=$.add?$.add.vmsk:null,n=0<=X?$.qP(c,o.length==1,!1,!0):-1e3<X?a.o.$$(O.$,o.length==1&&O.g.length!=0?O.g:null):$.rect.clone();
K=K.X3(n);if(X>0&&$.add.artb)u=u.X3($.rA())}return!u.SR()?u:K};r.W.prototype.vT=function(c,o,K,u){var X=new ev(o,!0);
X.data=K;if(u)X.f=u;c.I(X)};r.W.XH=function(c,o,K){var u=[];for(var Y=0;Y<o.length;Y++){var X=o[Y],$,O;
if(X>=0){$=c.s[X];O=$.si(c,K,!0)}else if(X>-1e3){$=c.es[-1-X];O=[2]}else{u.push([null,null,null,null,null,null,null,c.lr[-1e3-X].clone()]);
continue}var n=[],x=O.indexOf(0)!=-1;if(x){var l={jX:$.add.SoLd?null:[$.buffer.slice(0),$.rect.clone()]};
n.push(l);if($.Fe()){var N=$.$a(c);l.aoG=N.buffer.slice(0);l.a9Y=N.rect.clone()}}else n.push(null);if(O.indexOf(1)!=-1)n.push($.wD().clone());
else n.push(null);if(O.indexOf(2)!=-1)n.push({D5:$.add.vmsk.clone(),e_:$.add.vstk?JSON.parse(JSON.stringify($.add.vstk)):null,gq:$.add.vstk?gH.pK(c.s[X].add):null,Be:$.add.vstl?JSON.stringify($.add.vstl):null,O9:$.add.vogk?JSON.parse(JSON.stringify($.add.vogk)):null});
else n.push(null);if($.add.TySh&&x){ii.$R($.add.TySh);n.push($.add.TySh.i.clone())}else n.push(null);
if($.add.SoLd&&x)n.push(JSON.parse(JSON.stringify($.add.SoLd)));else n.push(null);if(O.indexOf(3)!=-1)n.push($.$a(c).F.clone());
else n.push(null);if($.add.lmfx)n.push(JSON.stringify($.add.lmfx));else n.push(null);u.push(n)}return u};
r.W.w0=function(c,o,K){for(var Y=0;Y<o.length;Y++){var u=o[Y],X=0<=u?c.s[u]:-1e3<u?c.es[-1-u]:c.lr[-1e3-u],$=K[Y];
if($[0]){if($[0].jX){X.rect=$[0].jX[1].clone();X.buffer=$[0].jX[0].slice(0)}if(X.Fe()){var O=X.$a(c);
O.buffer=$[0].aoG.slice(0);O.rect=$[0].a9Y.clone()}}if($[1]){X.wD().channel=$[1].channel.slice(0);X.wD().rect=$[1].rect.clone();
X.wD().jt=!0}if($[2]){X.add.vmsk=$[2].D5.clone();if($[2].gq)gH.mK(X.add,$[2].gq);if($[2].e_)X.add.vstk=JSON.parse(JSON.stringify($[2].e_));
if($[2].O9)X.add.vogk=JSON.parse(JSON.stringify($[2].O9));if($[2].Be)X.add.vstl=JSON.parse($[2].Be)}if($[3]){X.add.TySh.i=$[3].clone();
ii.Bm(X.add.TySh)}if($[4]){X.add.SoLd=JSON.parse(JSON.stringify($[4]))}if($[5]){var n=X.$a(c).F;n.channel=$[5].channel.slice(0);
n.rect=$[5].rect.clone()}if($[6]){X.add.lmfx=JSON.parse($[6])}if($[7]){X.channel=$[7].channel.slice(0);
X.rect=$[7].rect.clone();X.jt=!0}if(0<=u){X.Dm(c);X.d();if($[4])X.oP(c,!1)}}c.d()};r.W.YS=function(c,o,K,u,X,$,O,n,x,l){if(typeof $[0]=="number"){var N=[];
for(var Y=0;Y<K.length;Y++)N[Y]=$;$=N}for(var Y=0;Y<K.length;Y++){var f=$[Y],z=a.D.EV(f),R=z.ea(),V=K[Y],d=0<=V?c.s[V]:-1e3<V?c.es[-1-V]:c.lr[-1e3-V],e=u[Y];
if(d.add&&d.add.lmfx&&n)bL.XE(d.add.lmfx,R);if(e[0]&&!e[3]&&!e[4]&&!e[5]){var p=e[0].jX;if(x){var h=x.clone(),E=a.R(h.P()*4);
a.Ui(p[0],p[1],E,h);p=[E,h]}var q=r.W.QC(p,X,f,O,X==0?d.buffer.buffer:null,null,null,l);if(q){d.rect=q.rect;
d.buffer=q.buffer}}if(e[1]){var Z=d.wD();r.W.b8(c,e[1],Z,X,f,O,Z.lS&&O&&!a.Pw.ex(O)&&e[0]?e[0].jX[1]:null);
if(x){var h=d.rect.ar(x),v=a.R(h.P());a.qv(Z.channel,Z.rect,v,h);Z.channel=v;Z.rect=h}}if(e[2]){var W=O&&!a.Pw.ex(O),D=e[2].D5.clone(),I=K.length==1&&D.g.length!=0,A=K.length==1&&D.s5.length>1;
if(A)I=!1;var U=I?D.g:null,w=A?D.s5:null;if(W){var t=a.Pw.N1(O);a.D.i(f,t[3]);a.o.arO(D.$,t,U,w)}else a.o.atf(D.$,f,U,w);
if(d.add.vstk&&n){d.add.vstk.strokeStyleLineWidth.v.val=e[2].e_.strokeStyleLineWidth.v.val*R;var L=e[2].gq;
if(L&&L.KO==3){L=JSON.parse(JSON.stringify(L));var J=L.gq.phase.v;L.gq.Scl.v.val=Math.round(L.gq.Scl.v.val*R);
J.Hrzn.v=Math.round(J.Hrzn.v*R);J.Vrtc.v=Math.round(J.Vrtc.v*R);gH.mK(d.add,L)}}if(d.add.vogk){d.add.vogk=JSON.parse(JSON.stringify(e[2].O9));
if(W||A)a.O9.arU(d.add.vogk);else a.O9.i(d.add.vogk,f,K.length>1?[]:D.g,n)}if(d.add.vstl){var b=d.add.vstl=JSON.parse(e[2].Be);
for(var F=0;F<2;F++){var B=F==0?b.QQ:b.uK;if(B==null||B[3]==null)continue;var k=B[3],i=new bE(k[0],k[1],k[2],k[3],k[4],k[5]);
i.concat(z);B[3]=[i.V,i.J,i.If,i.gI,i.hW,i.qj]}}D.ej*=R;var H=new bE;H.rotate(D.JR);H.concat(z);D.JR=Math.atan2(-H.J,H.V);
d.add.vmsk=D;if(d.add.vogk)a.O9.Tu(d.add.vogk,d.add.vmsk)}if(e[3]){var i=e[3].clone();i.concat(z);d.add.TySh.i=i;
ii.Bm(d.add.TySh);hb.cN(d,o.ru)}if(e[4]){var m=d.add.SoLd,j=r.W.sS(e[4].nonAffineTransform);a.D.i(f,j);
var Q=a.A.P3(j);if(bR.aw(j)){if(O){var G=a.A.jl(a.Pw.N1(e[4].quiltWarp.v)[3]),v=a.D.ly(j,G),g=a.A.jl(a.Pw.N1(O)[3]);
j=[g.x,g.y,g.x+g.m,g.y,g.x+g.m,g.y+g.e,g.x,g.y+g.e];a.D.i(v,j);m.quiltWarp.v=O}var P=a.D.ly(j),M=j;if(!a.D.TP(P)){P[6]=P[7]=0;
M=[0,0,1,0,1,1,0,1];a.D.i(P,M)}m.Trnf=r.W.yf(M);m.nonAffineTransform=r.W.yf(j);if(m.filterFX)m.filterFX=JSON.parse(JSON.stringify(e[4].filterFX));
r.W.ajq(m,z);d.oP(c,X==0,o.ru)}}if(e[5])r.W.b8(c,e[5],d.$a(c).F,X,f,O);if(e[7])r.W.b8(c,e[7],d,X,f,O);
if(0<=V){if(!l)d.kj();d.Dm(c);d.d()}}c.d()};r.W.ia=function(c,o){var K=o.ea(),u=0;a.Ih(c);var X=a.acq(c,o,.3,4);
u=X[0];o=X[1];var $=c[u],O=c[u+1],n=O.m,x=O.e,l=a.A.W6(O).j;a.A.i(l,o,l);var N=a.A.P3(l),f=a.R(N.P()),z=N.x,R=N.y,V=N.m,d=N.e,e=o.clone();
e.fH();var p=e.QB(new kn(0,0)),h=e.QB(new kn(1,0)),E=h.x-p.x,q=h.y-p.y;for(var Z=0;Z<d;Z++){var v=e.V*(z+.5)+e.If*(Z+R+.5)+e.hW,W=e.J*(z+.5)+e.gI*(Z+R+.5)+e.qj;
for(var D=0;D<V;D++){f[Z*V+D]=Math.floor(.5+a.D.apK(v,W,$,n,x));v+=E;W+=q}}return{rect:N,channel:f}};
r.W.IN=function(c,o,K,u,X,$){if(K==null)K=!1;return r.W.QC(c,K?0:1,a.D.I_(o),null,u,X,$,K)};r.W.QC=function(c,o,K,u,X,$,O,n){if(n==null)n=!1;
if(n&&O)throw"e";var x={},N=0;if(u&&!a.Pw.ex(u)){var l=a.Pw.N1(u);a.D.i(K,l[3]);x.rect=a.A.P3(l[3]);
x.buffer=a.R(x.rect.P()*4);a.ul.drawImage(l,c[0],c[1].m,c[1].e,x.buffer,x.rect,o==0);return x}if(a.D.TP(K)){a.hR(c);
var f=.3,N=0,z=a.D.EV(K),R=c[1],V=R.P()*z.ea();if(n&&V>4e6)f=V>8e6?2.2:1.2;var d=a.acq(c,z,f,16);N=d[0];
K=a.D.I_(d[1])}var e=c[N],R=c[N+1],p=a.D.Jv(K,a.D.I_(new bE(R.m,0,0,R.e,R.x,R.y))),h=[0,0,1,0,1,1,0,1];
a.D.i(p,h);x.rect=a.A.P3(h);if(O)x.rect=x.rect.ar(O);if(n){while((x.rect.m&3)!=0)x.rect.m++;while((x.rect.e&3)!=0)x.rect.e++}if(!bR.aw(h)||x.rect.m>1e5||x.rect.e>1e5||x.rect.P()>3e4*3e4)return null;
var E=x.rect.P()*4;if(X&&X.byteLength>=E&&E>=X.byteLength>>2){x.buffer=new Uint8Array(X)}else{x.buffer=a.R(E)}a.D.drawImage(p,e,R.m,R.e,x.buffer,x.rect,o==0,$,n);
if(o==2&&x.buffer){var q=x.rect.m,Z=x.rect.e,v;v=[0,-1,0,-1,16,-1,0,-1,0];v=a.wq.Lg(v);var W=x.buffer.slice(0);
a.wq.Wb(W,x.buffer,q,Z,v,255,!1,!0)}if(x.buffer)return x};r.W.b8=function(c,o,K,u,X,$,O){var n=o.rect,x=o.channel;
if(O){n=O;x=o.U2(n)}if(o.color==255)a.fH(x);var l=a.R(n.P()*4);a.bp(x,l,3);var N=r.W.QC([l,n],u,X,$);
if(N){K.rect=N.rect;K.channel=a.R(N.rect.P());a.Sw(N.buffer,K.channel,3);K.jt=!0}if(o.color==255){a.fH(x);
if(N)a.fH(K.channel)}};r.W.ajq=function(c,o){var K=c.filterFX;if(K)K=K.v.filterFXList;if(K)K=K.v;if(K)for(var u=0;
u<K.length;u++){var X=K[u].v.Fltr;if(X==null||X.v.classID!="rigidTransform")continue;X=X.v;console.log(X);
var $=[];for(var O=0;O<4;O++)$.push(X["PuX"+O].v,X["PuY"+O].v);a.A.i($,o,$);for(var O=0;O<4;O++){X["PuX"+O].v=$[O*2];
X["PuY"+O].v=$[O*2+1]}var n=["PinP","posFinalPins"],x=["originalVertexArray","deformedVertexArray"],l=X.puppetShapeList.v;
for(var N=0;N<l.length;N++){var f=l[N].v;for(var z=0;z<n.length;z++){var R=r.W.sS(f[n[z]]);a.A.i(R,o,R);
f[n[z]]=r.W.yf(R);var V=new Uint8Array(f[x[z]].v),d=new Float32Array(V.buffer);a.A.i(d,o,d);var e=[];
for(var p=0;p<V.length;p++)e[p]=V[p];f[x[z]].v=e}}}};r.W.sS=function(c){var o=[],K=c.v.length;for(var Y=0;
Y<K;Y++)o.push(c.v[Y].v);return o};r.W.yf=function(c){var o={t:"VlLs",v:[]},K=c.length;for(var Y=0;Y<K;
Y++)o.v.push({t:"doub",v:c[Y]});return o};r.W.prototype.azq=function(){var c=a.A.jl(a.Pw.N1(this.KS.jW())[3]),o=a.D.ly(this.jp.tK(),this.nn),K=[c.x,c.y,c.x+c.m,c.y,c.x+c.m,c.y+c.e,c.x,c.y+c.e];
a.D.i(o,K);this.jp.rc(K);this.nn=c};r.W.prototype.ov=function(){var c=a.D.ly(this.jp.tK(),this.nn);if(this.To)c=a.D.Jv(c,a.D.I_(this.To));
return c};r.W.prototype.t8=function(c,o,K,u){var X=this.ov();X=a.D.Jv(X,a.D.fH(this._7));var $=this.KS?this.KS.jW():null;
if(this.M6==0){var O=this.ti=a.D.EV(X);if(this.id==r.A$){var n=this.m1[0][0],x=n.jX,l=x[1],N=~~(l.m*Math.max(0,O.V)),f=~~(l.e*Math.max(0,O.gI)),z=new ez(Math.round(O.V*l.x+O.hW),Math.round(O.gI*l.y+O.qj),N,f),R=a.Kk.i(this.Fy,z),V=c.s[this.s[0]];
V.buffer=R;V.rect=z;V.d();c.d()}else r.W.YS(c,o,this.s,this.m1,K,X,$,null,null,u)}else if(this.M6==1){var d=c.s[this.s[0]],l=this.A6.aB;
if(d.Xx<=0){var e=this.A6.OQ,p=this.AB,h=null;if($&&!a.Pw.ex($)&&!p.rect.Ug(l)){var R=a.R(p.rect.P()*4);
a.Ui(e,l,R,p.rect);e=R;l=p.rect}if(this.id==r.A$){var O=this.ti=a.D.EV(X),N=~~(l.m*Math.max(0,O.V)),f=~~(l.e*Math.max(0,O.gI)),z=new ez(Math.round(O.V*l.x+O.hW),Math.round(O.gI*l.y+O.qj),N,f),R=a.Kk.i(this.Fy,z);
h={buffer:R,rect:z}}else h=r.W.QC([e,l],K,X,$);if(h){d.X1.UF=h.buffer;d.X1.bN=h.rect;var E=a.R(h.rect.P());
a.Sw(d.X1.UF,E,3);c.u={channel:E,rect:d.X1.bN.clone()}}}else{var q=a.R(l.P()*4);a.bp(this.A6.OQ,q,3);
var h=r.W.QC([q,l],K,X,$);if(h){d.X1.UF=a.R(h.rect.P());a.Sw(h.buffer,d.X1.UF,3);d.X1.bN=h.rect}this.a2J(c,K,X,$)}d.jC(c,0,0,c.u);
if(K!=0){d.kj();a.kj(c.u)}c.sG=!0;c.d()}else if(this.M6==2)this.a2J(c,K,X,$)};r.W.prototype.a2J=function(c,o,K,u){var X=this.AB.rect,$=a.R(X.P()*4);
a.bp(this.AB.channel,$,3);var O=r.W.QC([$,X],o,K,u),n=a.R(O.rect.P());a.Sw(O.buffer,n,3);c.u={channel:n,rect:O.rect};
c.sG=!0};r.W.prototype.disable=function(c,o,K,u){if(this.jp)this.l0(c,o,null,!0)};r.apw=function(){r.W.call(this,[10,16],r.Le,"tools/transform")};
r.apw.prototype=new r.W;r.ajC=function(){r.W.call(this,[7,10],r.qx,"tools/transform")};r.ajC.prototype=new r.W;
r.aDk=function(){r.W.call(this,[10,48],r.A$,"tools/transform")};r.aDk.prototype=new r.W;r.xF=function(c,o,K){r.vV.call(this,[10,46],r.lF,"tools/transform");
this._R=[1,1,2,!0];this.MN="rigidTransform";this.Zw=null;this.agD=null;this.ZX=null;this.uf=null;this.S3=null;
this.WY=null;this.B8=[]};r.xF.prototype=new r.vV;r.xF.prototype.I2=function(){return!0};r.xF.XZ=function(c){if(c==null)return!1;
if(c.g.length!=1)return!1;var o=c.s[c.g[0]];return o.add.SoLd||c.n_(!1)};r.xF.prototype.Yq=function(c,o){return r.xF.XZ(c)};
r.xF.prototype.enable=function(c,o,K,u,X,$,O){this.agD=$.a$;var n=$.a$,x,d=null;if(n){var l=c.s[n.l];
if(l.add.SoLd.filterFX!=null){var N=l.add.SoLd.filterFX.v.filterFXList.v;if(N[n.index])x=JSON.parse(JSON.stringify(N[n.index].v.Fltr.v))}}var f=x==null,l=c.s[c.g[0]],z=l.buffer,R=l.rect,V=l.add.SoLd;
if(V){var e=V.nonAffineTransform.v;d=[];for(var Y=0;Y<4;Y++)d.push(e[Y*2].v,e[Y*2+1].v);if(f)this.vL("edit",o);
var p=l.$a(c);z=p.buffer;R=p.rect}this.Zw={buffer:z.slice(0),rect:R.clone(),a5H:d};if(f)x=r.xF.Tr(this.Zw,this._R);
this.ZX=x;this.uf=r.xF.yC(this.ZX,this._R);this.r$();this.np(c);if(f)this.gd(o);var h=new ev(y.E.M,!0);
h.data={Y:y.H.Wu,f:this.id,EU:this._R};o.I(h);h.data={Y:y.H.L3,Vp:"default"};o.I(h)};r.xF.prototype.disable=function(c,o,K,u){if(this.uf)this.l0(c,o,!0)};
r.xF.prototype.r$=function(c){var o=this.uf;this.B8=[];for(var Y=0;Y<o.length;Y++){var K=o[Y];for(var u=0;
u<K.g.length;u++)this.B8.push([Y,K.g[Y]]);K.Nd=a.it.apN(K);if(c)a.it.aqt(K)}};r.xF.prototype.sE=function(c,o,K,u){if(c.XF=="commit")this.l0(K,o,!0);
else if(c.XF=="cancel")this.GB(K,o,!0);else if(c.XF=="prm"){var X=!1;for(var Y=0;Y<3;Y++)if(this._R[Y]!=c.EU[Y])X=!0;
this._R=c.EU;if(X){this.ZX=r.xF.Tr(this.Zw,this._R,this.ZX);this.uf=r.xF.yC(this.ZX,this._R);this.r$(!0);
this.gd(o)}this.np(K)}else if(c.XF=="moveDepth"){var $=this.uf;for(var O=0;O<$.length;O++){var n=$[O];
for(var Y=0;Y<n.g.length;Y++){var x=n.g[Y];n.L$[x]+=c.a5C?1:-1}}this.gd(o)}};r.xF.prototype.P6=function(c,o){return c==d2.UL||c==d2.Kf};
r.xF.prototype.y9=function(c,o,K,u){var X=u.Z8();if(u.N(d2.m8))this.l0(c,o,!0);else if(u.N(d2.G$))this.GB(c,o,!0);
else if(u.N(d2.UL)||u.N(d2.Kf)){var $=this.uf;for(var O=0;O<$.length;O++){var n=$[O];n.g.sort(function(N,f){return f-N});
for(var Y=0;Y<n.g.length;Y++){var x=n.g[Y],l=x*2;n.L$.splice(x,1);n.ZY.splice(x,1);n.Rf.splice(x,1);
n.fw.splice(x,1);n.GE.splice(l,2);n.uL.splice(l,2)}n.g=[];if(n.fw.length==0){n.bG=n.pT.slice(0);n.bV=n.pT.slice(0)}}this.r$(!0);
this.gd(o);this.np(c)}else if(X.x!=0||X.y!=0){this.ahP(c,X.x,X.y,o);this.xn=null}};r.xF.prototype.l0=function(c,o,K){this.vL("confirm",o);
this.escape(c,o,K)};r.xF.prototype.GB=function(c,o,K){this.vL("cancel",o);this.escape(c,o,K)};r.xF.prototype.escape=function(c,o,K){c.S.nO=null;
c.S.Wt=[];c.S.Nm=[];c.Jn=!0;this.uf=null;var u=new ev(y.E.M,!0);u.data={Y:y.H.aq};if(K)o.I(u)};r.xF.prototype.x5=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=$.x,n=$.y,x=this.uf,l=null,N=[0,2,4,1.2,1.2,1.2],f=-1,z=r.io(c,X);
for(var Y=0;Y<x.length;Y++){var R=x[Y],V=a.A.dI(R.uL,O,n,z);if(V!=-1)l=[Y,V];if(f==-1&&a.it.a8z.aCs(R.bV,R.zC,O,n))f=Y}if(l==null&&f!=-1){var R=x[f];
r.xF.ax$(R,O,n,O,n,0);l=[f,R.fw.length-1];R.Nd=a.it.apN(R)}this.S3=$;if(l){var d=x[l[0]].g.indexOf(l[1])!=-1;
if(u.N(d2.Qx)&&!d){x[l[0]].g.push(l[1]);this.B8.push(l)}else if(!d){x[l[0]].g=[l[1]];this.B8=[l]}}this.np(c)};
r.xF.ax$=function(c,o,K,u,X,$){var O=a.A.dI(c.bV,o,K);c.fw.push(O);c.uL.push(u,X);c.GE.push(c.bV[O*2]-o,c.bV[O*2+1]-K);
c.Rf.push(0);c.ZY.push(!1);c.L$.push($)};r.xF.prototype.Xo=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=this.S3;
if(O)this.ahP(c,$.x-O.x,$.y-O.y,o)};r.xF.prototype.ahP=function(c,o,K,u){var X={},$=this.B8,O=this.uf;
if(this.xn==null){this.xn=[];for(var Y=0;Y<O.length;Y++)this.xn.push(O[Y].uL.slice(0))}for(var Y=0;Y<$.length;
Y++){var n=this.B8[Y],x=n[0],l=O[n[0]],N=n[1]*2;l.uL[N+0]=this.xn[x][N+0]+o;l.uL[N+1]=this.xn[x][N+1]+K;
X[x]=x}for(var x in X)a.it.aqt(this.uf[X[x]]);this.np(c);this.gd(u)};r.xF.prototype.vL=function(c,o){var K=new ev(y.E.v,!0);
K.f=r.qS;K.data={Y:c,a$:this.agD,MN:this.MN,NT:this.ZX};o.I(K)};r.xF.prototype.v$=function(c,o,K,u,X){this.S3=null;
this.xn=null};r.xF.prototype.gd=function(c){r.xF.ayj(this.uf,this._R,this.ZX);this.vL("edit",c)};r.xF.prototype.np=function(c){var o=this.uf,K=this.ZX;
c.S.nO={j:[],G:[]};c.S.Wt=[];c.S.Nm=[];for(var Y=0;Y<o.length;Y++){var u=o[Y];for(var X=0;X<u.uL.length;
X+=2){var $=c.S.Nm;if(u.g.indexOf(X>>>1)!=-1)$=c.S.Wt;$.push(u.uL[X],u.uL[X+1])}if(this._R[3])a.A.concat(c.S.nO,a.A.a2E(u.bV,u.zC))}c.Jn=!0};
r.xF.Tr=function(c,o,K){var u=c.buffer,X=c.rect,$=c.a5H,O=gZ.ib("rigidTransform");if($)for(var Y=0;Y<4;
Y++){O["PuX"+Y].v=$[Y*2];O["PuY"+Y].v=$[Y*2+1]}var n=O.puppetShapeList.v,x=a.it.a7F(u,X.m,X.e,o[1],o[2]),l=[];
for(var N=0;N<x.length;N++){var f={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
f.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var z=x[N];n.push({t:"Objc",v:f});var R=z.pT.slice(0);a.A.i(R,new bE(1,0,0,1,X.x,X.y),R);var V=z.zC;
for(var Y=0;Y<V.length;Y+=3){var d=V[Y+1];V[Y+1]=V[Y+2];V[Y+2]=d}l.push({zC:V,pT:R,bG:R,bV:R,fw:[],GE:[],uL:[],Nd:null,g:[],Rf:[],ZY:[],L$:[]})}if(K){var e=r.xF.yC(K,[]),p=l[0];
for(var Y=0;Y<e.length;Y++){var h=e[Y];for(var E=0;E<h.g.length;E++)p.g.push((p.uL.length>>>1)+h.g[E]);
for(var E=0;E<h.fw.length;E++){var q=h.fw[E]*2,Z=h.pT[q]-h.GE[E*2],v=h.pT[q+1]-h.GE[E*2+1];r.xF.ax$(p,Z,v,h.uL[E*2],h.uL[E*2+1],h.L$[E])}}}r.xF.ayj(l,o,O);
return O};r.xF.yC=function(c,o){var K=r.W.sS,u=c.puppetShapeList.v,X=[];for(var $=0;$<u.length;$++){var O=u[$].v;
o[0]=O.meshRigidity.v-1;o[1]=O.meshQuality.v-1;o[2]=O.meshExpansion.v;var n=O.pinVertexIndices.v.length,x=O.meshBoundaryPath.v.pathComponents.v;
if(x.length!=0){var l=x[0].v.SbpL.v[0].v.Pts;l.v=[]}var N=new Uint32Array(new Uint8Array(O.indexArray.v).buffer),f=new Float32Array(new Uint8Array(O.originalVertexArray.v).buffer),z=new Float32Array(new Uint8Array(O.deformedVertexArray.v).buffer),R=[],V=[],d=[];
for(var Y=0;Y<N.length;Y++)R.push(N[Y]);for(var Y=0;Y<f.length;Y++){V.push(f[Y]);d.push(z[Y])}var e=K(O.pinVertexIndices),p=K(O.pinOffsets),h=K(O.posFinalPins),E=K(O.PnRt),q=K(O.PnOv),Z=K(O.PnDp),v=K(O.selectedPin);
X.push({zC:R,pT:V,bG:d.slice(0),bV:d,fw:e,GE:p,uL:h,Nd:null,Rf:E,ZY:q,L$:Z,g:v})}return X};r.xF.ayj=function(c,o,K){function u(z,R){var V=[];
for(var Y=0;Y<z.length;Y++)V.push({t:R,v:z[Y]});return V}function X(z,R,V){var d=new(V?Uint32Array:Float32Array)(z),e=new Uint8Array(d.buffer);
for(var Y=0;Y<e.length;Y++)R[Y]=e[Y]}var $=K.puppetShapeList.v;for(var O=0;O<$.length;O++){var n=c[O],x=$[O].v;
x.meshRigidity.v=o[0]+1;x.meshQuality.v=o[1]+1;x.meshExpansion.v=o[2];X(n.zC,x.indexArray.v,!0);X(n.pT,x.originalVertexArray.v);
X(n.bV,x.deformedVertexArray.v);var l=[];for(var Y=0;Y<n.fw.length;Y++){var N=n.fw[Y]*2,f=Y*2;l[f]=n.pT[N]-n.GE[f];
l[f+1]=n.pT[N+1]-n.GE[f+1]}x.PinP.v=u(l,"doub");x.pinVertexIndices.v=u(n.fw,"long");x.pinOffsets.v=u(n.GE,"doub");
x.posFinalPins.v=u(n.uL,"doub");x.PnRt.v=u(n.Rf,"long");x.PnOv.v=u(n.ZY,"bool");x.PnDp.v=u(n.L$,"doub");
x.selectedPin.v=u(n.g,"long")}};r.Jy=function(c,o,K){r.vV.call(this,c?c:[10,40],o?o:r.t4,K?K:"tools/slice");
this.Cv=null;this.M0=null;this.r9=null;this.aoI=null;this.IE=null;this.ph=null};r.Jy.prototype=new r.vV;
r.Jy.cQ=function(c,o){var K=-1;for(var Y=0;Y<c.length;Y++){var u=r.Jy.M4(c,Y);if(u[0]<=o.x&&o.x<=u[2]&&u[1]<=o.y&&o.y<=u[3]){K=Y;
break}}return K};r.Jy.prototype.GN=function(c,o,K,u,X){if(K==null)return;this.wR(K);if(c.Y=="fromAction"){var $=c.Va,O=$.ST,n=$.sK,x=K.Tf(),l=K.bl(),N=l==-1?new ez(0,0,K.m,K.e):K.s[l].rA();
if(O=="divide"){if(K.uW.length!=0){var f=K.uW[0],z=r.Jy.M4(K.ni,f);N=new ez(z[0],z[1],z[2]-z[0],z[3]-z[1]);
K.ni.splice(f,1);K.uW=[]}x=[[],[]];for(var R=0;R<2;R++){var V=["Across","Down"][R],d=n["pixels"+V]?0:1,e=n[["pixels","slices"][d]+V];
if(e==null)continue;e=e.v;var p=R==0?N.x:N.y,h=R==0?N.m:N.e;if(d==0)for(var Y=1;Y*e<h;Y++){x[0].push([R,p+Y*e]);
x[1].push(l)}else{var E=Math.floor(h/e);for(var Y=1;Y<e;Y++){x[0].push([R,p+Y*E]);x[1].push(l)}}}}var q=[N.x,N.x+N.m],Z=[N.y,N.y+N.e];
for(var Y=0;Y<x[0].length;Y++){var v=x[0][Y],W=Math.round(v[1]),D=x[1][Y];if(D!=-1&&D!=l)continue;if(v[0]==0&&q.indexOf(W)==-1)q.push(W);
if(v[0]==1&&Z.indexOf(W)==-1)Z.push(W)}q.sort(function(B,k){return B-k});Z.sort(function(B,k){return B-k});
for(var I=1;I<Z.length;I++)for(var A=1;A<q.length;A++){K.ni.push(r.Jy.yM());r.Jy.aP(K.ni,K.ni.length-1,[q[A-1],Z[I-1],q[A],Z[I]]);
K.Jn=!0}}else if(c.Y=="reorder"){if(K.uW.length==0)return;var U=K.ni,w=K.uW;w.sort(function(B,k){return B-k});
console.log(w);var t=U.slice(0),L=[],J=[];for(var Y=0;Y<w.length;Y++){var f=w[Y],b=U[f];J.push(b);t.splice(t.indexOf(b),1)}var F=Math.max(0,Math.min(t.length,w[0]-c.dir));
for(var Y=0;Y<J.length;Y++){t.splice(F+Y,0,J[Y]);L.push(F+Y)}K.ni=t;K.uW=L}else if(c.Y=="delete"){var U=K.ni.slice(0);
for(var Y=0;Y<K.uW.length;Y++)K.ni.splice(K.ni.indexOf(U[K.uW[Y]]),1);K.uW=[]}else if(c.Y=="deleteAll"){K.ni=[];
K.uW=[]}else{K.ni[K.uW[0]].v=c;K.Jn=!0}this.SH(K)};r.Jy.prototype.enable=function(c,o,K,u,X,$){r.vV.prototype.enable.call(this,c,o,K,u,X,$);
if(!K.RG.ni){var O=new ev(y.E.M,!0);O.data={Y:y.H.NU,EU:iD.UC};o.I(O)}};r.Jy.prototype.disable=function(){this.Cv=null;
this.M0=null};r.Jy.prototype.Lz=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=r.Jy.cQ(c.ni,$);if(O==-1)return;
this.Cv=c;this.M0=o;c.uW=[O];c.Jn=!0;if(this.ph==null){this.ph=new jf([{name:[5,4]},{name:[8,11,1],PS:!0}]);
this.ph.B("select",this.Ie,this)}var n=this.ph;n.parent=o;n._();n.update(c,K);var x=new ev(y.E.M,!0);
x.data={Y:y.H.B2,KH:n,x:X.ct+2,y:X.TY+1};o.I(x)};r.Jy.prototype.Ie=function(c){var o=this.ph.rC()[0],K=this.Cv;
if(o==0){this.wR(K);K.ni.splice(K.uW[0],1);K.uW=[];K.Jn=!0;this.SH(K)}if(o==1){var u=new ev(y.E.M,!0);
u.data={Y:y.H.Vl,n9:"soptions",b:K.ni[K.uW[0]].v};this.M0.I(u)}};r.Jy.prototype.x5=function(c,o,K,u,X){if(c==null)return;
this.wR(c);var $=c.Q.FT(X.x,X.y);$=r.W7.Fx(c,$,K,[!0,null,!1]);$.x=Math.round($.x);$.y=Math.round($.y);
this.IE=$;c.ni.unshift(r.Jy.yM());c.uW=[0];r.Jy.aP(c.ni,0,[$.x,$.y,$.x+20,$.y+20]);c.Jn=!0};r.Jy.prototype.Xo=function(c,o,K,u,X){if(this.r9==null)return;
var $=c.Q.FT(X.x,X.y),O=this.IE;$=r.W7.Fx(c,$,K,[!0,null,!1]);$.x=Math.round($.x);$.y=Math.round($.y);
var n=[O.x,O.y,$.x,$.y];r.Jy.a1L(n);r.Jy.aP(c.ni,0,n);c.Jn=!0};r.Jy.prototype.v$=function(c,o,K,u,X){this.SH(c);
this.IE=null};r.Jy.prototype.wR=function(c){this.r9=JSON.stringify(c.ni);this.aoI=JSON.stringify(c.uW)};
r.Jy.prototype.SH=function(c){var o=JSON.stringify(c.ni);if(o!=this.r9){var K=new gv(this.name,this);
K.data={A6:this.r9,h1:o,ajT:this.aoI,aCb:JSON.stringify(c.uW)};c.bs(K)}this.r9=null};r.Jy.prototype.Bt=function(c,o){o.ni=JSON.parse(c.A6);
o.uW=JSON.parse(c.ajT);o.Jn=!0};r.Jy.prototype.eX=function(c,o){o.ni=JSON.parse(c.h1);o.uW=JSON.parse(c.aCb);
o.Jn=!0};r.Jy.prototype.P6=function(c,o){return o!=null&&o.uW.length!=0&&(c==d2.UL||c==d2.Kf)};r.Jy.prototype.y9=function(c,o,K,u){if(c==null)return;
if(u.N(d2.UL)||u.N(d2.Kf))this.GN({Y:"delete"},o,c,u,K);var X=u.Z8();if(X.x!=0||X.y!=0){this.wR(c);r.Jy.js(c,X);
this.SH(c)}};r.Jy.prototype.sE=function(c,o,K,u,X){};r.Jy.aae=function(c,o,K,u){var X=new kn(-o.x,-o.y),$=o.m/K.m,O=o.e/K.e,n=[0,0,o.m,o.e];
for(var Y=0;Y<c.length;Y++){var x=r.Jy.M4(c,Y);if(u){x[0]=Math.round(x[0]*$);x[1]=Math.round(x[1]*O);
x[2]=Math.round(x[2]*$);x[3]=Math.round(x[3]*O)}else{r.Jy.Y2(x,X);r.Jy.aqF(x,n)}if(x[0]>=x[2]||x[1]>=x[3]){c.splice(Y,1);
Y--;continue}r.Jy.aP(c,Y,x)}};r.Jy.js=function(c,o){var K=c.ni;for(var Y=0;Y<c.uW.length;Y++){var u=r.Jy.M4(K,c.uW[Y]);
r.Jy.Y2(u,o);r.Jy.aP(K,c.uW[Y],u)}};r.Jy.aqF=function(c,o){if(c[0]<o[0])c[0]=o[0];if(c[1]<o[1])c[1]=o[1];
if(o[2]<c[2])c[2]=o[2];if(o[3]<c[3])c[3]=o[3]};r.Jy.Y2=function(c,o){c[0]=Math.round(c[0]+o.x);c[2]=Math.round(c[2]+o.x);
c[1]=Math.round(c[1]+o.y);c[3]=Math.round(c[3]+o.y)};r.Jy.aP=function(c,Y,o){var K=c[Y].v.bounds.v;K.Left.v=o[0];
K.Top.v=o[1];K.Rght.v=o[2];K.Btom.v=o[3]};r.Jy.M4=function(c,Y){var o=c[Y].v.bounds.v;return[o.Left.v,o.Top.v,o.Rght.v,o.Btom.v,Y]};
r.Jy.a1L=function(c){if(c[2]<c[0]){var o=c[0];c[0]=c[2];c[2]=o}if(c[2]==c[0])c[2]++;if(c[3]<c[1]){var o=c[1];
c[1]=c[3];c[3]=o}if(c[3]==c[1])c[3]++};r.Jy.jl=function(c,o){var K=1e9,u=-1e9,X=1e9,$=-1e9;for(var Y=0;
Y<o.length;Y++){var O=r.Jy.M4(c,o[Y]);K=Math.min(K,O[0]);X=Math.min(X,O[1]);u=Math.max(u,O[2]);$=Math.max($,O[3])}return[K,X,u,$]};
r.Jy.yM=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
r.T8=function(){r.Jy.call(this,[10,41],r.Nn,"tools/sselect");this.IE=null;this.mz=null;this.wh=null;
this.WY=null;this.VS=!1};r.T8.prototype=new r.Jy;r.T8.prototype.x5=function(c,o,K,u,X){if(c==null)return;
var $=c.Q.FT(X.x,X.y),O=r.T8.au_($,4/c.Q.U,c.ni,c.uW);O.pop();if(O.length!=0){this.IE=$;this.wh=O;this.wR(c);
return}var n=c.ni,x=r.Jy.cQ(n,$);if(x==-1)c.uW=[];else{var l=c.uW.indexOf(x);if(u.N(d2.Qx)){if(l==-1)c.uW.push(x);
else c.uW.splice(l,1)}else{c.uW.sort(function(d,e){return d-e});if(l==-1)c.uW=[x];this.IE=$;this.wR(c);
this.mz=r.Jy.jl(n,c.uW);this.WY=[];for(var Y=0;Y<c.uW.length;Y++)this.WY.push(r.Jy.M4(n,c.uW[Y]));if(u.N(d2.u6)){var N=n.slice(0),f=c.uW,z=[];
for(var Y=0;Y<f.length;Y++){var x=f[Y],R=N[x],V=n.indexOf(R);z.push(V);n.splice(V,0,JSON.parse(JSON.stringify(R)))}c.uW=z}}}c.Jn=!0};
r.T8.prototype.Xo=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y);if(this.IE==null){var O=r.T8.au_($,4/c.Q.U,c.ni,c.uW),n=O.pop(),x=O.length==0?"default":["ew","nwse","ns","nesw"][n]+"-resize",l=new ev(y.E.M,!0);
l.data={Y:y.H.L3,Vp:x};o.I(l);return}if(!this.VS&&$.Ug(this.IE))return;this.VS=!0;var N=c.ni,O=this.wh;
if(O){$=r.W7.Fx(c,$,K,[!0,null,!1]);var f=Math.round($.x),z=Math.round($.y);for(var Y=0;Y<O.length;Y+=2){var R=r.Jy.M4(N,O[Y]),V=O[Y+1];
R[V]=(V&1)==0?f:z;r.Jy.a1L(R);r.Jy.aP(N,O[Y],R)}}else{var d=$.wv(this.IE),e=this.mz.slice(0);r.Jy.Y2(e,d);
var p=new ez(e[0],e[1],e[2]-e[0],e[3]-e[1]),h=r.W7.PL(c,p,K,[!0,null,!1],!0);r.W7.iu(c,p,h);d.x+=h[0];
d.y+=h[1];for(var Y=0;Y<c.uW.length;Y++)r.Jy.aP(N,c.uW[Y],this.WY[Y]);r.Jy.js(c,d)}c.Jn=!0};r.T8.prototype.v$=function(c,o,K,u,X){if(this.IE==null)return;
this.SH(c);c.S.aH=null;c.Jn=!0;this.IE=null;this.wh=null;this.WY=null;this.VS=!1};r.T8.au_=function(c,o,K,u){var X=c.x,$=c.y,O=[],n=-1,x=[];
for(var Y=0;Y<u.length;Y++){var l=u[Y],N=r.Jy.M4(K,l),f=N[0],z=N[1],R=N[2],V=N[3];if(X<f-o||R+o<X||$<z-o||V+o<$)continue;
var d=[X<f+o,$<z+o,R-o<X,V-o<$],e=-1;for(var p=0;p<4;p++){if(d[p]&&d[p+1&3])e=1+2*(p&1);if(d[p])O.push(l,p)}if(e==-1){if(d[0]||d[2])e=0;
if(d[1]||d[3])e=2}if(e!=-1){n=e;x.push(l)}}var h=O.length;for(var Y=0;Y<h;Y+=2){var l=O[Y],E=O[Y+1],q=r.Jy.M4(K,l)[E];
for(var p=0;p<u.length;p++){var Z=u[p];if(x.indexOf(Z)!=-1)continue;var N=r.Jy.M4(K,Z);if(N[E&1]==q)O.push(Z,E&1);
if(N[2+(E&1)]==q)O.push(Z,2+(E&1))}}O.push(n);return O};r.PG=function(){r.mW.call(this,[10,44],r.auY,"tools/oselect");
this.Pp="crosshair";this.abN=0};r.PG.prototype=new r.mW;r.PG.prototype.tT=function(c,o,K,u){if(Math.random()<1/(1+this.abN)){alert("The cross should be fully inside the object.",3500);
this.abN++}};r.PG.prototype.Al=function(c,o,K,u){r.Aa.nb(c,r.mW.vF,this.M0);if(!u.dm||!this.MV)return;
var X=this.G5(c,K,!1),$=X.m,O=X.e,n=X.x,x=X.y,l=X.x+$,N=X.y+O,f=n+$/2,z=x+O/2,R=r.PG.a7a;c.S.nO={j:[n,x,l,x,l,N,n,N,f-$*R,z,f+$*R,z,f,z-O*R,f,z+O*R],G:"M L L L Z M L M L".split(" ")};
c.Jn=!0};r.PG.a7a=.12;r.PG.prototype.cF=function(c,o,K,u){c.S.nO=null;c.Jn=!0;this.finish(c,o,K,u)};
r.PG.prototype.getSelection=function(c,o,K,u){if(this.hD.Ug(this.X0)||!this.MV)return null;var X=this.G5(c,K,!1),$=c.s[c.g[0]];
if(X.SR()||!X.Yd($.rect))return null;return r.mW.mu("ObSl",X)};r.Aa=function(){r.VN.call(this,[10,37],r.Yc,"tools/qselect");
this._f="qselect"};r.Aa.prototype=new r.VN;r.Aa.prototype.x5=function(c,o,K,u,X){r.Aa.nb(c,r.mW.vF,o,!0);
this.an(c,K,u,X,1);if(this.bz==null)return;this.mr(c)};r.Aa.prototype.Xo=function(c,o,K,u,X){this.sJ(c,o,K);
r.Aa.nb(c,r.mW.vF,o);if(this.bf)this.C9(c,K,X);if(this.bz==null)return;if(!X.dm)return;var $=this.fR(c,K,u,X);
if($!=1)this.mr(c)};r.Aa.nb=function(c,o,K,u){if(c&&o.key!=r.Aa.Us(c)){o.key=r.Aa.Us(c);var X=c.s[c.g[0]].rect.P(),O="Image Analysis ...";
if(X==0)return;var $=X>1e6&&u!=!0,n=new ev(y.E.M,!0);n.data={Y:y.H.SB,g3:O};if($)K.I(n);var x=function(){var N=r.Aa.aCO(c);
for(var f in N)o[f]=N[f];var n=new ev(y.E.M,!0);n.data={Y:y.H._E,g3:O};if($)K.I(n)};if(u)x();else setTimeout(x,30)}};
r.Aa.Us=function(c){var o=c.g[0],K=c.s[o],u=K.rect,X=u.m,$=u.e,O=X*$,n=K.buffer;return[o,u.x,u.y,X,$,n[0],n[1],n[2],n[3]].join(",")};
r.Aa.aCO=function(c){var o=c.g[0],K=c.s[o],u=K.rect,X=u.m,$=u.e,O=X*$,n=K.buffer,x=Date.now(),l=a.R(O);
l.fill(128);var N=a.dJ.OL(n,X,$);console.log(Date.now()-x);var f={key:r.Aa.Us(c),r_:n,rect:u.clone(),Oc:X,s_:$,CS:12,jw:l,Lk:N,u:a.R(O),a3:null,wx:null,Rd:null};
r.Aa.QL(f,null,c);return f};r.Aa.QL=function(c,o,K){var u=c.Oc,X=c.s_,$=0,O=0,n=Date.now(),x=c.a3!=null&&a.dJ.M9(c.a3.zC,c.a3.gj,c.jw)==-1;
$=Date.now()-n;n=Date.now();if(!x){var l=a.dJ.M9(c.Lk.zC,c.Lk.gj,c.jw),N=0;while(l!=-1){var f=[],z=[],R=c.Lk.zC;
for(var V=0;V<X;V++)for(var d=0;d<u;d++){var Y=V*u+d;if(R[Y]==l){var e=c.jw[Y];if(e==0)f.push(d,V);if(e==255)z.push(d,V)}}var p=K.s[K.g[0]],h=p.buffer;
a.dJ.OL.v3(h,u,X,c.Lk,f,z);l=a.dJ.M9(c.Lk.zC,c.Lk.gj,c.jw);N++;if(N>=10){console.log("too many subdivisions");
break}}c.a3=a.dJ.RQ(c.Lk,u,X,c.jw,c.CS);c.wx=a.dJ.asn(c.r_,u,X,c.a3.zC,c.a3.gj);c.Rd=[c.wx[0].slice(0),[]];
O=Date.now()-n;n=Date.now()}var n=Date.now();if(o){c.Rd[0].set(c.wx[0]);var E=c.wx[1],q=c.Rd[1];for(var Z=0;
Z<E.length;Z++)q[Z]=E[Z].slice(0);a.dJ.a9a(c.a3.zC,u,X,c.a3.gj,c.jw,c.u,c.Rd)}};r.Ub=function(){r.vV.call(this,[10,50],r.vg,"tools/artb");
this.N3=null;this.Gi=!1;this.jp=null;this.D7=!1;this.a7v=null;this.lb=100;this.qD=null;this.A7=0};r.Ub.prototype=new r.vV;
r.Ub.prototype.GN=function(c,o,K,u,X){this.L8(K,c.amx,o,c.B5)};r.Ub.a3O=function(c,o){var K=c[0],u=0,X=0;
if(K==0)X=-1;else if(K==1)u=1;else if(K==2)X=1;else u=-1;return[20/o.aT,c[1]+u*60/o.aT,c[2]+X*60/o.aT]};
r.Ub.prototype.sE=function(c,o,K,u,X){this.N3=c.EU;this.A7=Date.now()};r.Ub.prototype.fb=function(c,o,K,u){if(K.lm!=this.id)return;
if(c==null||c.g.length!=1){this.g8(c);return}var X=c.g[0],$=c.s[X],O=$.add.artb;if(O==null){this.g8(c);
return}if(this.D7)return;if(Date.now()-this.A7>50){this.N3={};var n=["artboardBackgroundType","Clr"];
for(var Y=0;Y<n.length;Y++)if(O[n[Y]])this.N3[n[Y]]=JSON.parse(JSON.stringify(O[n[Y]]));var x=new ev(y.E.M,!0);
x.data={Y:y.H.Wu,f:this.id,oq:this.N3};o.I(x)}var N=$.rA(),f=a.A.W6(N).j,z=this.jp=new bR(f,!0,!1,!1,!0,!1,3,!1);
z.SX(c,K,!1);var R={j:[1,0],G:["M"]};for(var Y=1;Y<30;Y++){var V=Math.PI*2*Y/30;R.j.push(Math.cos(V),Math.sin(V));
R.G.push("L")}R.G.push("Z","M","L","M","L");R.j.push(-.5,0,.5,0,0,-.5,0,.5);var d=N.x+N.m/2,e=N.y+N.e/2,p=this.lb*1.1,h=this.a7v=[d,N.y,N.x+N.m,e,d,N.y+N.e,N.x,e],E=[0,-p,p,0,0,p,-p,0],q=c.root.children;
c.S.fo=[];for(var Y=0;Y<4;Y++){var Z=new kn(h[Y*2]+E[Y*2],h[Y*2+1]+E[Y*2+1]),v=!1;for(var W=0;W<q.length;
W++){var $=q[W].l;if($.add.artb==null)continue;var N=$.rA();if(N.Y3(Z))v=!0}if(v){h[Y*2]=1e9;continue}c.S.fo.push([Y,h[Y*2],h[Y*2+1]])}};
r.Ub.prototype.disable=function(c,o,K,u,X){this.g8(c)};r.Ub.prototype.g8=function(c){if(this.jp){this.jp.clear(c);
this.jp=null;c.S.fo=null}};r.Ub.prototype.x5=function(c,o,K,u,X){this.A7=Date.now();var $=c.Q.FT(X.x,X.y),O=this.jp;
if(O){var n=new ev(y.E.v),x=O.Fc(null,$,c,X);if(x<9){this.D7=O.x5(c,K,u,$,null,!0,X);return}else if(O.Js($)){n.f=r.DA;
n.data={Y:"disabAuto"};o.I(n);var N=new ev(y.E.M);N.data={Y:y.H.VO,f:r.DA,a3L:!0};o.I(N);return}else{var f=-1,z=c.S.fo;
for(var Y=0;Y<z.length;Y++){var R=r.Ub.a3O(z[Y],c.Q);if(kn.je($,new kn(R[1],R[2]))<R[0])f=z[Y][0]}if(f!=-1){var V=c.s[c.g[0]].rA(),d=V.clone(),e=(f==0||f==2?V.e:V.m)+this.lb;
if(f==0||f==3)e=-e;if(f==0||f==2)V.y+=e;else V.x+=e;if(u.N(d2.u6)){var p=new ez(0,0,c.m,c.e);n.f=r.KX;
n.data={Y:gU.vi};o.I(n);r.W7.uz(c,c.Dk(null,c.g[0],null,!0),null,V.x-d.x,V.y-d.y);c.g=c.g.slice(c.g.length-1);
var h=r.zm.tv(c);if(h){var E=c.qF();E.data.nn=p;E.data.zL=h;E.data.ku=c.g}}else this.L8(c,V,o);return}}}this.qD=r.W7.Fx(c,$,K)};
r.Ub.prototype.L8=function(c,o,K,u){if(u==null)u=0;var X=c.s.slice(0),$=[c.s.length+1],O=c.uB();O.XK(iV.get([1,16,0])+" "+(c.add.artd==null?1:c.root.children.length+1));
O.add.lsct=aj.cD;O.oW(o);if(this.N3){var n=O.add.artb,x=this.N3;for(var l in x)n[l]=x[l]}O.Mh="pass";
O.Ha=24;if(u==0){if(c.add.artd||o.ar(new ez(0,0,c.m,c.e)).SR())X.push(c.FL());else X.unshift(c.FL())}else{var N=c.Dk();
N.sort(function(d,e){return d-e});var f=r.Es.XN(c,N,X.length-1,!1,null,!1),z=f.pop(),R=f.pop();X=f.pop();
X.splice(c.s.length-N.length,0,c.FL())}X.push(O);var V=new ev(y.E.v);V.f=r.KX;V.data={Y:gU.LS,Un:X,I1:$,u0:[1,16,2]};
K.I(V)};r.Ub.prototype.Xo=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=this.jp,n=this.qD;if(O){if(this.D7){O.Xo(c,K,u,$)}else{var x=O.pz($,c.Q.U,null,X);
if(x==null)x="default";var l=new ev(y.E.M,!0);l.data={Y:y.H.L3,Vp:x};o.I(l)}}if(n){var N=this.M4(c,$,u,K);
c.S.nO=a.A.W6(N);c.Jn=!0;r.vV._g(X,N,c,K)}};r.Ub.prototype.v$=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y),O=this.qD;
if(this.D7){this.jp.v$(c,K,u,$);this.D7=!1;var n=a.A.P3(this.jp.tK()),x=gU.i2(n),l=c.s[c.g[0]],N=JSON.parse(JSON.stringify(l.add.artb));
N.artboardRect.v=x;var f=new ev(y.E.v,!0);f.f=r.KX;f.data={Y:gU.P2,te:N};o.I(f)}if(O){var z=this.M4(c,$,u,K);
if(z.P()>20)this.L8(c,z,o);c.S.nO=null;c.Jn=!0;this.qD=null;c.S.Uo=[]}};r.Ub.prototype.M4=function(c,o,K,u){var X=this.qD,$=r.W7.Fx(c,o,u),O=r.mc.P7(X,$,K,!0);
X=O[0];$=O[1];return a.A.P3([X.x,X.y,$.x,$.y])};function bR(c,o,K,u,X,$,O,n){this.cg=null;this.$C=c?c.slice(0):null;
this.Ay=1;this.IZ=4;this.X0=null;this.Ut=null;this.UP=null;this.Ax=-1;this.gw=null;this.awO=!1;this.a1o=[];
for(var Y=0;Y<8;Y++)this.a1o.push(c5.a8a(0,PIMG.rotate,-.5,-.5,-45-Y*45));this.a0c=o;this.a2c=K;this.avp=u;
this.a3j=X;this.aay=$;this.B5=O;this.a7G=n==null?1:n}bR.prototype.aCI=function(){return this.Ax!=-1};
bR.prototype.tK=function(){return this.$C.slice(0)};bR.prototype.rc=function(c){this.$C=c};bR.prototype.aBg=function(){return this.wJ(this.$C)};
bR.prototype.a23=function(){return this.IZ};bR.prototype.a40=function(c){this.IZ=c};bR.prototype.q4=function(c){if(c==null)c=this.$C;
if(this.IZ==9)return this.X0;else return this.wJ(c)[this.IZ]};bR.prototype.aeJ=function(c){if(this.IZ==9)this.X0=c.clone();
else{var o=this.q4(),K=new bE(1,0,0,1,c.x-o.x,c.y-o.y);a.A.i(this.$C,K,this.$C)}};bR.prototype.fV=function(c){this.Ay=c};
bR.prototype.pz=function(c,o,K,u,X){var $=this.z2(null,c,o,u),O;if($==9)return"default";if($==10){if(K)return null;
return!this.a0c?"move":null}if($==-1||$==4)return null;if($==11){var n=this.q4().wv(c);if(X==null)X=Math.atan2(n.y,n.x);
O=90-X*180/Math.PI;var x=Math.round(8*(O/360));x=(x+8)%8;return this.a1o[x]}else{var l=this.SO(c,this.$C);
O=[135,90,45,180,0,0,225,270,315][$]*Math.PI/180;var N=a.D.ly(this.$C);return bR.aph(N[0],N[3],O)}};
bR.aph=function(c,o,K){var u=Math.atan2(-o,c);if(K)u+=K;var X="ew nesw ns nwse ew nesw ns nwse".split(" "),$=Math.round(8*(u/(2*Math.PI)));
$=($+8)%8;return X[$]+"-resize"};bR.prototype.SO=function(c,o){var K=a.D.fH(a.D.ly(o)),u=new Float64Array(2);
a.D.z3(c.x,c.y,K,u);return new kn(u[0],u[1])};bR.prototype.Js=function(c){var o=this.SO(c,this.$C);return 0<=o.x&&o.x<=1&&0<=o.y&&o.y<=1};
bR.prototype.x5=function(c,o,K,u,X,$,O,n){this.awO=$;this.gw=u;var x=c.Q.U,l;if(this.$C==null)u=r.W7.Fx(c,u,o);
this.UP=u.clone();if(this.$C==null){if(n==null)n=0;var N=new bE;N.rotate(n);var f=N.QB(new kn(1,1));
this.UP.offset(f.x,f.y);var z=X==null?1:1/X,R=this.$C=[0,0,1,0,1,z,0,z];N.translate(u.x,u.y);a.A.i(this.$C,N,this.$C);
l=8}else{l=this.z2(K,u,x,O);if(0<=l&&l<=8)this.UP=this.wJ(this.$C)[l];if(l==9){this.IZ=9;this.X0=u.clone()}}this.cg=this.$C.slice(0);
this.Ax=l;this.SX(c,o);this.Ut=this.q4();return l!=-1};bR.prototype.Fc=function(c,o,K,u){return this.z2(c,o,K.Q.U,u)};
bR.prototype.z2=function(c,o,K,u){var X=-1,$=this.wJ(),O=[0,2,6,8,1,3,5,7],n=u?r.io({Q:{U:K}},u):8*r.Sm()/K,x=kn.je($[0],$[2]),l=kn.je($[0],$[6]),N=this.SO(o,this.$C);
N.x*=x;N.y*=l;var f=new ez(0,0,x,l);f.JG(n,n);if(X==-1)if(kn.je(this.q4(),o)<n)X=9;if(X==-1)for(var Y=0;
Y<O.length;Y++)if(kn.je($[O[Y]],o)<n)X=O[Y];if(X==-1&&f.Y3(N)){if(Math.abs(N.y-0)<n)X=1;if(Math.abs(N.x-0)<n)X=3;
if(Math.abs(N.y-l)<n)X=7;if(Math.abs(N.x-x)<n)X=5}if(X==-1&&c&&c.N(d2.u6))X=9;if(X==-1||this.B5==4){if(this.Js(o)){if(this.a0c)X=10}else{var z=[3,.85][gN];
f.JG(z*n,z*n);X=f.Y3(N)&&this.B5!=3?11:10}}return X};bR.prototype.Xo=function(c,o,K,u,X){if(this.Ax==-1)return;
this.gw=u;var $=K&&K.N(d2.Qx),O=K&&K.N(d2.u6),n=K&&K.N(d2.vm),x=c.Q.U,l=this.UP,N=this.Ax,f=this.wJ(),z=r.W7.Fx(c,l,o),R=r.W7.Fx(c,u,o),V,d;
if(N==9){var f=this.wJ(),e=-1;for(var Y=0;Y<f.length;Y++)if(kn.je(f[Y],R)*x<10)e=Y;this.IZ=e==-1?9:e;
this.X0=$?r.YU.rB(z,R):R.clone()}else if(N==10){d=a.A.jl(this.cg);var p=d.x,h=d.y;d.offset(u.x-l.x,u.y-l.y);
if(this.a4a()){d.x=Math.round(d.x);d.y=Math.round(d.y)}V=r.W7.PL(c,d,o);var E=new bE(1,0,0,1,d.x-p+V[0],d.y-h+V[1]);
a.A.i(this.cg,E,this.$C)}else if(N==11){var q=this.q4(this.cg),Z=q.wv(u),v=q.wv(l),W=Math.atan2(Z.y,Z.x),D=Math.atan2(v.y,v.x),E=new bE(1,0,0,1,-q.x,-q.y),I=Math.PI/12;
if($)E.rotate(Math.round((D-W)/I)*I);else E.rotate(D-W);E.translate(q.x,q.y);a.A.i(this.cg,E,this.$C)}else{var A=$,U;
if(X&&!n)A=!A;if(this.aay)A=!0;var w=this.cg,t=N==0||N==2||N==6||N==8;if(this.B5==1){if(t)$=O=n=!0}else if(this.B5==2&&t&&this.awO!=!0)n=!0;
if(this.B5==3)n=!1;else if(this.B5==5){$=n=!0}if(this.avp&&t&&n){var Y=[0,0,2,0,0,0,6,0,4,0][N],L=-1,J=R.x,b=R.y;
if($){var F=Y+6&7,B=Y+10&7,k=bR.awf(w[Y],w[Y+1],w[F],w[F+1],R.x,R.y),i=bR.awf(w[Y],w[Y+1],w[B],w[B+1],R.x,R.y),H=k[2]<i[2]?k:i;
J=H[0];b=H[1];if(O)L=k[2]<i[2]?F:B}else if(O)L=Y+4&7;U=w.slice(0);if(L!=-1){var m=w[L],j=w[L+1],Q=(w[Y]+m)/2,G=(w[Y+1]+j)/2;
U[L]=Q-(J-Q);U[L+1]=G-(b-G)}U[Y]=J;U[Y+1]=b}else if(t&&O){var q=this.Ut,g=q.x,P=q.y,M=z.x-g,T=z.y-P,C=1,gf=1;
if(Math.abs(M)>=1)C=(R.x-g)/M;if(Math.abs(T)>=1)gf=(R.y-P)/T;if(A)C=gf=(C+gf)/2;var E=new bE;E.translate(-g,-P);
E.scale(C,gf);E.translate(g,P);U=w.slice(0);a.A.i(U,E,U)}else{if(this.a4a()){R.x=Math.round(R.x);R.y=Math.round(R.y)}var s=[0,1,2,5,8,7,6,3],b3=s[(s.indexOf(N)+4)%8],d5=[];
for(var Y=0;Y<3;Y++)for(var L=0;L<3;L++)d5.push(new kn(L/2,Y/2));var q=this.Ut,gh=this.SO(R,w),jt=this.SO(l,w),fl=O&&(this.IZ==4||this.IZ==9)?this.SO(q,w):d5[b3],eq=new bE,c7=new bE,C=(gh.x-fl.x)/(jt.x-fl.x);
if(C==0)C=1e-4;var gf=(gh.y-fl.y)/(jt.y-fl.y);if(gf==0)gf=1e-4;if(this.a3j){C=Math.max(C,0);gf=Math.max(gf,0)}if(N==0||N==2||N==6||N==8){if(A)eq.scale(C,C);
else eq.scale(C,gf)}if(N==1||N==3||N==5||N==7){var k8=A,hs=n&&$;if(hs)k8=!1;if(N==1||N==7)eq.scale(k8?gf:1,hs?1:gf);
else eq.scale(hs?1:C,k8?C:1);if(this.a2c&&n){if(N==1||N==7)c7.If=(gh.x-fl.x)/(gh.y-fl.y);else c7.J=(gh.y-fl.y)/(gh.x-fl.x)}}var E=new bE;
E.translate(-fl.x,-fl.y);E.concat(eq);E.concat(c7);E.translate(fl.x,fl.y);U=[0,0,1,0,1,1,0,1];a.A.i(U,E,U);
var H=a.D.ly(w);a.D.i(H,U)}if(bR.aw(U))this.$C=U}this.SX(c,o);if(V)r.W7.iu(c,d,V)};bR.awf=function(c,o,K,u,X,$){var O=K-c,n=u-o,x=X-c,l=$-o,N=O*O+n*n,f=x*O+l*n,z=f/N,R=c+z*O,V=o+z*n,d=X-R,e=$-V;
return[R,V,Math.sqrt(d*d+e*e)]};bR.prototype.a4a=function(){var c=this.$C;return Math.abs(c[1]-c[3])<1e-6&&Math.abs(c[2]-c[4])<1e-6||Math.abs(c[0]-c[2])<1e-6&&Math.abs(c[3]-c[5])<1e-6};
bR.aw=function(c){return a.A.a20(c)||a.A.a20([c[6],c[7],c[4],c[5],c[2],c[3],c[0],c[1]])};bR.prototype.v$=function(c,o,K,u){this.Ax=-1;
this.gw=null;c.S.aH=null;c.S.Uo=[];c.Jn=!0};bR.prototype.y9=function(c,o,K){var u=K.Z8(c?c.Q.yp:0);if(u.x||u.y){var X=new bE(1,0,0,1,u.x,u.y);
a.A.i(this.$C,X,this.$C);this.SX(c,o);return!0}return!1};bR.prototype.wJ=function(c){if(c==null)c=this.$C;
var o=c[6]-c[0],K=c[7]-c[1],u=c[4]-c[2],X=c[5]-c[3],$=[c[0],c[1],c[2],c[3],c[0]+o/2,c[1]+K/2,c[2]+u/2,c[3]+X/2,c[6],c[7],c[4],c[5]],O=[];
for(var Y=0;Y<3;Y++){var n=Y*4,x=$[n+0],l=$[n+1],N=$[n+2],f=$[n+3];O.push(new kn(x,l));O.push(new kn(x+(N-x)/2,l+(f-l)/2));
O.push(new kn(N,f))}return O};bR.prototype.SX=function(c,o,K){if(c.S==null)return;if(K==null)K=!1;var u=this.Ay,X=this.wJ(),$=X[0],O=X[2],n=X[6],x=X[8],l={G:[],j:[]};
if(u==0)c.S.nO=l;else c.S.vZ=l;l.G.push("M","L","L","L","Z");l.j.push($.x,$.y,O.x,O.y,x.x,x.y,n.x,n.y);
var N=this.a7G;if(N>1){c.S.It=JSON.parse(JSON.stringify(l));var f=O.wv($),z=n.wv($),R=x.wv(O),V=x.wv(n);
for(var Y=1;Y<N;Y++){l.G.push("M","L","M","L");var d=Y/N;l.j.push($.x+f.x*d,$.y+f.y*d,n.x+V.x*d,n.y+V.y*d);
l.j.push($.x+z.x*d,$.y+z.y*d,O.x+R.x*d,O.y+R.y*d)}}c.Q.cI=new ez(0,0,kn.je(X[0],X[2]),kn.je(X[0],X[6]));
if(this.Ax!=-1&&this.Ax<9&&this.gw){var e=c.Q.dV(this.gw.x,this.gw.y);r.vV._g(e,c.Q.cI,c,o)}if(!K){var p=[];
if(u==0)c.S.vM=p;else c.S.bF=p;for(var Y=0;Y<X.length;Y++)if(Y!=4)p.push(X[Y].x,X[Y].y);var h=this.q4();
p.push(h.x,h.y)}c.Jn=!0};bR.prototype.clear=function(c){c.Q.cI=null;c.S.aH=null;c.S.nO=null;c.S.vZ=null;
c.S.It=null;c.S.vM=[];c.S.bF=[];c.Jn=!0};function gl(c){this.Pw=null;this.Ax=-1;this.I9=null;this.ao5=null;
this.hj=null;this.p$=-1;this.ax3=null;this.al1(c)}gl.prototype.jW=function(){return JSON.parse(JSON.stringify(this.Pw))};
gl.prototype.al1=function(c){this.Pw=JSON.parse(JSON.stringify(c))};gl.prototype.at1=function(c){this.p$=c};
gl.prototype.Js=function(c){return!0};gl.prototype.pz=function(c,o,K,u){var X=this.z2(c,o,u);if(X==-1)return"default";
return"pointer"};gl.prototype.x5=function(c,o,K,u,X,$,O){if(this.p$!=-1)return!0;this.Ax=this.z2(u,c.Q.U,O);
var n=a.Pw.N1(this.Pw),x=a.ul.Tx(n,u),l=0<x[0]&&x[0]<1&&0<x[1]&&x[1]<1;this.I9=l?x:null;this.ao5=JSON.stringify(n);
this.ax3=JSON.stringify(this.Pw);this.hj=u;return this.Ax!=-1||l};gl.prototype.z2=function(c,o,K){var u=K?r.io({Q:{U:o}},K)*2:20*r.Sm()/o,X=this.Pw,$=gl.a0l(X),O=-1;
if($){O=a.A.dI($,c.x,c.y,u);if(O!=-1)O+=1e6}else{var n=a.Pw.N1(X);O=a.A.dI(n[3],c.x,c.y,u);if(O!=-1&&this.pX(n,O)==null)O=-1}return O};
gl.prototype.Xo=function(c,o,K,u){if(this.p$!=-1)return;var X=this.Pw,$=this.Ax,O=this.I9,n=JSON.parse(this.ao5),x=n[0],l=n[1],N=n[3];
if($>=1e6){var f=X.warpStyle.v.warpStyle,z=a.Pw.G5(X);if(f=="warpCylinder"){this.Pw=X=JSON.parse(this.ax3);
var R=r.W.sS(X.warpValues),V=(R[2]-R[0])/(R[1]-R[3]),d=R[4]*V*z.e,e=R[5]*V*z.e,p=u.x-this.hj.x,h=u.y-this.hj.y;
R[0]=z.x;R[1]=z.y+z.e;R[2]=z.x+z.m;R[3]=z.y;$-=1e6;if($==0){R[0]+=p;R[1]+=h}if($==1){R[2]+=p;R[3]+=h}if($==2){d+=2*h;
e+=2*h}if($==3){e+=2*h}if($==4){R[6]=Math.max(0,Math.min(1,R[6]-2*p/z.m))}var E=a.A.jl(R.slice(0,4)),q=E.m/z.m,Z=E.e/z.e;
R[4]=d/E.m;R[5]=e/E.m;X.warpValues=r.W.yf(R);var v=new bE;v.translate(-z.x,-z.y);v.scale(q,Z);v.translate(E.x,E.y);
if($<4)return v}else{var W=X.warpRotate.v.Ornt,D=W=="Vrtc",I=a.Pw.a14[f],A=D?-u.x/z.m:-u.y/z.e;A+=I[1];
if(I[1]>.5)A=-A;A/=I[2];var q=z.m/z.e;if(D)q=1/q;if(I[3])A/=q;X.warpValue.v=100*Math.max(-1,Math.min(1,A))}}else if($!=-1){var U=[$],p=u.x-N[$*2],h=u.y-N[$*2+1];
if(x*l>16){var w=this.pX(n,$);if(w[0]==0){var t=Math.floor($/x),L=$-t*x;if(L>0)U.push($-1);if(L<x-1)U.push($+1);
if(t>0)U.push($-x);if(t<l-1)U.push($+x)}}for(var Y=0;Y<U.length;Y++){N[U[Y]*2]+=p;N[U[Y]*2+1]+=h}a.Pw.ay(X,n)}else if(O){a.ul.aAE(n,O[0],O[1],u.x-this.hj.x,u.y-this.hj.y);
a.Pw.ay(X,n)}};gl.prototype.v$=function(c,o,K,u){var X=this.p$;this.I9=null;this.p$=-1;if(X!=-1){var $=a.Pw.N1(this.Pw),O=a.ul.Tx($,u);
if(X==0||X==1)a.ul.split($,0,O[0]);if(X==0||X==2)a.ul.split($,1,O[1]);a.Pw.ay(this.Pw,$)}c.Jn=!0;return X!=-1};
gl.prototype.y9=function(c,o,K){var u=K.Z8();if(u.x||u.y){var X=new bE(1,0,0,1,u.x,u.y);a.A.i(this.$C,X,this.$C);
this.SX(c)}};gl.prototype.pX=function(c,Y){var o=c[0],K=c[1],u=this.Ax,X=Math.floor(u/o),$=u-X*o,O=u%3,n=u%3,x=O==0&&n==0,X=Math.floor(Y/o),$=Y-X*o,O=$%3,n=X%3;
if(O!=0&&n!=0)return null;if(O==0&&n==0)return[0];else{var l=0;if(n==0)l=O==1?Y-1:Y+1;if(O==0)l=n==1?Y-o:Y+o;
if(o*K>16){var N=u==Y||u==Y+1||u==Y-1||u==Y+o||u==Y-o;if(x&&(N||u==Y+2||u==Y-2||u==Y+2*o||u==Y-2*o)){}else if(!x&&N){}else return null}return[1,l]}};
gl.a0l=function(c,o){var o=c.warpStyle.v.warpStyle,u;if(o=="warpCustom"||o=="warpNone")return null;var K=a.Pw.N1(c);
if(o=="warpCylinder"){var X=c.warpValues.v;u=[0,1,1,0,.5,0,.5,1,.75-.25*X[6].v,.5]}else{var $=c.warpRotate.v.Ornt,O=a.Pw.a14[o];
u=$=="Hrzn"?[O[0],O[1]]:[O[1],O[0]]}a.ul.i(K,u,new ez(0,0,1,1));return u};gl.prototype.SX=function(c,o){var K=this.Pw,u=K.warpStyle.v.warpStyle,X=a.Pw.N1(K),$=X[0],O=X[1],n=X[3],x=c.S.vZ={G:[],j:[]},l=c.S.bF=[],N=c.S.yb=[],f=this.Ax;
if(u=="warpCustom")for(var z=0;z<O;z++)for(var R=0;R<$;R++){var Y=z*$+R,V=this.pX(X,Y);if(V==null)continue;
var d=n[2*Y],e=n[2*Y+1],p=N;if(V[0]==0)p=Y==f&&$*O>16?N:l;else{var h=V[1];x.G.push("M","L");x.j.push(d,e,n[2*h],n[2*h+1])}p.push(d,e)}else{var E=gl.a0l(K);
if(E)for(var Y=0;Y<E.length;Y++)l.push(E[Y])}for(var z=0;z+1<O;z+=3)for(var R=0;R+1<$;R+=3){x.G.push("M","C","C","C","C");
var Y=z*$+R,q=Y+$+$,Z=[Y,Y+1,Y+2,Y+3,Y+$+3,q+3,q+$+3,q+$+2,q+$+1,q+$,q,Y+$,Y];for(var Y=0;Y<Z.length;
Y++){var d=n[Z[Y]*2],e=n[Z[Y]*2+1];x.j.push(d,e)}}var v=[],W=[];function D(I,R,w){for(var Z=0;Z<=w;Z++){W.push(Z==0?"M":"L");
if(I==0)v.push(R,Z/w);else v.push(Z/w,R)}}if(o)o=a.ul.Tx(X,o);for(var I=0;I<2;I++){var A=X[2][I],U=I==0?$:O,w=U*5;
for(var t=1;t<U;t++){var L=Math.floor((t-1)/3),J=t-(1+L*3);if(J==0)continue;var R=A[L]+J/3*(A[L+1]-A[L]);
D(I,R,w)}var b=this.p$;if(o&&b!=-1&&(b==0||b-1==I))D(I,o[I],w)}a.ul.i(X,v,new ez(0,0,1,1));a.A.concat(x,{j:v,G:W});
c.Jn=!0};gl.prototype.clear=function(c){c.S.vZ=null;c.S.bF=[];c.S.yb=[];c.Jn=!0};function as(){this.b7=!1;
this.WL=!1;this.aoO=!1;this.avj=!1;this.hi=!1;this.xX=!1;this.eb=0;this.dA=0}as.prototype.x5=function(c){this.b7=!0;
this.WL=!1;this.hi=c.N(d2.Qx);this.xX=c.N(d2.u6);this.eb=this.hi?0:1;this.dA=this.xX?0:1};as.prototype.y9=function(c){var o=this.avj=c.N(d2.Qx),K=this.aoO=c.N(d2.u6);
if(this.WL){if(this.eb==0&&!o)this.eb++;if(this.eb==1&&o)this.eb++;if(this.dA==0&&!K)this.dA++;if(this.dA==1&&K)this.dA++}};
as.prototype.Xo=function(){this.WL=!0};as.prototype.v$=function(){this.b7=!1};as.prototype.Pq=function(Y){if(Y==0)return this.b7?this.xX:this.aoO;
if(Y==1)return this.WL?this.dA==2:!1};as.prototype.cr=function(Y){if(Y==0)return this.b7?this.hi:this.avj;
if(Y==1)return this.WL?this.eb==2:!1};r.History=function(){r.vV.call(this,"History",r.DX);this.f0=!0;
this.a65=0};r.History.prototype=new r.vV;r.History.prototype.GN=function(c,o,K,u){K.So=!0;if(c.Y=="h_itemchange"){if(c.index<K.Wi)for(var Y=K.Wi;
Y>c.index;Y--)this.Ys(K);if(c.index>K.Wi)for(var Y=K.Wi;Y<c.index;Y++)this.nI(K)}if(c.Y=="h_stepfwd")this.nI(K);
if(c.Y=="h_stepbck")this.Ys(K);if(c.Y=="h_undoredo"){var X=this.f0||this.a65!=K.Wi;if(X){this.Ys(K);
X=!1}else{this.nI(K);X=!0}this.f0=X;this.a65=K.Wi}if(c.Y=="h_clear"){if(c.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
K.history=[new gv([1,0],null)];K.Wi=0}else this.f0=!0};r.History.prototype.Ys=function(c){if(c.Wi==0)return;
var o=c.history[c.Wi];o.f.Bt(o.data,c);c.Wi--};r.History.prototype.nI=function(c){if(c.Wi==c.history.length-1)return;
var o=c.history[c.Wi+1];o.f.eX(o.data,c);c.Wi++};r.Es=function(){r.vV.call(this,"Layers",r.KX);this.M0=null};
r.Es.prototype=new r.vV;r.Es.prototype.GN=function(c,o,K,u,X){this.M0=o;var $=c.Y,O=c.l!=null?c.l:K.g.length!=0?K.g[0]:K.s.length-1,n=K.s[O];
K.rH=!0;var x=u.N(d2.u6),l=u.N(d2.Qx),N=u.N(d2.vm);if($==gU.Z3&&K.u==null&&(K.g.length>1||!K.n_(!1)))$=gU.vi;
if($==gU.f3){var f=new gv([6,33],this),z=n.rD()?["pass"].concat(ef.oj):ef.oj,R=z[c.qU],V=c.l!=null?[c.l]:K.g,d=JSON.stringify(V),e=[];
for(var Y=0;Y<V.length;Y++)e.push(K.s[V[Y]].Mh);f.data={Y:$,FG:d,yI:e,qU:R};K.bs(f);this.eX(f.data,K);
this.track(a5.tx("Md",{t:"enum",v:{BlnM:ef.aj(R)}}))}if($==gU.qp){var f,p=K.qF(),V=c.l!=null?[c.l]:K.g,d=JSON.stringify(V);
if(p&&p.data&&p.data.Y==$&&p.data.FG==d)f=p;else{var h=a5.tx("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(h);var e=[];for(var Y=0;Y<V.length;Y++)e.push(K.s[V[Y]].opacity);f=new gv([6,32],this);f.data={Y:$,FG:d,yI:e,qU:c.qU,Fm:h.sK};
K.bs(f)}f.data.qU=c.qU;f.data.Fm.T.v.Opct.v.val=Math.round(c.qU*100/255);this.eX(f.data,K)}if($==gU.R_){if(n.add.iOpa==null)n.add.iOpa=255;
var f,p=K.qF();if(p&&p.data&&p.data.Y==$&&p.data.l==O)f=p;else{f=new gv("Fill Opacity Change",this);
f.data={Y:$,l:O,yI:n.add.iOpa,qU:c.qU};K.bs(f)}f.data.qU=c.qU;this.eX(f.data,K)}if($==gU.Ej){var E=c.qU,q=c.l!=null?[c.l]:K.g.slice(0),Z=[],v=[],f;
for(var W=0;W<q.length;W++){var D=K.s[q[W]];if(D.add.lspf==null)D.add.lspf=0;var e=D.add.lspf,R=e;for(var Y=0;
Y<E[0].length;Y++){var I=E[1][Y],A=1<<I;if((R&A)==0&&E[0][Y])R^=A;else if((R&A)!=0&&!E[0][Y])R^=A}Z.push(e);
v.push(R)}var p=K.qF(),V=JSON.stringify(q);if(p&&p.data&&p.data.Y==$&&JSON.stringify(p.data.FG)==V){f=p;
f.data.qU=v}else{var f=new gv([6,57,1],this);f.data={Y:$,FG:V,yI:Z,qU:v};K.bs(f)}this.eX(f.data,K)}if($==gU.nz){var U="----",w=c.oG,R=null;
for(var Y=0;Y<bj.Nz.q6.length;Y++)if(n.add[bj.Nz.q6[Y]])U=bj.Nz.q6[Y];var t=n.add[U];if(w=="TySh")R=ii.eS(50,50,X.qH);
var f=new gv("Layer Type",this);f.data={Y:$,l:O,adU:[U,t],oG:[w,R]};K.bs(f);this.eX(f.data,K)}if($==gU.pO){var q=[];
if(x){var L=K.qF(),J=L?L.data:null;if(L!=null&&L.f==this&&J.Y==gU.pO&&J.FG.length!=1){var b=new ev(y.E.v);
b.f=r.DX;b.data={Y:"h_stepbck"};o.I(b);if(J.l==O)return}var F=K.root.g4(O),B=F,k=[c.l];while(B.parent!=K.root){k.push(B.parent.index);
B=B.parent}for(var Y=0;Y<K.s.length;Y++){var i=K.s[Y],B=K.root.g4(Y),H=k.indexOf(Y)!=-1?!0:i.IT()&&F.depth<B.depth;
if(H!=i.IT())q.push(Y)}}else if(c.FG)q=c.FG;else{q.push(O);var m=K.s[O].IT(),h={ST:m?"hide":"show",sK:{classID:m?"Hd":"Shw",null:{t:"VlLs",v:[a5.Vs("Lyr",!0)]}}};
this.track(h)}var f=new gv("Layer visibility",this,!0);f.data={Y:$,FG:q,l:O};K.bs(f);this.eX(f.data,K)}if($==gU.rg){if(X.lm==r.vg){var j=new ev(y.E.M);
j.data={Y:y.H.VO,f:r.DA};o.I(j)}var Q=c.ax7,G=c.VZ,M,escape=!1,T=!1;if(c.FV){if(N&&(G==0||G==1||G==2)){var g=0;
if(l)g++;if(x)g+=2;var P=new ev(y.E.v,!0);P.f=r.TN;P.data={Y:"fromlayer",Yg:[c.l,G,g]};o.I(P);return}}var h={ST:"select",sK:{classID:"null",MkVs:{t:"bool",v:!1}}};
K.aqs();if(u.N(d2.vm)||c.IS==0){var C=K.g.indexOf(O);if(C==-1)K.g.push(O);else if(K.g.length>1){if(c.IS!=0)K.g.splice(C,1)}K.g.sort(function(f,ja){return f-ja});
h.sK.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};M=O}else if(l&&!x&&G>0){$=G==1?gU.H_:G==2?gU.fX:gU.DZ;
escape=!0}else if((l||c.IS==1)&&K.g.length>0){var gf=Math.min(O,K.g[0]),s=Math.max(O,K.g[K.g.length-1]);
K.g=[];for(var Y=gf;Y<=s;Y++)if(K.s[Y].add.lsct!=aj.mh)K.g.push(Y);h.sK.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
M=O}else{M=O;if(O>=K.s.length)return;var i=K.s[O];if(i&&i.rD()&&c.alw)i.add.lsct=aj.cD;else if(K.g.length==1&&K.g[0]==O&&Math.max(0,G)==i.Xx){T=!0;
K.rH=!1}if(!T){K.g=[O];K.v_()}}if(!T){if(M!=null&&M<K.s.length){h.sK.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:K.s[M].getName()}}]},this.track(h)}if(!escape){console.log("no escape");
if(K.g.length==1){var b3=K.g[0];for(var Y=0;Y<K.s.length;Y++){if(Y==b3)continue;var D=K.s[Y];D.Xx=0;
D.NR=!1}var n=K.s[b3];if(G==2){n.NR=!n.NR;K.o3=[]}else if(n){n.Xx=G<=0?0:G}}else for(var Y=0;Y<K.s.length;
Y++){var D=K.s[Y];D.Xx=0;D.NR=!1}K.mU=null;K.So=!0}}if(c.FV&&x){if((G==1||G==3)&&Q!=null){var P=new ev(y.E.v,!0);
P.f=r.Hu;P.data={Y:"mskView",b:Q!=0?0:l?1:2};o.I(P)}else{this.GN({Y:gU.Ru,l:c.l},o,K,u,X)}}}if($==gU.H_||$==gU.DZ){var d5=$==gU.H_,gh=d5?n.wD():n.$a(K).F;
if(gh==null)return;var f=new gv(gh.isEnabled?d5?[6,15]:[6,42]:d5?[6,14]:[6,41],this);f.data={Y:$,l:O};
K.bs(f);this.eX(f.data,K)}if($==gU.fX){var gh=n.add.vmsk;if(gh==null)return;var f=new gv(gh.isEnabled?[6,17]:[6,16],this);
f.data={Y:$,l:O};K.bs(f);this.eX(f.data,K)}if($==gU.amv){var jt=n.add.lsct==aj.cD?aj.Qw:aj.cD,B=K.root.g4(K.s.indexOf(n)),c7=!1;
if(u.N(d2.vm)){var fl=B.parent;for(var Y=0;Y<fl.children.length;Y++){var eq=fl.children[Y].l;if(eq.rD())eq.add.lsct=jt}}else n.add.lsct=jt;
for(var Y=0;Y<K.g.length;Y++){var k8=K.g[Y];if(B.ON<k8&&k8<B.index)c7=!0}if(c7)K.g=[B.index];K.So=!0}if($==gU.Ru){if(!K.eu(O))return;
var f=new gv(n.xQ?[6,19]:[6,18],this);f.data={Y:$,l:O};K.bs(f);if(c.qU==null||c.qU!=n.xQ)this.eX(f.data,K)}if($==gU.acN){if(n.cy())n.Ha-=32;
else n.Ha+=32;K.So=!0}if($==gU.bd||$==gU.Ee){var f;if($==gU.bd)f=new gv(n.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if($==gU.Ee)f=new gv(n.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);f.data={Y:$,l:O};K.bs(f);this.eX(f.data,K)}if($==gU.cs||$==gU.Qm){var b3=c.index,f;
if($==gU.cs)f=new gv(n.add.lmfx[gH.N4[b3[0]]].v[b3[1]].v.enab.v?[6,30,0]:[6,29],this);if($==gU.Qm)f=new gv(n.add.SoLd.filterFX.v.filterFXList.v[b3].v.enab.v?[6,44]:[6,43],this);
f.data={Y:$,l:O,index:c.index};K.bs(f);this.eX(f.data,K)}if($==gU.dg){if(c.src==c.$O)return;var hs=K.s[c.src],cq=K.s[c.$O],jn=hs.add.lmfx?JSON.stringify(hs.add.lmfx):"",an=cq.add.lmfx?JSON.stringify(cq.add.lmfx):"";
if(cq.add.lmfx==null){cq.add.lmfx=JSON.parse(gH.default);for(var Y=0;Y<gH.order.length;Y++)cq.add.lmfx[gH.N4[Y]]={t:"VlLs",v:[]}}if(c.uv==null){cq.add.lmfx=JSON.parse(jn);
if(!x)delete hs.add.lmfx}else{var hk=c.uv[0],ds=gH.N4[hk];if(gH.aa4.indexOf(gH.order[hk])==-1)cq.add.lmfx[ds].v=[];
cq.add.lmfx[ds].v.push(hs.add.lmfx[ds].v[c.uv[1]]);if(!x)hs.add.lmfx[ds].v.splice(c.uv[1],1)}var gT=hs.add.lmfx?JSON.stringify(hs.add.lmfx):"",gP=cq.add.lmfx?JSON.stringify(cq.add.lmfx):"";
if(!cq.cy())cq.Ha+=32;var f=new gv("Move Layer Styles",this);f.data={Y:$,TV:c.src,Fk:c.$O,abx:jn,aBA:an,a4V:gT,aci:gP};
K.bs(f);this.eX(f.data,K)}if($==gU.Tg){if(c.src!=null)O=c.src;var D=K.s[O],ky=JSON.stringify(D.add.SoLd),ay=JSON.parse(ky),bb=ay.filterFX.v.filterFXList.v;
bb.splice(c.uv,1);var f=new gv([6,53],this);f.data={Y:gU.qQ,nX:[{Ba:O,ls:[ky,JSON.stringify(ay)]}]};
K.bs(f);this.eX(f.data,K)}if($==gU.aa0){var ap=x,hs=K.s[c.src],cq=K.s[c.$O],cR=[];if(hs!=cq&&cq.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(hs==cq&&!ap&&c.uv==c.Gv)return;if(hs==cq&&c.uv==-1)return;var c8=hs.$a(K),ky=JSON.stringify(hs.add.SoLd),ay=JSON.parse(ky),bb=ay.filterFX.v.filterFXList.v;
if(hs==cq){bb.splice(c.Gv,0,bb[c.uv]);if(!ap)bb.splice(c.uv+(c.uv<c.Gv?0:1),1);cR.push({Ba:c.src,ls:[ky,JSON.stringify(ay)]})}else if(c.uv==-1){var gr=ay.filterFX;
if(!ap){delete ay.filterFX;cR.push({Ba:c.src,ls:[ky,JSON.stringify(ay)],Mj:[c8,null]})}var fF=cq.Fe()?cq.$a(K):null,cj=h_.a3N(c8),br=JSON.stringify(cq.add.SoLd),hX=JSON.parse(br);
hX.placed.v=cj.id;hX.filterFX=gr;cR.push({Ba:c.$O,ls:[br,JSON.stringify(hX)],Mj:[fF,cj]})}else{var gG=bb[c.uv];
if(!ap){bb.splice(c.uv,1);cR.push({Ba:c.src,ls:[ky,JSON.stringify(ay)]})}var br=JSON.stringify(cq.add.SoLd),hX=JSON.parse(br);
if(hX.filterFX==null)hX.filterFX=gZ.pp();var jx=hX.filterFX.v.filterFXList.v;jx.splice(c.Gv,0,gG);var cr={Ba:c.$O,ls:[br,JSON.stringify(hX)]};
if(!cq.Fe()){var cj=h_.adf(cq.add.SoLd.placed.v);cr.Mj=[null,cj]}cR.push(cr)}var f=new gv([6,52],this);
f.data={Y:gU.qQ,nX:cR};K.bs(f);this.eX(f.data,K)}if($==gU.qJ){var gh=n.wD(),f=new gv(gh.lS?[6,26]:[6,25],this);
f.data={Y:$,l:O};K.bs(f);this.eX(f.data,K);this.track({ST:"set",sK:{classID:"setd",null:{t:"obj ",v:[a5.Vs("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:gh.lS}}}}})}if($==gU.EX){var gh=n.add.vmsk,f=new gv(gh.lS?[6,28]:[6,27],this);
f.data={Y:$,l:O};K.bs(f);this.eX(f.data,K)}if($==gU.vU){var f=new gv("Variables / Datasets",this),a8=JSON.stringify([K.s3,K.Tm]);
if(a8==c.b)return;f.data={Y:$,a9g:a8,aga:c.b};K.bs(f);this.eX(f.data,K)}if($==gU.gQ){var f8=[],f;for(var Y=0;
Y<K.g.length;Y++){var W=K.g[Y],i=K.s[W];if(i.add.vogk)f8.push(W,JSON.stringify(i.add.vogk))}for(var Y=0;
Y<K.o3.length;Y++){var W=K.o3[Y],i=K.es[W];if(i.add.vogk)f8.push(-1-W,JSON.stringify(i.add.vogk))}a.O9.ahR(K,c.b,c.axy);
var dW=[];for(var Y=0;Y<K.g.length;Y++){var W=K.g[Y],i=K.s[W];if(i.add.vogk)dW.push(W,JSON.stringify(i.add.vogk))}for(var Y=0;
Y<K.o3.length;Y++){var W=K.o3[Y],i=K.es[W];if(i.add.vogk)dW.push(-1-W,JSON.stringify(i.add.vogk))}var p=K.qF();
if(p&&p.data&&p.data.Y==$){var g7=!0;for(var Y=0;Y<f8.length;Y+=2)if(f8[Y]!=p.data.A9[Y])g7=!1;if(g7){f=p;
f.data.Dy=dW}}if(f==null){var f=new gv([12,91,1],this);f.data={Y:$,A9:f8,Dy:dW};K.bs(f)}this.eX(f.data,K)}if($==gU.P2){var eU=JSON.stringify(n.add.artb),f7=JSON.stringify(c.te),f;
K.s[O].add.artb=JSON.parse(f7);var d7=new ez(0,0,K.m,K.e),aW=r.zm.c4(K),p=K.qF();if(p&&p.data&&p.data.Y==$&&p.data.l==O){f=p;
f.data.te=f7}if(f==null){var f=new gv("Editing Artboard",this);f.data={Y:$,l:O,abZ:eU,te:f7,nn:d7};K.bs(f)}f.data.zL=aW;
this.eX(f.data,K)}if($==gU.Xa){var dW=K.lr.slice(0),cy=K.LL.slice(0),dh=K.u,fh=K.u,H=K.Q.O.slice(0);
if(c.D$=="seltochannel"){var dP=c.Yg[0],fg=dW[dP]=dW[dP].clone(),B=a._M.AV(K.u,fg,c.Yg[1]);fg.channel=B.channel;
fg.rect=B.rect}if(c.D$=="fromAction"){var bo=c.b.ST,jK=c.b.sK;if(bo=="make"||bo=="duplicate"){var jQ=dW.length,eo=!1,dC=!1;
if(K._U())jQ--;var aZ=new gU.bQ;aZ.name="Alpha "+(jQ+1);if(bo=="make"){var hG=jK.Nw.v;aZ.color=0;cy=[jQ];
aZ.nd=!0;aZ.E1=hG.Opct.v;if(hG.Nm)aZ.name=hG.Nm.v;if(hG.classID=="SCch"){eo=!0;fh=null;aZ.RL=1}for(var Y=0;
Y<K.lr.length;Y++)K.lr[Y].nd=!1;H=[0,0,0]}else{var i=K.s[K.g[0]],dy=i.Xx==1?i.wD():i.Xx==3?i.$a(K).F:null,fw=jK.null.v[0].v;
if(jK.Nm)aZ.name=jK.Nm.v;if(fw.keyID=="fsel")eo=!0;else if(dy){aZ.channel=dy.channel.slice(0);aZ.rect=dy.rect.clone();
aZ.color=dy.color}else{var dM=r.mW.aiO(K);fh=r.mW.a8f(K,dM);aZ.color=0;aZ.rect=fh.rect;aZ.channel=fh.channel}}if(eo){aZ.color=0;
if(K.u){aZ.rect=K.u.rect.clone();aZ.channel=K.u.channel.slice(0)}if(dC){aZ.color=255-aZ.color;a.fH(aZ.channel)}}dW.splice(jQ,0,aZ)}else if(bo=="delete"){if(n&&n.wD()&&n.Xx==1){this.GN({Y:gU.rP},o,K,u,X);
return}var aX=K.LL;aX.sort(function(f,ja){return ja-f});if(aX.length==0)return;for(var Y=0;Y<aX.length;
Y++)dW.splice(aX[Y],1);cy=[];H=[1,1,1]}else if(bo=="show"||bo=="hide"){var fy=jK.null.v,gp=null,aU=!1;
for(var Y=0;Y<fy.length;Y++){var e7=fy[Y].v[0].v,eV=e7.enum;if(eV=="Trgt"){if(dW[cy[0]]==null)continue;
dW[cy[0]]=dW[cy[0]].clone();dW[cy[0]].nd=bo=="show";aU=!0}else{var dP=["Rd","Grn","Bl"].indexOf(eV);
if(gp==null)gp=K.Q.O.slice(0);gp[dP]=bo=="show"?1:0}}if(gp){var b=new ev(y.E.v,!0);b.f=r.OC;b.data={Y:"setcls",O:gp};
o.I(b);if(!aU)return}}}if(c.D$=="rnm"){dW[c.wM]=dW[c.wM].clone();dW[c.wM].name=c.name}var f=new gv("Channel Edit",this);
f.data={Y:$,A9:K.lr.slice(0),xt:K.LL.slice(0),Dy:dW,cG:cy,AB:dh,I1:fh,ahk:K.Q.O.slice(0),aj6:H};this.eX(f.data,K);
K.bs(f)}if($==gU.LS){var b8=new ez(0,0,K.m,K.e),f=new gv(c.u0,this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:c.Un,Zx:K.g.slice(0),ku:c.I1};
K.bs(f);this.eX(f.data,K);var h$=r.zm.tv(K);if(h$){f.data.nn=b8;f.data.zL=h$}}if($==gU.Zv){var jZ=K.Dk(null,c.l),dL=1e10;
if(jZ.length==0)return;if(K.s.length==jZ.length){alert("Project must have at least 1 layer");return}var bu=[];
for(var Y=0;Y<K.s.length;Y++)if(jZ.indexOf(Y)==-1)bu.push(K.s[Y]);for(var Y=0;Y<jZ.length;Y++)dL=Math.min(dL,jZ[Y]);
dL=Math.max(dL-1,0);while(bu[dL].name=="</Layer group>")dL++;this.track({ST:"delete",sK:{classID:"Dlt",null:a5.Vs("Lyr",!0)}});
var d7=new ez(0,0,K.m,K.e),f=new gv([6,31],this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:[dL]};
K.bs(f);this.eX(f.data,K);var aW=r.zm.c4(K);if(aW){f.data.zL=aW;f.data.nn=d7;r.zm.tv(K)}}if($==gU.j_){if(!u.N(d2.Qx))return;
var f=new gv("Switch Layer Link",this);f.data={Y:$,l:c.l};K.bs(f);this.eX(f.data,K)}if($==gU.sd){var aX=c.aCE?c.aCE:K.g,iv=0,cu=!1;
if(aX.length==0)return;if(aX.length==1&&K.s[aX[0]].r6==0){alert(iV.get([15,7,5]));return}var k5=[];for(var Y=0;
Y<K.s.length;Y++){var ir=K.s[Y].r6;k5.push(ir);iv=Math.max(iv,ir)}var az=-1,jj=-1;for(var Y=0;Y<aX.length;
Y++){var ir=K.s[aX[Y]].r6;if(ir==0)cu=!0;else if(az==-1||az==ir)az=ir;else jj=ir}if(!cu)for(var Y=0;
Y<aX.length;Y++)K.s[aX[Y]].r6=0;else if(az!=-1&&jj==-1)for(var Y=0;Y<aX.length;Y++)K.s[aX[Y]].r6=az;
else for(var Y=0;Y<aX.length;Y++)K.s[aX[Y]].r6=iv+1;var hM=[];for(var Y=0;Y<K.s.length;Y++){var ir=K.s[Y].r6;
if(hM[ir]==null)hM[ir]=0;hM[ir]++}for(var Y=0;Y<K.s.length;Y++){var ir=K.s[Y].r6;if(hM[ir]==1)K.s[Y].r6=0}var je=k5;
k5=[];for(var Y=0;Y<K.s.length;Y++){var ir=K.s[Y].r6;k5.push(ir);iv=Math.max(iv,ir)}var f=new gv(cu?[6,54,0]:[6,54,1],this);
f.data={Y:gU.sd,aC0:je,aAv:k5};K.bs(f);this.eX(f.data,K)}if($==gU.vi&&(c.l!=null||K.g.length!=0)||$==gU.LX){var bP=K.Cq($==gU.vi?c.l:O,null,c.a12),bD;
if($==gU.LX){var D=bP[0],bo=D.add.SoLd.Idnt.v,aC=K.Uv(bo).clone();D.add.SoLd.Idnt.v=aC.Il=h_.iE()+bo.slice(8);
K.add.lnk2.push(aC)}if($==gU.vi){var bV={ST:"duplicate",sK:{classID:"null",null:a5.Vs("Lyr",!0)}};if(c.iX){bP[bP.length-1].XK(c.iX);
bV.Nm={t:"TEXT",v:c.iX}}this.track(bV);c.akR=c.l}$=gU.WM;c.s=bP;c.il=K;c.Cj=K}if($==gU.WM){var cm,e3,eT=c.il,b6=c.Cj,jH=0,b_=0,jc=eT.bl(),dG=!1,gE,ig=0,aT=0;
if(eT!=b6){console.log("ADDLAYERS different projs");var cm=new ez(0,0,eT.m,eT.e),e3=new ez(0,0,b6.m,b6.e),g3=[],jD=[],fa=new ez;
for(var Y=0;Y<c.s.length;Y++){var D=c.s[Y];fa=fa.X3(D.rect);if(D.add.SoLd==null)continue;var bo=D.add.SoLd.Idnt.v;
if(g3.indexOf(bo)==-1){g3.push(bo);jD.push(h_.iE()+bo.slice(8))}D.add.SoLd.Idnt.v=jD[g3.indexOf(bo)];
var c8=D.$a(eT);if(c8){eT.Az(c8);b6.mj(c8)}}if(jc==-1&&!c.d5&&c.aov&&!e3.Yd(fa)){jH=-fa.x;b_=-fa.y}if(g3.length>0){if(b6.add.lnk2==null)b6.add.lnk2=[];
for(var Y=0;Y<g3.length;Y++){var a0=eT.Uv(g3[Y]),aC=a0.clone();aC.Il=jD[Y];b6.add.lnk2.push(aC)}}}var dh=b6.g.slice(0);
dh.sort(function(f,ja){return f-ja});var bu=b6.s.slice(0),fh=[],eQ=-1;for(var Y=0;Y<dh.length;Y++)eQ=Math.max(eQ,dh[Y]);
if(c.akR!=null)eQ=c.akR;if(c.d5){eQ=c.d5-1;var cd=b6.s[c.d5].rA();jH+=cd.x;b_+=cd.y}if(jc!=-1&&(eT!=b6||c.d5)){var iB=eT.s[jc].rA();
jH-=iB.x;b_-=iB.y}var dm=b6.Tf();for(var Y=0;Y<dm[0].length;Y++){var hF=dm[1][Y];if(hF!=-1)dm[1][Y]=bu[hF]}eQ++;
for(var Y=0;Y<c.s.length;Y++){var i=c.s[Y],jz=i.add.artb;bu.splice(eQ,0,i);fh.push(eQ);eQ++;if(jz){gE=!0;
var bw=jz.guideIndeces;if(bw){bw=bw.v;for(var ix=0;ix<bw.length;ix++){dm[0].push(eT.qb[bw[ix].v].slice(0));
dm[1].push(i);dG=!0}}}}for(var Y=0;Y<dm[0].length;Y++){var hF=dm[1][Y];if(hF!=-1)dm[1][Y]=bu.indexOf(hF)}for(var Y=0;
Y<c.s.length;Y++){var i=c.s[Y];if(i.add.lsct==aj.mh){if(ig==0)aT++;ig++}else if(i.rD())ig--}if(aT==1)fh=[eQ-1];
var f=new gv([6,0],this);f.data={Y:gU.LS,mS:b6.s.slice(0),Un:bu,Zx:dh,ku:fh};if(dG){f.data.M7=[b6.Tf(),dm]}b6.bs(f);
this.eX(f.data,b6);if(jH!=0||b_!=0)r.W7.uz(b6,b6.Dk(),null,jH,b_);if(gE){f.data.nn=new ez(0,0,b6.m,b6.e);
f.data.zL=r.zm.c4(b6);r.zm.tv(b6)}}if($==gU.xP){var cx=c.l!=null?[c.l]:K.Dk(),bu=K.s.slice(0);for(var Y=0;
Y<cx.length;Y++){var i=K.s[cx[Y]].clone();i.Ql(K);bu.splice(cx[Y],1,i)}var f=new gv([6,8],this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:K.g.slice(0)};
K.bs(f);this.eX(f.data,K)}if($==gU.ajV){var bu=K.s.slice(0),i=bu[K.g[0]]=bu[K.g[0]].clone(),f$=i.add.lmfx,eN,cd;
delete i.add.lmfx;var dK=K.g[0],iH=dK+1;if(i.rD()){var k7=K.s[K.g[0]].J9;cd=k7.a13;eN=k7.Oe;var B=K.root.g4(dK);
dK=B.ON}else{cd=i.rect;eN=a.R(cd.P());a.Sw(i.buffer,eN,3)}var b0=bL.Zr(f$,i.add.fxrp,eN,cd,K,cd).type;
for(var Y=0;Y<gH.order.length;Y++){var bK=gH.order[Y],i5=b0[bK];i5.reverse();for(var ix=0;ix<i5.length;
ix++){var hP=i5[ix],V=K.uB(),i2=Y>7;if(bK=="ebbl"){if(hP.bi||hP.WV){var j4=hP.bi?hP.bi:hP.WV;if(hP.bi)delete hP.bi;
else delete hP.WV;if(hP.WV||hP.Xj)ix--}else if(hP.Xj||hP.XA){var j4=hP.XA?hP.XA:hP.Xj;if(hP.XA){delete hP.XA;
if(hP.Xj)ix--}i2=!0}hP=j4}V.Mh=hP.FS;V.opacity=Math.round(255*hP.fQ);V.buffer=hP.PX;V.rect=hP.hx.clone();
V.rect.offset(cd.x,cd.y);if(bK=="FrFX"){V.buffer=V.buffer.slice(0);a.bp(hP.vr?hP.vr:hP._z,V.buffer,3);
if(hP.vr){i2=!0;delete hP.vr;if(hP._z)ix--}}V.xQ=!i2;V.XK(i.getName()+"'s "+iV.get(gH.names[Y]));bu.splice(i2?dK:iH,0,V);
if(i2)iH++}}var f=new gv("Styles to Layers",this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:[iH-1]};
K.bs(f);this.eX(f.data,K)}if($==gU.aDt){var cx=K.Dk(),bu=K.s.slice(0),e1=new ez(0,0,K.m,K.e);for(var Y=0;
Y<cx.length;Y++){var au=K.s[cx[Y]],cn=au.IT();au.OG(!0);var cN=K.root.g4(cx[Y]);if(au.rD())continue;
if(cN==null)continue;var i=au.clone();i.Ql(K);var bg=cN.G5(K,!0),i7=K.s;K.QK([au]);K.d();K.Lx();i.buffer=a.R(bg.P()*4);
a.Ui(K.i9(),e1,i.buffer,bg);i.rect=bg;i.opacity=255;i.add.iOpa=255;i.Mh="norm";i.d();i.J9.nK=!0;K.QK(i7);
if(i.add.lmfx)delete i.add.lmfx;i.F=i.o9=null;bu.splice(cx[Y],1,i);i.OG(cn);au.OG(cn)}var f=new gv([6,34],this);
f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:K.g.slice(0)};K.bs(f);this.eX(f.data,K)}if($==gU.anE){var cx=K.Dk(),bu=K.s.slice(0);
for(var Y=0;Y<cx.length;Y++){var i=K.s[cx[Y]],hl=i.add.TySh;if(hl==null)continue;var D=new ag(hl.Bz,X.ru,hl.im),h8=a.A.pR(hb.tL(D,hl,!0));
for(var cM in h8){var dD=h8[cM],eq=i.clone();delete eq.add.TySh;eq.Ha=eq.Ha|1<<4;eq.add.SoCo=JSON.parse(JSON.stringify(gH.Kw[0]));
var eI=eq.add.SoCo.Clr.v;eI.Rd.v=parseInt(cM.slice(1,3),16);eI.Grn.v=parseInt(cM.slice(3,5),16);eI.Bl.v=parseInt(cM.slice(5,7),16);
var bz=new gU.JA;bz.$=a.A.lR(dD,!1);if(eq.add.vmsk!=null){eq.add.vmsk.amu();bz.concat(eq.add.vmsk)}eq.add.vmsk=bz;
eq.add.vstk=gH.e_.ib(!0);eq.$h();eq.Dm(K);bu.splice(bu.indexOf(i),0,eq)}bu.splice(bu.indexOf(i),1)}var fh=K.g.slice(0);
for(var Y=fh.length-1;Y>=0;Y--)if(fh[Y]>=bu.length)fh.splice(Y,1);var f=new gv([6,40],this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:fh};
K.bs(f);this.eX(f.data,K)}if($==gU.Bk){var dZ=K.g.length,eb,af;if(dZ<2){alert("Select two or more layers.");
return}for(var Y=0;Y<dZ;Y++){var iB=K.s[K.g[Y]].rect;eb=Y==0?iB:eb.ar(iB);af=Y==0?iB:af.X3(iB)}if(eb.P()*1.2>af.P()){alert("stacking images");
var cz=[],aF=[];for(var Y=0;Y<dZ;Y++){var i=K.s[K.g[Y]];cz.push(i.buffer);aF.push(i.rect)}var bd=a.ava.Wc(cz,aF),jd=bd[0],cl=bd[1],eA=[];
for(var Y=0;Y<dZ;Y++){var gh=new gU.bQ;gh.color=255;gh.rect=cl;gh.channel=jd[Y];eA.push(K.g[Y],null,gh)}var f=new gv("Focus-Stack",this);
f.data={Y:gU.oK,dr:eA};K.bs(f);this.eX(f.data,K);return}if(!K.yd())return;var eq=K.s[K.g[0]].clone(),bu=[];
for(var Y=0;Y<K.s.length;Y++)if(K.g.indexOf(Y)==-1)bu.push(K.s[Y]);bu.splice(K.g[0],0,eq);for(var Y=1;
Y<dZ;Y++)if(K.s[K.g[Y]].rect.P()>2e6){alert("Blended areas are too large.");return}for(var Y=1;Y<dZ;
Y++){var i=K.s[K.g[Y]],cl=i.rect.clone();cl.JG(1,1);var ja=a.R(cl.P()*4);a.Ui(i.buffer,i.rect,ja,cl);
eq.extend(cl);var cZ=a.R(cl.P()*4);a.Ui(eq.buffer,eq.rect,cZ,cl);var f=a.R(cl.P());a.Sw(ja,f,3);a.round(f,200);
a.bp(f,ja,3);a.a.hA("norm",ja,cl,cZ,cl,cl,1);a.S5.sZ(cZ,f,cl);a.Ui(cZ,cl,eq.buffer,eq.rect)}var f=new gv([2,10,0],this);
f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:[K.g[0]]};K.bs(f);this.eX(f.data,K)}if($==gU.ml){var bu=K.s.slice(0),cy=K.g.slice(0);
for(var Y=0;Y<bu.length;Y++){var i=bu[Y],cQ=i.add.vmsk;if(i.NL()&&cQ&&i.add.vstk.strokeEnabled.v&&!i.add.vstk.fillEnabled.v){var gz=cQ.$,j2=0,j0=-1;
for(var ix=0;ix<gz.length;ix++){if((gz[ix].type==0||gz[ix].type==3)&&gz[ix].cS!=-1){j2++;if(gz[ix].type==3&&j0==-1){gz[ix].fl=gz[ix].cS=1;
j0=ix}}}if(j2>1&&j0!=-1&&j2<10){console.log("separating an open path into a new layer");i=i.clone();
cQ=i.add.vmsk;gz=cQ.$;var V=gz[j0].length,kx=i.clone();kx.add.lyid=K.Tv();cQ.$=gz.slice(0,2).concat(gz.slice(j0,j0+V+1));
cQ.g=[];i.Dm(K);i.d();var gq=kx.add.vmsk.$;kx.add.vmsk.$=gq.slice(0,j0).concat(gq.slice(j0+V+1,gq.length));
kx.add.vmsk.g=[];kx.Dm(K);bu[Y]=i;bu.splice(Y+1,0,kx);for(var ix=0;ix<cy.length;ix++)if(cy[ix]>Y)cy[ix]++;
var eX=cy.indexOf(Y);if(eX!=-1){cy.splice(eX+1,0,Y+1)}}}}if(bu.length!=K.s.length){var f=new gv("Splitting open paths",this);
f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:cy};K.bs(f);this.eX(f.data,K)}}if($==gU.tP){this.GN({Y:gU.ml},o,K,u,X);
var dh=K.g.slice(0),i7=K.s.slice(0),cx=K.Dk();if(cx.length==0)return;K.au9(cx,!1,c.GA);var f=new gv([6,36,0],this);
f.data={Y:gU.LS,mS:i7,Un:K.s.slice(),Zx:dh,ku:K.g.slice(0)};K.bs(f);this.eX(f.data,K)}if($==gU.aBn){var ky=n.add.SoLd;
if(ky==null)return;var bo=ky.Idnt.v,ih=K.Uv(bo);ih.i9(!1);var jE=ih.Za[0],cl=ih.Za[1];if(a.Ci(jE)){alert("The smart object contains transparency.");
return}var b9=c5.nq("jpg").nC([[jE.buffer]],cl.m,cl.e,[90]);this.GN({Y:gU.fy,data:new Uint8Array(b9),fp:"image.jpg"},o,K,u,X);
console.log(K.add);return}if($==gU.fy){var e1=c.ff,bo=c.id;if(e1==null)e1=K;if(bo==null)bo=n.add.SoLd.Idnt.v;
var a0=e1.Uv(bo),aC=a0.clone();aC.raw=c.data;aC.fp=c.fp;var bs=c5.c5(c.data.buffer);if(bs=="psd"){aC.qt="8BIM";
aC.KO="8BPB"}else{aC.qt="    ";aC.KO="    "}aC.i9(!1);a0.i9(!1);var f=new gv([6,36,1],this);f.data={Y:gU.fy,id:bo,fK:a0,jr:aC};
e1.bs(f);this.eX(f.data,e1)}if($==gU.M8){var f=new gv([6,36,4],this);f.data={Y:$,l:O,Ak:n.add.SoLd.Impr.v.classID,qU:c.qU};
K.bs(f);this.eX(f.data,K)}if($==gU.arT){var fj,bN;if(c.l$){fj=c.ff;bN=c.l$}else{c.ff.HR();c.ff.nN();
c.ff.d();c.ff.Lx();c.ff.i9();fj=c5.nq("PSD").nC(c.ff,0,0,[!0,!0]);bN=c.ff.name}if(!(fj instanceof ArrayBuffer))throw"e";
fj=new Uint8Array(fj);var C=c.Qb;if(C==null){if(K.g.length==0)C=K.g.length;else{var k8=K.g[K.g.length-1],V=K.s[k8];
C=V.rD()?k8:k8+1}}var gC=new ez(0,0,K.m,K.e),bi=K.bl();if(bi!=-1)gC=K.s[bi].rA();var kA=K.ra(fj,bN,null,null,gC,X.ru,o),bu=K.s.slice(0);
bu.splice(C,0,kA);var f=new gv([6,36,2],this);f.data={Y:gU.LS,mS:K.s.slice(),Un:bu,Zx:K.g.slice(0),ku:[bu.indexOf(kA)]};
K.bs(f);this.eX(f.data,K)}if($==gU.pd&&c.D$=="merge"){var b$=[],fO=K.root.children,jB=0;for(var Y=0;
Y<fO.length;Y++){var B=fO[Y],i=B.l,kb=B.children,gM=!0;if(!i.rD()||kb.length==0)continue;for(var ix=0;
ix<kb.length;ix++)if(!kb[ix].l.getName().startsWith("_a_")){gM=!1;break}if(gM)b$.push(K.s.indexOf(i))}var il=[];
for(var Y=0;Y<b$.length;Y++)if(K.g.indexOf(b$[Y])!=-1)il.push(b$[Y]);if(il.length>=2)b$=il;if(b$.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var ch=[];for(var Y=0;Y<b$.length;Y++)ch.push(K.s[b$[Y]].getName());var i5=[];for(var gI=0;gI<b$.length;
gI++){var B=K.root.g4(b$[gI]),cr=[[],[],0,gI];i5.push(cr);for(var Y=0;Y<B.children.length;Y++){var W=B.children[Y].index,i=B.children[Y].l,aZ=i.getName(),ku=20,e9=aZ.split(",");
if(e9.length>1){var eL=parseInt(e9.pop());if(!isNaN(eL)&&eL!=0)ku=eL}if(ku<17)ku=17;cr[0].push(i);cr[1].push(ku);
cr[2]+=ku}}i5.sort(function(f,ja){return ja[2]-f[2]});if(i5[0][2]>2e3){var gd=0,dc=0;for(var Y=0;Y<i5.length;
Y++){var k9=i5[Y][1].length/i5[Y][2];if(k9>dc){dc=k9;gd=Y}}var kp=(i5[0][2]/1e3).toFixed(1),aR=window.confirm("- \""+ch[i5[0][3]]+"\" is "+kp+" seconds long\n"+"- \""+ch[i5[gd][3]]+"\" is playing at "+Math.round(dc*1e3)+" frames per second\n"+"A merged animation must be "+kp+" sec, up to "+Math.round(i5[0][2]*dc)+" frames. Proceed?");
if(!aR)return}var hR=i5[0],kw=hR[2];for(var hF=1;hF<i5.length;hF++){var cr=i5[hF],aS=1,eB=cr[1].slice(0),bU=0;
while((aS+1)*cr[2]<=hR[2]){aS++;eB=eB.concat(cr[1])}cr[1]=eB;cr[2]*=aS;var g6=hR[2]/cr[2];for(var Y=0;
Y<cr[1].length;Y++){var bk=Math.floor(cr[1][Y]*g6);cr[1][Y]=bk;bU+=bk}while(bU<kw){bU++;cr[1][cr[1].length-1]++}cr[2]=bU}var iC=[],bl=[],bk=[];
for(var Y=0;Y<i5.length;Y++){iC.push(0);bl.push(0)}while(jB<kw){var iL=1e9,jQ=-1;for(var Y=0;Y<i5.length;
Y++){var g9=i5[Y][1],dK=iC[Y];if(dK!=g9.length&&bl[Y]+g9[dK]<jB+iL){jQ=Y;iL=bl[Y]+g9[dK]-jB}}bl[jQ]+=i5[jQ][1][iC[jQ]];
iC[jQ]++;if(iL!=0){bk.push(iL);jB+=iL}}for(var Y=1;Y<bk.length;Y++){var ex=bk[Y];if(ex<16&&(bk[Y-1]<16||Y<bk.length-1&&16<=bk[Y+1])){bk[Y-1]+=ex;
bk.splice(Y,1);Y--}}var cn=[],e1=new ez(0,0,K.m,K.e);for(var Y=0;Y<K.s.length;Y++){cn[Y]=K.s[Y].IT();
K.s[Y].OG(!1)}var am=K.g.slice(0);K.g=b$;var jZ=K.Dk();jZ.sort(function(f,ja){return f-ja});var bu=[];
for(var Y=0;Y<K.s.length;Y++){if(jZ.indexOf(Y)==-1)bu.push(K.s[Y])}i5.sort(function(f,ja){return f[3]-ja[3]});
function iq(g9,fq){var Y=0,kt=0;while(kt+g9[Y]<=fq){kt+=g9[Y];Y++}return Y}jB=0;bu.splice(jZ[0],0,K.FL());
for(var cp=0;cp<bk.length;cp++){var q=[];for(var Y=0;Y<i5.length;Y++){var dK=iq(i5[Y][1],jB)%i5[Y][0].length,i=i5[Y][0][dK];
q.push(i)}var i=K.uB();for(var Y=0;Y<i5.length;Y++){var fB=q[Y],fl=K.s[b$[Y]];fB.OG(!0);fl.OG(!0)}K.d();
K.Lx();var jE=K.i9();i.rect=a.pD(jE,e1,2);i.buffer=a.R(i.rect.P()*4);a.Ui(jE,e1,i.buffer,i.rect);for(var Y=0;
Y<i5.length;Y++){var fB=q[Y],fl=K.s[b$[Y]];fB.OG(!1);fl.OG(!1)}i.OG(cp==0);i.XK("_a_frm"+cp+","+bk[cp]);
bu.splice(jZ[0]+1+cp,0,i);jB+=bk[cp]}var i=K.uB();i.XK(ch.join(" + "));i.Mh="pass";i.add.lsct=aj.Qw;
i.Ha=24;bu.splice(jZ[0]+1+bk.length,0,i);for(var Y=0;Y<K.s.length;Y++)K.s[Y].OG(cn[Y]);var f=new gv([6,12,0],this);
f.data={Y:gU.LS,mS:K.s,Un:bu,Zx:am,ku:[jZ[0]+1+bk.length]};K.bs(f);this.eX(f.data,K)}if($==gU.UB||$==gU.y5){var jI=K.g.length==1&&!K.s[K.g[0]].rD(),e_=!0,kA=null,fh;
if(jI&&K.g[0]==0)return;var i7=K.s.slice(0),dh=K.g.slice(0);if(jI)K.g=[O,O-1];if($==gU.y5){K.g=[];for(var Y=0;
Y<K.s.length;Y++)if(K.s[Y].IT())K.g.push(Y)}var cx=K.Dk();cx.sort(function(f,ja){return f-ja});var ks=new ez,e1=new ez(0,0,K.m,K.e);
for(var Y=0;Y<cx.length;Y++){var W=cx[Y],i=K.s[W];if(i.rD()||i.getName()=="</Layer group>")continue;
e_=e_&&i.NL()&&i.add.vmsk!=null;ks=ks.X3(K.root.g4(W).G5(K,!0))}if(c._M!=null&&!e_){alert("Select shape layers only.");
return}if(e_){var cQ=null,k4=c._M;for(var Y=0;Y<cx.length;Y++){var V=K.s[cx[Y]];if(V.rect.P()==0)continue;
if(kA==null){kA=V.clone();cQ=kA.add.vmsk}else{var V=K.s[cx[Y]],gq=gU.JA.qA(V.add.vmsk.$);if(k4!=null)for(var ix=0;
ix<gq.length;ix++)if(gq[ix].cS!=null&&gq[ix].cS!=-1)gq[ix].cS=[1,2,3,0][k4];cQ.$=cQ.$.concat(gq.slice(2));
kA.add.vogk=kA.add.vogk.concat(JSON.parse(JSON.stringify(V.add.vogk)))}}kA.add.vmsk.jt=!0;kA.Dm(K)}else if(e1.v8(ks)){kA=K.uB();
kA.XK(K.s[cx[cx.length-1]].getName());kA.rect=ks;kA.buffer=a.R(ks.P()*4);var h9=K.add.artd;delete K.add.artd;
var fP=K.i9(cx);if(h9)K.add.artd=h9;a.Ui(fP,e1,kA.buffer,ks);kA.kj();kA.d()}else{K.au9(cx,!0);kA=K.s[K.g[0]];
K.s.splice(K.g[0],1);var hK=K.Uv(kA.add.SoLd.Idnt.v);K.add.lnk2.splice(K.add.lnk2.indexOf(hK),1);delete kA.add.SoLd}var dj=x,gQ=-1;
if(c.sK&&c.sK.Dplc&&c.sK.Dplc.v)dj=!0;if(dj&&$==gU.y5&&dh.length!=0&&K.s[dh[0]].Dc()&&K.s[dh[0]].rect.SR()){gQ=dh[0]}if(gQ!=-1||jI){var e4=K.s[gQ!=-1?gQ:O-1];
kA.XK(e4.getName());kA.add.lclr=e4.add.lclr}var bu=[];for(var Y=0;Y<K.s.length;Y++)if(dj||cx.indexOf(Y)==-1)if(Y!=gQ)bu.push(K.s[Y]);
var iz=cx[cx.length-1],e0=iz==K.s.length-1?null:K.s[iz+1],hN=e0?bu.indexOf(e0):bu.length;bu.splice(hN,0,kA);
fh=[hN];var f=new gv([6,12,0],this);f.data={Y:gU.LS,mS:i7,Un:bu,Zx:dh,ku:fh};K.bs(f);this.eX(f.data,K)}if($==gU.auk){var eq=K.uB();
eq.rect=new ez(0,0,K.m,K.e);eq.buffer=a.R(eq.rect.P()*4);a.ms(eq.buffer,4294967295);a.a.hA("norm",K.i9(),eq.rect,eq.buffer,eq.rect,eq.rect,1);
eq.XK("Background");eq.add.lspf=1<<2;var f=new gv([6,12,1],this);f.data={Y:gU.LS,mS:K.s.slice(),Un:[eq],Zx:K.g.slice(0),ku:[0]};
K.bs(f);this.eX(f.data,K)}var f1=$==gU.Z3||$==gU.D_;if($==gU.SA||$==gU.w3||$==gU.Ok||$==gU.Pm||f1){var i=f1?K.Cq()[0]:K.uB(),c9=iV.get([0,3]),b2=c.iX,jv=!1,bx,kj;
if($==gU.Ok)c9=iV.get([12,76,1]);if(f1){if(K.u){var au=K.s[K.g[0]],g2=au.oI(K,K.u);if(g2==null){alert("Copied area is empty");
return}i.rect=g2.rect;i.buffer=g2.OQ;i.Ql(K);i.OG(!0)}else b2=i.getName();i.add.lspf=0;i.xQ=!1;if((i.Ha&1)!=0)i.Ha--}if($==gU.Pm){i.rect=r.Es.a3B(c.rQ,K);
i.buffer=c.rQ.buffer.slice(0);if(c.iq&&K.u){i.F=new gU.bQ;i.F.rect=K.u.rect;i.F.color=0;i.F.channel=K.u.channel.slice(0)}}if($==gU.SA){this.track({ST:"make",sK:{classID:"Mk",null:a5.Vs("Lyr")}})}if($==gU.w3){i.Ha|=16;
var iw=c.sK.Usng.v,fG=iw.Type.v,eD=j7.U9[fG.classID];c9=iV.get(j7.names[eD]);if(iw.Nm)b2=iw.Nm.v;i.add[eD]=gZ.ib(eD);
if(i.add[eD]==null)i.add[eD]={};for(var is in fG)i.add[eD][is]=JSON.parse(JSON.stringify(fG[is]));i.F=r.Es.anz(K);
i.Xx=1}if($==gU.Ok){i.Ha|=16;var jK=c.sK,iw=jK.Usng.v,a1=iw.Type.v,eF=iw.Shp;if(iw.Nm)b2=iw.Nm.v;if(eF==null){var bc=K.Dr(),h8=bc[0],eO=bc[1];
if(eO.length!=0&&h8[eO[0]].wM<0){var dI=h8[eO[0]].add;i.add.vmsk=dI.vmsk.clone();i.add.vstk=gH.e_.ib(!0);
i.add.vogk=JSON.parse(JSON.stringify(dI.vogk));K.o3=[]}else i.F=r.Es.anz(K)}else{i.add.vmsk=new gU.JA;
i.add.vstk=JSON.parse(JSON.stringify(iw.strokeStyle?iw.strokeStyle.v:gH.e_.ib(!0)));i.add.vogk=[];if(eF){var hW=a.O9.Ln(eF);
if(hW){i.add.vogk=[hW];i.add.vmsk.$.push({type:0,cS:1,length:0});a.O9.Tu(i.add.vogk,i.add.vmsk)}else{eF=eF.v;
var dA=eF.classID;if(dA=="Plgn"){var e7=eF.Cntr.v,iB=eF.corner.v;e7=new kn(e7.Hrzn.v.val,e7.Vrtc.v.val);
iB=new kn(iB.Hrzn.v.val,iB.Vrtc.v.val);i.add.vmsk.$=a.o.YP.Hr(e7.x,e7.y,Math.sqrt(iB.x*iB.x+iB.y*iB.y),Math.atan2(iB.y,iB.x),eF.sides.v,0)}else if(dA=="customShape"){var bv=a.O9.GQ(eF),bF=bv[2]-bv[0],fz=bv[3]-bv[1],jA=X.Vr,fu,cb;
for(var Y=0;Y<jA.length;Y++)if(jA[Y].PB==eF.Nm.v)fu=jA[Y];if(fu){cb=gU.JA.qA(fu.$);a.o.Ik(cb,new bE(bF,0,0,fz,bv[0],bv[1]))}else cb=a.o.YP.Rect(bv[0],bv[1],bF,fz,0);
i.add.vmsk.$=cb}i.$h()}}}var gk={solidColorLayer:0,gradientLayer:1,patternLayer:2}[a1.classID],d4=["SoCo","GdFl","PtFl"][gk];
i.add[d4]=JSON.parse(JSON.stringify(gH.Kw[gk]));if(gk==0)i.add[d4].Clr.v=a.T.mv(a.rf(X.V5));r.Es.p_(a1,i.add[d4],gk);
if(eF==null)c9=iV.get([6,48,0,gk]);if(d4=="PtFl"){var dp=i.add[d4].Ptrn.v,e9=bL.rO(dp,X.dx);if(e9==null)e9=bL.rO(dp,K.add.Patt);
dp.Idnt.v=e9.id;K.ci(e9)}i.Dm(K)}var dZ=r.Es.uN(K,c9+" ");i.XK(c9+" "+(dZ+1));if(b2)i.XK(b2);var kG=K.g.length==0?K.s.length-1:K.g[K.g.length-1],cF=K.s[kG];
if($==gU.Ok&&cF.Dc()&&cF.rect.SR()){jv=!0;i.XK(cF.getName());bx=kG}else{bx=kG+($==gU.SA&&N&&!l?0:1);
if(cF&&cF.add.lsct==aj.cD)bx--}if(c.a8Z)bx=Math.max(0,bx-1);var bu=K.s.slice(0);if($==gU.D_){var hI=bu[K.g[0]]=bu[K.g[0]].clone(),fQ=K.u.channel.slice(0);
a.fH(fQ);a.Vu(fQ,K.u.rect,hI.buffer,hI.rect)}bu.splice(bx,jv?1:0,i);var dB=[5,2];if($==gU.SA)dB=[6,13];
if($==gU.w3)dB=[6,1];if($==gU.Ok){dB=[6,48,1];var eF=c.sK.Usng.v.Shp;if(eF){var eY={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[eF.v.classID];
if(eY)dB=eY}}if(f1){dB=[6,49,$==gU.Z3?0:1]}if(f1||$==gU.Ok||$==gU.Pm||$==gU.w3)if(K.u)kj=[K.u,null];
var f=new gv(dB,this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:[bx],fY:kj};K.bs(f);this.eX(f.data,K);
if($==gU.Ok&&eF==null&&gk!=0||$==gU.w3){var j=new ev(y.E.M);j.data={Y:y.H.P8,n9:cs.Bl.jY};o.I(j)}}if($==gU.w$){var i=K.uB(),c9=iV.get([0,4]),dZ=r.Es.uN(K,c9+" ");
i.XK(c9+" "+(dZ+1));i.Mh="pass";i.add.lsct=aj.cD;i.Ha=24;if(c.iX)i.XK(c.iX);if(c.uh!=null)i.add.lclr=c.uh;
var fS=K.FL(),kG=O,bx=kG+(N?0:1),bu=K.s.slice(0);bu.splice(bx,0,fS,i);var f=new gv([6,20],this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:[bx+1]};
K.bs(f);this.eX(f.data,K)}if($==gU.BF||$==gU.cB){var h5=$==gU.BF?c.source:K.g[0],cS,ep,j5=K.g.indexOf(h5)!=-1,jV=x|c.a0o,eM,iL=null;
if(j5)eM=K.Dk();else eM=K.aF(h5);eM.sort(function(f,ja){return f-ja});if($==gU.BF){cS=c.target;ep=c.iM>.5}else if(c.target!=null){cS=Math.min(c.target,K.s.length-1);
ep=c.target<K.s.length;K.ZL=!0}else{var jX=c.D$;ep=jX>1;if(jX==0){cS=K.s.length-1}if(jX==1){cS=eM[eM.length-1]+1;
var V=K.aF(cS);if(V.indexOf(h5)==-1)cS+=V.length-1}if(jX==2){cS=eM[0]-1;var V=K.aF(cS);if(V.indexOf(h5)==-1)cS-=V.length-1}if(jX==3){cS=0;
if(K.s[0].add.lnsr=="bgnd")cS++}if(cS<0||cS>K.s.length-1)return;K.ZL=!0}if(eM.indexOf(cS)!=-1&&!jV)return;
var gm=r.Es.XN(K,eM,cS,ep,jV?K.Cq(j5?null:h5):null,$==gU.BF&&c.iM>.8),dR=gm.pop(),cy=gm.pop(),bu=gm.pop(),fK=K.g;
K.g=[h5];var jc=K.bl();K.g=[cS];var c4=K.bl();if(c4==cS&&!ep)c4=-1;K.g=fK;if(h5==jc){}else if(jc!=c4){var iL=new kn(0,0);
if(jc!=-1){var cl=K.s[jc].rA();iL.x-=cl.x;iL.y-=cl.y}if(c4!=-1){var cl=K.s[c4].rA();iL.x+=cl.x;iL.y+=cl.y}}var f=new gv(jV?[6,0]:[6,35],this);
f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:cy,Et:iL};K.bs(f);this.eX(f.data,K);var jK={classID:"move",null:a5.Vs("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:dR+(ep?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:jV}};
this.track({ST:"move",sK:jK})}if($==gU.ub){if(c.vD){if(n==null||!n.rD())return;var B=K.root.g4(O),hB=K.s.indexOf(B.a0t),bu=K.s.slice(0);
bu.splice(O,1);bu.splice(hB,1);var cy=[];for(var Y=hB;Y<O-1;Y++)cy.push(Y);var f=new gv("Ungroup Layers",this);
f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:cy};K.bs(f);this.eX(f.data,K)}else{var i=K.uB(),ea=iV.get([0,4])+" ";
i.XK(ea+(r.Es.uN(K,ea)+1));i.Mh="pass";if(c.iX)i.XK(c.iX);if(c.uh!=null)i.add.lclr=c.uh;i.add.lsct=K.g.length==1?aj.cD:aj.Qw;
i.Ha=24;var fS=K.FL(),eM=K.Dk();if(eM.length==0)return;eM.sort(function(f,ja){return f-ja});var bu=[];
for(var Y=0;Y<K.s.length;Y++)if(eM.indexOf(Y)==-1)bu.push(K.s[Y]);var kG=K.g[K.g.length-1]-eM.length;
bu.splice(kG+1,0,fS);for(var Y=0;Y<eM.length;Y++)bu.splice(kG+2+Y,0,K.s[eM[Y]]);bu.splice(kG+2+eM.length,0,i);
var f=new gv([6,9],this);f.data={Y:gU.LS,mS:K.s.slice(0),Un:bu,Zx:K.g.slice(0),ku:[bu.indexOf(i)]};K.bs(f);
this.eX(f.data,K);var h={ST:"make",mf:!0};h.sK={classID:"Mk",null:a5.Vs("layerSection"),From:a5.Vs("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:i.getName()}}}};
this.track(h)}}if($==gU.ah0){if(K.g.length!=1)return;var C=K.g[0],be=x;if(K.s[C].wD()==null&&!u.N(d2.vm)){$=gU.a0;
c.B5=K.u?!be?"RvlS":"HdSl":!be?"RvlA":"HdAl"}else{$=gU.bg;c.agf=!0}}if($==gU.a0){if(K.g.length!=1)return;
var C=K.g[0],i=K.s[C];if(i.add.vmsk&&i.F==null)i.Dm(K);var b1=i.wD();if(b1==null||c.a6C){var f=new gv(c.iX?c.iX:[6,21],this),i0=new gU.bQ,cA=c.B5,dt=cA=="RvlS"||cA=="HdSl";
if(cA=="RvlS"||cA=="HdAl"||cA=="Trns")i0.color=0;if(dt){i0.channel=K.u.channel.slice(0);i0.rect=K.u.rect.clone();
if(cA=="HdSl")a.fH(i0.channel)}if(cA=="Trns"){i0.rect=i.rect.clone();i0.channel=a.R(i.rect.P());a.Sw(i.buffer,i0.channel,3)}f.data={Y:gU.oK,dr:[C,b1,i0],fY:dt?[K.u,null]:null,a2G:cA=="Trns"};
K.bs(f);this.eX(f.data,K);K.s[C].Xx=1;this.track({ST:"make",sK:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:cA}}}})}}else if($==gU.aoz){var hs=K.s[c.src],cq=K.s[c.$O],f=new gv([6,21],this),cX=hs.wD(),fc=cq.wD(),gh=[c.src,cX,null,c.$O,fc,cX];
if(x||l){var aZ=cX.clone();if(x)gh=[c.$O,fc,aZ];else gh[5]=aZ;if(l){a.fH(aZ.channel);aZ.color=255-aZ.color}}f.data={Y:gU.oK,dr:gh};
K.bs(f);this.eX(f.data,K)}if($==gU.rP){if(K.g.length!=1)return;var C=O,jp=K.s[C].wD();if(jp!=null){var f=new gv([6,22],this);
f.data={Y:gU.oK,dr:[O,jp,null]};K.bs(f);this.eX(f.data,K)}}if($==gU._t){var i7=K.s.slice(0),eq=n.clone(),dy=eq.wD();
a.Vu(dy.U2(eq.rect),eq.rect,eq.buffer,eq.rect);r.Es.I8(K,eq);eq.kj();K.s[K.g[0]]=eq;var f=new gv([5,8],this);
f.data={Y:gU.LS,mS:i7,Un:K.s.slice(),Zx:K.g.slice(0),ku:K.g.slice(0)};K.bs(f);this.eX(f.data,K)}if($==gU.HB){if(K.g.length!=1)return;
var C=K.g[0];if(K.s[C].$a(K).F==null){var f=new gv([6,45],this);f.data={Y:$,l:C,F:new gU.bQ};K.bs(f);
this.eX(f.data,K)}}if($==gU.Eu){if(K.g.length!=1)return;var C=K.g[0];if(K.s[C].$a(K).F!=null){var f=new gv([6,46],this);
f.data={Y:$,l:C,F:K.s[C].$a(K).F};K.bs(f);this.eX(f.data,K)}}if($==gU.yT){if(c.src==null&&K.g.length!=1)return;
if(c.src!=null)O=c.src;if(K.s[O].Fe()){var f=new gv([6,47],this),ky=JSON.stringify(K.s[O].add.SoLd),ay=JSON.parse(ky);
delete ay.filterFX;f.data={Y:gU.qQ,nX:[{Ba:O,ls:[ky,JSON.stringify(ay)],Mj:[K.s[O].$a(K),null]}]};K.bs(f);
this.eX(f.data,K)}}if($==gU.bg){if(K.g.length!=1)return;if(n.add.vmsk==null){var f=new gv([6,23],this),gz=K.Dr(),aX=gz[1],gz=gz[0],i0,hW;
if(c.agf&&aX.length!=0){var dI=gz[aX[0]].add;i0=dI.vmsk.clone();hW=dI.vogk}else{i0=new gU.JA;hW=[];i0.$[1].all=c.LV?0:1}f.data={Y:$,l:O,sx:!0,F:i0,O9:JSON.stringify(hW),e_:null};
if(n.NL()){f.data.e_=Stroke.e_.ib(!0)}K.bs(f);this.eX(f.data,K)}}if($==gU.$g){var hs=K.s[c.src],cq=K.s[c.$O];
if(cq.add.vmsk)return;var f=new gv([6,23],this),cQ=hs.add.vmsk;f.data={l:c.$O,sx:hs.NR,F:cQ.clone(),O9:JSON.stringify(hs.add.vogk),e_:hs.add.vstk?JSON.stringify(hs.add.vstk):null};
if(x){f.data.Y=gU.bg}else{f.data.Y=$;f.data.src=c.src;f.data.$O=c.$O}K.bs(f);this.eX(f.data,K)}if($==gU.Og||$==gU.uu){if(K.g.length!=1)return;
var i=K.s[O],cQ=i.add.vmsk;if(cQ!=null){var gi=$==gU.uu,f=new gv(gi?[6,8]:[6,24],this);f.data={Y:gU.Og,l:O,sx:i.NR,F:cQ,O9:JSON.stringify(i.add.vogk),e_:i.add.vstk?JSON.stringify(i.add.vstk):null};
if(gi){f.data.o9=cQ.wD(i.add.vstk)}K.bs(f);this.eX(f.data,K)}}if($==gU.ZF){var f=new gv("Metadata",this);
f.data={Y:$,A6:JSON.stringify(K.VV),h1:JSON.stringify(c.h1)};K.bs(f);this.eX(f.data,K)}if($==gU.eY){var fT=c.$O?c.$O:K,fs=fT.name,b2=c.b+".psd";
if(fs==b2)return;var f=new gv([6,37],this);f.data={Y:$,aoT:fs,iX:b2};if(c.afS!=!0)fT.bs(f);this.eX(f.data,fT)}if($==gU.pd&&c.D$.endsWith("makeframes")){var hx=[],i6=c.D$.startsWith("make");
for(var Y=0;Y<K.g.length;Y++){var W=K.g[Y],i=K.s[W],iu=i.getName(),h4=iu.startsWith("_a_");if(i6==h4||i.add.lsct==aj.mh)continue;
var jb=i6?"_a_"+iu:iu.slice(3);hx.push([W,iu,jb,i.add.lnsr,null])}var f=new gv([6,37],this);f.data={Y:gU.c6,EU:hx};
K.bs(f);this.eX(f.data,K)}if($==gU.c6){var fs=n.getName(),b2=c.name.substring(0,255);if(fs==b2)return;
var f=new gv([6,37],this);f.data={Y:$,EU:[[O,fs,b2,n.add.lnsr,null]]};K.bs(f);this.eX(f.data,K);this.track(a5.tx("Nm",{t:"TEXT",v:b2}))}if($==gU.ka){var io=K.Dk(),fC=[],iS=[];
for(var Y=0;Y<io.length;Y++){fC.push(K.s[io[Y]].add.lclr);iS.push(c.avf)}var f=new gv([6,38],this);f.data={Y:$,s:io,azs:fC,uh:iS};
K.bs(f);this.eX(f.data,K)}if($==gU.$K){var f=K.history[K.Wi];if(f!=null&&f.f==this&&f.data.Y==$&&f.data.l==c.gb&&f.data.qU.MX==c.oh.MX)f.data.qU=c.oh;
else{f=new gv("Mask Density / Feather",this);f.data={Y:$,l:c.gb,Ak:K.s[c.gb].v4(c.oh.MX),qU:c.oh};K.bs(f)}this.eX(f.data,K)}if($==gU.Nl){var h1=JSON.stringify(c.b),bt=JSON.parse(h1),f=K.history[K.Wi];
if(f!=null&&f.f==this&&f.data.Y==$&&f.data.Y$==c.Y$&&f.data.FG.join(",")==c.FG.join(",")){for(var Y=0;
Y<c.FG.length;Y++)f.data.MW[Y]=bt;if(f.data.sK&&bt.KO!=0)r.Es.p_(bt.gq,f.data.sK.T.v,bt.KO-1)}else{f=new gv([11,6],this);
f.data={Y:$,FG:c.FG,Y$:c.Y$,aB$:[],MW:[]};var c1=!1;for(var Y=0;Y<c.FG.length;Y++){var W=c.FG[Y],i=K.s[W],iQ=c.Y$?gH.pK(i.add):JSON.parse(JSON.stringify(i.add.vstk));
f.data.aB$.push(iQ);f.data.MW.push(bt);if(JSON.stringify(iQ)!=h1)c1=!0}if(!c1)return;K.bs(f);if(c.Y$&&bt.KO>0){var jK=f.data.sK={classID:"setd",null:a5.Vs("contentLayer",!0),T:{t:"Objc",v:{}}};
r.Es.p_(bt.gq,jK.T.v,bt.KO-1);this.track({ST:"set",sK:jK})}}if(c.Y$&&bt.KO==3)K.ci(bL.rO(bt.gq.Ptrn.v,X.dx));
if(!c.Y$){var ha=bt.strokeStyleContent.v;if(ha.classID==gH.e_.jD[2])K.ci(bL.rO(ha.Ptrn.v,X.dx))}this.eX(f.data,K)}};
r.Es.XN=function(c,o,K,u,X,$){var O=c.s[K],n=[];if(X)n=c.s.slice(0);else for(var Y=0;Y<c.s.length;Y++)if(o.indexOf(Y)==-1)n.push(c.s[Y]);
var x=n.indexOf(O);if($&&O.rD()&&O.add.lsct==aj.Qw)x-=c.aF(K).length-1;var l=[];for(var Y=0;Y<o.length;
Y++){var N=x+(u?0:1)+Y,f=X?X[Y]:c.s[o[Y]];n.splice(N,0,f);l.push(N)}return[n,l,x]};r.Es.p_=function(c,o,K){var u=[gH.wV,gH.Ty,gH.ne][K];
if(o.classID==null)o.classID=["solidColorLayer","gradientLayer","patternLayer"][K];for(var Y=0;Y<u.length;
Y++)if(c[u[Y]])o[u[Y]]=JSON.parse(JSON.stringify(c[u[Y]]))};r.Es.anz=function(c){var o=new gU.bQ;if(c.u!=null){o.color=0;
o.channel=c.u.channel.slice(0);o.rect=c.u.rect.clone()}return o};r.Es.XX=function(c,o,K,u,X){var $=u.m/K.m,O=u.e/K.e,n=u.m/2,x=u.e/2,l=a.A.W6(u).j;
for(var Y=0;Y<c.s.length;Y++){var N=c.s[Y],f=N.add.SoLd;if(f==null||f.Idnt.v!=o)continue;var z=$!=1||O!=1;
if(z){var R=r.W.sS(f.nonAffineTransform),V=a.D.ly(R,u),d=new bE;d.translate(-n,-x);d.scale($,O);d.translate(n,x);
var e=a.D.Jv(V,a.D.I_(d)),p=l.slice(0);a.D.i(e,p);f.Trnf=r.W.yf(p);f.nonAffineTransform=r.W.yf(p);if(a.Pw.ex(f.quiltWarp.v)){var h=f.quiltWarp.v.bounds.v;
h.Rght.v.val=u.m;h.Btom.v.val=u.e}}N.oP(c,null,X,!z)}c.d()};r.Es.ard=function(c,o,K){o.color=255-o.color;
a.fH(o.channel);o.jt=!0;c.Dm(K);K.d()};r.Es.prototype.Bt=function(c,o){var K=c.Y,u=o.s[c.l];o.rH=!0;
if(K==gU.fy){o.add.lnk2.splice(o.add.lnk2.indexOf(c.jr),1,c.fK);r.Es.XX(o,c.id,c.jr.Za[1],c.fK.Za[1])}if(K==gU.M8){u.add.SoLd.Impr.v.classID=c.Ak;
u.oP(o)}if(K==gU.f3){var X=JSON.parse(c.FG);for(var Y=0;Y<X.length;Y++)o.s[X[Y]].Mh=c.yI[Y];o.d()}if(K==gU.qp){var X=JSON.parse(c.FG);
for(var Y=0;Y<X.length;Y++)o.s[X[Y]].opacity=c.yI[Y];o.d()}if(K==gU.Ej){var X=JSON.parse(c.FG);for(var Y=0;
Y<X.length;Y++)if(o.s[X[Y]].add.lsct!=aj.mh)o.s[X[Y]].add.lspf=c.yI[Y]}if(K==gU.nz){var $=c.oG,O=c.adU;
delete u.add[$[0]];if(O[0]!="----")u.add[O[0]]=O[1]}if(K==gU.R_){u.add.iOpa=c.yI;o.d()}if(K==gU.pO){for(var Y=0;
Y<c.FG.length;Y++){var n=o.s[c.FG[Y]];n.OG(!n.IT())}o.d()}if(K==gU.H_){var x=u.wD();x.isEnabled=!x.isEnabled;
u.Dm(o);o.d()}if(K==gU.DZ){var x=u.$a(o).F;x.isEnabled=!x.isEnabled;u.d();o.d()}if(K==gU.fX){var x=u.add.vmsk;
x.isEnabled=!x.isEnabled;if(!x.isEnabled){if(u.o9){u.F=u.o9;u.o9=null}else u.F=null}else if(u.F){u.o9=u.F;
u.F=null}u.Dm(o);o.d()}if(K==gU.Ru){u.xQ=!u.xQ;o.d()}if(K==gU.bd){u.add.lmfx.masterFXSwitch.v=!u.add.lmfx.masterFXSwitch.v;
u.J9.nK=!0;o.d()}if(K==gU.Ee){u.add.SoLd.filterFX.v.enab.v=!u.add.SoLd.filterFX.v.enab.v;u.MK(o);o.d()}if(K==gU.cs){var l=c.index,N=u.add.lmfx[gH.N4[l[0]]].v[l[1]].v;
N.enab.v=!N.enab.v;u.J9.nK=!0;o.d()}if(K==gU.dg){var f=o.s[c.TV],z=o.s[c.Fk],R=c.abx,V=c.aBA;if(R=="")delete f.add.lmfx;
else f.add.lmfx=JSON.parse(R);if(V=="")delete z.add.lmfx;else z.add.lmfx=JSON.parse(V);f.J9.nK=!0;z.J9.nK=!0;
o.d()}if(K==gU.Qm){var d=u.add.SoLd.filterFX.v.filterFXList.v[c.index].v;d.enab.v=!d.enab.v;u.MK(o);
o.d()}if(K==gU.au3){u.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(c.ax6));u.MK(o);o.d()}if(K==gU.qJ){var x=u.wD();
x.lS=!x.lS}if(K==gU.EX){var x=u.add.vmsk;x.lS=!x.lS}if(K==gU.vU){var e=JSON.parse(c.a9g);o.s3=e[0];o.Tm=e[1]}if(K==gU.gQ){var e=c.A9;
for(var Y=0;Y<e.length;Y+=2){var p=e[Y],n=p>=0?o.s[p]:o.es[-1-p];n.add.vogk=JSON.parse(e[Y+1]);a.O9.Tu(n.add.vogk,n.add.vmsk);
if(p>=0)n.Dm(o)}o.d()}if(K==gU.P2){u.add.artb=JSON.parse(c.abZ);o.d();r.zm.Fz(o,c)}if(K==gU.Xa){o.u=c.AB;
if(c.ahk)o.Q.O=c.ahk.slice(0);o.lr=c.A9.slice(0);o.LL=c.xt.slice(0);o.Jn=o.So=!0}if(K==gU.j_){u.IW=!u.IW}if(K==gU.sd){var h=c.aC0;
for(var Y=0;Y<h.length;Y++)o.s[Y].r6=h[Y]}if(K==gU.LS){if(c.Et)r.W7.uz(o,o.g,null,-c.Et.x,-c.Et.y);if(c.Zx)o.g=c.Zx;
if(c.fY)o.u=c.fY[0];o.mU=null;o.d();r.zm.Fz(o,c);o.QK(c.mS);if(c.M7)o.$w(c.M7[0])}if(K==gU.oK){for(var Y=0;
Y<c.dr.length;Y+=3)r.Es.I8(o,o.s[c.dr[Y]],c.dr[Y+1]);if(c.fY){var E=c.fY[0];if(E==null)delete o.u;else o.u=E}if(c.a2G){var n=o.s[c.dr[0]];
a.bp(c.dr[2].channel,n.buffer,3)}}if(K==gU.HB){u.$a(o).F=null;u.d();o.d()}if(K==gU.Eu){u.$a(o).F=c.F;
u.d();o.d()}if(K==gU.qQ){r.Es.a0H(o,c.nX,0)}if(K==gU.bg){r.Es.Mz(o,u,!0)}if(K==gU.$g){r.Es.Mz(o,o.s[c.$O],c.F.isEnabled);
r.Es.ua(o,o.s[c.src],c)}if(K==gU.Og){if(c.o9)r.Es.I8(o,u,null);r.Es.ua(o,u,c)}if(K==gU.ZF){o.VV=JSON.parse(c.A6)}if(K==gU.eY){o.name=c.aoT}if(K==gU.c6){for(var Y=0;
Y<c.EU.length;Y++){var q=c.EU[Y],n=o.s[q[0]];n.XK(q[1]);if(q[3])n.add.lnsr=q[3];else delete n.add.lnsr}}if(K==gU.ka){for(var Y=0;
Y<c.s.length;Y++)o.s[c.s[Y]].add.lclr=c.azs[Y]}if(K==gU.Nl){var Z=c.aB$;for(var Y=0;Y<c.FG.length;Y++){var n=o.s[c.FG[Y]],v=Z[Y];
if(!c.Y$)n.add.vstk=JSON.parse(JSON.stringify(v));else gH.mK(n.add,JSON.parse(JSON.stringify(v)));n.CC(o)}o.d()}if(K==gU.$K){u.aj2(c.Ak);
u.Dm(o);o.d()}o.So=!0};r.Es.prototype.eX=function(c,o){var K=c.Y,u=o.s[c.l];o.rH=!0;if(K==gU.fy){o.add.lnk2.splice(o.add.lnk2.indexOf(c.fK),1,c.jr);
r.Es.XX(o,c.id,c.fK.Za[1],c.jr.Za[1])}if(K==gU.M8){u.add.SoLd.Impr.v.classID=c.qU;u.oP(o)}if(K==gU.f3){var X=JSON.parse(c.FG);
for(var Y=0;Y<X.length;Y++)o.s[X[Y]].Mh=c.qU;o.d()}if(K==gU.qp){var X=JSON.parse(c.FG);for(var Y=0;Y<X.length;
Y++)o.s[X[Y]].opacity=c.qU;o.d()}if(K==gU.Ej){var X=JSON.parse(c.FG);for(var Y=0;Y<X.length;Y++)if(o.s[X[Y]].add.lsct!=aj.mh)o.s[X[Y]].add.lspf=c.qU[Y]}if(K==gU.nz){var $=c.adU,O=c.oG;
delete u.add[$[0]];if(O[0]!="----")u.add[O[0]]=O[1]}if(K==gU.R_){u.add.iOpa=c.qU;o.d()}if(K==gU.pO){for(var Y=0;
Y<c.FG.length;Y++){var n=o.s[c.FG[Y]];n.OG(!n.IT())}o.d()}if(K==gU.H_){var x=u.wD();x.isEnabled=!x.isEnabled;
u.Dm(o);o.d()}if(K==gU.DZ){var x=u.$a(o).F;x.isEnabled=!x.isEnabled;u.d();o.d()}if(K==gU.fX){var x=u.add.vmsk;
x.isEnabled=!x.isEnabled;if(!x.isEnabled){if(u.o9){u.F=u.o9;u.o9=null}else u.F=null}else if(u.F){u.o9=u.F;
u.F=null}u.Dm(o);o.d()}if(K==gU.Ru){u.xQ=!u.xQ;o.d()}if(K==gU.bd){u.add.lmfx.masterFXSwitch.v=!u.add.lmfx.masterFXSwitch.v;
u.J9.nK=!0;o.d()}if(K==gU.Ee){u.add.SoLd.filterFX.v.enab.v=!u.add.SoLd.filterFX.v.enab.v;u.MK(o);o.d()}if(K==gU.cs){var l=c.index,N=u.add.lmfx[gH.N4[l[0]]].v[l[1]].v;
N.enab.v=!N.enab.v;u.J9.nK=!0;o.d()}if(K==gU.dg){var f=o.s[c.TV],z=o.s[c.Fk],R=c.a4V,V=c.aci;if(R=="")delete f.add.lmfx;
else f.add.lmfx=JSON.parse(R);if(V=="")delete z.add.lmfx;else z.add.lmfx=JSON.parse(V);f.J9.nK=!0;z.J9.nK=!0;
o.d()}if(K==gU.Qm){var d=u.add.SoLd.filterFX.v.filterFXList.v[c.index].v;d.enab.v=!d.enab.v;u.MK(o);
o.d()}if(K==gU.au3){u.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(c.amU));u.MK(o);o.d()}if(K==gU.qJ){var x=u.wD();
x.lS=!x.lS}if(K==gU.EX){var x=u.add.vmsk;x.lS=!x.lS}if(K==gU.vU){var e=JSON.parse(c.aga);o.s3=e[0];o.Tm=e[1]}if(K==gU.gQ){var e=c.Dy;
for(var Y=0;Y<e.length;Y+=2){var p=e[Y],n=p>=0?o.s[p]:o.es[-1-p];n.add.vogk=JSON.parse(e[Y+1]);a.O9.Tu(n.add.vogk,n.add.vmsk);
if(p>=0)n.Dm(o)}o.d()}if(K==gU.P2){u.add.artb=JSON.parse(c.te);o.d();r.zm.HN(o,c)}if(K==gU.Xa){o.u=c.I1;
if(c.aj6)o.Q.O=c.aj6.slice(0);o.lr=c.Dy.slice(0);o.LL=c.cG.slice(0);o.Jn=o.So=!0}if(K==gU.j_){u.IW=!u.IW}if(K==gU.sd){var h=c.aAv;
for(var Y=0;Y<h.length;Y++)o.s[Y].r6=h[Y]}if(K==gU.LS){o.aqs();var E=c.Un,q=0,Z;for(var Y=0;Y<E.length;
Y++){var n=E[Y],v=n.add.lsct;if(v==aj.mh)q++;else if(v==aj.cD||v==aj.Qw)q--;if(n.add.artb&&q!=0)Z="Artboards can not be inside folders."}if(Z){o.history.pop();
o.Wi--;alert(Z);return}if(c.ku)o.g=c.ku;if(c.fY)o.u=c.fY[1];o.mU=null;o.d();o.QK(c.Un);r.zm.HN(o,c);
if(c.Et)r.W7.uz(o,o.g,null,c.Et.x,c.Et.y);if(c.M7)o.$w(c.M7[1])}if(K==gU.oK){for(var Y=0;Y<c.dr.length;
Y+=3)r.Es.I8(o,o.s[c.dr[Y]],c.dr[Y+2]);if(c.fY){var W=c.fY[1];if(W==null)delete o.u;else o.u=W}if(c.a2G){var n=o.s[c.dr[0]],D=n.buffer;
for(var Y=0;Y<D.length;Y+=4)D[Y+3]=255}}if(K==gU.HB){u.$a(o).F=c.F;u.Xx=0;u.d();o.d()}if(K==gU.Eu){u.$a(o).F=null;
u.Xx=0;u.d();o.d()}if(K==gU.qQ){r.Es.a0H(o,c.nX,1)}if(K==gU.bg){r.Es.ua(o,u,c)}if(K==gU.$g){r.Es.Mz(o,o.s[c.src],c.F.isEnabled);
r.Es.ua(o,o.s[c.$O],c)}if(K==gU.Og){r.Es.Mz(o,u,c.F.isEnabled);if(c.o9)r.Es.I8(o,u,c.o9)}if(K==gU.ZF){o.VV=JSON.parse(c.h1)}if(K==gU.eY){o.name=c.iX}if(K==gU.c6){for(var Y=0;
Y<c.EU.length;Y++){var I=c.EU[Y],n=o.s[I[0]];n.XK(I[2]);if(I[4])n.add.lnsr=I[4];else delete n.add.lnsr}}if(K==gU.ka){for(var Y=0;
Y<c.s.length;Y++)o.s[c.s[Y]].add.lclr=c.uh[Y]}if(K==gU.Nl){var A=c.MW;for(var Y=0;Y<c.FG.length;Y++){var n=o.s[c.FG[Y]],U=A[Y];
if(!c.Y$)n.add.vstk=JSON.parse(JSON.stringify(U));else gH.mK(n.add,JSON.parse(JSON.stringify(U)));n.CC(o)}o.d()}if(K==gU.$K){u.aj2(c.qU);
u.Dm(o);o.d()}o.So=!0};r.Es.uN=function(c,o){var K=0;for(var Y=0;Y<c.s.length;Y++){var u=c.s[Y].getName();
if(u.startsWith(o)){var X=u.slice(o.length).trim(),$=parseInt(X);if(!isNaN($)&&$+""==X&&$>K)K=$}}return K};
r.Es.a0H=function(c,o,K){for(var Y=0;Y<o.length;Y++){var u=o[Y],X=c.s[u.Ba];if(u.ls){X.add.SoLd=JSON.parse(u.ls[K])}if(u.Mj){if(u.Mj[1-K]!=null)c.Az(u.Mj[1-K]);
if(u.Mj[K]!=null)c.mj(u.Mj[K]);else X.Xx=0}X.oP(c)}};r.Es.a3B=function(c,o){var K=c.S8,u=c.rect.clone();
if(K!=null&&(K.x!=o.m||K.y!=o.e)){u.x=Math.floor((o.m-u.m)/2);u.y=Math.floor((o.e-u.e)/2)}else if(K==null){var X=new ez(0,0,o.m,o.e),$=o.bl();
if($!=-1)X=o.s[$].rA();u.x+=X.x;u.y+=X.y}return u};r.Es.aur=function(c,o){if(o.o9)o.o9=null;else o.F=null;
o.Dm(c);c.d();o.Xx=0};r.Es.I8=function(c,o,K){var u=o.wD();if(u==null&&K==null)return;if(u)r.Es.aur(c,o);
if(K==null)return;if(o.F)o.o9=K;else o.F=K;o.Dm(c);c.d()};r.Es.Mz=function(c,o,K){if(o.o9&&K){o.F=o.o9;
o.o9=null}else if(o.F&&K){o.F=null}delete o.add.vogk;delete o.add.vstk;delete o.add.vmsk;o.Dm(c);o.NR=!1;
c.mU=[];c.d()};r.Es.ua=function(c,o,K){o.add.vogk=JSON.parse(K.O9);if(K.e_)o.add.vstk=JSON.parse(K.e_);
else delete o.add.vstk;o.add.vmsk=K.F.clone();if(o.F&&o.add.vmsk.isEnabled)o.o9=o.F;o.Dm(c);o.NR=K.sx;
c.mU=[c.s.indexOf(o)];c.o3=[];c.d()};r.Lr=function(){r.vV.call(this,"Layer Styles",r.rU);this.wp=null;
this.he=null;this.IY=null;this.R$=[];this.bw=null};r.Lr.prototype=new r.vV;r.Lr.prototype.GN=function(c,o,K,u,X){var $=c.l;
if($==null)$=K.g[0];var O=K.s[$],n=c.wM;if(this.wp==null){this.IY=r.Lr.s7(K,O);this.wp=JSON.stringify(this.IY);
if(O.add.lmfx)this.he=JSON.stringify(O.add.lmfx)}if(O.add.lmfx==null){O.add.lmfx=JSON.parse(gH.default);
for(var Y=0;Y<gH.order.length;Y++)O.add.lmfx[gH.N4[Y]]={t:"VlLs",v:[]}}if(c.Y=="scaleeffects"){if(c.b=="confirm"||c.b=="cancel"){this.GN({Y:c.b},o,K,u,X);
return}O.add.lmfx=JSON.parse(this.he);bL.XE(O.add.lmfx,c.b/100)}else if(c.Y=="changeprop"){var x=null;
if(n!=0){var l=this.R$[n[0]];if(l==null)l=gH.R$[n[0]];l=JSON.parse(l);var N=O.add.lmfx[gH.N4[n[0]]].v;
if(N[n[1]]==null)N[n[1]]={t:"Objc",v:l};x=N[n[1]].v;for(var f in l)if(x[f]==null)x[f]=l[f]}if(c.Y=="changeprop"){if(n==0){this.IY[c.fv].v=c.b;
r.Lr.kl(K,O,this.IY)}else if(c.fv=="lagl"){if(x.uglg&&x.uglg.v){K.I5(c.b.val);this.IY.gagl.v.val=K.Iy()}else x[c.fv].v=c.b}else if(c.fv=="Lald"){if(x.uglg.v){K.Om(c.b.val);
this.IY.a1K=K.MS()}else x[c.fv].v=c.b}else if((n[0]==3||n[0]==8)&&(c.fv=="Clr"||c.fv=="Grad")){if(c.fv=="Clr"){x.Clr={t:"Objc",v:c.b};
delete x.Grad}if(c.fv=="Grad"){x.Grad={t:"Objc",v:c.b};delete x.Clr}}else{x[c.fv].v=c.b}if(n!=0)this.R$[n[0]]=JSON.stringify(x)}if(n!=0)if(x.Ptrn)K.ci(bL.rO(x.Ptrn.v,X.dx))}else if(c.Y=="setstl"){var z=c.b.Lefx;
if(z)bL.atM(z,K,X.dx);bL.axc(c.b,O,null,K);this.IY=r.Lr.s7(K,O)}else if(c.Y=="st_dupsingle"){var R=O.add.lmfx[gH.N4[c.vv[0]]].v;
if(R[c.vv[1]]==null)return;var V=JSON.parse(JSON.stringify(R[c.vv[1]]));R.splice(c.vv[1],0,V)}else if(c.Y=="st_movsingle"){var d=c.vv[1],R=O.add.lmfx[gH.N4[c.vv[0]]].v;
if(R[c.vv[1]]==null)return;var e=Math.max(0,Math.min(R.length-1,d+c.anM)),p=R[e];R[e]=R[d];R[d]=p}else if(c.Y=="cancel"){if(this.he==null)delete O.add.lmfx;
else O.add.lmfx=JSON.parse(this.he);r.Lr.kl(K,O,JSON.parse(this.wp));this.wp=null;this.he=null}else if(c.Y=="confirm"){var h=JSON.stringify(O.add.lmfx),E=new gv([11,6],this);
E.data={s:[$],sA:[this.he],E_:[h],lM:[this.wp],l4:[JSON.stringify(this.IY)]};K.bs(E);this.wp=null;this.he=null;
if(h!=null){var q=JSON.parse(h);eW.RO(q);q.classID="Lefx";delete q.masterFXSwitch;var Z=new ev(y.E.XV);
Z.a2=!0;Z.data={ST:"set",mf:!0};var v=a5.Vs("Lyr",!0);v.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
Z.data.sK={__name:"Set",classID:"setd",null:v,T:{t:"Objc",v:q}};o.I(Z)}}else if(c.Y=="st_copy"){this.bw=[this.wp,this.he];
this.wp=null;this.he=null}else if(c.Y=="st_paste"||c.Y=="st_clear"){if(c.Y=="st_paste"&&this.bw==null)return;
var W=c.l!=null?[c.l]:K.g.slice(0),D=[],I=[],A=[],U=[];for(var Y=0;Y<W.length;Y++){var O=K.s[W[Y]],w=r.Lr.s7(K,O);
D.push(O.add.lmfx?JSON.stringify(O.add.lmfx):null);A.push(JSON.stringify(w));if(c.Y=="st_paste"){I.push(this.bw[1]);
U.push(this.bw[0])}else{I.push(null);w.lrMd.v=0;w.Opct.v.val=100;w.iOpa.v.val=100;w.blIf={v:[]};for(var t=0;
t<10;t++)w.blIf.v.push(0,0,255,255);U.push(JSON.stringify(w))}}var E=new gv([11,6],this);E.data={s:W,sA:D,E_:I,lM:A,l4:U};
this.eX(E.data,K);K.bs(E);this.wp=null;this.he=null}else{var L=this.IY,q=null;if(c.Y=="st_delsingle"){q=JSON.parse(this.he);
q[gH.N4[c.vv[0]]].v.splice(c.vv[1],1);q=JSON.stringify(q)}if(q==null)delete O.add.lmfx;else O.add.lmfx=JSON.parse(q);
if(L!=null)r.Lr.kl(K,O,L);var E=new gv([11,6],this);E.data={s:[c.l],sA:[this.he],E_:[q],lM:[this.wp],l4:[JSON.stringify(L)]};
K.bs(E);this.wp=null;this.he=null}O.J9.nK=!0;K.rH=!0;K.d()};r.Lr.s7=function(c,o){if(o.add.iOpa==null)o.add.iOpa=255;
if(o.add.brst==null)o.add.brst=[1,1,1];var K=o.rD()?["pass"].concat(ef.oj):ef.oj;return{lrMd:{v:K.indexOf(o.Mh)},Opct:{v:{type:"#Prc",val:Math.round(o.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(o.add.iOpa*100/255)},t:"UntF"},blIf:{v:o.aY.slice(0)},brst:{v:o.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:c.Iy()}},a1K:c.MS(),rD:o.rD()}};
r.Lr.kl=function(c,o,K){var u=o.rD()?["pass"].concat(ef.oj):ef.oj;o.Mh=u[K.lrMd.v];o.opacity=Math.round(K.Opct.v.val*255/100);
o.add.iOpa=Math.round(K.iOpa.v.val*255/100);o.aY=K.blIf.v.slice(0);o.add.brst=K.brst.v.slice(0);c.I5(K.gagl.v.val);
c.Om(K.a1K)};r.Lr.prototype.Bt=function(c,o){for(var Y=0;Y<c.s.length;Y++){var K=o.s[c.s[Y]],u=c.sA[Y];
if(u==null)delete K.add.lmfx;else K.add.lmfx=JSON.parse(u);r.Lr.kl(o,K,JSON.parse(c.lM[Y]));K.J9.nK=!0}o.rH=!0;
o.d()};r.Lr.prototype.eX=function(c,o){for(var Y=0;Y<c.s.length;Y++){var K=o.s[c.s[Y]],u=c.E_[Y];if(u==null)delete K.add.lmfx;
else K.add.lmfx=JSON.parse(u);r.Lr.kl(o,K,JSON.parse(c.l4[Y]));K.J9.nK=!0}o.rH=!0;o.d()};r.J3=function(){r.vV.call(this,"Layer Comps",r.uQ)};
r.J3.prototype=new r.vV;r.J3.prototype.GN=function(c,o,K,u){var X=JSON.parse(JSON.stringify(K.Jr)),$=JSON.parse(JSON.stringify(K.Jr)),O=null,n=null,x=null,l=-1,N=!1;
if(c.Y=="delLC"){var f=r.J3.Bq(K.Jr,c.wM),z=K.Jr.lastAppliedComp?K.Jr.lastAppliedComp.v:0;$.list.v.splice(f,1);
if(z==c.wM)delete $.lastAppliedComp;O="Delete Layer Comp"}if(c.Y=="editLC"){var f=r.J3.Bq(K.Jr,c.wM),R=$.list.v[f].v;
if(c.iX!=null)R.Nm.v=c.iX;if(c.aiX!=null){var V=c.aiX,d=R.capturedInfo.v,e=d&(1<<V)-1;d=d>>V;if((d&1)==1)d--;
else d++;R.capturedInfo.v=(d<<V)+e}O="Layer Comp properties"}if(c.Y=="setLC"){r.J3.xV(K);if(c.wM==0)delete $.lastAppliedComp;
else $.lastAppliedComp={t:"long",v:c.wM};O="Switch Layer Comp";N=!0}if(c.Y=="updLC"){r.J3.xV(K);n=r.J3.a4p(K,c.wM);
x=r.J3.cZ(K,c.wM);$.lastAppliedComp={t:"long",v:c.wM};O="Update Layer Comp";l=c.wM;N=!0}if(c.Y=="addLC"){r.J3.xV(K);
var p=1;for(var Y=0;Y<$.list.v.length;Y++)p=Math.max(p,$.list.v[Y].v.compID.v)+1;p+=Math.floor(Math.random()*1e4);
var h={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+($.list.v.length+1)},compID:{t:"long",v:p},capturedInfo:{t:"long",v:7}}};
$.list.v.push(h);$.lastAppliedComp={t:"long",v:p};O="New Layer Comp";var E=r.J3.cZ(K,p);r.J3.zZ(K,E,p)}var q=new gv(O,this);
q.data={a6s:X,an9:$,a4z:n,are:x,wM:l,S0:N};this.eX(q.data,K);K.bs(q)};r.J3.prototype.eX=function(c,o){o.Jr=c.an9;
o.rH=!0;if(c.are)r.J3.zZ(o,c.are,c.wM);if(c.S0){var K=o.Jr.lastAppliedComp?o.Jr.lastAppliedComp.v:0,u=r.J3.Bq(o.Jr,K),X=u==-1?null:o.Jr.list.v[u].v,$=X?X.capturedInfo.v:7;
r.J3.Pl(o,K,$);o.d()}};r.J3.prototype.Bt=function(c,o){o.Jr=c.a6s;o.rH=!0;if(c.a4z)r.J3.zZ(o,c.a4z,c.wM);
if(c.S0){var K=o.Jr.lastAppliedComp?o.Jr.lastAppliedComp.v:0,u=r.J3.Bq(o.Jr,K),X=u==-1?null:o.Jr.list.v[u].v,$=X?X.capturedInfo.v:7;
r.J3.Pl(o,K,$);o.d()}};r.J3.xV=function(c){if(c.Jr.lastAppliedComp!=null||!c.LH)return;var o=r.J3.cZ(c,0);
r.J3.zZ(c,o,0);c.LH=!1};r.J3.ts=function(c,o,K){c.v.Hrzn.v+=o;c.v.Vrtc.v+=K};r.J3.Bq=function(c,o){var K=c.list.v;
for(var Y=0;Y<K.length;Y++)if(K[Y].v.compID.v==o)return Y;return-1};r.J3.a5O=function(c){var o=c.layerSettings.v,X=null;
if(o.length==0)return;var K="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),u=o[0].v;
if(u.enab==null)u.enab={t:"bool",v:!0};if(u.Ofst==null)u.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var Y=0;Y<o.length;Y++){var $=o[Y].v;if(X==null)X=JSON.parse(JSON.stringify($));else for(var O=0;
O<K.length;O++){var n=K[O];if($[n])X[n]=JSON.parse(JSON.stringify($[n]))}o[Y].v=JSON.parse(JSON.stringify(X))}};
r.J3.a9j=function(c,o){var K=c.add.shmd.cmls,u=K.layerSettings.v;for(var X=0;X<u.length;X++){var $=u[X].v,O=$.compList.v[0].v;
if(O==o)return X}return-1};r.J3.aqB=function(c,o){var K=r.J3.a9j(c,o);return K==-1?null:c.add.shmd.cmls.layerSettings.v[K].v};
r.J3.Pl=function(c,o,K){for(var Y=0;Y<c.s.length;Y++){var u=c.s[Y],X=u.add.shmd.cmls;if(X==null)continue;
var $=X.layerSettings.v,O=r.J3.aqB(u,o);if(O==null){u.OG(!1);continue}if((K&1)!=0){if(O.enab)u.OG(O.enab.v);
else u.OG(!0)}if((K&2)!=0){if(O.Ofst){var n=O.Ofst.v,x=u.qP(c),l=Math.round(n.Hrzn.v-x.x),N=Math.round(n.Vrtc.v-x.y);
if(l!=0||N!=0)r.W7.uz(c,[Y],null,l,N)}}if((K&4)!=0){if(O.Lefx){var f=JSON.parse(JSON.stringify(O.Lefx.v));
eW.DH(f);if(JSON.stringify(f)!=JSON.stringify(u.add.lmfx)){u.add.lmfx=f;u.J9.nK=!0}}else delete u.add.lmfx;
if(O.blendOptions){var z=O.blendOptions.v;if(z.Opct)u.opacity=Math.round(255*z.Opct.v.val/100);if(z.fillOpacity)u.add.iOpa=Math.round(255*z.fillOpacity.v.val/100);
if(z.Md)u.Mh=u.add.lsct==aj.mh?"norm":ef.rI(z.Md.v.BlnM)}else{u.opacity=255;u.Mh=u.rD()?"pass":"norm";
u.add.iOpa=255}}}};r.J3.a4p=function(c,o){var K={};for(var Y=0;Y<c.s.length;Y++){var u=c.s[Y];if(u.add.shmd==null||u.add.shmd.cmls==null)continue;
K["l"+u.add.lyid]=JSON.parse(JSON.stringify(r.J3.aqB(u,o)))}return K};r.J3.cZ=function(c,o){var K={};
for(var Y=0;Y<c.s.length;Y++){var u=c.s[Y],X=u.add.lyid;K["l"+X]=r.J3.a4J(c,u,o)}return K};r.J3.a4J=function(c,o,K){var u=o.add.shmd?o.add.shmd.cmls:null,X={classID:"null"},$=o.qP(c),O={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:$.x},Vrtc:{t:"long",v:$.y}}};
X.compList={t:"VlLs",v:[{t:"long",v:K}]};X.enab={t:"bool",v:o.IT()};X.Ofst=JSON.parse(JSON.stringify(O));
X.FXRefPoint=JSON.parse(JSON.stringify(u&&u.origFXRefPoint?u.origFXRefPoint:O));X.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ef.aj(o.Mh)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*o.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:o.add.iOpa!=null?100*o.add.iOpa/255:100}}}};
if(o.add.vmsk){X.vectorMask={t:"Objc",v:{classID:"null"}};X.vectorMask.v.Ofst=JSON.parse(JSON.stringify(O))}if(o.add.lmfx){X.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(o.add.lmfx))};
eW.RO(X.Lefx.v)}return X};r.J3.ann=function(c,o){var K=o.add.lyid;if(o.add.shmd==null)o.add.shmd={};
if(o.add.shmd.cmls==null){o.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:K},layerSettings:{t:"VlLs",v:[{t:"Objc",v:r.J3.a4J(c,o,0)}]}}}};
r.J3.zZ=function(c,o,K){for(var Y=0;Y<c.s.length;Y++){var u=c.s[Y],X=u.add.lyid;r.J3.ann(c,u);var $=u.add.shmd.cmls,O=$.layerSettings.v,n=o["l"+X];
if(n!=null)n={t:"Objc",v:JSON.parse(JSON.stringify(n))};var x=r.J3.a9j(u,K);if(x==-1){if(n==null)continue;
else O.push(n)}else{if(n==null)O.splice(x,1);else O[x]=n}}};r.J3.j9=function(c,o){for(var Y=0;Y<c.s.length;
Y++){var K=c.s[Y],u=K.add.lyid;if(K.add.shmd==null||K.add.shmd.cmls==null)continue;var X=K.qP(c),$=Math.round(X.x),O=Math.round(X.y);
if(!o){$=-$;O=-O}var n=K.add.shmd.cmls,x=n.layerSettings.v;if(n.origFXRefPoint)r.J3.ts(n.origFXRefPoint,-$,-O);
for(var l=0;l<x.length;l++){var N=x[l].v;r.J3.ts(N.Ofst,$,O);var f=N.imageMask,z=N.vectorMask;if(f&&f.v.Ofst)r.J3.ts(f.v.Ofst,$,O);
if(z&&z.v.Ofst)r.J3.ts(z.v.Ofst,$,O)}}};r.vk=function(){r.vV.call(this,"Adjust Edit",r._r);this.h1=null;
this.D0=null};r.vk.prototype=new r.vV;r.vk.cf=function(c,o,K,u){if(u)o/=4;var X=0,$=0,O=255,n=0,x=0,l=255;
while($+c[X]<o){$+=c[X];X++}while(n+c[O]<o){n+=c[O];O--}if(u){X-=Math.round(c[X]/(K/32));O+=Math.round(c[O]/(K/32));
if(X<0)x=Math.round(-X*255/(O-X));if(O>255)l=255-Math.round((O-255)*255/(O-X))}return[Math.max(X,0),Math.min(O,255),x,l,100]};
r.vk.prototype.GN=function(c,o,K,u,X){var $=c.Y;if($=="auto"){var O=c.P1,n=r.vk.getData(K);for(var Y=0;
Y<n.length;Y++){var x=n[Y],l;if(O<3){}else{var N=gZ.ib("hue2");ij.No(N,0,[0,-100,0]);l=j7.tN("hue2",N)}j7.kg(l,x.OQ,x.Q8,x.aB)}r.vk.Mx(K,n);
r.vk.X6(K,n,O<3?[4,16,O]:[19,7,0],this);K.d()}if($=="edit_layer")this.a3u(c,o,K,u);if($=="edit"||$=="confirm"||$=="cancel")this.bu(c,o,K,X,!0);
if($=="start"){if(K.g.length==0)return;var f=K.s[K.g[0]];if(f.add.SoLd&&f.Xx<=0&&K.LL.length==0){var z=new ev(y.E.v,!0);
z.f=r.qS;z.data={Y:"start",MN:c.JF,NT:c.NT};o.I(z);return}if(!K.yd(o,null,!0))return;if(kc[c.JF]&&c.NT==null){if(K.g.length!=1)alert("Will be applied to "+K.g.length+" layers.");
var z=new ev(y.E.M,!0);z.data={Y:y.H.Vl,n9:"afw_"+c.JF};o.I(z)}else{this.bu({Y:"edit",NT:c.NT,MN:c.JF},o,K,X);
this.bu({Y:"confirm",MN:c.JF},o,K,X)}}};r.vk.prototype.a3u=function(c,o,K,u){var X=c.Y,$=K.g[0],O=K.s[$],n=j7.get(O.add),z;
if(O.add[n]==null)return;var x=JSON.parse(JSON.stringify(O.add[n]));for(var l in c.b)x[l]=c.b[l];var N=JSON.parse(JSON.stringify(x));
for(var l in j7.U9)if(j7.U9[l]==n)N.classID=l;var f=K.history[K.Wi];if(f&&f.f==this&&f.data.Ak!=null&&f.data.l==$)z=f;
else{var R=new ev(y.E.XV,!0),V={classID:"setd",null:a5.Vs("AdjL",!0),T:{t:"Objc",v:N}};R.data={mf:!0,ST:"set",sK:V};
o.I(R);var z=new gv([6,39],this);z.data={l:$,Ak:O.add[n],qU:x,Fm:V};K.bs(z)}z.data.qU=x;z.data.Fm.T.v=N;
this.eX(z.data,K)};r.vk.getData=function(c,o,K){var u=[],X=new ez(0,0,c.m,c.e),$=c.LL.length!=0?[-1-c.LL[0]]:c.g;
for(var Y=0;Y<$.length;Y++){var O=$[Y],n=O<0?null:c.s[O],x={l:O,yN:O<0?1:n.Xx};u.push(x);var l=c.lr[-1-O];
if(0<=O)l=n.Xx<=0?null:n.Xx==1?n.wD():n.$a(c).F;var N=l?l.rect:n.rect;if(c.u){x.aB=c.u.rect.ar(o||l!=null?X:N)}else x.aB=o||l!=null?N.X3(X):N.clone();
if(K)x.aB=K[Y].aB.clone();var f=x.aB.P();x.OQ=a.R(f*4);if(l)r.VN.nW(l.channel,l.rect,l.color,x.OQ,x.aB);
else a.Ui(n.buffer,N,x.OQ,x.aB);x.Q8=x.OQ.slice(0);if(c.u){x.dr=a.R(f);a.qv(c.u.channel,c.u.rect,x.dr,x.aB)}}return u};
r.vk.ay6=function(c,o,K){if(o==null)return o;var u=j7.GF(c,o),$;if(u==-1)return o;var X=K.length>>>2,O=a.Fr(K),n=.001*X;
if(u==0||u==2)$=[[0,255,0,255,100],r.vk.cf(O[1],n,X,u==2),r.vk.cf(O[2],n,X,u==2),r.vk.cf(O[3],n,X,u==2)];
if(u==1)$=[r.vk.cf(O[0],n*.33,X,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var x=gZ.ib("levl");
for(var Y=0;Y<4;Y++)i3.No(x,Y,$[Y]);return x};r.vk.a4N=function(c,o,K,u){var X,$;if(K.t=="name"){var O=0;
for(var n=0;n<c.s.length;n++)if(c.s[n].getName()==K.v.val)O=n;if(c==o&&O==u.l){X=u.OQ;$=u.aB}else{var x=c.s[O];
X=x.buffer;$=x.rect}}else{$=new ez(0,0,c.m,c.e);X=c==o?u.lD:c.i9()}return[X,$]};r.vk.prototype.bu=function(c,o,K,u){if(this.h1==null){if(c.MN=="aply")K.s[K.g[0]].extend(new ez(0,0,K.m,K.e));
this.h1=r.vk.getData(K,null,c.MN=="fade"?K.qF().data:null);if(c.MN=="aply"||c.MN=="matc")this.h1[0].lD=K.i9()}if(c.Y=="edit"){this.D0=[c.MN,c.NT];
var X=this.h1[0],$=r.vk.ay6(c.MN,c.NT,X.OQ),O=j7.tN(c.MN,$);if(c.MN=="fade"||c.MN=="matc"||c.MN=="aply")O=c.NT;
if(O!=null){for(var n=0;n<this.h1.length;n++){var x=this.h1[n];if(c._V)a.lY(x.OQ,x.Q8);else if(c.MN=="fade"){var l=ef.rI(c.NT.Md.v.BlnM),N=c.NT.Opct.v.val/100,f=K.qF().data[n];
a.lY(f.OQ,x.Q8);if(l=="norm")a.a.ut(x.OQ,x.aB,x.Q8,x.aB,null,null,null,x.aB,N);else{var z=bL.Ym();z.$i=!0;
for(var Y=0;Y<f.OQ.length;Y+=4)if(f.OQ[Y+3]!=x.OQ[Y+3]){z=null;break}a.a.hA(l,x.OQ,x.aB,x.Q8,x.aB,x.aB,N,z)}}else if(c.MN=="matc"){var R;
if(O.noReference&&O.noReference.v)R=x.OQ;else{var V=O.Srce.v,d=V[1].v.val,e=o.eJ,p=K;for(var Y=0;Y<e.length;
Y++)if(e[Y].name==d)p=e[Y];var h=r.vk.a4N(p,K,V[0],x);R=h[0]}cC(x.OQ,x.aB.m,x.aB.e,R,x.Q8,[O.Lght.v,O.ClrR.v,O.Fade.v,O.neutralizeColor?O.neutralizeColor.v:!1])}else if(c.MN=="aply"){O=O.With.v;
var E=O.T.v,h=r.vk.a4N(K,K,E[1],x),R=h[0],q=h[1],Z=O.Clcl?O.Clcl.v.Clcn:null,l=Z?ef.rI(Z):"norm",N=O.Opct?O.Opct.v.val/100:1,v=["RGB","Rd","Grn","Bl","Trsp"].indexOf(E[0].v.enum),$=O.Invr&&O.Invr.v;
if($||v!=0){R=R.slice(0);if($)a.apd(R);if(v!=0){var W=a.R(q.P());a.Sw(R,W,v-1);if(v==4)a.fH(W);for(var D=0;
D<3;D++)a.bp(W,R,D)}}if(Z=="Add"||Z=="Sbtr"){var I=1/O.Scl.v,A=O.Ofst.v,U=Z=="Add"?1:-1,w=new Uint8ClampedArray(x.Q8.buffer);
for(var Y=0;Y<R.length;Y+=4){w[Y]=(x.OQ[Y]+U*R[Y])*I+A;w[Y+1]=(x.OQ[Y+1]+U*R[Y+1])*I+A;w[Y+2]=(x.OQ[Y+2]+U*R[Y+2])*I+A}}else{var z=bL.Ym();
z.$i=O.PrsT&&O.PrsT.v;x.Q8.fill(0);x.Q8.set(x.OQ);a.a.hA(l,R,q,x.Q8,x.aB,x.aB,N,z)}}else j7.kg(O,x.OQ,x.Q8,x.aB)}r.vk.Mx(K,this.h1)}}if(c.Y=="cancel"){r.vk.aBN(K,this.h1);
this.h1=null}if(c.Y=="confirm"){var t={fade:[2,11],aply:[2,12],matc:[4,18]},L=t[c.MN];if(L==null)L=j7.names[c.MN];
var J=j7.GF(c.MN,this.D0[1]);if(J!=-1)L=[4,16,J];r.vk.X6(K,this.h1,L,this);this.h1=null;if(J==-1)r.vk.Or(o,this.D0)}K.d()};
r.vk.Or=function(c,o){var K=o[0],u=o[1],X,$;if(j7.K6[K]){X=j7.K6[K];if(kc[K])$=u}if(gZ.K6[K]){X=gZ.K6[K];
if(kc[K])$=u}if(K=="fade"){X="fade";$=u}if(K=="matc"){X="matchColor";$=u}if(K=="aply"){X="applyImageEvent";
$=u}if(K=="GEfc"){if($.GEfs)$=$.GEfs.v[0].v}if(X==null)return;var O=new ev(y.E.XV,!0);O.data={mf:!0,ST:X};
if($){$=JSON.parse(JSON.stringify($));O.data.sK=$}c.I(O)};r.vk.aBN=function(c,o){r.vk.ZZ(c,o)};r.vk.X6=function(c,o,K,u){for(var Y=0;
Y<o.length;Y++){var X=o[Y],$=c.s[X.l],O=X.l<0?c.lr[-1-X.l]:X.yN<=0?null:X.yN==1?$.wD():$.$a(c).F;if(O){O.kj();
O.jt=!0;if($)$.Dm(c)}else{$.kj();$.d()}delete X.Q8;delete X.dr}var n=new gv(K,u);n.data=o;c.bs(n);c.rH=!0};
r.vk.Mx=function(c,o,K){for(var Y=0;Y<o.length;Y++){var u=o[Y],X=c.s[u.l],$=K?u.OQ:u.Q8,O=u.aB;if(u.yN==0){X.extend(O);
if(u.dr){a.Ui(u.OQ,O,X.buffer,X.rect);a.a.ut($,O,X.buffer,X.rect,u.dr,O,0,O,1)}else a.Ui($,O,X.buffer,X.rect)}else{var n=u.l<0?c.lr[-1-u.l]:u.yN==1?X.wD():X.$a(c).F;
n.extend(O);if(u.dr){var x=a.R(O.P()*4);a.lY(u.OQ,x);a.a.ut($,O,x,O,u.dr,O,0,O,1);r.VN.yy(x,O,n)}else r.VN.yy($,O,n);
n.jt=!0;if(X)X.Dm(c)}if(X)X.d()}if(!K)r.vk.azd(c,o)};r.vk.ZZ=function(c,o){for(var Y=0;Y<o.length;Y++){var K=o[Y],u=c.s[K.l],X=K.aB,$=a.R(X.P()*4);
if(K.yN==0){a.Ui(u.buffer,u.rect,$,X);u.extend(X);a.Ui(K.OQ,X,u.buffer,u.rect);u.kj()}else{var O=K.l<0?c.lr[-1-K.l]:K.yN==1?u.wD():u.$a(c).F;
r.VN.nW(O.channel,O.rect,O.color,$,X);O.extend(X);r.VN.yy(K.OQ,X,O);O.kj();O.jt=!0;if(u)u.Dm(c)}K.OQ=$;
if(u)u.d()}c.rH=!0};r.vk.qy=function(c){var o=0;for(var Y=0;Y<c.length;Y++)o+=c[Y].OQ.length;return o};
r.vk.azd=function(c,o){var K=r.vk.aj4(c),u=~K;if(K==16777215)return;for(var Y=0;Y<o.length;Y++){var X=o[Y],$=c.s[X.l],O=X.aB;
if(X.yN!=0)continue;$.extend(O);var n=O.x-$.rect.x,x=O.y-$.rect.y,l=$.rect.m,N=new Uint32Array(X.OQ.buffer),f=new Uint32Array($.buffer.buffer);
for(var z=0;z<O.e;z++)for(var R=0;R<O.m;R++){var V=z*O.m+R,d=(z+x)*l+(R+n);f[d]=f[d]&K|N[V]&u}$.kj();
$.d()}c.d()};r.vk.aj4=function(c){var o=c.Q.O;return o[2]*16711680|o[1]*65280|o[0]*255};r.vk.prototype.Bt=function(c,o){var K=o.s[c.l];
if(c.Ak!=null)K.add[j7.get(K.add)]=c.Ak;else r.vk.ZZ(o,c);o.d()};r.vk.prototype.eX=function(c,o){var K=o.s[c.l];
if(c.Ak!=null)K.add[j7.get(K.add)]=c.qU;else r.vk.ZZ(o,c);o.d()};r.vk.prototype.qy=function(c){return c.Ak==null?r.vk.qy(c):0};
r.WI=function(){r.vV.call(this,"Filter Edit",r.qS);this.h1=null;this.$F=null;this.Y=null;this.D0=null};
r.WI.prototype=new r.vV;r.WI.prototype.GN=function(c,o,K,u,X){if(c.Y=="start"){if(K.g.length==0)return;
var $=K.s[K.g[0]];if($.add.SoLd&&$.Xx<=0&&K.LL.length==0){}else if(!K.yd(o,null,!0))return;var O=c.MN;
if((kc[O]||gZ.k[O])&&c.NT==null){if(K.g.length!=1)alert("Will be applied to "+K.g.length+" layers.");
var n=new ev(y.E.M,!0);n.data=r.WI.aoF(O,this.Lf(K,O));o.I(n)}else{var x={Y:"edit",MN:O,NT:c.NT,a$:this.Lf(K)};
this.GN(x,o,K,u,X);x.Y="confirm";delete x.NT;this.GN(x,o,K,u,X)}}if(c.Y=="edit"||c.Y=="cancel"||c.Y=="confirm"){if(c.Y=="edit")this.D0=[c.MN,c.NT];
if(c.a$)this.aqK(c,o,K,X);else this.a54(c,o,K,X)}if(c.Y=="applylast"&&this.D0!=null){var x={Y:"edit",MN:this.D0[0],NT:this.D0[1],a$:this.Lf(K)};
this.GN(x,o,K,u,X);x.Y="confirm";delete x.NT;this.GN(x,o,K,u,X)}};r.WI.aoF=function(c,o){var K=gZ.k[c];
if(K)return{Y:y.H.VO,f:K,oq:{a$:o}};else return{Y:y.H.Vl,n9:"afw_"+c,a$:o}};r.WI.prototype.Lf=function(c,o){var K=c.s[c.g[0]],u;
if(K.add.SoLd&&K.Xx<=0&&c.LL.length==0){u={l:c.g[0],index:0};if(K.add.SoLd.filterFX!=null){var X=K.add.SoLd.filterFX.v.filterFXList.v;
u.index=X.length;for(var Y=0;Y<X.length;Y++)if(gZ.h4(X[Y].v)==o&&gZ.k[o])u.index=Y}}return u};r.WI.prototype.aqK=function(c,o,K,u){var X=K.s[c.a$.l],$=c.MN;
if(c.Y=="edit"){if(this.Y==null){var O=gZ.names[$];if(O==null)O=j7.names[$];if($=="blendOptions")O=[14,10];
this.Y=new gv(O,this);this.Y.data={a$:c.a$,ajO:JSON.parse(JSON.stringify(X.add.SoLd))}}if(!X.Fe()){X.add.SoLd.filterFX=gZ.pp();
var n=this.Y.data.Mj=h_.adf(X.add.SoLd.placed.v);K.mj(n);if(K.u){n.F.channel=K.u.channel.slice(0);n.F.rect=K.u.rect.clone();
n.F.color=0;this.Y.data.AB=K.u;K.u=null}X.oP(K)}var x=X.add.SoLd.filterFX.v.filterFXList.v;if(x[c.a$.index]==null){x.push(gZ.FB($,u))}if(c.NT){x[c.a$.index].v.enab.v=c._V!=!0;
if($=="blendOptions")x[c.a$.index].v.blendOptions.v=c.NT;else x[c.a$.index].v.Fltr.v=c.NT}this.Y.data.aei=JSON.parse(JSON.stringify(X.add.SoLd));
this.eX(this.Y.data,K)}if(c.Y=="cancel"){if(this.Y)this.Bt(this.Y.data,K);this.Y=null}if(c.Y=="confirm"){if(this.Y)K.bs(this.Y);
r.vk.Or(o,this.D0);this.Y=null}};r.WI.prototype.y6=function(c){return{Z:c>>>16,r:c>>>8&255,J:c&255}};
r.WI.prototype.a54=function(c,o,K,u){if(this.h1==null){var X=gZ.YH(c.MN,c.NT);this.h1=r.vk.getData(K,X.x!=0||X.y!=0,c.MN=="VaPo"?[{aB:c.lD[1]}]:null)}if(c.Y=="edit"){var $=JSON.stringify(c.NT);
if((c.NT==null||$!=this.$F)&&c._V!=!0)for(var Y=0;Y<this.h1.length;Y++){var O=this.h1[Y],n={rect:O.aB,buffer:O.OQ},x={rect:O.aB,buffer:O.Q8};
if(c.MN=="Avrg"&&O.dr){n.buffer=O.OQ.slice(0);a.L7(O.dr,n.buffer)}gZ.kg(c.MN,n,c.NT,this.y6(u.V5),this.y6(u.th),x,[K.add.lnk2?K.add.lnk2:[],K.s[K.g[0]].wD(),K.lr,K.Dr()]);
if(c.MN=="VaPo"){a.Ui(c.lD[0],c.lD[1],x.buffer,x.rect)}if(c.MN=="Avrg"&&O.dr){var l=O.OQ.length;for(var Y=0;
Y<l;Y+=4)O.Q8[Y+3]=O.OQ[Y+3]}this.$F=$}r.vk.Mx(K,this.h1,c._V)}if(c.Y=="cancel"){r.vk.aBN(K,this.h1);
this.h1=null;this.$F=null}if(c.Y=="confirm"){if(c.MN=="VaPo"){this.h1.aj1=JSON.stringify(K.wS);this.h1.IJ=JSON.stringify(c.b);
K.wS=c.b}r.vk.X6(K,this.h1,gZ.names[c.MN],this);this.h1=null;this.$F=null;r.vk.Or(o,this.D0)}K.d();K.rH=!0};
r.WI.prototype.Bt=function(c,o){if(c.IJ)o.wS=JSON.parse(c.aj1);if(c.a$){var K=o.s[c.a$.l];if(c.Mj)o.Az(c.Mj);
if(c.AB)o.u=c.AB;K.add.SoLd=JSON.parse(JSON.stringify(c.ajO));if(K.Fe())K.MK(o);else{K.oP(o);K.Xx=0}}else r.vk.ZZ(o,c);
o.d();o.rH=!0};r.WI.prototype.eX=function(c,o){if(c.IJ)o.wS=JSON.parse(c.IJ);if(c.a$){var K=o.s[c.a$.l];
if(c.Mj)o.mj(c.Mj);if(c.AB)o.u=null;K.add.SoLd=JSON.parse(JSON.stringify(c.aei));if(K.Fe())K.MK(o);else K.oP(o);
if(!K.cy())K.Ha+=32}else r.vk.ZZ(o,c);o.d();o.rH=!0};r.WI.prototype.qy=function(c){return c.a$==null?r.vk.qy(c):0};
var iD={Vk:"0",yj:"1",cE:"2",d9:"3",Lh:"3.5",Oz:"4",qR:"5",OO:"6",Op:"7",v:"8",zK:"8.5",Y_:"8.8",Vb:"9",gk:"10",al:"11",Cr:"12",JP:"13",nD:"14",N6:"15",H1:"16",IQ:"17",cv:"18",Mn:"21",Qh:"22",pn:"23",V2:"23.0",mR:"23.1",Kx:"23.2",qB:"23.3",u8:"23.4",UC:"23.5",Cp:"23.6",afE:"30",Ux:"31",NF:"40",cb:"41",xf:"42"};
iD.Mt={};iD.Mt[iD.yj]=["abr","brushes",fR,[9,3],3];iD.Mt[iD.cE]=["grd","gradients",bQ,[12,37],4];iD.Mt[iD.d9]=["shc","contours",gn,[12,21],0];
iD.Mt[iD.Lh]=["acv","curves",i8,[4,2],0];iD.Mt[iD.Oz]=["asl","styles",jN,[12,22],5];iD.Mt[iD.qR]=["pat","patterns",gu,[12,62],6];
iD.Mt[iD.OO]=["csh","shapes",d$,[12,77],7];iD.Mt[iD.Op]=["aco","swatches",g$,[9,8],0];iD.Mt[iD.v]=["atn","actions",bS,[9,9],2];
iD.Mt[iD.zK]=["tpl","tpresets",aw,[9,12],0];iD.Mt[iD.Y_]=["icc","profiles",eC,"LUTs",8];function gv(c,o,K){if(K==null)K=!1;
this.name=c;this.f=o;this.gC=K;this.data=null;this.auO=Date.now()}gv.prototype.qy=function(){return this.f?this.f.qy(this.data):0};
var a5={};a5.Vs=function(c,o){var K={t:"Clss",v:{classID:c}};if(o)K={t:"Enmr",v:{classID:c,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[K]}};a5.tx=function(c,o){var K={classID:"Lyr"};K[c]=o;return{ST:"set",sK:{classID:"null",null:a5.Vs("Lyr",!0),T:{t:"Objc",v:K}}}};
a5.ad2=function(c,o,K,u,X){var $=new ev(y.E.XV,!0),O=[],Y=0,n=a5.EK(o,K,u,O);while(O.length!=0){var x=O.pop();
Y++;if(!x.w)continue;console.log(Y-1);if(x.ST=="conditional"){var l=c.s[c.g[0]],N=x.sK.null.v.Cndt,f=!1;
if(N=="Bckg")f=!1;else if(N=="Pxel"&&c.n_(!1))f=!0;else if(N=="Adjs"&&j7.get(l.add))f=!0;else if(N=="Shp"&&l.add.vogk)f=!0;
else if(N=="Grup"&&l.rD())f=!0;else if(N=="Opn"&&c!=null)f=!0;else if(N=="32Bt")f=!1;else if(N=="RGB")f=!0;
var z=x.sK.then,R=x.sK.else;if(f&&z)a5.EK(o,z.v[0].v.val,z.v[1].v.val,O);if(!f&&R)a5.EK(o,R.v[0].v.val,R.v[1].v.val,O)}else if(x.ST=="stop"){if(x.sK.Cntn&&x.sK.Cntn.v==!0)window.confirm(x.sK.Msge.v);
else{alert(x.sK.Msge.v);break}}else if(x.ST=="play"){var V=x.sK.null.v,d=new ev(y.E.M,!0);d.data={Y:y.H.XJ,Yg:[V[0].v.val,V[1].v.val]};
X.I(d)}else{$.data={ST:x.ST,sK:x.sK};X.I($)}}};a5.V8=function(c,o,K){var u;for(var Y=0;Y<c.length;Y++){if(c[Y].u0!=K)continue;
var X=c[Y].fE;for(var $=0;$<X.length;$++){if(X[$].u0!=o)continue;u=X[$]}}return u};a5.EK=function(c,o,K,u){var X=a5.V8(c,o,K).fE,$=X.length;
for(var Y=0;Y<$;Y++)u.push(X[$-1-Y])};a5.ax9=function(c){var o=c.ST,K=c.sK,u,O,n,x,l;if(K&&K.null)u=K.null.v[0];
if(K&&u==null&&K.At)u=K.At.v[0];if(u&&u.t=="obj ")u=u.v[0];var X=u&&u.v?u.v.classID:null,$=["purge"];
if($.indexOf(o)!=-1)return o[0].toUpperCase()+o.slice(1);if(o=="GEfc"||o=="paintDaubs")return gL.names[K.GEfk.v.GEft][1];
l=j7.K6;for(O in l)if(l[O]==o)n=O;l=gZ.K6;for(O in l)if(l[O]==o)x=O;l=gZ.K6;for(O in l)if(O==o)x=O;if(n){var N=j7.GF(n,K);
if(N!=-1)return[4,16,N];return j7.names[n]}if(x)return gZ.names[x];var f=a5.a7U;if(o=="make"){if(u){if(X=="AdjL")return[6,1];
else if(X=="layerSection")return K.From?[6,9]:[6,20];else if(X=="Lyr")return[6,13];else if(X=="Chnl"&&u.v.enum=="Msk")return[6,2];
else if(X=="contentLayer")return[6,48,1];else if(X=="BckL")return"Make Background Layer";else if(X=="Path")return"Make Path";
else if(X=="TxLr")return"Make Text Layer";else if(X=="slice")return"Make Slices";else if(X=="Dcmn")return[11,7];
else if(X=="Gd")return[23,4]}if(K.Nw){X=K.Nw.v.classID;if(X=="Dcmn")return[11,7];else if(X=="Chnl"||X=="SCch")return"New Channel"}}else if(o=="deselect"){if(X=="Path")return"Deselect current path";
else throw X}else if(o=="draw"){return"Draw"}else if(o=="select"){if(X=="Chnl"){var z={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[u.v.enum];
if(z==null)z="";return"Select "+z+" Channel"}else if(X=="Mn")return"Select Panel \""+u.v.enum+"\"";else if(X=="Lyr"){if(u.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[u.v.enum]+" Layer";
return"Select Layer \""+u.v.val+"\""}else if(X=="Path")return"Select Path";else if(X=="Brsh")return"Select Brush";
else if(X=="Dcmn")return"Select Document"}else if(f[o]&&X=="Chnl"){var R=u.v.keyID=="fsel";return f[o]+" "+(R?"Selection":"Channel")}else if(o=="set"){if(X=="Lyr")return"Set Current Layer";
else if(X=="AdjL")return[6,39];else if(X=="contentLayer")return[6,48,2];else if(X=="Prpr"){var V=u.v.keyID;
if(V=="TxtS")return"Set Text Style";else if(V=="paragraphStyle")return"Set Paragraph Style";else if(V=="Lefx")return[11,6];
else console.log(V)}else if(X=="Clr")return"Set "+(u.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(X=="Brsh")return"Set Brush";else if(X=="Path")return"Set Work Path";else console.log(X)}else if(o=="move"){if(X=="Lyr")return"Move Layer";
else if(X=="Chnl"&&u.v.keyID=="fsel")return[7,7];else console.log(X)}else if(o=="show"||o=="hide"){var d="";
if(X=="Lyr")d="Layer";if(X=="Chnl")d="Channel";if(X=="filterFX")d="Filter Effect";return(o=="show"?"Show":"Hide")+" "+d}else if(o=="reset"){if(X=="Clr")return"Reset Colors"}else if(o=="exchange"){if(X=="Clr")return[22,7,0]}else if(o=="rotateEventEnum")return[2,5];
else if(o=="flip"){var e=K.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,e?2:3]]}if(o=="duplicate"&&X=="Dcmn")return"Duplicate first document";
if(X=="Chnl"){if(o=="duplicate"){if(u.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(o=="delete")return"Delete Channel"}if(o=="transform")return u&&u.v.keyID=="fsel"?[7,10]:[10,16];
var p={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:K?X=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},h=p[o];
if(h==null)h=a5.a2Q[o];if(h)return h;return o};a5.a2Q={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
a5.a7U={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
a5.aku=function(c,o,K,u){var X=c.ST,$=c.sK,O=!1,n=new ev(y.E.v,!0),z,R,V,d;n.f=r.KX;var x=new ev(y.E.M,!0),N=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(N.indexOf(X)!=-1)return;var f=X;while(f.length<4)f+=" ";d=j7.K6;for(z in d)if(d[z]==f)R=z;d=gZ.K6;
for(z in d)if(d[z]==f)V=z;d=gZ.K6;for(z in d)if(z==f)V=z;if(X=="fade")R=X;if(X=="matchColor")R="matc";
if(X=="applyImageEvent")R="aply";if(R){n.f=r._r;n.data={Y:"start",JF:R,NT:$}}else if(V){n.f=r.qS;n.data={Y:"start",MN:V,NT:$}}else if(X=="GEfc"||X=="paintDaubs"){n.f=r.qS;
n.data={Y:"start",MN:"GEfc",NT:$}}else if(X=="imageSize"||X=="canvasSize"||X=="revealAll"||X=="trim"||X=="crop"){n.f=r.JT;
n.data={Y:"fromAction",Va:c}}else if(X=="fill"||X=="stroke"||X=="delete"&&$==null){var e=null;if(u.g.length!=0)e=u.s[u.g[0]];
var p=a.rf(K.V5);if(e!=null&&X=="fill"&&e.add.TySh){var h="var c = new SolidColor();  c.rgb.red="+p.Z+";  c.rgb.green="+p.r+";  c.rgb.blue="+p.J+";  app.activeDocument.activeLayer.textItem.color = c;";
x.data={Y:y.H.Vj,bU:h}}else if(e!=null&&X=="delete"&&e.add.TySh){n.f=r.kO;n.data={Y:"insertText",b:""}}else if(e!=null&&X=="fill"&&e.NL()){var n=new ev(y.E.XV,!0),$={classID:"setd",null:a5.Vs("contentLayer",!0),T:{t:"Objc",v:{}}};
r.Es.p_({Clr:{t:"Objc",v:a.T.mv(a.rf(K.V5))}},$.T.v,0);n.data={ST:"set",sK:$};o.I(n);return}else if(X=="stroke"&&$&&$.null==null){n.f=r.dM;
n.data={Y:"stroke",adA:$}}else{if(X=="stroke"&&$&&$.Usng)n.f=r.K6[$.Usng.v.classID];else n.f=K.lm==r.yv?r.yv:r.yj;
n.data={Y:"fromAction",Va:c}}}else if(X=="colorRange"||X=="grow"||X=="similar"){n.f=r.eU;n.data={Y:"fromAction",Va:c}}else if(X=="set"&&$&&$.T&&$.T.v.Ordn=="Al"&&K.lm==r.kO&&o.BT().I2()){n.f=r.kO;
n.data={Y:"selectAll"}}else if(a5.a2Q[X]||a5.a7U[X]&&(!1||$.With&&$.With.v[0].v.keyID=="fsel"||$.From&&$.From.v[0].v.keyID=="fsel"||$.null&&$.null.v[0].v.keyID=="fsel"||$.T.v[0]&&$.T.v[0].v.keyID=="fsel")){n.f=r.TN;
n.data={Y:"fromAction",Va:c}}else if(X=="rasterizeLayer"){n.data={Y:$.What?gU.aDt:gU.xP}}var E={copyToLayer:gU.Z3,cutToLayer:gU.D_,mergeLayersNew:gU.UB,mergeVisible:gU.y5,flattenImage:gU.auk,newPlacedLayer:gU.tP};
if(E[X])n.data={Y:E[X],sK:$};if(n.data){o.I(n);return}if(X=="collapseAllGroupsEvent"){for(var Y=0;Y<u.s.length;
Y++){var e=u.s[Y];if(e.rD())e.add.lsct=aj.Qw}u.So=!0;return}if(X=="desaturate"||X=="Dstt"){n.f=r._r;
n.data={Y:"auto",P1:3};if(u&&u.s[u.g[0]].add.SoLd==null)o.I(n);return}if(X=="close"){if($&&$.Svng.v.YsN=="Ys"){x.data={Y:y.H.Ol};
o.I(x)}x.data={Y:y.H.nR,Kr:u};o.I(x);return}if(X=="save"){x.data={Y:y.H.Ol};o.I(x);return}if(X=="copyMerged"){x.data={Y:y.H.oO,Kv:!0,JL:!0};
o.I(x);return}if(X=="placedLayerReplaceContents")x.data={Y:y.H.Rk,s2:!0};var E={placedLayerEditContents:y.H.ahQ,placedLayerExportContents:y.H.a4K,copyEvent:y.H.oO,paste:y.H.Q$};
if(E[X])x.data={Y:E[X],JL:!0};if(x.data){o.I(x);return}var q=$.null?$.null.v:null,Z=q?q[0].v.classID:"";
if(X=="make"){if($.null==null&&$.Nw)Z=$.Nw.v.classID;if(Z=="AdjL"){n.data={Y:gU.w3,sK:$}}else if(Z=="layerSection"){n.data=$.From?{Y:gU.ub}:{Y:gU.w$};
if($.Usng){var v=$.Usng.v;if(v.Nm)n.data.iX=v.Nm.v;if(v.Clr)n.data.uh=a5.CY(v)}}else if(Z=="Lyr"){if($.Usng&&$.Usng.v.length==2)n.data={Y:gU.ajV};
else{n.data={Y:gU.SA};if($.Usng)n.data.iX=$.Usng.v.Nm.v;if($.below&&$.below.v)n.data.a8Z=!0}}else if(Z=="Chnl"&&$.At&&$.At.v[0].v.enum=="Msk"){n.data={Y:gU.a0,B5:$.Usng.v.UsrM}}else if(Z=="Chnl"||Z=="SCch"){n.data={Y:gU.Xa,D$:"fromAction",b:c}}else if(Z=="contentLayer"){n.data={Y:gU.Ok,sK:$}}else if(Z=="BckL"){u.s[u.g[0]].az6();
return}else if(Z=="Dcmn"){if($.Nw==null)return;var W=$.Nw.v;x.data={Y:y.H.dR,ff:h_.app(W,K)}}else if(Z=="Ptrn")x.data={Y:y.H.gp,EU:0};
else if(Z=="Path"){var D=$.At;if(D&&D.v&&D.v[0]&&D.v[0].v&&D.v[0].v.enum=="vectorMask"){n.f=r.KX;var I=$&&$.Usng&&$.Usng.v.vectorMaskEnabled=="RvlA";
n.data={Y:gU.bg,LV:!I}}else{n.f=r.iZ;n.data={Y:"pathedit",D$:"fromsel"}}}else if(Z=="TxLr"){n.f=r.kO;
n.data={Y:"fromAction",Va:c}}else if(Z=="slice"){n.f=r.t4;n.data={Y:"fromAction",Va:c}}else if(Z=="Gd"){var A=[[],[]],W=$.Nw.v;
A[W.Ornt.v.Ornt=="Vrtc"?0:1].push(W.Pstn.v.val);var U=de.nL(A);r.W7.KJ(U,u.Tf());n.f=r.DA;n.data={Y:"gids",Um:U}}else{console.log(X,Z,$);
throw"e"}}else if(X=="divide"){n.f=r.t4;n.data={Y:"fromAction",Va:c}}else if(X=="deselect"){if(Z=="Path"){u.o3=[];
u.mU=[];u.So=u.Jn=!0;return}else throw Z}else if(X=="selectNoLayers"){u.g=[];u.rH=!0}else if(X=="selectAllLayers"){u.g=[];
for(var Y=0;Y<u.s.length;Y++)u.g.push(Y);u.rH=!0;return}else if(X=="select"){var w=r.K6;if(Z=="Lyr"){var t=$.selectionModifier,L=t?t.v.selectionModifierType:null,J=a5.Bh(u,q[0]),b=0;
if(J==-1){alert("Layer "+q[0].v.val+" does not exist.");return}var e=u.s[J];if(e.rD()&&e.wD()&&t==null)b=1;
n.data={Y:gU.rg,l:J,IS:L?["addToSelection","addToSelectionContinuous"].indexOf(L):null,VZ:b}}else if(Z=="Path"){if(q[0].v.keyID=="WrPt"){u.o3=[0];
u.So=u.Jn=!0;return}else throw q[0]}else if(Z=="Chnl"){var F=q?q[0].v.enum:"",B=["Rd","Grn","Bl"].indexOf(F);
if(B!=-1){var k=$.Extd&&$.Extd.v?u.Q.O.slice(0):[0,0,0];k[B]=1;n.f=r.OC;n.data={Y:"setcls",O:k}}else n.data={Y:gU.rg,l:J,VZ:F=="RGB"?0:1}}else if(Z=="Dcmn"){if(o.eJ.length<2)return;
x.data={Y:y.H.akE,dir:$.null.v[0].v.val}}else if(Z=="Brsh"){var i=K.i_.list,H;for(var Y=0;Y<i.length;
Y++){if(i[Y].v.Nm.v.split("/").pop()==q[0].v.val)H=i[Y].v}if(K.lm==r.DA){x.data={Y:y.H.VO,f:r.yj};o.I(x)}x.data={Y:y.H.NU,EU:iD.nD,u1:H}}else if(Z=="Mn"){if(q[0].v.enum=="Scl")x.data={Y:y.H.VO,f:r.Le,oq:{B5:3}};
if(q[0].v.enum=="Plce")x.data={Y:y.H.Rk,at_:!0};if(q[0].v.enum=="ZmIn"){n.f=r.Hu;n.data={Y:"zoom",hI:!0}}if(q[0].v.enum=="ZmOt"){n.f=r.Hu;
n.data={Y:"zoom",hI:!1}}if(q[0].v.enum=="FtOn"){n.f=r.Hu;n.data={Y:"adapt",b:"fitscr"}}}else if(w[Z]){x.data={Y:y.H.VO,f:w[Z]}}else throw Z}else if(X=="draw"){n.f=r.iZ;
n.data={Y:"fromAction",Va:c}}else if(X=="gradientClassEvent"){n.f=r.pN;n.data={Y:"fromAction",Va:c}}else if((X=="set"||X=="reset"||X=="exchange")&&Z=="Clr"){x.data={Y:y.H.NU,EU:iD.Mn,D$:X=="reset"?3:2};
if(X=="set"){x.data.D$=q[0].v.keyID=="FrgC"?0:1;var m=a.T.h0($.T.v);x.data.b=m.Z<<16|m.r<<8|m.J}}else if(X=="set"){if(Z=="AdjL"){var j=$.T.v.classID;
j=j7.U9[j];n.f=r._r;if(j)n.data={Y:"edit_layer",b:$.T.v}}else if(Z=="Lyr"){var Q=$.T.v,J=a5.Bh(u,q[0]);
for(var G in Q){if(G=="classID")continue;n.f=r.KX;if(G=="Nm")n.data={Y:gU.c6,name:Q.Nm.v};else if(G=="Opct")n.data={Y:gU.qp,qU:Math.round(Q.Opct.v.val*255/100)};
else if(G=="fillOpacity")n.data={Y:gU.R_,qU:Math.round(Q.fillOpacity.v.val*255/100)};else if(G=="Md")n.data={Y:gU.f3,qU:ef.uR.indexOf(Q.Md.v.BlnM)+(u.s[J].rD()?1:0)};
else if(G=="Usrs")n.data={Y:gU.qJ,l:J};else if(G=="Blnd"){n.f=r.rU;n.data={Y:"setstl",l:J,b:{blendOptions:{t:"objc",v:Q}}};
o.I(n);n.data={Y:"confirm",l:J}}else if(G=="userMaskFeather"||G=="userMaskDensity"){var g=Q.userMaskFeather,P=Q.userMaskDensity,J=u.g[0],M=u.s[J].v4(0);
if(g)M.DV=g.v.val;if(P)M.AN=P.v.val;n.data={Y:gU.$K,gb:J,oh:M}}else if(G=="Clr"){var p=a5.CY(Q);n.data={Y:gU.ka,avf:p}}else if(G=="Lefx")a5.amy(o,J,Q.Lefx.v,K);
else{console.log($);throw G}if(n.data){o.I(n);delete n.data}}n.data={};var e=u.s[J];e.al0()}else if(Z=="Prpr"){var Q=JSON.parse(JSON.stringify($.T.v)),J=a5.Bh(u,$.null.v[1]),e=u.s[J],T=q[0].v.keyID;
if(T=="TxtS"||T=="paragraphStyle"){var C=e.add.TySh,gf=JSON.parse(JSON.stringify(C.Bz)),s=ii.lo(gf),b3=ii.Ij(gf,0,s.length-2);
if(T=="TxtS")ii.aBw(Q,b3);else ii.ayR(Q,b3);ii.r2(gf,0,s.length-1,b3);n.f=r.kO;n.data={Y:"newED",U0:J,ha:gf}}else if(T=="Lefx"){for(var d5 in Q)if(Q[d5].v){if(d5=="Scl")Q[d5].v.val=100}a5.amy(o,J,Q,K);
n.data={}}else throw T}else if(Z=="contentLayer"){var J=a5.Bh(u,q[0]),Q=$.T.v,gh=!0;if(Q.classID=="shapeStyle"){if(Q.strokeStyle){Q=Q.strokeStyle.v;
gh=!1}else Q=Q.FlCn.v}if(gh){var jt={solidColorLayer:0,gradientLayer:1,patternLayer:2}[Q.classID],fl=gH.pK(u.s[J].add),V=fl.KO==jt+1?fl.gq:gH.Kw[jt];
V=JSON.parse(JSON.stringify(V));r.Es.p_(Q,V,jt);n.data={Y:gU.Nl,FG:[J],Y$:!0,b:{KO:jt+1,gq:V}}}else{var eq=JSON.parse(JSON.stringify(u.s[J].add.vstk));
for(var d5 in Q)eq[d5]=Q[d5];n.data={Y:gU.Nl,FG:[J],Y$:!1,b:eq}}}else if(Z=="Brsh"){var H=JSON.parse(JSON.stringify(K.i_.ET)),c7=$.T.v;
if(c7.masterDiameter)H.Brsh.v.Dmtr.v.val=c7.masterDiameter.v.val;else console.log("unknown brush parameters");
x.data={Y:y.H.NU,EU:iD.nD,u1:H}}else if(Z=="Path"){n.f=r.iZ;n.data={Y:"fromAction",Va:c}}else{console.log(q[0],$);
throw Z}}else if(X=="move"){if(Z=="Lyr"){var Q=$.T.v;if(Q.classID=="Ofst"){n.data={Y:"trsl",ln:Q.Hrzn.v.val,B1:Q.Vrtc.v.val};
n.f=r.DA}else{var hs,cq;if(Q[0].t=="Enmr"){if(Q[0].v.enum=="Frnt")cq=0;else if(Q[0].v.enum=="Nxt")cq=1;
else if(Q[0].v.enum=="Prvs")cq=2;else if(Q[0].v.enum=="Back")cq=3;else throw"e"}else hs=Q[0].v.val;n.data={Y:gU.cB,target:hs,D$:cq,a0o:$.Dplc?$.Dplc.v:!1}}}else if(Z=="Chnl"&&q[0].v.keyID=="fsel"){n.f=r.TN;
n.data={Y:"fromAction",Va:c}}}else if(X=="groupEvent"||X=="ungroup")n.data={Y:gU.Ru};else if(X=="show"||X=="hide"){var jn=$.null.t;
if(jn=="obj "){if(q[0].v.val!=null)n.data={Y:gU.Qm,index:q[0].v.val-1};else n.data={Y:gU.Ee}}else if(jn=="VlLs"){var Z=q[0].v[0].v.classID;
if(Z=="Chnl")n.data={Y:gU.Xa,D$:"fromAction",b:c};else{var an=Z=="filterFX"?q:q[0].v;for(var Y=0;Y<an.length;
Y++){if(Z=="filterFX")n.data={Y:gU.Qm,index:an[Y].v[0].v.val-1};else{var J=a5.Bh(u,an[Y]),hk=u.s[J].IT();
if(X=="show"&&hk||X=="hide"&&!hk)continue;n.data={Y:gU.pO,FG:[J]}}o.I(n)}return}}else throw jn}else if(X=="rotateEventEnum"){n.f=Z=="Lyr"?r.Le:r.JT;
var ds=$.Angl.v.val;n.data={Y:"rot",u0:[2,5],b:-ds*Math.PI/180}}else if(X=="flip"){n.f=Z=="Lyr"?r.Le:r.JT;
var gT=$.Axis.v.Ornt=="Hrzn",gP=gT?new kn(-1,1):new kn(1,-1);n.data={Y:"scl",u0:[[2,6],[22,4,gT?2:3]],b:gP}}else if(X=="transform"){var ky=1,ay=1,bb=0,ap=0,cR=0,c8=0,gr=0,gG=null,jx=null;
if($.Wdth)ky=$.Wdth.v.val/100;if($.Hght)ay=$.Hght.v.val/100;if($.Skew){var fF=$.Skew.v;bb=fF.Hrzn.v.val;
ap=fF.Vrtc.v.val}if($.Ofst){var cj=$.Ofst.v;c8=cj.Hrzn.v.val;gr=cj.Vrtc.v.val}if($.Angl)cR=$.Angl.v.val;
var br=new bE;br.concat(new bE(ky,ky*Math.tan(ap*Math.PI/180),ay*Math.tan(bb*Math.PI/180),ay,0,0));br.rotate(-cR*Math.PI/180);
br.translate(c8,gr);var hX=a.D.I_(br);if($.Usng){var cj=$.Usng.v;hX[6]=cj.Hrzn.v.val/100;hX[7]=cj.Vrtc.v.val/100}var cr=$.FTcs.v.QCSt;
if(cr=="Qcsi"){var a8=$.Pstn.v;gG=new kn(a8.Hrzn.v.val,a8.Vrtc.v.val)}else jx=r.W.arf[cr];var q=$.null;
if(q&&q.v instanceof Array)q=q.v[0];var J=q?a5.Bh(u,q):null;if(J==-1)J=null;n.f=q&&q.v.keyID=="fsel"?r.qx:r.Le;
n.data={Y:"dtr",gg:jx,b:hX,eR:$.warp,aee:gG}}else if(X=="duplicate"){if(Z=="Chnl")n.data={Y:gU.Xa,D$:"fromAction",b:c};
else if(Z=="Dcmn"){var f8=c5.nq("PSD").nC(u);fn.Di({url:u.name},f8,o);return}else if(Z=="Actn"){var dW=K.U8,g7=q[1].v.val,eU=null;
for(var Y=0;Y<dW.length;Y++)if(dW[Y].u0==g7)eU=dW[Y];var f7=a5.V8(dW,q[0].v.val,g7);f7=JSON.parse(JSON.stringify(f7));
f7.u0+=" copy";eU.fE.push(f7);return}else n.data={Y:gU.vi,iX:$.Nm?$.Nm.v:null}}else if(X=="delete"){if(Z=="filterFX"){if(q[0].v.val!=null)n.data={Y:gU.Tg,uv:q[0].v.val-1};
else n.data={Y:gU.yT}}else if(Z=="Path"){n.f=r.iZ;n.data={Y:"pathedit",D$:"del"}}else if(Z=="Lyr")n.data={Y:gU.Zv};
else if(Z=="Chnl"&&q[0].v.enum=="Msk")n.data={Y:gU.rP};else if(Z=="Chnl")n.data={Y:gU.Xa,D$:"fromAction",b:c};
else if(Z=="Cmnd"){var dW=K.U8,g7=q[2].v.val,f7=a5.V8(dW,q[1].v.val,g7);f7.fE.splice(q[0].v.val-1,1);
return}else if(Z=="Actn"){var dW=K.U8,g7=q[1].v.val,eU=null;for(var Y=0;Y<dW.length;Y++)if(dW[Y].u0==g7)eU=dW[Y];
var f7=a5.V8(dW,q[0].v.val,g7);eU.fE.splice(eU.fE.indexOf(f7),1);return}else throw Z}else if(X=="align"){if($.Aply&&$.Aply.v.projection=="Auto"){n.f=r.JT;
n.data={Y:"auto-align"}}else{n.f=r.DA;var d7=$.Usng.v.ADSt,R={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[d7];
if(R==null)throw d7;n.data={Y:"algn",b:R}}}else if(X=="applyLocking"){var aW=$.layerLocking.v,cy;if(aW.protectTransparency)cy=[[aW.protectTransparency.v],[0]];
else if(aW.protectNone)cy=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(aW);throw"e"}n.data={Y:gU.Ej,qU:cy}}if(n.data)o.I(n);
else if(x.data)o.I(x);else{console.log(c);alert("Unknown action \""+X+"\"");throw"e"}};a5.amy=function(c,o,K,u){K=JSON.parse(JSON.stringify(K));
eW.DH(K);if(K.masterFXSwitch==null)K.masterFXSwitch={t:"bool",v:!0};console.log(K);var X=gH.N4;for(var $=0;
$<X.length;$++)if(K[X[$]]){for(var Y=0;Y<K[X[$]].v.length;Y++){var O=K[X[$]].v[Y].v;for(var n=0;n<2;
n++){var x=O[n==0?"TrnS":"MpgS"];if(x&&x.v.Crv==null){var l=x.v,N=l.Nm.v.split("=").pop(),f=u.YX;for(var z=0;
z<f.length;z++){var R=f[z].Nm.v.split("=").pop();if(R==N)l.Crv=JSON.parse(JSON.stringify(f[z].Crv))}if(x.v.Crv==null){console.log(x);
throw"e"}}}}}var V=new ev(y.E.v,!0);V.f=r.rU;V.data={Y:"setstl",l:o,b:{Lefx:{t:"objc",v:K}}};c.I(V);
V.data={Y:"confirm",l:o};c.I(V)};a5.CY=function(c){var o={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[c.Clr.v.Clr];
if(o==null)throw c.Clr.v.Clr;return o};a5.Bh=function(c,o){var K=1e6,u=0,X=c.s.length;for(var Y=0;Y<c.g.length;
Y++){K=Math.min(K,c.g[Y]);u=Math.max(u,c.g[Y])}var $=o.t,O=-1;if($=="name"){var n=o.v.val,O=-1;for(var Y=0;
Y<X;Y++)if(c.s[Y].getName()==n){O=Y;break}}else if($=="Enmr"){if(c.g.length!=0)O=c.g[0];if(o.v.enum=="Frwr")O=u+1;
if(o.v.enum=="Bckw")O=K-1;if(o.v.enum=="Back")O=0;if(o.v.enum=="Frnt")O=X-1;O=(O+X)%X}else if($=="prop"){if(o.v.keyID=="Bckg")O=0}else if($=="indx")O=o.v.val-1;
return O};var j7={};j7.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
j7.ars=["expA","clrL","selc"];j7.tf=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];j7.asi=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
j7.eF=[[13,1,1],[13,1,4],[13,1,5]];j7.N$={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
j7.U9=function(){var c=JSON.parse(JSON.stringify(j7.N$));delete c.GrMp;c.GdMp="grdm";return c}();j7.K6={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
j7.keys={levl:[d2.vm,d2.Eb],curv:[d2.vm,d2.ya],hue2:[d2.vm,d2.ge],nvrt:[d2.vm,d2.Bu],blnc:[d2.vm,d2.S7]};
j7.amw=function(c){var o=gZ.ib("mixr");o.Mnch={t:"bool",v:c.$S};function K(u,Y){var X={classID:"ChMx"},$={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var O in $)X[O]={t:"UntF",v:{type:"#Prc",val:u[Y+$[O]]}};return{t:"Objc",v:X}}if(c.$S)o.Gry=K(c.b,0);
else{o.Rd=K(c.b,0);o.Grn=K(c.b,5);o.Bl=K(c.b,10)}return o};j7.Xd=function(c){function o(u,X,Y){var $={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var O in $)if(u[O])X[Y+$[O]]=u[O].v.val}var K={$S:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(c.Mnch&&c.Mnch.v)K.$S=!0;if(K.$S)o(c.Gry.v,K.b,0);else{o(c.Rd.v,K.b,0);o(c.Grn.v,K.b,5);o(c.Bl.v,K.b,10)}return K};
j7.get=function(c){for(var o in j7.names)if(c[o]!=null)return o;return null};j7.tN=function(c,o){var K=j7.j2,u;
if(c=="brit"){var X=o.Brgh?o.Brgh.v:0,$=o.Cntr?o.Cntr.v:0,O=o.useLegacy?o.useLegacy.v:!1;if(O){var n=X/255,x=1+$/100;
if(x>1)x=1+Math.tan(Math.PI/2*$/101);var l=(1-x)/2,N=a.QW.Dw(n,n,n),f=[x,0,0,l,0,x,0,l,0,0,x,l,0,0,0,1],z=a.QW.multiply(f,N),R=new a.Ko(256);
for(var Y=0;Y<256;Y++)R.Z[Y]=Y;a.QW.transform(R,R,z);u={type:K.JV,nA:R.Z,UZ:R.Z,FS:R.Z,Xm:!1,eT:!1}}else{var V=1024,d=-30+60*($+100)/200,e=[];
for(var Y=0;Y<4;Y++)e.push(a.HO.ny(Y/3*255,Y/3*255,!0));e[1].v.Hrzn.v=64;e[1].v.Vrtc.v=64-d;e[2].v.Hrzn.v=128+64;
e[2].v.Vrtc.v=128+64+d;e.sort(function(e3,eT){return e3.v.Hrzn.v-eT.v.Hrzn.v});var p=a.HO.zJ(e,V);function h(e3,V){var e=[],cv=3;
for(var Y=0;Y<cv+1;Y++)e.push(a.HO.ny(Y/cv*255,Y/cv*255,!0));e[1].v.Hrzn.v=130-e3*26;e[1].v.Vrtc.v=130+e3*51;
e[2].v.Hrzn.v=233-e3*48;e[2].v.Vrtc.v=233+e3*10;return a.HO.zJ(e,V)}var E=h(Math.abs(X)/100,V);if(X<0){var q=[],Z=1/V;
for(var Y=0;Y<V;Y++){var v=Y*Z,W=Y;while(E[W]>v&&W>1)W--;q[Y]=W*Z}E=q}var D=new Uint8Array(V);for(var Y=0;
Y<V;Y++){var I=Math.round((V-1)*E[Y]);D[Y]=Math.round(255*p[I])}u={type:K.JV,nA:D,UZ:D,FS:D,Xm:!1,eT:!1}}}if(c=="levl"){var A=[],U,w,N,t,L,J;
for(var Y=0;Y<4;Y++)A.push(i3.Jz(o,Y));U=-A[0][0]/255;w=1/(A[0][1]/255-A[0][0]/255);N=a.QW.multiply(a.QW.YZ(w,w,w),a.QW.Dw(U,U,U));
t=a.QW.YZ(1/(A[1][1]/255-A[1][0]/255),1/(A[2][1]/255-A[2][0]/255),1/(A[3][1]/255-A[3][0]/255));L=a.QW.Dw(-A[1][0]/255,-A[2][0]/255,-A[3][0]/255);
J=a.QW.multiply(t,L);var D=new a.Ko(256);for(var Y=0;Y<256;Y++)D.Z[Y]=D.r[Y]=D.J[Y]=Y;var b=1/(A[0][4]/100),F=1/(A[1][4]/100),B=1/(A[2][4]/100),k=1/(A[3][4]/100);
a.QW.transform(D,D,J);for(var Y=0;Y<256;Y++){D.Z[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.Z[Y]/255,F))));
D.r[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.r[Y]/255,B))));D.J[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.J[Y]/255,k))))}a.QW.transform(D,D,N);
for(var Y=0;Y<256;Y++){D.Z[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.Z[Y]/255,b))));D.r[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.r[Y]/255,b))));
D.J[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.J[Y]/255,b))))}U=A[0][2]/255;w=A[0][3]/255-A[0][2]/255;
N=a.QW.multiply(a.QW.Dw(U,U,U),a.QW.YZ(w,w,w));t=a.QW.YZ(A[1][3]/255-A[1][2]/255,A[2][3]/255-A[2][2]/255,A[3][3]/255-A[3][2]/255);
L=a.QW.Dw(A[1][2]/255,A[2][2]/255,A[3][2]/255);J=a.QW.multiply(L,t);a.QW.transform(D,D,a.QW.multiply(N,J));
u={type:K.JV,nA:D.Z,UZ:D.r,FS:D.J,Xm:!1,eT:!1}}if(c=="curv"){var i=i8.Jz(o,0).length==256?1:0,H=[];if(i==0){var m=a.HO.c_(i8.Jz(o,0),256);
for(var Y=1;Y<4;Y++){var j=a.HO.c_(i8.Jz(o,Y),256);H.push(a.HO.au1(j,m))}}else{var Q=[];for(var Y=0;
Y<4;Y++){var G=new Uint8Array(256);Q.push(G);var g=i8.Jz(o,Y);for(var W=0;W<256;W++)G[W]=g[W]}for(var Y=1;
Y<4;Y++)H.push(a.HO.au1(Q[Y],Q[0]))}u={type:K.JV,nA:H[0],UZ:H[1],FS:H[2],Xm:!1,eT:!1}}if(c=="expA"){var P=o.Exps,M=o.Ofst,T=o.gammaCorrection,C=P?P.v:0,gf=M?M.v:0,s=T?T.v:1,D=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var o=Y/255,b3=Math.pow(Math.abs(gf),1/(Math.PI/2));if(gf>0){o=Math.max(gf/Math.E,o);
o=o*Math.exp(gf/1.75+C/Math.PI);o=(1-b3)*o+b3*1}else{o=o*Math.exp(-gf*1.75+C/Math.PI);o=o+-b3*1.14}o=Math.pow(o,1/s);
o=Math.max(0,Math.min(1,o));D[Y]=Math.round(o*255)}u={type:K.JV,nA:D,UZ:D,FS:D,Xm:!1,eT:!1}}if(c=="vibA"){var d5=(o.vibrance?o.vibrance.v:0)/100,gh=(o.Strt?o.Strt.v:0)/100,b3=1+d5*(d5>0?.25:.5),jt=.8+.2/b3;
u={type:K.jS,EU:[d5,gh,jt,b3]}}if(c=="hue2"){var fl=[],eq=[],c7=[],k8=o.Clrz?o.Clrz.v:!1;for(var Y=0;
Y<256;Y++){fl[Y]=Y/255;eq[Y]=0;c7[Y]=0}var hs=ij.Jz(o,0),cq=j7.eH(hs[1]/100);if(k8){var jn=hs[0]/360;
for(var Y=0;Y<256;Y++){fl[Y]=jn;eq[Y]=cq}}else{for(var Y=0;Y<256;Y++){var an=fl[Y],hk=eq[Y];fl[Y]+=hs[0]/360;
for(var W=0;W<6;W++){var ds=ij.Jz(o,W+1),gT=ds.eI,gP=ds.Yj,b3=0;for(var ky=1;ky<4;ky++)if(gP[ky]<gP[0])gP[ky]+=360;
var ay=gP[0],bb=gP[1],ap=gP[2],cR=gP[3],c8=an*360;if(c8<gP[0])c8+=360;var gr=(c8-ay)/(bb-ay),fF=(c8-ap)/(cR-ap);
if(gr<0)b3=0;else if(gr<1)b3=gr;else if(fF<0)b3=1;else if(fF<1)b3=1-fF;else b3=0;var x=j7.eH(gT[1]/100);
fl[Y]+=b3*gT[0]/360;eq[Y]+=b3*x;c7[Y]+=b3*gT[2]/100}}for(var Y=0;Y<256;Y++){eq[Y]=(1+eq[Y])*(1+cq)-1;
c7[Y]=Math.max(-1,Math.min(1,c7[Y]))}}var cj=new Uint8Array(256),br=new Uint8Array(256),hX=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var gG=fl[Y],gh=eq[Y],jx=c7[Y];if(gG>1)gG--;if(gG<0)gG++;gh=j7.ae2(gh);gh=(1+gh)*.5;
jx=(1+jx)*.5;cj[Y]=Math.round(255*gG);br[Y]=Math.round(255*gh);hX[Y]=Math.round(255*jx)}var cr=hs[2]/100,a8=cr<0?-cr:cr,f8=cr<0?0:1;
u={type:K.os,a9G:cj,Ms:br,aro:hX,a50:a8*f8,PM:1-a8,aaW:hs[2]/100,abn:k8?1:0}}if(c=="nvrt"){var D=new Uint8Array(256);
for(var Y=0;Y<256;Y++)D[Y]=255-Y;u={type:K.JV,nA:D,UZ:D,FS:D,Xm:!1,eT:!1}}if(c=="post"){var dW=o.Lvls.v,D=new Uint8Array(256),b3=dW/255.001,g7=255/(dW-1);
for(var Y=0;Y<256;Y++)D[Y]=Math.floor(Y*b3)*g7;u={type:K.JV,nA:D,UZ:D,FS:D,Xm:!1,eT:!1}}if(c=="grdm"){var eU=o.Grad.v,f7=o.Rvrs,V=1024,d7;
if(eU.Clrs){var aW=a.T.qW(eU,0,0);d7=a.T.atl(eU,aW,V,f7?f7.v:!1)}else{d7=a.T.ala(eU,V,f7?f7.v:!1)}var cy=a.R(V),dh=a.R(V),fh=a.R(V);
a.Sw(d7,cy,0);a.Sw(d7,dh,1);a.Sw(d7,fh,2);u={type:K.JV,nA:cy,UZ:dh,FS:fh,Xm:!0,eT:!1}}if(c=="selc"){var dP=new Float32Array(9*3*2),fg=o.ZT,bo=o.Mthd?o.Mthd.v.CrcM=="Absl":!1;
for(var W=0;W<9;W++){var jK=W*6,jQ=f4.Jz(o,W),aZ=jQ[0]/100,eo=jQ[1]/100,dC=jQ[2]/100,hG=jQ[3]/100;if(bo){dP[jK]=dP[jK+1]=dP[jK+2]=1;
dP[jK+3]=aZ*(1+hG)+hG;dP[jK+4]=eo*(1+hG)+hG;dP[jK+5]=dC*(1+hG)+hG}else{dP[jK+0]=(1+aZ)*(1+hG);dP[jK+1]=(1+eo)*(1+hG);
dP[jK+2]=(1+dC)*(1+hG)}}u={type:K.Gn,a6l:dP}}if(c=="blwh"){var dy="Rd Yllw Grn Cyn Bl Mgnt".split(" "),u=[],gp=0,aU=0;
for(var Y=0;Y<6;Y++)u.push(o[dy[Y]].v);u.push(o.useTint.v,o.tintColor.v);var fw=[];for(var Y=0;Y<6;Y++)fw.push((u[Y]-50)/50);
var dM=a.T.h0(u[7]);dM.Z/=255;dM.r/=255;dM.J/=255;var aX=a.R0(dM.Z,dM.r,dM.J),jx=a.i3(a.S_(aX.s_,1,.5)),fy=aX.Z0*aX.NT;
if(jx==.5)gp=aU=.5;else{gp=fy*(.5-jx)/(.5/jx-1);aU=1-fy*(.5-jx)-1/(2*(1-jx));aU/=1-1/(2*(1-jx))}u={type:K._5,auE:fw,k5:u[6]?1:0,aC5:aX.s_,i3:jx,ayc:fy,bc:gp,afB:aU}}if(c=="blnc"){var A=[],e7=["ShdL","MdtL","HghL"];
for(var Y=0;Y<3;Y++){if(o[e7[Y]]==null){A[Y]=[0,0,0];continue}var dW=o[e7[Y]].v,eV=dW[0].v/100,b8=dW[1].v/100,h$=dW[2].v/100,jZ=o.PrsL==null||o.PrsL.v?(Math.min(eV,b8,h$)+Math.max(eV,b8,h$))/2:0;
A[Y]=[eV-jZ,b8-jZ,h$-jZ]}var H=[a.R(256),a.R(256),a.R(256)];for(var W=0;W<3;W++)for(var Y=0;Y<256;Y++){var v=Y*(1/255),bu=0,d=0,dL=0;
d=A[2][W];dL=Math.abs(d);if(d<0)bu=Math.pow(v,Math.SQRT2);else bu=1.63*(Math.pow(v+.04,.5)-.2);v=dL*bu+(1-dL)*v;
d=A[1][W];dL=Math.abs(d);if(d<0)bu=Math.pow(v,2);else bu=Math.min(2.35*(Math.pow(v+.09,.5)-.3),Math.pow(v,1/2));
v=dL*bu+(1-dL)*v;d=A[0][W];dL=Math.abs(d);if(d<0)bu=v<.4?0:Math.pow((v-.4)/.6,Math.SQRT2);else bu=Math.pow(v,Math.SQRT2/2);
v=dL*bu+(1-dL)*v;v=Math.max(0,Math.min(1,v));H[W][Y]=Math.round(v*255)}u={type:K.JV,nA:H[0],UZ:H[1],FS:H[2],Xm:!1,eT:!1}}if(c=="phfl"){var iv=a.T.h0(o.Clr.v),k5=[iv.Z/255,iv.r/255,iv.J/255],ir=o.Dnst.v/100,H=[a.R(256),a.R(256),a.R(256)];
for(var W=0;W<3;W++)for(var Y=0;Y<256;Y++){var v=Y*(1/255),cu=v*k5[W];cu=Math.max(0,Math.min(1,cu));
v=ir*cu+(1-ir)*v;H[W][Y]=Math.round(v*255)}u={type:K.JV,nA:H[0],UZ:H[1],FS:H[2],Xm:!1,eT:o.PrsL.v}}if(c=="thrs"){var D=a.R(256);
for(var Y=o.Lvl.v;Y<256;Y++)D[Y]=255;u={type:K.JV,nA:D,UZ:D,FS:D,Xm:!0,eT:!1}}if(c=="mixr"){var az=j7.Xd(o),z=[];
for(var Y=0;Y<az.b.length;Y++)if(Y%5!=3)z.push(az.b[Y]/100);if(az.$S){for(var hM=1;hM<3;hM++)for(var v=0;
v<4;v++)z[hM*4+v]=z[v]}u={type:K.f9,kn:z}}if(c=="rplc"){var je=o.Mnm.v,bP=o.Mxm.v;u={type:K.hv,Kp:[je.Lmnc.v,je.A.v,je.B.v],L0:[bP.Lmnc.v,bP.A.v,bP.B.v],shift:[o.H.v/360,o.Strt.v/100,o.Lght.v/100],CS:o.Fzns.v/150}}if(c=="clrL"&&o.profile){var bD=new Uint8Array(o.profile.v),aC=ICC.R(bD.buffer),bV=[],cm=17,bV=ICC.U.sampleLUT(aC,cm);
u={type:K.W_,OQ:ICC.U.lutToRGBA8(bV,cm),ajD:bV,s$:cm}}return u};j7.GF=function(c,o){var K=-1;if(c!="levl"||o==null)K=-1;
else if(o.Auto)K=0;else if(o.AuCo)K=1;else if(o.autoBlackWhite)K=2;return K};j7.j2={JV:0,os:1,jS:2,Gn:3,_5:4,f9:5,hv:6,W_:7};
j7.eH=function(c){if(c<0)return c;return Math.pow(Math.tan(Math.PI/2*c),1.3)};j7.ae2=function(c){if(c<0)return c;
c=Math.pow(c,1/1.3);return Math.atan2(c,1)/(Math.PI/2)};j7.kg=function(c,o,K,u){var X=j7.j2,$=Date.now();
if(jT.lW&&u.P()>300*300&&c.type!=X.JV&&c.type!=X.W_){u=u.clone();u.x=u.y=0;var O=jT.xZ(0,u.m,u.e);O.set(o);
jT.Gf(O,u);O.wC(u);j7.YD(c,O.XW,u);O.get(K);return}if(c.type==X.W_){var n=c.ajD,x=c.s$;ICC.U.applyLUT(n,x,o,K);
var l=o.length;for(var Y=0;Y<l;Y+=4)K[Y+3]=o[Y+3]}if(c.type==X.f9)a.QW.agE(o,K,c.kn);if(c.type==X._5){var N=c.ayc,f=c.i3,z=c.bc,R=c.afB,l=o.length;
for(var Y=0;Y<l;Y+=4){var u=o[Y]*(1/255),V=o[Y+1]*(1/255),d=o[Y+2]*(1/255),e=a.CX(u,V,d),p=0;for(var h=0;
h<6;h++)p+=Math.min(1,1.7*(1-e.hY))*e.Z0*c.auE[h]*j7.amG(e.s_,h*(1/6));var E=Math.max(0,Math.min(1,e.hY*(1+p)));
if(c.k5==1){var q=0;if(E<z)q=E*(.5/f);else if(E<R)q=E+N*(.5-f);else q=1-(1-E)*.5/(1-f);e.s_=c.aC5;e.Z0=Math.min(1,N+3*N*Math.abs(E-.5*(z+R)));
e.hY=q}else{e.s_=0;e.Z0=0;e.hY=E}var Z=a.S_(e.s_,e.Z0,e.hY);K[Y]=Math.round(Z.Z*255);K[Y+1]=Math.round(Z.r*255);
K[Y+2]=Math.round(Z.J*255)}}if(c.type==X.Gn){var v=c.a6l,l=o.length,W=1/255;for(var Y=0;Y<l;Y+=4){var u=o[Y]*W,V=o[Y+1]*W,d=o[Y+2]*W,e=a.CX(u,V,d),D=Math.max(u,Math.max(V,d)),I=Math.min(u,Math.min(V,d)),A=1-u,U=1-V,w=1-d,t=0,L=0,J=0;
for(var h=0;h<9;h++){var b=h*6,i=0;if(v[b]==1&&v[b+1]==1&&v[b+2]==1&&v[b+3]==0&&v[b+4]==0&&v[b+5]==0)continue;
var F=A*v[b]+v[b+3],B=U*v[b+1]+v[b+4],k=w*v[b+2]+v[b+5];if(h<6)i=j7.amG(e.s_,h*(1/6))*e.Z0*2*Math.min(e.hY,1-e.hY);
else if(h==6)i=Math.max(0,I-.5)*2;else if(h==7)i=1-(Math.abs(D-.5)+Math.abs(I-.5));else i=Math.max(0,.5-D)*2;
t+=(Math.max(0,Math.min(1,F))-A)*i;L+=(Math.max(0,Math.min(1,B))-U)*i;J+=(Math.max(0,Math.min(1,k))-w)*i}A=Math.max(0,Math.min(1,A+t));
U=Math.max(0,Math.min(1,U+L));w=Math.max(0,Math.min(1,w+J));u=1-A;V=1-U;d=1-w;K[Y]=Math.round(u*255);
K[Y+1]=Math.round(V*255);K[Y+2]=Math.round(d*255)}}if(c.type==X.JV){a.asb(o,K,c.nA,c.UZ,c.FS,c.Xm,c.eT)}if(c.type==X.os){var H=new Uint32Array(o.buffer),m=new Uint32Array(K.buffer),l=H.length;
if(j7.lJ==null){j7.lJ=new Float64Array(256);for(var Y=0;Y<256;Y++)j7.lJ[Y]=j7.eH(-1+2*Y/255)}var j=j7.lJ;
for(var Y=0;Y<l;Y++){var Q=H[Y],u=(Q&255)*(1/255),V=(Q>>>8&255)*(1/255),d=(Q>>>16&255)*(1/255),G=Q>>>24,g=Math.min(u,V,d),P=Math.max(u,V,d),M=0,T=0,C=0;
M=a.CX(u,V,d).s_;var gf=~~(M*255+.5),s=c.a9G[gf]*(1/255),b3=c.Ms[gf]*(1/255)*2-1,d5=c.aro[gf]*(1/255)*2-1,p=-d5,gh=g;
if(0<d5){p=d5;gh=P}var jt=c.a50+c.PM*p*gh,fl=c.PM*(1-p);u=jt+fl*u;V=jt+fl*V;d=jt+fl*d;P=Math.max(u,V,d);
g=Math.min(u,V,d);C=(P+g)*.5;if(P!=g){var eq=P-g;T=C>.5?eq/(2-(P+g)):eq/(P+g)}var c7=b3;if(c.abn==0){b3=j[Math.floor((1+b3)*127.5)];
c7=Math.min(T*(1+b3),1)}var Z=a.S_(s,c7,C);u=Z.Z;V=Z.r;d=Z.J;m[Y]=G<<24|d*255<<16|V*255<<8|u*255}}if(c.type==X.hv){a.lY(o,K);
var H=new Uint32Array(o.buffer),m=new Uint32Array(K.buffer),l=H.length,k8=c.CS,hs=1/k8,cq={Eb:c.Kp[0],V:c.Kp[1],J:c.Kp[2]},jn={Eb:c.L0[0],V:c.L0[1],J:c.L0[2]};
for(var Y=0;Y<l;Y++){var Q=H[Y],an=Q&255,hk=Q>>>8&255,ds=Q>>>16&255,u=an*(1/255),V=hk*(1/255),d=ds*(1/255),G=Q>>>24,gT=a.xW(an,hk,ds),gP=a.ah6(gT,cq,jn,k8,hs);
if(gP==0)continue;var e=a.CX(u,V,d),s=2+e.s_+c.shift[0];e.s_=s-~~s;e.Z0=Math.max(0,Math.min(1,e.Z0+c.shift[1]));
e.hY=Math.max(0,Math.min(1,e.hY+c.shift[2]));var Z=a.S_(e.s_,e.Z0,e.hY);u=(1-gP)*u+gP*Z.Z;V=(1-gP)*V+gP*Z.r;
d=(1-gP)*d+gP*Z.J;m[Y]=G<<24|d*255<<16|V*255<<8|u*255}}if(c.type==X.jS){var H=new Uint32Array(o.buffer),m=new Uint32Array(K.buffer),l=H.length,ky=c.EU[0],ay=c.EU[1],bb=c.EU[2],p=c.EU[3],ap=a.QW.jj([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),cR=a.QW.fH(ap),c8=2.4;
function x(hX){return Math.max(0,Math.min(1,hX))}function gr(hX){return Math.pow(hX,c8)}function fF(hX){return Math.pow(hX,1/c8)}function cj(u,V,d,hX){u=gr(u);
V=gr(V);d=gr(d);var gG=a.QW.sb(ap,[u,V,d,1]);gG[0]*=bb;gG[1]*=p;gG[2]*=p;var Z=a.QW.sb(cR,gG);Z[0]=fF(x(Z[0]));
Z[1]=fF(x(Z[1]));Z[2]=fF(x(Z[2]));return Z}for(var Y=0;Y<l;Y++){var Q=H[Y],u=(Q&255)*(1/255),V=(Q>>>8&255)*(1/255),d=(Q>>>16&255)*(1/255),G=Q>>>24,Z=cj(u,V,d,ky);
u=Z[0];V=Z[1];d=Z[2];var br=a.CX(u,V,d);br.Z0=Math.max(0,Math.min(1,br.Z0*(1+ay)));Z=a.S_(br.s_,br.Z0,br.hY);
u=Z.Z;V=Z.r;d=Z.J;m[Y]=G<<24|d*255<<16|V*255<<8|u*255}}};j7.YD=function(c,o,K){jT.JF.YD(c,o)};j7.amG=function(c,o){var K=a.ht(o,c)*6;
return Math.max(0,Math.min(1,K<0?1+K:1-K))};var gZ={};gZ.h4=function(c){var o=c.filterID.v;return o>16777215?_.azo(o):c.Fltr.v.classID};
gZ.vO=[{gq:"GEfc"},{gq:"LnCr"},{gq:"Adobe Camera Raw Filter"},{gq:"LqFy"},{gq:"VaPo",ql:!0},{Tw:"3D",KC:["lightFilterGradient","Dila"]},{Tw:[24,2],KC:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Tw:[24,4],KC:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Tw:[24,6],KC:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Tw:[24,8],KC:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Tw:[24,10],KC:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Tw:[24,12],KC:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Tw:[24,14],KC:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Tw:[24,16],KC:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Tw:"Fourier",KC:["dDFT","iDFT"]}];
gZ.K6={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
gZ.az={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
gZ.k={rigidTransform:r.lF};gZ.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
gZ.ib=function(c){var o=null;if(c=="GEfc")o={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:gL.ib("GlwE")}]}};
if(c=="LqFy"){var K={Oc:5,s_:5,map:new Float32Array(5*5*2)},u=new Uint8Array(kd.or(K)),X=[];for(var Y=0;
Y<u.length;Y++)X.push(u[Y]);o={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:X}}}if(c=="rigidTransform"){o={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(c=="LnCr")o={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(c=="adaptCorrect")o={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(c=="Dfs ")o={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(c=="Fbrs")o={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(c=="Embs")o={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(c=="oilPaint")o={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(c=="TrcC")o={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(c=="Wnd ")o={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(c=="lightFilterGradient")o={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(c=="boxblur")o={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(c=="GsnB")o={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(c=="Bokh")o={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(c=="MtnB")o={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(c=="RdlB")o={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(c=="surfaceBlur")o={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(c=="denoise")o={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(c=="Dspl")o={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(c=="Pnch")o={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(c=="Plr ")o={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(c=="Rple")o={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(c=="Shr ")o={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(c=="Sphr")o={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(c=="Twrl")o={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(c=="Wave")o={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(c=="ZgZg")o={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(c=="AdNs")o={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(c=="DstS")o={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(c=="Mdn ")o={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(c=="ClrH")o={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(c=="Crst")o={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(c=="Mztn")o={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(c=="Msc ")o={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(c=="Pntl")o={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(c=="LnsF")o={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(c=="Dthr")o={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(c=="Part")o={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(c=="Adobe Camera Raw Filter")o={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(c=="smartSharpen")o={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(c=="UnsM")o={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(c=="HghP")o={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(c=="HsbP")o={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(c=="Mxm ")o={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(c=="Mnm ")o={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(c=="Ofst")o={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(c=="Kale")o={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(c=="Rept")o={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(c=="Flam")o={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(c=="Ctoa")o={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(c=="brit")o={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(c=="levl")o={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(c=="curv")o={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(c=="expA")o={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(c=="vibA")o={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(c=="hue2")o={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(c=="blnc")o={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(c=="blwh")o={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(c=="phfl")o={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(c=="grdm")o={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(gH.R$[6]).Grad};
if(c=="selc")o={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(c=="thrs")o={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(c=="mixr")o={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(c=="clrL")o={__name:"Color Lookup",classID:"colorLookup"};if(c=="post")o={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(c=="rplc")o={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(c=="fade")o={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(c=="aply")o={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(c=="matc"){o={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(c=="Dila")o={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(c=="blendOptions")o={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return o};gZ.Hn={sFlam:function(c,o){o[0]=c.Type.v;o[1]=c.Leng.v;o[2]=c.RndL.v;o[3]=c.Widt.v;o[4]=c.Angl.v;
o[5]=c.Intr.v;o[6]=c.Adpt.v;o[7]=c.Clr.v;o[8]=c.Qual.v;o[9]=c.Turb.v;o[10]=c.Jag.v;o[11]=c.Opct.v.val;
o[12]=c.Lins.v;o[13]=c.Botm.v;o[14]=c.Styl.v;o[15]=c.Shap.v;o[16]=c.RnSh.v;o[17]=c.Arng.v},gFlam:function(c,o){c.Type.v=o[0];
c.Leng.v=o[1];c.RndL.v=o[2];c.Widt.v=o[3];c.Angl.v=o[4];c.Intr.v=o[5];c.Adpt.v=o[6];c.Clr.v=o[7];c.Qual.v=o[8];
c.Turb.v=o[9];c.Jag.v=o[10];c.Opct.v.val=o[11];c.Lins.v=o[12];c.Botm.v=o[13];c.Styl.v=o[14];c.Shap.v=o[15];
c.RnSh.v=o[16];c.Arng.v=o[17]},sAdNs:function(c,o){o[0]=c.Nose.v.val;o[1]=["Gsn","Unfr"].indexOf(c.Dstr.v.Dstr);
o[2]=c.Mnch.v},gAdNs:function(c,o){c.Nose.v.val=o[0];c.Dstr.v.Dstr=["Gsn","Unfr"][o[1]];c.Mnch.v=o[2]},sDstS:function(c,o){o[0]=c.Rds.v;
o[1]=c.Thsh.v},gDstS:function(c,o){c.Rds.v=o[0];c.Thsh.v=o[1]},sGsnB:function(c,o){o[0]=c.Rds.v.val},gGsnB:function(c,o){c.Rds.v.val=o[0]},sDila:function(c,o){o[0]=c.Crop.v.val;
o[1]=c.Rds.v.val},gDila:function(c,o){c.Crop.v.val=o[0];c.Rds.v.val=o[1]},sHghP:function(c,o){o[0]=c.Rds.v.val},gHghP:function(c,o){c.Rds.v.val=o[0]},sHsbP:function(c,o){var K=["RGBC","HSBl","HSLC"];
o[0]=K.indexOf(c.Inpt.v.ClrS);o[1]=K.indexOf(c.Otpt.v.ClrS)},gHsbP:function(c,o){var K=["RGBC","HSBl","HSLC"];
c.Inpt.v.ClrS=K[o[0]];c.Otpt.v.ClrS=K[o[1]]},"sMxm ":function(c,o){var K="preserveShape";o[0]=c.Rds.v.val;
o[1]=c[K]?["squareness","Rndn"].indexOf(c[K].v[K]):0},"gMxm ":function(c,o){var K="preserveShape";c.Rds.v.val=o[0];
c[K]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},"sMnm ":function(c,o){var K="preserveShape";
o[0]=c.Rds.v.val;o[1]=c[K]?["squareness","Rndn"].indexOf(c[K].v[K]):0},"gMnm ":function(c,o){var K="preserveShape";
c.Rds.v.val=o[0];c[K]={t:"enum",v:{preserveShape:["squareness","Rndn"][o[1]]}}},sMtnB:function(c,o){o[0]=[c.Angl.v];
o[1]=c.Dstn.v.val;console.log(o)},gMtnB:function(c,o){c.Angl.v=typeof o[0]=="number"?o[0]:o[0][0];c.Dstn.v.val=o[1]},sOfst:function(c,o){o[0]=c.Hrzn.v;
o[1]=c.Vrtc.v;o[2]=["Rpt","Bckg","Wrp"].indexOf(c.Fl.v.FlMd)},gOfst:function(c,o){c.Hrzn.v=o[0];c.Vrtc.v=o[1];
c.Fl.v.FlMd=["Rpt","Bckg","Wrp"][o[2]]},sPnch:function(c,o){o[0]=c.Amnt.v},gPnch:function(c,o){c.Amnt.v=o[0]},"sPlr ":function(c,o){o[0]=["RctP","PlrR"].indexOf(c.Cnvr.v.Cnvr)},"gPlr ":function(c,o){c.Cnvr.v.Cnvr=["RctP","PlrR"][o[0]]},sRple:function(c,o){o[0]=c.Amnt.v;
o[1]=["Sml","Mdm","Lrg"].indexOf(c.RplS.v.RplS)},gRple:function(c,o){c.Amnt.v=o[0];c.RplS.v.RplS=["Sml","Mdm","Lrg"][o[1]]},sTwrl:function(c,o){o[0]=c.Angl.v},gTwrl:function(c,o){c.Angl.v=o[0]},sZgZg:function(c,o){o[0]=c.Amnt.v;
o[1]=c.NmbR.v;o[2]=["ArnC","OtFr","PndR"].indexOf(c.ZZTy.v.ZZTy)},gZgZg:function(c,o){c.Amnt.v=o[0];
c.NmbR.v=o[1];c.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][o[2]]},sUnsM:function(c,o){o[0]=c.Amnt.v.val;o[1]=c.Rds.v.val;
o[2]=c.Thsh.v},gUnsM:function(c,o){c.Amnt.v.val=o[0];c.Rds.v.val=o[1];c.Thsh.v=o[2]},sWave:function(c,o){o[0]=c.NmbG.v;
o[1]=c.WLMn.v;o[2]=c.WLMx.v;o[3]=c.AmMn.v;o[4]=c.AmMx.v;o[5]=c.SclH.v;o[6]=c.SclV.v;o[7]=["WvSn","WvTr","WvSq"].indexOf(c.Wvtp.v.Wvtp);
o[8]=["WrpA","RptE"].indexOf(c.UndA.v.UndA);o[9]=c.RndS.v},gWave:function(c,o){c.NmbG.v=o[0];c.WLMn.v=o[1];
c.WLMx.v=o[2];c.AmMn.v=o[3];c.AmMx.v=o[4];c.SclH.v=o[5];c.SclV.v=o[6];c.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][o[7]];
c.UndA.v.UndA=["WrpA","RptE"][o[8]];if(o[9]!=null){var K=parseInt(o[9]);if(isNaN(K))K=248325464;K=Math.max(0,Math.min(268435455,K));
c.RndS.v=K}},sDspl:function(c,o){o[0]=c.HrzS.v;o[1]=c.VrtS.v;o[2]=0;o[3]=["WrpA","RptE"].indexOf(c.UndA.v.UndA)},gDspl:function(c,o){c.HrzS.v=o[0];
c.VrtS.v=o[1];c.UndA.v.UndA=["WrpA","RptE"][o[3]];c.DspF.v.pth=o[4]},sbrit:function(c,o){o[0]=c.Brgh?c.Brgh.v:0;
o[1]=c.Cntr?c.Cntr.v:0;o[2]=c.useLegacy?c.useLegacy.v:!1},gbrit:function(c,o){c.Brgh.v=o[0];c.Cntr.v=o[1];
if(o[2]!=null)c.useLegacy.v=o[2]}};gZ.aE3=function(c){var o=new kn(0,0);if(c.enab.v==!1)return o;var K=c.filterFXList.v;
for(var Y=0;Y<K.length;Y++){var u=K[Y].v;if(u.enab.v==!1)continue;var X=gZ.h4(u),$=gZ.YH(X,u.Fltr?u.Fltr.v:null);
if($.x>o.x)o.x=$.x;if($.y>o.y)o.y=$.y}return o};gZ.YH=function(c,o){var K=0,u=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(c)!=-1){var X=o.Rds?o.Rds.v.val:1;
K=u=X*2.57}if(c=="MtnB")K=u=o.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(c)!=-1){K=u=1e4}if(c=="GEfc")return gL.YH(o);
return new kn(Math.ceil(K),Math.ceil(u))};gZ.pp=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
gZ.FB=function(c,o){var K={Z:o.V5>>16,r:o.V5>>8&255,J:o.V5&255},u={Z:o.th>>16,r:o.th>>8&255,J:o.th&255},X=gZ.names[c];
if(X==null)X=j7.names[c];var $=c;for(var O in j7.N$)if(j7.N$[O]==c)$=O;var n={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:iV.get(X)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:a.T.mv(K)},BckC:{t:"Objc",v:a.T.mv(u)},filterID:{t:"long",v:$.length==4?_.afT($):777}}},x=gZ.ib(c);
if(x)n.v.Fltr={t:"Objc",v:x};return n};gZ.JI=function(c,o,K,u){var X=Date.now(),$=jT.lW&&Math.max(u.m,u.e)<=jT.i0.getParameter(jT.i0.MAX_TEXTURE_SIZE);
if(c<1){var O=Math.round(c*5),n=[1,2,1,2,[40,26,13,6,4,2][O],2,1,2,1];n=a.wq.Lg(n);if(!$){a.Ov(K);var x=K.slice(0);
a.wq.Wb(x,K,u.m,u.e,n,255);a.Dt(K)}else{var l=u.m,N=u.e,f=jT.xZ(0,l,N);f.set(K);var z=jT.xZ(1,l,N),R=new Float32Array([1/l,1/N]);
jT.Gf(z);jT.filter.YD({type:jT.filter.a5T,y_:R,a7J:new Float32Array(n)},f.hO);z.get(K)}}else{var V=o==a.kZ.EW?0:o==a.kZ.akn?1:2,d=[];
while(V!=2&&c*[1,2.4][V]>20&&d.length<4){var e=a.KP(K,u);d.push(K,u);K=e.PX;u=e.rect;c/=2}var l=u.m,N=u.e;
if(!$||V==2&&c>15){a.Ov(K);o(K,u,c);a.Dt(K)}else{var f=jT.xZ(0,l,N);f.set(K);var z=jT.xZ(1,l,N),R=new Float32Array([1/l,1/N]);
if(V==0){var p=1;while(p<c)p<<=1;jT.Gf(z);jT.filter.YD({type:jT.filter.XL,y_:R,JB:c,oq:[0,0,p]},f.hO);
jT.Gf(f);jT.filter.YD({type:jT.filter.XL,y_:R,JB:c,oq:[0,1,p]},z.hO);f.get(K)}else if(V==1){var h=3,E=a.kZ.Rx(c,h);
for(var Y=0;Y<h;Y++){var q=E[Y]>>>1,Z=1;while(Z<q)Z<<=1;if(q==0)continue;jT.Gf(z);jT.filter.YD({type:jT.filter.XL,y_:R,JB:q,oq:[0,0,Z]},f.hO);
jT.Gf(f);jT.filter.YD({type:jT.filter.XL,y_:R,JB:q,oq:[0,1,Z]},z.hO)}f.get(K)}else{var p=1;while(p<c)p<<=1;
jT.Gf(z);jT.filter.YD({type:jT.filter.XL,y_:R,JB:c,oq:[0,0,p]},f.hO);z.get(K)}}var v=Date.now();while(d.length!=0){var W=d.pop(),D=d.pop();
a.scale.arg(K,u.m,u.e,D,W.m,W.e);K=D;u=W}}};gZ.ab6=function(c,o,K,u){for(var Y=0;Y<c.length;Y++){K[Y]=c[Y]*(1/255);
u[Y]=0}FFT.fft2d(K,u);var X=o>>>1,$=16384,O=128,x=100;while(O<o){O<<=1;$<<=2}var n=255/Math.log($),l=-100;
for(var N=0;N<o;N++)for(var f=0;f<X;f++){var z=o+X+N&o-1,R=K[z*o+f],V=u[z*o+f],d=Math.sqrt(R*R+V*V),e=Math.atan2(V,R);
c[N*o+f]=Math.round(n*Math.log(d+1));c[N*o+X+f]=Math.round((Math.PI+e)*(255*.5/Math.PI))}};gZ.aAX=function(c,o,K,u){K.fill(0);
u.fill(0);var X=o>>>1,$=16384,O=128;while(O<o){O<<=1;$<<=2}var n=255/Math.log($),x=[],l=[],N=[];for(var Y=0;
Y<256;Y++){x[Y]=Math.exp(Y/n)-1;var f=Y*(2*Math.PI/255)-Math.PI;l[Y]=Math.sin(f);N[Y]=Math.cos(f)}for(var z=0;
z<o;z++)for(var R=0;R<X;R++){var V=o+X+z&o-1,d=x[c[z*o+R]],f=c[z*o+X+R],e=d*N[f],p=d*l[f];K[V*o+R]=e;
u[V*o+R]=p;if(R!=0){var h=V==0?V*o+o-R:(o-V)*o+(o-R);K[h]=e;u[h]=-p}}FFT.ifft2d(K,u);for(var Y=0;Y<c.length;
Y++){c[Y]=Math.max(0,Math.min(255,~~(.5+255*K[Y])))}};gZ.afw=new ArrayBuffer(512);gZ.aup=function(c){var o=gZ.afw,K=c.length;
if(o.byteLength<K)gZ.afw=o=new ArrayBuffer(K);var u=new Uint8Array(o);for(var Y=0;Y<K;Y+=4){u[Y]=c[Y];
u[Y+1]=c[Y+1];u[Y+2]=c[Y+2];u[Y+3]=c[Y+3]}return o};gZ.kg=function(c,o,K,u,X,$,O){if($==null)$={buffer:a.R(o.buffer.length),rect:o.rect.clone()};
$.buffer.set(o.buffer);var n=K&&K.RndS?K.RndS.v>>>1:0;if(c=="GEfc"){var x=[];if(K.GEfs){var l=K.GEfs.v;
for(var Y=0;Y<l.length;Y++){var N=l[Y].v;if(N.GELv&&N.GELv.v==!1)continue;x.push(N)}}else x=[K];for(var Y=0;
Y<x.length;Y++){var f;if(Y==0)gL.kg(c,o,x[Y],u,X,$,O);else{if(f==null)f={buffer:a.R(o.buffer.length),rect:o.rect.clone()};
a.lY($.buffer,f.buffer);gL.kg(c,f,x[Y],u,X,$,O)}}}if(c=="Dila"){var z=K.Crop.v.val,R=K.Rds.v.val+z;R=R*R;
if(R==0)return;var V=o.rect,d=V.m,e=V.e,p=d*e,h=o.buffer,f=$.buffer,E=a.R(p);a.Sw(h,E,3);if(z!=0){var q=V.clone();
q.JG(1,1);var Z=a.R(q.P());a.qv(E,V,Z,q);a.fH(Z);a.style.stroke(Z,Z,q,z);a.fH(Z);a.qv(Z,q,E,V)}var v=a.style.NZ(E,d,e);
f.fill(0);for(var W=0;W<e;W++)for(var D=0;D<d;D++){var Y=W*d+D,I=Y<<1,A=Y<<2,U=v[I],w=v[I+1];if(U*U+w*w<R){var t=(W+w)*d+(D+U)<<2;
f[A]=h[t];f[A+1]=h[t+1];f[A+2]=h[t+2];f[A+3]=255}}}if(c=="Adobe Camera Raw Filter"){var V=o.rect,d=V.m,e=V.e,p=d*e,L=p*4,J=p*3,b=new Float32Array(d*e*3),F=o.buffer;
for(var Y=0;Y<p;Y++){var B=Y*3,A=Y*4;b[B]=F[A]*(1/255);b[B+1]=F[A+1]*(1/255);b[B+2]=F[A+2]*(1/255)}var k=JSON.parse(JSON.stringify(K));
delete k.Upri;delete k.GuUr;var i=b.slice(0);gX(b,d,e,i,k);b=i;F=$.buffer;for(var Y=0;Y<p;Y++){var B=Y*3,A=Y*4;
F[A]=255*Math.max(0,Math.min(1,b[B]));F[A+1]=255*Math.max(0,Math.min(1,b[B+1]));F[A+2]=255*Math.max(0,Math.min(1,b[B+2]))}}if(c=="Fct "){var V=o.rect,d=V.m,e=V.e,p=d*e,L=p*4;
function H(iN){var cR=iN.slice(0);for(var W=0;W<3;W++)for(var D=0;D<3;D++)cR[W*3+D]=iN[(2-D)*3+W];return cR}function m(cp,eP,jv,bx){var cz=0;
for(var W=0;W<3;W++)for(var D=0;D<3;D++)cz+=eP[W*3+D]*cp[(bx-1+W)*d+jv-1+D];return cz}var j=[8,5,2,5,2,-1,2,-1,-4],Q=[5,5,5,2,2,2,-1,-1,-1],G=[2,2,2,2,2,2,2,2,2],g=[];
g.push(j);for(var Y=0;Y<3;Y++)g.push(H(g[g.length-1]));g.push(Q);for(var Y=0;Y<3;Y++)g.push(H(g[g.length-1]));
g.push(G);for(var Y=0;Y<9;Y++)g[Y]=a.wq.Lg(g[Y]);var P=[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1],M=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],T=a.R(p),C=new Float32Array(p),i=a.R(p);
for(var gf=0;gf<3;gf++){a.Sw(o.buffer,T,gf);for(var s=0;s<1;s++){for(var W=1;W<e-1;W++)for(var D=1;D<d-1;
D++){var b3=W*d+D,d5=T[b3];C[b3]=1e9;for(var Y=0;Y<9;Y++){var gh=m(T,g[Y],D,W),jt=(gh-d5)*(gh-d5);if(jt<C[b3])C[b3]=jt}}for(var W=1;
W<e-1;W++)for(var D=1;D<d-1;D++){var fl=0,c7=1e9;for(var Y=0;Y<9;Y++){var k8=W*d+D+P[Y],jt=C[k8];if(jt<c7){c7=jt;
fl=T[k8]}}i[W*d+D]=fl}T.set(i)}a.bp(i,$.buffer,gf)}}if(c=="adaptCorrect"){var V=o.rect,d=V.m,e=V.e,p=d*e,L=p*4,hs=K.sdwM.v,cq=hs.Amnt.v.val/100,jn=hs.Wdth.v.val/100,an=hs.Rds.v,hk=K.hglM.v,ds=hk.Amnt.v.val/100,gT=hk.Wdth.v.val/100,gP=hk.Rds.v;
a.a9y.Wc(o.buffer,$.buffer,d,e,cq,jn,an,ds,gT,gP,K.ClrC.v/100,K.Cntr.v/100)}if(c=="denoise"){var V=o.rect,d=V.m,e=V.e,ky=K.channelDenoise.v[0].v;
a.a2n.a4c(o.buffer,d,e,$.buffer,ky.Amnt.v/10,ky.EdgF.v/100)}if(c=="HsbP"){var ay=K.Inpt.v.ClrS,bb=K.Otpt.v.ClrS,V=o.rect,d=V.m,e=V.e,p=d*e;
for(var Y=0;Y<p;Y++){var A=Y*4,s=o.buffer[A]*(1/255),ap=o.buffer[A+1]*(1/255),cR=o.buffer[A+2]*(1/255);
if(ay=="RGBC"){}else if(ay=="HSLC"){var i=a.S_(s,ap,cR);s=i.Z;ap=i.r;cR=i.J}else if(ay=="HSBl"){var i=a.apr(s,ap,cR);
s=i.Z;ap=i.r;cR=i.J}var c8=s,gr=ap,fF=cR;if(bb=="RGBC"){}else if(bb=="HSLC"){var i=a.CX(s,ap,cR);c8=i.s_;
gr=i.Z0;fF=i.hY}else if(bb=="HSBl"){var i=a.a3K(s,ap,cR);c8=i.s_;gr=i.Z0;fF=i.J}$.buffer[A]=~~(255*c8);
$.buffer[A+1]=~~(255*gr);$.buffer[A+2]=~~(255*fF)}}if(c=="Fbrs"){var V=o.rect,d=V.m,e=V.e;a.X.am2(o.buffer,d,e,$.buffer,[K.Vrnc.v,K.Strg.v,n]);
var cj=a.R(d*e);a.Sw($.buffer,cj,0);a.fH(cj);gL.OX(cj,$.buffer,u,X)}if(c=="Frgm"){var V=o.rect,d=V.m,e=V.e,br=o.buffer.slice(0);
a.Ov(br);a.X.ab4(br,d,e,$.buffer);a.Dt($.buffer)}if(c=="Flam"){var V=o.rect,d=V.m,e=V.e,hX=K.Clr.v,gG={type:K.Type.v+1,length:K.Leng.v,asj:K.RndL.v,Eh:K.Widt.v,a9L:K.Angl.v,a2b:K.Intr.v,a35:K.Adpt.v,color:{Z:hX.Rd.v,r:hX.Grn.v,J:hX.Bl.v},ma:K.Qual.v+1,fB:K.Turb.v,BM:K.Jag.v,opacity:K.Opct.v.val,OZ:K.Lins.v,auB:K.Botm.v,style:K.Styl.v+1,shape:K.Shap.v+1,apV:K.RnSh.v,af7:K.Arng.v,ab3:!1},jx=O[3],cr=jx[0],a8=jx[1],f8=cr[a8.length!=0?a8[0]:0];
if(f8==null){alert("Make a path first");return}var dW=f8.add.vmsk.$,g7=a.o.mn(dW),eU=[];for(var t=0;
t<g7;t++){var f7=a.o.uM(dW,t),d7=dW[f7];if(d7.length<2)continue;var aW=[];eU.push(aW);var cy=d7.length-(d7.type==3?1:0);
for(var b3=0;b3<cy;b3++){var dh=dW[f7+1+b3],fh=b3==d7.length-1?dW[f7+1]:dW[f7+1+b3+1],dP=dh.L,fg=dh.oC,j=fh.mL,bo=fh.L,jK=Math.round(kn.je(dP,bo)/5);
for(var jQ=0;jQ<jK;jQ++){var aZ=jQ/jK,eo=1-aZ,D=eo*eo*eo*dP.x+3*eo*eo*aZ*fg.x+3*eo*aZ*aZ*j.x+aZ*aZ*aZ*bo.x,W=eo*eo*eo*dP.y+3*eo*eo*aZ*fg.y+3*eo*aZ*aZ*j.y+aZ*aZ*aZ*bo.y;
aW.push(D,W)}}}var dC=[eU,gG],hG=Date.now(),dy=jR(dC);gs(o.buffer,d,e,$.buffer,dy,dC)}if(c=="Dfs "){var V=o.rect,d=V.m,e=V.e,fw=["Nrml","DrkO","LghO","anisotropic"].indexOf(K.Md.v.DfsM);
if(fw<3)a.X.aoh(o.buffer,d,e,$.buffer,[fw]);else{var dC=[1.4,1.6,1,4,!1,2,[0,0,.001]],V=o.rect.clone();
V.x=V.y=0;a.wy.filter(o.buffer,V,$.buffer,dC)}}if(c=="TrcC"){var V=o.rect,d=V.m,dM=d<<2,e=V.e,aX=K.Lvl.v,fy=K.Edg.v.CntE=="Lwr",gp=o.buffer,aU=$.buffer;
a.ms(aU,16777215,4278190080);function e7(hN,aJ){b8(hN,aJ);b8(hN+1,aJ+1);b8(hN+2,aJ+2)}function eV(hN,aJ){h$(hN,aJ);
h$(hN+1,aJ+1);h$(hN+2,aJ+2)}function b8(hN,aJ){var c8=gp[hN],gr=gp[aJ];if(c8>=aX&&gr<aX)aU[hN]=0;if(c8<aX&&gr>=aX)aU[aJ]=0}function h$(hN,aJ){var c8=gp[hN],gr=gp[aJ];
if(c8>aX&&gr<=aX)aU[aJ]=0;if(c8<=aX&&gr>aX)aU[hN]=0}if(fy)for(var W=1;W<e;W++)for(var D=1;D<d;D++){var A=W*d+D<<2;
e7(A,A-4);e7(A,A-dM)}else for(var W=1;W<e;W++)for(var D=1;D<d;D++){var A=W*d+D<<2;eV(A,A-4);eV(A,A-dM)}}if(c=="Embs"){var V=o.rect,d=V.m,e=V.e,jZ=-K.Angl.v*Math.PI/180,bu=K.Hght.v,dL=K.Amnt.v/100;
bu/=2;var U=Math.cos(jZ)*bu,w=Math.sin(jZ)*bu,gp=o.buffer,aU=$.buffer;aU.fill(0);var iv=new Uint32Array(gp.buffer),i=new Uint8Array(4),k5=new Uint32Array(i.buffer);
for(var W=0;W<e;W++)for(var D=0;D<d;D++){var ir=0,cu=0,az=0;if(0<=D+U&&D+U<d&&0<=W+w&&W+w<e){a.D.Y7(D+U+.5,W+w+.5,iv,d,e,k5,0,0);
ir+=i[0]-128;cu+=i[1]-128;az+=i[2]-128}if(0<=D-U&&D-U<d&&0<=W-w&&W-w<e){a.D.Y7(D-U+.5,W-w+.5,iv,d,e,k5,0,0);
ir-=i[0]-128;cu-=i[1]-128;az-=i[2]-128}var A=W*d+D<<2;aU[A]=Math.max(0,Math.min(255,ir*dL+128));aU[A+1]=Math.max(0,Math.min(255,cu*dL+128));
aU[A+2]=Math.max(0,Math.min(255,az*dL+128));aU[A+3]=gp[A+3]}}if(c=="ShrE"){var V=o.rect,d=V.m,e=V.e;
a.X.aqa(o.buffer,d,e,$.buffer)}if(c=="Dspc"){var V=o.rect,d=V.m,e=V.e;a.X.axz(o.buffer,d,e,$.buffer)}if(c=="Slrz"){var jj=$.buffer,hM=128;
for(var Y=0;Y<jj.length;Y+=4){if(jj[Y]>hM)jj[Y]=255-jj[Y];if(jj[Y+1]>hM)jj[Y+1]=255-jj[Y+1];if(jj[Y+2]>hM)jj[Y+2]=255-jj[Y+2]}}if(c=="Wnd "){var V=o.rect,d=V.m,e=V.e,je=["Wnd","Blst","Stgr"],bP=K.WndM.v.WndM;
a.X.n9(o.buffer,d,e,$.buffer,[je.indexOf(bP),K.Drct.v.Drct!="Left"])}if(c=="Bokh"){var V=o.rect,d=V.m,e=V.e,p=d*e,L=p*4,bD=o.buffer.slice(0),aC=K.BkDi.v.BtDi,bV=K.BkDc,cm=K.BkDs.v,e3=K.BkDp.v/255;
if(aC=="BeIn")e3=0;var eT=57*(.3+.7*((d+e)/2)/1750)*(K.BkIb.v/100)*(1+.2*Math.pow(e3,.1)),cv=parseInt(K.BkIs.v.BtIs.slice(3)),b6=-K.BkIr.v*Math.PI/180,jH=[];
for(var Y=0;Y<8;Y++){var b_=b6+Y*(Math.PI*2/cv),jc=b6+(Y+1)*(Math.PI*2/cv),g3=Math.cos(b_),hy=Math.sin(b_),jD=Math.cos(jc),fa=Math.sin(jc),a0=[0,0,0];
a.kn.QO([[g3,hy,1,0],[jD,fa,1,0],[1,1,1,1]],a0);if(a0[2]>0){a0[0]*=-1;a0[1]*=-1;a0[2]*=-1}jH.push(a0[0],a0[1],a0[2],0)}if(aC=="BeIn"){a.ms(bD,0,16777215);
e3=1}else if(aC=="BeIt"&&bV.v.BtDc=="BeCt"){}else{var eQ;if(aC=="BeIt"&&bV.v.BtDc=="BeCm")eQ=O[1];else if(aC=="BeIa")eQ=O[2][bV.v];
if(eQ==null){a.ms(bD,0,16777215)}else{var T;if(eQ.rect.Ug(V))T=eQ.channel;else T=eQ.U2(V);a.bp(T,bD,3)}}if(cm)for(var Y=0;
Y<L;Y+=4)bD[Y+3]=255-bD[Y+3];if(jT.lW){var cd=bD,iB=d,dm=e,dG=1,gE=(K.BkSb.v==0||K.BkSt.v==255)&&aC=="BeIn";
if(!gE){var hF=0;for(var Y=0;Y<L;Y+=4)hF+=Math.abs(e3-bD[Y+3]*(1/255));hF=hF/p*eT;var jz=3.14*hF*hF*d*e/3e6;
if(jz>2e3){alert("too large radius");return}}while(gE&&3*(eT/dG)*(eT/dG)*d*e>500*2e3*2e3){var bw=a.a72(bD,new ez(0,0,iB,dm));
bD=bw.PX;iB=bw.rect.m;dm=bw.rect.e;dG*=2}var hG=Date.now(),h=jT.xZ(0,iB,dm);h.set(bD);var ix=jT.xZ(1,d,e);
jT.Gf(ix);jT.filter.YD({type:jT.filter.a1q,y_:new Float32Array([1/iB,1/dm]),anu:e3,bL:eT/dG,a0Z:new Float32Array([K.BkSb.v/100,K.BkSt.v/255]),ahF:new Float32Array([K.BkNa.v/100,K.BkNt.v.BtNt=="BeNu"?0:1,K.BkNm.v?1:0]),awm:new Float32Array(jH.slice(0,16)),a8r:new Float32Array(jH.slice(16))},h.hO);
ix.get($.buffer);var ig=$.buffer;for(var Y=0;Y<L;Y+=4)ig[Y+3]=o.buffer[Y+3]}}if(c=="rigidTransform"){var hG=Date.now(),aT=gZ.aup,h=o.buffer.slice(0),k7=0,b0=0;
a.Ov(h);a.ms($.buffer,0);var d=o.rect.m,e=o.rect.e,cx=K.puppetShapeList.v,f$=[],eN=[],dK=[],iH=[];for(var b3=0;
b3<cx.length;b3++){var bK=cx[b3].v,I=k7*2,B=b0*3,i5=bK.originalVertexArray.v.length>>>2,hP=bK.indexArray.v.length>>>2,i2=new Float32Array(aT(bK.originalVertexArray.v));
for(var Y=0;Y<i5;Y++)f$[I+Y]=i2[Y];var j4=new Float32Array(aT(bK.deformedVertexArray.v));for(var Y=0;
Y<i5;Y++)eN[I+Y]=j4[Y];var e1=new Uint32Array(aT(bK.indexArray.v));for(var Y=0;Y<hP;Y++)dK[B+Y]=k7+e1[Y];
var au=[],cn=[],cN=bK.PnDp.v;for(var Y=0;Y<cN.length;Y++){au.push(bK.pinVertexIndices.v[Y].v);cn.push(cN[Y].v)}var bg=a.it.aAB(i2,e1,au,cn);
for(var Y=0;Y<bg.length;Y++)iH[k7+Y]=bg[Y];k7+=i5>>>1;b0+=~~(hP/3)}var s=o.rect,d=s.m,e=s.e;a.it.RJ(h,d,e,$.buffer,d,e,f$,eN,iH,dK);
a.Dt($.buffer)}if(c=="lightFilterGradient"){function i7(dP){var eP=1/Math.sqrt(dP[0]*dP[0]+dP[1]*dP[1]+dP[2]*dP[2]);
dP[0]*=eP;dP[1]*=eP;dP[2]*=eP}var d=o.rect.m,e=o.rect.e,p=d*e,hG=Date.now(),hl=a.R(p),gr=.3,fF=.7;a.yH($.buffer,hl);
var h8=a.R(p);a.kZ.mA(hl,h8,$.rect,16);var cM=a.R(p);a.kZ.mA(hl,cM,$.rect,8);var dD=hl,eI=new Float32Array(p),bz=K.Dtl.v,dZ=bz[2].v,eb=bz[1].v,af=bz[0].v,cz=K.Scl.v*40*K.textureScale.v/(dZ+eb+af);
dZ*=cz;eb*=cz;af*=cz;for(var Y=0;Y<p;Y++){var aF=h8[Y]*(1/255),bd=cM[Y]*(1/255),jd=dD[Y]*(1/255);jd=jd*jd;
eI[Y]=dZ*aF+eb*bd+af*jd}var cl=K.blur.v;if(cl!=0){a.kZ.sI(eI,$.rect,cl)}var eA=d-1,ja=e-1;for(var W=0;
W<e;W++)for(var D=0;D<d;D++){var Y=W*d+D,A=Y*4,cZ=eI[Y],U=gr*(eI[Y+(D==eA?0:1)]-cZ)+fF*(cZ-eI[Y-(D==0?0:1)]),w=gr*(eI[Y+(W==ja?0:d)]-cZ)+fF*(cZ-eI[Y-(W==0?0:d)]),dP=[1,0,U],fg=[0,1,w];
i7(dP);i7(fg);var jc=dP[0],cQ=dP[2],gz=fg[1],j2=fg[2],kx=-cQ*gz,gq=-jc*j2,eX=jc*gz;$.buffer[A]=~~(127.5+kx*127.5);
$.buffer[A+1]=~~(127.5+gq*127.5);$.buffer[A+2]=~~(127.5+eX*127.5)}}if(c=="defr"){var d=o.rect.m,e=o.rect.e;
aP(o.buffer,d,e,$.buffer)}if(c=="dDFT"||c=="iDFT"){function ih(cv){if(cv==0)return 1;cv--;cv|=cv>>1;
cv|=cv>>2;cv|=cv>>4;cv|=cv>>8;cv|=cv>>16;return cv+1}var d=o.rect.m,e=o.rect.e,jE=ih(Math.max(d,e)),b9=jE>>>1,bs=new ez(0,0,jE,jE),fj=new ez(0,0,d,e);
fj.y=jE-e>>>1;var bN=d>>>1,gC=new ez(0,fj.y,bN,e),kA=new a.Ko(d*e);a.j1(o.buffer,kA);var b$=new Float64Array(jE*jE),fO=new Float64Array(jE*jE),T=a.R(jE*jE);
FFT.init(jE);var kb=[kA.Z,kA.r,kA.J];for(var Y=0;Y<3;Y++){var gM=kb[Y];T.fill(0);if(c=="dDFT"){a.qv(gM,fj,T,bs);
gZ.ab6(T,jE,b$,fO);a.qv(T,bs,gM,fj,gC);gC.x+=bN;bs.x-=b9-bN;a.qv(T,bs,gM,fj,gC);gC.x-=bN;bs.x+=b9-bN}else{a.qv(gM,fj,T,bs,gC);
gC.x+=b9;fj.x+=b9-bN;a.qv(gM,fj,T,bs,gC);gC.x-=b9;fj.x-=b9-bN;gZ.aAX(T,jE,b$,fO);a.qv(T,bs,gM,fj)}}a.Zt(kA,$.buffer)}if(c=="Avrg"){var il=0,ch=0,gI=0,ku=0,e9=1;
for(var Y=0;Y<o.buffer.length;Y+=4){var E=o.buffer[Y+3];gI+=o.buffer[Y]*E;ch+=o.buffer[Y+1]*E;il+=o.buffer[Y+2]*E;
ku+=E}var eL=1/ku;il=Math.round(e9*(il*eL)+(1-e9)*255);ch=Math.round(e9*(ch*eL)+(1-e9)*255);gI=Math.round(e9*(gI*eL)+(1-e9)*255);
a.ms($.buffer,il<<16|ch<<8|gI,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(c)!=-1){var gd=K.Rds?K.Rds.v.val:1,dc=c=="boxblur"?a.kZ.EW:a.kZ.akn;
gZ.JI(gd,dc,$.buffer,$.rect);if(c=="UnsM"||c=="smartSharpen"){var dL=(K.Amnt?K.Amnt.v.val:200)/100,k9=0;
if(c=="UnsM")k9=K.Thsh.v;else dL*=.75;for(var Y=0;Y<o.buffer.length;Y++){if((Y&3)==3){$.buffer[Y]=o.buffer[Y];
continue}var d5=o.buffer[Y],gh=$.buffer[Y],kp=dL*(d5-gh);if(kp>0)kp=Math.max(0,kp-k9);else kp=Math.min(0,kp+k9);
$.buffer[Y]=Math.max(0,Math.min(255,d5+kp))}}if(c=="HghP")for(var Y=0;Y<o.buffer.length;Y++){if((Y&3)==3){$.buffer[Y]=o.buffer[Y];
continue}var d5=o.buffer[Y],gh=$.buffer[Y];$.buffer[Y]=Math.max(0,Math.min(255,128+d5-gh))}}if(c=="AdNs"){var aR=new Uint8ClampedArray($.buffer.buffer),hR=255*K.Nose.v.val/100,kw;
if(K.Dstr.v.Dstr=="Gsn")kw=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else kw=function(){return Math.random()*2-1};for(var Y=0;Y<aR.length;Y+=4){var s=aR[Y],ap=aR[Y+1],cR=aR[Y+2],aS,eB,g6;
if(K.Mnch.v){aS=eB=g6=kw()}else{aS=kw();eB=kw();g6=kw()}s+=hR*aS;ap+=hR*eB;cR+=hR*g6;aR[Y]=s;aR[Y+1]=ap;
aR[Y+2]=cR}}var hG=Date.now();if(c=="Mdn "||c=="DstS"||c=="Mxm "||c=="Mnm "||c=="surfaceBlur"){var s=0,bU=K.Thsh,bK=0;
if(bU)bU=bU.v;else bU=0;if(c=="Mdn "||c=="Mxm "||c=="Mnm "||c=="surfaceBlur")s=K.Rds.v.val;else s=K.Rds.v;
var bk=10*Math.ceil(s/10),d=o.rect.m,e=o.rect.e,jB=["Mnm ","Mxm ","surfaceBlur"].indexOf(c),bl=(bK==0?1:.75)*[.73,.73,1.2][jB]*(d*e*Math.pow(bk*bk,1.05))/6022387,g9=.6*(d*e*Math.pow(s,1/2.6))/6500;
if(c=="Mxm "||c=="Mnm ")g9=d*e/13e3;var ex=K.preserveShape;if(ex&&ex.v.preserveShape=="Rndn")bK=1;if(jT.lW&&jB!=-1&&(bl<g9||bK==1)&&bl<500){var h=jT.xZ(0,d,e);
h.set(o.buffer);var f=jT.xZ(1,d,e);jT.Gf(f);jT.filter.YD({type:jT.filter.axJ,y_:new Float32Array([1/d,1/e]),bL:s,asV:bU/255,oq:[bK,jB,bk]},h.hO);
f.get($.buffer)}else if(c=="Mxm "||c=="Mnm "){var d=o.rect.m,e=o.rect.e;a.kS.atb(o.buffer,$.buffer,d,e,1+Math.floor(K.Rds.v.val)*2,c=="Mxm ")}else{s=Math.round(s);
a.Q_.fi=.5;a.Q_.as=bU;var dc=c=="surfaceBlur"?1:0;a.Q_.fC(o.buffer,$.buffer,d,e,s,dc);if(c=="DstS")for(var Y=0;
Y<d*e*4;Y++){var am=Math.abs(o.buffer[Y]-$.buffer[Y]);if(am<=bU)$.buffer[Y]=o.buffer[Y]}}}if(c=="ClrH"){var gC=o.rect.clone();
gC.x=gC.y=0;var s=K.Rds.v;s=Math.round(s*Math.sqrt(2));var d=gC.m,e=gC.e,kA=new a.Ko(d*e);a.j1(o.buffer,kA);
a.fH(kA.Z);a.fH(kA.r);a.fH(kA.J);var iq=a.kW(d,e),ig=a.R(d*e*4);for(var cp=0;cp<3;cp++){var T=cp==0?kA.Z:cp==1?kA.r:kA.J,jZ=Math.PI*K["Ang"+(cp+1)].v/180,fB=new bE(1/s,0,0,1/s,0,0);
fB.rotate(jZ);a.bp(T,ig,3);var i=r.W.IN([ig,gC],fB,!0),fj=i.rect;iq.clearRect(0,0,d,e);var jI=Math.sin(jZ),e_=Math.cos(jZ);
for(var Y=0;Y<fj.e;Y++)for(var jQ=0;jQ<fj.m;jQ++){var D=(jQ+fj.x+.5)*s,W=(Y+fj.y+.5)*s,dH=D,d8=W;D=e_*dH-jI*d8;
W=jI*dH+e_*d8;var p=i.buffer[(Y*fj.m+jQ<<2)+3]*(1/255),gd=s*Math.sqrt(p*(1/Math.PI));iq.beginPath();
iq.arc(D,W,gd,0,2*Math.PI);iq.fill()}var ks=iq.getImageData(0,0,d,e);a.Sw(ks.data,T,3)}a.fH(kA.Z);a.fH(kA.r);
a.fH(kA.J);a.Zt(kA,$.buffer)}if(c=="Crst"||c=="Pntl"){var d=o.rect.m,e=o.rect.e,dc=c=="Crst"?a.zv.aCR:a.zv.a1u;
dc(o.buffer,d,e,$.buffer,K.ClSz.v,[Math.round(X.Z),Math.round(X.r),Math.round(X.J)])}if(c=="Mztn"){var d=o.rect.m,e=o.rect.e,p=d*e,kA=new a.Ko(p),k4=[kA.Z,kA.r,kA.J];
a.j1(o.buffer,kA);var bP=K.MztT.v.MztT,h9={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[bP],hG=Date.now(),fP=[];
for(var Y=0;Y<p;Y++){fP[Y]=Math.random()}var p=d*e,hK=Math.round(p*h9[0]),dj=p-d-1;for(var Y=0;Y<hK;
Y++){var gQ=Math.random(),e4=1;if(gQ<.5){e4=d;gQ*=2}else gQ=2*(gQ-.5);var hN=Math.floor(gQ*dj),aJ=hN+e4;
fP[hN]=fP[aJ]}var f1=Math.round(d*h9[1]);for(var W=0;W<e;W++)for(var Y=0;Y<f1;Y++){var gQ=a.a.Gz(W*p+Y),hN=W*d+Math.floor(gQ*(d-1));
fP[hN]=fP[hN+1]}var c9=new Float64Array(256);for(var Y=0;Y<256;Y++){var b2=Y/255,g2=2*(b2<.5?b2:1-b2);
g2=h9[2]+Math.pow(g2,h9[3])*(1-h9[2]);b2=b2<.5?g2*.5:1-g2*.5;c9[Y]=b2}for(var gf=0;gf<3;gf++){var T=k4[gf];
for(var W=0;W<e;W++){for(var D=0;D<d;D++){var Y=W*d+D,iw=T[Y],b2=c9[iw],gQ=fP[Y];T[Y]=gQ>b2?0:255}}}a.Zt(kA,$.buffer)}if(c=="Msc "){var g7=K.ClSz.v.val,d=o.rect.m,e=o.rect.e,fG=Math.ceil(d/g7),eD=Math.ceil(e/g7),a1=a.R(fG*eD*4);
a.scale.VU(o.buffer,d,e,a1,fG,eD,1/g7);a.scale.VU(a1,fG,eD,$.buffer,d,e,g7)}if(c=="Clds"||c=="DfrC"){var d=$.rect.m,e=$.rect.e,p=d*e,eF=a.R(p);
if(c=="Clds")a.ms($.buffer,4278190080);var bc=a.R(256*4);for(var Y=0;Y<256;Y++){var A=Y<<2,iN=Y/255,e1=1-iN;
bc[A]=Math.round(iN*u.Z+e1*X.Z);bc[A+1]=Math.round(iN*u.r+e1*X.r);bc[A+2]=Math.round(iN*u.J+e1*X.J)}a.X.av4(o.buffer,d,e,eF);
var eO=$.buffer;for(var Y=0;Y<p;Y++){var A=Y<<2,gf=eF[Y]<<2,s=bc[gf],ap=bc[gf+1],cR=bc[gf+2];if(c=="Clds"){eO[A]=s;
eO[A+1]=ap;eO[A+2]=cR}else{eO[A]=Math.abs(eO[4*Y]-s);eO[A+1]=Math.abs(eO[4*Y+1]-ap);eO[A+2]=Math.abs(eO[4*Y+2]-cR)}}}if(c=="LnsF"){var d=o.rect.m,e=o.rect.e,bP=["Zm","Nkn","Nkn1","PnVs"].indexOf(K.Lns.v.Lns),hW=K.FlrC.v,bv=[Math.min(bP,2),K.Brgh.v/100,hW.Hrzn.v,hW.Vrtc.v],hG=Date.now();
a.anr(o.buffer,d,e,$.buffer,bv)}var bF=["Blr ","BlrM","Shrp","ShrM"].indexOf(c);if(bF!=-1){var fz=bF>1,d=o.rect.m,e=o.rect.e,jA=a.wq.lV[bF],fu=o.buffer.slice(0);
if(!fz)a.Ov(fu);a.wq.Wb(fu,$.buffer,d,e,jA,255,!1,fz);if(!fz)a.Dt($.buffer)}if(c=="MtnB"){var cb=-K.Angl.v*Math.PI/180,gk=K.Dstn.v.val/2,hG=Date.now(),d=o.rect.m,e=o.rect.e,V=o.rect.clone();
V.x=V.y=0;if(jT.lW){var hG=Date.now(),d4=$.buffer;d4.set(o.buffer);a.Ov(d4);var dp=jT.xZ(0,d,e);dp.set(d4);
var gp=a.R(4);gp[0]=Math.round(128+127*Math.cos(cb));gp[1]=Math.round(128+127*Math.sin(cb));new Uint32Array(d4.buffer).fill(new Uint32Array(gp.buffer)[0]);
var kG=jT.xZ(1,d,e);kG.set(d4);jT.Gf(dp,V);dp.wC(V);jT.filter.YD({type:jT.filter.w1,x3:kG.hO,y_:new Float32Array([1/d,1/e]),a7i:gk/2,akd:1},dp.XW);
dp.get(d4);a.Dt(d4)}else{var fB=new bE;fB.rotate(cb);var i=r.W.IN([o.buffer,o.rect],fB,!1,null,!0);gZ.JI(gk,a.kZ.a0k,i.buffer,i.rect);
fB.fH();i=r.W.IN([i.buffer,i.rect],fB,!1,$.buffer.buffer,!0,$.rect)}console.log(Date.now()-hG)}if(c=="RdlB"){var d=o.rect.m,e=o.rect.e,dL=K.Amnt.v,cF=K.BlrM.v.BlrM=="Zm",cp=K.Cntr.v,jv=cp.Hrzn.v,bx=cp.Vrtc.v,U=Math.max(jv,1-jv)*d,w=Math.max(bx,1-bx)*e,gd=Math.sqrt(U*U+w*w),hI=2*Math.PI*gd*1.5,fQ=Math.round(hI),dB=Math.round(gd),gC=new ez(0,0,fQ,dB),kj=a.R(fQ*dB*4),eY=cF?4:1,fS=cF?.6:8*((d+e)/2)/1400,h5=.1,dG=1,cS=1;
a.D.ak$(o.buffer,d,e,kj,fQ,dB,jv,bx,eY,h5,dG,cS);var ep=cF?a.R(fQ*dB*4):null;if(cF){a.D.ll(kj,ep,fQ,dB);
var aZ=ep;ep=kj;kj=aZ;gC.m=dB;gC.e=fQ}gZ.JI(fS*dL,a.kZ.a0k,kj,gC);if(cF){a.D.ll(kj,ep,dB,fQ);var aZ=ep;
ep=kj;kj=aZ;gC.m=fQ;gC.e=dB}a.D.als(kj,fQ,dB,$.buffer,d,e,jv,bx,eY,h5,dG,cS)}if(c=="Plr "){var d=o.rect.m,e=o.rect.e;
if(K.Cnvr.v.Cnvr=="RctP")a.D.als(o.buffer,d,e,$.buffer,d,e,.5,.5,1,0,2,d/e);else a.D.ak$(o.buffer,d,e,$.buffer,d,e,.5,.5,1,0,2,d/e)}if(c=="FndE"){var d=o.rect.m,e=o.rect.e;
a.wq.azD(o.buffer,$.buffer,d,e)}if(c=="oilPaint"){var jZ=K.LghD.v*Math.PI/180,j5=[Math.cos(jZ),Math.sin(jZ),.001],dC=[K.stylization.v,K.cleanliness.v,K.brushScale.v,K.microBrush.v,K.lightingOn.v,K.specularity.v,j5],V=o.rect.clone();
V.x=V.y=0;a.wy.filter(o.buffer,V,$.buffer,dC)}if(c=="Ofst"){var d=o.rect.m,e=o.rect.e,jV=new Uint32Array(o.buffer.buffer),eM=new Uint32Array($.buffer.buffer),dH=K.Hrzn.v,d8=K.Vrtc.v,jX=K.Fl.v.FlMd;
a.ms(eM,0);if(jX=="Bckg"||jX=="Rpt"){var gC=o.rect.clone();gC.offset(dH,d8);a.Ui(jV,gC,eM,$.rect)}if(jX=="Rpt"){var g3,hy,jD,fa,gm;
dH=Math.max(-d,Math.min(d,dH));d8=Math.max(-e,Math.min(e,d8));g3=dH>0?dH:0;jD=dH>0?d:d+dH;hy=d8>0?0:d8+e;
fa=d8>0?d8:e;gm=d8>0?0:d*(e-1);for(var W=hy;W<fa;W++)for(var D=g3;D<jD;D++)eM[W*d+D]=jV[gm+D-dH];g3=dH>0?0:d+dH;
jD=dH>0?dH:d;hy=d8>0?d8:0;fa=d8>0?e:e+d8;gm=dH>0?0:d-1;for(var W=hy;W<fa;W++)for(var D=g3;D<jD;D++)eM[W*d+D]=jV[gm+d*(W-d8)];
if(dH>=0&&d8>=0){g3=0;jD=dH;hy=0;fa=d8;gm=0}if(dH>=0&&d8<0){g3=0;jD=dH;hy=e+d8;fa=e;gm=d*(e-1)}if(dH<0&&d8>=0){g3=d+dH;
jD=d;hy=0;fa=d8;gm=d-1}if(dH<0&&d8<0){g3=d+dH;jD=d;hy=e+d8;fa=e;gm=d*e-1}for(var W=hy;W<fa;W++)for(var D=g3;
D<jD;D++)eM[W*d+D]=jV[gm]}if(jX=="Wrp"){dH=(dH+100*d)%d;d8=(d8+100*e)%e;var gC=new ez(dH-d,d8-e,d,e);
a.Ui(jV,gC,eM,$.rect);gC.offset(d,0);a.Ui(jV,gC,eM,$.rect);gC.offset(0,e);a.Ui(jV,gC,eM,$.rect);gC.offset(-d,0);
a.Ui(jV,gC,eM,$.rect)}}if(c=="Rept"){var dR=K.Rsft.v.val/100,fK=K.SpcX.v.val/100;fK=Math.max(fK,-.99);
var c4=K.SpcY.v.val/100;c4=Math.max(c4,-.99);var dG=K.Scl.v.val/100,fB=new bE;fB.rotate(K.Angl.v*Math.PI/180);
fB.scale(dG,dG);var hB={buffer:o.buffer,rect:o.rect};a.au(hB);if(hB.rect.SR()){hB.buffer=o.buffer;hB.rect=o.rect}var eO=hB.buffer,gC=hB.rect,ea=a.pD(eO,gC,0),be=new Uint32Array(eO.buffer)[0];
if(!ea.SR()&&!ea.Ug(gC)){var b1=a.R(ea.P()*4);a.Ui(eO,gC,b1,ea);eO=b1;gC=ea}gC.x=gC.y=0;be=fK==0&&c4==0||K.SpcC.v?be:0;
function i0(D){return D<0?Math.ceil(D):Math.floor(D)}var cA=fB.QB(new kn(gC.m,0));cA.x=i0(cA.x);cA.y=i0(cA.y);
var dt=fB.QB(new kn(0,gC.e));dt.x=i0(dt.x);dt.y=i0(dt.y);var i=r.W.IN([eO,gC],fB,!1),fj=i.rect,aU=i.buffer,cX=Math.round(fj.x),fc=Math.round(fj.y),jp=Math.max($.rect.m,$.rect.e)/Math.min(gC.m*dG*(1+fK),gC.e*dG*(1+c4));
jp=Math.ceil(jp*1.7);a.ms($.buffer,be);for(var W=-jp;W<jp;W++){for(var D=-jp;D<jp;D++){var gi=(D+W*dR)*(1+fK),fT=W*(1+c4);
fj.x=cX+Math.round(gi*cA.x+fT*dt.x);fj.y=fc+Math.round(gi*cA.y+fT*dt.y);if(fj.Yd($.rect))a.a.hA("norm",aU,fj,$.buffer,$.rect,fj,1)}}}if(c=="Ctoa"){var X=a.T.h0(K.Clr.v),bU=K.Trsp.v.val/100,fs=K.Opct.v.val/100;
bU=fs==0?0:bU/fs;var d=o.rect.m,e=o.rect.e,hx=~~X.Z,i6=~~X.r,iu=~~X.J,gm=o.buffer,k8=$.buffer;for(var W=0;
W<e;W++)for(var D=0;D<d;D++){var Y=W*d+D,A=Y<<2,gC=gm[A],h4=gm[A+1],eO=gm[A+2],jb=Math.abs(hx-gC),io=Math.abs(i6-h4),fC=Math.abs(iu-eO),iS=Math.max(jb,io,fC)*(1/255);
iS=Math.max(0,Math.min(1,iS/fs));var h1=iS==0?0:1/iS,bt=bU==1?1:Math.max(0,Math.min(1,(iS-bU)/(1-bU)));
k8[A]=Math.max(0,Math.min(255,(gC-hx*(1-iS))*h1));k8[A+1]=Math.max(0,Math.min(255,(h4-i6*(1-iS))*h1));
k8[A+2]=Math.max(0,Math.min(255,(eO-iu*(1-iS))*h1));k8[A+3]=Math.min(k8[A+3],~~(.5+bt*255))}}if(c=="Dthr"){function c1(D){return~~(.5+255*a.CA(D/255))}var b3=K.Plte.v,iQ;
if(b3==0)iQ=[4278190080,4294967295];else{var ha=[[1,1,1],[2,2,2],[3,3,2]][b3-1],fq=[1<<ha[0],1<<ha[1],1<<ha[2]],kt=[~~(255/(fq[0]-1)),~~(255/(fq[1]-1)),~~(255/(fq[2]-1))];
iQ=[];for(var s=0;s<fq[0];s++)for(var ap=0;ap<fq[1];ap++)for(var cR=0;cR<fq[2];cR++)iQ.push(255<<24|c1(cR*kt[2])<<16|c1(ap*kt[1])<<8|c1(s*kt[0]))}var d=o.rect.m,e=o.rect.e,p=d*e,ie=p*4,az=o.buffer.slice(0),fp=$.buffer;
for(var Y=0;Y<ie;Y++)az[Y]=~~(.5+255*a.CA(az[Y]/255));var ft=a.R(d*e);UPNG.encode.dither(az,d,e,iQ,fp,ft,K.Mthd?K.Mthd.v:1);
for(var Y=0;Y<ie;Y++)fp[Y]=~~(.5+255*a.rp(fp[Y]/255))}if(c=="Part"){var i1=[K.RndS.v,K.Cont.v/100,K.Size.v,K.Dpth.v/100,K.Brgh.v/100,a.T.h0(K.Clr.v),K.Time.v,K.Blnk.v,K.Fall.v,K.Turb.v/100];
a.f5.Cb($.buffer,o.rect.m,o.rect.e,i1)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(c)!=-1){var gw=O[0],d=o.rect.m,e=o.rect.e,c9,jy=0;
if(c=="LqFy")c9=kd.Sr(new Uint8Array(K.LqMe.v).buffer);else{var cW=3;if(c=="Wave")cW=Math.min(3,K.WLMn.v);
c9={Oc:Math.floor(d/cW),s_:Math.floor(e/cW)};c9.map=new Float32Array(c9.Oc*c9.s_*2);if(c=="LnCr"){var jv=.5*(c9.Oc-1),bx=.5*(c9.s_-1),hp=Math.max(Math.abs(0-jv),Math.abs(1-jv)),jW=Math.max(Math.abs(0-bx),Math.abs(1-bx)),bA=Math.sqrt(hp*hp+jW*jW),bm=0,a4=0,fY=-1,dg=2,dG=K.LnSi.v/100,cF=1/dG,f0=K.LnIa.v/100,eu=f0==0?1e-6:f0*4.6,aA=cF/bA;
for(var W=0;W<c9.s_;W++){for(var D=0;D<c9.Oc;D++){var U=(D-jv)*aA,w=(W-bx)*aA,s=Math.sqrt(U*U+w*w)*eu,bh=Math.atan(s),fJ=f0>0?bh/s:s/bh,cS=jv+bA*fJ*U,j3=bx+bA*fJ*w,Y=W*c9.Oc+D<<1;
c9.map[Y]=cS-D;c9.map[Y+1]=j3-W}}}else if(c=="Kale"){var fG=c9.Oc,eD=c9.s_,gg=(fG-1)*.5,ja=(eD-1)*.5,fr=K.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,kf=K.Mirr.v,e2=Math.PI*2/kf,j_=.5*e2;
for(var W=0;W<eD;W++)for(var D=0;D<fG;D++){var U=D-gg,w=W-ja,aG=Math.sqrt(U*U+w*w),jZ=Math.atan2(w,U)+fr;
jZ=jZ%e2;if(jZ>j_)jZ=e2-jZ;var cS=gg+Math.cos(jZ-fr)*aG,j3=ja+Math.sin(jZ-fr)*aG,Y=(W*fG+D)*2;c9.map[Y]=cS-D;
c9.map[Y+1]=j3-W}}else if(c=="Dspl"&&gw.length!=0){jy=K.UndA.v.UndA=="WrpA"?2:1;var f5=K.DspF.v.pth,fe,dO=K.DspD,bT,d6,hU;
if(dO){var il=dO.v;bT=il[1]*256+il[0];d6=il[5]*256+il[4];hU=new Uint8Array(il.slice(10,10+bT*d6))}else{for(var Y=0;
Y<gw.length;Y++)if(gw[Y].Il==f5)fe=gw[Y];if(fe==null)fe=gw[0];fe.i9();var jb=fe.Za[1],hU=a.R(jb.P());
a.yH(fe.Za[0],hU);bT=jb.m;d6=jb.e}c9={Oc:bT,s_:d6};c9.map=new Float32Array(c9.Oc*c9.s_*2);var d9=2.54*K.HrzS.v*bT/d,ae=2.54*K.VrtS.v*d6/e;
for(var W=0;W<c9.s_;W++){for(var D=0;D<c9.Oc;D++){var am=-.5+hU[W*bT+D]*(1/255),Y=W*c9.Oc+D<<1;c9.map[Y]=am*d9;
c9.map[Y+1]=am*ae}}}else if(c=="Pnch"||c=="Twrl"||c=="Sphr"||c=="ZgZg"){var dL=1,cb=Math.PI,dx=0,fE=1,eJ=0,cp=3,g7=1.53,fJ=1;
if(c=="Pnch"||c=="Sphr"||c=="ZgZg")dL=K.Amnt.v/100;if(c=="ZgZg"){fE=K.NmbR.v;eJ=["ArnC","OtFr","PndR"].indexOf(K.ZZTy.v.ZZTy)}if(c=="Twrl")cb=K.Angl.v*Math.PI/180;
if(c=="Sphr")dx=["Nrml","HrzO","VrtO"].indexOf(K.SphM.v.SphM);function dc(D){D=Math.pow(D,1-D*.3-D*D*(D*D)*.5);
return-.225*Math.sin(D*Math.PI)}function ko(e,eP,s,g3,hy,jD,fa,fJ){var U=jD-g3,w=fa-hy,iZ=g3-e,iA=hy-eP,iN=U*U+w*w,cR=2*(U*iZ+w*iA),cp=iZ*iZ+iA*iA-s*s,d3=Math.sqrt(cR*cR-4*iN*cp),jg=fJ/(2*iN),dk=(-cR+d3)*jg,c_=(-cR-d3)*jg;
return fJ*Math.min(dk,c_)}var fG=c9.Oc,eD=c9.s_,gg=c9.Oc/2,ja=c9.s_/2,ek=1/gg,s=Math.sqrt(cp*cp+1)/cp,gM=cp+Math.sqrt(1/(cp*cp));
if(dL<0){cp=1.72;s=1;gM=cp;g7=-1;fJ=-1}for(var W=0;W<eD;W++){var w=(W-ja)/ja;for(var D=0;D<fG;D++){var U=(D-gg)*ek;
if(dx==1)w=0;else if(dx==2)U=0;var by=Math.sqrt(U*U+w*w);if(by<1&&by!=0){var Y=W*c9.Oc+D<<1;if(c=="Pnch"){var gj=-dL*dc(by)/by;
c9.map[Y]=U*gj*gg;c9.map[Y+1]=w*gj*ja}else if(c=="Sphr"){var aZ=ko(0,gM,s,0,0,by,cp,fJ),kq=g7*dL*(aZ-1);
c9.map[Y]=U*kq*gg;c9.map[Y+1]=w*kq*ja}else if(c=="Twrl"){var jZ=Math.atan2(w,U)-cb*(1-by)*(1-by),hY=Math.cos(jZ),bI=Math.sin(jZ);
c9.map[Y]=(by*hY-U)*gg;c9.map[Y+1]=(by*bI-w)*ja}else if(c=="ZgZg"){var hY=0,bI=0,g1=dL*(.5-.5*Math.cos(by*fE*2*Math.PI))*(1-by);
if(eJ==0){var jZ=Math.atan2(w,U)-3.5*g1;hY=by*Math.cos(jZ);bI=by*Math.sin(jZ)}if(eJ==1){g1=100/d*g1/by;
hY=(1-g1)*U;bI=(1-g1)*w}if(eJ==2){var G=512/d*g1*Math.PI/4;hY=G+U;bI=G+w}c9.map[Y]=(hY-U)*gg;c9.map[Y+1]=(bI-w)*ja}}}}}else if(c=="Shr "){var dW=JSON.parse(JSON.stringify(K.ShrP.v));
a.HO.i(dW,new bE(0,255/127,255/127,0,-2,0));var cf=a.HO.zJ(dW,c9.s_,!0);jy=K.UndA.v.UndA=="WrpA"?2:1;
for(var W=0;W<c9.s_;W++){var U=-cf[W]*c9.Oc;for(var D=0;D<c9.Oc;D++){var Y=W*c9.Oc+D<<1;c9.map[Y]=U}}}else if(c=="Wave"){var ci=K.NmbG.v,cV=K.WLMn.v,cI=K.WLMx.v,dn=K.AmMn.v*(Math.PI/4),fZ=K.AmMx.v*(Math.PI/4),cJ=K.SclH.v/100,im=K.SclV.v/100,bP=K.Wvtp.v.Wvtp,g1=Math.sin;
if(bP=="WvTr")g1=function(D){D*=2/Math.PI;return-.5+Math.abs(D%2-1)};if(bP=="WvSq")g1=function(D){D*=2/Math.PI;
return 1+2*Math.floor(D%2-1)};var iI=[],fm=new a.a.Qk(K.RndS.v);for(var Y=0;Y<ci;Y++){iI.push(fm.get()*10);
iI.push(Math.PI*cW/(cV+fm.get()*(cI-cV)));iI.push(cJ*(dn+fm.get()*(fZ-dn))/cW);iI.push(fm.get()*10);
iI.push(Math.PI*cW/(cV+fm.get()*(cI-cV)));iI.push(im*(dn+fm.get()*(fZ-dn))/cW)}var ee=[],gR=[],aV=Math.max(c9.Oc,c9.s_);
for(var Y=0;Y<aV;Y++){var U=0,w=0;for(var jQ=0;jQ<ci;jQ++){var kh=jQ*6;U+=iI[kh+2]*g1(iI[kh]+Y*iI[kh+1]);
w+=iI[kh+5]*g1(iI[kh+3]+Y*iI[kh+4])}ee[Y]=w;gR[Y]=U}for(var W=0;W<c9.s_;W++){for(var D=0;D<c9.Oc;D++){var Y=W*c9.Oc+D<<1;
c9.map[Y]=gR[W];c9.map[Y+1]=ee[D]}}jy=K.UndA.v.UndA=="WrpA"?2:1}else if(c=="Rple"){jy=1;var dL=K.Amnt.v/100,hq=4,gW=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],f_=1,kE=1,iZ=0,cE=["Sml","Mdm","Lrg"].indexOf(K.RplS.v.RplS);
if(cE==0){f_=1;kE=.2;iZ=3}if(cE==2){f_=1;kE=2;iZ=-1;gW=gW.reverse()}var hC=function(D,W){var cp=Math.cos,cz=0;
for(var Y=0;Y<hq;Y++)for(var jQ=0;jQ<hq;jQ++)cz+=gW[Y*hq+jQ]*cp(D*(Y+iZ)-W*(jQ+iZ));return cz},gS=Math.floor(50/cW),ct=new Float32Array(gS*gS*2),aq=kE*dL*.5/cW;
for(var W=0;W<gS;W++)for(var D=0;D<gS;D++){var jv=f_*D*2*Math.PI/gS,bx=f_*W*2*Math.PI/gS,ck=hC(jv,bx),U=(hC(jv+.01,bx)-ck)*100,w=(hC(jv,bx+.01)-ck)*100,Y=(W*gS+D)*2;
ct[Y]=U*aq;ct[Y+1]=w*aq}for(var W=0;W<c9.s_;W++)for(var D=0;D<c9.Oc;D++){var bI=W%gS,hY=D%gS,Y=W*c9.Oc+D<<1,dr=bI*gS+hY<<1;
c9.map[Y]=ct[dr];c9.map[Y+1]=ct[dr+1]}}}a.kU.qY(o.buffer,$.buffer,d,e,null,c9.map,c9.Oc,c9.s_,jy)}return $};
var gL={};gL.auJ="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");gL.qq="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
gL.uc=["ScrC","ScrD","ScrL"];gL.xY=["SDRD","SDHz","SDLD","SDVt"];gL.Mc="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
gL.vB="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");gL.PP="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
gL.vO=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];gL.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
gL.ib=function(c){var o;if(c=="ClrP")o={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(c=="Ct")o={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(c=="DryB")o={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(c=="FlmG")o={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(c=="Frsc")o={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(c=="NGlw")o={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(c=="PntD")o={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(c=="PltK")o={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(c=="PlsW")o={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(c=="PstE")o={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(c=="RghP")o={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(c=="SmdS")o={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(c=="Spng")o={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(c=="Undr")o={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(c=="Wtrc")o={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(c=="AccE")o={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(c=="AngS")o={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(c=="Crsh")o={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(c=="DrkS")o={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(c=="InkO")o={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(c=="Smie")o={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(c=="Spt")o={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(c=="SprS")o={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(c=="DfsG")o={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(c=="Gls")o={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(c=="OcnR")o={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(c=="BsRl")o={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(c=="ChlC")o={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(c=="Chrc")o={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(c=="Chrm")o={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(c=="CntC")o={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(c=="GraP")o={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(c=="HlfS")o={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(c=="NtPr")o={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(c=="Phtc")o={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(c=="Plst")o={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(c=="Rtcl")o={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(c=="Stmp")o={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(c=="TrnE")o={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(c=="WtrP")o={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(c=="GlwE")o={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(c=="Crql")o={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(c=="Grn")o={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(c=="MscT")o={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(c=="Ptch")o={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(c=="StnG")o={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(c=="Txtz")o={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
o.__name="Filter Gallery";o.classID="GEfc";o.GEfk={t:"enum",v:{GEft:c}};o.GELv={t:"bool",v:!0};return o};
gL.Xm=function(c,o){for(var Y=0;Y<o.length;Y++)~~(o[Y]=(c[4*Y]+c[4*Y+1]+c[4*Y+2])*(1/3))};gL.afl=function(c,o,K,u,X,$){var O=UPNG.quantize(c,o);
O={zC:O.inds,a3:O.plte};if($){var n=new Uint32Array(O.a3.length);for(var Y=0;Y<n.length;Y++)n[Y]=O.a3[Y].est.rgba;
O.zC=a.a5D(new Uint8Array(c),K,u,new Uint8Array(n.buffer))}var x=Math.floor((K+u)*.015);if(x!=0&&X)a.dJ.a4R(O.zC,K,u,x);
return O};gL.kg=function(c,o,K,u,X,$,O){c=K.GEfk.v.GEft;var n=o.rect,x=n.m,l=n.e,N=x*l,f=K.FlRs?K.FlRs.v>>>1:0;
function z(Z){return Z.Z<<24|Z.r<<16|Z.J<<8|255}if(c=="ClrP")a.X.aBX(o.buffer,x,l,$.buffer,[K.Pncl.v,K.StrP.v,K.PprB.v]);
if(c=="Ct"){var R=K.NmbL.v,V=K.EdgS.v,d=gL.afl(o.buffer.buffer,R*2,x,l,!0);for(var Y=0;Y<d.zC.length;
Y++)d.zC[Y]++;var e=new Uint8Array((x+2)*(l+2));a.qv(d.zC,new ez(1,1,x,l),e,new ez(0,0,x+2,l+2));var p=a.A.adl(e,x+2,l+2,V,!1),h=new bE(1,0,0,1,-1,-1);
for(var Y=0;Y<p.length;Y++)a.A.i(p[Y].path.j,h,p[Y].path.j);var E=[],q=d.a3;for(var Y=0;Y<q.length;Y++){var Z=q[Y].est.q;
E.push({Z:Math.round(255*Z[0]),r:Math.round(255*Z[1]),J:Math.round(255*Z[2]),V:Math.round(255*Z[3])})}var v=a.kW(x,l);
for(var Y=0;Y<p.length;Y++){var W=p[Y],Z=E[W.color-1];if(Z.V==0)continue;v.fillStyle="rgba("+Z.Z+","+Z.r+","+Z.J+","+Z.V/255+")";
v.beginPath();Typr.U.pathToContext({crds:W.path.j,cmds:W.path.G},v);v.fill()}if(!n.SR()){var D=v.getImageData(0,0,x,l);
a.lY(D.data,$.buffer)}}if(c=="DryB")a.X.a2M(o.buffer,x,l,$.buffer,[K.BrsS.v,K.BrsD.v,K.Txtr.v]);if(c=="FlmG")a.X.aa6(o.buffer,x,l,$.buffer,[K.Grn.v,K.HghA.v,K.Intn.v,f]);
if(c=="Frsc")a.X.aBx(o.buffer,x,l,$.buffer,[K.BrsS.v,K.BrsD.v,K.Txtr.v]);if(c=="NGlw")a.X.a6B(o.buffer,x,l,$.buffer,[K.Sz.v,K.Brgh.v,z(a.T.h0(K.Clr.v)),z(u),z(X)]);
if(c=="PltK")a.X.adj(o.buffer,x,l,$.buffer,[K.StrS.v,K.StDt.v,K.Sftn.v]);if(c=="PstE")a.X.azv(o.buffer,x,l,$.buffer,[K.EdgT.v,K.EdgI.v,K.Pstr.v]);
if(c=="RghP")a.X.aeZ(o.buffer,x,l,$.buffer,[K.StrL.v,K.StDt.v,gL.Mc.indexOf(K.TxtT.v.TxtT),K.Scln.v,K.Rlf.v,gL.qq.indexOf(K.LghD.v.LghD),K.InvT.v]);
if(c=="SmdS")a.X.aD2(o.buffer,x,l,$.buffer,[K.StrL.v,K.HghA.v,K.Intn.v,K.FlRs?K.FlRs.v:0,f]);if(c=="Spng")a.X.af5(o.buffer,x,l,$.buffer,[K.BrsS.v,K.Dfnt.v,K.Smth.v,K.FlRs?K.FlRs.v:0,f]);
if(c=="Undr")a.X.avA(o.buffer,x,l,$.buffer,[K.BrsS.v,K.TxtC.v,gL.Mc.indexOf(K.TxtT.v.TxtT),K.Scln.v,K.Rlf.v,gL.qq.indexOf(K.LghD.v.LghD),K.InvT.v]);
if(c=="Wtrc")a.X.axU(o.buffer,x,l,$.buffer,[K.BrsD.v,K.ShdI.v,K.Txtr.v]);if(c=="AccE")a.X.a5B(o.buffer,x,l,$.buffer,[K.EdgW.v,K.EdgB.v,K.Smth.v]);
if(c=="AngS")a.X.aul(o.buffer,x,l,$.buffer,[K.DrcB.v,K.StrL.v,K.Shrp.v]);if(c=="Crsh")a.X.aD$(o.buffer,x,l,$.buffer,[K.StrL.v,K.Shrp.v,K.Strg.v]);
if(c=="DrkS")a.X.a6P(o.buffer,x,l,$.buffer,[K.Blnc.v,K.BlcI.v,K.WhtI.v]);if(c=="InkO")a.X.aCF(o.buffer,x,l,$.buffer,[K.StrL.v,K.DrkI.v,K.LghI.v]);
if(c=="Smie")a.X.asc(o.buffer,x,l,$.buffer,[K.StrW.v,K.StrP.v,K.Cntr.v]);if(c=="DfsG")a.X.ajy(o.buffer,x,l,$.buffer,[K.Grns.v,K.GlwA.v,K.ClrA.v,z(X),f]);
if(c=="CntC")a.X.ahT(o.buffer,x,l,$.buffer,[K.FrgL.v,K.BckL.v,gL.Mc.indexOf(K.TxtT.v.TxtT),K.Scln.v,K.Rlf.v,gL.qq.indexOf(K.LghD.v.LghD),K.InvT.v,z(X),z(u)]);
if(c=="ChlC")a.X.aeB(o.buffer,x,l,$.buffer,[K.ChrA.v,K.ChlA.v,K.StrP.v,f,z(X),z(u)]);var I=c=="GraP"||c=="Chrc"||c=="Plst"||c=="Rtcl"||c=="Stmp"||c=="TrnE";
if(I){var A=a.R(x*l);if(c=="GraP")a.X.azk(o.buffer,x,l,$.buffer,[K.StrL.v,K.LgDr.v,gL.xY.indexOf(K.SDir.v.StrD),f]);
if(c=="Chrc")a.X.avr(o.buffer,x,l,$.buffer,[K.ChAm.v,K.Dtl.v,K.LgDr.v]);if(c=="Plst")a.X.aC4(o.buffer,x,l,$.buffer,[K.ImgB.v,gL.vB.indexOf(K.LghP.v.LghP),K.Smth.v]);
if(c=="Rtcl")a.X.aCr(o.buffer,x,l,$.buffer,[K.Dnst.v,K.BlcL.v,K.WhtL.v,f]);if(c=="Stmp")a.X.abz(o.buffer,x,l,$.buffer,[K.LgDr.v,K.Smth.v]);
if(c=="TrnE")a.X.anY(o.buffer,x,l,$.buffer,[K.ImgB.v,K.Smth.v,K.Cntr.v,f]);a.Sw($.buffer,A,0);gL.OX(A,$.buffer,u,X)}if(c=="NtPr")a.X.a1x(o.buffer,x,l,$.buffer,[K.ImgB.v,K.Grns.v,K.Rlf.v,z(u),z(X),f]);
if(c=="WtrP")a.X.asN(o.buffer,x,l,$.buffer,[K.FbrL.v,K.Brgh.v,K.Cntr.v,f>>>1]);if(c=="Crql")a.X.aon(o.buffer,x,l,$.buffer,[K.CrcS.v,K.CrcD.v,K.CrcB.v,f]);
if(c=="Grn")a.X.anD(o.buffer,x,l,$.buffer,[K.Intn.v,gL.PP.indexOf(K.Grnt.v.Grnt),K.Cntr.v,z(u),z(X),f]);
if(c=="MscT")a.X.auU(o.buffer,x,l,$.buffer,[K.TlSz.v,K.GrtW.v,K.LghG.v,f]);if(c=="Ptch")a.X.a3X(o.buffer,x,l,$.buffer,[K.SqrS.v,K.Rlf.v,f]);
if(c=="Phtc"){function U(dW,g7,n,jZ){a.kZ.nf(dW,g7,n,jZ);for(var Y=0;Y<N;Y++)g7[Y]=Math.max(0,Math.min(255,128+dW[Y]-g7[Y]))}var w=K.Dtl.v,t=K.Drkn.v,L=a.R(N);
a.yH(o.buffer,L);var J=a.R(N);U(L,J,n,1);if(w==1){w=2;t=Math.round(t/4)}var b=a.R(N);U(L,b,n,w);for(var Y=0;
Y<N;Y++)L[Y]=Math.max(0,Math.min(255,255-(J[Y]-b[Y])*t));gL.OX(L,$.buffer,u,X)}if(c=="Spt"||c=="SprS"){var F,B=1,k=1;
F={Oc:Math.floor(x/k),s_:Math.floor(l/k)};F.map=new Float32Array(F.Oc*F.s_*2);var i=new a.a.Qk(f),H=new Float32Array(8192),m=K.SprR.v,j=m<20?.018*m:.36+(m-20)*.128;
if(c=="SprS"){j=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][m]}for(var Y=0;
Y<8192;Y++)H[Y]=(-1+2*i.get())*j*70;for(var Q=0;Q<l;Q++)for(var G=0;G<x;G++){var g=Q*x+G<<1;F.map[g]=H[g%7919];
F.map[g+1]=H[(g+1)%7919]}var P=F.map.slice(0),M=c=="Spt"?K.Smth.v-1:1;if(c=="Spt"&&M!=0){gL.a1R(F.map,P,x,l,M);
gL.afb(P,F.map,x,l,M)}if(c=="SprS"){var T=K.StrL.v>>>1,C=T==0?2:1;gL.a1R(F.map,P,x,l,C);gL.afb(P,F.map,x,l,C);
if(T!=0){var gf=gL.xY.indexOf(K.SDir.v.StrD),s=[1,1,1,0][gf],b3=[-1,0,1,1][gf],d5=2*T+1,gh=1/d5;for(var Q=0;
Q<l;Q++)for(var G=0;G<x;G++){var g=Q*x+G<<1,jt=0,fl=0;for(var Y=0;Y<d5;Y++){var c7=Math.max(0,Math.min(x-1,G-(T+Y)*s)),k8=Math.max(0,Math.min(l-1,Q-(T+Y)*b3)),hs=k8*x+c7<<1;
jt+=F.map[hs];fl+=F.map[hs+1]}P[g]=jt*gh;P[g+1]=fl*gh}F.map=P}}a.kU.qY(o.buffer,$.buffer,x,l,null,F.map,F.Oc,F.s_,B)}if(c=="BsRl"||c=="PlsW"||c=="Chrm"){var cq=Date.now(),jn=a.R(N),an=jn.slice(0);
a.yH(o.buffer,jn);var w=K.Dtl.v,hk=K.Smth.v;if(w!=15){a.kZ.mA(jn,an,n,Math.round((15-w)*.5));a.lY(an,jn)}var ds=1.4/x,gT=1.4/l,gP=new Float32Array(N),ky=new Float32Array(N),ay=new Float32Array($.buffer.buffer);
for(var Q=0;Q<l;Q++)for(var G=0;G<x;G++){var Y=Q*x+G,s=G==x-1?jn[Y]-jn[Y-1]:jn[Y+1]-jn[Y],b3=Q==l-1?jn[Y]-jn[Y-x]:jn[Y+x]-jn[Y],bb=G*ds-.7,ap=Q*gT-.7;
gP[Y]=s==0?bb:s*.4;ky[Y]=b3==0?ap:b3*.4}if(c=="BsRl"){var cR=(2+gL.qq.indexOf(K.LghD.v.LghD))*Math.PI*.25,jt=Math.cos(cR);
if(Math.abs(jt)<.1)jt=0;jt=Math.sign(jt);var fl=Math.sin(cR);if(Math.abs(fl)<.1)fl=0;fl=Math.sign(fl);
var c8=1/(jt*jt+fl*fl);for(var Q=0;Q<l;Q++)for(var G=0;G<x;G++){var Y=Q*x+G,gr=Math.max(-1,Math.min(1,jt*gP[Y])),fF=Math.max(-1,Math.min(1,fl*ky[Y]));
an[Y]=128+127*(gr+fF)*c8}if(hk!=1){a.kZ.mA(an,jn,n,Math.round((hk-1)*.5));a.lY(jn,an)}gL.OX(an,$.buffer,u,X)}else{if(c=="Chrm")hk=5+hk;
if(hk>1)gL.JI(gP,ky,ay,n,hk-1);if(c=="PlsW"){var cj=new Uint8Array(gP.buffer);for(var Y=0;Y<N;Y++){var br=Y<<2,s=gP[Y],b3=ky[Y],hX=1/(Math.sqrt(1+s*s)*Math.sqrt(1+b3*b3)),gG=hX*hX,jx=gG*gG,Z=~~(255*(jx*jx*gG));
cj[br+0]=Z;cj[br+1]=Z;cj[br+2]=Z;cj[br+3]=Z}$.buffer.set(o.buffer);a.a.hA("norm",cj,n,$.buffer,n,n,K.HghS.v/20)}else if(c=="Chrm"){var cr=$.buffer,a8=x>>>1,f8=l>>>1;
for(var Y=0;Y<N;Y++){var br=Y<<2,s=gP[Y],b3=ky[Y],dW={x:1,y:0,iv:s};bL.zB(dW);var g7={x:0,y:1,iv:b3};
bL.zB(g7);var eU=bL.aBM(dW,g7),f7=1/eU.iv,d7=~~Math.max(0,Math.min(x-1,a8-eU.x*f7*a8)),aW=~~Math.max(0,Math.min(l-1,f8-eU.y*f7*f8)),Z=jn[aW*x+d7];
cr[br+0]=Z;cr[br+1]=Z;cr[br+2]=Z}}}}if(c=="Gls"||c=="OcnR"||c=="Txtz"){var cy=c=="OcnR"?2:gL.Mc.indexOf(K.TxtT.v.TxtT),dh=gL.B_(cy),fh=dh[0],jn=dh[1],dP=fh.m,fg=fh.e,d5=24,fw=0,dM,aX;
function bo(eQ,cd,iB){return~~(jK*(eQ+cd)+8192)&127}var gP=new Float32Array(N),ky=new Float32Array(N),ay=new Float32Array($.buffer.buffer),jK=c=="OcnR"?1/(1+(K.RplS.v-1)*.1):100/K.Scln.v;
if(cy==3)jK*=32/22.2;var cq=Date.now(),jQ=jK,ds=1.4/x,gT=1.4/l;if(c=="Txtz"){jQ*=1/255;d5=256}for(var Q=0;
Q<l;Q++){var aZ=bo(Q,n.y,fg),k8=aZ+1&127;for(var G=0;G<x;G++){var Y=Q*x+G,eo=bo(G,n.x,dP),c7=eo+1&127,dC=0,hG=0,dy=0;
if(c=="Txtz"){dC=a.D.Iv(jK*G,jK*Q,jn,128,128);hG=a.D.Iv(jK*G,jK*Q+1,jn,128,128);dy=a.D.Iv(jK*G+1,jK*Q,jn,128,128)}else{dC=jn[aZ*dP+eo];
hG=jn[k8*dP+eo];dy=jn[aZ*dP+c7]}gP[Y]=Math.max(-d5,Math.min((dy-dC)*jQ,d5));ky[Y]=Math.max(-d5,Math.min((hG-dC)*jQ,d5))}}if(c=="Txtz")gL.ay7(gP,ky,ay,n,6);
else gL.JI(gP,ky,ay,n,c=="Txtz"?1:c=="OcnR"?3.5/jK:K.Smth.v);if(c=="Txtz")fw=K.InvT.v?-1:1;else if(c=="Gls"){fw=[1,.4,.5,.5,.5,.5,.5][cy]*(Math.exp(K.Dstr.v*.155)-1);
if(K.InvT.v)fw=-fw}else{fw=.5*(Math.exp(K.RplM.v*.155)-1)}var cr=$.buffer;if(c=="Txtz"){var cR=(2+gL.qq.indexOf(K.LghD.v.LghD))*Math.PI*.25,jt=Math.cos(cR),fl=Math.sin(cR);
dM={x:jt,y:fl,iv:0};bL.zB(dM);aX=K.Rlf.v;aX=aX/4+Math.max(0,(aX-35)*2)}function fy(dW,g7,aU){var cu=a.a.overF(g7,dW,1),eQ=(1-aU)*dW+aU*(aU*g7+(1-aU)*cu);
return eQ*255}for(var Q=0;Q<l;Q++)for(var G=0;G<x;G++){var Y=Q*x+G,br=Y<<2,s=gP[Y],b3=ky[Y],dW={x:1,y:0,iv:s};
bL.zB(dW);var g7={x:0,y:1,iv:b3};bL.zB(g7);var eU=bL.aBM(dW,g7);if(c=="Txtz"){var gp=bL.ahO(eU,dM)*fw,aU=1,Z=1;
if(gp<0){Z=0;gp=-gp}aU=Math.min(1,gp*aX);cr[br+0]=~~fy(o.buffer[br]*(1/255),Z,aU);cr[br+1]=~~fy(o.buffer[br+1]*(1/255),Z,aU);
cr[br+2]=~~fy(o.buffer[br+2]*(1/255),Z,aU)}else{var f7=fw/eU.iv,d7=~~Math.max(0,Math.min(x-1,G-eU.x*f7)),aW=~~Math.max(0,Math.min(l-1,Q-eU.y*f7)),e7=aW*x+d7<<2;
cr[br+0]=o.buffer[e7];cr[br+1]=o.buffer[e7+1];cr[br+2]=o.buffer[e7+2]}}}if(c=="PntD"){var eV=K.Shrp.v*.4,b8=K.BrsT.v.BrsT,h$={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[b8],jZ=Math.round(K.Sz.v*.5);
a.Q_.fi=h$[0];a.Q_.fC(o.buffer,$.buffer,x,l,jZ,0,[]);var bu=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];bu=a.wq.Lg(bu);
var dL=$.buffer.slice(0);a.wq.Wb(dL,$.buffer,x,l,bu,0);for(var Y=0;Y<o.buffer.length;Y++){var iv=$.buffer[Y]-dL[Y];
$.buffer[Y]=Math.max(0,Math.min(255,dL[Y]+eV*iv))}}if(c=="GlwE"){var k5=$.buffer.slice(0);a.Q_.fi=.5;
a.Q_.fC(o.buffer,k5,x,l,K.Smth.v>>>1,0,[]);a.wq.azD(k5,$.buffer,x,l);a.lY($.buffer,k5);a.fH(k5);a.ms(k5,4278190080,16777215);
a.kS.atb(k5,$.buffer,x,l,(K.EdgW.v>>>1)*2+1,!0);var ir=K.EdgB.v/10;for(var Y=0;Y<k5.length;Y++){if((Y&3)==3)continue;
var cu=$.buffer[Y];$.buffer[Y]=Math.max(0,Math.min(255,cu*ir))}}if(c=="StnG"){a.zv.aA0(o.buffer,x,l,$.buffer,K.ClSz.v,[Math.round(u.Z),Math.round(u.r),Math.round(u.J)],K.BrdT.v)}if(c=="HlfS"){var az=K.HlSz.v,jj=az*2+1,hM=K.Cntr.v,je=gL.uc.indexOf(K.ScrT.v.ScrT),N=x*l,bP=N*4,bD=a.R(N),aC=o.buffer,b6=0,jH=0;
gL.Xm(aC,bD);var bV=bD.slice(0);a.kZ.awC(bV,bD,n,az);var cm=Math.PI/jj,e3=new Float64Array(x),jt=new Float64Array(x),eT=new Float64Array(2*x);
for(var G=0;G<x;G++){var eo=(G-(x>>>1))*cm;e3[G]=eo*eo;jt[G]=Math.cos(eo);var s=G<<1;eT[s]=Math.sin(s*(1/4.5));
eT[s+1]=Math.sin((s+1)*(1/4.5))}for(var Q=0;Q<l;Q++){var aZ=(Q-(l>>>1))*cm,fl=Math.cos(aZ),b_=aZ*aZ;
for(var G=0;G<x;G++){var Z=fl;if(je==0){var jc=.5+Math.sqrt(e3[G]+b_)*4.5;Z=eT[~~jc]}else if(je==1){Z=jt[G]*fl}var Y=Q*x+G,g3=bD[Y]*(.75+.25*Z),aU=aC[(Y<<2)+3]*(1/255),jD=Math.max(0,Math.min(255,~~g3));
b6+=jD*aU,jH+=aU;bD[Y]=jD}}b6/=jH;var fa=128+1.26*(b6-128),ir=.08+.25*Math.abs((128-b6)/128),a0=1+ir*hM;
for(var Y=0;Y<N;Y++){var g3=fa+(bD[Y]-fa)*a0;bD[Y]=Math.max(0,Math.min(255,~~g3))}if(hM>46)a.round(bD);
gL.OX(bD,$.buffer,u,X)}for(var Y=0;Y<o.buffer.length;Y+=4)$.buffer[Y+3]=o.buffer[Y+3]};gL.OX=function(c,o,K,u){var X=c.length,$=K.Z,O=K.r,n=K.J,x=u.Z,l=u.r,N=u.J;
for(var Y=0;Y<X;Y++){var f=c[Y]*(1/255),z=1-f,R=Y<<2;o[R]=~~($*z+x*f);o[R+1]=~~(O*z+l*f);o[R+2]=~~(n*z+N*f)}};
gL.B_=function(c){if(c==6)c=2;var o="blocks canvas frosted tinylens brick burlap".split(" ")[c];if(gL.C4==null)gL.C4=[];
if(gL.C4[c]==null){var K,u;if(c==2){u=new ez(0,0,128,128);var X=gZ.ib("AdNs");X.Mnch.v=!0;X.Dstr.v.Dstr="Gsn";
X.Nose.v.val=50;var K=a.R(u.P()*4),$=K.slice(0);new Uint32Array($.buffer).fill(4286611584);gZ.kg("AdNs",{buffer:$,rect:u},X,0,0,{buffer:K,rect:u})}else{var O=c5.OT.get("tex/"+o,!0)[0];
u=O.yS;K=new Uint8Array(O.data)}var n=a.R(u.P());a.Sw(K,n,0);gL.C4[c]=[u,n]}return gL.C4[c]};gL.JI=function(c,o,K,u,X){if(X<=1){X=Math.round(X);
gL.ay7(c,o,K,u,[1,16,4][X]);return}var $=X*.42;if(c){a.kZ.sI(c,u,$,3)}if(o){a.kZ.sI(o,u,$,3)}};gL.ay7=function(c,o,K,u,X){var $=a.wq.Lg([1,2,1,2,X,2,1,2,1]);
if(c){K.set(c);a.wq.alI(c,K,u.m,u.e,$);c.set(K)}if(o){K.set(o);a.wq.alI(o,K,u.m,u.e,$);o.set(K)}};gL.YH=function(c){if(c==null)return new kn(0,0);
var o=0,K=c.GEfs?c.GEfs.v:[{v:c}];for(var Y=0;Y<K.length;Y++){var u=K[Y].v,$=1e4;if(u.GELv&&!u.GELv.v)continue;
var X=u.GEfk.v.GEft;if(X=="GlwE"||X=="Phtc"||X=="BsRl"||X=="PlsW"||X=="Chrm"||X=="Gls"||X=="OcnR"||X=="InkO")$=0;
o=Math.max(o,$)}return new kn(o,o)};gL.a4B=function(c){var o=[0,0,0,0,0,0,0,0,0,0,0,0,0],K=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][c];
for(var Y=0;Y<13;Y++){var u=Y-6;o[Y]=1/(K*Math.sqrt(2*Math.PI))*Math.exp(-.5*(u/K)*(u/K))}return o};
gL.a1R=function(c,o,K,u,X){var $=gL.a4B(X),O=6,n=13;for(var x=0;x<u;x++)for(var l=0;l<K;l++){var N=x*K+l<<1,f=0,z=0;
for(var Y=0;Y<n;Y++){var R=l+Y-O,V=R<0?0:R>=K?K-1:R,d=(x*K+V)*2,e=$[Y];f+=e*c[d];z+=e*c[d+1]}o[N]=f;
o[N+1]=z}};gL.afb=function(c,o,K,u,X){var $=gL.a4B(X),O=6,n=13;for(var x=0;x<u;x++)for(var l=0;l<K;l++){var N=x*K+l<<1,f=0,z=0;
for(var Y=0;Y<n;Y++){var R=x+Y-O,V=R<0?0:R>=u?u-1:R,d=(V*K+l)*2,e=$[Y];f+=e*c[d];z+=e*c[d+1]}o[N]=f;
o[N+1]=z}};function ef(){}ef.fc=[2,5,5,7,4,4];ef.oj="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
ef.uR="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
ef.kp=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
ef.GI=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
ef.rI=function(c){if(c=="passThrough")return"pass";return ef.oj[ef.uR.indexOf(c)]};ef.aj=function(c){if(c=="pass")return"passThrough";
return ef.uR[ef.oj.indexOf(c)]};ef.getName=function(c){return ef.kp[ef.oj.indexOf(c)]};function gU(){this.rect=null;
this.buffer=null;this.Mh="norm";this.opacity=255;this.xQ=!1;this.lH=!1;this.Ha=0;this.r6=0;this.IW=!0;
this.aY=[];for(var Y=0;Y<10;Y++)this.aY.push(0,0,255,255);this.name=null;this.add={};this.r7=null;this._h=null;
this.F=null;this.o9=null;this.asK=30;this.Jp=null;this._Z=null;this.gr=null;this.p8=null;this.Xx=0;this.NR=!1;
this.X1=null;this.J9=new gU.YL}gU.YL=function(){this.sN=!0;this.nK=!0;this.Oe=a.R(0);this.a7s=a.R(0);
this.fL=null;this.dn={};this.ajw=null;this.VL=null;this.Ng=null;this.dS=null;this.ED=null;this.LD=null;
this.rw=null;this.e$=null;this.q3=null;this.K0=null;this._Y=null;this.V0=null;this.rM=!1};gU.YL.prototype.acj=function(){this.sN=null;
this.nK=!1;this.fL=null;this.rM=jT.lW};gU.YL.prototype.a5a=function(){bL.ag$(this.dn);this.Oe=a.R(0);
this.a7s=a.R(0);if(this.dS)this.dS.delete();if(this.ED)this.ED.delete();this.dS=null;this.ED=null;var c=[this.LD,this.rw,this.e$,this.q3,this.K0,this._Y];
for(var Y=0;Y<6;Y++)if(c[Y]!=null&&c[Y]instanceof jT.Ko)c[Y].delete();this.LD=null;this.rw=null;this.e$=null;
this.q3=null;this.K0=null;this._Y=null};gU.prototype.d=function(c){if(c==null)c=this.rect.clone();if(this.J9.fL==null)this.J9.fL=c;
else this.J9.fL=this.J9.fL.X3(c)};gU.prototype.rD=function(){return this.add.lsct==aj.cD||this.add.lsct==aj.Qw};
gU.prototype.NL=function(){var c=this.add;return c.SoCo!=null||c.GdFl!=null||c.PtFl!=null||c.vstl!=null};
gU.prototype.aia=function(){var c=this.add.lmfx;if(c==null)return;var o=["GrFl","patternFill"];for(var Y=0;
Y<o.length;Y++){var K=gH.N4[gH.order.indexOf(o[Y])],u=c[K].v;if(u.length==0)continue;for(var X=0;X<u.length;
X++){var $=u[X].v;if($.enab.v&&($.Algn==null||!$.Algn.v))this.J9.nK=!0}}};gU.prototype.azp=function(){var c=this.F,o=this.J9.sN;
if(this.NL())c=this.wD();if(!jT.lW)return c.zV();if(this.J9.ED==null||o||jT.lW!=this.J9.rM){var K=c.G5(),u=this.J9.ED,X=null;
if(o!=!0&&o!=null){X=o.clone();X.offset(-K.x,-K.y)}if(u==null||u.m!=K.m||u.e!=K.e){u=this.J9.ED=new jT.N0(K.m,K.e);
X=null}u.set(c.zV(),X)}return this.J9.ED};gU.prototype.aAz=function(c){var o=this.rect,K=this.buffer;
if(!jT.lW){var u=this.Iz(c,K,o);if(u){K=u.PX;o=u.rect}return K}if(this.J9.fL!=null||jT.lW!=this.J9.rM){var u=this.Iz(c,K,o);
if(u){K=u.PX;o=u.rect}var X=o;if(jT.lW!=this.J9.rM||this.J9.dS==null||this.J9.dS.m!=X.m||this.J9.dS.e!=X.e){if(this.J9.dS)this.J9.dS.delete();
this.J9.dS=new jT.Ko(X.m,X.e);this.J9.dS.set(K)}else{var $=this.J9.fL.clone();$.offset(-o.x,-o.y);this.J9.dS.set(K,$)}}return this.J9.dS};
gU.prototype.ir=function(){var c=this.F;if(this.NL())c=this.wD();return c!=null&&c.isEnabled&&(!c.rect.SR()||c.h0()!=255)};
gU.prototype.Iz=function(c,o,K){if(this.Fe()){var u=this.$a(c);if(u.F&&u.F.isEnabled&&(!u.F.rect.SR()||u.F.color==0)){var X=this.add.SoLd.filterFX.v;
u.F.Hj=X.filterMaskDensity?X.filterMaskDensity.v:255;u.F.ej=X.filterMaskFeather?X.filterMaskFeather.v:0;
var $=u.buffer,O=u.rect;if(O.P()<K.P()){O=K;$=a.R(O.P()*4);a.Ui(u.buffer,u.rect,$,O)}var n=u.F.U2(K);
a.fH(n);o=o.slice(0);a.a.ut($,O,o,K,n,K,0,K,1);return{PX:o,rect:K}}}};gU.prototype.a4A=function(){var c={g$:!1,jk:!1,BH:0,rE:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)c.jk=!0;if(this.wD()&&this.wD().isEnabled)c.g$=!0;if(c.g$&&c.jk){c.BH=this.wD().rect.x-this.add.vmsk.wD().rect.x;
c.rE=this.wD().rect.y-this.add.vmsk.wD().rect.y}return c};gU.prototype.Dm=function(c,o){if(gN!=0)return;
if(o&&this.wD().ej!=0){o=o.clone();var K=Math.round(this.wD().ej*2.4);o.JG(K,K)}var u=!1;if(this.add.lsct==aj.mh)return;
var X=this,$=this.wD()!=null&&this.wD().jt,O=this.add.vmsk!=null&&this.add.vmsk.jt,n=this.a4A(),x=JSON.stringify(n)!=this.J9.ajw||n.g$&&$||n.jk&&O;
if(x){if(n.jk){var l=this.add.vmsk.wD();if(n.g$){this.F=this.wD().Jv(l);this.J9.VL=new kn(this.F.rect.x-this.wD().rect.x,this.F.rect.y-this.wD().rect.y)}else this.F=l}if(this.F)u=!0;
if(this.F)this.J9.Ng=new kn(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);if(n.g$)this.wD().jt=!1;
if(n.jk)this.add.vmsk.jt=!1;this.d(o)}else{if(n.g$&&n.jk){this.F.rect.x=this.wD().rect.x+this.J9.VL.x;
this.F.rect.y=this.wD().rect.y+this.J9.VL.y}}if(X.NL()){this.CC(c)}if(X.Dc()){var N;if(this.F)N=new kn(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);
if(this.F&&this.F.isEnabled&&(this.J9.Ng==null||!N.Ug(this.J9.Ng))){this.J9.Ng=N;this.d(o);u=!0}}if(j7.get(X.add)!=null)u=!0;
if(u){var f=this.J9.sN;if(o&&f&&f!=!0)f=f.X3(o);else f=o?o:!0;this.J9.sN=f}this.J9.ajw=JSON.stringify(n)};
gU.prototype.CC=function(c){if(gN!=0)return;var o=this,K=o.add.vstk,u=new ez(0,0,c.m,c.e),X,$=o.add.vmsk?this.add.vmsk.wD():null,x=!0,f;
if($&&$.isEnabled&&$.h0()==0)X=$.G5().clone();else X=u;var O=o.wD();if(O&&O.isEnabled&&O.h0()==0)X=X.ar(o.F.G5());
var n=$&&K;if(K&&(!K.strokeEnabled.v||K.strokeStyleLineWidth.v.val==0))n=!1;if(K&&!K.fillEnabled.v&&n)x=!1;
var l=a.R(X.P()*4);if(x){if(o.add.SoCo)bL.pB(l,o.add.SoCo.Clr.v);if(o.add.GdFl){var N=$&&$.color==0?a.o.$$(o.add.vmsk.$,null,!0):null;
bL.CB(o.add.GdFl,l,X,c,null,N)}if(o.add.PtFl)bL.Cu(o.add.PtFl,l,X,c.add.Patt,o.add.fxrp)}if(n)f=gH.e_.R8.indexOf(K.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if($){var z=$.Hj;if(n)$.Hj=255;var R=a.R(X.P());if($.h0()!=0)R.fill(Math.round($.h0()));if($&&$.isEnabled){var V=$.G5(),d=$.zV();
if(V.Ug(X))a.lY(d,R);else a.qv(d,V,R,X)}if(n&&f==2){}else{if(o.add.SoCo&&x){a.bp(R,l,3)}else a.Vu(R,X,l,X)}if(n)$.Hj=z}o.buffer=l;
o.rect=X;if(n){var e=K.strokeStyleContent.v,p=gH.e_.jD.indexOf(e.classID),h=this.add.vmsk.wD(K);if(f!=0&&!o.rect.Ug(u))o.extend(o.rect.X3(h.G5()));
var z=h.Hj;h.Hj=255;var E=h.U2(o.rect);h.Hj=z;if(h.color==255)a.fH(E);var q=a.R(o.rect.P()*4);if(p==0)bL.pB(q,e.Clr.v);
if(p==1)bL.CB(e,q,o.rect,c,null,$.color==0?$.rect:null);if(p==2)bL.Cu(e,q,o.rect,c.add.Patt,o.add.fxrp);
var Z=K.strokeStyleOpacity.v.val/100;if(Z!=1)a.sh(E,Z);if(h.color==255)f=2-f;if(f<2){a.a.ut(q,o.rect,o.buffer,o.rect,E,o.rect,255,o.rect,1,!1);
if(f==0)a.L7(R,o.buffer)}if(f==2){a.L7(E,q);a.fH(R);a.a.ut(q,o.rect,o.buffer,o.rect,R,X,255,o.rect,1,!1);
a.fH(R)}if(h.Hj!=255){var v=q.slice(0);a.ms(v,4278190080,16777215);a.a.hA("norm",v,o.rect,o.buffer,o.rect,o.rect,1-h.Hj/255)}z=$.Hj;
$.Hj=255;this.a7s=$.U2(o.rect);$.Hj=z}this.d()};gU.prototype.oP=function(c,o,K,u){var X=this,$=X.add.SoLd.Idnt.v,O=X.add.SoLd,n=r.W.sS(O.nonAffineTransform),x=a.A.jl(n),l=c.rj($,O.Crop?O.Crop.v:null,[x.m,x.e],O.Impr.v.classID,K),h=null;
if(l==null)return;var N=l.Za;O.Sz.v.Wdth.v=N[1].m;O.Sz.v.Hght.v=N[1].e;if(gN!=0)return;var f=l.$M==null?O.Rslt.v.val:l.$M,z=O.quiltWarp.v;
if(a.Pw.ex(z))z=null;var R=a.D.ly(n,N[1]);if(z){var x=a.A.jl(a.Pw.N1(z)[3]),V=x.x,d=x.y,e=1/x.m,p=1/x.e;
R=a.D.ly(n);R=a.D.Jv(R,[e,0,-V*e,0,p,-d*p,0,0])}if(!o&&!X.Fe()&&z==null){var E=c.s.indexOf(X),q=gU.vX(X);
for(var Y=0;Y<E;Y++){var Z=c.s[Y];if(Z.add.SoLd&&!Z.Fe()&&gU.vX(Z)[0]==q[0]){var v=gU.vX(Z);h={buffer:Z.buffer.slice(0),rect:Z.rect.clone()};
h.rect.offset(Math.round(q[1]-v[1]),Math.round(q[2]-v[2]));break}}}if(h==null)h=r.W.QC(N,o?0:1,R,z,null,null,null,o);
if(h==null){X.buffer=a.R();X.rect=new ez}else if(X.Fe()){var W=X.$a(c);if(u){W.buffer.fill(0);a.Ui(h.buffer,h.rect,W.buffer,W.rect)}else{W.buffer=h.buffer;
W.rect=h.rect.clone()}this.MK(c,o)}else{X.buffer=h.buffer;X.rect=h.rect}X.Dm(c);X.d();c.d()};gU.vX=function(c){var o=c.add.SoLd,K=o.Idnt.v,u=r.W.sS(o.nonAffineTransform),X=a.D.ly(u,new ez(0,0,1e3,1e3)),$=o.quiltWarp.v;
if(a.Pw.ex($))$=null;return[[K,X[0],X[1],X[3],X[4],X[6],X[7],$==null].join(":"),X[2],X[5]]};gU.prototype.MK=function(c,o){if(o==null)o=!1;
var K=this.$a(c),u=this.add.SoLd.filterFX.v,X=gZ.aE3(u),$=new ez(0,0,c.m,c.e),O=K.rect.X3($),n=K.rect.clone();
n.JG(X.x,X.y);var x={buffer:null,rect:O.ar(n)};x.buffer=a.R(x.rect.P()*4);a.Ui(K.buffer,K.rect,x.buffer,x.rect);
if(u.enab.v&&o==!1){var l=u.filterFXList.v;for(var Y=0;Y<l.length;Y++){var N=l[Y].v;if(N.enab.v==!1)continue;
var f=N.blendOptions.v,z=ef.rI(f.Md.v.BlnM),R=f.Opct.v.val/100,V=a.T.h0(N.FrgC.v),d=a.T.h0(N.BckC.v),e=gZ.h4(N),p={buffer:a.R(x.buffer.length),rect:x.rect.clone()},h=N.Fltr?N.Fltr.v:null;
if(j7.N$[e]!=null){var E=j7.N$[e],q=j7.tN(E,h);if(q)j7.kg(q,x.buffer,p.buffer,x.rect)}else gZ.kg(e,x,h,V,d,p,[c.add.lnk2?c.add.lnk2:[],this.wD(),c.lr]);
if(z=="norm"&&R==1)x=p;else if(z=="norm"){a.a.ut(p.buffer,p.rect,x.buffer,x.rect,null,null,null,x.rect,R)}else{a.a.hA(z,p.buffer,p.rect,x.buffer,x.rect,x.rect,R)}}}this.rect=x.rect;
this.buffer=x.buffer;this.kj();this.d();c.d()};gU.prototype.Cd=function(c,o,K){this.X1=this.a8y(c,o,K)};
gU.prototype.oI=function(c,o){var K=this.a8y(c,o,!0);if(K==null)return null;var u={VZ:K.Xx,OQ:K.UF,rect:K.bN};
if(u.VZ==1||u.VZ==3){var X=u.rect,$=a.R(X.m*X.e*4);a.bp(u.OQ,$,0);a.bp(u.OQ,$,1);a.bp(u.OQ,$,2);a.amJ(c.u.channel,c.u.rect,$,X);
u.OQ=$}return u};gU.prototype.a8y=function(c,o,K){var u,X,$,O,n,x,l;if(this.Xx<=0){var N=a.R(this.rect.P());
a.Sw(this.buffer,N,3);u=a._M.AV(o,{channel:N,rect:this.rect},3);if(u==null)return null;var f=a.Rp(u.channel,u.rect);
O=u.rect.clone();n=this.rect.clone();X=a.R(O.P()*4);a.Ui(this.buffer,n,X,O);a.bp(u.channel,X,3);$=this.buffer.slice(0);
if(!K){var z=o.channel.slice(0);a.fH(z);a.Vu(z,o.rect,$,n)}x=this.buffer.slice(0);l=this.rect.clone()}if(this.Xx==1||this.Xx==3){var R=this.Xx==1?this.wD():this.$a(c).F;
O=o.rect.clone();n=R.rect.clone();X=R.TF(O);var $=R.channel.slice(0);if(!K)a.a.dU(R.color==255?a.JD(O.P()):a._6(O.P()),O,$,n,o.channel,O,1);
x=R.channel.slice(0);l=R.rect.clone()}return{Xx:this.Xx,UF:X,bN:O,_C:$,pa:n,XO:x,bo:l}};gU.prototype.yF=function(c,o){var K=this.X1;
if(K.Xx==0){this.rect=K.bo;this.buffer=K.XO;this.d()}if(K.Xx==1||K.Xx==3){var u=K.Xx==1?this.wD():this.$a(c).F;
u.channel=K.XO;u.rect=K.bo;if(this.Xx==1){u.jt=!0;this.Dm(c)}if(this.Xx==3)this.d()}this.X1=o};gU.prototype.t1=function(c,o){if(this.Xx<=0&&o.rect.Ug(this.rect)){var K=a.R(this.rect.P());
a.Sw(this.buffer,K,3);if(a.Ug(c.u.channel,K)){var u=this.rect,X=this.buffer;this.X1={Xx:this.Xx,UF:X.slice(0),bN:u.clone(),_C:a.R(0),pa:new ez,XO:a.R(0),bo:new ez};
return!0}}var $=this.X1;if($==null)return!1;if($.Xx!=this.Xx)return!1;if(!o.rect.Ug($.bN))return!1;var O=$.pa.X3($.bN);
if($.Xx<=0){if(!O.Ug(this.rect))return!1;var n=a.R($.UF.length>>2);a.Sw($.UF,n,3);if(!a.Ug(o.channel,n))return!1;
var x=a.R(O.m*O.e*4);a.Ui($._C,$.pa,x,O);a.a.hA("norm",$.UF,$.bN,x,O,O,1);return a.Ug(x,this.buffer)}if($.Xx==1||$.Xx==3){var l=$.Xx==1?this.wD():this.$a(c).F;
if(!O.Ug(l.rect))return!1;var N=a.R(O.P());N.fill(l.color);a.qv($._C,$.pa,N,O);a.a.dU($.UF,$.bN,N,O,o.channel,O,1);
return a.Ug(N,l.channel)}};gU.prototype.jC=function(c,o,K,u){var X=this.X1;X.bN.offset(o,K);var $=X.pa.X3(X.bN);
if(X.Xx<=0){var O=a.R($.P()*4);a.Ui(X._C,X.pa,O,$);a.a.hA("norm",X.UF,X.bN,O,$,$,1);this.buffer=O;this.rect=$;
this.d()}else{var n=this.Xx==1?this.wD():this.$a(c).F,x=a.R($.P());x.fill(n.color);a.qv(X._C,X.pa,x,$);
a.a.dU(X.UF,X.bN,x,$,u.channel,$,1);n.channel=x;n.rect=$.clone();if(this.Xx==1){n.jt=!0;this.Dm(c)}if(this.Xx==3)this.d()}};
gU.prototype.asu=function(c){var o=[-1,0,1,2];if(c)o.push(3);if(this.F)o.push(-2);if(this.o9)o.push(-3);
return o};gU.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};gU.prototype.XK=function(cv){this.add.luni=this.name=cv};
gU.prototype.RE=function(c){var o=this.add.lnsr,K=this.add.TySh;if(o=="rend"&&K){var u=ii.lo(K.Bz);this.XK(u.slice(0,u.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
gU.prototype.IT=function(){return(this.Ha&1<<1)==0};gU.prototype.Dc=function(){return(this.Ha&1<<4)==0};
gU.prototype.cy=function(){return(this.Ha&1<<5)!=0};gU.prototype.az6=function(){var c=this;if(c.add.lnsr!="bgnd"){c.add.lnsr="bgnd";
c.XK("Background");c.add.lspf=1<<2}};gU.prototype.al0=function(){var c=this;if(c.add.lnsr=="bgnd"){delete c.add.lnsr;
c.XK("Layer 0");c.add.lspf=0}};gU.prototype.wu=function(c){var o=this.add.lspf;return o==null?!1:(o>>c&1)!=0};
gU.prototype.OG=function(c){if(c&&!this.IT())this.Ha-=2;if(!c&&this.IT())this.Ha+=2};gU.prototype.vR=function(){var c=this.add.lmfx;
if(c==null)return!1;for(var o in c){if(o=="masterFXSwitch")continue;if(o=="Scl")continue;if(o=="classID")continue;
if(c[o].v.length>0)return!0}return!1};gU.prototype.Fe=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
gU.prototype.EE=function(){var c=this.add.lmfx;if(c==null)return!1;if(!c.masterFXSwitch.v)return!1;for(var o in c){if(o=="masterFXSwitch")continue;
if(o=="Scl")continue;if(o=="classID")continue;var K=c[o].v;for(var Y=0;Y<K.length;Y++)if(K[Y].v.enab.v)return!0}return!1};
gU.prototype.wj=function(){var c=this,o=c.add.SoLd,K=c.add.TySh,u=c.add.vmsk,X=[];if(o)X=r.W.sS(o.nonAffineTransform);
if(K&&this.J9.Bp){X=a.A.W6(c.J9.Bp).j;a.A.i(X,K.i,X)}if(u)X=a.A.W6(u.a6I()).j;return X};gU.prototype.qP=function(c,o,K,u){if(gN==1)return a.A.jl(this.wj());
var X=new ez,$=this.si(c,K,u);if($.indexOf(0)!=-1)X=X.X3(this.rect);if($.indexOf(1)!=-1){var O=this.wD(),n=O.G5();
X=K&&O.h0()==0?X.SR()?n:X.ar(n):X.X3(n)}if($.indexOf(2)!=-1){var x=this.add.vmsk,l=this.add.vstk,N;if(o){if(x.s5.length>1){var f=a.o.K5(x.$,null,x.s5);
N=a.A.jl(f);if(N.SR())N=null}if(N==null)N=a.o.$$(x.$,x.g.length!=0?x.g:null)}else N=a.o.$$(x.$);if(!u&&l&&l.strokeEnabled.v){var z=l.strokeStyleLineAlignment.v.strokeStyleLineAlignment,R=l.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(z!="strokeStyleAlignInside"){var V=l.strokeStyleLineWidth.v.val;if(R=="strokeStyleMiterJoin")N=new ez(0,0,c.m,c.e);
else N.JG(V,V)}}X=X.X3(N)}if($.indexOf(3)!=-1)X=X.X3(this.$a(c).F.G5());if($.length==0&&this.NL())X=u?new ez(0,0,0,0):new ez(0,0,c.m,c.e);
return X};gU.prototype.s1=function(){var c=this.add.artb,o=c.artboardBackgroundType.v,K=0;if(o==1)K=4294967295;
else if(o==2)K=4278190080;else if(o==3)K=0;else if(o==4){K=c.Clr.v;K=255<<24|K.Bl.v<<16|K.Grn.v<<8|K.Rd.v}else throw o;
return K};gU.prototype.rA=function(){var c=this.add.artb.artboardRect.v,o=c.Btom.v,K=c.Left.v,u=c.Rght.v,top=c.Top.v;
return new ez(K,top,u-K,o-top)};gU.prototype.oW=function(c){var o=gU.i2(c);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=o};gU.i2=function(c){var o={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
o.Btom.v=c.y+c.e;o.Left.v=c.x;o.Rght.v=c.x+c.m;o.Top.v=c.y;return o};gU.prototype.si=function(c,o,K){var u=[],X=this;
if(!o&&X.NR&&K){u.push(2)}else if(X.Xx<=0||o){if(X.Dc()){if(gN==1&&X.add.TySh)u.push(0);if(gN==1&&X.add.SoLd)u.push(0);
else if(!this.rect.SR())u.push(0)}if(X.wD()&&!X.wD().rect.SR())if(X.wD().lS||o)u.push(1);if(X.add.vmsk)if(X.add.vmsk.lS||o)u.push(2);
if(X.Fe()&&X.$a(c).F&&!X.$a(c).F.rect.SR())u.push(3)}else if(X.Xx==1){u.push(1);if(X.wD().lS&&!X.wD().rect.SR()){if(X.Dc())if(!this.rect.SR())u.push(0);
if(X.add.vmsk)if(X.add.vmsk.lS)u.push(2)}}else if(X.Xx==3&&!X.$a(c).F.rect.SR())u.push(3);if(X.add.artb&&u.indexOf(0)==-1)u.push(0);
u.sort();return u};gU.prototype.wD=function(){var c=this;return c.o9?c.o9:c.add.vmsk&&c.add.vmsk.isEnabled?null:c.F};
gU.prototype.$a=function(c){var o=this.add.SoLd.placed.v,K=c.add.FEid;if(K==null)return null;for(var Y=0;
Y<K.length;Y++)if(K[Y].id==o)return K[Y];return null};gU.prototype.extend=function(c){a.a7X(this,c)};
gU.prototype.aeo=function(c,o,K){var u=c.clone();if(this.EE()){var X=this.add.lmfx,$=o.root.g4(o.s.indexOf(this)),O=X.gradientFillMulti.v,n=!1;
for(var Y=0;Y<O.length;Y++)if(O[Y].v.enab.v&&O[Y].v.Algn.v)n=!0;if(n)u=u.X3($.G5(o,!1));var x=bL.aq3(this.add.lmfx,o,K);
u.offset(x.x,x.y);u.m+=x.m;u.e+=x.e}return u};gU.prototype.kj=function(){if(this.Dc())a.au(this);var c=this.wD();
if(c)c.kj()};gU.prototype.clone=function(){var c=new gU;c.rect=this.rect.clone();c.buffer=this.buffer.slice(0);
c.Mh=this.Mh;c.opacity=this.opacity;c.xQ=this.xQ;c.Ha=this.Ha;c.name=this.name;c.aY=this.aY.slice(0);
if(this.F)c.F=this.F.clone();if(this.o9)c.o9=this.o9.clone();for(var o in this.add)c.add[o]=eW.clone(o,this.add[o]);
return c};gU.prototype.Ql=function(c){var o=this;if(o.add.TySh)delete o.add.TySh;if(o.add.SoLd){var K=this.Iz(c,this.buffer,this.rect);
if(K){this.buffer=K.PX;this.rect=K.rect;this.d()}delete o.add.SoLd}if(o.add.SoCo||o.add.GdFl||o.add.PtFl){if(o.add.vogk)delete o.add.vogk;
if(o.add.SoCo)delete o.add.SoCo;if(o.add.GdFl)delete o.add.GdFl;if(o.add.PtFl)delete o.add.PtFl;if(o.add.vmsk){console.log(o.o9,o.F);
delete o.add.vmsk;if(o.o9==null&&o.F)delete o.F;else if(o.o9!=null&&o.F!=null){o.F=o.o9;delete o.o9}}}if(!o.rD()&&j7.get(o.add)==null&&!this.Dc())this.Ha-=16};
gU.prototype.v4=function(c){var o=255,K=0;if(c==2){var u=this.add.SoLd.filterFX.v;if(u.filterMaskDensity)o=u.filterMaskDensity.v;
if(u.filterMaskFeather)K=u.filterMaskFeather.v}else{var X=c==0?this.wD():this.add.vmsk;o=X.Hj;K=X.ej}return{MX:c,AN:o,DV:K}};
gU.prototype.aj2=function(c){if(c.MX==2){var o=this.add.SoLd.filterFX.v;if(c.AN==255)delete o.filterMaskDensity;
else o.filterMaskDensity={t:"long",v:c.AN};if(c.DV==0)delete o.filterMaskFeather;else o.filterMaskFeather={t:"doub",v:c.DV};
this.d()}else{var K=c.MX==0?this.wD():this.add.vmsk;K.Hj=c.AN;K.ej=c.DV;K.jt=!0}};gU.prototype.$h=function(){var c=this,o=c.add.vmsk;
if(o==null)return;c.add.vogk=a.O9.ae4(o.$)};gU.$h=function(c){var o=[],K=a.o.mn(c);for(var u=0;u<K;u++)o.push(a.O9._6());
return o};var aj={_c:0,cD:1,Qw:2,mh:3};gU.bQ=function(){this.name="Mask";this.nd=!1;this.A8={Z:255,r:0,J:0};
this.E1=50;this.RL=0;this.color=255;this.lS=!0;this.isEnabled=!0;this.CT=!1;this.Hj=255;this.ej=0;this.rect=new ez;
this.channel=a.R(0);this.Rl=null;this.aml=null;this.jt=!0};gU.bQ.prototype.Jv=function(c){if(!this.isEnabled)return c;
var o=new gU.bQ;o.color=Math.round(this.h0()*c.h0()/255);if(this.h0()==0&&c.h0()==0)o.rect=this.G5().ar(c.G5());
else if(c.h0()==0)o.rect=c.G5().clone();else if(this.h0()==0)o.rect=this.G5().clone();else o.rect=this.G5().X3(c.G5());
o.channel=this.U2(o.rect);o.Hj=255;o.ej=0;var K=c.U2(o.rect);a.aqC(K,o.rect,o.channel,o.rect);return o};
gU.bQ.prototype.G5=function(){if(this.ej==0)return this.rect;var c=Math.ceil(this.ej*2.2),o=this.rect.clone();
if(o.y==0){if(o.x==0)o.m+=c;else o.JG(c,0);o.e+=c}else o.JG(c,c);return o};gU.bQ.prototype.zV=function(){if(this.ej==0&&this.Hj==255)return this.channel;
if(this.ej==0){var c=this.channel.slice(0);a.fH(c);a.sh(c,this.Hj/255);a.fH(c);return c}var o=this.G5(),K=this.TF(o),c=a.R(o.P());
a.kZ.mA(K,c,o,this.ej);if(this.Hj!=255){a.fH(c);a.sh(c,this.Hj/255);a.fH(c)}return c};gU.bQ.prototype.h0=function(){return Math.round(255-(255-this.color)*(this.Hj/255))};
gU.bQ.prototype.extend=function(c){a.extend(this,c,this.color)};gU.bQ.prototype.kj=function(){if(this.color==255)a.fH(this.channel);
a.kj(this);if(this.color==255)a.fH(this.channel)};gU.bQ.prototype.clone=function(){var c=new gU.bQ;c.name=this.name;
c.nd=this.nd;c.A8=this.A8;c.E1=this.E1;c.RL=this.RL;c.color=this.color;c.lS=this.lS;c.isEnabled=this.isEnabled;
c.CT=this.CT;c.Hj=this.Hj;c.ej=this.ej;c.rect=this.rect.clone();c.channel=this.channel.slice(0);return c};
gU.bQ.prototype.TF=function(c,o){if(o==null)o=a.R(c.P());o.fill(this.color);a.qv(this.channel,this.rect,o,c);
return o};gU.bQ.prototype.U2=function(c,o){var K=this.G5(),u=this.zV();if(o==null)o=a.R(c.P());o.fill(this.h0());
a.qv(u,K,o,c);return o};gU.JA=function(){this.lS=!0;this.isEnabled=!0;this.Hj=255;this.ej=0;this.JR=0;
this.cS=0;this.$=[{type:6},{type:8,all:0}];this.$C=[-3,-3];this.GL=!1;this.o9=null;this.jt=!0;this.g=[];
this.s5=[]};gU.JA.prototype.a6I=function(c){var o=gU.JA.qA(this.$),K=new bE;if(c)K.rotate(-this.JR);
a.o.Ik(o,K);return a.o.$$(o)};gU.JA.prototype.afu=function(){var c=this.a6I(!0),o=a.A.W6(c).j,K=new bE;
K.rotate(this.JR);a.A.i(o,K,o);return o};gU.JA.prototype.offset=function(c,o){this.o9=this.wD();a.o.Ik(this.$,new bE(1,0,0,1,c,o));
this.o9.rect.offset(c,o)};gU.JA.prototype.wD=function(c){if(!this.jt&&this.o9&&c==null){this.o9.isEnabled=this.isEnabled;
return this.o9}var o=a.o.$$(this.$),K="strokeStyleLineAlignment",u="strokeStyleLineJoinType";if(o.P()>2e4*2e4)o=new ez(0,0,100,100);
if(c&&c[K].v[K]!="strokeStyleAlignInside"){var X=1;if(c[u].v[u]=="strokeStyleMiterJoin"){var $=a.o.a66(this.$),O=$/2,n=Math.sin(O),x=Math.cos(O);
x/=n;n=1;var X=Math.sqrt(x*x+n*n);if(isNaN(X)||X<1)X=1}X*=c[K].v[K]=="strokeStyleAlignOutside"?1:.5;
var l=Math.ceil(c.strokeStyleLineWidth.v.val*X);l=Math.min(l,600);o.JG(l,l)}o=a.A.Qt(o);var N=new gU.bQ;
N.color=a.o.zQ(this.$)?0:255;N.lS=this.lS;N.isEnabled=this.isEnabled;N.CT=!0;N.rect=o;N.Hj=this.Hj;N.ej=this.ej;
N.channel=a.R(N.rect.P());if(!o.SR())a.o.avm(this.$,N.channel,N.rect,c);if(c==null){this.o9=N;this.jt=!1}return N};
gU.JA.prototype.clone=function(){var c=new gU.JA;c.lS=this.lS;c.isEnabled=this.isEnabled;c.Hj=this.Hj;
c.ej=this.ej;c.JR=this.JR;c.$=gU.JA.qA(this.$);c.$C=this.$C.slice(0);c.GL=this.GL;c.g=this.g.slice(0);
c.s5=this.s5.slice(0);return c};gU.JA.prototype.concat=function(c){var o=c.$.slice(2);if(o.length==0)return;
o[0].cS=3;this.$=this.$.concat(o)};gU.JA.qA=function(c){var o=[];for(var Y=0;Y<c.length;Y++){var K=c[Y];
if(K.type>5||K.type==0||K.type==3)o.push(JSON.parse(JSON.stringify(K)));else o.push({type:K.type,mL:K.mL.clone(),L:K.L.clone(),oC:K.oC.clone()})}return o};
gU.JA.abP=function(c,o,K){if(c.length!=o.length)return!1;for(var Y=2;Y<c.length;Y++){var u=c[Y],X=o[Y];
if(u.type!=X.type)return!1;if(u.type==0||u.type==3){if(u.length!=X.length||!K&&u.cS!=X.cS)return!1}else if(!u.mL.Ug(X.mL)||!u.L.Ug(X.L)||!u.oC.Ug(X.oC))return!1}return!0};
gU.JA.prototype.amu=function(){var c=this.$;for(var Y=3;Y<c.length;Y++)if(c[Y].type==0||c[Y].type==3)c[Y].cS=-1};
gU.dD=function(){this.type=null;this.eE=2;this.Il=null;this.fp="";this.KO="";this.qt="";this.open=0;
this.raw=null;this.Za=null;this.auH="";this._K=!1};gU.dD.prototype.clone=function(){var c=new gU.dD;
c.type=this.type;c.eE=this.eE;c.Il=this.Il;c.fp=this.fp;c.KO=this.KO;c.qt=this.qt;c.open=this.open;c.raw=new Uint8Array(this.raw.buffer.slice(0));
return c};gU.dD.prototype.i9=function(c,o,K,u,X){if(K==null)K="none";var $=this,O=c5.c5($.raw.buffer),n=O=="svg"||O=="pdf"||O=="ai";
if($.Za){var x=o&&n&&Math.max($.Za[1].m,$.Za[1].e)<Math.max(o[0],o[1]);if(!x&&K==this.auH&&!$._K)return}this.auH=K;
if(!n)c=0;if(O==null){alert("Unsupported format: "+_.MQ($.raw,0,4));return null}var l=c5.nq(O);if(l.zi){var N=new h_(name+(O=="psd"?"":"-"+O)+".psd"),f;
l.gP($.raw.buffer,N,o);var z=new ez(0,0,N.m,N.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(K)!=-1){var R=[];
for(var Y=0;Y<N.s.length;Y++){var V=N.s[Y],d=V.buffer;if(!V.rect.Ug(z)){d=a.R(z.P()*4);a.Ui(V.buffer,V.rect,d,z);
console.log("resizing")}R.push(d)}f=a.R(z.P()*4);a.stack.stack(R,f,K)}else{for(var Y=0;Y<N.s.length;
Y++)if(N.s[Y].NL())N.s[Y].Dm(N);if(u&&N._K){var e=hb.t0(N,u,X);$._K=!e;if(e)hb.Bw(N,u,X)}N.HR();N.d();
N.Lx();f=N.i9()}$.Za=[f,z];$.$M=N.$M!=null&&N.$M!=0?N.$M:72}else if(l){var p=l.gP($.raw.buffer)[0];$.Za=[new Uint8Array(p.data),p.yS];
$.$M=p.$M!=null&&p.$M!=0?p.$M:72}if($.Za){if(c==1){var d=$.Za[0],h=$.Za[1],E=a.R(h.P());a.Sw(d,E,3);
var q=a.Rp(E,h),Z=a.R(q.P()*4);a.Ui(d,h,Z,q);q.x=q.y=0;$.Za=[Z,q]}a.hR($.Za)}};gU.vi="0";gU.Zv="2";gU.sd="2.5";
gU.j_="2.6";gU.tP="3";gU.fy="4";gU.M8="4.5";gU.aBn="4.6";gU.arT="5";gU.LX="5.5";gU.xP="6";gU.aDt="7";
gU.ajV="8";gU.UB="9";gU.y5="9.3";gU.auk="9.5";gU.pd="9.6";gU.H_="10";gU.fX="11";gU.DZ="12";gU.a0="13";
gU.rP="13.1";gU.aoz="13.2";gU._t="13.3";gU.oK="13.4";gU.bg="14";gU.Og="14.1";gU.$g="14.2";gU.uu="14.3";
gU.qJ="17";gU.EX="18";gU.ah0="19";gU.gQ="19.5";gU.Xa="19.6";gU.P2="19.7";gU.vU="19.8";gU.f3="20";gU.qp="21";
gU.Ej="21.5";gU.R_="22";gU.nz="22.5";gU.pO="23";gU.a8L="24";gU.rg="25";gU.amv="26";gU.acN="27";gU.bd="28";
gU.cs="29";gU.WM="30";gU.Ru="31";gU.SA="32";gU.w$="33";gU.w3="34";gU.Pm="35";gU.BF="36";gU.dg="36.5";
gU.ub="37";gU.cB="37.5";gU.aoW="37.6";gU.c6="38";gU.eY="38.5";gU.ZF="38.6";gU.LS="39";gU.ka="40";gU.anE="41";
gU.Bk="42";gU.Ee="50";gU.Qm="51";gU.HB="52";gU.Eu="53";gU.yT="54";gU.aa0="54.5";gU.Tg="54.6";gU.au3="54.7";
gU.qQ="54.8";gU.Nl="55";gU.Ok="56";gU.Z3="57";gU.D_="58";gU.$K="59";gU.ml="60";function km(){this.depth=0;
this.index=-1;this.l=null;this.a0t=null;this.ON=-1;this.children=null;this.parent=null;this.WB=null}km.prototype.aDq=function(c,o){if(this.depth!=0)c.push(this.l.getName());
if(this.children)for(var Y=0;Y<this.children.length;Y++)this.children[Y].aDq(c,o);if(c.length>o.NT.length)o.NT=c.slice(0);
if(this.depth!=0)c.pop()};km.prototype.anw=function(){var c=0;if(this.l.rD()){for(var Y=0;Y<this.children.length;
Y++)c+=this.children[Y].anw()}else if(this.l.buffer)c+=this.l.buffer.length;return c};km.prototype.g4=function(c){var o=this.WB[c];
return this.WB[c]};km.prototype.a5S=function(c,o){var K=this.l;if(!K.IT()||K.wu(2)||K.wu(31))return null;
if(K.ir()){var u=K.F.rect.Yd(c);if(!u&&K.F.color==0)return}if(K.rD()){for(var Y=0;Y<this.children.length;
Y++){var cv=this.children[Y];cv.a5S(c,o)}}else if(gN==1){var X=K.wj();if(c.Yd(a.A.jl(X))&&o.indexOf(this.index)==-1)o.push(this.index)}else if(K.rect.Yd(c))o.push(this.index)};
km.prototype.cQ=function(c,o){var K=this.l;if(!K.IT()||K.wu(2)||K.wu(31))return null;if(K.ir()){if(K.F.rect.Y3(c)){if(!a.cQ(c,K.F.channel,K.F.rect))return null}else if(K.F.color==0)return null}if(K.rD()){if(K.add.artb&&!K.rA().Y3(c))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var cv=this.children[Y],u=cv.cQ(c,o);if(u&&o==null)return u}return null}else if(gN==1){if(K.add.vmsk){var X=K.add.vstk,$=!X.fillEnabled.v&&!K.lH,O=X.strokeStyleLineWidth.v.val*.5,n=a.o.cQ(K.add.vmsk.$,c,$,O);
return n.wM==-1?null:this}var x=K.wj();if(iy.CZ(x,c.x,c.y))return this}else if(K.add.TySh&&K.rect.Y3(c)||a.azN(c,K.buffer,K.rect)){if(o==null)return this;
else o.push(this.index)}return null};km.prototype.aAb=function(c){var o=this.l;if(!o.IT()||o.wu(2)||o.wu(31))return null;
var K=o.add.vmsk;if(K&&K.isEnabled){var u=a.o.cQ(K.$,c).wM;if(u!=-1)return{ajK:this,aAf:u}}if(o.rD()){if(o.add.artb&&!o.rA().Y3(c))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var cv=this.children[Y],X=cv.aAb(c);if(X)return X}return null}return null};
km.prototype.XB=function(c,o){c.push(this.index);if(this.l.rD()){c.push(this.ON);if(o)if(this.l.Xx==1&&this.l.wD().lS==!1)return;
for(var Y=0;Y<this.children.length;Y++)this.children[Y].XB(c)}};km.AD=function(){var c=document.createElement("canvas");
return c.getContext("2d")};km.a1H=function(c,o){var K,u;if(c.m>c.e){K=o;u=Math.floor(o*(c.e/c.m))}else{K=Math.floor(o*(c.m/c.e));
u=o}return new kn(K,u)};km.hm=32;km.y2=1;km.prototype.Zq=function(c,o,K){var u=km.y2,X=this.l;if(X.rD()&&X.add.artb!=null)o=X.rA();
var $=u==0?X.rect:o;if($.SR()||X.add.TySh)$=o;var O=km.hm*r.Sm(),n=km.a1H($,O),x=n.x,l=n.y,N=km.a1H(o,O);
if(X.NL()&&X.add.vmsk==null||X.add.TySh)x=l=Math.max(l,16);else if(X.rD()){x=l=Math.round(18*r.Sm())}else{x=Math.max(x,6);
l=Math.max(l,6)}if(K&&X.Jp==null){X.Jp=km.AD();X._Z=km.AD();X.gr=km.AD();X.p8=km.AD()}var f=X.NL()&&X.add.vmsk;
if(f){if(K&&X.add.vstk)a.nS.jO(X.Jp,x,l,$,X.buffer,X.rect,!1,null,!X.add.vstk.fillEnabled.v&&!X.add.vstk.strokeEnabled.v);
if(K)a.nS.aDW(X.Jp,x,l)}else if(X.add.TySh){if(K)a.nS.auD(X.Jp,l,l,X.add.TySh)}else if(X.add.SoCo){if(K)a.nS.aE1(X.Jp,l,l,X.add.SoCo)}else if(X.add.GdFl){if(K)a.nS.au4(X.Jp,l,l,X.add.GdFl)}else if(X.add.PtFl){if(K)a.nS.alB(X.Jp,l,l,X.add.PtFl,c)}else if(j7.get(X.add)!=null){if(K)a.nS.aBO(X.Jp,l,l,X.add)}else if(X.add.SoLd){if(K)a.nS.jO(X.Jp,x,l,$,X.buffer,X.rect,!1);
if(K)a.nS.a0I(X.Jp,x,l,X.add.SoLd)}else if(X.rD()){}else{if(K){if(X.Dc())a.nS.jO(X.Jp,x,l,$,X.buffer,X.rect,!1);
else{a.nS.ajB(X.Jp,l,l)}}}var z=X.wD();if(K){if(z)a.nS.WK(X._Z,N.x,N.y,o,z);if(X.Fe()&&X.$a(c)&&X.$a(c).F){var R=X.$a(c).F;
a.nS.WK(X.p8,N.x,N.y,o,R)}if(!f&&X.add.vmsk){a.nS.WK(X.gr,N.x,N.y,o,X.add.vmsk.wD(),!0)}}if(z||X.add.vmsk)l=Math.max(l,N.y);
X.asK=Math.max(l,16);if(K!=!0&&X.rD()&&(X.add.lsct==aj.cD||c.s.length<4e3))for(var Y=0;Y<this.children.length;
Y++)this.children[Y].Zq(c,o)};km.prototype.aDu=function(c,o,K,u){this.depth=K;var X=c[o];if(u==null)u=[];
this.WB=u;if(X.add.lsct==aj.mh){this.a0t=X;this.ON=o-1;this.children=[];var Y=o+1;while(!0){var $=c[Y];
if($==null)console.log(Y,c.length);if($.add.lsct==aj.cD||$.add.lsct==aj.Qw){if(X.add.lyid==$.add.lyid)X.add.lyid+=16777215;
this.l=$;this.index=Y-1;u[this.index]=this;u[o-1]=this;break}var O=new km;O.parent=this;Y=O.aDu(c,Y,K+1,u);
this.children.push(O)}return Y+1}else{this.l=X;this.index=o-1;u[this.index]=this;return o+1}};km.prototype.lz=function(c,o,K,u){var X=this.g4(K),$=c;
while(X.parent!=null){$=X.l.aeo($,o,u);X=X.parent}return $};km.prototype.G5=function(c,o){var K=this.l,u=new ez;
if(!K.IT())return u;var X=K.wD();if(K.rD())for(var Y=0;Y<this.children.length;Y++){var $=this.children[Y].G5(c,!0);
u=u.X3($)}else if(j7.get(K.add)!=null)u=K.ir()&&K.F.color==0?K.F.G5().clone():new ez(0,0,c.m,c.e);else if(K.NL()&&K.add.vmsk&&K.add.vmsk.isEnabled&&K.add.vstk){u=K.rect.clone()}else if(K.NL()&&X&&X.isEnabled&&X.h0()!=0)u=new ez(0,0,c.m,c.e);
else{u=K.qP(c,!1,!0);if(K.add.vmsk)u=a.A.Qt(u)}return o?K.aeo(u,c):u};km.ge={delete:function(c){if(c&&c.m)c.delete()},R:function(c,o){return jT.lW?new jT.Ko(c,o):a.R(c*o*4)},w7:function(c,o,K){if(jT.lW){if(c==null||c.m!=o||c.e!=K){km.ge.delete(c);
return new jT.Ko(o,K)}}else{if(c==null||!(c instanceof Uint8Array)||c.length!=o*K*4){km.ge.delete(c);
return a.R(o*K*4)}}return c},qv:function(c,o,K,u,X){(jT.lW?jT.WC:a.Ui)(c,o,K,u,X)},ut:function(c,o,K,u,X,$,O,n,Y,x,l){(jT.lW?jT.a.K3:a.a.ut)(c,o,K,u,X,$,O,n,Y,x,l)},a2d:function(c,o,K,u,X,$,O,n){var x=K.clone(),l=X.m,N=X.e,f=x.x,z=x.y,R=x.x+x.m>l?-1:0,V=x.x<0?2:1,d=x.y+x.e>N?-1:0,e=x.y<0?2:1;
for(var p=d;p<e;p++)for(var h=R;h<V;h++){x.x=f+h*l;x.y=z+p*N;km.ge.hA(c,o,x,u,X,$,O,n)}},hA:function(c,o,K,u,X,$,O,n){if(jT.lW)jT.a.a8d(c,o,K,u,X,$,O,n);
else a.a.hA(c,o,K,u,X,$,O,n)},ms:function(c,o,K){if(jT.lW){jT.Gf(c);jT.En(o,K)}else a.ms(c,o,K)},aDs:function(c,o,K,u,X){if(jT.lW){jT.a.K3(null,null,u,X,c,o,K,X,1,!1)}else{if(K==255)a.Vu(c,o,u,X);
else{var $=a.R(o.P());a.wP(u,X,$,o);a._u(c,$);a.ms(u,0,16777215);a.amJ($,o,u,X)}}},z1:function(c,o,K,u){if(jT.lW)jT.a.K3(null,null,K,u,c,o,0,u,1,!1);
else a.z1(c,o,K,u)}};km.prototype.XS=function(c,o,K,u,X,$){var O=typeof $=="number";if(!this.l.rD()&&(O&&this.index>$||!O&&$.indexOf(this.index)==-1)){return}var n=this.l,x=bL.s7(n),l=km.ge,N=n.NL()?n.wD():n.F;
if(!n.IT())return;if(n.ir()&&N.rect.SR()&&N.h0()==0){return}if(n.add.vstk==null&&this.G5(u,!1).SR()){return}if(n.NL()&&n.rect.SR())return;
var f=this.G5(u,!0).ar(K);if(!o.Ug(K)&&!K.Yd(f))return;if(n.rD()&&n.add.artb){var z=n.rA();K=K.ar(z)}var R=km.af_(n,X,x);
if(!R){this.anB(c,o,K,u,X,$);return}n.J9.LD=l.w7(n.J9.LD,f.m,f.e);l.qv(c,o,n.J9.LD,f,K);this.anB(n.J9.LD,f,K,u,X,$);
l.ut(n.J9.LD,f,c,o,null,null,0,K,n.opacity/255,n.Mh=="diss",x.UI)};km.af_=function(c,o,K){if(K.UI[0]*K.UI[1]*K.UI[2]==0)return!0;
return c.opacity!=255&&(o.length!=0||c.rD()||c.EE())};km.ajZ={J9:{}};km.prototype.anB=function(c,o,K,u,X,$){var O=this.l,n=bL.s7(O),x=j7.get(O.add)!=null,l=km.ge,N=km.af_(O,X,n),f=N?1:O.opacity/255,z=O.NL()?O.wD():O.F,R=O.rD()&&n.st==null&&(O.Mh=="pass"||O.add.artb)&&!(X.length>0||n.fill!=1||O.EE()),V=!O.rD()&&!x&&!O.EE()&&X.length==0,d=x&&!O.EE()&&X.length==0,Z=null,v=null,W=null,w;
if(R||V||d){var e=c,p=o;if(O.ir()){p=this.G5(u,!1);e=O.J9.q3=l.w7(O.J9.q3,p.m,p.e);l.qv(c,o,O.J9.q3,p)}if(R)this.uU(e,p,K,u,$);
if(V)l.hA(O.Mh,O.aAz(u),O.rect,e,p,K,f,n);if(d){var h=O.ir()&&z.h0()==0?z.G5().clone():p.clone(),E=O.J9;
if(h.Ug(new ez(0,0,u.m,u.e)))E=km.ajZ;E.e$=this.apx(e,p,E.e$,h,O.add);n.$i=!0;l.hA(O.Mh,E.e$,h,e,p,K,f,n)}if(O.ir())l.ut(e,p,c,o,O.azp(),z.G5(),z.h0(),K,1,O.Mh=="diss");
O.J9.acj();return}var q=O.rD()&&O.Mh=="pass"&&(X.length>0||n.fill!=1||O.EE()),h=O.rect;if(O.rD()){h=this.G5(u,!1);
W=O.J9.e$=l.w7(O.J9.e$,h.m,h.e);l.ms(W,0);this.uU(W,h,h,u,$);v=l.w7(O.J9.rw,h.m,h.e);l.qv(W,h,v,h)}else if(x){h=O.ir()&&z.h0()==0?z.G5().clone():o.clone();
v=l.w7(O.J9.rw,h.m,h.e);l.ms(v,4294967295)}else{h=O.rect;Z=O.aAz(u);v=l.w7(O.J9.rw,h.m,h.e);l.qv(Z,h,v,h)}O.J9.rw=v;
if(O.ir())l.aDs(O.azp(),z.G5(),z.h0(),v,h);if(O.EE())if(O.J9.fL||O.J9.nK||O.J9.rM!=jT.lW||O.J9.sN||O.rD()){var D=O.add.vmsk,I=a.R(h.P());
if(bL.azZ(O.add.lmfx)){if(jT.lW){if(!O.rD()&&O.wD()==null&&O.rect.Ug(h)&&D==null)a.Sw(O.buffer,I,3);
else{var A=a.R(h.P()*4);v.get(A);a.Sw(A,I,3)}}else a.Sw(v,I,3)}if(O.J9.nK||O.J9.rM!=jT.lW||!a.Ug(I,O.J9.Oe)){var U=null;
if(O.NL()&&D&&D.isEnabled&&D.wD().color==0)U=D.wD().rect;bL.ag$(O.J9.dn);O.J9.dn=bL.aib(I,h,O.add.lmfx,O.add.fxrp,u,U);
O.J9.Oe=I;O.J9.a13=h}}if(O.EE())bL.a5X(O.add.lmfx,O.J9.dn,h,c,o,K);if(O.rD()){Z=l.w7(O.J9.q3,h.m,h.e);
l.ms(Z,0);if(O.Mh=="pass")l.qv(c,o,Z,h);if(q)l.z1(W,h,Z,h);this.uU(Z,h,K,u,$);O.J9.q3=Z}if(x){Z=O.J9.q3=this.apx(c,o,O.J9.q3,h,O.add)}if(O.rD()||x)w=Z;
else{w=l.w7(O.J9.q3,h.m,h.e);l.qv(Z,h,w,h,K);O.J9.q3=w}l.ms(w,4278190080,16777215);for(var Y=0;Y<X.length;
Y++)X[Y].XS(w,h,K,u,[],$);var t=O.J9.K0=l.w7(O.J9.K0,h.m,h.e);l.qv(c,o,t,h,K);if(x)n.$i=!0;l.hA(O.Mh=="pass"?"norm":O.Mh,w,h,t,h,K,1,n);
if(O.EE()){var L=O.J9.dn.type.FrFX,J=null;if(L.length!=0){J=L[0];for(var Y=0;Y<L.length;Y++)if(L[Y].T1.m>J.T1.m)J=L[Y];
O.J9._Y=l.w7(O.J9._Y,J.T1.m,J.T1.e);l.qv(c,o,O.J9._Y,J.T1,K);O.J9.V0=l.w7(O.J9.V0,J.T1.m,J.T1.e)}bL.asT(O.add.lmfx,O.J9.dn,h,c,o,K,t,O.J9._Y,O.J9.V0,J?J.T1:null)}if(!jT.lW){var b=a.R(h.P());
a.Sw(v,b,3);v=b}l.ut(t,h,c,o,v,h,0,K,1,O.Mh=="diss");O.J9.acj()};km.prototype.apx=function(c,o,K,u,X){var $=j7.get(X),O;
if($)O=j7.tN($,X[$]);var n=km.ge;K=n.w7(K,u.m,u.e);if(!(jT.lW&&o.Ug(u)))n.qv(c,o,K,u);if(O){if(jT.lW){var x=u.clone();
x.x=x.y=0;if(o.Ug(u)){jT.Gf(K,x);j7.YD(O,c.hO,x)}else{jT.Gf(K,u);K.wC(u);j7.YD(O,K.XW,x)}}else j7.kg(O,K,K,u)}return K};
km.prototype.uU=function(c,o,K,u,X){var $=o.m,O=o.e,n=o.x,x=o.y,cv=K,l=cv.x,N=cv.y,f=-1,z=-1,R=2,V=2;
if(!u.Ku){f=z=0;R=V=1}var d=this.children;for(var Y=0;Y<d.length;Y++){var e=j7.get(d[Y].l.add)!=null,p=[];
for(var h=Y+1;h<d.length;h++)if(d[h].l.xQ)p.push(d[h]);else break;for(var E=z;E<V;E++)for(var q=f;q<R;
q++){o.x=n+q*$;o.y=x+E*O;cv.x=l+q*$;cv.y=N+E*O;if((q!=0||E!=0)&&e)continue;d[Y].XS(c,o,cv,u,p,X)}Y+=p.length}o.x=n;
o.y=x;cv.x=l;cv.y=N};function h_(c){this.Hb="psd";this.pQ=!1;this.name=c;this.HJ=-1;this.Ku=!1;this.Zk=null;
this.We=null;this.rt=null;this.Jl=null;this.m=0;this.e=0;this.buffer=null;this.s=[];this.HX={};this.add={};
this.Lm=[];this.hJ={};this.ZD=4;this.nQ=null;this.$M=72;this.VV={};this.g=[];this.qb=[];this.yn=!1;this.ni=[];
this.uW=[];this.es=[h_.OW("Work Path")];this.o3=[];this.mU=null;this.Jr={classID:"CompList",list:{t:"VlLs",v:[]}};
this.wS=[];this.s3=[];this.Tm=[];this.root=null;this.zW=null;this._K=!1;this.afv=!1;this.ahx=!1;this.LH=!1;
this.sG=!1;this.Jn=!1;this.So=!1;this.rH=!1;this.AZ=!1;this.ZL=!1;this.fL=null;this.Rz=null;this.u=null;
this.lr=[];this.LL=[];this.S={m7:{},vM:[],bF:[],yb:[],Wt:[],Nm:[],nO:null,vZ:null,A_:null,aH:null,It:null,bn:null,rW:[],Uo:[],fo:null};
this.history=[new gv([1,0],null)];this.Wi=0;this.GM=0;this.tA=0;this.XC=0;this.Q=new ej(this);this.w9=null;
this.u$=null}h_.prototype.zH=function(c){if(c){if(c.length==30240){this.zH(null);return}this.HX.r1039=c;
var o=ICC.R(c.buffer),X=null,$=17,x,l;if(o==null){this.zH(null);return}var K=o.header.spaceIn.toLowerCase(),u=JSON.stringify(o.tags.desc).toLowerCase();
try{X=ICC.U.profileName(o)}catch(ar){}if(K!="rgb "||X==null||u.indexOf("srgb")!=-1||K=="rgb "&&this.add.fcmy==1){this.zH(null);
return}console.log("We got an ICC profile!",o,X);try{var O=ICC.U.sampleLUT(o,$)}catch(ar){this.zH(null);
return}var n=O.slice(0),N=a.R(4),f=a.N9("rgbToRgbC"),z=f[2],R=f[3];for(var Y=0;Y<O.length;Y+=3){N[0]=O[Y]*255;
N[1]=O[Y+1]*255;N[2]=O[Y+2]*255;ICC.U.applyLUT(R,z,N,N);n[Y]=N[0]/255;n[Y+1]=N[1]/255;n[Y+2]=N[2]/255}if(jT.lW){x=new jT.Ko($,$*$);
x.set(ICC.U.lutToRGBA8(O,$));l=new jT.Ko($,$*$);l.set(ICC.U.lutToRGBA8(n,$))}this.w9=[c,o,$,O,x,n,l]}else{delete this.HX.r1039;
this.w9=null}};h_.prototype.Qj=function(){return this.w9};h_.prototype.bx=function(){if(this.w9)return this.w9;
if(this.add.fcmy==1){if(this.u$==null){var c=a.N9("rgbToRgbC"),o=c[2],K=c[3],u;if(jT.lW){u=new jT.Ko(o,o*o);
u.set(ICC.U.lutToRGBA8(K,o))}this.u$=[null,null,o,null,null,K,u]}return this.u$}};h_.prototype.aqs=function(){var c=this;
if(c.Q.O.join("")!="111"){c.Q.O=[1,1,1];c.Jn=!0}for(var Y=0;Y<c.s.length;Y++){var o=c.s[Y],K=o.add.vmsk;
if(o.Fe()){var u=o.$a(c);if(u&&u.F&&u.F.nd){u.F.nd=!1;c.Jn=!0}}var X=o.wD();if(X&&X.nd){X.nd=!1;c.Jn=!0}if(K){if(K.g.length!=0)K.g=[];
if(K.s5.length!=0)K.s5=[]}}};h_.prototype.Bj=function(){var c=this;return c.u!=null||c.Dr()[1].length!=0||c.g.length>1};
h_.prototype.Tf=function(){var c=this.qb,o=[];for(var Y=0;Y<c.length;Y++)o[Y]=-1;var K=this.root.children;
for(var Y=0;Y<K.length;Y++){var u=K[Y],X=u.l.add.artb;if(X==null)continue;var $=X.guideIndeces;$=$?$.v:[];
for(var O=0;O<$.length;O++)o[$[O].v]=u.index}return[JSON.parse(JSON.stringify(c)),o]};h_.prototype.$w=function(c){this.qb=JSON.parse(JSON.stringify(c[0]));
var o=c[1],K=this.root.children;for(var Y=0;Y<K.length;Y++){var u=K[Y],X=u.l.add.artb;if(X==null)continue;
X.guideIndeces={t:"VlLs",v:[]}}for(var Y=0;Y<o.length;Y++)if(o[Y]!=-1)this.s[o[Y]].add.artb.guideIndeces.v.push({t:"long",v:Y})};
h_.prototype.apg=function(c){var o=this;if(c[0])o.add.lnk2=c[0];else delete o.add.lnk2;if(c[1])o.add.FEid=c[1];
else delete o.add.FEid;if(c[2])o.add.Patt=c[2];else delete o.add.Patt};h_.prototype.a6T=function(c){var o=this,K=[],u=[],X=[],V=null,d=null,e=null;
for(var Y=0;Y<c.length;Y++){var $=c[Y];if($.add.SoLd){K.push($.add.SoLd.Idnt.v);u.push($.add.SoLd.placed.v)}if($.add.PtFl)X.push($.add.PtFl.Ptrn.v.Idnt.v);
if($.add.lmfx){for(var O=0;O<gH.N4.length;O++){var n=$.add.lmfx[gH.N4[O]].v;for(var x=0;x<n.length;x++)if(n[x].v.Ptrn){var l=n[x].v;
if(l.classID=="FrFX"&&l.PntT.v.FrFl!="Ptrn")continue;X.push(l.Ptrn.v.Idnt.v)}}}var N=$.add.vstk;if(N&&N.strokeStyleContent.v.classID=="patternLayer"){X.push(N.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var f=o.add.lnk2,z=o.add.FEid,R=o.add.Patt;
if(f){V=[];for(var Y=0;Y<f.length;Y++)if(K.indexOf(f[Y].Il)!=-1)V.push(f[Y]);if(V.length==0)V=null}if(z){d=[];
for(var Y=0;Y<z.length;Y++)if(u.indexOf(z[Y].id)!=-1)d.push(z[Y]);if(d.length==0)d=null}if(R){e=[];for(var Y=0;
Y<R.length;Y++)if(X.indexOf(R[Y].id)!=-1)e.push(R[Y]);if(e.length==0)e=null}return[V,d,e]};h_.prototype.US=function(c){var o=this,K=o.root.g4(c==null?o.g[0]:c),u=!1;
while(K.parent!=null){u=u||K.l.wu(31);K=K.parent}return u};h_.prototype._U=function(){var c=this.lr,o=this.lr.length;
if(o!=0&&c[o-1].name=="Quick Mask")return c[o-1]};h_.prototype.Vh=function(){return this.Hb==d0.Bv("% |/!)")||this.Hb==d0.hn("gP")};
h_.prototype.xl=function(c){var o=this.add.artd;if(c!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:c},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};h_.prototype.mj=function(c){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(c)==-1)this.add.FEid.push(c)};
h_.prototype.Az=function(c){var o=this.add.FEid.indexOf(c);this.add.FEid.splice(o,1);if(this.add.FEid.length==0)delete this.add.FEid};
h_.prototype.d=function(c){if(c==null)c=new ez(0,0,this.m,this.e);if(this.fL==null)this.fL=c;else this.fL=this.fL.X3(c)};
h_.prototype.a89=function(c){return this.fL!=null};h_.prototype.eu=function(c){var o=this.s[c],K=this.root.g4(c);
if(K==null)return!1;if(o.rD()||K.parent.children.indexOf(K)==0)return!1;return!0};h_.a5R=function(c){if(c.add.lnk2)for(var Y=0;
Y<c.add.lnk2.length;Y++){var o=c.add.lnk2[Y].Il;c.add.lnk2[Y].Il=h_.iE()+o.slice(8);for(var K=0;K<c.s.length;
K++){var u=c.s[K].add.SoLd;if(u&&u.Idnt.v==o)u.Idnt.v=c.add.lnk2[Y].Il}}};h_.prototype.lg=function(c,o,K){c.sort(function(f,z){return f-z});
var top=c[c.length-1],u=this.s.slice(0),X=this.g.slice(0),$=[],O=[];for(var Y=0;Y<this.s.length;Y++){if(c.indexOf(Y)!=-1)O.push(this.s[Y]);
else $.push(this.s[Y])}this.QK(O);this.g=[];var n=this.root.G5(this,!0);if(o)n=n.ar(o);if(K)n=n.X3(K);
if(n.SR())n=new ez(0,0,100,100);var x=new ez(-n.x,-n.y,this.m,this.e),l=new Uint8Array(c5.nq("PSD").nC(this,0,0,[!0,!1]));
this.QK(u);this.g=X;var N=new h_(this.s[top].getName());c5.nq("PSD").gP(l.buffer,N);delete N.add.artd;
N.ni=[];N.QK(N.s);N.$w([[],[]]);h_.a5R(N);r.zm.H3(N,n);N.d();N.Lx();N.i9();return[N,n,$,top]};h_.prototype.au9=function(c,o,K){var u=this.lg(c),X=u[0],$=u[1],O=u[2],top=u[3],n;
if(K=="jpg")n=new Uint8Array(c5.nq("JPG").nC([[X.i9().buffer]],X.m,X.e,[80]));else n=new Uint8Array(c5.nq("PSD").nC(X,null,null,[!0,!1]));
if(o)O=this.s.slice(0);var x=this.ra(n,X.name,$.x,$.y);if(top==this.s.length-1)O.push(x);else O.splice(o?top+1:top-c.length+1,0,x);
this.QK(O);this.g=[O.indexOf(x)]};h_.iE=function(c){if(c==null)c="";var o="";while(o==""||o==c){o="";
for(var Y=0;Y<8;Y++)o+=Math.floor(Math.random()*16).toString(16)}return o};h_.prototype.ci=function(c){if(c==null)return;
if(this.add.Patt==null)this.add.Patt=[];var o=this.add.Patt;for(var Y=0;Y<o.length;Y++)if(o[Y].id==c.id)return;
o.push(c)};h_.prototype.ra=function(c,o,K,u,X,$,O){if(this.add.lnk2==null)this.add.lnk2=[];var n=null;
for(var Y=0;Y<this.add.lnk2.length;Y++)if(a.Ug(c,this.add.lnk2[Y].raw)){n=this.add.lnk2[Y].Il;break}if(n==null){var x=c5.c5(c.buffer);
n=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f";var l=new gU.dD;l.Il=n;l.qt=x=="psd"?"8BIM":"    ";l.fp=o+"."+x;
l.KO=x=="psd"?"8BPB":"    ";l.open=0;l.raw=c;l.type="liFD";l.eE=2;this.add.lnk2.push(l)}var N=this.rj(n,null,null,null,$,O),f=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f",z=this.uB(),R=N?N.Za[1]:new ez;
z.XK(o);z.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:n},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:f},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:a.Pw.R(R)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:R.m},Hght:{t:"doub",v:R.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:N?N.$M:72}}};
var V=R.clone();if(K!=null)V.offset(K,u);if(N!=null&&X){var x=c5.c5(c.buffer),d=X.x,e=X.y,p=X.m,h=X.e;
V=N.Za[1].clone();V.offset(d+K,e+u);var E=E=this.$M/(x=="pdf"?144:N.$M?N.$M:this.$M);V.m=V.m*E;V.e=V.e*E;
var q=Math.max(V.m/p,V.e/h);if(q>1.0001){V.m=V.m/q;V.e=V.e/q}V.x=Math.round(d+(p-V.m)/2);V.y=Math.round(e+(h-V.e)/2)}var Z=a.A.W6(V).j;
z.add.SoLd.Trnf=r.W.yf(Z);z.add.SoLd.nonAffineTransform=r.W.yf(Z);if(N){if(X)z.oP(this,!1);else if(gN==0){z.rect=V;
z.buffer=N.Za[0].slice(0)}}return z};h_.prototype.a1f=function(c,o,K){var u=a.kW(c,o);u.save();u.scale(c/this.m,o/this.e);
this.root.acE(this,u,K,new ez(0,0,c,o));u.restore();return u.getImageData(0,0,c,o).data.buffer};h_.prototype.i9=function(c){if(c!=null){this.d();
this.Lx(c);var o=this.buffer;if(jT.lW)this.zW.get(o);else o=o.slice(0);this.d();this.Lx();return o}if(this.fL){this.Lx();
this.fL=null}if(jT.lW&&this.Rz){this.zW.get(this.buffer);this.Rz=null;this.So=!0}return this.buffer};
h_.prototype.avW=function(){for(var Y=0;Y<this.s.length;Y++)this.s[Y].aia();this.d()};h_.prototype.awn=function(){for(var Y=0;
Y<this.s.length;Y++)if(this.s[Y].add.lmfx)this.s[Y].J9.nK=!0};h_.prototype.Tv=function(){var c=this.HX.r1044;
if(c==null){c=this.HX.r1044=new Uint8Array(4);var o=0;for(var Y=0;Y<this.s.length;Y++)o=Math.max(o,this.s[Y].add.lyid);
_.nc(c,0,o)}var K=_.q(c,0);_.nc(c,0,K+1);return K+1};h_.prototype.n_=function(c,o,K){if(c==null)c=!0;
var u=this;if(u.LL.length!=0)return!0;if(u.g.length!=1){if(c)alert(u.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.yd(c,o,K)};h_.prototype.yd=function(c,o,K){if(c==null)c=!0;if(o==null)o=!1;var u=this;
if(u.LL.length!=0)return!0;for(var Y=0;Y<u.g.length;Y++){var X=u.s[u.g[Y]],$=o||X.Xx<=0;if(X.add.lsct!=null&&X.add.lsct!=aj._c&&X.Xx!=1){if(c)alert(iV.get([15,7,2]));
return!1}if($&&!X.Dc()){if(c)alert(iV.get([15,7,2]));return!1}if($&&X.add.TySh){return this.a0$(c,[15,7,3],K)}if($&&X.add.SoLd){return this.a0$(c,[15,7,4],K)}if(X.wu(1)||u.US(u.g[Y])){if(c)alert(iV.get([6,57,0]));
return!1}}return!0};h_.prototype.a0$=function(c,o,K){if(c&&typeof c=="object"){var u=new ev(y.E.M);u.data={Y:y.H.Vl,n9:"confirm"};
u.data.b=iV.get(o)+". "+iV.get([6,8])+"?";var X=c;u.data.vu=function(){var $=new ev(y.E.XV,!0);$.data={ST:"rasterizeLayer",sK:{classID:"rasterizeLayer",null:a5.Vs("Lyr",!0)}};
X.I($)};c.I(u);return!1}if(c)alert(iV.get(o));return!1};h_.prototype.aqr=function(c){var o=this.root.g4(c);
if(o.parent)return o.l.IT()&&this.aqr(o.parent.index);else return o.l.IT()};h_.prototype.bl=function(c){var o=this;
if(c){var K=0;for(var Y=0;Y<o.g.length;Y++)if(o.s[o.g[Y]].add.artb)K++;if(K>1)return-1}if(o.add.artd&&o.g.length!=0){var u=o.root.g4(o.g[0]);
while(u.parent.parent)u=u.parent;if(u.l.add.artb)return u.index}return-1};h_.prototype.e3=function(){var c=this.bl();
if(c!=-1){var o=this.s[c].rA();return new kn(o.x,o.y)}return new kn(0,0)};h_.prototype.aiP=function(){var c=this.s[this.g[0]];
if(c.Xx<=0&&!c.rect.Yd(this.u.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.u){var o=a.R(this.u.channel.length);
a.wP(c.buffer,c.rect,o,this.u.rect);a._u(this.u.channel,o);if(a.PA(o,0)){alert("Selected area is empty.");
return!1}}return!0};h_.prototype.Iy=function(){if(this.HX["r"+1037]==null)this.I5(30);return _.AU(this.HX["r"+1037],0)};
h_.prototype.I5=function(c){if(this.HX["r"+1037]==null)this.HX["r"+1037]=new Uint8Array(4);if(_.AU(this.HX["r"+1037],0)==c)return;
_.zl(this.HX["r"+1037],0,c);this.awn()};h_.prototype.MS=function(){if(this.HX["r"+1049]==null)this.Om(30);
return _.AU(this.HX["r"+1049],0)};h_.prototype.Om=function(c){if(this.HX["r"+1049]==null)this.HX["r"+1049]=new Uint8Array(4);
if(_.AU(this.HX["r"+1049],0)==c)return;_.zl(this.HX["r"+1049],0,c);this.awn()};h_.prototype.Uv=function(c){if(this.add.lnk2==null)return null;
for(var Y=0;Y<this.add.lnk2.length;Y++)if(this.add.lnk2[Y].Il==c)return this.add.lnk2[Y];return null};
h_.prototype.apm=function(c){var o=this.Uv(c);if(o==null)return!1;var K=c5.c5(o.raw.buffer);if(K==null)return!1;
if(c5.nq(K)!=null||K=="psd")return!0;return!1};h_.prototype.rj=function(c,o,K,u,X,$){var O=this.Uv(c);
if(O==null)return null;O.i9(o,K,u,X,$);if(O.Za)return O};h_.prototype.aiW=function(){var c=this.m,o=this.e;
if(jT.lW&&this.zW==null)this.zW=new jT.Ko(c,o,!0);if(this.buffer==null||this.buffer.length!=c*o*4||jT.lW&&(this.zW.m!=c||this.zW.e!=o)){this.buffer=a.R(c*o*4);
if(this.zW)this.zW.delete();if(jT.lW)this.zW=new jT.Ko(c,o,!0)}};h_.prototype.aC6=function(){this.aiW();
if(jT.lW){this.zW.set(this.buffer)}};h_.prototype.Lx=function(c){if(gN!=0)throw"redrawing in vector mode";
var o=this.m,K=this.e,u=new ez(0,0,o,K),X=this.Ku?u:u.ar(this.fL);this.aiW();if(X.SR())return;if(!X.Ug(u)){if(!jT.lW){var $=a._6(X.P()*4);
a.Ui($,X,this.buffer,u)}if(jT.lW){jT.Gf(this.zW,X);jT.En(0)}}else{if(jT.lW){this.zW.set(null)}else{this.buffer.fill(0)}}var O=Date.now(),n=jT.lW?this.zW:this.buffer;
if(c==null)c=1e9;var x=this.root.children;for(var Y=0;Y<x.length;Y++){var l=x[Y].l;if(l.IT()&&l.add.artb&&this.add.artd){var N=l.rA(),f=X.ar(N),z=l.s1();
if(z!=0){if(jT.lW){jT.Gf(n,f);jT.En(z);jT.En(z)}else a.ai0(n,u,f,z)}}}this.root.XS(n,u,X,this,[],c);
this.Rz=this.fL.clone()};h_.prototype.uB=function(c){var o=new gU;o.rect=new ez(0,0,0,0);o.buffer=a.R(1);
o.add.luni=new kn(0,0);if(c!=!0)o.add.lyid=this.Tv();o.add.lsct=aj._c;o.add.lclr=0;o.add.fxrp=new kn(0,0);
return o};h_.prototype.FL=function(c){var o=this.uB(c);o.XK("</Layer group>");o.add.lsct=aj.mh;o.Ha=24;
return o};h_.prototype.$G=function(){return this.Wi!=this.GM};h_.prototype.bs=function(c){while(this.history.length>this.Wi+1)this.history.pop();
if(this.GM>this.Wi)this.GM=-1;if(c.f.id!=r.uQ){this.LH=!0;if(this.Jr.lastAppliedComp){delete this.Jr.lastAppliedComp;
this.So=!0}}this.history.push(c);this.Wi++;this.So=!0;var o=ar.Is()?60:30,K=0;for(var Y=this.history.length-1;
Y>=0;Y--){var u=this.history[Y];if(u.gC)continue;K++;if(K==o){this.Wi-=Y;this.history=this.history.slice(Y);
break}}};h_.prototype.qF=function(){if(this.Wi!=this.history.length-1)return null;return this.history[this.history.length-1]};
h_.prototype.Dk=function(c,o,K,u){if(c==null)c=!1;var X=o!=null?[o]:this.g.slice(0);if(u){var $=[];for(var Y=0;
Y<X.length;Y++){var O=this.s[X[Y]],n=O.r6;if(O.IW&&n!=0&&$.indexOf(n)==-1)$.push(n)}if($.length!=0)for(var Y=0;
Y<this.s.length;Y++){var O=this.s[Y],n=O.r6;if(O.IW&&n!=0&&$.indexOf(n)!=-1&&X.indexOf(Y)==-1)X.push(Y)}}var x=[];
for(var Y=0;Y<X.length;Y++){var l=this.aF(X[Y],c);for(var N=0;N<l.length;N++)if(x.indexOf(l[N])==-1)x.push(l[N]);
if(K){var cv=this.root.g4(X[Y]);while(cv.parent!=null&&cv.parent.parent!=null){cv=cv.parent;if(x.indexOf(cv.index)==-1){x.push(cv.index,cv.ON)}}}}return x};
h_.prototype.Cq=function(c,o,K){var u=this,X=u.Dk(!1,c,null,K);X.sort(function(E,q){return E-q});var $={};
for(var O=0;O<u.s.length;O++){var n=u.s[O].getName();$[n]=!0}var x=[];for(var Y=0;Y<X.length;Y++){var l=u.s[X[Y]].clone(),e,p;
l.add.lyid=u.Tv();l.add.lspf=0;if(l.Fe()){var N=l.$a(u),f=h_.a3N(N);u.mj(f);l.add.SoLd.placed.v=f.id}else if(l.add.SoLd){var z=l.add.SoLd.placed.v;
l.add.SoLd.placed.v=h_.iE(z.slice(0,8))+z.slice(8)}l.Dm(u);var R=l.getName(),V=R.length;while(48<=R.charCodeAt(V-1)&&R.charCodeAt(V-1)<=57)V--;
var d=parseInt(R.slice(V));if(isNaN(d)){if(R.endsWith(" copy")){d=1;e=R.slice(0,R.length-5)}else{d=0;
e=R}}else if(R.slice(0,V).endsWith(" copy ")){d=d;e=R.slice(0,V-6)}else{d=0;e=R}d++;while(!0){p=e+" copy"+(d==1?"":" "+d);
if($[p]==null)break;d++}var h=X.indexOf(this.root.g4(X[Y]).parent.index)!=-1;if(R=="Background"&&u.s.length==1)p="Layer 1";
if(o!=!0&&!h)l.XK(p);$[p]=!0;x.push(l)}return x};h_.a3N=function(c){return{id:h_.iE(c.id.slice(0,8))+c.id.slice(8),buffer:c.buffer.slice(0),rect:c.rect.clone(),F:c.F?c.F.clone():null}};
h_.adf=function(c){return{id:c,rect:new ez,buffer:a.R(1),F:new gU.bQ}};h_.OW=function(c,o){if(o==null)o={vmsk:new gU.JA};
if(o.vogk==null){o.vogk=[];var K=a.o.mn(o.vmsk.$);for(var u=0;u<K;u++)o.vogk.push(a.O9._6())}return{name:c,wM:0,add:o}};
h_.prototype.Dr=function(c){var o=[],K=[],u=this;for(var Y=1;Y<u.es.length;Y++){var X=u.es[Y];X.wM=-1-Y;
o.push(X);if(u.o3.indexOf(Y)!=-1)K.push(o.length-1)}if(u.es[0].add.vmsk.$.length>2){var X=u.es[0];X.wM=-1;
o.push(X);if(u.o3.indexOf(0)!=-1)K.push(o.length-1)}var $=u.mU==null;if($)u.mU=[];for(var Y=u.g.length-1;
Y>=0;Y--){var O=u.g[Y],n=u.s[O],x=n.add.TySh;if(n.add.vmsk!=null){var X=h_.OW("\""+n.getName()+"\" Shape Path",n.add);
X.wM=O;o.push(X);if($&&(n.NR||n.NL()))u.mU.push(O);if(u.mU.indexOf(O)!=-1)K.push(o.length-1)}if(c!=!0&&x&&x.add&&a.Pw.ex(x.KB)){var X=h_.OW("\""+n.getName().slice(0,10)+"..\" Text Path",x.add);
X.wM=1e6+u.g[Y];o.push(X);K.push(o.length-1)}}if(K.length==0&&c){u.es[0].wM=-1;u.o3=[0];K.push(o.length);
o.push(u.es[0])}return[o,K]};h_.prototype.aF=function(Y,c){var o=[],cv=this.root.g4(Y);if(cv)cv.XB(o,c);
return o};h_.prototype.nN=function(){this.root.Zq(this,new ez(0,0,this.m,this.e))};h_.prototype.QK=function(c){for(var Y=0;
Y<this.s.length;Y++){var o=this.s[Y];if(c.indexOf(o)==-1){o.J9.a5a();o.d()}}var K=0;for(var Y=0;Y<c.length;
Y++)if(c[Y].add.artb)K++;this.xl(K);this.s=c.slice(0);this.HR()};h_.prototype.HR=function(){var c=this.s,o=c.length;
this.root=new km;var K=this.uB(!0);K.Mh="pass";K.add.lsct=aj.cD;K.XK("");var u=this.FL(!0),X=[u];for(var Y=0;
Y<o;Y++)X.push(c[Y]);X.push(K);this.root.aDu(X,0,0);if(this.g.length==0)this.g=[o-1]};h_.prototype.v_=function(){if(this.g.length!=1)return;
var c=this.root.g4(this.g[0]);while(c.parent!=null){var o=c.parent.l;o.add.lsct=aj.cD;c=c.parent}this.Jn=this.alz=!0};
h_.prototype.awj=function(){this.HR();var c=[this.root],dJ=0;while(c.length!=0){var top=c.pop();dJ++;
if(top.l.add.lsct==aj.cD)for(var Y=0;Y<top.children.length;Y++)c.push(top.children[Y])}if(dJ>1e3){var o=this.root.children;
for(var Y=0;Y<o.length;Y++)if(o[Y].l.add.lsct==aj.cD)o[Y].l.add.lsct=aj.Qw}};h_.QF=function(c,o,K,u,X,$,O,n){if(n==null)n="sRGB IEC61966-2.1";
var x={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:u},artboard:{t:"bool",v:$},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:c*72/K}},Hght:{t:"UntF",v:{type:"#Rlt",val:o*72/K}},Rslt:{t:"UntF",v:{type:"#Rsl",val:K}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:X}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:n}}}};
if(X=="Clr")x.Nw.v.FlCl={t:"Objc",v:O};return{ST:"make",sK:x}};h_.app=function(c,o){var K=0,u=0,X=72,$=o.al6,O=c.preset&&c.preset.v=="Clipboard";
if(O){K=$.m;u=$.e}else{K=c.Wdth.v.val;u=c.Hght.v.val;X=c.Rslt.v.val;K=Math.round(K*X/72);u=Math.round(u*X/72)}var n=new h_((c.Nm?c.Nm.v:iV.get([11,7]))+".psd");
n.m=K;n.e=u;n.$M=X;var x=c.Fl?c.Fl.v.Fl:"Wht";if(c.artboard&&c.artboard.v){var l=n.uB();l.XK(iV.get([1,16,0])+" 1");
l.add.lsct=aj.cD;l.oW(new ez(0,0,K,u));l.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[x]};
if(x=="Clr")l.add.artb.Clr={t:"Objc",v:a.T.mv(a.T.h0(c.FlCl.v))};l.Mh="pass";l.Ha=24;var N=n.uB();N.XK("Layer 1");
n.QK([n.FL(),N,l]);n.xl(1);n.g=[1]}else{var f=n.uB(),z=0;f.XK("Background");n.QK([f]);f.add.lspf=1<<2;
if(x=="Clr"){z=a.T.h0(c.FlCl.v);z=255<<24|Math.round(z.J)<<16|Math.round(z.r)<<8|Math.round(z.Z)}else{var R=o.th;
R=(R&255)<<16|(R>>>8&255)<<8|R>>>16;z={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|R}[x]}f.rect=new ez(0,0,K,u);
f.buffer=a.R(K*u*4);a.ms(f.buffer,z)}n.buffer=a.R(K*u*4);var V=c.profile;if(V){var d={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[V.v];
if(d)n.zH(c5.OT.get(d))}return n};h_.prototype.a8P=function(){var c=this,o=c.add.arts=[];o.push({Ek:"Artboard 1",_C:[0,0,c.m,c.e],g:!0});
if(c.buffer)c.buffer=null;for(var Y=0;Y<c.s.length;Y++){var K=c.s[Y],u=K.rect;if(K.rD()&&K.add.vmsk){var X=c.uB();
c.s.splice(Y,0,X);X.XK("<Clipping Path>");X.lH=!0;X.add.vogk=K.add.vogk;delete K.add.vogk;X.add.vmsk=K.add.vmsk;
delete K.add.vmsk;X.add.vstk=gH.e_.ib();X.add.SoCo=JSON.parse(gH.R$[gH.order.indexOf("SoFi")]);X.add.vstl={};
console.log("mask here!")}else if(K.NL()&&K.add.vstl==null){var $=gH.e_.f_(K.add.vstk),O=K.add.vstl={};
gH.Be.write(O,$,1);var n=gH.pK(K.add),x=gH.i$(K.add.vstk);for(var l=0;l<2;l++){var N=l==0?n:x,f=null;
if(N.KO==1)f=kv.$p(N.gq.Clr.v);if(N.KO==2)f=e5.Sn(N.gq,K.add.vmsk.$);if(l==0)O.QQ=f;else O.uK=f}}if(K.add.SoLd||K.add.TySh||K.add.vmsk||u.SR())continue;
var z=u.m,R=u.e,V=a.JO(K.buffer,z,R)?"JPG":"PNG";if(z*R<700*700)V="PNG";var d=c5.nq(V).nC([[K.buffer.buffer]],z,R);
c.s[Y]=c.ra(new Uint8Array(d),"<Image>",0,0)}};function ej(c){this.ff=c;this.U=0;this.aT=1;this.p=new kn(0,0);
this.yJ=new kn(0,0);this.yp=0;this.O=[1,1,1];this.KI=0;this.fE=new ez(0,0,1,1);this.aow=new ez(0,0,c.m,c.e);
this.cI=null;this.g9=null;this.lN=new Uint32Array(0);this.BC=null;this.Ce=null;this.TD=a.R(0);this.Px=null;
this.ZR=null}ej.prototype._X=function(c){var o=new bE,K=this.fE,u=this.ff,X=c?this.aT:this.U,$=c?this.yJ:this.p,O=Math.round((K.m-u.m*X)/2+$.x),n=Math.round((K.e-u.e*X)/2+$.y);
o.translate(-O,-n);o.scale(1/X,1/X);var x=u.m/2,l=u.e/2;o.translate(-x,-l);o.rotate(this.yp);o.translate(x,l);
return o};ej.prototype.a6G=function(c){var o=this.fE,K=this.ff,u=Math.atan2(-c.J,c.V),X=K.m/2,$=K.e/2;
c.translate(-X,-$);c.rotate(-u);c.translate(X,$);var O=1/c.ea();c.scale(O,O);var n=-c.hW,x=-c.qj,l=Math.round(n-(o.m-K.m*O)/2),N=Math.round(x-(o.e-K.e*O)/2);
if(Math.abs(O-Math.round(O))<1e-6)O=Math.round(O);this.yp=u;this.U=O;this.p=new kn(l,N)};ej.prototype.FT=function(c,o,K){var u=this._X(),X=u.QB(new kn(c,o));
if(K){X.x=Math.round(X.x);X.y=Math.round(X.y)}return X};ej.prototype.dV=function(c,o){var K=this._X();
K.fH();return K.QB(new kn(c,o))};function gH(){}gH.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
gH.N4="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
gH.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];gH.aa4=["DrSh","IrSh","SoFi","GrFl","FrFX"];
gH.wV=["Clr"];gH.Ty="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");gH.ne=["Ptrn","Angl","Scl","Algn","phase"];
gH.nl={hP:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aiH:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aBk:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aDL:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",ks:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
gH.nl.hP="\"Clr\": "+gH.nl.hP;gH.nl.T="\"Grad\":"+gH.nl.aiH+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
gH.nl.ks="\"Ptrn\":"+gH.nl.ks+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
gH.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
gH.R$=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+gH.nl.hP+","+gH.nl.T+","+gH.nl.ks+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gH.nl.hP+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gH.nl.T+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gH.nl.ks+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
gH.T={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
gH.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],p7:["SClr","GrFl","Ptrn"],auo:[[13,0],[12,37],[12,62]]};
gH.ix={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],asr:["SrcC","SrcE"],ayZ:[[19,5,1],[12,69]]};gH.Qa={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],apz:["SfBL","PrBL","Slmt"],a4h:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
gH.e_={wW:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],R8:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],jD:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+gH.nl.hP+"}")},strokeStyleResolution:{t:"doub",v:72}},ib:function(c,o){var K=JSON.parse(gH.e_.at9);
if(c)K.fillEnabled.v=!0;if(o)K.strokeEnabled.v=!0;return K},f_:function(c,o,K){if(o==null)o={};if(K==null)K=1;
var u=c.strokeStyleLineDashSet.v,X=o.lwidth=c.strokeStyleLineWidth.v.val*K;o.mlimit=c.strokeStyleMiterLimit.v;
o.doff=c.strokeStyleLineDashOffset.v.val;o.ljoin=gH.e_.join.indexOf(c.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
o.lcap=gH.e_.wW.indexOf(c.strokeStyleLineCapType.v.strokeStyleLineCapType);o.sal=gH.e_.R8.indexOf(c.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
o.dash=[];for(var Y=0;Y<u.length;Y++)o.dash.push(u[Y].v.val*X);if(o.dash.length==1&&o.dash[0]==0)o.dash=[];
return o},write:function(c,o,K){var u=o.lwidth,X=o.mlimit,$=o.dash,O=o.doff,n=o.ljoin,x=o.lcap;if(u!=null)u=c.strokeStyleLineWidth.v.val=Math.max(.4,u*K);
else u=c.strokeStyleLineWidth.v.val;if(X!=null)c.strokeStyleMiterLimit.v=X;if($!=null)c.strokeStyleLineDashSet.v=bL.Rr($,K/u);
if(O!=null)c.strokeStyleLineDashOffset.v.val=O;if(n!=null)c.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gH.e_.join[n];
if(x!=null)c.strokeStyleLineCapType.v.strokeStyleLineCapType=gH.e_.wW[x]}};gH.e_.at9=JSON.stringify(gH.e_.default);
gH.Be={f_:function(c,o,K){if(o==null)o={};var u=o.lwidth=c.aiz*K,X=c.b$.slice(0);for(var Y=0;Y<X.length;
Y++)X[Y]*=u;o.mlimit=c.al4;o.doff=c.a91;o.ljoin=c.a6v;o.lcap=c.akJ;o.sal=c.ai5;o.dash=X;if(o.dash.length==1&&o.dash[0]==0)o.dash=[];
return o},write:function(c,o,K){var u=o.lwidth*K,X=o.mlimit,$=o.dash.slice(0),O=o.doff,n=o.ljoin,x=o.lcap;
c.aiz=u;c.al4=X;c.b$=$;for(var Y=0;Y<$.length;Y++)$[Y]*=K/u;c.a91=O;c.a6v=n;c.akJ=x;c.ai5=1},ib:function(){return{QQ:[1,1,1],uK:[0,0,0],aiz:1,al4:0,b$:[],a91:0,a6v:0,akJ:0,ai5:1}}};
gH.i$=function(c){var o=c.strokeEnabled.v,K=c.strokeStyleContent.v;return o?{KO:1+gH.e_.jD.indexOf(K.classID),gq:K}:{KO:0}};
gH.cx=function(c,o){var K=o.KO;c.strokeEnabled.v=K!=0;if(K!=0){c.strokeStyleContent.v=o.gq;o.gq.classID=gH.e_.jD[K-1]}};
gH.pK=function(c){var o=c.vstk,K=null;if(o&&!o.fillEnabled.v)K={KO:0};else if(c.SoCo)K={KO:1,gq:c.SoCo};
else if(c.GdFl)K={KO:2,gq:c.GdFl};else if(c.PtFl)K={KO:3,gq:c.PtFl};return K};gH.mK=function(c,o){var K=c.vmsk,u=c.vstk,X=o.KO;
if(u)u.fillEnabled.v=X!=0;if(X>0){var $=["SoCo","GdFl","PtFl"][X-1];for(var Y=0;Y<3;Y++)delete c[["SoCo","GdFl","PtFl"][Y]];
c[$]=o.gq}};gH.Kw=[{classID:"null",Clr:JSON.parse(gH.R$[5]).Clr},{classID:"null",Grad:JSON.parse(gH.R$[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(gH.R$[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var bL={};bL.dN=function(c,o){function K(c,z){if(c==null||!c.masterFXSwitch.v)return null;var R=c[z].v,V;
if(R.length!=0){V=R[0].v;if(!V.enab.v)V=null}return V}var u=o.SoCo,X=o.GdFl,$=K(c,"solidFillMulti"),O=K(c,"gradientFillMulti");
if($==null&&O==null)return[u,X];var n=bL.a1j;if(u&&$&&O==null){var x=JSON.parse(JSON.stringify(u));x.Clr.v=n($.Clr.v,u.Clr.v,$);
return[x,null]}if(X&&$&&O==null){var l=JSON.parse(JSON.stringify(X)),N=l.Grad.v.Clrs.v;for(var Y=0;Y<N.length;
Y++){var f=N[Y].v.Clr;f.v=n($.Clr.v,f.v,$)}return[null,l]}if(u&&O){var l=JSON.parse(JSON.stringify(O)),N=l.Grad.v.Clrs.v;
for(var Y=0;Y<N.length;Y++){var f=N[Y].v.Clr;f.v=n(f.v,u.Clr.v,O)}return[null,l]}return[$,O]};bL.Yp={bh:a.R(4),X9:a.R(4),Z:new ez(0,0,1,1)};
bL.a1j=function(c,o,K){var u=ef.rI(K.Md.v.BlnM),X=K.Opct.v.val/100,$=bL.Yp;c=a.T.h0(c);o=a.T.h0(o);$.bh[0]=c.Z;
$.bh[1]=c.r;$.bh[2]=c.J;$.bh[3]=255;$.X9[0]=o.Z;$.X9[1]=o.r;$.X9[2]=o.J;$.X9[3]=255;a.a.hA(u,$.bh,$.Z,$.X9,$.Z,$.Z,X);
return{classID:"RGBC",Rd:{t:"doub",v:$.X9[0]},Grn:{t:"doub",v:$.X9[1]},Bl:{t:"doub",v:$.X9[2]}}};bL.aBd=function(c,o,K){var u=c;
c=c.slice(0);var X=ef.oj[ef.uR.indexOf(o.Md.v.BlnM)],$=a.T.h0(o.Clr.v),O=4278190080|Math.round($.J)<<16|Math.round($.r)<<8|Math.round($.Z),n=a.R(K.P()*4);
a.ms(n,O);a.a.hA(X,n,K,c,K,K,o.Opct.v.val/100);for(var Y=0;Y<c.length;Y+=4)c[Y+3]=u[Y+3];return c};bL.XE=function(c,o){var K=["Sz","blur","Sftn","Dstn"];
for(var Y=0;Y<gH.order.length;Y++){var u=gH.order[Y],X=c[gH.N4[Y]].v;for(var $=0;$<X.length;$++){var O=X[$].v;
for(var n=0;n<K.length;n++){var x=O[K[n]];if(x){var l=x.v.val,N=l;N=Math.max(l==0?0:1,N*o);if(u=="ChFX")N=Math.min(N,250);
if(u=="ebbl"){if(K[n]=="blur")N=Math.min(N,250);if(K[n]=="Sftn")N=Math.min(N,16)}x.v.val=Math.round(N)}}if(u=="ebbl"||u=="patternFill"||u=="FrFX")if(O.Ptrn&&O.Scl)O.Scl.v.val=Math.max(1,Math.min(1e3,O.Scl.v.val*o))}}};
bL.aq3=function(c,o,K){var u=new ez(-.5,-.5,1,1);for(var Y=0;Y<gH.order.length;Y++){var X=gH.order[Y],$=c[gH.N4[Y]].v;
for(var O=0;O<$.length;O++){var n=$[O].v,f;if(!n.enab.v)continue;var x=n.blur?n.blur.v.val+1:0,l=n.Ckmt?n.Ckmt.v.val/100:0,N=Math.round(x*l);
if(X=="DrSh"||X=="IrSh"&&K){f=new ez(-.5,-.5,1,1);f.JG(x,x);bL.W1(f,n,o,0)}if(X=="St3D"){f=new ez(-.5,-.5,1,1);
bL.W1(f,n,o,Math.PI,"Angl")}if(X=="OrGl"||X=="IrGl"&&K){f=new ez(-.5,-.5,1,1);f.JG(x,x)}if(X=="FrFX"){var z=bL.T3(n),R=z[1];
if(K)R=Math.max(z[0],R);f=new ez(-.5,-.5,1,1);f.JG(Math.ceil(R),Math.ceil(R))}if(X=="ebbl"){var x=n.blur.v.val,V=n.bvlS.v.BESl;
if(V=="Embs"||V=="PlEb")x/=2;var d=["OtrB","InrB","Embs","PlEb","strokeEmboss"],e=["SfBL","PrBL","Slmt"],p=["In","Out"],h=n.bvlT.v.bvlT!="SfBL"?x:x*.43,E=Math.round(x);
f=new ez(-E-1,-E-1,2*E+2,2*E+2)}if(K&&X=="ChFX"){f=new ez(-.5,-.5,1,1);f.JG(x,x);var q=f.clone();bL.W1(f,n,o,0);
bL.W1(q,n,o,Math.PI);f=f.X3(q)}if(f)u=u.X3(f)}}if(u.x!=Math.ceil(u.x)){u.x=Math.ceil(u.x);u.m-=1}if(u.y!=Math.ceil(u.y)){u.y=Math.ceil(u.y);
u.e-=1}u.m=Math.floor(u.m);u.e=Math.floor(u.e);return u};bL.T3=function(c){var o,K,u=0,X=0;if(c.Sz){o=c.Sz.v.val;
K=gH.stroke.types.indexOf(c.Styl.v.FStl)}else{o=c.Wdth.v;K=["Insd","Cntr","Otsd"].indexOf(c.Lctn.v.StrL)}if(K==0)u=o;
if(K==1)u=X=o/2;if(K==2)X=o;return[u,X]};bL.a4Z=function(c){if(jT.lW&&c.wX==null){c.wX=new jT.Ko(c.hx.m,c.hx.e);
c.wX.set(c.PX);delete c.PX;if(c._z){c.Fi=new jT.N0(c.hx.m,c.hx.e);c.Fi.set(c._z);delete c._z}if(c.vr){c.cj=new jT.N0(c.hx.m,c.hx.e);
c.cj.set(c.vr);delete c.vr}}};bL.aaI=function(c){if(c.wX)c.wX.delete();if(c.Fi)c.Fi.delete();if(c.cj)c.cj.delete()};
bL.ag$=function(c){if(c.all==null)return;for(var Y=0;Y<c.all.length;Y++){bL.aaI(c.all[Y])}};bL.aib=function(c,o,K,u,X,$){var O=bL.Zr(K,u,c,o,X,$);
for(var Y=0;Y<O.all.length;Y++)bL.a4Z(O.all[Y]);return O};bL.azZ=function(c){for(var Y=0;Y<gH.order.length;
Y++){var o=gH.order[Y],K=gH.N4[Y],u=c[K].v;for(var X=0;X<u.length;X++){var $=u[X].v;if($.enab.v&&["patternFill","GrFl","SoFi"].indexOf(o)==-1)return!0}}return!1};
bL.Zr=function(c,o,K,u,X,$){if($==null)$=u;var O=0,n=0;for(var Y=0;Y<gH.order.length;Y++){var x=gH.order[Y],l=gH.N4[Y],N=c[l].v;
for(var f=0;f<N.length;f++){var z=N[f].v;if(x=="DrSh"&&z.enab.v&&z.Ckmt.v.val>0&&z.blur.v.val>0)O=Math.max(O,Math.ceil(z.Ckmt.v.val*z.blur.v.val/100));
if(x=="OrGl"&&z.enab.v&&z.Ckmt.v.val>0&&z.blur.v.val>0&&z.GlwT.v.BETE=="SfBL")O=Math.max(O,Math.ceil(z.Ckmt.v.val*z.blur.v.val/100));
if(x=="OrGl"&&z.enab.v&&z.blur.v.val>0&&z.GlwT.v.BETE=="PrBL")O=Math.max(O,z.blur.v.val);if(x=="FrFX"&&z.enab.v&&z.Sz.v.val>0){if(z.Styl.v.FStl=="OutF")O=Math.max(O,z.Sz.v.val);
if(z.Styl.v.FStl=="CtrF")O=Math.max(O,Math.ceil(z.Sz.v.val/2));n=Math.max(n,bL.T3(z)[1])}}}var R=new bL.$D(K,u,O,bL.azZ(c)),V=-u.x,d=-u.y,e={type:{},all:[]};
for(var p=0;p<gH.order.length;p++){var x=gH.order[p],l=gH.N4[p];e.type[x]=[];for(var h=c[l].v.length-1;
h>=0;h--){var E=c[l].v[h].v,W;if(!E.enab.v)continue;var q=E.blur?E.blur.v.val:0,Z=E.Ckmt?E.Ckmt.v.val/100:0,v=q*Z;
if(x=="St3D"){var D=Math.max(1e-4,1-E.Srnk.v.val/100),L=2,fl=0;function I(A,cq,E){var jj=E.Angl.v.val;
jj*=Math.PI/180;var m=E.Dstn.v.val,eX=Math.cos(jj)*m,ih=-Math.sin(jj)*m,jE=D+cq*(1-D),an=new bE;an.translate(-A.m/2,-A.e/2);
an.scale(jE,jE);an.translate(A.m/2,A.e/2);an.translate((1-cq)*eX,(1-cq)*ih);return an}var A=u.clone(),U=K;
A.x=A.y=0;var w=Date.now(),t=A.clone();t.JG(L,L);var J=a.R(t.P());a.qv(U,A,J,t);t.x=t.y=0;a.kZ.mA(J,J,t,2);
var b=a.R(t.P()*4);b.fill(255);a.oe(J,b);var F=a.R(A.P()),B=A.m,k=A.e,i=t.m,H=bL.aAm(E,X),m=Math.cos(H[1]),j=-Math.cos(H[0])*m,Q=Math.sin(H[0])*m;
if(Math.abs(j)<.001&&Math.abs(Q)<.001)j=Q=0;for(var G=0;G<k;G++)for(var g=0;g<B;g++){var Y=(G+L)*i+g+L,P=J[Y+1]-J[Y-1],M=J[Y+i]-J[Y-i],T=P*P+M*M;
if(T>10){var C=1/Math.sqrt(T);F[G*B+g]=Math.max(0,Math.min(255,128+127*(j*C*P+Q*C*M)))}}var gf=[U,A],s=I(A,0,E),b3=a.A.W6(A).j,d5=b3.slice(0);
a.A.i(b3,s,d5);var gh=A.X3(a.A.P3(d5)),jt=a.R(gh.P()*4);for(var Y=0;Y<8;Y+=2){var P=b3[Y]-d5[Y],M=b3[Y+1]-d5[Y+1];
fl=Math.max(fl,Math.sqrt(P*P+M*M))}var eq=Math.round(fl/2),c7=a.T.h0(E.Clr.v);c7.Z/=255;c7.r/=255;c7.J/=255;
var k8=E.Drkn.v.val/100;for(var hs=0;hs<eq;hs++){var cq=hs/eq,jn=1-k8+cq*k8,an=I(A,cq,E),hk=A.clone(),ds=U;
if(D!=1){var gT=r.W.ia(gf,an);hk=gT.rect;ds=gT.channel}else{var gP=an.QB(new kn(0,0));hk.x+=Math.round(gP.x);
hk.y+=Math.round(gP.y)}var ky=a.R(hk.P()*4);if(j!=0||Q!=0){var ay=hk.m,bb=hk.e,ap=c7.Z,cR=c7.r,c8=c7.J,gr=an.clone();
gr.fH();var fF=gr.QB(new kn(.5,.5)),cj=gr.QB(new kn(1.5,1.5)),P=cj.x-fF.x,M=cj.y-fF.y;for(var G=0;G<bb;
G++){for(var g=0;g<ay;g++){var Y=G*ay+g,br=Y*4,hX=Math.max(0,Math.min(B-1,~~(.5+P*g))),gG=Math.max(0,Math.min(k-1,~~(.5+M*G))),jx=F[gG*B+hX],cr=-1+2*jx*(1/255),a8=-cr,f8=0;
if(cr>0){a8=0;f8=cr}ky[br]=255*(1-a8)*(f8+(1-f8)*ap)*jn;ky[br+1]=255*(1-a8)*(f8+(1-f8)*cR)*jn;ky[br+2]=255*(1-a8)*(f8+(1-f8)*c8)*jn}}}else bL.pB(ky,E.Clr.v,null,jn);
a.bp(ds,ky,3);a.a.hA("norm",ky,hk,jt,gh,hk,1)}W={PX:jt,hx:gh}}else if(x=="DrSh"){var dW=R.tq(v,q-v,!0),g7=dW.DE,eU=dW.aB.clone();
bL.l6(g7,E,!1);if(E.Cntn&&E.Cntn.v){var f7=new ez;bL.W1(f7,E,X,0);var d7=eU.clone();d7.offset(-f7.x,-f7.y);
d7=d7.X3(eU);var aW=a.R(d7.P());a.qv(g7,eU,aW,d7);var cy=Math.sqrt(f7.x*f7.x+f7.y*f7.y),dh=g7.slice(0);
for(var Y=0;Y<cy-1;Y++){var P=Math.round(-f7.x*Y/cy),M=Math.round(-f7.y*Y/cy),fh=dW.aB.clone();fh.offset(P,M);
a.a7O(dh,fh,aW,d7)}g7=aW;eU=d7}eU.offset(V,d);bL.W1(eU,E,X,0);var jt=a.R(eU.P()*4);bL.pB(jt,E.Clr.v);
a.bp(g7,jt,3);W={PX:jt,hx:eU,a3J:E.layerConceals.v}}else if(x=="IrSh"){var dW=R.tq(v,q-v,!1);bL.W1(dW.aB,E,X,0);
var eU=R.rect().clone(),g7=a.R(eU.P());g7.fill(255);a.qv(dW.DE,dW.aB,g7,eU);bL.l6(g7,E,!0,!0);var jt=a.R(eU.P()*4);
bL.pB(jt,E.Clr.v);a.bp(g7,jt,3);eU.offset(V,d);W={PX:jt,hx:eU}}else if(x=="GrFl"){var jt=a.R(R.rect().P()*4);
bL.CB(E,jt,R.rect(),X,null,$);var eU=R.rect().clone();eU.offset(V,d);W={PX:jt,hx:eU}}else if(x=="SoFi"){var jt=a.R(R.DE().length*4);
bL.pB(jt,E.Clr.v);var eU=R.rect().clone();eU.offset(V,d);W={PX:jt,hx:eU}}else if(x=="ebbl"){var dP=!1;
if(dP)console.log(E);var w=Date.now(),fg=w,bo=E.bvlS.v.BESl;if(bo=="strokeEmboss"){var jK=c.frameFXMulti.v;
if(jK.length==0)continue;jK=jK[0].v;if(!jK.enab.v)continue;var jQ=jK.Styl.v.FStl;if(jQ=="OutF")bo="OtrB";
if(jQ=="CtrF")bo="Embs";if(jQ=="InsF")bo="InrB"}var q=E.blur.v.val;if(q==0)q=.7;if(bo=="Embs"||bo=="PlEb")q/=2;
var aZ=["OtrB","InrB","Embs","PlEb","strokeEmboss"],eo=["SfBL","PrBL","Slmt"],dC=["In","Out"],hG=E.bvlT.v.bvlT!="SfBL"?q:q*.45,dy=Math.round(q),fw=R.rect().clone(),dM=fw.clone();
dM.JG(dy,dy);var B=dM.m,k=dM.e,aX=B*k,fy=a.R(aX);a.qv(R.DE(),fw,fy,dM);var gp=a.style.HD(fy,B,k);a.fH(fy);
var aU=a.style.HD(fy,B,k);if(dP)console.log("distTransform computed",Date.now()-w);w=Date.now();for(var Y=0;
Y<aX;Y++){var e7=aU[Y]-gp[Y];if(e7<-hG)e7=-hG;else if(e7>hG)e7=hG;aU[Y]=e7}if(dP)console.log("summing + cropping",Date.now()-w);
w=Date.now();if(E.bvlT.v.bvlT=="SfBL"){var eV=Math.pow(q*.21,1.22);if(!0)eV=Math.max(eV,2);a.kZ.sI(aU,dM,eV,2)}if(dP)console.log("blurring",Date.now()-w);
w=Date.now();var b8=aU,h$=gp;h$.set(b8);if(E.useShape.v){var jZ=Math.min(100,E.Inpr.v.val+1)/100;if(bo!="OtrB"&&bo!="InrB")jZ=1;
var bu=a.HO.zJ(E.MpgS.v.Crv.v,2e3),dL=Math.round(2e3/jZ);bu=a.HO.aak(bu,dL,bo=="InrB");var iv=.5/hG;
for(var Y=0;Y<aX;Y++){var k5=b8[Y],ir=.99999*(k5+hG)*iv;b8[Y]=-hG+2*hG*bu[~~(ir*(dL-1))]}if(dP)console.log("applying shape",Date.now()-w);
w=Date.now()}if(E.useTexture.v){var ky=a.R(B*k*4);bL.Cu(E,ky,dM,X.add.Patt,o);var cu=a.R(B*k);a.yH(ky,cu);
a.kZ.awC(cu,cu,dM,1);var az=q*E.textureDepth.v.val*(1/100)*(1/255);if(E.InvT.v)az=-az;for(var Y=0;Y<aX;
Y++)b8[Y]+=-az*cu[Y];if(dP)console.log("applying texture",Date.now()-w);w=Date.now()}var H=bL.aAm(E,X),jj=H[0],hM=H[1],j=Math.cos(jj)*Math.cos(hM),Q=-Math.sin(jj)*Math.cos(hM),je=Math.sin(hM),bP=bo=="PlEb",bD=new Float32Array(aX),aC=bD;
bD.fill(je);if(bP){aC=new Float32Array(aX);aC.fill(je)}var bV=(E.bvlT.v.bvlT=="SfBL"?1:.5)*(E.bvlD.v.BESs=="In"?1:-1)*E.srgR.v.val/100,cm=-.125*bV;
for(var G=0;G<k;G++){var e3=G==0?0:-B,eT=G==k-1?0:B,Y=G*B;for(var g=0;g<B;g++,Y++){var b6=g==0?Y:Y-1,jH=g==B-1?Y:Y+1,P=b8[jH]-b8[b6],M=b8[Y+eT]-b8[Y+e3],a0=1;
if(P==0&&M==0)continue;var b_=b8[b6+e3],jc=b8[jH+e3],g3=b8[b6+eT],hy=b8[jH+eT],jD=cm*(jc+2*P+hy-b_-g3),fa=cm*(g3+2*M+hy-b_-jc),eQ=1/Math.sqrt(jD*jD+fa*fa+1);
jD*=eQ;fa*=eQ;a0*=eQ;var cd=jD*j+fa*Q+a0*je;bD[Y]=Math.max(0,cd);if(!bP)continue;var iB=-jD*j-fa*Q+a0*je;
aC[Y]=Math.max(0,iB)}}if(dP)console.log("raycasting",Date.now()-w);w=Date.now();if(E.Sftn.v.val!=0){a.kZ.sI(bD,dM,E.Sftn.v.val*.43,2);
if(bP)a.kZ.sI(aC,dM,E.Sftn.v.val*.43,2)}if(dP)console.log("softening",Date.now()-w);w=Date.now();var dm=bL.mE(E.hglC.v,0),dG=bL.mE(E.sdwC.v,0),gE=new Uint8Array(bD.buffer),hF=new Uint32Array(gE.buffer),jz=new Uint8Array(b8.buffer),bw=new Uint32Array(jz.buffer),ix=gE,ig=jz,aT=hF,cx=bw;
if(bP){ix=new Uint8Array(aC.buffer);aT=new Uint32Array(ix.buffer);ig=new Uint8Array(h$.buffer);cx=new Uint32Array(ig.buffer)}var f$=1/je,eN=1/(1-je),iv=1/hG,bu=a.HO.zJ(E.TrnS.v.Crv.v,1024),dK=new Float32Array(2500);
for(var Y=0;Y<2500;Y++){var g=Math.max(0,Math.min(1,(Y-500)*.001));dK[Y]=Math.pow(g,.2)}for(var G=0;
G<k;G++)for(var g=0;g<B;g++){var Y=G*B+g,iH=4*Y+3,k7=~~(bD[Y]*1023),b0=bu[k7],bK=(h$[Y]+hG*.993)*iv,i5=dK[~~(500+bK*1e3)],hP=i5*(1-Math.min(1,b0*f$)),i2=i5*(1-Math.min(1,(1-b0)*eN));
bw[Y]=~~(.5+255*hP)<<24|dG;hF[Y]=~~(.5+255*i2)<<24|dm;if(!bP)continue;var j4=bu[~~(aC[Y]*1023)],e1=i5*(1-Math.min(1,j4*f$)),bb=i5*(1-Math.min(1,(1-j4)*eN));
cx[Y]=~~(.5+255*e1)<<24|dG;aT[Y]=~~(.5+255*bb)<<24|dm}if(dP)console.log("baking textures",Date.now()-w);
w=Date.now();dM=R.rect().clone();dM.JG(dy,dy);dM.offset(V,d);W={aAQ:E.bvlS.v.BESl=="strokeEmboss"};var au=ef.rI(E.hglM.v.BlnM),cn=E.hglO.v.val/100,cN=ef.rI(E.sdwM.v.BlnM),bg=E.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(bo)!=-1){W.WV={PX:gE,hx:dM,FS:au,fQ:cn};W.bi={PX:jz,hx:dM,FS:cN,fQ:bg}}if(["OtrB","Embs","PlEb"].indexOf(bo)!=-1){W.Xj={PX:ix,hx:dM,FS:au,fQ:cn};
W.XA={PX:ig,hx:dM,FS:cN,fQ:bg}}if(dP)console.log(Date.now()-fg)}else if(x=="patternFill"){var i7=R.rect(),jt=a.R(i7.P()*4);
bL.Cu(E,jt,i7,X.add.Patt,o);var eU=i7.clone();eU.offset(V,d);W={PX:jt,hx:eU}}else if(x=="ChFX"){var jt=a.R(R.DE().length*4);
bL.pB(jt,E.Clr.v);var q=E.blur.v.val,hl=R.rect().clone();hl.JG(q,q);var h8=a.R(hl.P()),cM=a.R(hl.P());
a.qv(R.DE(),R.rect(),cM,hl);a.kZ.mA(cM,h8,hl,q*.43);var dD=a.HO.c_(E.MpgS.v.Crv.v,256,!0);a.abY(h8,dD);
var eI=a.R(R.DE().length),bz=a.R(R.DE().length),dZ=R.rect().clone();bL.W1(dZ,E,X,0);a.qv(h8,hl,eI,dZ);
dZ=R.rect().clone();bL.W1(dZ,E,X,Math.PI);a.qv(h8,hl,bz,dZ);var eb=eI.length;for(var Y=0;Y<eb;Y++)jt[4*Y+3]=Math.abs(eI[Y]-bz[Y]);
if(E.Invr.v)for(var Y=0;Y<eb;Y++)jt[4*Y+3]=255-jt[4*Y+3];var eU=R.rect().clone();eU.offset(V,d);W={PX:jt,hx:eU}}else if(x=="OrGl"){var dW;
if(E.GlwT.v.BETE=="SfBL")dW=R.tq(v,q-v,!0);else dW=R.axB(q,Z,!0);var g7=dW.DE,eU=dW.aB,af=g7.slice(0);
bL.anH(g7,E);var jt=a.R(eU.P()*4);if(E.Grad==null){bL.pB(jt,E.Clr.v);bL.l6(g7,E,!1)}else{bL.l6(g7,E,null);
var cz={lb:g7,sf:255,LJ:0,yW:eU};bL.CB(E,jt,eU,X,cz);var aF=E.Nose.v.val/100,bd=eU.m;for(var Y=0;Y<af.length;
Y++){var jd=255,cl=af[Y];if(cl<32){var bK=(cl+af[Y-1]+af[Y+1]+af[Y-bd]+af[Y+bd])*.2-1;jd=Math.min(255,Math.round(Math.max(0,bK)*8))}g7[Y]=jd}bL.acY(g7,E)}a.bp(g7,jt,3);
eU.offset(V,d);W={PX:jt,hx:eU}}else if(x=="IrGl"){var dW;if(E.GlwT.v.BETE=="SfBL")dW=R.tq(v,q-v,!1);
else dW=R.axB(q,Z,!1);var g7=dW.DE,eU=dW.aB;bL.anH(g7,E);if(E.glwS.v.IGSr=="SrcC")a.fH(g7);var jt=a.R(eU.P()*4);
if(E.Grad==null){bL.pB(jt,E.Clr.v);bL.l6(g7,E,!0)}else{bL.l6(g7,E,null);var cz={lb:g7,sf:255,LJ:0,yW:eU};
bL.CB(E,jt,eU,X,cz);g7.fill(255);bL.acY(g7,E)}a.bp(g7,jt,3);eU.offset(V,d);W={PX:jt,hx:eU}}else if(x=="FrFX"){var eA=bL.T3(E),ja=eA[0],cZ=eA[1],eU=R.rect().clone(),cQ=null,gz=null;
eU.JG(Math.ceil(n),Math.ceil(n));if(cZ>0){var dW=R.tq(cZ,0,!0);gz=dW.DE;if(gz.length<eU.P()){gz=a.R(eU.P());
a.qv(dW.DE,dW.aB,gz,eU)}}if(ja>0){var dW=R.tq(ja,0,!1);cQ=a.R(eU.P());cQ.fill(255);a.qv(dW.DE,dW.aB,cQ,eU)}eU.offset(V,d);
var jt=a.R(eU.P()*4),j2=E.PntT.v.FrFl;if(j2=="SClr")bL.pB(jt,E.Clr.v);if(j2=="GrFl")bL.CB(E,jt,eU,X,R.ab5(ja,cZ));
if(j2=="Ptrn")bL.Cu(E,jt,eU,X.add.Patt,o);var j0=E.overprint,kx=j0?j0.v:!1;if(kx){var gq=cQ?cQ:gz;if(cQ&&gz)a._M.ar(cQ,gz,gq);
a.bp(gq,jt,3)}W={PX:jt,hx:eU,vr:gz,_z:cQ,ahy:kx}}e.type[x].push(W);if(x=="ebbl"){if(W.WV)e.all.push(W.WV,W.bi);
if(W.Xj)e.all.push(W.Xj,W.XA)}else{W.FS=ef.rI(E.Md.v.BlnM);W.fQ=E.Opct.v.val/100,e.all.push(W)}}}return e};
bL.zB=function(c){var o=1/Math.sqrt(c.x*c.x+c.y*c.y+c.iv*c.iv);c.x*=o;c.y*=o;c.iv*=o};bL.aBM=function(c,o){return{x:c.y*o.iv-c.iv*o.y,y:c.iv*o.x-c.x*o.iv,iv:c.x*o.y-c.y*o.x}};
bL.ahO=function(c,o){return c.x*o.x+c.y*o.y+c.iv*o.iv};bL.acY=function(c,o){var K=o.Nose.v.val/100;if(K>0)for(var Y=0;
Y<c.length;Y++){var u=c[Y];u=Math.min(510-(1+K)*a.style.Gz(Y),u);c[Y]=u}};bL.s7=function(c){var o=bL.Ym(),K=c.aY,u=!1;
for(var Y=0;Y<32;Y+=8)if(K[Y]+K[Y+1]+K[Y+4]+K[Y+5]!=0||K[Y+2]+K[Y+3]+K[Y+6]+K[Y+7]!=1020)u=!0;if(u){K=K.slice(0);
for(var Y=0;Y<40;Y+=4){var X=K[Y]/255,$=K[Y+1]/255,O=K[Y+2]/255,n=K[Y+3]/255;K[Y]=X-.001;K[Y+1]=X==$?1e6:1/($-X);
K[Y+2]=O==n?-1e6:1/(O-n);K[Y+3]=n+.001}}var x=c.add.iOpa!=null?c.add.iOpa/255:o.fill,l=c.add.vstk;if(l&&!l.fillEnabled.v&&(!l.strokeEnabled.v||l.strokeStyleLineWidth.v.val==0))x=0;
return{fill:x,st:u?K:null,UI:c.add.brst!=null?c.add.brst:o.UI,aCJ:c.add.knko!=null?c.add.knko:o.aCJ,style:!1,$i:!1}};
bL.Ym=function(){return{fill:1,st:null,UI:[1,1,1],aCJ:0,style:!1,$i:!1}};bL.arm=function(c,o,K,u,X,$,O,n){if(n==null)n=1;
if(O==null)O=new bE;var x=c.Y1[1].m,l=c.Y1[1].e,N=new bE,f=X<2;if(f)N.translate(-x/2,-l/2);if(X==0){n*=Math.max(K/x,u/l)}else if(X==1){n*=Math.min(K/x,u/l)}else if(X==2){N.scale(1/x,1/l);
N.concat(O);N.scale(K,u)}else if(X==3){n=n}N.scale(n,n);if(f)N.translate(K/2,u/2);N.concat($);o.Ptrn.v.Idnt.v=c.id;
o.Scl.v.val=Math.round(100*N.ea());o.Angl.v.val=Math.round(180*Math.atan2(-N.J,N.V)/Math.PI);o.Algn.v=!0;
var z=o.phase.v;z.Hrzn.v=Math.round(N.hW);z.Vrtc.v=Math.round(N.qj)};bL.rO=function(c,o){if(o==null)return null;
var K=c.Idnt.v,u=c.Nm.v;for(var Y=0;Y<o.length;Y++)if(o[Y].id==K)return o[Y];for(var Y=0;Y<o.length;
Y++)if(o[Y].name==u)return o[Y];return null};bL.atM=function(c,o,K){var u=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var Y=0;Y<u.length;Y++){var X=c.v[u[Y]].v;for(var $=0;$<X.length;$++)if(X[$].v.Ptrn)o.ci(bL.rO(X[$].v.Ptrn.v,K))}};
bL.acn=function(c,o,K){var u=["patternFillMulti","ebblMulti","frameFXMulti"];for(var Y=0;Y<u.length;
Y++){var X=c.v[u[Y]].v;for(var $=0;$<X.length;$++)if(X[$].v.Ptrn){var O=X[$].v.Ptrn.v,n=bL.rO(O,K),x=bL.rO(O,o.add.Patt);
if(n==null&&x)K.push(x)}}};bL.Cu=function(c,o,K,u,X){var $=bL.rO(c.Ptrn.v,u);if($!=null&&!K.SR()){var O=$.Y1,n=O[0],x=O[1],l=0;
a.hR(O);var N=(c.Scl?c.Scl.v.val:100)/100;while((N<.3||N==.5)&&O[l+2]){N*=x.m/O[l+3].m;l+=2;n=O[l];x=O[l+1]}var f=a.scale.Cu(n,x.m,x.e),z=c.phase?c.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},R=c.Angl?c.Angl.v.val:0,V=-K.x+z.Hrzn.v-1,d=-K.y+z.Vrtc.v-1;
if(c.Algn!=null&&!c.Algn.v){}else{V+=X.x;d+=X.y}if(o)a.scale.aBZ(f,o,K.m,K.e,N,N,V+1,d+1,R*Math.PI/180);
else return[f,N,V+1,d+1,R*Math.PI/180]}};bL.CB=function(c,o,K,u,X,$){if($==null)$=K;var O=c.Type?c.Type.v.GrdT:"shapeburst",n=c.Algn&&c.Algn.v?$:new ez(0,0,u.m,u.e),x=c.Angl?a.T.NA(c,n):[new kn(0,0),new kn(100,0)],l=x[0].x,N=x[0].y,f=x[1].x-l,z=x[1].y-N,R=Math.sqrt(f*f+z*z);
R=1/(2*R*R);var V=[f*R,z*R,-z*R,f*R],d=c.Rvrs?c.Rvrs.v:!1,e=c.Dthr?c.Dthr.v:!1;a.T.I3(c.Grad.v,o,K,V,l,N,d,gH.T.types.indexOf(O),0,0,X,e)};
bL.a6b=function(c,o,K){for(var Y=0;Y<c.all.length;Y++){var u=c.all[Y];u.T1=u.hx.clone();u.T1.offset(o,K)}};
bL.a5X=function(c,o,K,u,X,$){var O=jT.lW?bL.atB:bL.a1e;bL.a6b(o,K.x,K.y);var n=o.type.DrSh;for(var Y=0;
Y<n.length;Y++)if(!n[Y].a3J)O(n[Y],u,X,$)};bL.asT=function(c,o,K,u,X,$,O,n,x,l){var N=K,f=jT.lW?bL.atB:bL.a1e,z=jT.lW?jT.a.K3:a.a.ut,R;
R=o.type.DrSh;for(var Y=0;Y<R.length;Y++)if(R[Y].a3J)f(R[Y],u,X,$);R=o.type.St3D;for(var Y=0;Y<R.length;
Y++)f(R[Y],u,X,$);R=o.type.OrGl;for(var Y=0;Y<R.length;Y++)f(R[Y],u,X,$);var V="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var d=0;d<V.length;d++){var R=o.type[V[d]];for(var Y=0;Y<R.length;Y++)f(R[Y],O,N,$)}var e=o.type.ebbl[0],p=e!=null&&e.aAQ;
R=o.type.FrFX;for(var Y=0;Y<R.length;Y++){var h=R[Y];km.ge.qv(n,l,x,l,$);f(h,x,l,$);if(p&&Y==R.length-1){if(e.XA)f(e.XA,x,l,$);
if(e.Xj)f(e.Xj,x,l,$);if(e.bi)f(e.bi,x,l,$);if(e.WV)f(e.WV,x,l,$)}if(h.ahy){if(h._z||h.Fi){f(h,O,N,$)}if(h.vr||h.cj){f(h,u,X,$)}}else{if(h._z||h.Fi)z(x,l,O,N,jT.lW?h.Fi:h._z,h.T1,0,$,1);
if(h.vr||h.cj)z(x,l,u,X,jT.lW?h.cj:h.vr,h.T1,0,$,1)}}if(!p&&e!=null){if(e.XA)f(e.XA,u,X,$);if(e.Xj)f(e.Xj,u,X,$);
if(e.bi)f(e.bi,O,N,$);if(e.WV)f(e.WV,O,N,$)}};bL.a1e=function(c,o,K,u){var X=bL.Ym();X.fill=c.fQ;X.style=!0;
a.a.hA(c.FS,c.PX,c.T1,o,K,u,1,X)};bL.atB=function(c,o,K,u){var X=bL.Ym();X.fill=c.fQ;X.style=!0;jT.a.a8d(c.FS,c.wX,c.T1,o,K,u,1,X)};
bL.anH=function(c,o){var K=1-o.Inpr.v.val/100,u=1+Math.tan(K*(Math.PI/2)),X=c.length;for(var Y=0;Y<X;
Y++)c[Y]=Math.min(255,Math.round(c[Y]*u))};bL.l6=function(c,o,K,u){var X=o.blur.v.val,$=Math.round(X*(o.Ckmt.v.val/100));
if(X>$){var O=a.HO.c_(o.TrnS.v.Crv.v,256,u!=!0);a.abY(c,O)}if(K!=null&&o.Nose.v.val>0)a.style.U_(c,o.Nose.v.val/100,K)};
bL.mE=function(c,o,K){if(o==null)o=255;var u=a.T.h0(c);if(K!=null){u.Z=Math.round(u.Z*K);u.r=Math.round(u.r*K);
u.J=Math.round(u.J*K)}return o<<24|u.J<<16|u.r<<8|u.Z};bL.pB=function(c,o,K,u){var X=new Uint32Array(c.buffer);
X.fill(bL.mE(o,K,u))};bL.W1=function(c,o,K,u,X){var $=o.uglg&&o.uglg.v?K.Iy():o[X?X:"lagl"].v.val;$=$*Math.PI/180+u;
var O=Math.cos($)*o.Dstn.v.val,n=Math.sin($)*o.Dstn.v.val;c.x-=Math.round(O);c.y+=Math.round(n)};bL.aAm=function(c,o){var K=c.uglg&&c.uglg.v?o.Iy():c.lagl.v.val;
K=K*(Math.PI/180);var u=c.uglg&&c.uglg.v?o.MS():c.Lald.v.val;u=u*(Math.PI/180);return[K,u]};bL.$0=function(c){if(c==null)return null;
var o=c.frameFXMulti.v;if(o.length==0)return null;o=o[0].v;var K=gH.e_.ib();bL.adg(o,K);return K};bL.adg=function(c,o){var K=gH.stroke.p7.indexOf(c.PntT.v.FrFl),u=[gH.wV,gH.Ty,gH.ne][K],X=o.strokeStyleContent.v={classID:gH.e_.jD[K]};
for(var Y=0;Y<u.length;Y++)X[u[Y]]=c[u[Y]];o.strokeEnabled=c.enab;o.strokeStyleLineWidth=c.Sz;o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gH.e_.R8[gH.stroke.types.indexOf(c.Styl.v.FStl)];
o.strokeStyleOpacity=c.Opct;o.strokeStyleBlendMode=c.Md;o.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
bL.Rr=function(c,o){var K=[];for(var Y=0;Y<c.length;Y++)K.push({t:"UntF",v:{type:"#Nne",val:Math.round(c[Y]*o)}});
return K};bL.ayi=function(c,o){var K=c.opacity/255*(c.add.iOpa?c.add.iOpa/255:1),u=c.add.TySh,X=c.rD()||c.NL()&&c.add.vmsk&&c.add.vstk.fillEnabled.v&&c.add.vstk.strokeEnabled.v;
if(u){var $=u.Bz.EngineDict.StyleRun.RunArray,O=$[0].StyleSheet.StyleSheetData,n=0;if(O.FillFlag)n++;
if(O.StrokeFlag)n++;if(O._FillBackgroundFlag)n++;if(n>1)X=!0}return X&&(o||K!=1||c.Mh!="pass"&&c.Mh!="norm")};
bL.$D=function(c,o,K,u){this.i5=o.clone();this.a4i=o.clone();this.a4i.JG(K,K);if(u){this.i5.JG(1,1);
this.KN=a.R(this.i5.P());a.qv(c,o,this.KN,this.i5)}else this.KN=c;this.uY=null;this.ZJ=null;this.vp=null};
bL.$D.prototype.DE=function(){return this.KN};bL.$D.prototype.rect=function(){return this.i5};bL.$D.prototype.L9=function(){return this.a4i};
bL.$D.prototype.vD=function(){if(this.uY)return this.uY;this.uY=this.DE().slice(0);a.fH(this.uY);return this.uY};
bL.$D.prototype.fI=function(){if(this.ZJ)return this.ZJ;this.ZJ=a.style.HD(this.vD(),this.rect().m,this.rect().e);
return this.ZJ};bL.$D.prototype.$N=function(){if(this.vp)return this.vp;var c=this.L9(),o=a.R(c.P());
a.qv(this.DE(),this.rect(),o,c);var K=Date.now();this.vp=a.style.HD(o,c.m,c.e);return this.vp};bL.$D.prototype.ab5=function(c,o){var K={sf:-o,LJ:c,yW:null,lb:null};
if(o==0){K.yW=this.rect();K.lb=this.fI();return K}var u=this.$N().slice(0),X=this.L9();K.yW=X;K.lb=u;
for(var Y=0;Y<u.length;Y++)u[Y]=-u[Y];if(c==0)return K;var $=this.fI(),O=this.rect();for(var n=0;n<O.e;
n++)for(var x=0;x<O.m;x++){var l=n*O.m+x,N=(n+O.y-X.y)*X.m+x+O.x-X.x;u[N]+=$[l]}return K};bL.$D.prototype.tq=function(c,o,K){var u=Math.ceil(c+o),X={aB:this.rect().clone(),DE:null};
X.aB.JG(u,u);X.DE=a.R(X.aB.P());if(c==0&&o==0)a.lY(K?this.DE():this.vD(),X.DE);else{var $=a.R(X.aB.P());
a.qv(this.DE(),this.rect(),$,X.aB);if(!K)a.fH($);if(c!=0){if(K)a.style.Q9($,X.aB,this.$N(),this.L9(),c);
else a.style.Q9($,X.aB,this.fI(),this.rect(),c)}if(o!=0)a.kZ.mA($,X.DE,X.aB,Math.max(1,o*.43));else X.DE=$}return X};
bL.$D.prototype.axB=function(c,o,K){var u=c*(o-.5),X={aB:this.rect().clone(),DE:null};if(K)X.aB.JG(c,c);
X.DE=a.R(X.aB.P());var $=X.aB.m,O=X.aB.e,n=K?this.$N():this.fI(),x=K?this.L9():this.rect(),l=X.aB,N=l.ar(x),$=N.m,O=N.e,f=N.x-l.x,z=N.y-l.y,R=N.x-x.x,V=N.y-x.y,d=1-o*2;
for(var e=0;e<O;e++)for(var p=0;p<$;p++){var h=n[(e+V)*x.m+p+R],E=h/c;X.DE[(e+z)*l.m+p+f]=Math.max(0,Math.min(255,255-255*((E+d)/(1+d))))}return X};
bL.axc=function(c,o,K,u){var X=c.Lefx,$=c.blendOptions;if(X){var O=o.add.lmfx;if(K==null)K=O?O.Scl.v.val:100;
o.add.lmfx=JSON.parse(JSON.stringify(X.v));if(o.add.lmfx.Scl==null)o.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
bL.XE(o.add.lmfx,K/o.add.lmfx.Scl.v.val);if(O)o.add.lmfx.Scl.v.val=O.Scl.v.val;var n=X.v.gagl;if(n&&u)u.I5(n.v.val)}else delete o.add.lmfx;
if($){$=$.v;if($.Md)o.Mh=ef.rI($.Md.v.BlnM);if($.Opct)o.opacity=Math.round($.Opct.v.val*255/100);if($.fillOpacity)o.add.iOpa=Math.round($.fillOpacity.v.val*255/100);
if($.Blnd){var x=[];for(var Y=0;Y<10;Y++)x.push(0,0,255,255);var l=$.Blnd.v,N="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var Y=0;Y<l.length;Y++){var f=l[Y].v,z=8*["Gry","Rd","Grn","Bl"].indexOf(f.Chnl.v[0].v.enum);for(var R=0;
R<8;R++){x[z+R]=f[N[R]].v}}o.aY=x}}};bL.azW=function(c){var o="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),K=[],u=c.aY;
for(var Y=0;Y<4;Y++){var X=Y*8;if(u[X]+u[X+1]+u[X+4]+u[X+5]==0&&u[X+2]+u[X+3]+u[X+6]+u[X+7]==4*255)continue;
var $={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][Y]}}]}}};
K.push($);for(var O=0;O<8;O++)$.v[o[O]]={t:"long",v:u[Y*8+O]}}var n={classID:"blendOptions"};if(c.Mh!="norm")n.Md={t:"enum",v:{BlnM:ef.aj(c.Mh)}};
if(c.opacity!=255)n.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(c.opacity*100/255)}};if(c.add.iOpa!=null)n.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(c.add.iOpa*100/255)}};
if(K.length!=0)n.Blnd={t:"VlLs",v:K};var x={Oq:{classID:"null",Idnt:{t:"TEXT",v:h_.iE()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},ho:{classID:"Styl",blendOptions:{t:"Objc",v:n}}},l=c.add.lmfx;
if(l)x.ho.Lefx={t:"Objc",v:l};return x};function ac(){}ac.JM=function(c){return JSON.parse(JSON.stringify(c))};
ac.jz=function(c){var o=ac.JM(ac.aAi),K=o.Brsh.v;if(c!=null){delete K.Hrdn;K.classID="sampledBrush";
K.sampledData={t:"TEXT",v:c}}return o};ac.aAi={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
ac.aB7=function(c,o){var K=["opVr","szVr"],u=["usePaintDynamics","useTipDynamics"];for(var Y=0;Y<2;Y++){var X=K[Y];
if(c[X]==null)c[X]=JSON.parse(ac.zB.BV[X]);c[X].v.bVTy.v=o[Y]?2:0;if(o[Y])c[u[Y]].v=!0}ac.zB.aum(c)};
ac.zB={};ac.zB.check=function(c){var o=ac.zB.o7;for(var Y=0;Y<o.length;Y++)if(c[o[Y]]==null)c[o[Y]]=JSON.parse(ac.zB.BV[o[Y]]);
var K=[];for(var Y=0;Y<o.length;Y++)K.push(o[Y]);var u=ac.zB.azA;for(var Y=0;Y<u.length;Y++){var X=u[Y][0],$=u[Y][1],O=!0;
for(var n=0;n<X.length;n++)O=O&&c[X[n]].v==!0;if(O)for(var n=0;n<$.length;n++){if(c[$[n]]==null)console.log("Missing conditional parameter "+$[n]);
else K.push($[n])}}for(var x in c)if(K.indexOf(x)==-1&&x!="toolOptions")console.log("Extra parameter "+x);
c=c.Brsh.v;o=ac.zB.u1.o7;for(var Y=0;Y<o.length;Y++)if(c[o[Y]]==null)c[o[Y]]=JSON.parse(ac.zB.u1.BV[o[Y]]);
K=[];for(var Y=0;Y<o.length;Y++)if(c[o[Y]])K.push(o[Y]);else console.log("Missing default parameter "+o[Y]);
u=ac.zB.u1.aiv[c.classID];for(var Y=0;Y<u.length;Y++)if(c[u[Y]]==null&&u[Y]!="dtipsGridSize"&&u[Y]!="dtipsErodibleTipHeightMap"&&c.akz!=1)console.log("Missing conditional parameter "+u[Y]);
else K.push(u[Y]);for(var x in c)if(K.indexOf(x)==-1)console.log("Extra parameter "+x)};ac.zB.aum=function(c){var o=ac.zB.azA;
for(var Y=0;Y<o.length;Y++){var K=o[Y][0],u=o[Y][1],X=!0;for(var $=0;$<K.length;$++)X=X&&c[K[$]]&&c[K[$]].v==!0;
if(X){for(var $=0;$<u.length;$++)if(c[u[$]]==null){c[u[$]]=JSON.parse(ac.zB.BV[u[$]])}}else for(var $=0;
$<u.length;$++)if(c[u[$]]!=null){delete c[u[$]]}}};ac.zB.u1={};ac.zB.u1.o7="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
ac.zB.u1.BV={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};ac.zB.u1.aiv={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
ac.zB.azA=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
ac.zB.o7="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
ac.zB.BV={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function i$(c,o){this.aby=c;this.yp=o==null?0:o;this.dir=0}i$.prototype.Fl=function(c,o){var K=this.aby,u=new kn(c.x-K.x,c.y-K.y),X=new bE;
X.rotate(-this.yp);u=X.QB(u);if(this.dir==0&&!K.Ug(c))this.dir=Math.abs(u.x)<Math.abs(u.y)?1:2;if(o.N(d2.Qx)){if(this.dir==1)u.x=0;
if(this.dir==2)u.y=0}X.fH();u=X.QB(u);var $=new kn(K.x+u.x,K.y+u.y);return $};i$.prototype.atn=function(c){if(c.N(d2.Qx))return this.dir;
return 0};var iJ=function(){function c(){this.a3S={}}c.ayg=function(o,K){var u=o.clone();u.hW-=Math.floor(u.hW);
u.qj-=Math.floor(u.qj);var X=new kn(K,0),$=new kn(0,K),O=u.QB(X),n=u.QB($),x=new kn(u.hW,u.qj);return[O,n,x]};
c.aAL=function(o,K){var u=kn.je;return u(o[0],K[0])+u(o[1],K[1])+u(o[2],K[2]);return dsum};c.prototype.ay8=function(o){var K=this.a3S,u=K[o];
if(u==null)u=K[o]={Jb:[],gE:0,P:0,aA9:0,aBU:0};u.gE=Date.now();while(Object.keys(K).length>3){var X="",$=Date.now();
for(var O in K){var n=K[O].gE;if(n<$){$=n;X=O}}delete K[X]}return u};c.prototype.aAP=function(o,K){var u=o.Jb,X,$=1e6;
for(var Y=0;Y<u.length;Y++){var O=u[Y],n=c.aAL(O.ej,K);if(n<$){X=O;$=n}}return X};c.prototype.a71=function(o,K){var u=o.Jb;
u.push(K);o.P+=K.rect.P();if(u.length>1e3||o.P>100*100*1600){console.log("pruning",o.P,u.length);u.sort(function($,O){return O.gE-$.gE});
while(u.length>500||o.P>100*100*800){var X=u.pop();o.P-=X.rect.P()}}};return c}();function kD(c,o,K,u,X,$,O,n,x){this.Z7=o;
this.p1=K;this.th=$;this.Yg=u;this.OV=null;this.$U=null;this.X5=0;this.a86=0;this.aBC=0;this.U4=0;this.be=0;
this.cn=x==null?Math.floor(Math.random()*16777215):x;this.em=x==null?Math.floor(Math.random()*16777215):x;
this.yS=new ez;this.UD=new ez;if(n!=null){this.PX=n}else{var l=kD.alv;if(l.length!=O.P()*4)l=a.R(O.P()*4);
else l.fill(0);this.PX=kD.alv=l}this.rect=O.clone();this.yX=[];this.Lv=[];this.X0=null;this.V5=0;this.J=null;
this.aeX="";this.bb=null;this.anx(c,X)}kD.alv=a.R(16);kD.prototype.anx=function(c,o){this.V5=o;this.J=c;
this.aeX=JSON.stringify(c)+JSON.stringify(this.Yg.OF);this.bb=kD.atL(this.J,this.Z7,this.p1)};kD.prototype.moveTo=function(c,o,K){K=this.aio(K);
this.X5=K;var u=new kn(c,o),X=this.J.Brsh.v.Dmtr.v.val;this.OV=u.clone();this.$U=u.clone();this.X0=u.clone();
this.yX=[c,o];this.Lv=[K];if(this.Yg.K2!=kD.Uw){var $=this.J.angleDynamics,O=$?$.v.bVTy.v==6:!1;this.b1(O?new ez:this.amd(u,this.aiY(K),K,new kn(0,0)))}this.U4=u.clone()};
kD.prototype.lineTo=function(c,o,K){K=this.aio(K);var u=this.yX,X=u.length,$=u[X-2],O=u[X-1];if(c==$&&o==O)return;
var n=this.J.Brsh.v.Dmtr.v.val,x=Math.ceil(n)+1,l=new ez(Math.round($),Math.round(O),0,0);l.JG(x,x);
var N=new ez(Math.round(c),Math.round(o),0,0);N.JG(x,x);this.yX.push(c,o);this.Lv.push(K);X+=2;if(X>=6)this.b1(this.aaq(X))};
kD.prototype.aio=function(c){if(c==null)c=1;c=Math.max(.05,Math.min(5,c));if(isNaN(c)){alert("Pressure is not a number");
throw"e"}return c};kD.prototype.b1=function(c){this.yS=c;this.UD=this.UD.X3(c)};kD.prototype.finish=function(){var c=this.yX,o=c.length,K;
if(o==4)K=this.mB(c[o-2],c[o-1],this.Lv[(o>>1)-1],!0);if(o>4)K=this.aaq(o+2);if(K)this.b1(K)};kD.prototype.G5=function(){return this.rect.clone()};
kD.prototype.gi=function(){return this.yS.ar(this.rect)};kD.prototype.gD=function(){return this.UD.ar(this.rect)};
kD.prototype.M5=function(){return this.PX};kD.prototype.aaq=function(c){var o=this.yX,K=this.Lv,u=o[c-6],X=o[c-5],$=o[c-4],O=o[c-3],n=K[(c>>1)-3],x=K[(c>>1)-2],l=new kn(0,0),N=new kn(0,0);
if(8<=c)l=kD.a7S(o[c-8],o[c-7],u,X,$,O);if(c<=o.length)N=kD.a7S(o[c-2],o[c-1],$,O,u,X);var f=u+l.x,z=X+l.y,R=$+N.x,V=O+N.y,d=new ez,e=this.aeT()?1:10;
for(var Y=0;Y<e;Y++){var p=(Y+1)/e,h=1-p,E=h*h*h*u+3*p*h*h*f+3*p*p*h*R+p*p*p*$,q=h*h*h*X+3*p*h*h*z+3*p*p*h*V+p*p*p*O,Z=this.mB(E,q,n+p*(x-n));
d=d.X3(Z)}return d};kD.a7S=function(c,o,K,u,X,$){var O=c-K,n=o-u,x=X-K,l=$-u,N=Math.sqrt(O*O+n*n),f=Math.sqrt(x*x+l*l),z=Math.acos((O*x+n*l)/(N*f))/Math.PI,R=.35,V=.1;
z=V+z*(R-V);var d=X-c,e=$-o,p=Math.sqrt(d*d+e*e),h=z*f/p;return new kn(d*h,e*h)};kD.prototype.mB=function(c,o,K,u){var X=new ez,$=this.Yg.anS;
if($==null)$=0;if($==0||u){X=this.ayq(c,o,K);return X}var O=this.X0,n=c-O.x,x=o-O.y,l=Math.sqrt(n*n+x*x);
n/=l;x/=l;if(l>$){var N=O.x+n*(l-$),f=O.y+x*(l-$);X=this.ayq(N,f,K);this.X0.Q7(N,f)}return X};kD.prototype.aeT=function(){var c=this.J,o=c.Brsh.v.Dmtr.v.val;
return this.Yg.OF&&o==1};kD.prototype.ayq=function(c,o,K){var u=new ez,X=new kn(c,o),$=this.Yg.K2,O=X.wv(this.$U);
O.normalize(1);var n=kn.je(this.$U,X),x=-this.a86,l=this.$U.clone();if(this.aeT()){if(n>.99){var N=this.$U;
kD.atW(N,X,this.PX,this.rect,this.CY(this.J));u=a.A.P3([N.x,N.y,X.x,X.y]);x=n}else X=this.$U}else while(!0){var f=this.X5+(K-this.X5)*(Math.max(0,x)/n),z=this.aiY(f),R=this.aAq()*(z+this.aBC)/2*this.bb.aAI;
if($==kD.Uw)R=1;R=Math.max(R,.5);if(x+R<n){x+=R;this.be+=R;var V=new kn(this.$U.x+O.x*x,this.$U.y+O.y*x),p=1;
if($==kD.Uw){var d=l.clone();d.x+=O.x>0?1:-1;var e=l.clone();e.y+=O.y>0?1:-1;if(kn.je(d,V)<kn.je(e,V))V=d;
else V=e;x=kn.je(V,this.$U)}if(this.J.useScatter.v==!0){p=this.J.Cnt.v;var h=this.J.countDynamics.v.jitter.v.val/100,E=h*(-1+2*this.Z1());
p+=Math.round(p*E)}for(var Y=0;Y<p;Y++){var q=this.amd(V,z,K,O);u=u.X3(q)}l=V}else break}this.a86=n-x;
this.$U=X;this.X5=K;return u};kD.prototype.aAq=function(){var c=this.J.Brsh.v,o=c.Spcn.v.val,K=Math.max(5,c.Rndn.v.val);
return K/100*(o/100)};kD.prototype.aiY=function(c){var o=this.J,K=o.Brsh.v.Dmtr.v.val;if(o.useTipDynamics.v){var u=K*(o.minimumDiameter.v.val/100);
K=u+(K-u)*(1-this.Z1(this.em)*(o.szVr.v.jitter.v.val/100));K*=kD.Yr(o,"szVr",c,this.be)}return K};kD.Yr=function(c,o,K,u){var X=1,$=c[o].v,O=$.bVTy.v,n=$.fStp.v;
if(O==1)X*=Math.max(0,(n-u)/n);if(O==2)X*=K;return X};kD.prototype.amd=function(c,o,K,u){var X=this.Yg.FK,d=0;
X=Math.min(1,X);var $=this.J,O=this.J.Brsh.v,n=O.Dmtr.v.val,x=this.Yg,l=x.K2,N=x.aw0,f=this.bb.Y1[1],z=new bE;
z.translate(-f.m/2,-f.e/2);z.scale(1/this.bb.ags,1/this.bb.ags);z.scale(o/n,o/n);z.scale(1,Math.max(5,O.Rndn.v.val)/100);
if($.usePaintDynamics&&$.usePaintDynamics.v){var R=$.opVr.v.jitter.v.val/100,V=$.prVr.v.jitter.v.val/100;
X*=1-this.Z1()*R;X*=1-this.Z1()*V;X*=kD.Yr($,"opVr",K,this.be)*kD.Yr($,"prVr",K,this.be)}if($.useTipDynamics.v){var e=$.angleDynamics.v,p=$.minimumRoundness.v.val/100;
z.scale(1,p+(1-p)*Math.round(100-this.Z1()*$.roundnessDynamics.v.jitter.v.val)/100);d+=(-.5+this.Z1())*4*Math.PI*(e.jitter.v.val/100);
d+=kD.Yr($,"angleDynamics",K,this.be)*2*Math.PI;if(e.bVTy.v==6)d+=Math.atan2(-u.y,u.x)}d+=O.Angl.v.val*(Math.PI/180);
z.rotate(d);if($.useScatter.v){var h=(-1+2*this.Z1())*$.scatterDynamics.v.jitter.v.val/100;z.translate(-h*o*u.y,h*o*u.x)}z.translate(c.x,c.y);
var E=this.a2k(z,c,o),q=E.rect.clone();if(l==null){var Z=this.CY($);a.ms(E.iY,Math.round(Z.J*255)<<16|Math.round(Z.r*255)<<8|Math.round(Z.Z*255)<<0,4278190080);
if(this.UD.SR()&&this.rect.Ug(E.rect)&&X==1)this.PX=E.iY.slice(0);else{var v=-1,W=2,D=-1,I=2;if(!x.Ku){v=D=0;
W=I=1}for(var A=D;A<I;A++)for(var U=v;U<W;U++){var w=E.rect.clone();w.x+=U*this.rect.m;w.y+=A*this.rect.e;
if(w.Yd(this.rect)){q=q.X3(w);a.a.at8(E.iY,w,this.PX,this.rect,w,X)}}}}if(l==kD.Uw){var t=new kn(E.rect.x+E.rect.m/2,E.rect.y+E.rect.e/2),L=Math.round(t.x-this.U4.x),J=Math.round(t.y-this.U4.y),b=E.rect.clone();
b.offset(-L,-J);var F=b.ar(this.rect);F.offset(L,J);a.Ui(this.PX,this.rect,E.iY,b);a.a.a55(E.iY,E.rect,this.PX,this.rect,E.jw,E.rect,X)}if(l==kD.XL||l==kD.yV||l==kD.Po){var B=E.rect.ar(this.rect),k;
if(B.Ug(E.rect))k=E.jw;else{k=a.R(B.P());a.qv(E.jw,E.rect,k,B)}var i=a.R(B.P()*4);a.Ui(this.PX,this.rect,i,B);
if(l==kD.yV){var H=i.slice(0),m=a.wq.Lg([-1,-1,-1,-1,25,-1,-1,-1,-1]);a.wq.Wb(i,H,B.m,B.e,m,0);a.lY(H,i)}else if(l==kD.Po){var j=gZ.ib("UnsM");
j.Amnt.v.val=15;j.Thsh.v=0;j.Rds.v.val=5;var H=a.R(i.length);gZ.kg("UnsM",{buffer:i,rect:B},j,0,0,{buffer:H,rect:B});
a.lY(H,i)}else{gZ.JI(1,a.kZ.EW,i,B)}a.a.a55(i,B,this.PX,this.rect,k,B,X)}this.aBC=o;this.U4=t;this.em++;
return q};kD.prototype.CY=function(c){var o=kD.alX(this.V5);if(c.useColorDynamics&&c.useColorDynamics.v){var K=1-this.Z1()*c.clVr.v.jitter.v.val/100,u=kD.alX(this.th);
o.Z=K*o.Z+(1-K)*u.Z;o.r=K*o.r+(1-K)*u.r;o.J=K*o.J+(1-K)*u.J;var X=(-.5+this.Z1())*c.H.v.val/100,$=(-1+2*this.Z1())*c.Strt.v.val/100,O=(-1+2*this.Z1())*c.Brgh.v.val/100,n=a.R0(o.Z,o.r,o.J);
n.s_=(n.s_+X+1)%1;n.Z0=n.Z0+$;if(n.Z0<0)n.Z0=-n.Z0;if(n.Z0>1)n.Z0=1-(n.Z0-1);n.NT=n.NT+O;if(n.NT<0)n.NT=-n.NT;
if(n.NT>1)n.NT=1-(n.NT-1);o=a.$Y(n.s_,n.Z0,n.NT)}return o};kD.prototype.zB=function(c){return Math.max(0,Math.min(1,c))};
kD.prototype.Z1=function(c){if(c==null){c=this.cn++}return kD.hash(c)};kD.alX=function(c){return{Z:(c>>16&255)/255,r:(c>>8&255)/255,J:(c>>0&255)/255}};
kD.hash=function(c){c=c^61^c>>16;c=c+(c<<3);c=c^c>>4;c=c*668265261;c=c^c>>15;return(c&16777215)/16777215};
kD.amZ=new iJ;kD.prototype.a2k=function(c,o,K){var u=Math.sqrt(this.bb.Y1[1].P()),X=u*c.ea(),$=X<10?1:X<50?1.5:X<200?3:8;
if(X<30)$=0;var O=kD.amZ,n=O.ay8(this.aeX),x=this.Yg.OF,l=iJ.ayg(c,u),N=O.aAP(n,l);if(N&&iJ.aAL(N.ej,l)>$)N=null;
if(N){N.rect.x=Math.round(N.aji.x+c.hW);N.rect.y=Math.round(N.aji.y+c.qj);N.gE=Date.now()}else{var f=Math.round(this.J.Brsh.v.Dmtr.v.val),z;
if(x&&f<=3){z={channel:a.R(f*f),rect:new ez(Math.round(o.x-f/2),Math.round(o.y-f/2),f,f)};z.channel.fill(255)}else if(c.V==1&&c.J==0&&c.If==0&&c.gI==1){z={channel:this.bb.Y1[0],rect:this.bb.Y1[1].clone()};
z.rect.x=Math.round(c.hW);z.rect.y=Math.round(c.qj)}else{if(c.ea()>1e-4)z=r.W.ia(this.bb.Y1,c)}if(x){for(var Y=0;
Y<z.channel.length;Y++)z.channel[Y]=z.channel[Y]>127?255:0}if(z==null)z={channel:a.R(0),rect:new ez};
N={iY:a.R(z.rect.P()*4),jw:z.channel,rect:z.rect,aji:new kn(z.rect.x-c.hW,z.rect.y-c.qj),ej:l,gE:Date.now()};
a.bp(N.jw,N.iY,3);if(n)O.a71(n,N)}return N};kD.atL=function(c,o,K){var u,X,$,O=c.Brsh.v.Dmtr.v.val,n=c.Brsh.v.classID;
if(n=="computedBrush"){var x=c.Brsh.v.Hrdn.v.val/100;X=O<100?1.4:1;$=1;u=a.ac2.aa8(O,x,X)}if(n=="sampledBrush"){var l;
for(var Y=0;Y<o.length;Y++)if(o[Y].id==c.Brsh.v.sampledData.v)l=o[Y];u=l.Y1;var N=u[1];X=Math.max(N.m,N.e)/O;
$=Math.min(N.m,N.e)/Math.max(N.m,N.e)}return{ags:X,aAI:$,Y1:u}};kD.xS=null;kD.i0=null;kD.Zq=function(c,o,K,u,X,$){var O=kD.xS,n=kD.i0;
if(O==null){kD.xS=O=document.createElement("canvas");kD.i0=n=O.getContext("2d")}if($==null)$=u;if(O.width!=$||O.height!=X){O.width=$;
O.height=X}else n.clearRect(0,0,$,X);n.fillStyle="#000000";n.font=Math.floor(10*r.Sm())+"px sans-serif";
var x=c.Brsh.v.Dmtr.v.val,l=""+x,f=c.useBrushSize;if(f&&f.v)l="---";var z=n.measureText(l);n.fillText(l,(u-z.width)/2,X-2);
var R=u,V=X-10*r.Sm(),d=Math.min(R,V),e=c.Brsh.v.classID;if(e=="computedBrush"){n.translate(R/2,V/2);
n.rotate(-c.Brsh.v.Angl.v.val*Math.PI/180);n.scale(1,.1+.9*c.Brsh.v.Rndn.v.val/100);var p=Math.min(.95*d/2,x/2)+.5,h=.9*c.Brsh.v.Hrdn.v.val/100,E=n.createRadialGradient(0,0,0,0,0,p);
E.addColorStop(h,"rgba(0,0,0,1)");E.addColorStop((.5+h)/1.5,"rgba(0,0,0,.5)");E.addColorStop(1,"rgba(0,0,0,0)");
n.fillStyle=E;n.fillRect(-p,-p,2*p,2*p);n.setTransform(1,0,0,1,0,0)}else if(e=="sampledBrush"){var q,I=0;
for(var Y=0;Y<o.length;Y++)if(o[Y].id==c.Brsh.v.sampledData.v)q=o[Y];var Z=q.Y1;a.Ih(Z);var v=Z[0],W=Z[1].m,D=Z[1].e;
while((W>R||D>V)&&Z[I+2]){I+=2;v=Z[I];W=Z[I+1].m;D=Z[I+1].e}if(W*D!=0){var A=a.R(W*D*4);a.bp(v,A,3);
var U=new ImageData(new Uint8ClampedArray(A.buffer),W,D);n.putImageData(U,Math.round((R-W)/2),Math.round((V-D)/2))}}else{}return O.toDataURL()};
kD.ck=function(c,o,K,u){if(K==0)K=1;var X=c.Brsh.v,$=X.Dmtr.v.val,O=X.Dmtr.v.val=Math.min(u!=null?Math.round(u*2.6):3e3,$*K),n=X.Hrdn?X.Hrdn.v.val/100:1,x=u!=null?u:Math.round(O*(1+.55*(1-n)))+4,f;
x=Math.max(15,Math.min(x,3e3));var l=new ez(0,0,x,x),N=new kD(c,o,null,{FK:1},16711712,0,l);X.Dmtr.v.val=$;
N.moveTo(l.m/2,l.e/2);var z=N.M5(),R=N.G5();if(l.Ug(R))f=z;else{f=a.R(l.P()*4);a.Ui(z,R,f,l)}return[f,l,O]};
kD.aeL=function(c,o,K,u){var X=o.m,$=X>>>1;for(var Y=0;Y<4;Y++){var O=6-Y;c[X*($-O)+$-1]=u;c[X*($-O)+$]=K;
c[X*($-O)+$+1]=u;c[X*($+O)+$-1]=u;c[X*($+O)+$]=K;c[X*($+O)+$+1]=u;c[X*($-1)+$-O]=u;c[X*$+$-O]=K;c[X*($+1)+$-O]=u;
c[X*($-1)+$+O]=u;c[X*$+$+O]=K;c[X*($+1)+$+O]=u}};kD.FW=function(c,o,K,u){var X=kD.ck(c,o,K),$=X[0].slice(0),O=X[1],n=X[2],x=O.P(),l=a.R(x);
a.Sw($,l,3);var N=a.R(x);a.u.auy(l,N,O,r.Sm()>1.9);if(n<3||a.PA(N,0)||u&&n>12){kD.aeL(N,O,255,0)}var f=[3,5,3,4,8,4,3,5,3];
f=a.wq.Lg(f);a.wq.s4(N,l,O.m,O.e,f);a.ms($,4294967295);a.bp(l,$,3);for(var Y=0;Y<x;Y++)if(N[Y]==255){$[Y<<2]=$[(Y<<2)+1]=$[(Y<<2)+2]=0;
$[(Y<<2)+3]=255}return{lD:$,aB:O,Q2:new kn(O.m/2,O.e/2)}};kD.atW=function(c,o,K,u,X){var $=4278190080|Math.round(X.J*255)<<16|Math.round(X.r*255)<<8|Math.round(X.Z*255)<<0;
K=new Uint32Array(K.buffer);var O=Math.floor(c.x),n=Math.floor(c.y),x=Math.floor(o.x),l=Math.floor(o.y),N=Math.abs(x-O),f=Math.abs(l-n),z=O<x?1:-1,R=n<l?1:-1,V=N-f;
while(!0){K[n*u.m+O]=$;if(O==x&&n==l)break;var d=2*V;if(d>-f){V-=f;O+=z}if(d<N){V+=N;n+=R}}};kD.Uw="0";
kD.XL="1";kD.yV="2";kD.Po="3";var hb={};hb.cN=function(c,o,K){if(K==null)K=!0;var u=c.add.TySh,X=u.Bz,$=new ag(X,o,u.im);
c.J9.Bp=$.I4();var O=c.J9.path=hb.tL($,u);if(gN!=0)return[O,$,null];var n=hb.RJ(O,u.i,ii.FN(u));if(K){c.rect=n.aB;
c.buffer=n.PX;c.d()}return[O,$,n]};hb.RJ=function(c,o,K){c={G:c.G,j:c.j.slice(0)};a.A.i(c.j,o,c.j);var u=a.A.P3(c.j),X=0;
for(var Y=0;Y<c.G.length;Y++){var $=c.G[Y];if($[0]=="O"&&$[1]=="-")X=Math.max(X,parseFloat($.split("-").pop()))}X=Math.ceil(X*o.ea()/2);
u.JG(X,X);if(u.SR())return{PX:a.R(0),aB:new ez};var O=a.kW(u.m,u.e);O.translate(-u.x,-u.y);hb.axV(c,O);
var n=O.getImageData(0,0,u.m,u.e),x=new Uint8Array(n.data.buffer);if(K==0)for(var Y=0;Y<x.length;Y+=4)x[Y+3]=x[Y+3]>80?255:0;
if(K==3)for(var Y=0;Y<x.length;Y+=4)x[Y+3]=Math.min(255,x[Y+3]*1.5);O.resetTransform();O.beginPath();
return{PX:x,aB:u}};hb.tL=function(c,o,K){var u=o.i,X=o.Bz;hb.Jq=u.ea();var $=ii.FN(o),O=Math.max(u.J*u.J,u.If*u.If)<1e-9?u:null;
if($==3||$==4)O=null;var n={G:[],j:[]};hb.a1Z(c,n,O,!0);hb.a1Z(c,n,O,!1);n=hb.AS(n,o,c,K);return n};
hb.Jq=1;hb.AS=function(c,o,K,u){if(c==null)return c;if(K&&K.nA)a.A.i(c.j,K.nA,c.j);if(K&&!a.Pw.ex(o.KB)){var X=ii.G5(o,K);
if(!X.SR()){if(c.G){c=a.A.dv(c);var $=Math.min(X.m,X.e)/8;if($<1)$=1;c=a.A.v3(c,$)}var O=a.Pw.N1(o.KB,X);
a.ul.i(O,c.j,X)}}var n=o.i;if(u)a.A.i(c.j,n,c.j);return c};hb.axV=function(c,o){o.save();o.miterLimit=2;
Typr.U.pathToContext({crds:c.j,cmds:c.G},o);o.restore()};hb.HK=function(c,o,K){var u=ag.auz(K),X=c.Bz,$=X.ResourceDict.FontSet,O=X.ResourceDict.StyleSheetSet[0].StyleSheetData,n=X.EngineDict.StyleRun.RunLengthArray,x=X.EngineDict.StyleRun.RunArray,l=ii.lo(X),N=!0,f={},z=0;
for(var Y=0;Y<x.length;Y++){var R=x[Y].StyleSheet.StyleSheetData.Font;if(R==null)R=O.Font;for(var V=0;
V<n[Y];V++){var d=l.charCodeAt(z+V),e=R+","+(d>128?d:-1);if(f[e]==null){f[e]=1;if(o.YW($[R].Name,d)==null)N=!1}}z+=n[Y]}return N&&u};
hb.t0=function(c,o,K){var u=!0;for(var X=0;X<c.s.length;X++){var $=c.s[X],O=$.add.TySh;if(O!=null&&!hb.HK(O,o,K))u=!1}return u};
hb.Bw=function(c,o,K){for(var u=0;u<c.s.length;u++){var X=c.s[u],$=X.add.TySh;if($!=null&&hb.HK($,o,K)){hb.cN(X,o);
c.d()}}};hb.a1Z=function(c,o,K,u){var X=new bE;for(var Y=0;Y<c.Xi.length;Y++)hb.a2l(c.W$,c.Xi[Y],o,X,K,u)};
hb.a2l=function(c,o,K,u,X,$){u.translate(o.J1.x,o.J1.y);for(var Y=0;Y<o.qw.length;Y++){var O={},n=o.qw[Y];
if(!n.qr)break;var x=u.clone();x.translate(n.J1.x,n.J1.y);if(X){var l=X.qj+x.qj*X.gI;x.qj=(Math.round(l)-X.qj)/X.gI}for(var N=n.start;
N<n.end;N++)hb.agi(c,o.dz[N],o,O,K,x,$)}u.translate(-o.J1.x,-o.J1.y)};hb.aCp="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
hb.agi=function(c,o,K,u,X,$,O){$.translate(o.J1.x,o.J1.y);for(var n=o.wg;n<=o.h6;n++){var x=K.O5[n],l=x.aB.m,N=c[K.abM+x.TR],f=N.V9._FillBackgroundFlag;
if(N.OB=="\n"||O&&!f)continue;var z=N.V9.FontSize/N.Au.head.unitsPerEm,R=$.clone();R.translate(x.J1.x+x.BH*z,x.J1.y-x.rE*z);
var V=new bE;V.scale(z,-z);if(N.RW==1&&hb.aCp.indexOf(N.OB)!=-1)V.concat(new bE(-1,0,0,1,l,0));if(N.V9.FauxItalic)V.concat(new bE(1,0,-Math.tan(.18),1,0,0));
V.translate(0,N.ZH);V.scale(N.scale.x,N.scale.y);if(N.V9.BaselineShift!=null)V.translate(0,-N.V9.BaselineShift);
if(x.yp!=0){V.rotate(-x.yp)}V.concat(R);var d=(N.V9._LineWidth?N.V9._LineWidth:1)*hb.Jq;if(O){X.G.push(hb.CY(N.V9._FillBackgroundColor));
var e=1.005*x.aB.e/z,p=new ez(-x.BH,-e*.27,1.03*x.aB.m/(z*N.scale.x),e);if(N.V9.StrokeFlag)p.JG(d/z,d/z);
a.A.concat(X,a.A.W6(p),V);X.G.push("X");continue}if(N.V9.FillFlag)X.G.push(hb.CY(N.V9.FillColor));if(N.V9.StrokeFlag)X.G.push("O-"+hb.CY(N.V9.StrokeColor)+"-"+d);
if(x.path.G.length!=0&&N.OB!="\t"){if(N.V9.FauxBold){var h=N.V9.FontSize/2048*27*N.scale.x,E=Math.cos(x.yp)*h,q=Math.sin(x.yp)*h;
V.hW+=E;V.qj+=q;a.A.concat(X,x.path,V);V.hW-=E+E;V.qj-=q+q;a.A.concat(X,x.path,V)}else a.A.concat(X,x.path,V)}if(N.OB!="\n"){var Z=x.aB.m/z;
if(N.V9.Underline){if(u.ee==null)u.ee=N.Au.post.underlineThickness;if(u.adr==null)u.adr=N.Au.post.underlinePosition;
var v=0,W=u.adr-u.ee/2,D=-u.ee;a.A.concat(X,{G:["M","L","L","L","Z"],j:[v,W,v+Z,W,v+Z,W+D,v,W+D]},V)}if(N.V9.Strikethrough){var I=N.Au["OS/2"].yStrikeoutSize,A=N.Au["OS/2"].yStrikeoutPosition,v=0,W=A+I/2,D=-I;
a.A.concat(X,{G:["M","L","L","L","Z"],j:[v,W,v+Z,W,v+Z,W+D,v,W+D]},V)}}if(N.V9.FillFlag)X.G.push("X");
if(N.V9.StrokeFlag)X.G.push("OX")}$.translate(-o.J1.x,-o.J1.y)};hb.CY=function(c){var o=ii.h0(c),K=(Math.round(o.Z)<<16)+(Math.round(o.r)<<8)+Math.round(o.J);
return"#"+a.On(K)};function ag(c,o,K){var u=ii.DG(c),X,$,O=ii.Wy(c),n=c._LineOrientation==2?new bE:null,f,R;
if(c.Curve)$=ag.MH(c.Curve);if(u!=0){X=new ez(O[0],O[1],O[2],O[3]);if(n){var x=X.m;X.m=X.e;X.e=x;n.translate(0,-O[2])}if(u==2){X.m=$[5]-$[4];
X.e=9999}}this.Xi=[];this.W$=[];this.RL=u;this.nA=n;var l=this.ass=ii.lo(c),N=-1,z=-1;for(var Y=0;Y<l.length;
Y++){var V=f,d=ii.ar4(c,Y);if(d!=N){N=d;V=f=ii.aq0(c,d)}var e=R,d=ii.a2K(c,Y);if(d!=z){z=d;e=R=ii.axM(c,d)}var p={OB:l.charAt(Y),V9:V,Au:null,nB:-1,Ei:ii.aDJ(c,Y),ZH:0,scale:new kn(0,0),vc:0,lineHeight:0,RW:0},h=c.ResourceDict.FontSet[V.Font].Name,E=p.Au=o.YW(h,l.charCodeAt(Y));
p.scale.x=V.HorizontalScale==null?1:V.HorizontalScale;p.scale.y=V.VerticalScale==null?1:V.VerticalScale;
var q=E["OS/2"],Z=E.hhea;if(V.FontCaps==1&&p.OB!=p.OB.toUpperCase()){var v=q.sxHeight?q.sxHeight/q.sTypoAscender:.76;
p.scale.x*=v;p.scale.y*=v}var W=1/E.head.unitsPerEm*V.FontSize;if(V.FontBaseline==1){var v=c.ResourceDict.SuperscriptSize;
p.scale.x*=v;p.scale.y*=v;p.ZH-=c.ResourceDict.SuperscriptPosition*V.FontSize}if(V.FontBaseline==2){var v=c.ResourceDict.SubscriptSize;
p.scale.x*=v;p.scale.y*=v;p.ZH+=c.ResourceDict.SubscriptPosition*V.FontSize}p.vc=ag.vc(E)*V.FontSize;
var D=e.AutoLeading;p.lineHeight=V.FontSize*(D==null?1.2:D);if(V.AutoLeading==!1)p.lineHeight=V.Leading;
if(p.lineHeight==0)p.lineHeight=.01;this.W$.push(p)}var I=this.Xi,A=[0];for(var Y=0;Y<c.EngineDict.ParagraphRun.RunLengthArray.length;
Y++){var U=new ag.xM(c,o,this.W$,Y,X,A,u==1?$:null);I.push(U)}if(n){if(u==0)n.translate(0,I[0].dz[0].vc/2);
n.rotate(-Math.PI/2)}if(u==2){var w=c.Curve.Points,t=$[0],L=$[1],J=$[2],b=$[3],F=$[4],B=$[5];for(var Y=0;
Y<I.length;Y++)for(var k=0;k<I[Y].qw.length;k++)if(!(Y==0&&k==0))I[Y].qw[k].qr=!1;var U=I[0],i=U.qw[0];
U.J1.Q7(0,0);i.J1.Q7(0,0);for(var k=i.start;k<i.end;k++){var H=U.dz[k],m=H.J1.x;H.J1.x=0;for(var j=H.wg;
j<=H.h6;j++){var Q=U.O5[j],G=Q.aB.m/2;Q.J1.x+=m;var g=ag.as2(t,(F+Q.J1.x+G)%b);Q.J1.x=g[0]-G*g[2];Q.J1.y=g[1]-G*g[3];
Q.yp=Math.atan2(g[3],g[2])}}}if(K){var P=K.VAlign.v;if(P!=0&&ii.DG(c)==1){var M=ii.Wy(c)[3],T=this.I4().e,C=0;
if(P==1)C=M-T;if(P==2)C=(M-T)/2;for(var Y=0;Y<this.Xi.length;Y++)this.Xi[Y].J1.y+=C}}}ag.vc=function(c){var o=c._hhhh;
if(o==null){var K=Typr.U,u=K.codeToGlyph(c,104),X=a.A.jl(Typr.U.glyphToPath(c,u).crds).e;o=c._hhhh=X*(1/c.head.unitsPerEm)}return o};
ag.prototype.ag2=function(){return!this.au8(0)};ag.prototype.abJ=function(){return this.au8(1)};ag.prototype.au8=function(c){var o=this.Xi,K=!0,u=0;
for(var Y=0;Y<o.length;Y++){var X=o[Y].qw,$=X.length;u+=$;for(var O=0;O<$;O++)K&=X[O].qr}return[K,u][c]};
ag.MH=function(c,o,K){if(o==null)o=.25;var u=c.Points,X=u.length,$=X>>>3,O=c.TextOnPathTRange,n=c.Reversed,z=0,R=0;
if(n){var x=u.slice(0);for(var Y=0;Y<X;Y+=2){x[Y]=u[X-2-Y];x[Y+1]=u[X-1-Y]}u=x;O=[$-O[1]%$,$-O[0]%$]}var l=[],N=[0],f=[0];
for(var Y=0;Y<X;Y+=8){var V=u[Y+6]-u[Y+0],d=u[Y+7]-u[Y+1],e=Math.round(Math.sqrt(V*V+d*d)/o),p=K&&Y==X-8?e+1:e;
for(var h=0;h<p;h++){var E=h/e,q=1-E,Z=q*q*q*u[Y+0]+3*q*q*E*u[Y+2]+3*q*E*E*u[Y+4]+E*E*E*u[Y+6],v=q*q*q*u[Y+1]+3*q*q*E*u[Y+3]+3*q*E*E*u[Y+5]+E*E*E*u[Y+7];
l.push(Z,v);if(Y+h!=0){var V=Z-z,d=v-R;f.push(f[f.length-1]+Math.sqrt(V*V+d*d));N.push((Y>>>3)+E)}z=Z;
R=v}}var o=f.length,W=f[o-1],D=ag.FC(O[0]%$,N),I=ag.FC(O[1]%$,N),A=f[D%o],U=f[I%o];if(A>=U)U+=W;return[l,N,f,W,A,U]};
ag.FC=function(c,o){var Y=0;while(o[Y]<c)Y++;return Y};ag.as2=function(c,o){var K=0,Y=0,u,X,$;while(K<o){u=c[Y+2]-c[Y];
X=c[Y+3]-c[Y+1];$=Math.sqrt(u*u+X*X);K+=$;Y+=2}return[c[Y],c[Y+1],u/$,X/$]};ag.prototype.a47=function(c){return this.W$[c]};
ag.prototype.az1=function(c){for(var o=0;o<this.Xi.length;o++){var K=this.Xi[o];for(var u=0;u<K.qw.length;
u++){var X=K.qw[u],$=K.dz[X.start].start,O=K.dz[X.end-1].end;if($<c&&c<O)return[$,O-1]}}return[0,1]};
ag.prototype.aBS=function(c,o){var K=-1,u=this.Xi;if(this.RL==2){var X=1e9,$=0,O=u[0],n=O.qw[0];for(var x=n.start;
x<n.end;x++){var l=O.dz[x];for(var N=l.wg;N<=l.h6;N++){var f=O.O5[N],z=f.aB.m,R=c.x-f.J1.x,V=c.y-f.J1.y,d=R*R+V*V;
if(d<X){X=d;$=f.TR}}}if($!=0&&this.ass.codePointAt($-1)>65535)$--;return $}for(var e=0;e<u.length;e++){var O=u[e];
for(var p=0;p<O.qw.length;p++){K++;var n=O.qw[p],h=O.qw[p+1];if(h==null&&e<u.length-1)h=u[e+1].qw[0];
if(o!=null){if(K!=o)continue}else{if(h!=null&&O.J1.y+n.J1.y<c.y)continue}for(var x=n.start;x<n.end;x++){var l=O.dz[x];
for(var N=l.wg;N<=l.h6;N++){var f=O.O5[N],z=f.aB.m,E=O.J1.x+n.J1.x+l.J1.x,q=E+f.J1.x,Z=E+(N<l.h6?O.O5[N+1].J1.x:f.J1.x+z);
if(c.x<=Z||x+1==n.end&&N==l.h6){var v=O.abM+f.TR,W=this.W$[v],D=W.RW&1;if(W.OB!="\n"&&(D==0&&c.x>q+z/2||D==1&&c.x<q+z/2))v+=this.ass.codePointAt(v)>65535?2:1;
return v}}}}}};ag.prototype.Vc=function(c){var o={aB:new ez,vE:0},K=0;for(var u=0;u<this.Xi.length;u++){var X=this.Xi[u];
for(var $=0;$<X.qw.length;$++){var O=X.qw[$];o.vE=K;K++;for(var n=O.start;n<O.end;n++){var x=X.dz[n];
for(var l=x.start;l<x.end;l++){if(l==c){var N=this.W$[l],f=N.nB,z=X.O5[f].TR,R=1;while(X.O5[f]!=null&&X.O5[f].TR==z){var V=X.O5[f],d=X.J1.x+O.J1.x+x.J1.x+V.J1.x,e=X.J1.y+O.J1.y+x.J1.y+V.J1.y;
o.aB=o.aB.X3(new ez(d,e-N.lineHeight,V.aB.m,N.lineHeight));o.yp=V.yp;f+=R}return o}}}}}};ag.prototype.I4=function(){var c=Infinity,o=Infinity,K=-Infinity,u=-Infinity;
for(var Y=0;Y<this.Xi.length;Y++){var X=this.Xi[Y];for(var $=0;$<X.qw.length;$++){var O=X.qw[$];if(!O.qr)break;
for(var n=O.start;n<O.end;n++){var x=X.dz[n];for(var l=x.wg;l<=x.h6;l++){var N=X.O5[l],f=N.aB,z=X.J1.x+O.J1.x+x.J1.x+N.J1.x,R=X.J1.y+O.J1.y+x.J1.y+N.J1.y;
c=Math.min(c,z+f.x);o=Math.min(o,R+f.y);K=Math.max(K,z+f.x+f.m);u=Math.max(u,R+f.y+f.e)}}}}return new ez(c,o,K-c,u-o)};
ag.lL=function(c){return 19968<=c&&c<=40959||12288<=c&&c<=12543};ag.p$=function(c,o,K,u,X,$,O){var n=[$],x=0;
for(var Y=$;Y<O;Y++){if(K[Y]==null)console.log(Y,$,O,K);var l=K[Y].OB,N=l.charCodeAt(0);if(N==32||N==9){n.push(x,Y,1,Y+1);
x=0}else if(N==3851){n.push(x+1,Y+1);x=0}else if(ag.lL(N)){n.push(x,Y);x=1}else if(Y!=$&&K[Y].RW!=K[Y-1].RW){n.push(x,Y);
x=1}else x++}n.push(x);var f=[];for(var Y=0;Y<n.length;Y+=2){var z=n[Y],R=n[Y+1];if(R==0)continue;f.push(new ag.aiR(c,o,K,u,X,z,R))}return f};
ag.a1T=function(c,o,K,u,X,$,O){var n=[0,o?o.m:1e9],x=[];if(u){var l=c[$].vc,N=X+(X==0?l:c[$].lineHeight),f=N-l*.9,z=a.A.asF(u[0],f),R=z.length,V=a.A.asF(u[0],N),d=V.length;
if(R!=0&&d!=0){var e=0,p=0,h=[];while(e<R&&p<d){var E=Math.max(z[e],V[p]),q=z[e+1],Z=V[p+1],v=Math.min(q,Z);
if(E<v)h.push(E,v);if(q<Z)e+=2;else p+=2}if(h.length!=0)n=h}}for(var W=0;W<n.length;W+=2){var D=0,I=$,A=o?n[W+1]-n[W]-K.StartIndent-K.EndIndent-($==0?K.FirstLineIndent:0):Infinity;
while($!=c.length){var U=c[$],w=D==0||(U.cK||U.hl)||D+U.aB.m<A;if(!w)break;D+=U.aB.m;$++}x.push($-I)}O[0]=x;
O[1]=n;O[2]=$};ag.auR=function(c,o){var K=c.length,u=new Uint32Array(K),X=new Uint8Array(K),$=0;for(var Y=0;
Y<K;Y++){X[Y]=0;var O=c.charCodeAt(Y);u[Y]=O;if(O>$)$=O}if($>1424)X=ag.awN(u,o);return X};ag.a9v=function(c){return c=="ß"?c:c.toUpperCase()};
ag.xM=function(c,o,K,u,X,$,O){this.dz=[];this.qw=[];this.J1=new kn(0,0);this.O5=null;this.dz=null;this.V9=ii.axM(c,u);
var n=this.V9,f=0,V="",E=0,q=1,j=0;if(u!=0){var x=n.SpaceBefore;if(x!=null)$[0]+=x}var l=c.EngineDict.ParagraphRun.RunLengthArray,N=l[u];
for(var Y=0;Y<u;Y++)f+=l[Y];var z=n._Direction?n._Direction:0;this.abM=f;var R=ii.lo(c).slice(f,f+N);
for(var d=0;d<R.length;d++){var e=R.charAt(d);V+=K[f+d].V9.FontCaps==0?e:ag.a9v(e)}R=V;var p=ag.auR(R,z),h=[],Z=p[Y]&1,v=K[f].Au;
K[f].RW=p[0];for(var Y=1;Y<R.length;Y++){var e=K[f+Y],W=p[Y];e.RW=W;if(W!=Z||e.Au!=v){h.push(E,q);E=Y;
q=1;Z=W;v=e.Au}else q++}h.push(E,q);var D=this.O5=[];for(var Y=0;Y<h.length;Y+=2){var I=h[Y],A=h[Y+1],U=(K[f+I].RW&1)==0,w=R.slice(I,I+A),t=Typr.U.shapeHB(K[f+I].Au,w,U),L=[],F=0;
for(var d=0;d<t.length;d++){var J=t[d];L.push({r:J.g,TR:J.cl,ct:J.ax,TY:J.ay,BH:J.dx,rE:J.dy})}t=L;var b=t.slice(0);
if(!U)b.reverse();for(var d=0;d<w.length;d++){while(F+1<b.length&&b[F+1].TR<=d){F++}while(F>0&&b[F-1].TR==d)F--;
K[f+I+d].nB=D.length+(U?F:b.length-F-1)}for(var d=0;d<t.length;d++){D.push(t[d]);t[d].TR+=I;var e=K[f+t[d].TR];
if(e.Ei!=-1&&e.Ei<e.Au.maxp.numGlyphs){t[d].r=e.Ei;var B=e.Au.hmtx;if(B){var k=Object.keys(B)[0];t[d].ct=B[k][e.Ei]}}if(e.OB=="\n")t[d].ct=0;
if(e.OB=="\t")t[d].ct=e.Au.head.unitsPerEm*36/e.V9.FontSize}}var i=ii.wi(n),H=this.dz=ag.p$(c,o,K,f,D,f,f+N),m=this.qw,Q=-1,V=[null,null,0];
while(j<H.length){ag.a1T(H,X,n,O,$[0],j,V);Q++;var G={start:j,end:0,aB:new ez,J1:new kn(0,0),qr:!0},hs=0,cq=0;
m.push(G);G.end=V[2];if(G.start==G.end)throw"e";var g=G.end==H.length;function P(b,I,hk){var ds=hk-I>>>1;
for(var Y=0;Y<ds;Y++){var gT=b[I+Y];b[I+Y]=b[hk-1-Y];b[hk-1-Y]=gT}}for(var M=1;M<5;M++){var T=-1;for(var Y=G.start;
Y<G.end;Y++){var W=K[H[Y].start].RW;if(T==-1&&W>=M)T=Y;else if(T!=-1&&W<M){P(H,T,Y);T=-1}}var C=G.end;
if(z==0&&H[C-1].cK)C--;if(T!=-1)P(H,T,C)}var gf=V[0],s=V[1],T=j,b3=j;for(var d5=0;d5<s.length;d5+=2){var gh=X?s[d5+1]-s[d5]-n.StartIndent-n.EndIndent-(j==0?n.FirstLineIndent:0):Infinity,jt=0;
T=b3;b3+=gf[d5>>>1];var fl=this.aBa(T,b3,H,z,X!=null);if(X){if(i==1||g&&i==4)jt=fl[1]+(gh-fl[0]);if(i==2||g&&i==5)jt=fl[1]+(gh-fl[0])/2;
if(b3-T==1&&H[T].aB.m>gh)jt=0;if(Q==0)jt+=n.FirstLineIndent;jt+=n.StartIndent}else{if(i==0)jt=n.StartIndent+n.FirstLineIndent;
if(i==1)jt=-fl[0]-n.EndIndent;if(i==2)jt=-fl[0]/2}jt+=s[d5];if(X&&i>2&&(i==6||!g))this.alJ(T,b3,H,gh,z,jt);
else{var eq=jt;for(var Y=T;Y<b3;Y++){var c7=H[Y],k8=c7.aB.m;c7.J1.x=eq;if(c7.Wr=="\t")k8=Math.ceil((eq+4)/36)*36-eq;
eq+=k8}}}j=G.end;for(var Y=G.start;Y<G.end;Y++){var jn=H[Y].aB.clone();jn.la(H[Y].J1);G.aB=G.aB.X3(jn);
hs=Math.max(hs,H[Y].vc);cq=Math.max(cq,H[Y].lineHeight)}G.J1.y=Q==0?0:m[Q-1].J1.y+cq;if(Q==0){if(u==0&&X)$[0]+=hs;
if(u!=0)$[0]+=cq;this.J1.y=$[0]}else $[0]+=cq;if(X)G.qr=this.J1.y+G.J1.y<X.y+X.e||u==0&&Q==0}var an=n.SpaceAfter;
if(an!=null)$[0]+=an};ag.xM.prototype.aBa=function(c,o,K,u,X){var $=0,O=0;for(var Y=c;Y<o;Y++)$+=K[Y].aB.m;
if(X){if(u==0)for(var Y=o-1;Y>=c;Y--)if(K[Y].cK||K[Y].hl)$-=K[Y].aB.m;else break;if(u==1)for(var Y=c;
Y<o;Y++)if(K[Y].cK||K[Y].hl){var n=K[Y].aB.m;$-=n;O-=n}else break}return[$,O]};ag.xM.prototype.alJ=function(c,o,K,u,X,$){var O=0,n=0,x=0,l=0;
for(var Y=c;Y<o;Y++)if(K[Y].cK)x++;else{O+=K[Y].aB.m;n++}if(X==0)for(var Y=o-1;Y>=c;Y--)if(K[Y].cK||K[Y].hl){if(K[Y].cK){x--}}else break;
if(X==1)for(var Y=c;Y<o;Y++)if(K[Y].cK||K[Y].hl){if(K[Y].cK){x--;l++}}else break;if(n<=1||x==0){if(n==1)K[c].J1.x=$;
return}var N=(u-O)/x,f=-l*N;for(var Y=c;Y<o;Y++){if(K[Y].cK)this.O5[K[Y].wg].aB.m=K[Y].aB.m=N;K[Y].J1.x=$+f;
f+=K[Y].aB.m}};ag.aiR=function(c,o,K,u,X,$,O){this.Wr="";for(var Y=0;Y<O;Y++)this.Wr+=K[$+Y].OB;this.cK=O==1&&(K[$].OB==" "||K[$].OB=="\t");
this.hl=O==1&&K[$].OB=="\n";this.start=$;this.end=$+O;this.aB=new ez;this.J1=new kn(0,0);this.vc=0;this.lineHeight=0;
var n=0,x=0;if(O==0){this.lineHeight=K[$].lineHeight;this.vc=K[$].vc;this.aB=new ez(0,-K[$].lineHeight,0,K[$].lineHeight)}var l=K[$].nB,N=K[$+O-1].nB;
if(N<l){var f=l;l=N;N=f}while(N+1<X.length&&X[N].TR==X[N+1].TR){N++}this.wg=l;this.h6=N;for(var z=l;
z<=N;z++){var R=X[z],V=K[u+R.TR],d=c._LineOrientation==2&&(V.V9.BaselineDirection!=2||ag.lL(V.OB.charCodeAt(0))),e=Typr.U.glyphToPath(V.Au,R.r),Z=0;
R.path={G:e.cmds,j:e.crds};var p=V.V9.FontSize,h=1/V.Au.head.unitsPerEm*p;if(!V.V9.AutoKerning)n+=V.V9.Kerning*2*h*V.scale.x;
R.J1=new kn(n,0);R.yp=0;if(d&&R.path.j.length>0){R.yp=-Math.PI/2;R.J1.x+=p*.83;R.J1.y=-p*.3+R.ct*h/2;
R.ct=p/h}var E=R.ct*h*V.scale.x;R.aB=new ez(0,-V.lineHeight,E,V.lineHeight);var q=R.aB.clone();q.la(R.J1);
if(V.V9.Tracking!=null)Z=V.V9.Tracking*.001*p;if(V.V9.FauxBold==!0)Z+=.027*p;n+=E+Z;if(z<X.length-2)R.aB.m+=Z;
if(O==1&&V.OB==" "){q.m+=2*Z;R.J1.x+=Z}else if(O==1&&V.OB!=null&&ag.lL(V.OB.charCodeAt(0)))q.m+=Z;this.aB=this.aB.X3(q);
this.vc=Math.max(this.vc,V.vc);this.lineHeight=Math.max(this.lineHeight,V.lineHeight)}};ag.R6=0;ag.auz=function(c){if(ag.R6==2)return!0;
if(ag.R6==1)return!1;ag.R6=1;function o(){fetch("code/ext/fribidi.wasm").then(function(K){return K.arrayBuffer()}).then(function(K){return WebAssembly.instantiate(K)}).then(function(K){var u=K.instance.exports,X=u.memory,$=16,O=256,n=1,x=$|O,l=$|O|n;
ag.awN=function(f,z){var R=f.length,V=R*4+4+R*4+R*4+R;c5.k3(u,V+R+1e7);var d=new Uint8Array(X.buffer),e=new Uint32Array(X.buffer),p=u.calloc(V,1),h=p+R*4,E=h+4,q=E+R*4,Z=q+R*4;
e.set(f,p>>>2);e[h>>>2]=z==0?x:l;u.fribidi_get_bidi_types(p,R,E);u.fribidi_get_bracket_types(p,R,E,q);
u.fribidi_get_par_embedding_levels_ex(E,q,R,h,Z);var v=d.slice(Z,Z+R);u.free(p);return v};ag.R6=2;var N=new ev(y.E.M,!0);
N.data={Y:y.H.NU,Zk:"add",EU:iD.gk,Ye:null};c.I(N)})}Typr.U.initHB("code/ext/hb.wasm",o);return!1};function ii(){}ii.JM=function(c){return JSON.parse(JSON.stringify(c))};
ii.oo=function(c,o){for(var K in o)c[K]=o[K]};ii.eS=function(c,o,K,u){var X=ii.a9n();if(K)ii.r2(X,0,0,K);
var $=new bE;if(u!=null)$.rotate(u);$.translate(Math.round(c),Math.round(o));var O={i:$,Bz:X};O.im=ii.ato();
O.KB=a.Pw.R();O.FD=new ez;return O};ii.a7q=function(c){var o=["CharacterDirection",0];for(var Y=0;Y<o.length;
Y+=2){if(c[o[Y]]!=null&&c[o[Y]]!=o[Y+1]){throw"e";console.log(o[Y],c[o[Y]])}}if(c instanceof Array)for(var Y=0;
Y<c.length;Y++)ii.a7q(c[Y]);else if(c instanceof Object)for(var K in c)ii.a7q(c[K])};ii.wi=function(c,o){if(o==null)o=c.Justification;
var K=c._Direction?c._Direction:0;if(K==1){if(o==0||o==3)o++;else if(o==1||o==4)o--}return o};ii.$R=function(c){if(c.add==null)return;
var o=c.Bz,K=o.Curve,u=c.add.vmsk,X=u.$,$=a.A.Uk(X,2).j,O=c.i.clone();O.fH();a.A.i($,O,$);var n=$.slice(0,8);
for(var x=8;x<$.length;x+=6)n.push($[x-2],$[x-1],$[x],$[x+1],$[x+2],$[x+3],$[x+4],$[x+5]);K.Points=n;
K.TextOnPathTRange=u.$C.slice(0);K.Reversed=u.GL;if(ii.DG(o)==1){var K=ag.MH(o.Curve),l=a.A.jl(K[0]);
ii.lf(o,[0,0,l.m,l.e].map(Math.round));for(var Y=0;Y<n.length;Y+=2){n[Y]-=l.x;n[Y+1]-=l.y}var N=new bE(1,0,0,1,l.x,l.y);
N.concat(c.i);c.i=N}};ii.Bm=function(c){if(c.add==null)return;var o=c.add.vmsk,K=c.Bz.Curve,u=K.Points,X={G:["M"],j:[u[0],u[1]]};
for(var Y=0;Y<u.length;Y+=8){X.G.push("C");X.j.push(u[Y+2],u[Y+3],u[Y+4],u[Y+5],u[Y+6],u[Y+7])}a.A.i(X.j,c.i,X.j);
var $=a.A.lR(X,!0);o.$=$;o.GL=K.Reversed;o.$C=K.TextOnPathTRange.slice(0);c.add.vogk=gU.$h($)};ii.h0=function(c){var o={Z:0,r:0,J:0};
if(c){var K=c.Values;if(c.Type==1)o={Z:K[1]*255,r:K[2]*255,J:K[3]*255};else if(c.Type==2){var u={classID:"CMYC",Cyn:{t:"doub",v:K[1]*100},Mgnt:{t:"doub",v:K[2]*100},Ylw:{t:"doub",v:K[3]*100},Blck:{t:"doub",v:K[4]*100}};
o=a.T.h0(u)}else console.log("Unknown color type")}return o};ii.auh=function(c){for(var Y=0;Y<c.length;
Y++){var o=c[Y].StyleSheet.StyleSheetData,K=o.FillColor;if(K&&K.Type==2){var u=ii.h0(K);K.Type=1;K.Values=[1,u.Z/255,u.r/255,u.J/255]}}};
ii.G5=function(c,o){var K;if(ii.DG(c.Bz)==1){var u=ii.Wy(c.Bz);K=new ez(0,0,u[2]-u[0],u[3]-u[1])}else{K=o.I4();
if(o.nA){var X=o.nA.clone(),$=a.A.W6(K);a.A.i($.j,X,$.j);K=a.A.jl($.j)}}return K};ii.Jv=function(c){var o=c[0];
for(var Y=0;Y<c.length;Y++)o=ii.a1y(o,c[Y]);return o};ii.a1y=function(c,o){var K={};for(var u in c)if(JSON.stringify(c[u])==JSON.stringify(o[u]))K[u]=c[u];
return K};ii.CQ=function(c,o){var K=c.c9,u=-1;for(var Y=0;Y<K.length;Y++)if(K[Y].Name==o)u=Y;if(u==-1){u=K.length;
K.push({FontType:1,Name:o,Script:0,Synthetic:0})}c.W$.Font=u};ii.lo=function(c){return c.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
ii.W2=function(c,o){c.EngineDict.Editor.Text=o.replace(/\n/g,"\r")};ii.DG=function(c){return c.Curve&&c.Curve.TextOnPathTRange[0]>=0?2:c.EngineDict.Rendered.Shapes.Children[0].ShapeType};
ii.lG=function(c,o){var K=c.EngineDict.Rendered.Shapes.Children[0];K.ShapeType=o;var u=K.Cookie.Photoshop;
u.ShapeType=o;u.Base.ShapeType=o;if(o==0){delete u.BoxBounds;u.PointBase=[0,0]}if(o==1){delete u.PointBase;
u.BoxBounds=[0,0,1,1]}};ii.Wy=function(c){return c.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
ii.lf=function(c,o){c.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=o};ii.aDJ=function(c,o){var K=c.EngineDict.AlternateGlyphRun;
if(K==null)return-1;var u=ii.Q0(K.RunLengthArray,o).r8;if(K.RunArray[u]==null)return-1;var X=K.RunArray[u].Glyph;
return X==null?-1:X};ii.a27=function(c,o,K){var u=c.EngineDict.AlternateGlyphRun;if(u==null){u=c.EngineDict.AlternateGlyphRun=ii.abL();
u.RunArray.push({});u.RunLengthArray.push(ii.lo(c).length)}var X=ii.Q0(u.RunLengthArray,o),$=X.r8,O=o-X.p6,n=u.RunArray[$],x=JSON.stringify(n),l=u.RunLengthArray[$];
if(O!=0){u.RunArray.splice($,0,JSON.parse(x));u.RunLengthArray.splice($,0,O);u.RunLengthArray[$+1]-=O;
$++;l-=O;O=0}if(l!=1){u.RunArray.splice($+1,0,JSON.parse(x));u.RunLengthArray.splice($+1,0,l-1);u.RunLengthArray[$]=1;
l=1}n.Glyph=K};ii.ar4=function(c,o){var K=c.EngineDict.StyleRun.RunLengthArray;return ii.Q0(K,o).r8};
ii.aq0=function(c,o){var K=c.ResourceDict.StyleSheetSet[0].StyleSheetData,u={};for(var X in K)u[X]=K[X];
var $=c.EngineDict.StyleRun.RunArray[o].StyleSheet.StyleSheetData;ii.oo(u,$);return u};ii.a2K=function(c,o){var K=c.EngineDict.ParagraphRun.RunLengthArray;
return ii.Q0(K,o).r8};ii.axM=function(c,o){var K=c.ResourceDict.ParagraphSheetSet[0].Properties,u={};
for(var X in K)u[X]=K[X];var $=c.EngineDict.ParagraphRun.RunArray[o].ParagraphSheet.Properties;ii.oo(u,$);
var O=["StartIndent","EndIndent","FirstLineIndent"];for(var Y=0;Y<3;Y++)if(u[O[Y]]==null)u[O[Y]]=0;return u};
ii.FO=function(c,o,K){if(K=="")return;var u=ii.lo(c);ii.W2(c,u.substring(0,o)+K+u.substring(o,u.length));
var X=c.EngineDict.StyleRun,$=X.RunLengthArray,O=ii.Q0($,o-1);$[O.r8]+=K.length;var n=c.EngineDict.AlternateGlyphRun;
if(n){var $=n.RunLengthArray,O=ii.Q0($,o-1);$[O.r8]+=K.length}var x=c.EngineDict.ParagraphRun,$=x.RunLengthArray,l=ii.Q0($,o),N=K.split("\n");
if(N.length==1){$[l.r8]+=K.length;return}$.splice(l.r8+1,0,$[l.r8]-(o-l.p6));x.RunArray.splice(l.r8+1,0,ii.JM(x.RunArray[l.r8]));
$[l.r8]-=$[l.r8+1];$[l.r8]+=N[0].length+1;for(var Y=1;Y<N.length-1;Y++){x.RunArray.splice(l.r8+Y,0,ii.JM(x.RunArray[l.r8+Y-1]));
x.RunLengthArray.splice(l.r8+Y,0,N[Y].length+1)}$[l.r8+N.length-1]+=N[N.length-1].length};ii.Ki=function(c,o,K){var u=ii.lo(c);
ii.W2(c,u.substring(0,o)+u.substring(K,u.length));ii.Sa(c.EngineDict.ParagraphRun,o,K,!0);ii.Sa(c.EngineDict.StyleRun,o,K,!1);
var X=c.EngineDict.AlternateGlyphRun;if(X)ii.Sa(X,o,K,!1)};ii.Sa=function(c,o,K,u){var X=c.RunLengthArray,$=ii.Q0(X,o),O=ii.Q0(X,K),n=[];
for(var Y=0;Y<X.length;Y++)for(var x=0;x<X[Y];x++)n.push(Y);n.splice(o,K-o);var l=[];for(var Y=0;Y<X.length;
Y++)l.push(0);for(var Y=0;Y<n.length;Y++)l[n[Y]]++;for(var Y=0;Y<X.length;Y++){if(l[Y]==0){l.splice(Y,1);
X.splice(Y,1);c.RunArray.splice(Y,1);Y--}else if(l[Y]<X[Y])X[Y]=l[Y]}if(u&&$.r8!=O.r8&&$.p6!=o){X[$.r8]+=X[$.r8+1];
X.splice($.r8+1,1);c.RunArray.splice($.r8+1,1)}};ii.r2=function(c,o,K,u){var X=c.EngineDict.Editor.Text.length;
if(K==X-2)K++;if(u.W$.Font!=null)c.ResourceDict.FontSet=u.c9.slice(0);if(o<=K)ii.ay3(c.EngineDict.StyleRun,u.W$,o,K,!0);
ii.ay3(c.EngineDict.ParagraphRun,u.Xi,o,K,!1)};ii.Ij=function(c,o,K){var u={c9:c.ResourceDict.FontSet.slice(0),W$:[],Xi:[]},X=c.EngineDict.StyleRun.RunLengthArray,$=ii.Q0(X,o).r8,O=ii.Q0(X,K).r8;
for(var Y=$;Y<=O;Y++){var n=ii.JM(c.ResourceDict.StyleSheetSet[0].StyleSheetData),x=c.EngineDict.StyleRun.RunArray;
if(x.length==0)continue;var l=x[Y].StyleSheet.StyleSheetData;ii.oo(n,l);u.W$.push(n)}var N=c.EngineDict.ParagraphRun.RunLengthArray,f=ii.Q0(N,o).r8,z=ii.Q0(N,K).r8;
for(var Y=f;Y<=z;Y++){var R=c.EngineDict.ParagraphRun.RunArray;if(R.length==0)continue;u.Xi.push(ii.JM(R[Y].ParagraphSheet.Properties))}u.W$=u.W$.length==0?{}:ii.Jv(u.W$);
u.Xi=u.Xi.length==0?{}:ii.Jv(u.Xi);return u};ii.ay3=function(c,o,K,u,X){var $=c.RunLengthArray;if(X){var O=ii.Q0($,K);
if(O.p6!=K){var n=$[O.r8];$.splice(O.r8,0,K-O.p6);$[O.r8+1]=n-$[O.r8];c.RunArray.splice(O.r8+1,0,ii.JM(c.RunArray[O.r8]))}var x=ii.Q0($,u);
if(x.p6+$[x.r8]-1!=u){var n=$[x.r8];$.splice(x.r8,0,u-x.p6+1);$[x.r8+1]=n-$[x.r8];c.RunArray.splice(x.r8+1,0,ii.JM(c.RunArray[x.r8]))}}var O=ii.Q0($,K),x=ii.Q0($,u);
if(X)for(var Y=O.r8;Y<=x.r8;Y++)ii.oo(c.RunArray[Y].StyleSheet.StyleSheetData,o);else for(var Y=O.r8;
Y<=x.r8;Y++)ii.oo(c.RunArray[Y].ParagraphSheet.Properties,o)};ii.aar=function(c,o,K){var u=c.EngineDict.StyleRun.RunLengthArray,X=[],$=0;
for(var Y=0;Y<u.length;Y++){var O=u[Y];for(var n=0;n<O;n++)if(o<=$+n&&$+n<K)X.push(Y);$+=O}var x=X[0],l=[];
for(var Y=0;Y<X.length;Y++){var N=X[Y]-x;if(N==l.length)l.push(0);l[N]++}return l};ii.a7Y=function(c){var o=c.EngineDict.StyleRun,K=o.RunArray,u=o.RunLengthArray;
for(var Y=0;Y<u.length-1;Y++){var X=K[Y].StyleSheet.StyleSheetData,$=K[Y+1].StyleSheet.StyleSheetData;
if(JSON.stringify(X)==JSON.stringify($)){K.splice(Y+1,1);u[Y]+=u[Y+1];u.splice(Y+1,1);Y--}}};ii.FN=function(c){var o=c.im.AntA.v.Annt;
o=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(o);if(o==-1)o=1;return o};ii.l8=function(c,o){c.im.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][o]};
ii.$x=function(c,o){var K,u;K=["FontSize","Leading","BaselineShift","_LineWidth"];u=c.W$;for(var Y=0;
Y<K.length;Y++)if(u[K[Y]]!=null)u[K[Y]]*=o;K=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
u=c.Xi;for(var Y=0;Y<K.length;Y++)if(u[K[Y]]!=null)u[K[Y]]*=o};ii.ael=function(){return ii.Ij(ii.JM(ii.aB0),0,0)};
ii.ato=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
ii.Q0=function(c,o){var K=0,Y=0;while(K+c[Y]<=o){K+=c[Y];Y++}return{r8:Y,p6:K}};ii.a9n=function(){var c=ii.JM(this.aB0);
return c};ii.ayR=function(c,o){var K=o.Xi};ii.aBw=function(c,o){var K=o.W$,u;u=c.Undl;if(u&&u.v.Undl=="underlineOnLeftInVertical")K.Underline=!0;
u=c.syntheticItalic;if(u)K.FauxItalic=u.v};ii.anL={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
ii.ahN={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
ii.abL=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};ii.aB0={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ii.anL))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ii.anL))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(ii.ahN))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var du={};du.amp=function(c){var o=du.azH(c._0,c._1);du.aiI(o,c._0);return o};du.aw8=function(c,o,K){var u={};
u._98={_0:"i7"};u._0=du.a8M(c,o,K?K._0:null);u._1=du.aza(c,o,u._0,K?K._1:null);return u};du.a8M=function(c,o,K){var u={};
u._1=du.arM(c,K?K._1:null);u._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};u._3=JSON.parse(JSON.stringify(du.afd));
u._4=JSON.parse(JSON.stringify(du.alm));u._5=du.axk(c,u._1._0,K?K._5:null);u._6=du.a3H(c,K?K._6:null);
u._8=du.aeN(c,o,K?K._8:null);u._9=du.avM;return u};du.aiI=function(c,o){du.akt(c,o._5,o._1._0)};du.arM=function(c,o){var K=[],u=[];
for(var Y=0;Y<c.length;Y++){var X=c[Y].ResourceDict.FontSet;for(var $=0;$<X.length;$++){var O=X[$];if(u.indexOf(O.Name)!=-1)continue;
K.push(O);u.push(O.Name)}}var n={_0:[]};for(var Y=0;Y<K.length;Y++){var x=K[Y],l={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+x.Name,_1:"i"+x.Script,_2:"i"+x.FontType}}};
if(x.Script==0)delete l._0._0._1;n._0.push(l)}return n};du.axk=function(c,o,K){var u={_0:[],_1:[]},X={_0:JSON.parse(JSON.stringify(du.a7l))};
du.acZ(X._0,c[0].ResourceDict.StyleSheetSet[0],o,c[0].ResourceDict.FontSet);u._0.push(X);u._1.push({_0:"i0"});
u._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});u._1.push({_0:"i1"});return u};du.akt=function(c,o,K){var u=o._0[0];
for(var Y=0;Y<c.length;Y++)du.atF(u._0,c[Y].ResourceDict.StyleSheetSet[0],K,c[Y].ResourceDict.FontSet)};
du.a3H=function(c,o){var K={_0:[],_1:[]},u={_0:JSON.parse(JSON.stringify(du.ur))};du.tJ(u._0,c[0].ResourceDict.ParagraphSheetSet[0]);
K._0.push(u);K._1.push({_0:"i0"});u={_0:JSON.parse(JSON.stringify(du.ur))};du.tJ(u._0,c[0].ResourceDict.ParagraphSheetSet[0]);
u._0._0="sBasic Paragraph";u._0._6="i0";K._0.push(u);K._1.push({_0:"i1"});return K};du.aeN=function(c,o,K){var u={_0:[]};
for(var Y=0;Y<c.length;Y++){var X=c[Y].Curve,$={};u._0.push({_0:$});var O=ii.DG(c[Y]);$._1={};$._2={};
$._2._0="i"+O;if(c[Y]._LineOrientation==2)$._2._1="i2";if(O==0){delete $._1;$._2._6=["f-1","f-1"];$._2._11={_4:"i-1",_7:!1}}else if(O==1&&X==null){var n=ii.Wy(c[Y]),x=n[2],l=n[3];
$._1._0=du.rT("f",[0,0,0,0,x,0,x,0,x,0,x,0,x,l,x,l,x,l,x,l,0,l,0,l,0,l,0,l,0,0,0,0]);$._2._6=["f-2","f-2"];
$._2._11={_4:"i-2",_7:!1}}else if(O==1){var n=ii.Wy(c[Y]),x=n[2],l=n[3];$._1._0=du.rT("f",X.Points);
$._2._6=["f-3","f-3"];$._2._11={_4:"i-3",_7:!1}}else if(O==2){$._1._0=du.rT("f",X.Points);$._2._6=du.rT("f",X.TextOnPathTRange);
$._2._11={_0:X.Reversed,_3:"i0",_5:"f0",_7:!1}}}return u};du.aza=function(c,o,K,u){var X={};X._0=JSON.parse(JSON.stringify(du.akf));
X._1=du.avD(c,o,K,u?u._1:null);X._2=JSON.parse(JSON.stringify(du.a7l._6));X._3=JSON.parse(JSON.stringify(du.ur._5));
return X};du.azH=function(c,o){return du.aeR(c,o._1)};du.avD=function(c,o,K,u){var X=[],$=K._1._0;for(var Y=0;
Y<c.length;Y++){var O=c[Y],n={_0:{}};X.push(n);n._0._0="s"+O.EngineDict.Editor.Text;n._0._0=n._0._0;
var x=n._0._5={_0:[]},l=O.EngineDict.ParagraphRun;for(var N=0;N<l.RunArray.length;N++){var f={_0:{}};
x._0.push(f);f._0._0={_0:"s",_5:{},_6:"i1"};du.tJ(f._0._0,l.RunArray[N].ParagraphSheet);f._1="i"+l.RunLengthArray[N]}var z=n._0._6={_0:[]};
l=O.EngineDict.StyleRun;for(var N=0;N<l.RunArray.length;N++){var R={_0:{}};z._0.push(R);R._0._0={_0:"s",_5:"i1",_6:{}};
du.acZ(R._0._0,l.RunArray[N].StyleSheet,$,O.ResourceDict.FontSet);R._1="i"+l.RunLengthArray[N]}l=O.EngineDict.AlternateGlyphRun;
if(l){var V=n._0._9={_0:[]};for(var N=0;N<l.RunArray.length;N++){var d={_0:{}};V._0.push(d);var e=l.RunArray[N];
if(e.Glyph!=null){d._0._0={_0:"i"+e.Glyph,_1:"e"}}d._1="i"+l.RunLengthArray[N]}}n._0._10={_0:"i4",_2:!0};
n._1=du.view.ad1(O,null,Y,null)}return X};du.aeR=function(c,o){var K=[],u=c._1._0;if(o)for(var Y=0;Y<o.length;
Y++){var X=ii.a9n();K.push(X);var $=o[Y];X.EngineDict.Editor.Text=$._0._0.slice(1);var O=X.EngineDict.ParagraphRun.RunArray[0],n=X.EngineDict.ParagraphRun,x=$._0._5;
if(x)for(var l=0;l<x._0.length;l++){var N=x._0[l];n.RunLengthArray[l]=parseInt(N._1.slice(1));n.RunArray[l]=JSON.parse(JSON.stringify(O));
du.avJ(N._0._0,n.RunArray[l].ParagraphSheet)}else{n.RunLengthArray[0]=ii.lo(X).length}var f=$._0._6;
n=X.EngineDict.StyleRun;if(f)for(var l=0;l<f._0.length;l++){var z=f._0[l];n.RunLengthArray[l]=parseInt(z._1.slice(1));
n.RunArray[l]={StyleSheet:{StyleSheetData:{}}};du.atF(z._0._0,n.RunArray[l].StyleSheet,u,X.ResourceDict.FontSet)}else{n.RunLengthArray[0]=ii.lo(X).length;
n.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return K};du.acZ=function(c,o,K,u,X){c._0="s"+(o.Name?o.Name:"");
var $=c._6,O=X?X._6:null,n=o.StyleSheetData;if(n.Font!=null){var x=u[n.Font].Name,l=-1;for(var Y=0;Y<K.length;
Y++)if("s"+x==K[Y]._0._0._0){l=Y;break}$._0="i"+l}if(n.FontSize!=null)$._1="f"+n.FontSize;if(n.FauxBold!=null)$._2=n.FauxBold;
if(n.FauxItalic!=null)$._3=n.FauxItalic;if(n.AutoLeading!=null)$._4=n.AutoLeading;if(n.Leading!=null)$._5="f"+n.Leading;
if(n.HorizontalScale!=null)$._6="f"+n.HorizontalScale;if(n.VerticalScale!=null)$._7="f"+n.VerticalScale;
if(n.Tracking!=null)$._8="i"+n.Tracking;if(n.BaselineShift!=null)$._9="f"+n.BaselineShift;if(n.AutoKerning!=null)$._11="i"+(n.AutoKerning?1:0);
if(n.FontCaps!=null)$._12="i"+n.FontCaps;if(n.FontBaseline!=null)$._13="i"+n.FontBaseline;if(n.Strikethrough!=null)$._15="i"+(n.Strikethrough?1:0);
if(n.Underline!=null)$._16="i"+(n.Underline?2:0);if(n.Ligatures!=null)$._18=n.Ligatures;if(n.DLigatures!=null)$._19=n.DLigatures;
if(n.BaselineDirection!=null)$._35="i"+n.BaselineDirection;if(n.Language!=null)$._38="i"+n.Language;
if(n.FillColor!=null)$._53=du.CY(n.FillColor);if(n.StrokeColor!=null)$._54=du.CY(n.StrokeColor);if(n.FillFlag!=null)$._56=n.FillFlag;
if(n.StrokeFlag!=null)$._57=n.StrokeFlag;if(n._LineWidth!=null)$._63="f"+n._LineWidth;if(n._FillBackgroundColor!=null)$._79=du.CY(n._FillBackgroundColor);
if(n._FillBackgroundFlag!=null)$._80=n._FillBackgroundFlag};du.CY=function(c){return{_99:"/SimplePaint",_0:{_0:"i1",_1:du.rT("f",c.Values)}}};
du.atF=function(c,o,K,u){var X=c._6;if(X==null)return;var $=o.StyleSheetData;if(X._0){var O=parseInt(X._0.slice(1)),n=K[O]._0._0._0.slice(1);
ii.CQ({W$:$,c9:u},n)}if(X._1!=null)$.FontSize=parseFloat(X._1.slice(1));if(X._2!=null)$.FauxBold=X._2;
if(X._3!=null)$.FauxItalic=X._3;if(X._4!=null)$.AutoLeading=X._4;if(X._5!=null)$.Leading=parseFloat(X._5.slice(1));
if(X._6!=null)$.HorizontalScale=parseFloat(X._6.slice(1));if(X._7!=null)$.VerticalScale=parseFloat(X._7.slice(1));
if(X._8!=null)$.Tracking=parseFloat(X._8.slice(1));if(X._9!=null)$.BaselineShift=parseFloat(X._9.slice(1));
if(X._11!=null)$.AutoKerning=parseFloat(X._11.slice(1))==1;if(X._12!=null)$.FontCaps=parseFloat(X._12.slice(1));
if(X._13!=null)$.FontBaseline=parseFloat(X._13.slice(1));if(X._15!=null)$.Strikethrough=parseFloat(X._15.slice(1))==1;
if(X._16!=null)$.Underline=parseFloat(X._16.slice(1))==1;if(X._18!=null)$.Ligatures=X._18;if(X._19!=null)$.DLigatures=X._19;
if(X._35!=null)$.BaselineDirection=parseFloat(X._35.slice(1));if(X._38!=null)$.Language=parseFloat(X._38.slice(1));
if(X._53!=null)$.FillColor=du.tl(X._53);if(X._54!=null)$.StrokeColor=du.tl(X._54);if(X._56!=null)$.FillFlag=X._56;
if(X._57!=null)$.StrokeFlag=X._57;if(X._63!=null)$._LineWidth=parseFloat(X._63.slice(1));if(X._79!=null)$._FillBackgroundColor=du.tl(X._79);
if(X._80!=null)$._FillBackgroundFlag=X._80};du.tl=function(c){var o=c._0._0,K=c._0._1,u=[1,0,0,0],X=[];
for(var Y=0;Y<K.length;Y++)X[Y]=parseFloat(K[Y].slice(1));if(o=="i0")u[1]=u[2]=u[3]=X[1];else if(o=="i1")u=X;
else if(o=="i2")u=[1].concat(UDOC.C.cmykToRgb(X.slice(1)));else console.log("unknown color type",o,X);
return{Type:1,Values:u}};du.tJ=function(c,o){c._0="s"+(o.Name?o.Name:"");var K=c._5,u=o.Properties;if(u.Justification!=null)K._0="i"+u.Justification;
if(u.FirstLineIndent!=null)K._1="f"+u.FirstLineIndent;if(u.StartIndent!=null)K._2="f"+u.StartIndent;
if(u.EndIndent!=null)K._3="f"+u.EndIndent;if(u.SpaceBefore!=null)K._4="f"+u.SpaceBefore;if(u.SpaceAfter!=null)K._5="f"+u.SpaceAfter;
if(u.AutoLeading!=null)K._7="f"+u.AutoLeading;if(u.AutoHyphenate!=null)K._9=u.AutoHyphenate;if(u._Direction!=null)K._33="i"+u._Direction;
if(u._ComposerEngine!=null)K._35="i"+u._ComposerEngine};du.avJ=function(c,o){var K=c._5;if(K==null)return;
var u=o.Properties;if(K._0)u.Justification=parseInt(K._0.slice(1))};du.rT=function(c,o){var K=[];for(var Y=0;
Y<o.length;Y++)K.push(c+o[Y]);return K};du.afd={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
du.alm={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
du.a7l={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
du.ur={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
du.avM={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
du.akf={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var go={};go.a8T=function(c){return go.h8(c,go.SV,0)};go.a6_=function(c){return go.tX(c,go.SV)};go.h8=function(c,o,K){var u;
if(typeof c=="string")return c;if(c instanceof Array){u=[];for(var Y=0;Y<c.length;Y++)u[Y]=go.h8(c[Y],o,K+1)}else{u={};
var X={};for(var $ in o){var O=o[$],n="_"+O[0];if(c[n]!=null){u[$]=O[1]?go.h8(c[n],O[1],K+1):c[n];X[n]=!0}}for(var $ in c){if(X[$]==null){if($.length>3)continue;
console.log(o,X);console.log($,c);throw"e"}}}return u};go.tX=function(c,o){var K;if(typeof c=="string")return c;
else if(c instanceof Array){K=[];for(var Y=0;Y<c.length;Y++)K[Y]=go.tX(c[Y],o)}else{K={};var u={};for(var X in o){var $=o[X],O="_"+$[0];
if(c[X]!=null){K[O]=$[1]?go.tX(c[X],$[1]):c[X];u[X]=!0}}for(var X in c){if(u[X]==null){console.log(o,u);
console.log(X,c);throw"e"}}}return K};go.Ay={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
go.uR={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,go.Ay],_StrokeColor:[54,go.Ay],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,go.Ay],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
go.adc={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,go.uR],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
go.avC={_Name:[0],_Features:[5,go.adc],_Parent:[6],_UUID:[97]};go.aie={_Name:[0],_Parent:[5],_Features:[6,go.uR],_UUID:[97]};
go.SV={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,go.aie]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,go.avC]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,go.avC]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,go.aie]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,go.uR],_OriginalNormalParagraphFeatures:[3,go.adc]}]};
du.view={};du.view.ad1=function(c,o,K,u){var X={},$=ii.DG(c);X._0=[{_0:"i"+K}];return X};function CSS(){}CSS.av2=function(c,o){var K=c.add,u=K.vmsk,X=K.vstk,$=K.lmfx,O=K.TySh,n=[],x=CSS.pK($,K),l=c.opacity/255*(c.add.iOpa!=null?c.add.iOpa/255:1);
if(l!=1)n.push("opacity: "+l.toFixed(3));if(c.NL()&&u){var N=a.o.$$(u.$);if(!N.SR()){n.push("width: "+Math.round(N.m)+"px");
n.push("height: "+Math.round(N.e)+"px")}var f=a.o.a5j(u.$);if(f>0)n.push("border-radius: "+Math.round(f)+"px")}else if(O){var z=O.Bz;
if(ii.DG(z)==1){var N=ii.Wy(z);n.push("width: "+Math.round(N[2])+"px");n.push("height: "+Math.round(N[3])+"px")}CSS.a8N(n,ii.Ij(z,0,0),O.i,!1,!1,x[0])}CSS.aaP(o,$,n);
if(O==null)CSS.axS(x,n);if(X==null||!X.strokeEnabled.v)X=bL.$0($);if(X&&X.strokeEnabled.v){var R=X.strokeStyleContent.v,V=R.classID,d=X.strokeStyleOpacity.v.val/100,e=X.strokeStyleLineWidth.v.val,p="";
if(V=="solidColorLayer")p=CSS.Jk(R.Clr.v,d);n.push("border: "+e+"px solid "+p)}return n};CSS.aaP=function(c,o,K){if(o==null||!o.masterFXSwitch.v)return;
var u=o.dropShadowMulti.v.concat(o.innerShadowMulti.v);for(var Y=0;Y<u.length;Y++){var X=u[Y].v;if(X.enab.v){var $=X.classID=="IrSh",O=X.Dstn.v.val,n=X.lagl.v.val*Math.PI/180;
if(X.uglg&&X.uglg.v)n=c.Iy()*Math.PI/180;var x=O*Math.cos(n),l=O*Math.sin(n),N=(x==0?"0 ":CSS.ahr(-x)+"px ")+(l==0?"0 ":CSS.ahr(l)+"px ")+X.blur.v.val/2+"px "+CSS.Jk(X.Clr.v,X.Opct.v.val/100);
if($)K.push("box-shadow: inset "+N);else K.push("filter: drop-shadow("+N+")")}}};CSS.pK=function(c,o){var K=bL.dN(c,o),u=K[0],X=K[1],$,O;
if(u){$=CSS.Jk(u.Clr.v,o.iOpa!=null?o.iOpa/255:1)}else if(X){O=CSS.Sn(X)}return[$,O]};CSS.axS=function(c,o){if(c[0])o.push("background-color: "+c[0]);
if(c[1])o.push("background-image: "+c[1])};CSS.Wv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ahr=function(cv){return""+parseFloat(cv.toFixed(3))};CSS.Bg=function(c){if(c==null)return{Z:0,r:0,J:0};
var o=c.indexOf("(");if(o!=-1){var K=c.slice(o+1,c.length-1).split(",");for(var Y=0;Y<K.length;Y++){var u=K[Y].trim();
K[Y]=parseFloat(u)*(u.endsWith("%")?255/100:1)}return{Z:K[0],r:K[1],J:K[2]}}if(c.charAt(0)!="#"){var X=CSS.Wv;
if(X[c])c=X[c];else console.log("unknown color "+c)}c=c.slice(1);if(c.length==4)c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3];
if(c.length==3)c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2];var $=-1;if(c.length==8){$=parseInt(c.slice(6),16);c=c.slice(0,6)}c=parseInt(c,16);
var O={Z:c>>16&255,r:c>>8&255,J:c&255};if($!=-1)O.V=$;return O};CSS.Jk=function(c,o){return CSS.DB(a.T.h0(c),o)};
CSS.DB=function(c,o){if(o==null)o=1;var K=Math.round(c.Z),u=Math.round(c.r),X=Math.round(c.J),$=K<<16|u<<8|X;
return o==1?"#"+a.On($):"rgba("+K+","+u+","+X+","+o+")"};CSS.Sn=function(c){var o=c.Grad.v;if(o.Clrs==null)return"";
var K=o.Clrs.v.slice(0),u=o.Trns.v.slice(0),X=c.Ofst.v,$=c.Type.v.GrdT=="Rdl"?1:0,O=($==1?"radial":"linear")+"-gradient",n=$==0?Math.round(-c.Angl.v.val+90)+"deg":"circle at center",x=c.Rvrs.v,l=a.T.dZ(o,x);
for(var Y=0;Y<l.length;Y++){var N=l[Y],f=N[1];n+=", "+CSS.DB({Z:f[0]*255,r:f[1]*255,J:f[2]*255},N[2])+" "+Math.round(N[0]*100)+"%"}return O+"("+n+")"};
CSS.a8N=function(c,o,K,u,X,$){var O=o.W$,n=u?1:K.ea(),x=Math.round(O.FontSize*n);c.push("font-size: "+x+"px");
var l=O.Tracking;if(!u&&l!=null&&l!=0)c.push("letter-spacing: "+Math.round(l*x/1e3)+"px");if(!O.AutoLeading)c.push("line-height: "+Math.round(O.Leading*n)+"px");
if(O.Strikethrough)c.push("text-decoration: line-through");if(O.Underline)c.push("text-decoration: underline");
if(O.FontCaps==2)c.push("text-transform: uppercase");var N=ii.h0(O.FillColor);N=[N.Z,N.r,N.J].map(Math.round);
c.push((u?"fill: ":"color: ")+($?$:"#"+a.On(N[0]<<16|N[1]<<8|N[2])));var f=o.c9[O.Font].Name;if(f){var z=bW.nM.YW(f),R="",V=null,d=null;
if(z!=null&&f!=bW.Zc(z))z=null;if(X&&z)R+="\""+f+"\", ";var e=f.toLowerCase();if(z){V=bW.BK(z)[0];if(z["OS/2"])d=z["OS/2"].usWeightClass}else{V=CSS.ae1(f);
if(e.indexOf("light")!=-1)d=300;else if(e.indexOf("medium")!=-1)d=500;else if(e.indexOf("black")!=-1||e.indexOf("extrabold")!=-1)d=800;
else if(e.indexOf("bold")!=-1)d="bold"}if(V!=null)R+="\""+V+"\"";if(d!=null)c.push("font-weight: "+d);
if(e.indexOf("italic")!=-1||e.indexOf("oblique")!=-1)c.push("font-style: italic");if(R)c.push("font-family: "+R)}var p=o.Xi.Justification;
if(p!=null&&p!=0)if(u){}else c.push("text-align: "+["left","right","center"][p%3])};CSS.ae1=function(c){c=c.split("-")[0];
while(c.endsWith("MT")||c.endsWith("PS"))c=c.slice(0,c.length-2);var o=!0;for(var Y=0;Y<c.length;Y++){var K=c.charAt(Y);
if(!o&&K.toLowerCase()!=K){c=c.slice(0,Y)+" "+c.slice(Y);Y++;o=!0}else o=!1}return c};function bj(){}bj.CO={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
bj.Eq=function(c,o){var K=Date.now(),u=c.split("\n"),X;if(u.length==1)u=c.split("\r");for(var Y=0;Y<u.length;
Y++)if(u[Y].trim()[0]=="#"){u[Y]=""}c=u.join("\n");try{X=acorn.parse(c)}catch(ar){console.log(ar);return}var $=JSON.parse(JSON.stringify(bj.Nz.pM));
$.__return=!1;$.__continue=!1;$.__break=!1;$.__throw=!1;$.__fs={};$.__window={};bj.eval(X,o,$);var O=$.__fs;
if(Object.keys(O).length!=0){var n=UZIP.encode(O);fn.save(n,"output.zip")}};bj.eval=function(c,o,K){var u=c.type;
if(!1){}else if(u=="Program"||u=="BlockStatement"){var X=c.body;for(var Y=0;Y<X.length;Y++){var $=X[Y].type;
if($=="FunctionDeclaration")K[X[Y].id.name]=X[Y]}for(var Y=0;Y<X.length;Y++){var $=X[Y].type,O=bj.eval(X[Y],o,K);
if(K.__continue&&K.__pif==null){K.__continue=!1;return O}if(K.__return||K.__break||K.__throw)return O}}else if(u=="ReturnStatement"){K.__return=!0;
return c.argument?bj.h$(c.argument,o,K):null}else if(u=="BreakStatement"){K.__break=!0}else if(u=="ContinueStatement"){K.__continue=!0}else if(u=="VariableDeclaration"){var n=c.declarations;
for(var Y=0;Y<n.length;Y++)bj.eval(n[Y],o,K)}else if(u=="VariableDeclarator"){K[c.id.name]=c.init?bj.h$(c.init,o,K):null}else if(u=="FunctionDeclaration"){K[c.id.name]=c}else if(u=="MemberExpression"){var x=bj.h$(c.object,o,K),l=c.computed?bj.h$(c.property,o,K):bj.eval(c.property,o,K),O;
if(x.O!=null)O=bj.Nz.fv(x,l,o,K);else if(x==window&&bj.CO[l]){}else O=x[l];return O}else if(u=="ArrayExpression"){var N=[],f=c.elements;
for(var Y=0;Y<f.length;Y++)N.push(bj.h$(f[Y],o,K));return N}else if(u=="ObjectExpression"){var N={},f=c.properties;
for(var Y=0;Y<f.length;Y++){var z=f[Y],R=f[Y].key.name?f[Y].key.name:f[Y].key.value;N[R]=bj.h$(f[Y].value,o,K)}return N}else if(u=="ExpressionStatement"){return bj.eval(c.expression,o,K)}else if(u=="NewExpression"){var V=c.arguments,d=c.callee,e=d.type,p=d.name,h=[],N=null;
for(var Y=0;Y<V.length;Y++)h.push(bj.h$(V[Y],o,K));if(p=="Array")N=new window[p];else if(e=="Identifier")N=bj.Nz.aij(p,h,o,K);
else throw"e";if(N==null)throw"new "+p;return N}else if(u=="CallExpression"){var V=c.arguments,d=c.callee,e=d.type,E={};
for(var q in K)E[q]=K[q];var h=[];for(var Y=0;Y<V.length;Y++)h.push(bj.h$(V[Y],o,K));if(e=="Identifier"){var Z=d.name,v=K[Z];
if(v&&v.O=="AppFunc"){Z=v.Ek;v=null}if(v){if(v.params){var W=v.params;for(var Y=0;Y<W.length;Y++)E[W[Y].name]=h[Y];
return bj.eval(v.body,o,E)}else{return v.apply(null,h)}}else if(bj.Nz.arS.indexOf(Z)!=-1)return bj.Nz.Hc({O:"Application"},Z,h,o,K);
else if(window[Z]==null)console.log("Unknown function "+Z);else if(bj.CO[Z])alert(Z+"() not available");
else{var D=window[Z].apply(window,h);return D}}else if(e=="MemberExpression"){var x=bj.h$(d.object,o,K),l=d.computed?bj.h$(d.property,o,K):bj.eval(d.property,o,K);
if(x==window&&bj.CO[l])return;if(x.O!=null)return bj.Nz.Hc(x,l,h,o,K);else if(l=="sort"&&x[0]&&x[0].O=="Layer"){return x.sort(function(g,P){return g.b.getName()>P.b.getName()?1:-1})}else if(l=="toSource")return JSON.stringify(x);
else return x[l].apply(x,h)}else if(e=="FunctionExpression"){return bj.eval(d.body,o,K)}else console.log(c)}else if(u=="AssignmentExpression"){var I=c.operator,A=c.left,U=A.type,w=bj.h$(A,o,K),t=bj.h$(c.right,o,K),O=null;
if(!1){}else if(I=="=")O=t;else if(I=="+=")O=w+t;else if(I=="-=")O=w-t;else if(I=="*=")O=w*t;else if(I=="/=")O=w/t;
else if(I=="%=")O=w%t;else if(I=="&=")O=w&t;else if(I=="|=")O=w|t;else if(I=="&&=")O=w&&t;else if(I=="||=")O=w||t;
else console.log(c);if(U=="Identifier"){var L=A.name;if(K.hasOwnProperty(L))K[L]=O;else K.__window[L]=O}else if(U=="MemberExpression"){var J=bj.eval(A.property,o,K),b=bj.h$(A.object,o,K);
if(b.O!=null)bj.Nz.a1$(b,J,O,o,K);else b[J]=O}else console.log(c);return O}else if(u=="Identifier")return c.name;
else if(u=="Literal")return c.value;else if(u=="UpdateExpression"){var I=c.operator,F=c.argument.name,N=bj.h$(c.argument,o,K),B=K;
if(B[F]==null)B=K.__window;if(!1){}else if(I=="++"){B[F]++;return c.prefix?B[F]:B[F]-1}else if(I=="--"){B[F]--;
return c.prefix?B[F]:B[F]+1}else console.log(c)}else if(u=="UnaryExpression"){var I=c.operator,k=bj.h$(c.argument,o,K);
if(k&&k.O=="UnitValue"){if(I=="-")return-k.b;else return bj.a08(k.b,I)}else return bj.a08(k,I)}else if(u=="BinaryExpression"||u=="LogicalExpression"){var I=c.operator,A=bj.h$(c.left,o,K);
if(u=="LogicalExpression"&&I=="&&"&&!A)return A;var k=bj.h$(c.right,o,K);if(A==null||k==null)return bj.oD(A,k,I);
else if(A.O=="UnitValue"&&k.O=="UnitValue")return bj.oD(A.b,k.b,I);else if(A.O=="UnitValue")return bj.oD(A.b,k,I);
else if(k.O=="UnitValue"){if(I=="-")return-(A-k.b);else return bj.oD(A,k.b,I)}else return bj.oD(A,k,I)}else if(u=="IfStatement"){var i=bj.h$(c.test,o,K),H=K.__pif,O=null;
K.__pif=!0;if(i)O=bj.eval(c.consequent,o,K);else if(c.alternate)O=bj.eval(c.alternate,o,K);K.__pif=H;
return O}else if(u=="ConditionalExpression"){var i=bj.h$(c.test,o,K);if(i)return bj.h$(c.consequent,o,K);
else if(c.alternate)return bj.h$(c.alternate,o,K)}else if(u=="ForInStatement"){bj.eval(c.left,o,K);var m=c.left.declarations[0].id.name,j=bj.h$(c.right,o,K);
for(var q in j){K[m]=q;var Q=bj.eval(c.body,o,K);if(K.__break)break;if(K.__return)return Q}K.__break=!1}else if(u=="ForStatement"){bj.eval(c.init,o,K);
while(bj.eval(c.test,o,K)){var Q=bj.eval(c.body,o,K);if(K.__break)break;if(K.__return)return Q;bj.eval(c.update,o,K)}K.__break=!1}else if(u=="WhileStatement"){while(bj.eval(c.test,o,K)){var Q=bj.eval(c.body,o,K);
if(K.__break)break;if(K.__return)return Q}K.__break=!1}else if(u=="DoWhileStatement"){do{var Q=bj.eval(c.body,o,K);
if(K.__break)break;if(K.__return)return Q}while(bj.eval(c.test,o,K));K.__break=!1}else if(u=="TryStatement"){bj.eval(c.block,o,K);
if(K.__throw){var G=c.handler;K[G.param.name]=K.__throw;K.__throw=!1;bj.eval(G.body,o,K);delete K[G.param.name]}}else if(u=="EmptyStatement"){}else console.log(c)};
bj.oD=function(c,o,K){if(K=="+")return c+o;else if(K=="-")return c-o;else if(K=="*")return c*o;else if(K=="/")return c/o;
else if(K=="%")return c%o;else if(K=="^")return c^o;else if(K=="&")return c&o;else if(K=="&&")return c&&o;
else if(K=="|")return c|o;else if(K=="||")return c||o;else if(K=="<")return c<o;else if(K==">")return c>o;
else if(K=="=="){if(c!=null&&o!=null&&c.O&&o.O)return c.b==o.b;return c==o}else if(K=="===")return c===o;
else if(K=="<=")return c<=o;else if(K==">=")return c>=o;else if(K=="!=")return c!=o;else if(K=="!==")return c!==o;
else if(K=="<<")return c<<o;else if(K==">>")return c>>o;else console.log(K)};bj.a08=function(c,o){if(o=="-")return-c;
else if(o=="!")return!c;else if(o=="~")return~c;else if(o=="+")return c;else if(o=="typeof")return typeof c;
else console.log(o,c)};bj.h$=function(c,o,K){var u=c.type;if(u=="Identifier")return bj.aD1(c.name,o,K);
else return bj.eval(c,o,K)};bj.aD1=function(c,o,K){if(c=="undefined")return undefined;else if(K.hasOwnProperty(c))return K[c];
else if(c=="app")return{O:"Application"};else if(c=="Folder")return{O:"Folder"};else if(c=="File")return{O:"File"};
else if(c=="$")return{O:"$"};else if(bj.Nz.aDf.indexOf(c)!=-1)return bj.Nz.fv({O:"Application"},c,o,K);
else if(bj.Nz.arS.indexOf(c)!=-1)return{O:"AppFunc",Ek:c};else if(K.__window.hasOwnProperty(c))return K.__window[c];
else if(window[c]&&!bj.CO[c])return window[c];else{K[c]=null;return null}};bj.Nz={};bj.Nz.aij=function(c,o,K,u){var X;
if(c=="SolidColor")X={O:c,b:[1,0,0,0]};if(c=="RGBColor")X={O:c,b:[1,0,0,0]};if(c=="Window")X={O:c,b:new gF(o[0],o[1],o[2])};
if(c=="ExportOptionsSaveForWeb")X={O:c,b:{GA:"png",hu:100}};if(c=="PhotoshopSaveOptions")X={O:c,b:{GA:"psd"}};
if(c=="PNGSaveOptions")X={O:c,b:{GA:"png",hu:100}};if(c=="JPEGSaveOptions")X={O:c,b:{GA:"jpg",hu:100}};
if(c=="PDFSaveOptions")X={O:c,b:{GA:"pdf",asZ:""}};if(c=="File")X={O:c,b:o[0]};if(c=="ActionReference")X={O:c,b:{t:"obj ",v:[]}};
if(c=="ActionDescriptor")X={O:c,b:{t:"Objc",v:{classID:"null"}}};if(c=="ActionList")X={O:c,b:{t:"VlLs",v:[]}};
if(c=="UnitValue")X={O:c,b:o.length==0?0:parseFloat(o[0])};return X};bj.Nz.aDf="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
bj.Nz.arS="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
bj.Nz.fv=function(c,o,K,u){var X=K.oz,$=K.pL();if(!1){}else if(o=="typename"){if(c.O=="Layer")return c.b.rD()?"LayerSet":"ArtLayer";
else return c.O}else if(["Document","Layer"].indexOf(c.O)!=-1&&["layers","artLayers","layerSets"].indexOf(o)!=-1){var O=$;
if(c.O=="Document")O=c.b;else O=c.me;var n=O.root,x={O:"Layers",auG:o,b:[],me:O};if(c.O=="Layer")n=O.root.g4(O.s.indexOf(c.b));
if(n.children==null)return null;for(var Y=0;Y<n.children.length;Y++){var l=n.children[Y].l,N=l.rD();
if(N&&o=="artLayers"||!N&&o=="layerSets")continue;x.b.push({O:"Layer",b:l,me:O})}x.b.reverse();return x}else if(c.O=="Documents"||c.O=="Layers"||c.O=="HistoryStates"||c.O=="LayerComps"){if(!1){}else if(o=="length")return c.b.length;
else if(Number.isInteger(o))return c.b[o];else console.log(c.O+": unknown property ",o)}else if(c.O=="Application"){if(!1){}else if(o=="activeDocument")return{O:"Document",b:K.pL()};
else if(o=="documents"){var x={O:"Documents",b:[]};for(var Y=0;Y<K.eJ.length;Y++)x.b.push({O:"Document",b:K.eJ[Y]});
return x}else if(o=="fonts")return{O:"TextFonts"};else if(o=="preferences")return{O:"Preferences"};else if(o=="displayDialogs")return{O:"DialogModes"};
else if(o=="foregroundColor"||o=="backgroundColor"){var f=o[0]=="f"?X.V5:X.th;return{O:"SolidColor",b:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]}}else if(o=="UI")return{O:"UI"};
else if(o=="version")return 30;else console.log(c,o)}else if(c.O=="Document"){var $=c.b;if(!1){}else if(o=="activeLayer"){var l=$.s[$.g[0]];
return{O:"Layer",b:l,me:$}}else if(o=="resolution")return $.$M;else if(o=="width")return $.m;else if(o=="height")return $.e;
else if(o=="name")return $.name;else if(o=="saved")return!$.$G();else if(o=="selection")return{O:"Selection"};
else if(o=="activeHistoryState")return{O:"HistoryState",wM:$.Wi};else if(o=="source")return $.We;else if(o=="layerComps"){var z=$.Jr.list.v,R=[];
for(var Y=0;Y<z.length;Y++)R.push({O:"LayerComp",b:Y});return{O:"LayerComps",b:R}}else if(o=="historyStates"){var V=[];
for(var Y=0;Y<$.history.length;Y++)V.push({O:"HistoryState",wM:Y});return{O:"HistoryStates",b:V}}else if(o=="mode")return 7;
else if(o=="colorSamplers"){var x={O:"ColorSamplers",auG:o,b:$.Lm.slice(0),me:$};return x}else console.log(c,o)}else if(c.O=="LayerComp"){if(o=="name")return $.Jr.list.v[c.b].v.Nm.v;
else throw o}else if(c.O=="ColorSamplers"){if(Number.isInteger(o))return{O:"ColorSampler",b:c.b[o]};
else if(o=="length")return $.Lm.length}else if(c.O=="ColorSampler"){if(o=="color"){var f=r.am.Uf($,$.Q.dV(c.b.x,c.b.y),1,2);
return{O:"SolidColor",b:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]}}else if(o=="position")return[c.b.x,c.b.y]}else if(c.O=="Layer"){var d={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},l=c.b;
if(!1){}else if(o=="visible")return l.IT();else if(o=="selected")return $.g.indexOf($.s.indexOf(l))!=-1;
else if(o=="grouped")return l.xQ;else if(d[o]!=null)return l.wu(d[o]);else if(o=="opacity")return l.opacity*100/255;
else if(o=="fillOpacity")return(l.add.iOpa==null?255:l.add.iOpa)*100/255;else if(o=="blendMode")return l.Mh;
else if(o=="name")return l.getName();else if(o=="textItem")return{O:"TextItem",b:l};else if(o=="bounds"){var e=r.W.G5($,[$.s.indexOf(l)]);
return bj.Nz.aA3(e,$)}else if(o=="parent"){var p=K.eJ,O;for(var Y=0;Y<p.length;Y++)if(p[Y].s.indexOf(l)!=-1)O=p[Y];
var h=O.root.g4(O.s.indexOf(l)).parent;return h.depth==0?{O:"Document",b:O}:{O:"Layer",b:h.l,me:O}}else if(o=="kind"){var E=bj.Nz.q6;
for(var Y=0;Y<E.length;Y++)if(l.add[E[Y]]!=null)return Y;return 0}else if(o=="isBackgroundLayer")return l.add.lnsr="bgnd";
else if(o=="itemIndex")return $.s.indexOf(l)+1;else console.log(c,o)}else if(c.O=="Selection"){if(!1){}else if(o=="bounds"){if($.u==null)u.__throw={message:"no selection"};
else return bj.Nz.aA3($.u.rect,$)}else console.log(c,o)}else if(c.O=="TextItem"){var q=c.b.add.TySh,Z=q.Bz,v=ii.lo(Z),W=q.i.ea(),D=ii.Ij(Z,0,0);
if(o=="contents")return v.slice(0,v.length-1).replace(/\n/g,"\r");else if(o=="font")return D.W$.Font!=null?D.c9[D.W$.Font].Name:null;
else if(o=="size")return bj.Nz.fu(D.W$.FontSize*W,$);else if(o=="leading")return bj.Nz.fu(D.W$.Leading*W,$);
else if(o=="tracking")return bj.Nz.fu(D.W$.Tracking);else if(o=="baselineShift")return bj.Nz.fu(D.W$.BaselineShift);
else if(o=="fauxBold")return D.W$.FauxBold;else if(o=="fauxItalic")return D.W$.FauxItalic;else if(o=="kind")return 1-ii.DG(Z);
else if(o=="useAutoLeading")return D.Xi.AutoLeading;else if(o=="hyphenation")return D.Xi.AutoHyphenate;
else if(o=="justification")return bj.Nz.fu(D.Xi.Justification);else if(o=="color")return{O:"SolidColor",b:D.W$.FillColor.Values.slice(0)};
else if(o=="width"||o=="height"){var I=ii.Wy(Z),A=(I[2]-I[0])*W,U=(I[3]-I[1])*W;return bj.Nz.fu(o=="width"?A:U,$)}else if(o=="position"){var w=q.i;
return bj.Nz.adv([w.hW,w.qj],$)}else if(o=="horizontalScale"||o=="verticalScale"){var t=o[0].toUpperCase()+o.slice(1);
return Math.round(D.W$[t]*100)}else if(o=="antiAliasMethod")ii.FN(q);else if(o=="totalTextStyle"){var x={};
for(var L=0;L<2;L++){var J=["Style","Paragraph"][L],b=Z.EngineDict[J+"Run"].RunLengthArray,F=[],B=0;
for(var Y=0;Y<b.length;Y++){var k=ii.Ij(Z,B,Math.min(B+b[Y],v.length-2));B+=b[Y];F.push(L==0?k.W$:k.Xi);
x.fontSet=k.c9}x[J]={runs:b,styles:F}}return JSON.stringify(x)}else if(o=="transform"){var w=q.i;return JSON.stringify([w.V,w.J,w.If,w.gI,w.hW,w.qj])}else console.log(c,o)}else if(c.O=="Preferences"){if(o=="rulerUnits")return X.RG.MF;
else console.log(c,o)}else if(c.O=="SolidColor"){if(o=="rgb")return{O:"RGBColor",b:c.b};if(o=="cmyk")return{O:"CMYKColor",b:a.S4(c.b.slice(1))};
else console.log(c,o)}else if(c.O=="RGBColor"){var e=Math.round(255*c.b[1]),i=Math.round(255*c.b[2]),H=Math.round(255*c.b[3]);
if(!1){}else if(o=="red")return e;else if(o=="green")return i;else if(o=="blue")return H;else if(o=="hexValue")return"#"+a.On(e<<16|i<<8|H).toUpperCase();
else console.log(c,o)}else if(c.O=="CMYKColor"){var m=[];for(var Y=0;Y<4;Y++)m.push(Math.round(c.b[Y]*100));
var j=["cyan","magenta","yellow","black"].indexOf(o);if(j!=-1)return m[j];else console.log(c,o)}else if(c.O=="UnitValue"){if(o=="value")return c.b;
else throw"e"}else if(c.O=="ExportOptionsSaveForWeb"){if(o=="format")return c.b.GA;else if(o=="PNG8"||o=="interlaced")return!1;
else if(o=="quality")return c.b.hu;else if(o=="transparency")return!0;else throw o}else if(c.O=="PNGSaveOptions"||c.O=="JPEGSaveOptions"||c.O=="PDFSaveOptions"){return 0}else if(c.O=="$"){if(o=="localize")return!1;
else if(o=="os")return"Windows";else throw o}else if(c.O=="ActionList"){if(o=="count")return c.b.v.length;
else throw o}else console.log(c,o)};bj.Nz.aA3=function(c,o){return bj.Nz.adv([c.x,c.y,c.x+c.m,c.y+c.e],o)};
bj.Nz.adv=function(c,o){var K=[];for(var Y=0;Y<c.length;Y++)K.push(bj.Nz.fu(c[Y],o));return K};bj.Nz.LR=function(c){var o=[];
for(var Y=0;Y<c.length;Y++)o.push(c[Y].O?c[Y].b:c[Y]);return o};bj.Nz.fu=function(c,o){return{O:"UnitValue",b:c}};
bj.Nz.anv=function(c,o){if(c.O=="UnitValue")return c.b;return c};bj.Nz.a1$=function(c,o,K,u,X){var $=new ev(y.E.v,!0),O=new ev(y.E.M,!0),n=u.pL(),x=u.oz;
if(!1){}else if(c.O=="Application"){if(!1){}else if(o=="activeDocument"){O.data={Y:y.H.dR,ff:K.b};u.I(O)}else if(o=="displayDialogs"){}else if(o=="foregroundColor"||o=="backgroundColor"){var N=K.b,f=N[1]*255<<16|N[2]*255<<8|N[3]*255<<0;
O.data={Y:y.H.NU,EU:iD.Mn,D$:o=="foregroundColor"?0:1,b:f};u.I(O)}else console.log(c,o,K)}else if(c.O=="Document"){var z=c.b;
if(!1){}else if(o=="name"){$.f=r.KX;$.data={Y:gU.eY,b:K,afS:!0,$O:z};n.So=!0}else if(o=="source")z.We=K;
else if(o=="activeLayer"){z.g=[z.s.indexOf(K.b)]}else if(o=="activeHistoryState"){$.f=r.DX;$.data={Y:"h_itemchange",index:K.wM}}else console.log(c,o)}else if(c.O=="Layer"){$.f=r.KX;
var R={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},V=c.b,d=n.s.indexOf(V);
if(!1){}else if(o=="visible"){if(V.IT()!=K)$.data={Y:gU.pO,l:d}}else if(o=="opacity"){$.data={Y:gU.qp,l:d,qU:Math.round(255*K/100)}}else if(o=="fillOpacity"){$.data={Y:gU.R_,l:d,qU:Math.round(255*K/100)}}else if(o=="blendMode"){$.data={Y:gU.f3,l:d,qU:ef.oj.indexOf(K)}}else if(o=="name"){$.data={Y:gU.c6,l:d,name:K}}else if(R[o]!=null){$.data={Y:gU.Ej,l:d,qU:[[K],[R[o]]]}}else if(o=="kind"){$.data={Y:gU.nz,l:d,oG:bj.Nz.q6[K]}}else if(o=="grouped"){$.data={Y:gU.Ru,l:d,qU:K}}else console.log(c,o,K)}else if(c.O=="TextItem"){$.f=r.kO;
var V=c.b,e=V.add.TySh,p=JSON.parse(JSON.stringify(e.Bz)),h=e.i.clone(),E=e.i.ea(),q=ii.lo(p),Z=ii.Ij(p,0,q.length-2),v=!1;
if(!1){}else if(o=="contents"){ii.Ki(p,0,q.length-1);ii.FO(p,0,K.replace(/\r/g,"\n"))}else if(o=="size"){Z.W$.FontSize=(K.b!=null?K.b:K)/E;
v=!0}else if(o=="leading"){Z.W$.Leading=(K.b!=null?K.b:K)/E;v=!0}else if(o=="tracking"){Z.W$.Tracking=K.b!=null?K.b:K;
v=!0}else if(o=="baselineShift"){Z.W$.BaselineShift=K.b!=null?K.b:K;v=!0}else if(o=="fauxBold"){Z.W$.FauxBold=K;
v=!0}else if(o=="fauxItalic"){Z.W$.FauxItalic=K;v=!0}else if(o=="kind"){var W=ii.DG(p);if(W==1&&K==1){var D=new ag(p,u.oz.ru,e.im).Xi[0],I=D.qw[0].end,A=D.dz[I-1].end;
ii.Ki(p,0,q.length-1);ii.FO(p,0,q.slice(0,A-1))}if(W==K)ii.lG(p,1-K)}else if(o=="useAutoLeading"){Z.Xi.AutoLeading=K;
v=!0}else if(o=="hyphenation"){Z.Xi.AutoHyphenate=K;v=!0}else if(o=="justification"){Z.Xi.Justification=K;
v=!0}else if(o=="font"){ii.CQ(Z,K);v=!0}else if(o=="color"){Z.W$.FillColor.Values=K.b.slice(0);v=!0}else if(o=="width"||o=="height"){var U=ii.Wy(p).slice(0),w=bj.Nz.anv(K);
if(o=="width")U[2]=Math.round(U[0]+w/E);else U[3]=Math.round(U[1]+w/E);ii.lf(p,U)}else if(o=="position"){h.hW=K[0];
h.qj=K[1]}else if(o=="horizontalScale"||o=="verticalScale"){var t=o[0].toUpperCase()+o.slice(1);Z.W$[t]=K/100;
v=!0}else if(o=="antiAliasMethod")ii.l8(e,K);else console.log(c,o,K);if(v)ii.r2(p,0,q.length-1,Z);$.data={Y:"newED",U0:n.s.indexOf(V),ha:p,i:h}}else if(c.O=="Preferences"){if(!1){}else if(o=="rulerUnits"){var L=JSON.parse(JSON.stringify(x.RG));
L.MF=K;O.data={Y:y.H.NU,EU:iD.V2,qU:L};u.I(O)}else console.log(c,o,K)}else if(c.O=="SolidColor"){if(o=="rgb")c.b=K.b;
else throw o}else if(c.O=="RGBColor"){if(!1){}else if(o=="red")c.b[1]=K/255;else if(o=="green")c.b[2]=K/255;
else if(o=="blue")c.b[3]=K/255;else if(o=="hexValue"){var J=a.a3i(K.slice(1));c.b[1]=(J>>>16&255)/255;
c.b[2]=(J>>>8&255)/255;c.b[3]=(J>>>0&255)/255}else console.log(c,o)}else if(c.O=="ExportOptionsSaveForWeb"){if(o=="format")c.b.GA=K;
else if(o=="PNG8"||o=="transparency"||o=="interlaced"){}else if(o=="quality")c.b.hu=K;else throw o}else if(c.O=="PNGSaveOptions"||c.O=="JPEGSaveOptions"){if(o=="quality")c.b.hu=Math.round(100*K/12)}else if(c.O=="PDFSaveOptions"){if(o=="preset")c.b.asZ=K}else if(c.O=="$"){if(o=="localize"){}}else console.log(c,o,K);
if($.data!=null)u.I($)};bj.Nz.Hc=function(c,o,K,u,X){var $=c.O,O=null,n=new ev(y.E.v,!0),x=new ev(y.E.XV,!0),N=new ev(y.E.M,!0),f=u.pL(),z=u.eJ;
if(!1){}else if($=="Application"){if(!1){}else if(o=="charIDToTypeID"){var R=K[0].trim(),V={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return V[R]?V[R]:R}else if(o=="stringIDToTypeID"){var d=K[0].trim(),V={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},e=V[d];
return e==null?d:e}else if(o=="typeIDToStringID"){return K[0].trim()}else if(o=="executeAction"){var p;
if(K[1]){p=K[1].b.v;p.classID=K[0]}var h={setd:"set"},E=h[K[0]];if(E==null)E=K[0];var q=j7.N$[K[0]];
if(q&&j7.K6[q])E=j7.K6[q];x.data={ST:E,sK:p}}else if(o=="executeActionGet"){var Z=K[0].b.v,O={};if(Z.length==1){var v=O.classID=Z[0].v.classID;
if(v=="Lyr"){var W=a5.Bh(f,Z[0]),D=f.s[W],I=D.add.SoLd,A=D.add.SoCo;if(I)O.smartObjectMore={t:"Objc",v:{transform:I.nonAffineTransform}};
if(A)O.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(A))}]}}return{O:"ActionDescriptor",b:{t:"null",v:O}}}if(Z.length==2){var v=O.classID=Z[1].v.classID,d=Z[0].v.keyID;
if(v=="Dcmn"){var U=f;if(d=="numberOfLayers")O[d]={t:"long",v:U.s.length};else throw d}else if(v=="Lyr"){var W=a5.Bh(f,Z[1]),D=f.s[W],w=D.add.TySh;
if(d=="textKey"){if(w){var t=w.Bz.EngineDict.StyleRun.RunArray,L=w.Bz.ResourceDict.FontSet,J=[];for(var Y=0;
Y<t.length;Y++){var b=t[Y].StyleSheet.StyleSheetData,F=L[b.Font].Name,B=u.oz.ru.YW(F);if(B&&B.name.postScriptName!=F)B=null;
J.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:B!=null},fontPostScriptName:{t:"TEXT",v:F}}}}})}O[d]={t:d,v:{textStyleRange:{t:"obj ",v:J}}}}}else throw d}else if(v=="ASet"){var k=u.oz.U8,i=O.classID=Z[0].v.classID;
if(i=="Actn"){O.NmbC={t:"long",v:a5.V8(k,Z[0].v.val,Z[1].v.val).fE.length}}else throw i}else throw v;
return{O:"ActionDescriptor",b:{t:"null",v:O}}}}else if(o=="doAction"){N.data={Y:y.H.XJ,Yg:[K[0],K[1]]}}else if(o=="bringToFront"){}else if(o=="open"){N.data={Y:y.H.ip,EU:{url:K[0]}};
if(K[2]&&z.length!=0)N.data.EU.eq=z.indexOf(f)}else if(o=="echoToOE"){N.data={Y:y.H.m0,EU:K[0]}}else if(o=="showWindow"){N.data={Y:y.H.Vl,n9:K[0]}}else if(o=="UnitValue"){return K[0]+" "+K[1]}else console.log(o)}else if($=="LayerComp"){if(o=="apply"){n.f=r.uQ;
n.data={Y:"setLC",wM:f.Jr.list.v[c.b].v.compID.v}}else throw o}else if($=="Document"){var f=c.b;if(!1){}else if(o=="crop"){x.data=r.zm.a6H(K[0])}else if(o=="trim"){var H=[];
for(var Y=0;Y<4;Y++)H.push(K[Y+1]!=null?K[Y+1]:!0);x.data=r.zm.vY(K[0]!=null?K[0]:0,H)}else if(o=="suspendHistory"){var m=acorn.parse(K[1]);
bj.eval(m,u,X)}else if(o=="save"){N.data={Y:y.H.Ol}}else if(o=="saveToOE"){N.data={Y:y.H.Ol,po:K}}else if(o=="rotateCanvas"){x.data=r.W.OD(!0,K[0])}else if(o=="resizeImage"||o=="resizeCanvas"){var j=K[0],Q=K[1];
if(typeof j!="number"){j=f.m*parseFloat(j.slice(0,j.length-1))/100;Q=f.e*parseFloat(Q.slice(0,Q.length-1))/100}if(o=="resizeCanvas")x.data=r.zm.axI(Math.round(j),Math.round(Q),K[2]);
else x.data=r.zm.ane(Math.round(j),Math.round(Q),null,1)}else if(o=="paste"){N.data={Y:y.H.Q$,iq:K.length!=0&&K[0],JL:!0}}else if(o=="close"){N.data={Y:y.H.nR,Kr:f}}else if(o=="exportDocument"||o=="saveAs"){var G=X.__fs,g=o=="exportDocument"?K[2].b:K[1].b,P=K[0].b.replace(":","").replace("~/","");
if(!P.toLowerCase().endsWith("."+g.GA))P+="."+g.GA;var M=c5.PY(f,g.GA,null,null,g.GA=="pdf"?null:[g.hu],u.oz);
G[P]=new Uint8Array(M)}else if(o=="flatten"){x.data={ST:"flattenImage"}}else if(o=="clearHistory"){n.f=r.DX;
n.data={Y:"h_clear",force:!0}}else console.log(c,o,K)}else if($=="Layer"){var T=c.b,W=f.s.indexOf(T);
if(!1){}else if(o=="copy"){bj.Nz.Rn(f,u,0);N.data={Y:y.H.oO,Kv:K[0],Ba:W,JL:!0};u.I(N);delete N.data;
bj.Nz.Rn(f,u,1)}else if(o=="clear"){bj.Nz.Rn(f,u,0);x.data={ST:"delete"};u.I(x);delete x.data;bj.Nz.Rn(f,u,1)}else if(o=="duplicate"){if(K.length==0){var C=f.g.slice(0);
n.data={Y:gU.vi,l:W};n.f=r.KX;u.I(n);n.data=null;O={O:"Layer",b:f.s[f.g[0]],me:c.me};f.g=C}else if(K[0].O=="Document"){n.data={Y:gU.WM,s:f.Cq(W),il:f,Cj:K[0].b};
n.f=r.KX}if(n.data){u.I(n);n.data=null;return{O:"Layer",b:f.s[f.g[0]],me:f}}}else if(o=="merge"||o=="remove"){n.data={Y:o=="merge"?gU.UB:gU.Zv,l:W};
n.f=r.KX;if(o!="remove")O={O:"Layer",b:f.s[f.g[0]],me:c.me}}else if(o=="move"){n.data={Y:gU.BF,source:W,target:f.s.indexOf(K[0].b),iM:K[1]!=3?.6:.3};
n.f=r.KX}else if(o=="rasterize"){n.f=r.KX;n.data={Y:gU.xP,l:W};u.I(n);n.data=null;c.b=f.s[W]}else if(o=="rotate"){n.data={Y:"rot",u0:[2,5],b:-K[0]*Math.PI/180,gg:K[1],l:W};
n.f=r.Le}else if(o=="resize"){n.data={Y:"scl",u0:[2,4],b:new kn(K[0]/100,K[1]/100),gg:K[2],l:W};n.f=r.Le}else if(o=="translate"){var gf=bj.Nz.LR(K);
n.data={Y:"trsl",l:W,ln:gf[0],B1:gf[1]};n.f=r.DA}else if(o=="link"){n.data={Y:gU.sd,aCE:[W,f.s.indexOf(K[0].b)]};
n.f=r.KX}else if(o=="invert"){n.f=r._r;n.data={Y:"start",JF:"nvrt"}}else if(o=="desaturate"){x.data={ST:"desaturate"}}else if(o.startsWith("apply")&&gZ.az[o.slice(5)]||o.startsWith("adjust")&&gZ.az[o.slice(6)]){var s=o.startsWith("apply"),gf=bj.Nz.LR(K),b3=gZ.az[o.slice(s?5:6)];
if(b3=="Dspl"){for(var Y=0;Y<f.s.length;Y++)if(f.s[Y].getName()==gf[4]){gf[4]=f.s[Y].add.SoLd.Idnt.v;
break}}x.data={ST:s?gZ.K6[b3]:j7.K6[b3]};var p=gZ.ib(b3);if(p){f.g=[W];gZ.Hn["g"+b3](p,gf);x.data.sK=p}}else if(o=="applyStyle"){var d5=u.oz.dn,b=null;
for(var Y=0;Y<d5.length;Y++)if(d5[Y].Oq.Nm.v.split("/").pop()==K[0])b=d5[Y];if(b==null){alert("Style not found!");
return}n.f=r.rU;n.data={Y:"setstl",b:b.ho,l:W};u.I(n);n.data={Y:"confirm",l:W}}else console.log(c,o,K)}else if($=="Documents"){if(o=="getByName"){for(var Y=0;
Y<z.length;Y++)if(z[Y].name==K[0])return{O:"Document",b:z[Y]};return null}else if(o=="add"){if(K.length==0)K=[100,100,72,"New Project"];
var gh=K[5];if(gh==null)gh=1;x.data=h_.QF(K[0],K[1],K[2],K[3],["Wht","Trns","BckC"][gh],!1);u.I(x);x.data=null;
return{O:"Document",b:u.pL()}}else throw"e"}else if($=="Layers"){if(o=="getByName"){for(var Y=0;Y<c.b.length;
Y++)if(c.b[Y].b.getName()==K[0]){O=c.b[Y];break}if(O==null)X.__throw={message:"No layer with a name "+K[0]}}else if(o=="add"){n.data={Y:c.auG=="layerSets"?gU.w$:gU.SA};
n.f=r.KX;u.I(n);n.data=null;O={O:"Layer",b:f.s[f.g[0]],me:c.me}}else console.log(c,o,K)}else if(c.O=="Selection"){if(o=="select"){var jt=K[0],fl=[];
for(var Y=0;Y<jt.length;Y++)fl.push(jt[Y][0],jt[Y][1]);x.data=r.mW.VA(bj.Nz.LR(fl))}else if(o=="clear"){x.data={ST:"delete"}}else if(o=="selectAll"){x.data=r.mW.Io(!0)}else if(o=="invert"){x.data={ST:"inverse"}}else if(o=="copy"){N.data={Y:y.H.oO}}else if(o=="deselect"){x.data=r.mW.Io()}else if(o=="fill"){var eq=K[0].b;
eq=a.T.mv({Z:eq[1]*255,r:eq[2]*255,J:eq[3]*255});x.data=r.VN.P5("Clr",K[1],K[2]==null?1:K[2]/100,eq)}else if(o=="grow"||o=="similar"){var p={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(K[0]!=null)p.Tlrn={t:"long",v:K[0]};x.data={ST:o,sK:p}}else if(o=="expand"||o=="contract"||o=="feather"){x.data=r.mW.Yo(o,K[0],!0)}else if(o=="translate"){var p={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:K[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:K[1]}}}}};
x.data={ST:"move",sK:p}}else if(o=="smooth"){x.data=r.mW.Yo("smoothness",K[0],!1)}else if(o=="stroke"){var b=JSON.parse(gH.R$[1]),c7=b.Clr.v,eq=K[0].b;
c7.Rd.v=eq[1]*255;c7.Grn.v=eq[2]*255;c7.Bl.v=eq[3]*255;b.Sz.v.val=K[1];b.Styl.v.FStl=gH.stroke.types[K[2]];
console.log(b,K);n.f=r.dM;n.data={Y:"stroke",adA:b}}else console.log(c,o,K)}else if(c.O=="Window"){if(o=="show"){N.data={Y:y.H.Vl,n9:c.b}}else throw"e"}else if(c.O=="ActionReference"){if(o=="putProperty"){c.b.v.push({t:"prop",v:{classID:K[0],keyID:K[1]}})}else if(o=="putClass"){c.b.v.push({t:"Clss",v:{classID:K[0]}})}else if(o=="putEnumerated"){c.b.v.push({t:"Enmr",v:{classID:K[0],typeID:K[1],enum:K[2]}})}else if(o=="putName"){c.b.v.push({t:"name",v:{classID:K[0],val:K[1]}})}else if(o=="putIndex"){c.b.v.push({t:"indx",v:{classID:K[0],val:K[1]}})}else console.log(o,K)}else if(c.O=="ActionDescriptor"||c.O=="ActionList"){var k8=c.O=="ActionList";
if(o.startsWith("put")){var hs=k8?K:K.slice(1),e=null;if(o=="putReference"){e=hs[0].b}else if(o=="putObject"){e=hs[1].b;
e.v.classID=hs[0]}else if(o=="putList"){e=hs[0].b}else if(o=="putDouble"){e={t:"doub",v:hs[0]}}else if(o=="putUnitDouble"){e={t:"UntF",v:{type:hs[0],val:hs[1]}}}else if(o=="putBoolean"){e={t:"bool",v:hs[0]}}else if(o=="putInteger"){e={t:"long",v:hs[0]}}else if(o=="putString"){e={t:"TEXT",v:hs[0]}}else if(o=="putClass"){e={t:"type",v:{classID:hs[0]}}}else if(o=="putEnumerated"){var cq=K[0].split("+");
if(cq.length==2&&K[1]==null){K[0]=cq[0];K[1]=hs[0]=cq[1]}var jn={};jn[hs[0]]=hs[1];e={t:"enum",v:jn}}else throw o;
if(k8)c.b.v.push(e);else c.b.v[K[0]]=e}else if(o=="hasKey"){return c.b.v[K[0]]!=null}else if(o=="getEnumerationValue"){if(K[0]=="layerSection")O="layerSectionContent";
else console.log(K)}else if(o=="getBoolean"){O=c.b.v[K[0]].v}else if(o=="getString"){O=c.b.v[K[0]].v}else if(o=="getObjectValue"){var O=c.b.v[K[0]];
return{O:"ActionDescriptor",b:O}}else if(o=="getList"){var O=c.b.v[K[0]];return{O:"ActionList",b:O}}else if(o=="getInteger"||o=="getDouble"){return c.b.v[K[0]].v}else console.log(o,K)}else if(c.O=="$"){if(o=="writeln"){console.log(K[0])}else throw o}else if(c.O=="UI"){if(o=="scroll"||o=="scrollTo"){var an=K[0],hk=K[1],ds=f.Q.U;
if(o=="scrollTo"){an=(-f.m/2+an)*ds+f.Q.p.x;hk=(-f.e/2+hk)*ds+f.Q.p.y}n.f=r.OC;n.data={Y:"scroll",SS:new kn(Math.round(an),Math.round(hk))}}else{var gT;
if(o=="zoomIn"||o=="zoomOut"){gT={Y:"zoom",hI:o=="zoomIn"}}else if(o=="fitTheArea"){gT={Y:"adapt",b:"fitscr"}}else if(o=="pixelToPixel"){gT={Y:"adapt",b:"pixel"}}n.f=r.Hu;
n.data=gT;if(o=="switchFullscreen"){var gP=u.oz.v2,ay=document.fullscreenElement!=null==(gP==2);N.data={Y:y.H.pw,b:gP==0?2:0,TE:ay}}}}else if(c.O=="ColorSamplers"){if(o=="removeAll")f.Lm=[];
else if(o=="add"){var bb={x:K[0][0],y:K[0][1]};f.Lm.push(bb);var O={O:"ColorSampler",b:bb}}}else if(c.O=="ColorSampler"){if(o=="move"){var ap=f.Lm.indexOf(c.b);
bb=f.Lm[ap];bb.x=K[0][0];bb.y=K[0][1]}else if(o=="remove"){var ap=f.Lm.indexOf(c.b);f.Lm.splice(ap,1)}}else if(c.O=="Folder"){if(o=="selectDialog")O="img";
else throw o}else if(c.O=="File"){if(o=="openDialog")alert("A website can not show the Open dialog from a script");
else throw o}else console.log(c,o,K);if(n.data)u.I(n);if(x.data)u.I(x);if(N.data)u.I(N);return O};bj.Nz.Rn=function(c,o,K){var u=new ev(y.E.v,!0);
u.f=r.TN;var X=new ev(y.E.XV,!0);if(K==0){bj.Nz.auq=c.u;X.data=r.mW.Io(!0)}else{var $=bj.Nz.auq;if($)u.data={Y:"setsel",u0:"Restore Selection",u:{rect:$.rect.clone(),channel:$.channel.slice(0)}};
else X.data=r.mW.Io()}o.I(u.data?u:X)};bj.Nz.auq=null;bj.Nz.pM={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2}};
bj.Nz.pM.ColorBlendMode=bj.Nz.pM.BlendMode;bj.Nz.q6="---- SoLd TySh SoCo GdFl PtFl".split(" ");function bf(){}bf.Ss={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
bf.Pn={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
bf.awV=function(c,o){if(o==null)o={};var K=bf.Pn,u=[],X=[],$="";for(var Y=0;Y<c.length;Y++){var O=c[Y],n=K[O[0]+""];
if(n&&o[n]==null)o[n]=O[1];else if(O[0]==12)X.push(O[1]);else if(O[0]==25)u.push(O[1]);else if(O[0]==55)$=O[1];
else if(O[0]==60)$+=";"+O[1]}if($!=""&&o["exif:DateTimeOriginal"]==null)o["exif:DateTimeOriginal"]=$;
if(X.length!=0&&o["Iptc4xmpCore:SubjectCode"]==null)o["Iptc4xmpCore:SubjectCode"]=X.join(";");if(u.length!=0&&o["dc:Keywords"]==null)o["dc:Keywords"]=u.join(";");
return o};bf.aa$=function(c){var o=bf.Pn,K=[];for(var u in o)if(c[o[u]])K.push([parseInt(u),c[o[u]]]);
if(c["Iptc4xmpCore:SubjectCode"]){var X=c["Iptc4xmpCore:SubjectCode"].split(";");for(var Y=0;Y<X.length;
Y++)K.push([12,X[Y].trim()])}if(c["dc:Keywords"]){var X=c["dc:Keywords"].split(";");for(var Y=0;Y<X.length;
Y++)K.push([25,X[Y].trim()])}K.sort(function($,O){return $[0]-O[0]});return K};bf.Jj=function(c,o){if(o==null)o={};
var K=new DOMParser,u=K.parseFromString(c,"image/svg+xml"),X=u.getElementsByTagName("rdf:Description")[0];
if(X==null)return o;var $=bf.Ss;for(var O in $){var n=$[O][2];if(n==null)continue;var x=X.getElementsByTagName(n)[0];
if(x==null)continue;var l=x.getElementsByTagName("rdf:li"),N=[];for(var Y=0;Y<l.length;Y++)N.push(l[Y].textContent);
o[O]=N.join("; ")}return o};bf.uF=function(c){var o=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],K=bf.Ss;
for(var u in K){var X=c[u],$=K[u][2],O="Seq",n="";if(X==null||$==null)continue;if($=="dc:title"||$=="dc:description"){O="Alt";
n=" xml:lang=\"x-default\""}if($=="dc:subject")O="Bag";o.push("\t<"+$+"><rdf:"+O+">");var x=$=="dc:subject"?X.split(";").join(",").split(","):[X];
for(var Y=0;Y<x.length;Y++)o.push("\t\t<rdf:li"+n+">"+x[Y].trim()+"</rdf:li>");o.push("\t</rdf:"+O+"></"+$+">")}o.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return o.join("\n")};bf.a8U=function(c){var o=[];for(var Y=0;Y<c.length;Y++)o[Y]=c[Y][1]==0?0:c[Y][0]/c[Y][1];
return o};bf.alT=function(c){var o=[];for(var Y=0;Y<c.length;Y++){var K=c[Y],u=1;if(K!=Math.round(K)){u=1e3;
K=Math.round(K*u)}o[Y]=[K,u]}return o};bf.Kj=function(c,o){var K=bf.Ss;if(o==null)o={};for(var u in K){var X=K[u][1],$="t"+X;
if(X!=null&&c[$]!=null){var O=c[$];if(X==0)O=O.join(".");else if(X==2||X==4){var n=c["t"+(X-1)];if(n==null)n=[X==2?"N":"E"];
O=bf.a8U(O).join(",")+n[0]}else if(X==42034)O=bf.a8U(O).join(" ");else if(X==270||X==315){var x=O[0],l=new Uint8Array(x.length);
_.b_(l,0,x);O=_.AF(l)}else O=O[0];o[u]=O}}if(c.exifIFD)bf.Kj(c.exifIFD,o);if(c.gpsiIFD)bf.Kj(c.gpsiIFD,o);
return o};bf.KA=function(c,o,K){var u=bf.Ss,$=0,n=0;if(o==null)o={};var X={},O={};for(var x in u){if(c[x]==null||u[x][1]==null)continue;
var l=u[x][1],N="t"+l,f=o;if(x.startsWith("exif:")){f=X;$++;if(x.startsWith("exif:GPS")){f=O;n++}}var z=c[x];
if(l==0)z=new Uint8Array(z.split(".").map(parseFloat));else if(l==2||l==4){var R=z.length;f["t"+(l-1)]=[z.slice(z.length-1)];
z=bf.alT(z.split(",").map(parseFloat))}else if(l==42034)z=bf.alT(z.split(" ").map(parseFloat));else if(l==270||l==315){var V=_.qK(z);
z=[_.MQ(V,0,V.length)]}else z=[z];f[N]=z}if($!=0){o.exifIFD=X;o.t34665=[0]}if(n!=0){o.gpsiIFD=O;o.t34853=[0]}var d=new Date,e=[d.getFullYear(),d.getMonth()+1,d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()];
for(var Y=0;Y<6;Y++)e[Y]=(e[Y]+"").padStart(2,"0");o.t305=["Photopea Editor (www.photopea.com)"];if(K!=!0)o.t306=[e[0]+":"+e[1]+":"+e[2]+" "+e[3]+":"+e[4]+":"+e[5]];
return o};function a$(){}a$.Sr=function(c){var o={ajG:",",XT:"\r\n",zO:"\""},K=[[""]],u,X,$,O,n;for(u=X=$=O=0;
$<c.length;$++){switch(n=c.charAt($)){case o.zO:if(O&&c.charAt($+1)==o.zO){K[u][X]+=o.zO;++$}else{O^=1}break;
case o.ajG:if(!O){K[u][++X]=""}else{K[u][X]+=n}break;case o.XT.charAt(0):if(!O&&(!o.XT.charAt(1)||o.XT.charAt(1)&&o.XT.charAt(1)==c.charAt($+1))){K[++u]=[""];
K[u][X=0]="";if(o.XT.charAt(1)){++$}}else{K[u][X]+=n}break;default:K[u][X]+=n}}if(K[K.length-1].length<K[0].length)K.pop();
return K};var S={};S.a5A=0;S.h4=function(){S.a5A++;return S.a5A};S.a56="uint8";S.CR=function(c){c.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
c.n.style.opacity="1";c.n.style.transform="scale(1)"};S.BA=function(c,o){c.n.style.opacity="0";c.n.style.transform="scale(0.95)";
if(o)setTimeout(function(){o.removeChild(c.n)},100)};S.aqh=function(){var c=S.Ga();if(c=="")return 0;
if(c!=S.hn("_TXZRPB;d7@;")){var o=S.if[d0.AJ][d0.WP],K=o.indexOf(String.fromCharCode(35)),u;if(K==-1)return 0;
try{u=JSON.parse(S.if[d0.awx](o.slice(K+1)))}catch(ar){return 0}var X=u[S.hn("bQ[ODL<E<M")];if(X==null||X.length<<2!=64)return 0;
var $=d0.gE(),O=parseInt(X.slice(3*4).split("").reverse().join(""),16)<<16;if(O<$||X!=d0.awJ(O,c))return 0;
return 2}return 1};S.Ga=function(){var c=S.if[S.Bv("}$z{2*35")][S.hn("W[\\ZQAJ?")],o=String.fromCharCode(46),K=c.split(o);
if(K.length<2)return"";var u=K.pop();u=K.pop()+o+u;return u};S.aM=function(){return S.Ga()==d0.hn("_TXZRPB;d7@;")||S.Ga()==d0.hn("~yy")};
S.aDm=function(){if(S.if[d0.a8J][d0.aiQ]){var c=new S.if[d0.gT];c[d0.ta](d0.a9l,S.hn("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+S.Ga());
c[d0.By]()}};S.Qz=function(){if(window.top!=window.self)return!1;var c=navigator.userAgent.toLowerCase();
if(c.indexOf("safari")!=-1&&c.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};S.jI=function(c){this.oX=c;
this.qu=S.t("img");this.ZN=S.t("canvas");this.qe=null;this.ap="";this.hp=null;this.ky=new kn(0,0);this.Gi=!0;
S.SQ(this.oX,this.ys.bind(this))};S.jI.prototype.kX=function(c,o){this.qe=c;if(o)this.ap=o;this.ys()};
S.jI.prototype.WR=function(c){this.Gi=c;this.ys()};S.jI.prototype.ys=function(c){if(c)this.ky=S.$_(c,this.oX);
var o=this.Gi?this.qe:"auto",K=typeof o=="string";if(!K){var u=S.Sm(),X=this.ky,$=o.aB.m,O=o.aB.e,n=typeof o.lD=="string",x=n?this.qu:this.ZN;
if(n)x.setAttribute("src",o.lD);else{x.width=$;x.height=O;var l=x.getContext("2d"),N=new ImageData(new Uint8ClampedArray(o.lD.buffer),$,O);
l.putImageData(N,0,0)}x.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(X.y-o.Q2.y/u)+"px; left:"+(X.x-o.Q2.x/u)+"px; width:"+$/u+"px; height:"+O/u+"px");
var f=this.hp;if(f==null||f!=x){if(f)this.oX.removeChild(f);this.oX.appendChild(x);this.hp=x}}else if(this.hp){this.oX.removeChild(this.hp);
this.hp=null}this.oX.setAttribute("style","cursor:"+(K?o:"none")+"; "+this.ap)};S.LI=function(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
S.eD=function(c,o){c.ro(iV.get([12,41]).charAt(0)+":");o.ro(iV.get([12,42]).charAt(0)+":")};S.t=function(c,o){var K=document.createElement(c);
if(o!=null)K.className=o;return K};S._a=function(c){while(c.firstChild)c.removeChild(c.firstChild)};
S.SZ=function(c,o){var K=c.className;K=K.split(" ");if(K.indexOf(o)==-1)K.push(o);c.className=K.join(" ")};
S.MG=function(c,o){var K=c.className;if(K=="")return;K=K.split(" ");if(K.indexOf(o)!=-1)K.splice(K.indexOf(o),1);
c.className=K.join(" ")};S.Kt=function(c){while(!0){if(c==document)return!0;if(c==null)return!1;c=c.parentNode}};
S.jR=function(c){c.appendChild(S.t("br"))};S.sv=function(c){c.appendChild(S.t("hr"))};S.ax=function(c,o,K){var u=new kz([1,12,1],K==null?!0:K,null,!0);
if(c)u.B("click",c.Z4,c);if(o)o.appendChild(u.n);return u};S.if=document;S.x1=function(c){var o=0;for(var Y=0;
Y<c;Y++)o+=Math.random();return o/c<Math.PI/4};S.hn=function(c){var o="";if(!S.x1(28))c+="-3";for(var Y=0;
Y<c.length;Y++){var K=c.charCodeAt(Y);if(K<32||126<K)throw"e";o+=String.fromCharCode(32+(K-32+17+3*Y)%95)}return o};
S.Bv=function(c){var o="";if(!S.x1(28))c+="-1";for(var Y=0;Y<c.length;Y++){var K=c.charCodeAt(Y);K-=32;
K+=95e4;K-=17+3*Y;K=K%95;o+=String.fromCharCode(32+K)}return o};S.Oa=function(c){var o=Math.random();
S.a56="uint"+(3+o);return new c};(function(){var c=window.PointerEvent,o=c?"pointer":"mouse",K=o+"down",u=o+"move",X=o+"up",$=!1;
S.pI=function(O,n){O.addEventListener(K,n,$);if(!c)O.addEventListener("touchstart",n,$)};S.SQ=function(O,n){O.addEventListener(u,n,$);
if(!c)O.addEventListener("touchmove",n,$)};S.K1=function(O,n){O.addEventListener(X,n,$);if(!c)O.addEventListener("touchend",n,$)};
S.avl=function(O,n){O.removeEventListener(K,n,$);if(!c)O.removeEventListener("touchstart",n,$)};S.UU=function(O,n){O.removeEventListener(u,n,$);
if(!c)O.removeEventListener("touchmove",n,$)};S.Fo=function(O,n){O.removeEventListener(X,n,$);if(!c)O.removeEventListener("touchend",n,$)}}());
S.Qf=function(c){c.addEventListener("touchstart",S.NK,!1);c.addEventListener("touchmove",S.NK,!1);c.addEventListener("touchend",S.NK,!1);
c.addEventListener("gesturestart",S.NK,!1);c.addEventListener("gesturechange",S.NK,!1);c.addEventListener("gestureend",S.NK,!1)};
S.aB5=function(c){var o=c.sourceCapabilities;if(o)return o.firesTouchEvents;return!1};S.qI=function(c,o,K,u){var X=S.Sm();
c.width=Math.floor(o*X);c.height=Math.floor(K*X);if(u)u.scale(X,X);S.KV(c)};S.KV=function(c){var o=S.Sm();
c.style.width=c.width/o+"px";c.style.height=c.height/o+"px"};S.Vg=function(c,o,K){c.setAttribute("style","width:"+o/S.Sm()+"px; height:"+K/S.Sm()+"px")};
S.$_=function(c,o){if(o==null)o=c.currentTarget;var K=o.getBoundingClientRect();if(c.touches)c=c.touches.item(0);
return{x:c.clientX-K.left,y:c.clientY-K.top}};S.Sm=function(){return window.devicePixelRatio||1};S.E0=function(c){c.addEventListener("keydown",S.acD,!1)};
S.acD=function(c){c.stopPropagation()};S.NK=function(c){c.preventDefault()};S.GB=function(c){c.stopPropagation();
c.preventDefault()};S.RD=function(c,o,K){K=K?K:"";if(PIMG["__"+c]==null)K+=" gsicon";return"<img src=\""+PIMG[c]+"\" alt=\""+(o?o:"")+"\" class=\""+K+"\" />"};
S.JS=function(c,o,K,u){var X=c.dataTransfer.getData("text/uri-list");if(X!=null&&X.startsWith("http")){var $=new ev(y.E.M,!0);
$.data={Y:y.H.ip,EU:{url:X,Os:!0,eq:K,rR:u}};o.I($)}if(c.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var O=[],n=c.dataTransfer.items.length,x=c.dataTransfer.files;
for(var N of c.dataTransfer.items)N.getAsFileSystemHandle().then(function(f){O.push(f);if(O.length==n){var $=new ev(y.E.M,!0);
$.data={Y:y.H.Jx,data:x,eq:K,rR:u,acm:O};o.I($)}})}else{var $=new ev(y.E.M,!0);$.data={Y:y.H.Jx,data:c.dataTransfer.files,eq:K,rR:u};
o.I($)}};if(S.x1(27))S.if=window;else S.if=S.ati;S.if._cwY=S.if[S.Bv("t$&!'31")];var fW={};fW.azg=function(Y){var c=fW.BU[Y],o=document.documentElement.style,u=1;
o.setProperty("--base","#"+a.On(c["--base"]));o.setProperty("--bg-panel","#"+a.On(c["--bg-panel"]));
o.setProperty("--bg-canvas","#"+a.On(c["--bg-canvas"]));o.setProperty("--bg-input","#"+a.On(c["--bg-input"]));
o.setProperty("--bg-bbtn","#"+a.On(c["--bg-bbtn"]));o.setProperty("--bg-bbtnOver","#"+a.On(c["--bg-bbtnOver"]));
o.setProperty("--brdr","#"+a.On(c["--brdr"]));o.setProperty("--text-color","#"+a.On(c["--text-color"]));
o.setProperty("--brdrLgt","rgba(255,255,255,"+c["--brdrLgt"]+")");o.setProperty("--brdrDrk","rgba(  0,  0,  0,"+c["--brdrDrk"]+")");
o.setProperty("--alphaDark",""+c["--alphaDark"]);o.setProperty("--gs-invert",""+c["--gs-invert"]);o.setProperty("--accent","#"+a.On(c["--accent"]));
var K=c["--sh-clr"];o.setProperty("--sh-clr","rgba("+(K>>16)+","+(K>>8&255)+","+(K&255)+", 0.45)");o.setProperty("--absc",""+c["--absc"]);
o.setProperty("--abs255",""+c["--abs255"]);if(1<S.Sm()&&S.Sm()<1.5)u=1/S.Sm();o.setProperty("--img20",20*u+"px");
o.setProperty("--img18",18*u+"px");o.setProperty("--img15",15*u+"px");if(PIMG!=null){var X="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var Y=0;Y<X.length;Y++){var $=X[Y],O=$.split("/").pop(),n=PIMG["__"+$]==null?c["--gs-invert"]:"0";
o.setProperty("--icon_"+O,"url("+PIMG[$]+")");o.setProperty("--icon_"+O+"_invrt",n)}}var x=document.querySelector("meta[name=theme-color]");
if(x)x.setAttribute("content","#"+a.On(c["--base"]))};(function(){var c=3441398,o=3441398;fW.BU=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":o},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":c},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":c},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":c},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":c},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":c},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":o}]}());
function gV(){this.p0={};this.S6={}}gV.prototype.arE=function(c){var o=this.p0[c];if(o==null)return!1;
return o.length>0};gV.prototype.addEventListener=function(c,o){this.B(c,o,null)};gV.prototype.B=function(c,o,K){if(this.p0[c]==null){this.p0[c]=[];
this.S6[c]=[]}this.p0[c].push(o);this.S6[c].push(K)};gV.prototype.removeEventListener=function(c,o){var K=this.p0[c];
if(K==null)return;var u=K.indexOf(o);if(u<0)return;var X=this.S6[c];K.splice(u,1);X.splice(u,1)};gV.prototype.I=function(c){c.currentTarget=this;
if(c.target==null)c.target=this;var o=this.p0[c.type];if(o==null)return;var K=this.S6[c.type];for(var Y=0;
Y<o.length;Y++){if(K[Y]==null)o[Y](c);else o[Y].call(K[Y],c)}};var ev=function(c,o){if(!o)o=!1;this.type=c;
this.target=null;this.currentTarget=null;this.bubbles=o;this.f=null;this.a2=!1},y={E:{v:"0",M:"1",XV:"1.5",z:"2",ZV:"3",apj:"4"},H:{qh:"10",B2:"11",Rv:"12",F0:"13",L3:"14",aos:"14.1",ip:"15",Rk:"16",to:"17",JW:"18",Ol:"19",aff:"19.5",ahQ:"20",a4K:"20.1",aiT:"20.5",au7:"20.6",db:"21",oO:"22",Q$:"23",P8:"24",Vl:"25",fe:"26",dR:"27",h3:"28",asD:"28.5",auv:"29",Jx:"30",VO:"31",aq:"32",xA:"33",Wu:"34",NU:"35",awB:"35.5",aX:"37",a2W:"38",SB:"39",_E:"40",Vj:"41",m0:"41.5",Yz:"42",gp:"43",akE:"43.5",nR:"44",a6A:"45",PO:"46",j3:"47",Yx:"48",XJ:"49",aaZ:"50",pw:"51"}};
function ax(){gV.call(this);this.parent=null;this.n=null;this.Oc=0;this.s_=0;this.a7$=!1}ax.prototype=new gV;
ax.prototype.a36=function(c){var cv=this;while(cv!=null){if(cv==c)return!0;cv=cv.parent}return!1};ax.prototype.RP=function(){var c=this.n;
return c.offsetWidth+c.clientLeft};ax.prototype.acu=function(){var c=this.n;return c.offsetHeight+c.clientTop};
ax.prototype.update=function(c){};ax.prototype.I=function(c){gV.prototype.I.call(this,c);if(c.bubbles&&this.parent!=null)this.parent.I(c)};
ax.prototype._=function(){};ax.prototype._Q=function(c,o){};ax.prototype.Lc=function(c){S.SZ(this.n,"disabled")};
ax.prototype.R1=function(c){S.MG(this.n,"disabled")};ax.prototype.WR=function(c){if(c)this.R1();else this.Lc()};
ax.prototype.qm=function(){this.a7$=!0};ax.prototype.$V=function(){var c=this.DM,o=this.a7$,K=this.Ju;
if(c){c=iV.get(this.DM);if(!o)c+=":";K.textContent=c;if(o){K.style.display="block";K.style.lineHeight="1.6em";
K.style.marginLeft="3px";S.MG(K,"flabel")}}if(o){this.RX.style.fontSize="1.15em"}};function bn(c){ax.call(this);
this.sm=[];this.bO=!1;this.aiN=0;this.gw={x:0,y:0,dm:!1};this.kI=c;this.a9K=this.tT.bind(this);this.AK=this.Al.bind(this);
this.a0P=this.cF.bind(this);S.pI(c,this.a9K);S.SQ(c,this.AK);c.addEventListener("wheel",this.yA.bind(this),!1);
c.addEventListener("contextmenu",this.a7D.bind(this),!1);var o=this.aa2.bind(this);c.addEventListener("gesturestart",o,!1);
c.addEventListener("gesturechange",o,!1);c.addEventListener("gestureend",o,!1);S.Qf(c)}bn.prototype=new ax;
bn.prototype.aa2=function(c){if(c.type=="gesturestart")this.Jq=c.scale;if(c.type=="gesturechange"){var o=new ev("mouse",!0);
o.action="scroll";o.dt=!0;this.nv(c,o);var K=(this.Jq-c.scale)/this.Jq;o.SS=new kn(0,100*K);this.Jq=c.scale;
this.I(o)}};bn.prototype.C2=function(c){var o=-1,K=this.sm;for(var Y=0;Y<K.length;Y++)if(K[Y].pointerId==c.pointerId)o=Y;
return o};bn.z$=function(c){var o=c.pointerType,K=window.__kb;return o=="touch"&&K.N(d2.akU)};bn.ajX=function(c){var o=c.button!=null&&c.button!=0?c.which==2?"i":"r":"";
if(d2.Cf()&&c.ctrlKey)o="r";return o};bn.prototype.tT=function(c){if(bn.z$(c))return;var o=this.C2(c);
if(o!=-1)this.sm[o]=c;else this.sm.push(c);if(this.sm.length==1){this.aiN=Date.now();var K=bn.ajX(c)+"down",u=new ev("mouse",!0);
u.action=K;this.nv(c,u);this.I(u);S.UU(this.kI,this.AK);S.SQ(window,this.AK);S.K1(window,this.a0P)}if(this.sm.length==2){if(Date.now()-this.aiN<100){var u=new ev("mouse",!0);
u.action="cancellast";this.nv(c,u);this.I(u)}this.bO=!0}if(this.sm.length==2)this.akS("multidown")};
bn.prototype.Al=function(c){if(bn.z$(c))return;var o=this.C2(c);if(o!=-1)this.sm[o]=c;if(this.sm.length>1){this.akS("multimove")}if(this.bO)return;
if(this.sm.length==1&&o==-1)return;var K=new ev("mouse",!0);K.action="move";this.nv(c,K);this.I(K)};
bn.prototype.cF=function(c){if(bn.z$(c))return;var o=this.sm;o=this.sm=[];if(o.length==0){var K=bn.ajX(c)+"up",u=new ev("mouse",!0);
u.action=K;this.nv(c,u);this.I(u);S.UU(window,this.AK);S.Fo(window,this.a0P);S.SQ(this.kI,this.AK);this.bO=!1}};
bn.prototype.yA=function(c){c.preventDefault();if(c.deltaX==0&&c.deltaY==0)return;var o=new ev("mouse",!0);
o.action="scroll";o.dt=c.ctrlKey;this.nv(c,o);this.I(o)};bn.prototype.a7D=function(c){S.GB(c);if(S.aB5(c)){var o=new ev("mouse",!0);
this.nv(c,o);o.action="rdown";this.I(o);o.action="rup";this.I(o)}};bn.prototype.akS=function(c){var o=this.sm,K=S.Sm(),u=[];
for(var Y=0;Y<o.length;Y++){var X=u[Y]=S.$_(o[Y],this.kI);X.x*=K;X.y*=K}var $=new ev("mouse",!0);$.action=c;
$.ah=u;if(o.length==2)this.I($)};bn.prototype.nv=function(c,o,K){var u=this.sm.length!=0;if(o.action!="up"){var X=S.Sm();
if(K==null)K=S.$_(c,this.kI);this.gw=o.K4={x:X*K.x,y:X*K.y,dm:u};var $=S.$_(c,document.body);o.K4.ct=$.x;
o.K4.TY=$.y}else this.gw=o.K4={x:this.gw.x,y:this.gw.y,dm:u};o.K4.Wf=.5;if(c.pressure!=null)o.K4.Wf=c.pressure;
if(c.pointerType=="mouse")o.K4.Wf*=2;o.K4.af0=c.pointerType;if(c.deltaX!=null){var O=c.deltaMode==0?1:40;
o.SS=new kn(c.deltaX*O,c.deltaY*O)}};function jf(c,o,K){ax.call(this);this.kr=null;this.apT=this.cF.bind(this);
this.aD6=this.Uz.bind(this);this.a4w=this.as0.bind(this);this.arR=this.acl.bind(this);this.It=[];this.Xr=[];
this.OE=[];this.ayD=[];this.a3R=K;this.n=S.t("div","contextpanel "+(K?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",S.NK,!1);
this.gN=null;this.Z$=0;this.rY=c;this.dW=o;this.md=[];for(var Y=0;Y<c.length;Y++){var u=S.t("div","enab");
this.Xr.push(u);this.n.appendChild(u);var X=c[Y].nS;if(X){if(X.startsWith("#")){var $=S.t("span");$.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+X);
u.appendChild($)}else u.innerHTML=S.RD(c[Y].nS,null,"thumb")}else{var O=S.t("span","check");this.ayD.push(O);
u.appendChild(O)}var n=S.t("span","label");n.textContent=iV.get(c[Y].name);u.appendChild(n);this.OE.push(n);
if(c[Y].ql)this.n.appendChild(S.t("hr"));if(c[Y].rh||c[Y].sub){var x=u.xN=S.t("span","right");u.appendChild(x);
if(c[Y].rh)x.textContent=d2.k$(c[Y].rh);else if(c[Y].sub)x.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}u.addEventListener(K?"mouseup":"click",this.apT,!1);
u.addEventListener("mouseover",this.aD6,!0);u.addEventListener("mouseout",this.a4w,!0);if(c[Y].sub){var l=new jf(c[Y].sub,o?o[Y].sub:null);
l.parent=this;this.md.push(l);l.B("select",this.ay5,this)}else this.md.push(null)}}jf.prototype=new ax;
jf.prototype.asO=function(c){S._a(this.n);for(var Y=0;Y<c.length;Y++)if(c[Y]!=0&&c[Y]!=null){this.n.appendChild(this.Xr[Y]);
if(c[Y]!=1&&this.md[Y])this.md[Y].asO(c[Y])}};jf.prototype._=function(){var c=this.rY;for(var Y=0;Y<c.length;
Y++){if(c[Y].title)this.Xr[Y].title=iV.get(c[Y].title);this.OE[Y].textContent=iV.get(c[Y].name)+(c[Y].PS?"...":"")}for(var Y=0;
Y<this.md.length;Y++)if(this.md[Y])this.md[Y]._()};jf.prototype.update=function(c,o){if(!this.a3R){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var K=this.rY,u=window.innerWidth<450?"none":"inline";
for(var Y=0;Y<K.length;Y++){var X=this.Xr[Y];if(X.xN&&!this.md[Y])X.xN.style.display=u;if(K[Y].w){var $=K[Y].w(c,o,Y);
if($.w!=null)this.Xr[Y].className=$.w?"enab":"disab";if($.RS!=null)this.OE[Y].textContent=$.RS;if($.zS!=null)this.ayD[Y].innerHTML=$.zS?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if($.C!=null)this.dW[Y]=$.C}}for(var Y=0;Y<this.md.length;Y++)if(this.md[Y])this.md[Y].update(c,o)};
jf.prototype.rC=function(){return this.It};jf.prototype.cF=function(c){if(c.button!=0)return;var Y=this.Xr.indexOf(c.currentTarget);
if(this.md[Y]){this.Z$=Y;this.acl()}else{if(this.dW){var o=this.dW[Y],K=new ev(o.K,!0);K.f=o.f;K.data=o.C;
this.I(K)}this.kr=null;this.It=[Y];this.I(new ev("select",!1));var K=new ev(y.E.M,!0);K.data={Y:y.H.F0};
this.I(K)}};jf.prototype.Uz=function(c){var Y=this.Xr.indexOf(c.currentTarget);this.Hg();this.Z$=Y;this.gN=setTimeout(this.arR,300)};
jf.prototype.as0=function(c){this.Hg()};jf.prototype.Hg=function(){if(this.gN){clearTimeout(this.gN);
this.gN=null}};jf.prototype.acl=function(){this.Hg();var Y=this.Z$;if(this.kr)this.kr.avo();if(this.md[Y]==null)return;
this.kr=this.md[Y];var c=this.Xr[Y].getBoundingClientRect(),o=new ev(y.E.M,!0);o.data={Y:y.H.B2,KH:this.md[Y],x:c.left+c.width+2,y:c.top};
this.I(o)};jf.prototype.avo=function(){for(var Y=0;Y<this.md.length;Y++)if(this.md[Y])this.md[Y].avo();
var c=new ev(y.E.M,!0);c.data={Y:y.H.Rv,KH:this};this.I(c)};jf.prototype.ay5=function(c){var Y=this.md.indexOf(c.target);
this.It=[Y].concat(c.target.rC());this.I(new ev("select",!1))};function fA(c,o,K){ax.call(this);this.n=S.t("span","fitem cbox");
if(o==null)o=!0;if(K==null)K="flabel";var u="cb"+S.h4();this.RX=S.t("input","");this.RX.setAttribute("type","checkbox");
this.RX.setAttribute("id",u);this.n.appendChild(this.RX);this.DM=c;this.Z5=S.t("label",K);if(o)this.Z5.setAttribute("for",u);
this.n.appendChild(this.Z5);this._();this.RX.addEventListener("change",this.Pf.bind(this),!1)}fA.prototype=new ax;
fA.prototype.asA=function(){return this.DM};fA.prototype.ro=function(c){this.Z5.textContent=c};fA.prototype._=function(){var c=this.DM;
if(typeof c=="string"&&c.startsWith("<"))this.Z5.innerHTML=c;else this.Z5.textContent=iV.get(c)};fA.prototype.tb=function(){this.RX.checked=!0};
fA.prototype.Nv=function(){this.RX.checked=!1};fA.prototype.s6=function(){return this.RX.checked};fA.prototype.c=function(c){this.RX.checked=c};
fA.prototype.h=fA.prototype.s6;fA.prototype.Pf=function(c){this.I(new ev(y.E.z,!1))};function dV(c,o){ax.call(this);
this.DM=c;this.n=S.t("span","labelitem fitem"+(o?" spread":""));this._()}dV.prototype=new ax;dV.prototype.c=function(c){this.n.textContent=c};
dV.prototype.h=function(){return this.n.textContent};dV.prototype.R1=function(){this.n.removeAttribute("disabled")};
dV.prototype.Lc=function(){this.n.setAttribute("disabled","")};dV.prototype.ro=function(c){this.n.textContent=c};
dV.prototype._=function(){this.n.textContent=iV.get(this.DM)};dV.prototype.asA=function(){return this.DM};
function kz(c,o,K,u,X){ax.call(this);this.Ed=!1;this.n=S.t("button","fitem"+(o?" spread":"")+(u?" bbtn":""));
this.DM=c;this.Kc=K;this._();var $=X&&window.PointerEvent?"pointerup":"click";this.n.addEventListener($,this.HH.bind(this),!1)}kz.prototype=new ax;
kz.prototype._=function(){var c=this.n,o=this.DM,K=this.Kc;if(typeof o=="string"&&(o.startsWith("<img")||o.startsWith("<svg")||o.startsWith("<span"))){if(!this.Ed){c.innerHTML=o;
c.setAttribute("style","padding:2px");this.Ed=!0}}else c.textContent=iV.get(o);if(K){c.setAttribute("title",iV.get(K))}};
kz.prototype.a18=function(c){this.n.setAttribute("title",c)};kz.prototype.HH=function(c){this.I(new ev("click",!1))};
kz.prototype.tb=function(){S.SZ(this.n,"bactive")};kz.prototype.Nv=function(){S.MG(this.n,"bactive")};
kz.prototype.ro=function(c,o){if(c&&c!=this.DM){this.DM=c;this.Ed=!1}if(o)this.Kc=o;this._()};kz.prototype.c=function(c){if(c)this.tb();
else this.Nv()};kz.prototype.s6=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
kz.prototype.h=function(){return this.s6()};function fi(c,o,K,u,X){ax.call(this);var $=S.h4();this.n=S.t("span","fitem tinput");
if(c){this.DM=c;this.Ju=S.t("label","flabel");this.n.appendChild(this.Ju);this.Ju.setAttribute("for",$);
this._()}if(X){this.RX=S.t("span")}else if(u==null){this.RX=S.t("input");this.RX.setAttribute("type","text")}else this.RX=S.t("textarea","scrollable");
this.RX.setAttribute("id",$);if(K)this.RX.setAttribute("style","width:"+K+"em;"+(X?" display:inline-block; margin-left:6px;":""));
if(u)this.RX.setAttribute("rows",u);this.n.appendChild(this.RX);if(o){this.di=S.t("span");this.di.textContent=o;
this.di.style.marginLeft="2px";this.n.appendChild(this.di)}S.E0(this.RX);d2.rS(this.RX);this.RX.addEventListener("change",this.Pf.bind(this),!1);
this.RX.addEventListener("input",this.a3r.bind(this),!1);if(u==null)this.RX.addEventListener("keyup",this.kf.bind(this),!1)}fi.prototype=new ax;
fi.prototype._=function(){this.$V()};fi.prototype.kf=function(c){var o=d2.y3(c.code,d2.G$),K=d2.y3(c.code,d2.m8);
if(K||o)this.RX.blur()};fi.prototype.ro=function(c){this.Ju.textContent=c};fi.prototype.c=function(c){var o=this.RX,K=c==null?"":c,u=o.tagName=="SPAN";
if(u){o.textContent=" "+K;if(this.di)o.appendChild(this.di)}else o.value=K};fi.prototype.a0N=function(c){this.di.textContent=c};
fi.prototype.h=function(){return this.RX.value};fi.prototype.xd=function(){this.RX.select();this.RX.focus()};
fi.prototype.Pf=function(c){this.I(new ev(y.E.z,!1))};fi.prototype.a3r=function(c){this.I(new ev("input",!1))};
function jq(c,o,K,u,X,$,O,n,x){ax.call(this);if(X==null)X=0;this.n=S.t("span","fitem");var l=S.h4();
this.DM=c;this.Kc=n;this.qe=0;this.iB=x;this.sf=o;this.LJ=K;this.et=null;if(u instanceof Array){this.et=u;
u=u[0]}this.nG=u;this.sq=X;this.as1=$;this.go=O;this.dL=0;this.Ju=S.t("label","flabel");this.Ju.setAttribute("style","cursor:col-resize;");
this.Si=S.t("input");this.Si.setAttribute("type","range");if(O){this.Si.min=0;this.Si.max=400}else{this.Si.min=o;
this.Si.max=K;if(X!=0)this.Si.step=(K-o)/200}this.RX=S.t("input");this.RX.setAttribute("type","text");
this.RX.setAttribute("id",l);this.di=S.t("span");this.di.textContent=u;S.E0(this.RX);this.RX.addEventListener("change",this.Pf.bind(this),!1);
this.RX.addEventListener("keydown",this.BO.bind(this),!1);d2.rS(this.RX);this.RX.addEventListener("keyup",this.kf.bind(this),!1);
this.RX.addEventListener("wheel",this.yA.bind(this),!1);this.Si.addEventListener("input",this.Pf.bind(this),!1);
if(x)this.Si.addEventListener("change",this.Pf.bind(this),!1);this.Si.addEventListener("click",this.adJ.bind(this),!1);
this.ay_=this.an1.bind(this);this.a0n=this.a4k.bind(this);this.a2T=this.aCH.bind(this);this.Pg=0;this.yt=0;
this.TA=!1;S.pI(this.Ju,this.ay_);S.Qf(this.Ju)}jq.prototype=new ax;jq.prototype.An=function(c){this.sq=c};
jq.prototype.ro=function(c){this.Ju.style.display=c?"inherit":"none";if(c)this.Ju.textContent=iV.get(c)};
jq.prototype._=function(){var cv=this.DM,c=this.Kc;if(cv){if(typeof cv=="string"&&cv.startsWith("<"))this.Ju.innerHTML=cv;
else this.$V()}if(c){c=iV.get(c);if(cv)this.Ju.setAttribute("title",c);this.RX.setAttribute("title",c)}};
jq.prototype.c=function(c,o){var K=this.sf==this.LJ,X;if(!K&&this.sf>=0)c=Math.max(this.sf,c);if(this.sq==0)c=Math.round(c);
var u=this.nG;this.qe=c;this.RX.value=(this.sq!=0?c.toFixed(this.sq):c)+(this.as1&&u?(u.toLowerCase()==u.toUpperCase()?"":" ")+u:"");
if(-this.sf==this.LJ)X=200+Math.sign(c)*200*Math.pow(Math.abs(c)/this.LJ,1/2.7);else X=400*Math.pow((c-this.sf)/(this.LJ-this.sf),1/2.7);
this.Si.value=this.go?X:c;if(o)this.dY()};jq.prototype.h=function(){var c=this.qe;if(isNaN(c))c=0;return c};
jq.prototype.z_=function(){return this.nG};jq.prototype.Pf=function(c){var o=0;if(c.currentTarget==this.RX){var K=c.target.value,u=0;
if(K=="")o=0;else if(this.nG){o=parseFloat(K)}else{try{o=eval(K)}catch(c){o=1}}if(isNaN(o))o=0;while(u<K.length&&(K.charAt(u)=="."||48<=K.charCodeAt(u)&&K.charCodeAt(u)<=57))u++;
var X=K.slice(u).trim();if(this.et&&this.et.indexOf(X)!=-1)this.nG=X}else{if(Date.now()-this.dL<10)return;
o=parseFloat(c.target.value);if(this.go){if(-this.sf==this.LJ)o=Math.sign(o-200)*Math.pow(Math.abs(o-200)/200,2.7)*this.LJ;
else o=this.sf+Math.pow(o/400,2.7)*(this.LJ-this.sf);o=this.ak_(o)}}this.c(o);if(c.type=="input"&&this.iB)return;
this.dY()};jq.prototype.dY=function(){this.I(new ev(y.E.z))};jq.prototype.ak_=function(c){if(this.LJ-this.sf>50&&c>10)c=Math.round(c);
return c};jq.prototype.BO=function(c){var o=0;if(d2.y3(c.code,d2.hF))o=1;if(d2.y3(c.code,d2.N5))o=-1;
if(o!=0)this.ahf(o,c.shiftKey)};jq.prototype.kf=function(c){var o=d2.y3(c.code,d2.G$),K=d2.y3(c.code,d2.m8);
if(o)this.c(this.h());if(K||o)this.RX.blur()};jq.prototype.yA=function(c){this.ahf(c.deltaY>0?-1:1,c.shiftKey)};
jq.prototype.ahf=function(c,o){var K=this.h(),u=this.sq,X=c*(u==null||u==0||K>5?1:.1);if(o)X*=10;var $=K+X;
if(!this.go&&this.LJ!=this.sf)$=Math.min(this.LJ,$);this.c($);this.dY()};jq.prototype.adJ=function(c){var o=Date.now()-this.dL;
this.dL=Date.now();if(o>200)return;var K=this.sf,u=this.LJ,X=(K+u)/2;if(K<1&&u>1&&u<10)X=1;else if(K<90&&u>110)X=100;
else if(K<0&&u>0)X=0;this.c(X);this.dY()};jq.prototype.an1=function(c){S.SQ(document,this.a0n);S.K1(document,this.a2T);
this.Pg=S.$_(c,document.body).x;this.yt=this.h()};jq.prototype.a4k=function(c){S.GB(c);var o=this.sf==this.LJ,K=S.$_(c,document.body).x,u=(K-this.Pg)*(o?1:1/120*(this.LJ-this.sf)),X=this.yt+u;
if(o)X=Math.round(X);if(!o){if(!0){X=Math.max(this.sf,X);if(X==this.sf){this.Pg=K;this.yt=this.sf}}if(!this.go){X=Math.min(this.LJ,X);
if(X==this.LJ){this.Pg=K;this.yt=this.LJ}}X=this.ak_(X)}this.TA=!0;this.c(X);if(!this.iB)this.dY()};
jq.prototype.aCH=function(c){if(!this.TA)this.RX.focus();this.TA=!1;if(this.iB)this.dY();S.UU(document,this.a0n);
S.Fo(document,this.a2T)};jq.prototype.xd=function(){this.RX.select();this.RX.focus()};function fI(c,o,K,u,X,$,O,n,x,l){jq.call(this,c,o,K,u,X,!0,$,x,l);
S.SZ(this.n,"rangedropinput");this.n.appendChild(this.Ju);this.RX.setAttribute("style","width:"+(n?n:3.3)+"em");
this.n.appendChild(this.RX);this.auu=S.t("span","rangecontFloat");this.auu.appendChild(this.Si);this.tp=S.t("button");
this.tp.textContent="\u25BC";S.pI(this.tp,this.a1O.bind(this));if(O!=!0)this.n.appendChild(this.tp);
this.qa=new ax;this.qa.n=this.auu}fI.prototype=new jq;fI.prototype.a1O=function(c){if(S.Kt(this.qa.n))return;
c.stopPropagation();var o=this.n.getBoundingClientRect();this.Si.setAttribute("style","width:"+o.width+"px;");
var K=new ev(y.E.M,!0);K.data={Y:y.H.B2,KH:this.qa,x:o.left-10,y:o.top+o.height};this.I(K)};function av(c,o,K,u,X,$){jq.call(this,c,o,K,u,X,!1,$);
this.n.appendChild(this.Ju);var O=S.t("span");this.n.appendChild(O);O.appendChild(this.Si);this.n.appendChild(this.RX);
this.RX.setAttribute("style","width:3.3em");if(this.nG)this.n.appendChild(this.di)}av.prototype=new jq;
function js(c,o,K,u,X,$,O,n){jq.call(this,c,o,K,u,X,!0,$,null,O);S.SZ(this.n,"trangeinput");this.n.appendChild(this.Ju);
this.n.appendChild(this.RX);var x=S.t("span");if(n!=!0)this.n.appendChild(x);x.appendChild(this.Si)}js.prototype=new jq;
function iW(c,o,K,u){ax.call(this);if(!o)return;this.kT=0;this.DM=c;this.aic=u;this.Pn=null;this.axh=K;
this.Wz=[];var X="dd"+S.h4();this.n=S.t("span","fitem ddmenu");if(c){this.Ju=S.t("label","flabel");this.n.appendChild(this.Ju);
this.Ju.setAttribute("for",X)}this.RX=S.t("select");d2.rS(this.RX);this.RX.setAttribute("id",X);this.n.appendChild(this.RX);
this.RX.addEventListener("change",this.Pf.bind(this),!1);function $(O){var n=0;if(d2.y3(O.code,d2.hF))n=1;
if(d2.y3(O.code,d2.N5))n=-1;if(n!=0)O.stopPropagation()}this.RX.addEventListener("keydown",$,!1);this.RX.addEventListener("keyup",$,!1);
this.cg=[];this.M1=null;this.e8(o,K);this._()}iW.prototype=new ax;iW.prototype.ro=function(c){this.DM=c;
this._()};iW.prototype._=function(){this.$V();if(this.M1)this.e8(this.M1,this.axh);if(this.aic)this.RX.setAttribute("title",iV.get(this.aic));
this.c(this.kT)};iW.prototype.h=function(){return this.kT};iW.prototype.e8=function(c,o){S._a(this.RX);
var K=[],u=0;if(o){K.push(o[0]);for(var Y=1;Y<o.length;Y++)K.push(K[Y-1]+o[Y])}this.M1=c;this.Pn=[];
this.axh=o;for(var Y=0;Y<c.length;Y++){var X=S.t("option");if(this.Wz.indexOf(Y)!=-1)X.setAttribute("disabled","");
X.textContent=iV.get(c[Y]);X.setAttribute("value",Y);this.RX.appendChild(X);this.cg.push(X);this.Pn.push(Y+u);
if(K.indexOf(Y+1)!=-1&&Y!=c.length-1){var $=S.t("option");$.setAttribute("disabled","");$.textContent="";
this.RX.appendChild($);u++}}};iW.prototype.ail=function(Y){var c=this.Wz,o=c.indexOf(Y);if(o==-1)c.push(Y);
this._()};iW.prototype.aA_=function(Y){var c=this.Wz,o=c.indexOf(Y);if(o!=-1)c.splice(o,1);this._()};
iW.prototype.c=function(c){this.kT=c;this.RX.selectedIndex=this.Pn[c]};iW.prototype.Pf=function(c){this.kT=this.Pn.indexOf(this.RX.selectedIndex);
this.I(new ev(y.E.z,!1))};iW.prototype.xd=function(){this.RX.focus()};function hE(c,o,K,u,X){ax.call(this);
if(!o)return;this.kT=0;this.a07=u;this.ag3=X;this.n=S.t("span","fitem bbmenu");this.Z5=S.t("label","flabel");
if(c){this.DM=c;this.Z5.textContent=c+":";this.n.appendChild(this.Z5)}this.cg=[];this.nP=S.t("span");
this.n.appendChild(this.nP);this.M1=null;this.e8(o,K);this.c(0)}hE.prototype=new ax;hE.prototype.ro=function(c){this.DM=c;
this._()};hE.prototype._=function(){var c=this.Z5.parentNode!=null,o=this.n;if(this.DM!=null){if(!c){o.appendChild(this.Z5);
o.appendChild(this.nP)}this.Z5.textContent=iV.get(this.DM)+": "}else if(c)o.removeChild(this.Z5);for(var Y=0;
Y<this.cg.length;Y++)this.cg[Y]._()};hE.prototype.h=function(){return this.kT};hE.prototype.e8=function(c,o){S._a(this.nP);
this.cg=[];this.M1=c;for(var Y=0;Y<c.length;Y++){var K=new kz(c[Y],!1,o?o[Y]:null,this.a07);K.B("click",this.Pf,this);
this.nP.appendChild(K.n);this.cg.push(K)}this._()};hE.prototype.c=function(c){this.kT=c;for(var Y=0;
Y<this.cg.length;Y++)this.cg[Y].Nv();if(c!=-1)this.cg[c].tb()};hE.prototype.Pf=function(c){var Y=this.cg.indexOf(c.target);
this.c(this.ag3&&Y==this.kT?-1:Y);this.I(new ev(y.E.z,!1))};hE.DS=function(c,o,K){if(o==null)o=16;var u=hE.ZN,X=u.getContext("2d"),$=o>>>1;
u.width=u.height=o;var O=[];for(var Y=0;Y<c.length;Y++){if(c[Y][0]=="-")O.push(c[Y].slice(1));else if(c[Y]=="checker"||c[Y].startsWith("#")){if(c[Y]=="checker"){X.fillStyle="white";
X.fillRect(0,0,o,o);X.fillStyle="#bbbbbb";X.fillRect($,0,$,$);X.fillRect(0,$,$,$)}else if(c[Y].startsWith("#")){X.fillStyle=c[Y];
X.fillRect(0,0,o,o)}O.push("<img src=\""+u.toDataURL()+"\" />")}else O.push(S.RD(c[Y],null,K?K:"autoscale"))}return O};
hE.ZN=S.t("canvas");function aN(c,o,K,u,X,$){ax.call(this);this.n=S.t("span","fitem mbox");this.a4C=K;
this.aan=X;if(c){this.DM=c;this.Z5=S.t("label","flabel");this.n.appendChild(this.Z5)}this.oc=o;this.pb=[];
for(var Y=0;Y<o.length;Y++){var O=K?new kz(o[Y],!1,u?u[Y]:null,!1,$):new fA(o[Y],!0,"");O.B(K?"click":y.E.z,this.Pf,this);
this.pb.push(O);this.n.appendChild(O.n)}this._()}aN.prototype=new ax;aN.prototype.c=function(c){for(var o=0;
o<this.oc.length;o++)this.pb[o].c(c[o])};aN.prototype.h=function(){var c=[];for(var o=0;o<this.oc.length;
o++)c[o]=this.pb[o].h();return c};aN.prototype._=function(){if(this.DM)this.Z5.innerHTML=iV.get(this.DM)+": ";
var c=this.pb;for(var o=0;o<c.length;o++){c[o]._();if(o==c.length-1)c[o].n.style.marginRight="0px"}};
aN.prototype.Pf=function(c){var Y=this.pb.indexOf(c.currentTarget),o=this.pb[Y];if(this.a4C)o.c(!o.h());
if(this.aan){var K=o.h();for(var Y=0;Y<this.pb.length;Y++)this.pb[Y].c(!1);o.c(K)}this.I(new ev(y.E.z,!1))};
function aE(c,o){ax.call(this);this.Yf=[];this.g=[];this.arC=c;this.KR=o;this.y8=0;this.uf=null;this.ky=new kn(0,0);
if(o!=null){this.xR=new jf([{name:[6,37]},{name:[5,4]}]);this.xR.parent=this;this.xR.B("select",this.VP,this)}this.n=S.t("div","imageset scrollable");
this.n.addEventListener("contextmenu",S.NK,!1)}aE.prototype=new ax;aE.prototype._=function(){if(this.xR)this.xR._()};
aE.prototype.VP=function(c){var Y=this.xR.rC()[0],o=new ev(y.E.M,!0),K={Y:y.H.NU,EU:this.KR,zC:this.g.slice(0)};
if(Y==0){var u=this.uf[1][this.g[0]],X=u.split("/");if(X.length==2){K.Sp=X[0]+"/";u=X[1]}K.Zk="rnm";
o.data={Y:y.H.Vl,n9:"namewindow",Ak:u,t9:{K:y.E.M,C:K}}}else{o.data=K;K.Zk="del"}this.I(o)};aE.prototype.aDi=function(){return this.y8};
aE.prototype.qZ=function(c){this.y8=c;if(this.uf)this.gd()};aE.prototype.od=function(c,o,K,u){this.uf=[c,o,K,u];
this.gd()};aE.prototype.gd=function(){var c=this.uf,o=this.n,K=c[0],u=c[1],X=c[2],$=c[3];this.Yf=[];
S._a(o);var O=this.HH.bind(this),n=this.y8;if(n==0)S.SZ(o,"imageset");else S.MG(o,"imageset");var x={};
for(var Y=0;Y<K.length;Y++){var l=K[Y],N=null,f=null;if(l==null){this.Yf.push(null);continue}if(typeof l=="string"){N=S.t("img","image");
N.setAttribute("src",l)}else N=l;if(X)S.Vg(N,X,$);if(this.arC)S.SZ(N,"gsicon");if(u){var f=u[Y],z=f.split("/");
if(z.length==2){var R=x[z[0]];f=z[1];if(R==null)R=x[z[0]]=[];R.push(Y)}}if(n==0){}else{var V=S.t("div","listitem");
V.appendChild(N);var d=S.t("span");d.textContent=f?f:"Item "+(Y+1);d.setAttribute("style","margin-left:4px;");
V.appendChild(d);N=V}if(f)N.setAttribute("title",f);N.addEventListener("mousedown",O,!1);this.Yf.push(N);
o.appendChild(N)}if(Object.keys(x).length!=0){S._a(o);for(var e in x){var R=x[e],p=S.t("div","listitem head");
p.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var h=S.t("div","headL");p.appendChild(h);h.appendChild(S.t("div","folder"));var d=S.t("span");d.textContent=e;
h.appendChild(d);o.appendChild(p);for(var Y=0;Y<R.length;Y++)o.appendChild(this.Yf[R[Y]])}}};aE.prototype.HH=function(c){if(this.KR==null)c.preventDefault();
var o=this.Yf.indexOf(c.currentTarget),K=window.__kb,u=this.g,X=u.length;if(K.N(d2.Qx)){var $=Math.min(u[0],u[u.length-1],o),O=Math.max(u[0],u[u.length-1],o);
u=[];for(var Y=$;Y<=O;Y++)u.push(Y)}else if(K.N(d2.vm)){var n=u.indexOf(o);if(n==-1)u.push(o);else u.splice(n,1)}else u=[o];
u.sort(function(f,z){return f-z});if(c.button==0||X==1)this.c(u);this.ky=S.$_(c,c.currentTarget);if(c.button==0)this.I(new ev(y.E.z));
if(c.button==2&&this.xR){var x=this.xR;x.update(null);var l=S.$_(c,document.body),N=new ev(y.E.M,!0);
N.data={Y:y.H.B2,KH:x,x:l.x,y:l.y+2};this.I(N)}};aE.prototype.h=function(){return this.g.slice(0)};aE.prototype.aDP=function(){var c=this.ky;
return new kn(c.x,c.y)};aE.prototype.c=function(c){this.g=c.slice(0);for(var Y=0;Y<this.Yf.length;Y++){var o=this.Yf[Y];
if(o==null)continue;if(c.indexOf(Y)!=-1)S.SZ(o,"selected");else S.MG(o,"selected")}};function hc(c,o,K,u,X,$,O){ax.call(this);
this.n=S.t("span","fitem "+K);this.IP=new ax;this.IP.n=S.t("div","floatcont");this.Uq=u;this.IP.parent=this;
this.aDe=S.t("div");this.IP.n.appendChild(this.aDe);this.un=S.t("div");this.IP.n.appendChild(this.un);
if(c){this.DM=c;this.Z5=S.t("label","flabel");this.n.appendChild(this.Z5)}this.Y=S.t("button",O?"nopadding":"");
this.Y.setAttribute("style","position:relative;");var n=this.h9.bind(this),x=this.BY.bind(this);S.pI(this.Y,o?x:n);
this.n.appendChild(this.Y);this.tu=S.t("img",O?"gsicon":"");this.Y.appendChild(this.tu);if(o){var l=S.t("button");
l.textContent="\u25BC";S.pI(l,n);this.n.appendChild(l)}else{var N=S.t("span");N.textContent="\u25BC";
N.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.Y.appendChild(N)}var f=this.ab7=S.t("span");
this.un.appendChild(f);f.setAttribute("style","display:inline-block;  vertical-align:top;");this.hr=new aE(O,$);
f.appendChild(this.hr.n);this.hr.parent=this.IP;this.hr.B(y.E.z,this.B9,this);this.hr.n.style.height=X+"px";
this.XR=S.t("button");this.XR.textContent="\u25BC";this.XR.setAttribute("style","padding:3px");S.pI(this.XR,this.NI.bind(this));
this.un.appendChild(this.XR);var z=this.RR(),R=this.amo=$!=iD.Oz&&$!=iD.OO?$:null,V=this.ayu=$==null?!1:iD.Mt[$][4]!=0,d=$==null?"":iD.Mt[$][0].toUpperCase(),e=[];
if(R)e.push({name:[12,87]});e.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],ql:!0});e.push({name:[[23,6],"."+(d=="ICC"?"icc .cube .look .3dl":d)]},{name:["VAR0 ."+d,[1,8]]},{name:[6,37]},{name:[5,4],ql:z.length!=0});
for(var Y=0;Y<z.length;Y++)e.push({name:z[Y].split("/").pop()});this.aaQ=e;this.KR=$;this.Xf=null;this.IH=!0;
this.g_=null}hc.prototype=new ax;hc.prototype.RR=function(){return[]};hc.prototype.BY=function(){};hc.prototype._=function(){this.hr._();
var c=this.DM;if(c)this.Z5.textContent=iV.get(c)+":"};hc.prototype.ro=function(c){this.Z5.textContent=c};
hc.prototype.E8=function(c){var o=this.KR,K=0;if(o==iD.Y_){K=this.Xf?this.Xf.length:0;c=c.slice(0)}this.Xf=c;
this.IH=!0;if(S.Kt(this.hr.n)||o==iD.Op)this.yY();if(o==iD.Y_&&c.length-K==1&&S.Kt(this.n)){this.c(c[K]);
this.IH=!0;this.yY();this.hr.c([K]);this.I(new ev(y.E.z))}};hc.prototype.VP=function(c){var o=c.target.rC()[0];
if(this.amo==null)o++;var K=new ev(y.E.M,!0);if(o==0){var u=this.kM();if(this.KR==iD.Y_&&u[0].profile==null)return;
K.data={Y:y.H.NU,Zk:"add",EU:this.amo,Ye:u}}else if(o==1)this.hr.qZ(1-this.hr.aDi());else if(o<=5)this.GN(o-2);
else{var X=this.RR();K.data={Y:y.H.ip,EU:{url:"rsrc/"+X[o-6]}}}if(K.data)this.I(K)};hc.prototype.GN=function(c){var o=new ev(y.E.M,!0),K=this.hr.h(),u={Y:y.H.NU,EU:this.KR,zC:K};
if(c>1&&K.length==0){alert("No items selected");return}if(c==0)o.data={Y:y.H.Rk};else if(c==1)o.data={Y:y.H.PO,amE:this.KR,zC:K.length==0?null:K};
else if(c==2){var X=this.hr.uf[1][K[0]],$=X.split("/");if($.length==2){u.Sp=$[0]+"/";X=$[1]}u.Zk="rnm";
o.data={Y:y.H.Vl,n9:"namewindow",Ak:X,t9:{K:y.E.M,C:u}}}else if(c==3){o.data=u;u.Zk="del"}this.I(o)};
hc.prototype.kM=function(){return[this.h()]};hc.prototype.NI=function(c){if(this.xR==null){this.xR=new jf(this.aaQ);
this.xR.parent=this.IP;this.xR.B("select",this.VP,this)}if(S.Kt(this.xR.n))return;c.stopPropagation();
var o=this.xR;o._();o.update(null);var K=c.currentTarget.getBoundingClientRect(),u=new ev(y.E.M,!0);
u.data={Y:y.H.B2,KH:o,x:K.left,y:K.top+K.height};this.I(u)};hc.prototype.h9=function(c,o,K){if(S.Kt(this.IP.n))return;
if(c)c.stopPropagation();this.yY();if(o==null){var u=this.Y.getBoundingClientRect(),o=u.left,K=u.top+u.height}this._Q();
var X=new ev(y.E.M,!0);X.data={Y:y.H.B2,KH:this.IP,x:o,y:K,Kd:!0};this.I(X)};hc.prototype._Q=function(c,o){var c=Math.min(this.Uq,window.innerWidth-40);
this.ab7.style.width=c+"px";this.IP.n.style.width=c+20+"px"};hc.prototype.amt=function(c,o){this.h9(null,c,o)};
function ib(){ax.call(this);this.n=S.t("div");this.qe=!1;this.wU=[new iW([12,19,1],[[13,1,7]].concat(j7.eF)),new jL([17,1]),new jL([12,46])];
for(var Y=0;Y<3;Y++){var c=this.wU[Y];this.n.appendChild(c.n);c.B(y.E.z,this.oR,this)}this._()}ib.prototype=new ax;
ib.prototype._=function(){for(var Y=0;Y<3;Y++)this.wU[Y]._()};ib.prototype.h=function(){return this.qe.slice(0)};
ib.prototype.c=function(c){this.qe=c.slice(0);var o=this.wU,K=o[0].h();o[1].c(c.slice(K*8,K*8+4),K);
o[2].c(c.slice(K*8+4,K*8+8),K)};ib.prototype.oR=function(c){var o=this.wU,K=o.indexOf(c.currentTarget);
if(K==0)this.c(this.qe);else{var u=o[0].h()*8+(K==1?0:4),X=o[K].h();for(var Y=0;Y<4;Y++)this.qe[u+Y]=X[Y];
this.I(new ev(y.E.z,!1))}};function jL(c){ax.call(this);this.n=S.t("div");this.xS=S.t("canvas");this.O$=c;
this.qe=[0,20,200,255];this.$p=0;this.pA=-1;this.aAH=[];for(var Y=0;Y<5;Y++){var o=S.t("span");o.setAttribute("style","display:inline-block;width:"+(Y==0?8:Y==2?7:2)+"em");
this.aAH.push(o);this.n.appendChild(o)}this.vN=this.tT.bind(this);this.Gy=this.Al.bind(this);this.Mp=this.cF.bind(this);
S.Qf(this.xS);S.pI(this.xS,this.vN);this.n.appendChild(this.xS);this.gd()}jL.prototype=new ax;jL.prototype._=function(){this.gd()};
jL.prototype.c=function(c,o){this.qe=c;this.$p=o;this.gd()};jL.prototype.h=function(){return this.qe.slice(0)};
jL.prototype.tT=function(c){var o=this.qe,K=S.$_(c,this.xS),u=K.x-8,X=-1,$=1e9;for(var Y=0;Y<4;Y++){var O=u-o[Y],n=Math.abs(O);
if(n<8&&n<$&&((Y&1)==0&&O<0||(Y&1)==1&&O>0)){$=O;X=Y}}if(X==-1)return;this.pA=X;this.nV=window.__kb.N(d2.u6)||o[(X>>>1)*2]!=o[(X>>>1)*2+1];
S.SQ(window,this.Gy);S.K1(window,this.Mp)};jL.prototype.Al=function(c){var o=this.qe,K=this.pA,u=(K>>>1)*2,X=u+1,$=S.$_(c,this.xS),O=Math.round(Math.max(0,Math.min(255,$.x-8)));
o[K]=O;if(this.nV&&o[u]>=o[X])this.nV=!1;if(!this.nV)o[u]=o[X]=O;this.gd();this.I(new ev(y.E.z,!1))};
jL.prototype.cF=function(c){S.UU(window,this.Gy);S.Fo(window,this.Mp)};jL.prototype.gd=function(){var c=this.xS;
S.qI(c,255+16,16);var o=c.getContext("2d"),K=c.width,u=c.height,X=Math.round(255*S.Sm()),$=Math.round(8*S.Sm());
o.translate($,0);var O=o.createLinearGradient(0,0,X,0);O.addColorStop(0,"black");O.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.$p]);
o.fillStyle=O;o.fillRect(0,0,X,$);var n=this.aAH,x=iV.get(this.O$)+":";n[0].textContent=x;for(var Y=0;
Y<4;Y++){var l=this.qe[Y];n[1+Y].textContent=l;var N=Math.round(l*S.Sm());o.beginPath();o.moveTo(N,$);
o.lineTo(N,$+$);o.lineTo(N+((Y&1)==0?-1:1)*$,$+$);o.closePath();o.fillStyle=Y<2?"#666666":"#cccccc";
o.fill();o.strokeStyle="black";o.stroke()}};function iF(c,o,K){ax.call(this);if(K==null)K=!1;this.b=[0,0,1];
this.a70=o;this.aDX=K;this.nr=0;var u="ai"+S.h4();this.n=S.t("span","fitem angleinput");if(c){this.Z5=S.t("label","flabel");
this.DM=c;this.n.appendChild(this.Z5);this.Z5.setAttribute("for",u)}this.JB=K?44:20;this.xS=S.t("canvas","gsicon");
this.i0=this.xS.getContext("2d");S.Qf(this.xS);S.qI(this.xS,this.JB*2+1,this.JB*2+1);this.i0.scale(S.Sm(),S.Sm());
this.n.appendChild(this.xS);S.pI(this.xS,this.Lq.bind(this));this.BQ=this.tR.bind(this);this.K9=this.wN.bind(this);
var X=this.Pf.bind(this),$=S.t("div");$.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!K)this.n.appendChild($);this.lj=[];for(var Y=0;Y<2;Y++){var O=S.t("input");this.lj.push(O);O.setAttribute("type","text");
S.E0(O);if(Y==0)O.setAttribute("id",u);O.addEventListener("change",X,!1);var n=S.t("span");n.textContent="\xB0";
if(Y==0||o){$.appendChild(O);$.appendChild(n);S.jR($)}}this.c(this.b)}iF.prototype=new ax;iF.prototype._=function(){if(this.DM)this.Z5.textContent=iV.get(this.DM)+":"};
iF.prototype.ro=function(c){this.Z5.textContent=c};iF.prototype.h=function(){return this.b.slice(0)};
iF.prototype.c=function(c,o){var K=this.b;c=c.slice(0);if(c[0]==null)c[0]=K[0];if(c[1]==null)c[1]=K[1];
if(c[2]==null)c[2]=K[2];this.b=c;var u=c[0],X=c[1],$=c[2],O=this.a70,n=this.aDX,x=this.JB*.85;if(!O)X=0;
this.lj[0].value=u;this.lj[1].value=X;var l=this.i0;l.clearRect(0,0,100,100);u=Math.PI*u/180;X=x*(90-X)/90;
var N=this.JB+.5;l.save();l.translate(N,N);l.rotate(-u);l.strokeStyle="rgba(0,0,0,0.5)";l.beginPath();
l.ellipse(0,0,x,x*$,0,0,2*Math.PI);if(n){l.moveTo(0,-x*$);l.lineTo(0,x*$);l.moveTo(-X,0)}else l.moveTo(0,0);
l.lineTo(X,0);l.stroke();var f=this.JB*.15;l.fillStyle="black";l.beginPath();if(n){l.arc(0,-x*$,f*.66,0,2*Math.PI);
l.arc(0,x*$,f*.66,0,2*Math.PI)}if(O){l.arc(X,0,f*.4,0,2*Math.PI)}else{l.moveTo(N-f,-f*.66);l.lineTo(N,0);
l.lineTo(N-f,f*.66)}l.fill();l.restore();if(o)this.Pf()};iF.prototype.Pf=function(c){var o=parseInt(this.lj[0].value);
if(isNaN(o))o=0;var K=parseInt(this.lj[1].value);if(isNaN(K))K=0;o=o%360;K=K%360;this.c([o,K]);this.I(new ev(y.E.z,!1))};
iF.prototype.Lq=function(c){S.SQ(window,this.BQ);S.K1(window,this.K9);var o=S.$_(c,this.xS),N=0,f=1e9;
o.x-=this.JB;o.y-=this.JB;var K=this.b,u=K[0]*Math.PI/180,X=(90-K[1])/90,$=K[2],O=this.JB*.85,n=Math.sin(-u),x=Math.cos(-u),l=[new kn(x*O,n*O)];
if(this.aDX)l.push(new kn(-n*O*$,x*O*$),new kn(n*O*$,-x*O*$));for(var Y=0;Y<l.length;Y++){var z=kn.je(o,l[Y]);
if(z<f){f=z;N=Y}}this.nr=N;if(N==0)this.tR(c)};iF.prototype.tR=function(c){var o=S.$_(c,this.xS),K=this.nr,u=[],X=o.x-this.JB,$=o.y-this.JB,O=this.JB*.85;
if(K==0){var n=180*Math.atan2(-$,X)/Math.PI,x=90-90*Math.min(1,Math.sqrt(X*X+$*$)/O);if(c.shiftKey)n=Math.round(n/15)*15;
u=[Math.round(n),Math.round(x)]}else u=[null,null,Math.max(.01,Math.min(1,Math.sqrt(X*X+$*$)/O))];this.c(u);
this.I(new ev(y.E.z,!1))};iF.prototype.wN=function(c){this.I(new ev(y.E.z,!1));S.UU(window,this.BQ);
S.Fo(window,this.K9)};function a_(c,o){ax.call(this);this.qe=0;this.Wa=o;this.n=S.t("span","fitem angleinput");
if(c){this.Z5=S.t("label","flabel");this.DM=c;this.n.appendChild(this.Z5)}this.xS=S.t("canvas","gsicon");
this.i0=this.xS.getContext("2d");S.qI(this.xS,o,o);this.n.appendChild(this.xS);S.Qf(this.xS);S.pI(this.xS,this.Lq.bind(this));
this.BQ=this.tR.bind(this);this.K9=this.wN.bind(this);this.c(0)}a_.prototype=new ax;a_.prototype._=function(){if(this.DM)this.Z5.textContent=iV.get(this.DM)+":"};
a_.prototype.ro=function(c){this.Z5.textContent=c};a_.prototype.h=function(){return this.qe};a_.prototype.agX=function(c){var o=this.qe,K=Math.floor(o/3),u=o-K*3;
u=Math.max(0,Math.min(2,u+c.x));K=Math.max(0,Math.min(2,K+c.y));this.c(K*3+u)};a_.prototype.c=function(c){this.qe=c;
var o=this.xS.width,K=Math.floor(c/3),u=c-3*K,X=(u+.5)*o/3,$=(K+.5)*o/3,O=this.i0,n=[.5,Math.round(o/3)+.5,Math.round(2*o/3)+.5,o-.5];
O.clearRect(0,0,o,o);var x=this.Wa<30;O.setLineDash([]);O.strokeStyle=x?"rgba(0,0,0,0.5)":"#000000";
O.beginPath();for(var Y=0;Y<4;Y++){var l=n[Y];O.moveTo(l,0);O.lineTo(l,o);O.moveTo(0,l);O.lineTo(o,l)}O.stroke();
if(c==9)return;if(!x){O.setLineDash([1,2]);var N=o*.53,f=Math.max(0,Math.min(o-N,X-N/2)),z=Math.max(0,Math.min(o-N,$-N/2));
O.strokeRect(Math.round(f)+.5,Math.round(z)+.5,Math.round(N),Math.round(N))}O.fillStyle="#000000";O.beginPath();
O.arc(X,$,o/8,0,Math.PI*2);O.fill()};a_.prototype.Lq=function(c){S.SQ(document.body,this.BQ);S.K1(document.body,this.K9);
this.tR(c)};a_.prototype.tR=function(c){var o=S.$_(c,this.xS),K=Math.max(0,Math.min(2,Math.floor(o.x/(this.Wa/3)))),u=Math.max(0,Math.min(2,Math.floor(o.y/(this.Wa/3))));
this.c(u*3+K)};a_.prototype.wN=function(c){this.I(new ev(y.E.z,!1));S.UU(document.body,this.BQ);S.Fo(document.body,this.K9)};
function db(cv){ax.call(this);this.n=S.t("span","fitem cswatch");this.a9s=0;this.mt=[];this.z7=[];var c=this.ae_.bind(this);
for(var Y=0;Y<cv;Y++){this.mt.push(0);var o=S.t("span","colorsample");o.addEventListener("click",c,!1);
this.z7.push(o);this.n.appendChild(o)}var K=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],u=Math.min(cv,K.length);
for(var Y=0;Y<u;Y++)this.mt[Y]=K[Y];this.b6()}db.prototype=new ax;db.prototype.ae_=function(c){this.a9s=this.z7.indexOf(c.currentTarget);
this.I(new ev(y.E.z))};db.prototype.h=function(){return this.mt[this.a9s]};db.prototype.c=function(c){var o=this.mt,K=o.indexOf(c);
if(K!=-1)o.splice(K,1);else o.pop();o.unshift(c);this.b6()};db.prototype.b6=function(){for(var Y=0;Y<this.mt.length;
Y++){this.z7[Y].setAttribute("style","background-color:#"+a.On(this.mt[Y]))}};function hv(c){ax.call(this);
this.Ay={Z:0,r:0,J:0};this.UR=c;this.n=S.t("span","fitem colorsample");this.n.addEventListener("click",this.hy.bind(this),!1)}hv.prototype=new ax;
hv.prototype._=function(){};hv.prototype.hy=function(c){var o=this.Ay;this.I(new ev("click"));var K=new ev(y.E.M,!0);
K.data={Y:y.H.Vl,n9:"colorpicker",A8:Math.round(o.Z)<<16|Math.round(o.r)<<8|Math.round(o.J),hB:this.vA.bind(this),Tq:this.UR};
this.I(K)};hv.prototype.vA=function(c){this.fV(c);this.I(new ev(y.E.z))};hv.prototype.E4=function(){this.hy(null)};
hv.prototype.ZO=function(){var c=this.Ay;return c.Z<<16|c.r<<8|c.J};hv.prototype.h=function(){return a.T.mv(this.Ay)};
hv.prototype.fV=function(c){this.Ay={Z:c>>16&255,r:c>>8&255,J:c&255};this.aBs()};hv.prototype.c=function(c){this.Ay=a.T.h0(c);
this.aBs()};hv.prototype.aBs=function(){var c=this.Ay,o=c.Z,K=c.r,u=c.J,X=o<<16|K<<8|u;this.n.setAttribute("style","background-color:#"+a.On(X))};
function fH(){ax.call(this);this.G7=!1;this.lO=20;this.az8=10;this.IK=0;this.G7=!1;this.Hz={Z:255,r:0,J:0};
this.SE={Z:0,r:0,J:0};this.RU=null;this.Cv=null;this.n=S.t("canvas");this.gd();S.Qf(this.n);S.pI(this.n,this.vN.bind(this))}fH.prototype=new ax;
fH.prototype.a2r=function(c){if(this.G7==c)return;this.G7=c;this.gd()};fH.prototype._=function(){};fH.prototype.agO=function(c,o){function K(u){return{Z:u>>16&255,r:u>>8&255,J:u&255}}if(c!=null)this.Hz=K(c);
if(o!=null)this.SE=K(o);this.gd()};fH.prototype.aAl=function(c,o){this.RU=c;this.Cv=o;this.gd()};fH.prototype.vN=function(c){var o=S.$_(c,this.n),K=o.x*S.Sm(),u=o.y*S.Sm(),X=this.lO,$=this.az8,O=0;
if(K<$&&u<$){O=0}else if(K>X-$&&u>X-$){O=1}else if(K<$){O=2}else{O=3}this.E4(O)};fH.prototype.E4=function(c){var o=this.RU,K=new ev(y.E.M,!0);
if(c>1){if(gN==0)K.data={Y:y.H.NU,EU:iD.Mn,D$:c};else{var u={KO:1,gq:JSON.parse(JSON.stringify(o.QN[1]))},X=JSON.parse(JSON.stringify(o.KT)),$={KO:1,gq:JSON.parse(JSON.stringify(o.$t[1]))};
if(c==2){u=gH.i$(X);gH.cx(X,o.L6)}else{u.gq.Clr.v=a.T.mv({Z:255,r:255,J:255});$.gq.Clr.v=a.T.mv({Z:0,r:0,J:0});
gH.cx(X,$)}K.data={Y:y.H.NU,EU:iD.Cr,b:u};this.I(K);K.data={Y:y.H.NU,EU:iD.JP,b:X}}}else{this.IK=c;var O=null;
if(gN==0)O=c==0?this.Hz:this.SE;else{var n=c==0?o.QN:o.$t;O=a.T.h0(n[1].Clr.v)}K.data={Y:y.H.Vl,n9:"colorpicker",A8:O.Z<<16|O.r<<8|O.J,hB:this.vA.bind(this)}}this.I(K)};
fH.prototype.vA=function(c){var o=new ev(y.E.M,!0),K=this.IK,u=this.RU;if(gN==0)o.data={Y:y.H.NU,EU:iD.Mn,D$:K,b:c};
else{var X={KO:1,gq:JSON.parse(JSON.stringify(u.QN[1]))};X.gq.Clr.v=a.T.mv(a.rf(c));var $=JSON.parse(JSON.stringify(u.KT));
gH.cx($,X);if(K==1)X=$;o.data={Y:y.H.NU,EU:K==0?iD.Cr:iD.JP,b:X}}this.I(o)};fH.prototype.gd=function(){var c=this.n,o=c.getContext("2d"),K=S.Sm(),X="#aaaaaa",$=.62;
S.qI(c,34,34);c.setAttribute("style",c.getAttribute("style")+";cursor:pointer");var u=this.lO=c.width,O=this.az8=Math.round(u*$);
function n(h,E){var q=h.Z,Z=h.r,v=h.J;if(E)q=Z=v=Math.round(a.NV(q,Z,v));var W=q<<16|Z<<8|v;return"#"+a.On(W)}function x(o,f,h,E,q,Z){o.beginPath();
if(E>=Z*2&&q>=Z*2){o.moveTo(f+Z,h);o.lineTo(f+E-Z,h);o.quadraticCurveTo(f+E,h,f+E,h+Z);o.lineTo(f+E,h+q-Z);
o.quadraticCurveTo(f+E,h+q,f+E-Z,h+q);o.lineTo(f+Z,h+q);o.quadraticCurveTo(f,h+q,f,h+q-Z);o.lineTo(f,h+Z);
o.quadraticCurveTo(f,h,f+Z,h)}o.closePath()}function l(f,h,O,E,q){o.strokeStyle=q?q:"black";o.fillStyle=E;
x(o,f+.5,h+.5,O-1,O-1,O*.2);o.fill();o.stroke()}var N=this.RU;if(N){o.beginPath();var f=u-O,z=Math.floor(O*.28),R=O-2*z;
hz.a8Y(o,N.Be.uK,this.Cv,O,O,f,f);o.lineWidth=1;o.strokeStyle="white";o.clearRect(f+z,f+z,R,R);o.strokeRect(f+z+.5,f+z+.5,R-1,R-1);
o.strokeRect(f+.5,f+.5,O-1,O-1);hz.a8Y(o,N.Be.QQ,this.Cv,O,O,0,0);o.lineWidth=1;o.strokeStyle="white";
o.strokeRect(.5,.5,O-1,O-1)}else{l(u-O,u-O,O,n(this.SE,this.G7));l(0,0,O,n(this.Hz,this.G7))}var V=u-O,d=Math.round(V*$);
l(u-d,V-d,d,gN==0?"white":"black",X);l(u-V,0,d,gN==0?"black":"white",X);o.save();o.fillStyle=X;o.translate(0,u);
o.rotate(-Math.PI/2);V=u-O;var e=Math.round(V*.28),p=Math.round(V*.25);for(var Y=0;Y<2;Y++){o.fillRect(e,e,V-e,1);
o.beginPath();o.moveTo(V-p,e+.5-p);o.lineTo(V,e+.5);o.lineTo(V-p,e+.5+p);o.closePath();o.fill();o.transform(0,1,1,0,0,0)}o.restore()};
function eE(c){hc.call(this,c,!1,"brushbutton nopadding",19*13,10*13,iD.yj,!0);var o=this.aDe;S.SZ(o,"flexrow");
var K=S.t("div");o.appendChild(K);var u=S.t("div");o.appendChild(u);u.setAttribute("style","margin-left:8px");
this.A1=new iF(null,null,!0);this.A1.B(y.E.z,this.YE,this);K.appendChild(this.A1.n);this.QV=new js([12,14,0],1,1e3," px",0,!0);
this.QV.B(y.E.z,this.YE,this);u.appendChild(this.QV.n);this.V1=new js([12,17],0,100,"%");this.V1.B(y.E.z,this.YE,this);
u.appendChild(this.V1.n);this.yc=new aN(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.yc.B(y.E.z,this.YE,this);u.appendChild(this.yc.n)}eE.prototype=new hc;eE.prototype.RR=function(){var c=["pencil","trees"];
for(var Y=0;Y<c.length;Y++)c[Y]="brushes/"+c[Y]+".abr";return c};eE.prototype.c=function(c,o,K){this.g_=JSON.parse(JSON.stringify(c));
var u=Math.floor(20*S.Sm()),X=Math.floor(36*S.Sm()),$=Math.floor(24*S.Sm()),O=kD.Zq(c,o,K,u,$,X);this.tu.setAttribute("src",O);
S.Vg(this.tu,X,$);var n=c.Brsh.v;this.QV.c(n.Dmtr.v.val);if(n.Hrdn!=null){this.V1.R1();this.V1.c(n.Hrdn.v.val)}else this.V1.Lc();
if(n.Angl!=null)this.A1.c([n.Angl.v.val]);if(n.Rndn!=null)this.A1.c([null,null,n.Rndn.v.val/100]);var x=[!1,!1];
if(c.opVr)x[0]=c.opVr.v.bVTy.v==2;if(c.szVr)x[1]=c.szVr.v.bVTy.v==2;this.yc.c(x)};eE.prototype.kM=function(){return{list:[{t:"Objc",v:this.h()}],Z7:[],p1:[]}};
eE.prototype.h=function(){return this.g_};eE.prototype.yY=function(){if(!this.IH)return;var c=[],o=[],K=this.Xf,u=Math.floor(33*S.Sm()),X=Math.floor(40*S.Sm());
for(var Y=0;Y<K.list.length;Y++){var $=K.list[Y].v,O=kD.Zq($,K.Z7,K.p1,u,X);c.push(O);o.push($.Nm.v)}this.hr.od(c,o,u,X);
this.IH=!1};eE.prototype.B9=function(c){var o=this.Xf;this.c(o.list[this.hr.h()[0]].v,o.Z7,o.p1);this.I(new ev(y.E.z))};
eE.prototype._=function(){hc.prototype._.call(this);this.A1._();this.QV._();this.V1._()};eE.prototype.YE=function(c){var o=this.Xf,K=this.g_,u=K.Brsh.v;
u.Dmtr.v.val=this.QV.h();if(u.Hrdn!=null)u.Hrdn.v.val=this.V1.h();if(u.Angl!=null)u.Angl.v.val=this.A1.h()[0];
if(u.Rndn!=null)u.Rndn.v.val=Math.round(this.A1.h()[2]*100);if(c.target==this.yc)ac.aB7(K,this.yc.h());
this.c(K,o.Z7,o.p1);this.I(new ev(y.E.z))};function cG(c){hc.call(this,c,!0,"contourbutton",17*13,10.5*13,iD.d9)}cG.prototype=new hc;
cG.prototype.B9=function(c){this.c(this.Xf[c.target.h()]);this.I(new ev(y.E.z))};cG.prototype.BY=function(c){var o=new ev(y.E.M,!0);
o.data={Y:y.H.Vl,n9:"contoureditor",fE:this.g_,response:this.a95.bind(this)};this.I(o)};cG.prototype.a95=function(c){this.c(c);
this.I(new ev(y.E.z))};cG.prototype.yY=function(){if(!this.IH)return;var c=Math.floor(38*S.Sm()),o=Math.floor(38*S.Sm()),K=[],u=[],X=this.Xf;
for(var Y=0;Y<X.length;Y++){u.push(X[Y].Nm?X[Y].Nm.v:"");K.push(a.HO.Zq(X[Y].Crv.v,c,o))}this.hr.od(K,u,c,o);
this.IH=!1};cG.prototype.c=function(c){this.g_=JSON.parse(JSON.stringify(c));var o=this.g_.Crv.v;for(var Y=0;
Y<o.length;Y++)if(o[Y].v.Cnty==null)o[Y].v.Cnty={t:"bool",v:!0};this.dC()};cG.prototype.dC=function(){var c=Math.floor(30*S.Sm()),o=Math.floor(30*S.Sm()),K=a.HO.Zq(this.g_.Crv.v,c,o);
this.tu.setAttribute("src",K);S.Vg(this.tu,c,o)};cG.prototype.h=function(){return JSON.parse(JSON.stringify(this.g_))};
function hz(c){ax.call(this);this.sy=null;this.RU=null;this.R4=null;this.gG=null;this.ays=[];this.ag8=[];
this.n=S.t("span","fitem fillbutton");this.IP=new ax;this.IP.n=S.t("div","floatcont form");this.IP.n.setAttribute("style","width: 21em;");
this.IP.parent=this;this.gV=c;this.Z5=this.Z5=S.t("label","flabel");this.n.appendChild(this.Z5);this.xS=S.t("canvas");
this.i0=this.xS.getContext("2d");this.aec=null;this.n.appendChild(this.xS);S.pI(this.xS,this.h9.bind(this));
this.nw=new hE([12,66],["","Color","Grad","Patt"]);this.IP.n.appendChild(this.nw.n);this.nw.B(y.E.z,this.oR,this);
this.IP.n.appendChild(S.t("hr"));this.a10=S.t("span");this.tI=new hv(!1);this.tI.parent=this.IP;this.tI.B(y.E.z,this.oR,this);
this.UX=new db(10);this.UX.B(y.E.z,this.oR,this);this.zR=S.t("div","marged hiline");this.zR.appendChild(this.tI.n);
S.jR(this.zR);this.zR.appendChild(this.UX.n);this.GV=new ic("GrFl",!0);this.GV.parent=this.IP;this.GV.B(y.E.z,this.oR,this);
this.Xe=S.t("div","marged hiline");var o="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var Y=0;
Y<o.length;Y++){var K=this.GV.Ue[o[Y]].n;this.Xe.appendChild(K)}this.jq=new ic("patternFill",!0);this.jq.parent=this.IP;
this.jq.B(y.E.z,this.oR,this);this.pi=S.t("div","marged hiline");var o=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<o.length;Y++){var K=this.jq.Ue[o[Y]].n;this.pi.appendChild(K)}}hz.prototype=new ax;hz.prototype.VW=function(c,o){var K=ga.Nx(c,o);
if(K!=null)this.UX.c(K);if(o==iD.qR){this.ays=[];this.ag8=[];if(this.sy)this.c(this.R4,this.h(),this.sy)}this.RU=c;
this.GV.VW(c,o);this.jq.VW(c,o)};hz.prototype._=function(){this.Z5.textContent=iV.get(this.gV)+": ";
this.nw._();this.tI._();this.GV._();this.jq._()};hz.prototype.oR=function(c){var o=c.currentTarget;if(o==this.nw){var K=this.nw.h(),u={KO:K,gq:this.sy[K]};
if(K>0&&u.gq==null)u.gq=JSON.parse(JSON.stringify(gH.Kw[K-1]));if(this.sy)this.c(this.R4,u,this.sy)}if(o==this.UX)this.tI.fV(o.h());
this.I(new ev(y.E.z,!1))};hz.prototype.h9=function(c){if(S.Kt(this.IP.n))return;c.stopPropagation();
var o=this.xS.getBoundingClientRect(),K=new ev(y.E.M,!0);K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height+4};
this.I(K)};hz.prototype.c=function(c,o,K){this.sy=K;this.R4=c;var u=[[13,1,0],[13,0],[12,37],[12,62]],X=this.ays,$=this.ag8,O=!1,N;
for(var Y=0;Y<4;Y++){var n={KO:Y,gq:K[Y]},x=hz.ac0(n);if($[Y]==x)continue;O=!0;var l=hz.aww(null,n,this.RU,this.R4,22,22,!1);
X[Y]="<img width=\"22\" height=\"22\" src=\""+l+"\" />";$[Y]=x}if(O)this.nw.e8(X,u);this.nw.c(o.KO);
var x=hz.ac0(o);if(x!=this.aec)hz.aww(this.i0,o,this.RU,this.R4,30,23,!0);this.aec=x;var f=o.KO;if(f==0){N=this.a10}if(f==1){this.tI.c(o.gq.Clr.v);
N=this.zR}if(f==2){this.GV.update(c,o.gq);N=this.Xe}if(f==3){this.jq.update(c,o.gq);N=this.pi}if(N!=this.gG){if(this.gG!=null){this.IP.n.removeChild(this.gG)}this.IP.n.appendChild(N);
this.gG=N}};hz.prototype.h=function(){var c={KO:this.nw.h()};if(c.KO==1){c.gq=JSON.parse(JSON.stringify(gH.Kw[0]));
c.gq.Clr.v=this.tI.h()}if(c.KO==2){c.gq=this.GV.h()}if(c.KO==3){c.gq=this.jq.h()}return c};hz.ac0=function(c){var o=c.KO,K=c.gq,u="empty";
if(o==1){u=a.T.h0(K.Clr.v);u=u.Z+","+u.r+","+u.J}if(o==2)u=JSON.stringify(K.Grad.v);if(o==3)u=K.Ptrn.v.Idnt.v;
return u};hz.aww=function(c,o,K,u,X,$,O){if(c==null)c=hz.i0;var n=Math.floor(X*S.Sm()),x=Math.floor($*S.Sm()),l=c.canvas;
l.width=n;l.height=x;S.Vg(l,n,x);hz.agH(c,o,K,u,n,x);if(O){c.beginPath();c.strokeStyle="#000000";c.fillStyle="#ffffff";
c.lineWidth=2;var N=n*.7,f=Math.floor(x*.7),z=7*S.Sm();c.moveTo(N,f);c.lineTo(N+z,f);c.lineTo(N+z/2,f+z/2);
c.closePath();c.stroke();c.fill()}if(c==hz.i0)return l.toDataURL()};hz.i0=S.t("canvas").getContext("2d");
hz.agH=function(c,o,K,u,X,$,O,n){if(O==null)O=0;if(n==null)n=0;var x=o.KO;if(x==0){c.fillStyle="#ffffff";
c.fillRect(O,n,X,$);c.strokeStyle="#ff0000";c.lineWidth=2;c.moveTo(O,n);c.lineTo(O+X,n+$);c.moveTo(O,n+$);
c.lineTo(O+X,n);c.stroke()}if(x==1){var l=o.gq.Clr.v;l=a.T.h0(l);c.fillStyle="#"+a.On(l.Z<<16|l.r<<8|l.J);
c.fillRect(O,n,X,$)}if(x==2){var N=r.YU.Zq(o.gq.Grad.v,X,$,0,K.V5,K.th,!0);c.putImageData(N,O,n)}if(x==3){var f=o.gq.Ptrn.v,z;
if(u!=null)z=bL.rO(f,u.add.Patt);if(z==null)z=bL.rO(f,K.dx);al.Zq(z,X,$,c.canvas)}};hz.a8Y=function(c,o,K,u,X,$,O){function n(R,V){return CSS.DB({Z:R[0]*255,r:R[1]*255,J:R[2]*255},V)}if(o==null){c.fillStyle="#ffffff";
c.fillRect($,O,u,X);c.strokeStyle="#ff0000";c.lineWidth=2;c.moveTo($,O);c.lineTo($+u,O+X);c.moveTo($,O+X);
c.lineTo($+u,O);c.stroke()}else if(o.length==3){c.fillStyle=n(o);c.fillRect($,O,u,X)}else if(o.length==4){var x=$+u/2,l=O+X/2,N=o[0]==0?c.createLinearGradient($,O,$+u,O):c.createRadialGradient(x,l,0,x,l,u/2),f=o[1];
for(var Y=0;Y<f.length;Y++)N.addColorStop(f[Y][0],n(f[Y][1],f[Y][2]));c.fillStyle=N;c.fillRect($,O,u,X)}else if(o.length==2){var z=K.hJ[o[0]];
c.save();c.fillStyle="white";c.fillRect($,O,u,X);c.rect($,O,u,X);c.scale(u/z.m,X/z.e);c.fillStyle=z.as$;
c.fill();c.restore()}};function al(c){hc.call(this,c,!1,"patternbutton",18*13,10*13,iD.qR);this.df=null}al.prototype=new hc;
al.prototype.B9=function(c){var o=this.Xf[this.hr.h()];this.g_={classID:"Ptrn",Nm:{t:"TEXT",v:o.name},Idnt:{t:"TEXT",v:o.id}};
this.I(new ev(y.E.z));this.dC()};al.prototype.yY=function(){if(!this.IH)return;var c=this.Xf,o=Math.floor(34*S.Sm()),K=Math.floor(34*S.Sm()),u=[],X=[];
for(var Y=0;Y<c.length;Y++){u.push(al.Zq(c[Y],o,K));X.push(c[Y].name)}this.hr.od(u,X,o,K);this.IH=!1};
al.prototype.c=function(c,o){if(this.g_&&c.Idnt.v==this.g_.Idnt.v)return;this.g_=JSON.parse(JSON.stringify(c));
this.dC(o)};al.prototype.h=function(){return JSON.parse(JSON.stringify(this.g_))};al.prototype.kM=function(){return this.df?[this.df]:[]};
al.prototype.dC=function(c){var o=Math.floor(50*S.Sm()),K=Math.floor(50*S.Sm()),u;if(c!=null)u=bL.rO(this.g_,c.add.Patt);
if(u==null)u=bL.rO(this.g_,this.Xf);this.df=u;var X=al.Zq(u,o,K);this.tu.setAttribute("src",X);S.Vg(this.tu,o,K)};
al.xS=S.t("canvas","");al.Zq=function(c,o,K,u){if(u==null)u=al.xS;var X=u.getContext("2d");u.width=o;
u.height=K;if(c){var $=c.Y1[1],O=$.m,n=$.e,x=c.Y1[0],l=Math.min(o/O,K/n),N=l;if(N*O<2)N=2/O;var f=l;
if(f*n<2)f=2/n;var z=r.W.IN([x,$],new bE(N,0,0,f,0,0),N>2),R=z.rect.m,V=z.rect.e,d=X.createImageData(R,V);
a.lY(z.buffer,d.data);X.putImageData(d,Math.floor((o-R)/2),Math.floor((K-V)/2))}return u.toDataURL()};
function bM(c,o,K){if(o==null)o=24.2;if(K==null)K=17;hc.call(this,c,!1,"patternbutton",o*13,K*13,iD.Oz);
this.QY=""}bM.prototype=new hc;bM.prototype.B9=function(c){this.g_=JSON.parse(JSON.stringify(this.Xf[0][this.hr.h()[0]]));
this.I(new ev(y.E.z))};bM.prototype.yY=function(){var c=this.Xf;if(c==null||!this.IH)return;var o=Math.floor(50*S.Sm()),K=Math.floor(50*S.Sm()),u=[],X=[];
for(var Y=0;Y<c[0].length;Y++){u.push(bM.Zq(this.Xf[0][Y].ho,o,K,this.Xf[1]));X.push(c[0][Y].Oq.Nm.v.split("=").pop())}this.hr.od(u,X,o,K);
this.IH=!1};bM.prototype.c=function(c,o,K,u){var X=JSON.stringify(c.ho)+","+K+","+u;if(this.QY!=X){this.QY=X;
this.g_=JSON.parse(JSON.stringify(c));this.dC(o,K,u)}};bM.prototype.h=function(){return JSON.parse(JSON.stringify(this.g_))};
bM.prototype.dC=function(c,o,K){var u=Math.floor(68*S.Sm()),X=Math.floor(68*S.Sm()),$=bM.Zq(this.g_.ho,u,X,c?c:this.Xf[1],o,K);
this.tu.setAttribute("src",$);S.Vg(this.tu,u,X)};bM.Zq=function(c,o,K,u,X,$){var O=new h_;O.m=o;O.e=K;
O.buffer=a.R(o*K*4);O.add.Patt=u;O.I5(X==null?90:X);O.Om($==null?30:$);var n=new ez(0,0,Math.round(o*.5),Math.round(K*.5));
n.x=Math.round((o-n.m)/2);n.y=Math.round((K-n.e)/2);var x=O.uB();x.rect=n;x.buffer=a.R(n.P()*4);a.ms(x.buffer,4284045657);
bL.axc(c,x,.5*100);O.s.push(x);O.HR();O.d();var l=jT.lW;jT.lW=!1;O.Lx();var N=O.i9();jT.lW=l;var f=c5.Ec(N.buffer,O.m,O.e);
return f};function hj(c){hc.call(this,null,!1,"tpresetbutton",18*13,24*13,iD.zK,!0);S.MG(this.n,"fitem");
this.hr.qZ(1);this.id=c;this.dC();this.Y.style.overflow="hidden";this.fM=new fA([15,7,9]);this.fM.c(!0);
this.fM.B(y.E.z,this.az2,this);this.un.appendChild(this.fM.n)}hj.prototype=new hc;hj.prototype.aoQ=function(c){if(this.id==c)return;
this.id=c;this.E8(this.Xf)};hj.prototype.B9=function(c){var o=this.Xf[this.hr.h()],K=new ev(y.E.M,!0);
K.data={Y:y.H.NU,Zk:"set",EU:iD.zK,Ye:o};this.I(K)};hj.prototype._=function(){hc.prototype._.call(this);
this.fM._()};hj.prototype.az2=function(){this.IH=!0;this.yY()};hj.prototype.yY=function(){if(!this.IH)return;
var c=Math.floor(16*S.Sm()),o=Math.floor(16*S.Sm()),K=[],u=[],X=this.Xf,$=this.fM.h();for(var Y=0;Y<X.length;
Y++){var O=r.K6[X[Y][1].classID];if(!$||O==this.id){u.push(X[Y][0]?X[Y][0].split("=").pop():"");K.push(O==-1?"":PIMG[r.k7[O]])}else{K.push(null);
u.push(null)}}this.hr.od(K,u,c,o);this.IH=!1};hj.prototype.dC=function(){var c=this.tu;c.setAttribute("src",PIMG[r.k7[this.id]]);
S.SZ(c,"toolicon")};hj.prototype.kM=function(){return null};hj.SV={};hj.Zq=function(c,o,K){var u=hj.i0,X=hj.SV,$=a.On(c.Z<<16|c.r<<8|c.J);
if(X[$])return X[$];if(u==null){var O=S.t("canvas");u=hj.i0=O.getContext("2d")}var O=u.canvas;O.width=o;
O.height=K;u.fillStyle="#"+$;u.fillRect(0,0,o,K);var n=X[$]=O.toDataURL();return n};function a2(c,o,K){ax.call(this);
this.n=S.t("span","fitem curveeditor");this.Wl=null;this.abS=0;this.$p="";this.mode=0;this.Z_=c;this.acT=o;
this.azt=K;this.$c=null;this.rV=null;this.aD8=0;this.ae$=0;this.$U=new kn;this.kw=this.tR.bind(this);
this.vW=this.wN.bind(this);this.Wa=256;this.xS=S.t("canvas");this.i0=this.xS.getContext("2d");S.Qf(this.xS);
this.n.appendChild(this.xS);this._Q(256,256);S.pI(this.xS,this.Lq.bind(this));this.coords=S.t("div");
this.coords.setAttribute("style","width:250px");this.n.appendChild(this.coords);var u=this.LJ=K?100:255,X=null;
this.yo=new fI("X (in)",0,u,X,0,!1,!0);this.o2=new fI("Y (out)",0,u,X,0,!1,!0);this.KG=new fA([19,3,0]);
this.yo.B(y.E.z,this.ES,this);this.o2.B(y.E.z,this.ES,this);this.KG.B(y.E.z,this.ES,this);this.coords.appendChild(this.yo.n);
if(K)this.coords.appendChild(this.KG.n);this.coords.appendChild(this.o2.n)}a2.prototype=new ax;a2.prototype._=function(){this.KG._();
this.yo._();this.o2._()};a2.prototype._Q=function(c,o){this.Wa=Math.round(c);this.i0.resetTransform();
S.qI(this.xS,this.Wa,this.Wa,this.i0);this.i0.scale(this.Wa/256,this.Wa/256);if(this.$c)this.S0()};a2.prototype.ES=function(c){var Y=this.atr(),o=this.$c[Y],K=255/this.LJ;
o.v.Hrzn.v=this.yo.h()*K;o.v.Vrtc.v=this.o2.h()*K;if(this.azt)o.v.Cnty.v=this.KG.h();this.$c.sort(function(u,X){return u.v.Hrzn.v-X.v.Hrzn.v});
this.S0();this.I(new ev(y.E.z))};a2.prototype.c=function(c,Y){var o=JSON.stringify(c);if(o==JSON.stringify(this.$c))return;
this.mode=c.length==256?1:0;this.$c=JSON.parse(o);if(Y!=null)this.rV=this.$c[Y];this.S0()};a2.prototype.VC=function(c,o,K){this.Wl=c;
this.abS=o;this.$p=K;this.S0()};a2.prototype.h=function(){return JSON.parse(JSON.stringify(this.$c))};
a2.prototype.atr=function(){return this.$c.indexOf(this.rV)};a2.prototype.Lq=function(c){var o=256/this.Wa,K=S.$_(c,this.xS);
K.x*=o;K.y*=o;var u=K.x,X=256-K.y;if(this.Z_){var $=u;u=256-X;X=$}this.$U.Q7(u,X);if(this.mode==0){var O=0,n=1e9,z;
for(var Y=0;Y<this.$c.length;Y++){var x=this.$c[Y].v,l=x.Hrzn.v-u,N=x.Vrtc.v-X,f=Math.sqrt(l*l+N*N);
if(f<n){n=f;O=Y}}if(n<15)z=this.$c[O];else{z=a.HO.ny(u,X,!0);this.$c.push(z);this.$c.sort(function(R,V){return R.v.Hrzn.v-V.v.Hrzn.v})}this.rV=z;
this.ae$=this.$c.slice(0)}S.SQ(document.body,this.kw);S.K1(document.body,this.vW);this.tR(c)};a2.prototype.tR=function(c){var o=256/this.Wa,K=S.$_(c,this.xS);
K.x*=o;K.y*=o;var u=K.x,X=256-K.y;if(this.Z_){var $=u;u=256-X;X=$}if(this.mode==0){var O=this.$c,n=this.rV,x=this.ae$,l=x.indexOf(n),N=O.indexOf(n)!=-1,f=x.length-1,z=u;
if(l==0){z=Math.max(0,Math.min(x[1].v.Hrzn.v-1,u))}else if(l==f){z=Math.min(255,Math.max(x[f-1].v.Hrzn.v+1,u))}else{var R=u<0||u>255||X<0||X>255;
if(u<=x[l-1].v.Hrzn.v||u>=x[l+1].v.Hrzn.v)R=!0;if(!R&&!N)O.splice(l,0,n);if(R&&N)O.splice(l,1)}if(this.acT&&(l==0||l==x.length-1)){}else n.v.Hrzn.v=Math.round(z);
n.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(X)))}else{u=Math.round(u);X=Math.round(X);u=Math.max(0,Math.min(255,u));
X=Math.max(0,Math.min(255,X));var V=this.$U.x,d=u,e=this.$U.y,p=X;if(u<this.$U.x){d=V;V=u;p=e;e=X}this.$c[u]=X;
if(V!=d)for(var h=V;h<=d;h++)this.$c[h]=Math.round(e+(h-V)*(p-e)/(d-V))}this.$U.Q7(u,X);this.S0();this.I(new ev(y.E.z))};
a2.prototype.wN=function(c){S.UU(document.body,this.kw);S.Fo(document.body,this.vW);this.I(new ev(y.E.z))};
a2.prototype.S0=function(){var c=this.i0,o=this.xS;c.fillStyle="#ffffff";c.fillRect(0,0,256,256);var K=256/o.width;
if(this.Wl){c.save();c.translate(0,256);c.scale(1,-1);eS.avN(c,this.Wl,5700/this.abS,this.$p);c.restore()}c.strokeStyle="#aaaaaa";
c.lineWidth=1*K;c.beginPath();for(var Y=1;Y<4;Y++){var u=(Math.floor(64*Y/K)+.5)*K;c.moveTo(0,u);c.lineTo(255,u);
c.moveTo(u,0);c.lineTo(u,255)}c.stroke();if(this.Z_){c.save();c.transform(0,1,-1,0,256,0)}if(this.mode==0){var X=this.$c,$=a.HO.c_(X,256);
c.strokeStyle="#000000";c.beginPath();c.moveTo(0,255.5-$[0]);for(var Y=0;Y<256;Y++)c.lineTo(Y,255.5-$[Y]);
c.stroke();c.lineWidth=2*K;for(var Y=0;Y<X.length;Y++){var O=X[Y].v;c.fillStyle=this.rV==X[Y]?"#333":"#fff";
c.beginPath();c.moveTo(O.Hrzn.v,255.5-O.Vrtc.v);c.arc(O.Hrzn.v,255.5-O.Vrtc.v,5*K,0,2*Math.PI);c.stroke();
c.fill()}}else{var $=this.$c;c.strokeStyle="#000000";c.beginPath();c.moveTo(0,255.5-$[0]);for(var Y=0;
Y<256;Y++)c.lineTo(Y,255.5-$[Y]);c.stroke()}if(this.Z_)c.restore();var Y=this.atr();this.coords.className=Y==-1?"disabled":"";
if(Y==-1)return;var O=this.$c[Y].v,n=255/this.LJ;this.yo.c(Math.round(O.Hrzn.v/n));this.o2.c(Math.round(O.Vrtc.v/n));
if(O.Cnty)this.KG.c(O.Cnty.v)};function eS(c,o){ax.call(this);this.n=S.t("span","");this.sO=new iW([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.sO.B(y.E.z,this.gd,this);this.n.appendChild(this.sO.n);S.jR(this.n);var K=S.t("div");this.n.appendChild(K);
K.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.xS=S.t("canvas");var u=this.xS;
K.appendChild(u);u.width=Math.round(c*S.Sm());u.height=Math.round(100*S.Sm());S.Vg(u,u.width,u.height);
u.style.display="block";this.i0=u.getContext("2d");this.Wl=null;this.va=0;this.abA=null;this.a0u=[];
this.yr=[];var X=["Mean:","Pixels:"],$=this.n;if(o)for(var Y=0;Y<X.length;Y++){var O=new dV(X[Y]);this.a0u.push(O);
$.appendChild(O.n);var n=new dV("hi");this.yr.push(n);$.appendChild(n.n);S.jR($)}}eS.prototype=new ax;
eS.prototype._=function(){this.sO._()};eS.prototype.qZ=function(c){this.sO.c(c);this.gd()};eS.prototype.c=function(c,o){this.Wl=c;
this.abA=o;this.gd()};eS.prototype.fV=function(c){if(c==this.va)return;this.va=c;this.gd()};eS.prototype.gd=function(){if(this.Wl==null)return;
var c=this.xS,o=this.i0,K=this.Wl,u=this.abA,X=this.sO.h(),$=6e3/K[4],O="#"+a.On(this.va),n=eS.avN;c.width=c.width;
o.setTransform(c.width/256,0,0,-c.height/100,0,c.height);o.globalCompositeOperation="lighter";if(X==0)n(o,K[0],$/3,O);
else if(X<4)n(o,K[X],$,O);else{n(o,K[1],$,"#ff0000");n(o,K[2],$,"#00ff00");n(o,K[3],$,"#0000ff")}o.setTransform(1,0,0,1,0,0);
if(u!=null){if(X==4)X=0;var x=0;for(var Y=0;Y<256;Y++)x+=Y*K[X][Y];if(X==0)x/=3;this.yr[0].c((x/u).toFixed(1)+"");
this.yr[1].c(u+"")}};eS.avN=function(c,o,K,u){c.beginPath();c.moveTo(0,0);for(var X=0;X<256;X++)c.lineTo(X,o[X]*K);
c.lineTo(256,0);c.closePath();c.fillStyle=u;c.fill()};function jU(c,o){ax.call(this);this.Mk={Z:0,r:0,J:0};
if(Math.abs(c-256/S.Sm())<10)c=256/S.Sm();var K=this.n=S.t("div","flexrow");K.style.position="relative";
var u=this.aC1=S.t("div");K.appendChild(u);this.Qi=new kn;this.eP=new kn;this.BQ=this.vq.bind(this);
this.K9=this.axG.bind(this);this.xS=S.t("canvas","");this.i0=this.xS.getContext("2d");this.xS.width=this.xS.height=256;
this.a3o=this.i0.getImageData(0,0,256,256);this.aBc=-1;this.ao_="";this.MX=null;S.Qf(this.xS);S.pI(this.xS,this.av$.bind(this));
u.appendChild(this.xS);this.a58=this.aDj.bind(this);this.aoK=this.aeb.bind(this);this.ng=S.t("canvas","");
this.Xs=this.ng.getContext("2d");this.ng.width=20;this.ng.height=256;this.asX=this.Xs.getImageData(0,0,20,256);
jU.awv(this.asX.data,20,256);S.Qf(this.ng);S.pI(this.ng,this.afg.bind(this));K.appendChild(this.ng);
this.xS.setAttribute("style","width:"+c+"px; height:"+c+"px");this.ng.setAttribute("style","width:16px; height:"+c+"px");
this.d7=new fA("Web Colors\u2001");this.d7.B(y.E.z,this.update,this);this.ou=new fA("CMYK gamut");this.ou.B(y.E.z,this.update,this);
if(o){S.jR(u);u.appendChild(this.d7.n);u.appendChild(this.ou.n)}var X=this.lK=document.createElementNS("http://www.w3.org/2000/svg","svg");
K.appendChild(X)}jU.prototype=new ax;jU.prototype._Q=function(c,o){this.xS.style.width=this.aC1.style.width=c-16+"px"};
jU.prototype.c=function(c){if(this.d7.h()){var o=JSON.parse(JSON.stringify(c));jU.TW(o);var K=this.h();
if(o.Z==K.Z&&o.r==K.r&&o.J==K.J)c=this.Mk}this.Mk=c;this.update()};jU.prototype.h=function(){var c=JSON.parse(JSON.stringify(this.Mk));
if(this.d7.h())jU.TW(c);return c};jU.prototype.update=function(){var c=this.Mk,o=a.R0(c.Z,c.r,c.J),n=18;
if(o.NT==0)o.Z0=this.Qi.x/255;if(o.Z0==0||o.NT==0)o.s_=(255-this.zB(this.eP.y))/255;if(o.NT!=0)this.Qi.x=o.Z0*255;
this.Qi.y=(1-o.NT)*255;this.eP.y=(1-o.s_)*255;var K=this.a3o,u=this.d7.h(),X=this.ou.h(),$=u+","+X;if(Math.abs(o.s_-this.aBc)>.002||this.ao_!=$){this.aBp(K.data,256,256,o.s_,u,X);
this.a1C();this.aBc=o.s_;this.ao_=$}var O=this.i0;O.putImageData(K,0,0);K=this.asX;O=this.Xs;O.putImageData(K,0,0);
O.strokeStyle="#ffffff";O.beginPath();O.moveTo(0,this.eP.y);O.lineTo(20,this.eP.y);O.lineWidth=2;O.stroke();
var x=this.Qi.y/255,l=parseFloat(this.xS.style.width),N=parseFloat(this.xS.style.height),f=this.lK;f.setAttribute("width",n);
f.setAttribute("height",n);var z=Math.round(c.Z*255)<<16|Math.round(c.r*255)<<8|Math.round(c.J*255),R="<circle cx=\""+n/2+"\" cy=\""+n/2+"\" r=\""+n/2+"\" fill=\"#"+a.On(z)+"\"></circle>";
R+="<circle cx=\""+n/2+"\" cy=\""+n/2+"\" r=\""+(-.5+n/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*x)+")\" stroke-width=\"1\"></circle>";
R+="<circle cx=\""+n/2+"\" cy=\""+n/2+"\" r=\""+(-1.2+n/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
f.innerHTML=R;f.style.pointerEvents="none";f.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
f.style.position="absolute";f.style.left=l*(this.Qi.x/255)-n/2+"px";f.style.top=N*(this.Qi.y/255)-n/2+"px"};
jU.TW=function(c){c.Z=~~(.5+c.Z*5)*.2;c.r=~~(.5+c.r*5)*.2;c.J=~~(.5+c.J*5)*.2};jU.prototype.aBp=function(c,o,K,u,X,$){var O=1/o,n=1/K;
for(var x=0;x<K;x++)for(var l=0;l<o;l++){var N=a.$Y(u,l*O,(K-x-1)*n);if(X)jU.TW(N);var Y=x*o+l<<2;c[Y+0]=~~(N.Z*255);
c[Y+1]=~~(N.r*255);c[Y+2]=~~(N.J*255);c[Y+3]=255}if($){var f=c.slice(0),z=a.N9("rgbToRgbC"),R=z[2],V=z[3];
ICC.U.applyLUT(V,R,f,f);this.MX=a.R(o*K);for(var Y=0;Y<c.length;Y+=4){var d=c[Y]-f[Y],e=c[Y+1]-f[Y+1],p=c[Y+2]-f[Y+2],h=d*d+e*e+p*p;
if(h>300){c[Y]=c[Y+1]=c[Y+2]=200;this.MX[Y>>>2]=255}}}};jU.awv=function(c,o,K,u,X){if(u==null)u=1;if(X==null)X=0;
var $=new Uint32Array(c.buffer);for(var O=0;O<K;O++){var n=a.$Y((1+u*(1-O/K)+X)%1,1,1),x=255<<24|n.J*255<<16|n.r*255<<8|n.Z*255;
for(var l=0;l<o;l++)$[O*o+l]=x}};jU.prototype.av$=function(c){S.SQ(window,this.BQ);S.K1(window,this.K9);
this.vq(c);this.lK.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.lK.style.transform="scale(2.4)"};
jU.prototype.axG=function(c){S.UU(window,this.BQ);S.Fo(window,this.K9);this.lK.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.lK.style.transform="scale(1)"};jU.prototype.vq=function(c){var o=S.$_(c,this.xS);o.x=o.x*(256/parseFloat(this.xS.style.width));
o.y=o.y*(256/parseFloat(this.xS.style.height));this.Qi.Q7(this.zB(o.x),this.zB(o.y));this.a1C();this.dY()};
jU.prototype.a1C=function(){if(!this.ou.h())return;var c=this.Qi,o=0,K=0,u=1e9;for(var X=0;X<256;X++){for(var $=0;
$<256;$++){if(this.MX[X*256+$]==255)continue;var O=$-c.x,n=X-c.y,x=O*O+n*n;if(x<u){o=$;K=X;u=x}}}c.x=o;
c.y=K};jU.prototype.dY=function(){this.Mk=this.aed();this.I(new ev(y.E.z))};jU.prototype.aed=function(){var c=a.$Y((255-this.zB(this.eP.y))/255,this.BZ(this.Qi.x/255),this.BZ(1-this.Qi.y/255));
return{Z:c.Z,r:c.r,J:c.J}};jU.prototype.afg=function(c){S.SQ(window,this.a58);S.K1(window,this.aoK);
this.aDj(c)};jU.prototype.aeb=function(c){S.UU(window,this.a58);S.Fo(window,this.aoK)};jU.prototype.aDj=function(c){var o=S.$_(c,this.ng);
o.y=o.y*(256/parseFloat(this.ng.style.height));this.eP.Q7(this.zB(o.x),this.zB(o.y));this.dY()};jU.prototype.zB=function(c){return Math.max(0,Math.min(255,c))};
jU.prototype.BZ=function(c){return Math.max(0,Math.min(1,c))};function b4(c,o,K,u){var X=hE.DS(o,u);
hE.call(this,c,X,K)}b4.prototype=new hE;function ff(){ax.call(this);this.dd=null;this.fO=new fN;this.fO.B(y.E.z,this.a16,this);
this.fO.parent=this;this.nE=new fI([12,14,0],1,150,"px",0,!0);this.nE.B(y.E.z,this.sU,this);this.nE.parent=this;
this.$Q=new fI([16,0],.01,100,"px",2,!0,null,5);this.$Q.B(y.E.z,this.sU,this);this.$Q.parent=this;this.w5=new fA("Auto");
this.w5.B(y.E.z,this.sU,this);this.D4=new fI([16,1],-500,5e3,"%",0,!0);this.D4.B(y.E.z,this.sU,this);
this.D4.parent=this;this.t$=new fI("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.t$.B(y.E.z,this.sU,this);
this.t$.parent=this;this.r0=new fI("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.r0.B(y.E.z,this.sU,this);
this.r0.parent=this;this.Ho=new fI([16,2],-10,10,"px");this.Ho.B(y.E.z,this.sU,this);this.Ho.parent=this;
this.Qr=new hv(!0);this.Qr.B(y.E.z,this.xU,this);this.Qr.parent=this;this._q=new hv(!0);this._q.B(y.E.z,this.xU,this);
this._q.parent=this;this.uj=new hv(!0);this.uj.B(y.E.z,this.xU,this);this.uj.parent=this;this.GS=new hv(!0);
this.GS.B(y.E.z,this.xU,this);this.GS.parent=this;this.qc=new fA([2,3]);this.qc.B(y.E.z,this.sU,this);
this.F_=new fA([14,9]);this.F_.B(y.E.z,this.sU,this);this.XU=new fA([12,46]);this.XU.B(y.E.z,this.sU,this);
this.D6=new kz("...",null,null,!0);this.D6.n.style.marginLeft="-8px";S.pI(this.D6.n,this.a1U.bind(this));
this.IP=new ax;var c=this.IP.n=S.t("div","floatcont form"),X=100;this.IP.parent=this;this.$B=new fI([12,41],1,20,"px",0,!0,!0);
this.$B.n.style.marginLeft="16px";this.$B.B(y.E.z,this.sU,this);this.$B.parent=this.IP;c.appendChild(this._q.n);
c.appendChild(this.qc.n);S.jR(this.IP.n);c.appendChild(this.uj.n);c.appendChild(this.F_.n);c.appendChild(this.$B.n);
S.jR(this.IP.n);c.appendChild(this.GS.n);c.appendChild(this.XU.n);this.u4=new kz("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Ow=new kz("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.O_=new kz("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Qd=new kz("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.ok=new kz("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.ak=new kz("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.lT=new kz("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.EH=new kz("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var o=[this.u4,this.Ow,this.O_,this.Qd,this.ok,this.ak,this.lT,this.EH];
for(var Y=0;Y<o.length;Y++)o[Y].B("click",this.ax5,this);this.nk=new kz("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.vt=new kz("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.xi=new kz("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.abt=new kz("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.au0=new kz("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.alp=new kz("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ade=new kz("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Q3=[this.nk,this.vt,this.xi,this.abt,this.au0,this.alp,this.ade];for(var Y=0;Y<this.Q3.length;Y++)this.Q3[Y].B("click",this.sU,this);
var K=["lind","rind","flind","bind","aind"],u=[];for(var Y=0;Y<5;Y++)u.push("<img src=\""+PIMG["par/"+K[Y]]+"\" class=\"autoscale gsicon\" /> ");
this.eC=new fI(u[0],-X,X,"px");this.bt=new fI(u[1],-X,X,"px");this.hM=new fI(u[2],-X,X,"px");this.Tl=new fI(u[3],-X,X,"px");
this.Dx=new fI(u[4],-X,X,"px");this.Ai=new hE([12,33],["Abc ...","... أي بي"]);this._v=new fI(["Auto VAR0",[16,0]],0,500,"%");
this.sH=[this.eC,this.bt,this.hM,this.Tl,this.Dx,this.Ai,this._v];for(var Y=0;Y<this.sH.length;Y++){var $=this.sH[Y];
$.B(y.E.z,this.sU,this);$.parent=this}}ff.prototype=new ax;ff.prototype.a1U=function(c){if(S.Kt(this.IP.n))return;
c.stopPropagation();var o=this.D6.n.getBoundingClientRect(),K=new ev(y.E.M,!0);K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height+4};
this.I(K)};ff.prototype._=function(){this.fO._();this.nE._();this.$Q._();this.D4._();this.Ho._();this.t$._();
this.r0._();this.qc._();this.F_._();this.XU._();this.$B._();for(var Y=0;Y<this.sH.length;Y++)this.sH[Y]._()};
ff.prototype.c=function(c,o,K){this.qH=JSON.parse(JSON.stringify(c));var u=this.qH,X=u.W$,$=u.Xi;this.u4.c(X.FauxBold!=null?X.FauxBold:!1);
this.Ow.c(X.FauxItalic!=null?X.FauxItalic:!1);this.O_.c(X.FontCaps==2);this.Qd.c(X.FontCaps==1);this.ak.c(X.FontBaseline==1);
this.ok.c(X.FontBaseline==2);this.lT.c(X.Underline);this.EH.c(X.Strikethrough);this.fO.c(X.Font==null?null:u.c9[X.Font].Name,o,K);
var O=X.FontSize==null?20:X.FontSize;this.nE.c(O);var n=X.Tracking;this.D4.c(n==null?0:n);this.$B.c(X._LineWidth!=null?X._LineWidth:1);
this.$Q.c(X.Leading!=null&&X.Leading!=0?X.Leading:O);this.w5.c(X.AutoLeading);this.t$.c((X.VerticalScale!=null?X.VerticalScale:0)*100);
this.r0.c((X.HorizontalScale!=null?X.HorizontalScale:0)*100);this.Ho.c(X.BaselineShift!=null?X.BaselineShift:0);
this.qc.c(X.FillFlag!=null?X.FillFlag:!1);this.F_.c(X.StrokeFlag!=null?X.StrokeFlag:!1);this.XU.c(X._FillBackgroundFlag!=null?X._FillBackgroundFlag:!1);
this.Pc(X.FillColor,this.Qr);this.Pc(X.FillColor,this._q);this.Pc(X.StrokeColor,this.uj);this.Pc(X._FillBackgroundColor,this.GS);
var x=$._Direction!=null?$._Direction:0,l=ii.wi($);for(var Y=0;Y<this.Q3.length;Y++)this.Q3[Y].c(l==Y);
this.Ai.c(x);this._v.c(($.AutoLeading!=null?$.AutoLeading:1.2)*100);this.eC.c($.StartIndent!=null?$.StartIndent:0);
this.bt.c($.EndIndent!=null?$.EndIndent:0);this.hM.c($.FirstLineIndent!=null?$.FirstLineIndent:0);this.Tl.c($.SpaceBefore!=null?$.SpaceBefore:0);
this.Dx.c($.SpaceAfter!=null?$.SpaceAfter:0)};ff.prototype.Pc=function(c,o){if(c){var K=ii.h0(c);o.fV(Math.round(K.Z)<<16|Math.round(K.r)<<8|Math.round(K.J))}else o.fV(0)};
ff.prototype.Ur=function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.NU,EU:iD.al,qH:this.qH};this.I(c);var c=new ev(y.E.v,!0);
c.f=r.kO;c.data={Y:"updateStyles"};this.I(c)};ff.prototype.ax5=function(c){var o=this.qH.W$,K=c.target,u=!K.s6();
if(K==this.u4)o.FauxBold=u;if(K==this.Ow)o.FauxItalic=u;if(K==this.O_)o.FontCaps=u?2:0;if(K==this.Qd)o.FontCaps=u?1:0;
if(K==this.ak)o.FontBaseline=u?1:0;if(K==this.ok)o.FontBaseline=u?2:0;if(K==this.lT)o.Underline=u;if(K==this.EH)o.Strikethrough=u;
this.Ur()};ff.prototype.sU=function(c){var o=this.qH.W$,K=this.qH.Xi,u=c.target;if(u==this.D4){var X=this.D4.h();
o.Tracking=X}if(u==this.$Q){o.AutoLeading=!1;o.Leading=this.$Q.h()}if(u==this.w5){o.AutoLeading=this.w5.h()}if(u==this.$B)o._LineWidth=u.h();
if(u==this.nE)o.FontSize=u.h();if(u==this.t$)o.VerticalScale=u.h()/100;if(u==this.r0)o.HorizontalScale=u.h()/100;
if(u==this.Ho)o.BaselineShift=u.h();if(u==this.qc)o.FillFlag=u.h();if(u==this.F_)o.StrokeFlag=u.h();
if(u==this.XU)o._FillBackgroundFlag=u.h();if(this.Q3.indexOf(u)!=-1){K.Justification=ii.wi(K,this.Q3.indexOf(u))}if(u==this.eC)K.StartIndent=u.h();
if(u==this.bt)K.EndIndent=u.h();if(u==this.hM)K.FirstLineIndent=u.h();if(u==this.Tl)K.SpaceBefore=u.h();
if(u==this.Dx)K.SpaceAfter=u.h();if(u==this.Ai)K._Direction=u.h();if(u==this._v)K.AutoLeading=u.h()/100;
this.Ur()};ff.prototype.a16=function(c){var o=this.qH,K=this.fO.h(),u=-1;for(var Y=0;Y<o.c9.length;Y++)if(o.c9[Y].Name==K)u=Y;
if(u==-1){u=o.c9.length;var X=JSON.parse(JSON.stringify(o.c9[0]));X.Name=K;o.c9.splice(u,0,X)}o.W$.Font=u;
this.Ur()};ff.prototype.xU=function(c){var o=c.target,K=o.ZO(),u={Type:1,Values:[1,(K>>16&255)/255,(K>>8&255)/255,(K>>0&255)/255]};
for(var Y=0;Y<4;Y++)u.Values[Y]=Math.round(u.Values[Y]*1e3)/1e3;var X=o==this.Qr||o==this._q?0:o==this.uj?1:2;
this.qH.W$[["FillColor","StrokeColor","_FillBackgroundColor"][X]]=u;this.Ur()};function fN(){ax.call(this);
this.n=S.t("span","fontinput");this.g7=null;this.HW=null;this.Kb=null;this.lx="";this.Yf={};this.Cg=[];
this.LY={};this.aeh={};this.D0=[];this.bA=!1;this.ZC=S.t("button","fitem");this.ZC.setAttribute("style","width:9em;");
this.ZC.textContent="Family Name \u25BC";this.n.appendChild(this.ZC);S.pI(this.ZC,this.afp.bind(this));
this.VG=new ax;this.VG.parent=this;var c=this.VG.n=S.t("div","floatcont");c.style.padding="7px 7px 3px 7px";
var o=new dV("Recent");c.appendChild(o.n);var K=this.a30=new kz([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
K.B("click",this.a1n,this);K.n.style.float="right";c.appendChild(K.n);var u=this.dP=new fA("Local Fonts");
u.B(y.E.z,this.asM,this);u.n.style.float="right";u.n.style.marginRight="10px";u.n.style.marginTop="3px";
c.appendChild(u.n);S.jR(c);this.GR=S.t("span","fitem imageset scrollable");this.GR.style.maxHeight="8em";
c.appendChild(this.GR);var X=S.t("div","form");this.VG.n.appendChild(X);this.Kg=new kz(S.RD("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.Kg.B("click",this.asf,this);X.appendChild(this.Kg.n);this.GX=new fi([12,86],null,7.5);this.GX.B("input",this.vn,this);
X.appendChild(this.GX.n);this.G9=new id(10,"\u2630");X.appendChild(this.G9.n);this.G9.parent=this.VG;
this.G9.B(y.E.z,this.iC,this);this.G9.n.style.float="right";this.G9.n.style.marginRight="0";this.Oi=S.t("span","fitem imageset scrollable");
this.Oi.style.height="30em";this.VG.n.appendChild(this.Oi);this.Oi.addEventListener("scroll",this.a3p.bind(this),!1);
this.fF=S.t("button","fitem");this.fF.setAttribute("style","width:7em;");this.fF.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.fF);S.pI(this.fF,this.afp.bind(this));this.Xz=new ax;this.Xz.parent=this;this.Xz.n=S.t("div","floatcont");
this.Ib=S.t("span","fitem imageset scrollable");this.Xz.n.appendChild(this.Ib);this.abF=this.aD9.bind(this);
this.adP=this.ar1.bind(this)}fN.prototype=new ax;fN.prototype.asM=function(c){bW.kB.WR(c.target.h(),function(){this.c();
this.iC()}.bind(this),function(){this.dP.c(!1)}.bind(this));this.iC()};fN.prototype.a3p=function(c){var o=this.Oi.scrollTop,K=this.Cg,u=Math.floor(o/27),X=Math.min(u+20,K.length);
for(var Y=u;Y<X;Y++)this.a1h(K[Y])};fN.prototype.a1n=function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.Rk,avL:".otf,.ttf,.ttc"};
this.I(c)};fN.prototype._=function(){this.G9._();this.a30._();this.dP.c(bW.kB.s6());this.Kg.ro(S.RD("tools/cshape",null,"autoscale"))};
fN.prototype.asf=function(c){this.Kg.c(!this.Kg.s6());this.iC()};fN.prototype.vn=function(c){this.lx=this.GX.h().toLowerCase();
this.iC()};fN.prototype.afp=function(c){S.GB(c);var o=c.currentTarget,K=o.getBoundingClientRect(),u=o==this.ZC,X=u?this.VG:this.Xz;
if(S.Kt(X.n)){this.aqY(X);return}if(!u&&this.g7.Ar()[this.Kb]==null)return;var $=new ev(y.E.M,!0);$.data={Y:y.H.B2,KH:X,x:K.left,y:K.top+K.height};
this.I($);if(u){this.iC(null,!0)}};fN.prototype.aD9=function(c){var o=c.currentTarget.firstChild.nextSibling.textContent;
if(c.target.tagName.toLowerCase()=="button"){var K=this.HW.slice(0),u=K.indexOf(o);if(u==-1){K=K.slice(Math.max(0,K.length-29));
K.push(o)}else K.splice(u,1);var X=new ev(y.E.M,!0);X.data={Y:y.H.NU,EU:iD.N6,qU:K};this.I(X);this.bA=!0;
this.iC()}else{this.a3D(o,null)}};fN.prototype.ar1=function(c){this.a3D(null,c.currentTarget.firstChild.textContent)};
fN.prototype.a3D=function(c,o){var K=c==null?this.Xz:this.VG,u=this.g7;if(c==null)c=u.Ar()[this.Kb][0];
else{var X=u.mH(c),$=u.Ar()[this.Kb];o=bW.Mo(X,$?$[1]:"regular")}var O=u.Zl(c,o)[2];this.c(O,u);this.I(new ev(y.E.z,!1));
this.aqY(K);this.iC()};fN.prototype.aqY=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.Rv,KH:c};this.I(o)};
fN.prototype.h=function(){return this.Kb};fN.prototype.c=function(c,o,K){var u=this.g7;if(c!=null)this.Kb=c;
else c=this.Kb;if(o)this.g7=o;else o=this.g7;if(K)this.HW=K;else K=this.HW;if(c!=null){var X=o.Ar()[c],$,O;
if(X==null){$="- "+c;O="-------"}else{$=X[0];O=X[1];var n=this.D0;for(var Y=0;Y<n.length;Y++)if(n[Y][0][0]==$)n.splice(Y,1);
n.push([X,Date.now()]);n.sort(function(f,z){return z[1]-f[1]});n=n.slice(0,10);S._a(this.GR);for(var Y=1;
Y<n.length;Y++){var x=n[Y][0],l=this.Aj(x,!0);this.p4(l,x,!0);this.GR.appendChild(l)}var N=o.mH($);N.sort(bW.afi);
this.Ib.textContent="";for(var Y=0;Y<N.length;Y++){var X=o.Zl($,N[Y]);if(!this.G9._3(X))continue;var l=this.Aj(X,!1);
this.Ib.appendChild(l)}}this.ZC.textContent=$.substring(0,15)+" \u25BC";this.ZC.setAttribute("title",$+", \""+c+"\"");
this.fF.textContent=O.substring(0,10)+" \u25BC";this.fF.setAttribute("title",O)}};fN.prototype.iC=function(c,o){var K=this.g7.Ar()[this.Kb],u=this.HW,X=this.g7.a6();
this.Cg=[];var $=this.dP.h();for(var O in X){var n=u.indexOf(O)!=-1,x=this.g7.mH(O),l=!1;for(var Y=0;
Y<x.length;Y++){var N=this.g7.Zl(O,x[Y]),f=!0;if(this.lx.length>0&&N[0].toLowerCase().indexOf(this.lx)==-1)f=!1;
else if(!this.G9._3(N))f=!1;else if(this.Kg.s6()&&!n)f=!1;else if(N[5]=="--loc"&&!$)f=!1;if(f)l=!0}var z=this.Yf[O];
if(z==null){var R=bW.Mo(X[O],"regular"),V=this.g7.Zl(O,R),z=this.Aj(V,!0);this.Yf[O]=z;this.Oi.appendChild(z);
this.LY[O]="[true,false,false]"}if(l)this.Cg.push(O);var d=K!=null&&K[0]==O;this.aeh[O]="["+l+","+d+","+n+"]";
if(!o)this.a1h(O)}if(K&&!this.bA){var e=this.Yf[K[0]];this.Oi.scrollTop=e.offsetTop-210}this.a3p();this.bA=!1};
fN.prototype.a1h=function(c){var o=this.Yf[c];if(o.firstChild==null){var K=this.g7.a6(),u=bW.Mo(K[c],"regular"),X=this.g7.Zl(c,u);
this.p4(o,X,!0)}var $=this.LY[c],O=this.aeh[c];if($==O)return;var n=JSON.parse($),x=JSON.parse(O);if(n[0]!=x[0]||n[1]!=x[1]){var l=x[0]?"":"display:none; ";
if(x[1])l+="background-color:rgba(0,0,0,0.13);";o.setAttribute("style",l)}if(n[2]!=x[2])o.firstChild.setAttribute("style","opacity: "+(x[2]?"1":"0.2"));
this.LY[c]=O};fN.prototype.Aj=function(c,o){var K=S.t("div","fontitem");if(!o)this.p4(K,c,o);return K};
fN.prototype.p4=function(c,o,K){var u=o[K?0:1],X=K?this.abF:this.adP,x="";c.addEventListener("click",X,!1);
if(K)c.appendChild(S.t("button","star"));var $=S.t("span","label");$.setAttribute("title",u);$.textContent=u;
c.appendChild($);var O=S.Sm(),n=1/O,l=bW._i*n,N=bW.V6*n;if(1<O&&O<1.5)x="width:"+l+"px; height:"+N+"px;";
var f=S.t("span","thumb gsicon");if(o.TL){x+="background: url("+o.TL+");";if(1<O&&O<1.5)x+="background-size: "+l+"px "+N+"px;"}else{var z=Math.ceil(FNTS.list.length/bW.cols),R=Math.floor(o.wM/bW.cols),V=o.wM-R*bW.cols,d=V*bW._i,e=R*bW.V6;
if(1<O&&O<1.5){x+="background-size: "+bW.cols*l+"px "+z*N+"px;";d*=n;e*=n}x+="background-position:-"+d+"px -"+e+"px;"}f.setAttribute("style",x);
c.appendChild(f)};function id(c,o){ax.call(this);this.n=S.t("button","fitem bbtn");this.n.addEventListener("click",this.apo.bind(this),!1);
this.IP=new ax;this.IP.n=S.t("div","floatcont");this.IP.parent=this;this.LT=S.t("div","flexrow");this.IP.n.appendChild(this.LT);
this.O$=o;this.xs=[];this.P$=[];var K=this.LT,u=S.t("div",""),X=S.t("div","");K.appendChild(u);K.appendChild(X);
this.vO=[];for(var Y=0;Y<FNTS.cats.length;Y++)this.vO.push({name:FNTS.cats[Y],index:Y,Dz:0});this.HY=new fA([7,0]);
this.HY.c(!0);this.HY.B(y.E.z,this.a8A,this);u.appendChild(this.HY.n);this.a5=S.t("div","vlist marged scrollable");
this.a5.setAttribute("style","width:10.3em; height:"+c+"em; ");u.appendChild(this.a5);this.RB=[];for(var Y=0;
Y<this.vO.length;Y++){var $=this.vO[Y],O=new fA($.name);this.RB.push(O);O.B(y.E.z,this.azS,this);O.c(!0);
this.a5.appendChild(O.n);this.xs.push(1)}this.a6o=new fA([7,0]);this.a6o.B(y.E.z,this.adm,this);this.IC=S.t("div","vlist marged scrollable");
this.IC.setAttribute("style","width:8.6em; height:"+(c+1.5)+"em; ");X.appendChild(this.IC);this.U1=[];
for(var Y=0;Y<FNTS.subsetNames.length;Y++){var O=new fA(FNTS.subsetNames[Y]);this.U1.push(O);O.B(y.E.z,this.ayF,this);
O.c(!1);this.IC.appendChild(O.n);this.P$.push(O.h()?1:0)}}id.prototype=new ax;id.prototype.aD0=function(c){var o=this.U1;
for(var Y=0;Y<o.length;Y++){var K=(c>>>Y&1)==1;this.P$[Y]=K;o[Y].c(K)}};id.prototype.aB_=function(){return this.LT};
id.prototype._=function(){this.n.textContent=this.O$?this.O$:iV.get([25,1,0])+" \u25BC";this.HY._();
this.a6o._()};id.prototype.apo=function(c){var o=this.n.getBoundingClientRect(),K=new ev(y.E.M,!0);K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height,Kd:!1};
this.I(K)};id.prototype._3=function(c){if(this.xs[c[4]]==0)return!1;else for(var o=0;o<this.P$.length;
o++)if(this.P$[o]==1&&(c[3]>>>o&1)==0)return!1;return!0};id.prototype.a8A=function(c){var o=c.target.h(),K=this.RB,u=this.xs;
for(var Y=0;Y<K.length;Y++){K[Y].c(o);u[Y]=o?1:0}this.I(new ev(y.E.z,!1))};id.prototype.adm=function(c){var o=c.target.h(),K=this.U1,u=this.P$;
for(var Y=0;Y<K.length;Y++){K[Y].c(o);u[Y]=o?1:0}this.I(new ev(y.E.z,!1))};id.prototype.azS=function(c){var Y=this.RB.indexOf(c.target),o=this.vO[Y].index;
this.xs[o]=1-this.xs[o];this.I(new ev(y.E.z,!1));this.aun(this.RB,this.HY)};id.prototype.ayF=function(c){var Y=this.U1.indexOf(c.target);
this.P$[Y]=1-this.P$[Y];this.I(new ev(y.E.z,!1))};id.prototype.aun=function(c,o){var K=!0;for(var Y=0;
Y<c.length;Y++)K=K&&c[Y].h();o.c(K)};function el(c,o,K){hc.call(this,o,!0,"gradientbutton",18*13,10*13,iD.cE);
this.V5=-1;this.th=-1;this.apO=null;this.aB2=c;this.UR=K}el.prototype=new hc;el.prototype.B9=function(c){var o=this.Xf;
this.c(o[this.hr.h()]);this.I(new ev(y.E.z))};el.prototype.BY=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.Vl,n9:"gradienteditor",T:this.g_,hB:this.a7_.bind(this),Tq:this.UR};
this.I(o)};el.prototype.a7_=function(c){this.c(c);this.I(new ev(y.E.z))};el.prototype.yY=function(){if(!this.IH)return;
var c=Math.floor(36*S.Sm()),o=Math.floor(36*S.Sm()),K=[],u=[],X=this.Xf,$=Date.now();for(var Y=0;Y<X.length;
Y++){var O=X[Y];u.push(O.Nm?O.Nm.v:"");var n=r.YU.Zq(O,c,o,Math.PI/4,this.V5,this.th);K.push(n)}this.hr.od(K,u,c,o);
this.IH=!1};el.prototype.DL=function(c,o){this.ai2(this.g_,c,o)};el.prototype.c=function(c){this.ai2(c,this.V5,this.th)};
el.prototype.ai2=function(c,o,K){this.V5=o;this.th=K;if(c==null)return;var u=JSON.stringify(c),X=u+o+","+K;
if(X==this.apO)return;this.apO=X;this.g_=JSON.parse(u);var $=Math.floor(80*S.Sm()),O=Math.floor(16*S.Sm()),n=r.YU.Zq(this.g_,$,O,0,this.V5,this.th);
this.tu.setAttribute("src",n);S.Vg(this.tu,$,O)};el.prototype.h=function(){var c;if(this.aB2)c=r.YU.a8E(this.g_,this.V5,this.th);
else c=JSON.parse(JSON.stringify(this.g_));return c};function hu(c){hc.call(this,c,!1,"swatchbutton",16*13,8.75*13,iD.Op)}hu.prototype=new hc;
hu.prototype.B9=function(c){this.c(this.Xf[c.target.h()]);this.I(new ev(y.E.z))};hu.prototype.yY=function(){if(!this.IH)return;
var c=Date.now(),o=Math.floor(10*S.Sm()),K=Math.floor(10*S.Sm()),u=[],X=[],$=this.Xf;for(var Y=0;Y<$.length;
Y++){X.push($[Y].Tw?$[Y].Tw.split("=").pop():"");u.push(hu.Zq($[Y],o,K))}this.hr.od(u,X,o,K);this.IH=!1};
hu.prototype.c=function(c){this.g_=JSON.parse(JSON.stringify(c));this.dC()};hu.prototype.dC=function(){var c=Math.floor(24*S.Sm()),o=Math.floor(20*S.Sm()),K=hu.Zq(this.g_,c,o);
this.tu.setAttribute("src",K);S.Vg(this.tu,c,o)};hu.prototype.h=function(){return JSON.parse(JSON.stringify(this.g_))};
hu.SV={};hu.Zq=function(c,o,K){var u=255<<24|c.J<<16|c.r<<8|c.Z,X=":"+u,$=hu.SV;if($[X])return $[X];
var O=new Uint32Array(o*K);O.fill(u);var n=UPNG.encode([O.buffer],o,K),x=$[X]="data:image/png;base64,"+c5.c1(n);
return x};function gY(c,o,K){ax.call(this);this.n=S.t(K?"div":"span");var u=this.SC=S.t("input");this.SC.setAttribute("type","file");
if(o)u.setAttribute("multiple","");this.SC.addEventListener("change",this.aqm.bind(this),!1);this.a6E=this.a4r.bind(this);
this.Te={};this.Rw=0;this.Ju=c;var X=this.ab0=new kz(iV.get(c)+" (0)",null,null,!0);this.n.appendChild(X.n);
X.addEventListener("click",function($){u.click()});if(K){this.AY=S.t("div","scrollable");this.AY.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.AY);this.gd()}}gY.prototype=new ax;gY.prototype.c=function(c){this.Te=c;this.gd()};
gY.prototype.h=function(c){return this.Te};gY.prototype.aqm=function(c){var o=c.target.files;this.Rw=o.length;
this.Te={};for(var Y=0;Y<o.length;Y++){var K=o[Y],u=new FileReader;u.onload=this.a6E;u.DM=K.name;u.readAsArrayBuffer(K)}};
gY.prototype.a4r=function(c){var o=this.Te[c.target.DM]=new Uint8Array(c.target.result);this.Rw--;if(this.Rw==0){this.gd();
this.I(new ev(y.E.z));this.SC.value=null}};gY.prototype.gd=function(){var c=this.Te;this.ab0.ro(iV.get(this.Ju)+" ("+Object.keys(c).length+")");
var o=this.AY;if(o==null)return;S._a(o);var K=[];for(var u in c)K.push(u);K.sort();for(var Y=0;Y<K.length;
Y++){var X=S.t("div");X.textContent=K[Y];o.appendChild(X)}};function d_(c,o,K,u,X){if(c==null)c=!1;if(o==null)o=!1;
if(K==null)K=!1;ax.call(this);this.e9=new kn;this.oh=new kn;this.Ka=72;this.Vx=72;this.mJ=!0;this.OI=!1;
this.n=S.t("span");this.mg=new fI([12,41],0,0,null,0,!1,!0,4);this.n.appendChild(this.mg.n);this.mg.B(y.E.z,this.oR,this);
var $=["px","%"];if(c)$=$.concat(["cm","mm","in"]);if(X){$=[[12,76,2],[12,76,6]];if(c)$=$.concat([[12,76,4],[12,76,5],[12,76,3]])}this.O3=new iW(null,$);
this.n.appendChild(this.O3.n);S.jR(this.n);this.O3.B(y.E.z,this.oR,this);this.Cx=new fI([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.Cx.n);this.Cx.B(y.E.z,this.oR,this);var O=new kz("\u21F5",!1,null,!0);O.B("click",this.xb,this);
this.tj=new kz("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.tj.B("click",this.oR,this);
this.O1=new dV("");this.O1.n.style.margin="0";this.O1.n.style.padding="0";if(o){this.n.appendChild(this.tj.n);
this.n.appendChild(this.O1.n);this.tj.tb()}else this.n.appendChild(O.n);this.f$=new fI("DPI",0,0,null,3,!1,!0,4);
this.Ot=new iW(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(c&&!u){S.jR(this.n);this.n.appendChild(this.f$.n);
this.n.appendChild(this.Ot.n)}this.Ot.B(y.E.z,this.oR,this);this.f$.B(y.E.z,this.oR,this);this.OA=new fA([12,23,1]);
this.OA.B(y.E.z,this.oR,this);if(K){S.jR(this.n);this.n.appendChild(this.OA.n)}S.jR(this.n)}d_.prototype=new ax;
d_.prototype._Q=function(c,o){this.mg.RX.style.width=this.Cx.RX.style.width=(c-78-this.tj.RP())/2+"px"};
d_.prototype.qm=function(){this.mg.qm();this.Cx.qm();this.O3.qm();var c=this.n;S._a(c);this.O3.n.style.marginRight="0";
c.appendChild(this.mg.n);c.appendChild(this.tj.n);c.appendChild(this.Cx.n);c.appendChild(this.O3.n)};
d_.prototype.xd=function(){this.mg.xd()};d_.prototype.afj=function(c,o){this.mJ=c;if(o!=null)this.OI=o;
if(!this.mJ&&!this.OI&&this.O3.h()==0){this.O3.c(4);this.QG()}};d_.prototype.ar3=function(c){this.tj.c(c)};
d_.prototype._=function(){this.mg._();this.Cx._();this.f$._();this.Ot._();this.tj._();this.OA._();this.O3._()};
d_.prototype.xb=function(c){var o=this.oh.x;this.oh.x=this.oh.y;this.oh.y=o;this.QG();this.I(new ev(y.E.z,!1))};
d_.prototype.oR=function(c){if(c.target==this.O3&&!this.mJ&&!this.OI&&this.O3.h()==0)this.O3.c(4);if(c.target==this.O3||c.target==this.OA){this.QG();
return}if(c.target==this.tj)c.target.c(!c.target.h());if(c.target==this.Ot)window.locStor.setItem("dpiUnit",this.Ot.h());
var o=this.e9,K=parseFloat(this.mg.h());if(isNaN(K))K=1;var u=parseFloat(this.Cx.h());if(isNaN(u))u=1;
var X=this.f$.h()*[1,2.54][this.Ot.h()],$=this.O3.h();if(this.mJ){var O=this.Vx;if($==1){K=this.e9.x*(K/100);
u=this.e9.y*(u/100)}var n=[1,1,2.54/O,25.4/O,1/O][$];K/=n;u/=n;if(this.OA.h()){K+=this.e9.x;u+=this.e9.y}if(c.target==this.f$){var x=X;
if(!this.OI){var l=x/O;K*=l;u*=l}O=x}if(this.tj.h()){if(c.target==this.mg)u=K*(o.y/o.x);else K=u*(o.x/o.y)}K=Math.max(Math.abs(K),1);
u=Math.max(Math.abs(u),1)}else{var O=this.Ka;if(c.target==this.f$)O=X;else{if(this.tj.h()){if(c.target==this.mg)u=K*(o.y/o.x);
else K=u*(o.x/o.y)}var n=[1,1,2.54/O,25.4/O,1/O][$],N=K/($==1?100:o.x*n);O=O/N}K=o.x;u=o.y}this.oh=new kn(Math.round(K),Math.round(u));
this.Vx=O;this.QG();this.I(new ev(y.E.z,!1))};d_.prototype.a4F=function(Y){this.O3.c(Y);this.QG()};d_.prototype.c=function(c,o,K){var u=window.locStor.getItem("dpiUnit");
if(u!=null)this.Ot.c(u);if(K!=!0)this.e9=c.clone();this.oh=c.clone();if(o!=null){this.Ka=o;this.Vx=o}this.QG()};
d_.prototype.QG=function(){var c=this.oh.x,o=this.oh.y,K=this.Vx,u=(c/o).toFixed(3);while(u.charAt(u.length-1)=="0")u=u.substring(0,u.length-1);
if(u.charAt(u.length-1)==".")u=u.substring(0,u.length-1);var X="  "+u+" : 1",$=function(N,f){while(f!=0){var z=f;
f=N%f;N=z}return N},O=$(c,o);if(Math.min(c,o)/O<10)X="  "+Math.round(c/O)+" : "+Math.round(o/O);this.O1.c(X);
if(this.OA.h()){c-=this.e9.x;o-=this.e9.y}var n=this.O3.h();if(n==1){if(this.mJ){c=100*c/this.e9.x;o=100*o/this.e9.y}else{c=o=100*this.Ka/this.Vx}}else{c=Math.round(c);
o=Math.round(o)}var x=[1,1,2.54/K,25.4/K,1/K][n];c*=x;o*=x;var l=n==1||n==2||n==4?2:0;this.mg.An(l);
this.Cx.An(l);this.mg.c(c);this.Cx.c(o);this.f$.c(K*[1,1/2.54][this.Ot.h()])};d_.prototype.h=function(){return this.oh.clone()};
d_.prototype.lt=function(){return this.Vx};function dQ(c,o,K){ax.call(this);var u=c==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.Yy=c;this.aAV=o;this.ew=1;this.Oh=[1,1,0];var X=this.n=S.t("div","numlist"),$=this.dy=[];for(var Y=0;
Y<4;Y++){var O=new fI(u[Y],0,0,null,2,!1,!0,4,null,K&&(Y==0||Y==2));O.B(y.E.z,this.oR,this);X.appendChild(O.n);
$[Y]=O;if(Y==1||Y==3)S.jR(X)}$[4]=new fA(c==0?[12,51]:[12,91,2]);$[4].c(!0);X.appendChild($[4].n)}dQ.prototype=new ax;
dQ.prototype._=function(){var c=this.dy;for(var Y=0;Y<5;Y++)c[Y]._();if(this.Yy==0)S.eD(c[0],c[2])};
dQ.prototype.c=function(c,o,K){if(o)this.Oh=o;o=this.Oh;var u=K?c:this.Yy==0?[c[2],c[0],c[3],c[1]]:[c[0],c[1],c[3],c[2]];
this.ew=u[0]/u[2];for(var Y=0;Y<4;Y++){var X=this.dy[Y];X.An(o[2]==0&&this.aAV?0:2);X.c(a.Pj.aaE(u[Y],o[0],o[1],o[2]))}};
dQ.prototype.h=function(c){var o=[],K=this.Oh;for(var Y=0;Y<4;Y++){var u=a.Pj.Pv(this.dy[Y].h(),K[0],K[1],K[2]);
o[Y]=this.aAV?Math.round(u):u}return c?o:this.Yy==0?[o[1],o[3],o[0],o[2]]:[o[0],o[1],o[3],o[2]]};dQ.prototype.oR=function(c){var o=this.Yy,K=this.dy.indexOf(c.currentTarget),u=this.h(!0),X=this.dy[4].h();
if(o==0){u[0]=Math.max(1,u[0]);u[2]=Math.max(1,u[2]);if(X&&K==0)u[2]=u[0]/this.ew;if(X&&K==2)u[0]=u[2]*this.ew}if(o==1){u[K]=Math.max(0,u[K]);
if(X)for(var Y=0;Y<4;Y++)u[Y]=u[K]}this.c(u,null,!0);this.I(new ev(y.E.z,!1))};function hL(){ax.call(this);
this.Yu=0;this.yr=[0,0,1,1,100,100];this.qo=[10,5,1,1,4,3,3,2,16,9];this.n=S.t("span","fitem");this.d2=new iW(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.d2.n);this.d2.B(y.E.z,this.oR,this);this.mg=new fI("W",0,0,null,0,!1,!0);this.n.appendChild(this.mg.n);
this.mg.B(y.E.z,this.oR,this);var c=this._1=new kz("\u21C4",!1,null,!0);c.B("click",this.xb,this);this.n.appendChild(c.n);
this.Cx=new fI("H",0,0,null,0,!1,!0);this.n.appendChild(this.Cx.n);this.Cx.B(y.E.z,this.oR,this);this.c({AC:0,x:0,y:0})}hL.prototype=new ax;
hL.prototype.aj7=function(c,o){this.qo[0]=c;this.qo[1]=o};hL.prototype._=function(){S.eD(this.mg,this.Cx);
this.d2._()};hL.prototype.xb=function(c){var o=this.Cx.h();this.Cx.c(this.mg.h());this.mg.c(o);this.oR(c)};
hL.prototype.oR=function(c){if(c.target==this.d2){var Y=this.d2.h(),o=this.yr;if(Y>2){Y-=3;var K=this.qo[2*Y],u=this.qo[2*Y+1];
o[2]=K;o[3]=u;this.mg.c(K);this.Cx.c(u);this.d2.c(1)}var X=this.h();o[this.Yu*2]=X.x;o[this.Yu*2+1]=X.y;
this.Yu=X.AC;this.c({AC:X.AC,x:o[X.AC*2],y:o[X.AC*2+1]})}if(this.mg.h()<1)this.mg.c(1);if(this.Cx.h()<1)this.Cx.c(1);
this.I(new ev(y.E.z,!1))};hL.prototype.c=function(c){this.d2.c(c.AC);this.mg.c(c.x);this.Cx.c(c.y);if(c.AC==0){this.mg.Lc();
this.Cx.Lc();this._1.Lc()}else{this.mg.R1();this.Cx.R1();this._1.R1()}};hL.prototype.h=function(){return{AC:this.d2.h(),x:this.mg.h(),y:this.Cx.h()}};
function g5(c){ax.call(this);this.n=S.t("span","");this.a0K=c;this.x_=new av("Off X",-100,100,c?"%":"px",0,!1);
this.CE=new av("Off Y",-100,100,c?"%":"px",0,!1);this.x_.B(y.E.z,this.oR,this);this.CE.B(y.E.z,this.oR,this);
this.n.appendChild(this.x_.n);this.n.appendChild(this.CE.n)}g5.prototype=new ax;g5.prototype._=function(){this.x_._();
this.CE._()};g5.prototype.oR=function(c){this.I(new ev(y.E.z,!1))};g5.prototype.a7Z=function(c){this.x_.c(c.x);
this.CE.c(c.y)};g5.prototype.adD=function(){return new kn(this.x_.h(),this.CE.h())};g5.prototype.c=function(c,o){var K=c.Hrzn.v,u=c.Vrtc.v;
if(this.a0K){K=K.val;u=u.val}this.x_.c(K);this.CE.c(u);if(o==!0)this.oR()};g5.prototype.h=function(){var c=this.x_.h(),o=this.CE.h();
if(this.a0K)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:c}},Vrtc:{t:"UntF",v:{type:"#Prc",val:o}}};
else return{classID:"Pnt",Hrzn:{v:c,t:"doub"},Vrtc:{v:o,t:"doub"}}};function iR(){ax.call(this);this.n=S.t("span","fitem strokebutton");
this.fm=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.TI=gH.e_.ib();this.x8=S.t("button");
this.n.appendChild(this.x8);S.pI(this.n,this.h9.bind(this));var c=S.t("canvas","gsicon");this.i0=c.getContext("2d");
this.x8.appendChild(c);var o=S.t("span");o.textContent=" \u25BC";this.x8.appendChild(o);this.IP=new ax;
this.IP.parent=this;this.IP.n=S.t("div","floatcont form");var K=this.IP.n;K.setAttribute("style","width: 16.7em;");
this.Yf=[new iW([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new hE([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new hE([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new fI("Limit",0,50,null,null,null,!0,2.5),new fi([19,9,2])];
for(var Y=0;Y<this.Yf.length;Y++){var u=this.Yf[Y];K.appendChild(u.n);u.B(y.E.z,this.oR,this)}S.jR(K);
this.z7=[];var X=this.Gx.bind(this);this.TI.strokeStyleLineWidth.v.val=3;for(var Y=0;Y<this.fm.length;
Y++){var $=S.t("button","fitem");this.z7.push($);K.appendChild($);$.addEventListener("click",X,!1);var c=S.t("canvas","gsicon"),O=c.getContext("2d");
$.appendChild(c);this.aix(O,40,20,this.fm[Y])}this.TI.strokeStyleLineWidth.v.val=1}iR.prototype=new ax;
iR.prototype.h9=function(c){if(S.Kt(this.IP.n))return;c.stopPropagation();var o=this.x8.getBoundingClientRect(),K=new ev(y.E.M,!0);
K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height+4};this.I(K)};iR.prototype.oR=function(c){var o=this.Yf,K=[];
for(var Y=0;Y<5;Y++)K.push(o[Y].h());this.TI=this.arJ(K);this.I(new ev(y.E.z,!1))};iR.prototype.Gx=function(c){var o=this.z7.indexOf(c.currentTarget);
this.c(this.arJ(this.fm[o]));this.I(new ev(y.E.z,!1))};iR.prototype.arJ=function(c){var o=JSON.parse(JSON.stringify(this.TI)),K=c[0],u=c[1],X=c[2],$=c[3],O=c[4];
if(K!=null)o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gH.e_.R8[K];if(u!=null)o.strokeStyleLineCapType.v.strokeStyleLineCapType=gH.e_.wW[u];
if(X!=null)o.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gH.e_.join[X];o.strokeStyleMiterLimit.v=$;
var n=o.strokeStyleLineDashSet.v=[];O=O.split(" ");while((O.length&1)!=0)O.pop();for(var Y=0;Y<O.length;
Y++)n.push({t:"UntF",v:{type:"#Nne",val:parseInt(O[Y])}});return o};iR.prototype._=function(){for(var Y=0;
Y<this.Yf.length;Y++)this.Yf[Y]._()};iR.prototype.c=function(c){this.TI=JSON.parse(JSON.stringify(c));
var o=gH.e_.R8.indexOf(c.strokeStyleLineAlignment.v.strokeStyleLineAlignment),K=gH.e_.wW.indexOf(c.strokeStyleLineCapType.v.strokeStyleLineCapType),u=gH.e_.join.indexOf(c.strokeStyleLineJoinType.v.strokeStyleLineJoinType),X=c.strokeStyleMiterLimit.v,$=[],O=c.strokeStyleLineDashSet.v;
for(var n=0;n<O.length;n++)$.push(O[n].v.val);var x=this.Yf;x[0].c(o);x[1].c(K);x[2].c(u);x[3].c(X);
x[3].WR(u==0);x[4].c($.join(" "));var l=[];for(var Y=0;Y<5;Y++)l.push(x[Y].h());this.aix(this.i0,40,16,l)};
iR.prototype.h=function(){return JSON.parse(JSON.stringify(this.TI))};iR.prototype.aix=function(c,o,K,u){var X=u[0],$=u[1],O=u[2],n=u[3],x=u[4].split(" ").map(parseFloat);
S.qI(c.canvas,o,K);var l=Math.min(5,this.TI.strokeStyleLineWidth.v.val);for(var Y=0;Y<x.length;Y++)x[Y]*=l;
c.clearRect(0,0,o,K);c.setLineDash(x);c.lineCap=["butt","round","square"][$];c.lineJoin=["miter","round","bevel"][O];
c.lineWidth=l;c.beginPath();c.moveTo(0,K/2);c.lineTo(o*2,K/2);c.stroke()};function bY(c){hc.call(this,c,!1,"contourbutton",34*13,16*13,iD.OO,!0);
this.GX=new fi([12,86],null,16);this.GX.B("input",this.vn,this);this.IP.n.appendChild(this.GX.n);this.Ke=null;
this.lx="";this.eh=null;this.c(d$.ib())}bY.prototype=new hc;bY.prototype._=function(){hc.prototype._.call(this);
this.GX._()};bY.prototype.B9=function(c){this.c(this.Ke[c.target.h()[0]]);this.I(new ev(y.E.z))};bY.prototype.vn=function(c){this.lx=this.GX.h().toLowerCase();
this.arF()};bY.a9w=!1;bY.prototype.yY=function(){if(!this.IH)return;var c=this.Xf;if(c==null||!bY.a9w){var o=new ev(y.E.M,!0);
o.data={Y:y.H.ip,EU:{url:"rsrc/basic/Default.csh"}};this.I(o);bY.a9w=!0}else{var K=Math.floor(38*S.Sm()),u=Math.floor(38*S.Sm());
this.eh=[];for(var Y=0;Y<c.length;Y++)this.eh.push(bY.ay4(c[Y],K,u));this.arF();this.IH=!1}};bY.prototype.arF=function(){var c=Math.floor(38*S.Sm()),o=Math.floor(38*S.Sm());
this.Ke=[];var K=[],u=[],X=this.Xf;for(var Y=0;Y<X.length;Y++){if(X[Y].PB.toLowerCase().indexOf(this.lx)==-1)continue;
this.Ke.push(X[Y]);K.push(this.eh[Y]);u.push(X[Y].PB)}this.hr.od(K,u,c,o)};bY.prototype.c=function(c){this.g_=bY.clone(c);
this.dC()};bY.prototype.dC=function(){var c=Math.floor(23*S.Sm()),o=Math.floor(23*S.Sm()),K=bY.ay4(this.g_,c,o);
this.tu.setAttribute("src",K);S.Vg(this.tu,c,o)};bY.prototype.h=function(){return bY.clone(this.g_)};
bY.clone=function(c){return{PB:c.PB,Oq:c.Oq,$:gU.JA.qA(c.$),_C:c._C.clone()}};bY.xS=null;bY.wQ=null;
bY.ay4=function(c,o,K){var u=gU.JA.qA(c.$),X=c._C,$=Math.min(o/X.m,K/X.e)*.9,O=new bE;O.translate(-.5,-.5);
O.scale(.95,.95);O.translate(.5,.5);O.scale($*X.m,$*X.e);a.o.Ik(u,O);var n=new gU.JA;n.$=u;var x=n.wD();
x.rect.x=Math.floor((o-x.rect.m)/2);x.rect.y=Math.floor((K-x.rect.e)/2);var l=a.R(x.rect.P()*4);a.bp(x.channel,l,3);
var N=bY;if(N.xS==null)N.xS=S.t("canvas");var f=N.xS,z=f.getContext("2d");if(f.width!=o||f.height!=K||N.wQ==null){f.width=o;
f.height=K;N.wQ=z.createImageData(o,K)}var R=N.wQ;R.data.fill(0);a.Ui(l,x.rect,R.data,new ez(0,0,o,K));
z.putImageData(R,0,0);return f.toDataURL()};function hi(c){hc.call(this,c,!1,"ICCButton",16*13,12*13,iD.Y_,!0);
this.hr.qZ(1)}hi.prototype=new hc;hi.prototype.RR=function(){var c="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var Y=0;Y<c.length;Y++)c[Y]="luts/"+c[Y]+".CUBE";return c};hi.prototype.B9=function(c){this.c(this.Xf[c.target.h()]);
this.I(new ev(y.E.z))};hi.prototype.yY=function(){if(!this.IH)return;var c=Math.floor(1*S.Sm()),o=Math.floor(1*S.Sm()),K=[],u=[],X=this.Xf;
for(var Y=0;Y<X.length;Y++){var $=X[Y].Nm.v.split("\\").pop().split("/").pop();u.push($);K.push(hi.Zq(X[Y],c,o))}this.hr.od(K,u,c,o);
this.IH=!1};hi.prototype.c=function(c){this.g_=JSON.parse(JSON.stringify(c));this.dC()};hi.Zq=function(c,o,K){var u=S.t("canvas"),O="ICC / 3DL / look / cube";
u.width=o;u.height=K;var X=u.getContext("2d"),$=Math.floor(14*S.Sm());X.font=$+"px sans-serif";if(c.Nm)O=c.Nm.v.split("\\").pop().split("/").pop();
X.fillText(O,10,$);return u.toDataURL()};hi.prototype.dC=function(){var c=Math.floor(120*S.Sm()),o=Math.floor(20*S.Sm());
this.tu.setAttribute("src",hi.Zq(this.g_,c,o));S.Vg(this.tu,c,o)};hi.prototype.h=function(){return JSON.parse(JSON.stringify(this.g_))};
function fM(){ax.call(this);this.Mk=null;this.n=S.t("span","fitem");this.a4=new hz([14,9]);this.oU=new fI(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.za=new iR;this.pV=[this.a4,this.oU,this.za];for(var Y=0;Y<this.pV.length;Y++){var c=this.pV[Y];
this.n.appendChild(c.n);c.parent=this;c.B(y.E.z,this.oR,this)}}fM.prototype=new ax;fM.prototype._=function(){for(var Y=0;
Y<this.pV.length;Y++)this.pV[Y]._()};fM.prototype.VW=function(c,o){this.a4.VW(c,o)};fM.prototype.oR=function(c){var o=this.Mk,K=this.a4.h();
gH.cx(o,K);o.strokeStyleLineWidth.v.val=this.oU.h();if(c.target==this.za)o=this.za.h();this.Mk=o;this.I(new ev(y.E.z,!1))};
fM.prototype.c=function(c,o,K){this.Mk=JSON.parse(JSON.stringify(o));var u=gH.i$(o);this.a4.c(c,u,K);
this.oU.c(o.strokeStyleLineWidth.v.val);this.za.c(o)};fM.prototype.h=function(){return JSON.parse(JSON.stringify(this.Mk))};
function aD(c){var o=[[18,0],[18,1],[18,2],[18,3]],K=hE.DS(["set/front","set/union","set/difference","set/intersection"]);
hE.call(this,c?[12,36]:null,K,o)}aD.prototype=new hE;function f3(){ax.call(this);this.n=S.t("button","fitem bbtn");
S.pI(this.n,this.h9.bind(this));this.IP=new ax;this.IP.n=S.t("div","floatcont form");this.IP.n.setAttribute("style","max-width: 200px;");
this.IP.parent=this;var c=js;this._R=[new fA("Start"),new fA("End"),new c([12,41],0,100,"px",null,!0,null,!0),new c([12,80,0],0,100,"px",null,!0,null,!0),new c("Concavity",-50,50,"%",null,null,null,!0)];
for(var Y=0;Y<this._R.length;Y++){var o=this._R[Y];o.parent=this;o.B(y.E.z,this.dY,this);this.IP.n.appendChild(o.n)}this.aDR=S.t("div");
this.IP.n.appendChild(this.aDR)}f3.prototype=new ax;f3.prototype.c=function(c){for(var Y=0;Y<5;Y++)this._R[Y].c(c[Y]);
this.gd()};f3.prototype.h=function(c){var o=[];for(var Y=0;Y<5;Y++)o[Y]=this._R[Y].h();return o};f3.prototype._=function(){this.n.textContent=iV.get([12,93,4]);
for(var Y=0;Y<this._R.length;Y++)this._R[Y]._()};f3.prototype.dY=function(c){this.I(new ev(y.E.z,!1));
this.gd()};f3.prototype.gd=function(c){var o=this.h(),K=200,u=60;o[2]/=S.Sm();o[3]/=S.Sm();var X=a.o.YP.$r(0,u/2,K,u/2,5,o),$=a.o.kt(X);
this.aDR.innerHTML="<svg width=\""+K+"\" height=\""+u+"\" class=\"gsicon\">\t\t\t<path d=\""+$.Ad+"\" />\t\t\t</svg>"};
f3.prototype.h9=function(c){if(S.Kt(this.IP.n))return;c.stopPropagation();var o=this.n.getBoundingClientRect(),K=new ev(y.E.M,!0);
K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height,Kd:!0};this.I(K)};function jG(){ax.call(this);
this.n=S.t("div");this.dy=[];this.adG=[];var c=this.nM=S.t("div"),o=S.t("h2");o.textContent="Create Teams";
c.appendChild(o);o.style.margin="26px 0 16px 0";var K=new kz("More about Teams",!1,null,!0);o.appendChild(K.n);
K.n.style.float="right";K.B("click",this.afC,this);this.bS=S.t("div");c.appendChild(this.bS);this.aqj=new fi("Team Name",null,10);
c.appendChild(this.aqj.n);var u=this.a73=new kz("Create Team",null,null,!0);c.appendChild(u.n);u.B("click",this.afz,this);
var o=S.t("h2");o.textContent="Join Teams";c.appendChild(o);o.style.margin="26px 0 16px 0";this.NG=S.t("div");
c.appendChild(this.NG);this.akZ=new fi("Team ID",null,10);c.appendChild(this.akZ.n);var u=new kz("Join Team",null,null,!0);
c.appendChild(u.n);u.B("click",this.afz,this);this.af6;this.aqO=this.kX.bind(this);this.ajM=this.auN.bind(this);
this.X7=!1;this.MO();this.bR=null;this.a0q=""}jG.prototype=new ax;jG.prototype.afC=function(c){var o=new ev(y.E.M,!0);
o.data={Y:y.H.aX,link:"https://www.photopea.com/api/accounts#teams"};this.I(o)};jG.prototype.MO=function(){clearTimeout(this.alE);
this.alE=setTimeout(this.ajM,this.bR?10:3e3)};jG.prototype.auN=function(){var c=ar.Co();if(document.hidden||!S.Kt(this.n)||c==null){this.MO();
return}var o=ar.nH();if(this.bR==null&&o==null)return;ar.rn(this.bR?this.bR:o,this.aqO);this.X7=!0;this.bR=null};
jG.prototype.ar8=function(c){c.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.X7)this.bR=c;else{clearTimeout(this.alE);ar.rn(c,this.aqO)}};jG.prototype.hX=function(c){var o=typeof c=="string"?this.af6:this.dy.indexOf(c.target),K=this.adG[o],u=K[0],X=ar.nH();
if(X==null)X={};var $=X.acc,O=$.tjoin,n=$.tstart;if(u=="leave"){O.splice(O.indexOf(K[1]),1)}if(u=="add"||u=="remove"||u=="delTeam"||u=="showRename"||u=="rename"){var x=-1,N=0;
for(var Y=0;Y<n.length;Y++){N+=n[Y][1].length;if(n[Y][2]==K[1])x=Y}var f=n[x];if(u=="add"){var z=ar.Is();
if(z&&z[0]==0&&z[1][2]<=N){alert("You can have at most "+z[1][2]+" members in your Premium.");return}f[1].push(K[2])}if(u=="remove")f[1].splice(f[1].indexOf(K[2]),1);
if(u=="delTeam"){if(f[1].length!=0){alert("Remove members first.");return}n.splice(x,1)}if(u=="showRename"){var R=new ev(y.E.M,!0);
R.data={Y:y.H.Vl,n9:"namewindow",Ak:f[0],vu:this.hX.bind(this)};this.I(R);this.af6=o;K[0]="rename";return}if(u=="rename")f[0]=c}this.ar8(X)};
jG.prototype.afz=function(c){var o=this.a73==c.target,K=(o?this.aqj:this.akZ).h().trim();if(K==""){alert("The Team "+(o?"Name":"ID")+" is empty.");
return}if(!o){K=parseInt(K);if(isNaN(K)){alert("The ID must be a number");return}}var u=ar.nH();if(u==null)u={};
var X=u.acc;if(X==null)X=u.acc={};var $=X.tstart,O=X.tjoin;if(o){if($==null)$=X.tstart=[];if($.length>5){alert("You can have at most 5 teams");
return}$.push([K,[]])}else{if($)for(var Y=0;Y<$.length;Y++)if($[Y][2]==K){alert("You are the owner of this team");
return}if(O==null)O=X.tjoin=[];if(O.indexOf(K)!=-1){alert("You already asked to join this team.");return}X.tjoin.push(K)}X.update=!0;
this.ar8(u)};jG.prototype.kX=function(){this.X7=!1;var c=ar.Co(),o=c!=null,K=this.nM.parentNode!=null;
if(o!=K){S._a(this.n);if(o)this.n.appendChild(this.nM);else this.n.textContent="Log In to access Team Settings."}if(!o)return;
var u=ar.nH();if(u==null)u={};var X=u.acc;if(X==null)X={};var $=JSON.stringify(X)+"===="+JSON.stringify(c);
if($!=this.a0q){this.a0q=$;var O=this.bS,n=this.NG;S._a(O);S._a(n);var x=this.dy=[],l=this.adG=[],N=this.hX.bind(this);
function f(L,J){L.addEventListener("click",N);x.push(L);l.push(J)}function z(q,L){var W=S.t("div"),J="rgba(255,255,255,0.15)";
W.appendChild(V("ID: "+q[2],54,J));W.appendChild(V(q[0],160,null,!0));if(L){W.appendChild(V(q[1].length+" members",80,null,!0))}else{W.appendChild(V(q[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<q[1]*1e3)W.appendChild(V("Premium",80,"rgba(0,140,0,1)"))}var b=V("",120);W.appendChild(b);
b.setAttribute("style","float:right;text-align:right");if(L){var F=new kz("Rename",null,null,!0);f(F,["showRename",q[2]]);
b.appendChild(F.n)}var F=new kz(L?"Delete":"Leave",null,null,!0);f(F,[L?"delTeam":"leave",q[2]]);b.appendChild(F.n);
return W}function R(L,J,t){var W=S.t("div");W.style.paddingLeft="46px";W.appendChild(V(J?"\u2713":"...",8,J?"#229922":"#aa7700"));
W.appendChild(V(L[1],200));W.appendChild(V(L[2],240));var b=V("",120);W.appendChild(b);b.setAttribute("style","float:right;text-align:right");
var F=new kz(J?"Remove":"Add",null,null,!0);f(F,[J?"remove":"add",t,L[0]]);b.appendChild(F.n);return W}function V(L,J,b,F){var B=S.t("span");
B.textContent=L;B.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+J+"px;  "+(b!=null?"background-color:"+b+";":"")+(F?"font-weight:bold;":""));
return B}var d=X.tstart,e=X.tjoin,p=c.wantToJoin,h=c.inTeams;if(d)for(var E=0;E<d.length;E++){var q=d[E],Z=p["t"+q[2]];
if(Z==null)Z=[];var v={};for(var Y=0;Y<Z.length;Y++)v["u"+Z[Y][0]]=Z[Y];var W=z(q,!0);O.appendChild(W);
W.style.marginTop="10px";for(var Y=0;Y<q[1].length;Y++){var D=q[1][Y],I=v["u"+D];if(I==null)I=[D,"========","... user has left your team"];
delete v["u"+D];var A=R(I,!0,q[2]);O.appendChild(A)}for(var U in v){var I=v[U],A=R(I,!1,q[2]);O.appendChild(A)}}if(e){var w={};
for(var Y=0;Y<h.length;Y++)w["t"+h[Y][2]]=h[Y];for(var E=0;E<e.length;E++){var t=e[E],q=w["t"+t],W=z(q?q:["==========",-1,t],!1);
n.appendChild(W)}}this.I(new ev(y.E.z))}if(this.bR==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.MO()};
function it(){ax.call(this);this.uf=[16,!0,!0];this.n=S.t("span","");this.wU=[new fI([12,24],0,255),new fA([12,25,1]),new fA([12,25,0])];
for(var Y=0;Y<3;Y++){var c=this.wU[Y];c.parent=this;c.c(this.uf[Y]);this.n.appendChild(c.n);c.B(y.E.z,this.oR,this)}}it.prototype=new ax;
it.prototype.oR=function(){for(var Y=0;Y<3;Y++)this.uf[Y]=this.wU[Y].h();this.I(new ev(y.E.z,!1))};it.prototype.c=function(c){this.uf=c.slice(0);
for(var Y=0;Y<3;Y++)this.wU[Y].c(c[Y])};it.prototype.h=function(){return this.uf.slice(0)};it.prototype._=function(){for(var Y=0;
Y<3;Y++)this.wU[Y]._()};function hg(c,o){ax.call(this);if(o==null)o=!1;this.eh=[];this.re=Math.floor(120*S.Sm());
this.ahY=Math.floor(23*S.Sm());this.NM=0;this.RM=[];this.kp=[];for(var K in a.Pw.type){if((K=="warpCustom"||K=="warpCylinder")&&!o)continue;
this.RM.push(K);this.kp.push(a.Pw.type[K])}this.n=S.t("span","fitem warpbutton");this.IP=new ax;this.IP.n=S.t("div","floatcont");
if(c){this.Ju=c;this.Z5=S.t("label","flabel");this.n.appendChild(this.Z5)}this.Y=S.t("button");this.n.appendChild(this.Y);
S.pI(this.Y,this.h9.bind(this));this.aC=new aE(!0);this.IP.n.appendChild(this.aC.n);this.aC.B(y.E.z,this.a01,this);
this.IP.n.setAttribute("style","width:"+Math.floor(8+this.re/S.Sm())+"px;");this._()}hg.prototype=new ax;
hg.prototype.ro=function(c){this.Z5.textContent=c};hg.prototype._=function(){if(this.Ju)this.Z5.innerHTML=iV.get(this.Ju)+":";
this.dC()};hg.arD={};hg.a9x=function(c,o,K){var u=iV.get(a.Pw.type[c]),X=u+"-"+c+"-"+o+"-"+K,$=hg.arD[X];
if($)return $;var O=hg.i0;if(n==null){var n=S.t("canvas");O=hg.i0=n.getContext("2d")}var n=O.canvas;
if(n.width!=o||n.height!=K){n.width=o;n.height=K}O.font=Math.floor(13*S.Sm())+"px sans-serif";O.lineWidth=1;
O.strokeStyle="#000000";var x=Math.floor(16*S.Sm()),l=new ez(0,0,x,x);O.clearRect(0,0,n.width,n.height);
var N=a.Pw.Pw(c,c=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);a.Pw.aiq(N[3],l);var f=a.A.W6(l);
f.G.push("M","L","M","L");f.j.push(0,x/2,x,x/2);f.j.push(x/2,0,x/2,x);f=a.A.dv(f);f=a.A.v3(f,x/5);a.ul.i(N,f.j,l);
a.A.i(f.j,new bE(1,0,0,1,Math.floor(8*S.Sm())+.5,Math.floor(3*S.Sm())+.5),f.j);O.beginPath();Typr.U.pathToContext({cmds:f.G,crds:f.j},O);
O.stroke();O.fillText(u,Math.floor(40*S.Sm()),Math.floor(16*S.Sm()));$=hg.arD[X]=n.toDataURL();return $};
hg.prototype.h9=function(c){if(S.Kt(this.IP.n))return;c.stopPropagation();var o=this.re,K=this.ahY;for(var Y=0;
Y<this.RM.length;Y++)this.eh[Y]=hg.a9x(this.RM[Y],o,K);this.aC.od(this.eh,null,o,K);var u=this.Y.getBoundingClientRect(),X=new ev(y.E.M,!0);
X.data={Y:y.H.B2,KH:this.IP,x:u.left,y:u.top+u.height+4};this.I(X)};hg.prototype.a01=function(c){var o=new ev(y.E.M,!0);
o.data={Y:y.H.Rv,KH:this.IP};this.I(o);this.NM=c.target.h()[0];this.dC();this.I(new ev(y.E.z))};hg.prototype.dC=function(){var c=this.re,o=this.ahY;
this.aC.c([this.NM]);this.Y.innerHTML="<img src=\""+hg.a9x(this.RM[this.NM],c,o)+"\" class=\"gsicon\" />";
S.Vg(this.Y.firstChild,c,o)};hg.prototype.h=function(){return this.RM[this.NM]};hg.prototype.c=function(c){this.NM=this.RM.indexOf(c);
this.dC()};function bX(c,o,K){ax.call(this);if(c==null)c=!1;if(o==null)o=!1;if(K==null)K=!1;this.ads=o;
this.Pw=null;this.Ii=new hg([12,22],K);this.Ii.parent=this;this.Ii.B(y.E.z,this.Ur,this);this.pU=new iW([22,0],[[22,4,0],[22,4,1]]);
this.pU.B(y.E.z,this.Ur,this);var u=c?fI:js;this.LU=new u([22,1],-100,100,"%");this.Im=new u("Horizontal Distortion:",-100,100,"%");
this.iU=new u("Vertical Distortion:",-100,100,"%");this.LU.parent=this.Im.parent=this.iU.parent=this;
this.LU.B(y.E.z,this.Ur,this);this.Im.B(y.E.z,this.Ur,this);this.iU.B(y.E.z,this.Ur,this)}bX.prototype=new ax;
bX.prototype._=function(){this.Ii._();this.pU._();this.LU._();var c=this.ads?1:100;this.Im.ro(iV.get([22,2]).substring(0,c)+":");
this.iU.ro(iV.get([22,3]).substring(0,c)+":")};bX.prototype.Ur=function(){var c=this.Pw,o=this.Ii.h(),K=c.warpStyle.v.warpStyle;
if(o=="warpCustom")a.Pw.ay(c,a.Pw.N1(c));else delete c.customEnvelopeWarp;c.warpStyle.v.warpStyle=this.Ii.h();
c.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.pU.h()];var u=this.LU.h();c.warpPerspective.v=this.Im.h();c.warpPerspectiveOther.v=this.iU.h();
if(o=="warpNone"||o=="warpCustom"){u=0;c.warpPerspective.v=0;c.warpPerspectiveOther.v=0}else if(K=="warpNone"||K=="warpCustom"||K=="warpCylinder")u=50;
if(o!="warpCylinder"){c.warpValue={t:"doub",v:u};delete c.warpValues}else{c.warpValues=r.W.yf([0,100,100,0,.15,.2,1]);
delete c.warpValue}this.I(new ev(y.E.z,!1));this.c(c)};bX.prototype.h=function(c){return JSON.parse(JSON.stringify(this.Pw))};
bX.prototype.c=function(c){this.Pw=JSON.parse(JSON.stringify(c));var o=c.warpStyle.v.warpStyle,K=o=="warpNone"||o=="warpCustom"||o=="warpCylinder";
this.Ii.c(o);if(!K){this.pU.c(c.warpRotate.v.Ornt=="Hrzn"?0:1);this.LU.c(c.warpValue.v);this.Im.c(c.warpPerspective.v);
this.iU.c(c.warpPerspectiveOther.v)}var u=[this.pU,this.LU,this.Im,this.iU];for(var Y=0;Y<u.length;Y++)if(K)u[Y].Lc();
else u[Y].R1()};function cY(c){ax.call(this);this.Qy={};this.n=S.t("div");this.Rh=c;this.tU=null;this.ky=new kn(0,0);
this.ap="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.Ti=null;this.oZ=new S.jI(this.n);
this.Sd("grab");this.xS=S.t("canvas","canv");this.n.appendChild(this.xS);this.i0=this.xS.getContext("2d",{willReadFrequently:!0});
this.att=null;this.rv=null;this.iO=null;this.pH=0;this.a2w=0;this.nF=0;this.MJ=0;this.aoU=this.aCz.bind(this);
this.aqU=null;this.Q=new ej({m:1,e:1});this.UP=null;this.OJ=null;this.sm=[];this.a4n=0;this.Fj=0;this.a1l=this.tT.bind(this);
this.ahq=this.Al.bind(this);this.arQ=this.cF.bind(this);this.ab1=this.yA.bind(this);this.a9M=0;this.Fh=null;
this.adO(this.xS);this.QA(this)}cY.prototype=new ax;cY.prototype.ak8=function(c){this.Qy=c;this.S0()};
cY.ev=function(c){var o=new d2(!0);if(c>=0)o.Ae("Space");if(c>=1){o.Ae("ControlLeft");if(c==2)o.Ae("AltLeft")}return o};
cY.prototype.y9=function(c){var o=this.Ti,K=null;if(c.N(d2.gO)){K="grab";if(c.N(d2.vm)){K="zoom-in";
if(c.N(d2.u6))K="zoom-out"}}this.tU=K;if(K)o=K;this.oZ.kX(o,this.ap);if(c.N(d2.vm)){var u=0;if(c.N(d2.v0))u=1;
if(c.N(d2.pS))u=-1;if(u!=0){this.Cm(new kn(this.xS.width/2,this.xS.height/2),u==1)}}};cY.prototype.Sd=function(c){this.Ti=c;
if(this.tU)return;this.oZ.kX(c,this.ap)};cY.prototype.adO=function(c){S.pI(c,this.a1l);S.Qf(c);c.addEventListener("wheel",this.ab1,!1)};
cY.prototype.QA=function(c){c.B("viewchange",this.a3z,this)};cY.prototype.a3z=function(c){var o=this.Q.U,K=c.currentTarget.xK();
this.Q.U=K.U;this.Q.p=K.p.clone();if(o!=K.U)this.ad();this.S0()};cY.prototype.xK=function(){return{U:this.Q.U,p:this.Q.p}};
cY.prototype.c=function(c,o,K,u){var X=c[0].yS;if(this.rv!=null&&this.rv[0].yS.Ug(X)){}else{this.Q.ff={m:X.m,e:X.e};
this.Q.U=1;this.Q.p=new kn(0,0)}this.rv=c;this.ad(u);this.in();this.pH=0;this.a2w=Date.now();this.nF=0;
this.MJ=o==null?0:o;if(K)this.Qy=K;this.aCz()};cY.prototype.yA=function(c){c.preventDefault();if(c.deltaY==0||Date.now()-this.a9M<100)return;
var o=S.$_(c);o.x=S.Sm()*o.x;o.y=S.Sm()*o.y;this.a9M=Date.now();this.Cm(o,c.deltaY<0)};cY.prototype.Cm=function(c,o){r.PN.cq(this.Q,c,o);
this.amr()};cY.prototype.Ez=function(c){var o=this.Q,K=o.ff;this.Q.U=r.PN.Nr(K.m,K.e,o.fE.m,o.fE.e);
if(c)this.Q.p=new kn(0,0);this.amr()};cY.prototype.amr=function(){this.ad();this.I(new ev("viewchange"));
this.I(new ev("zoom"))};cY.prototype.ad=function(c){var o=this.iO;this.iO=[];var K=this.Q.U;if(this.rv==null)return;
if(c){var u=a.x$(K),X=1;for(var $=0;$<u.length;$++)X*=u[$];var O=c.x,n=c.y,x=O+c.m,l=n+c.e;O=Math.floor(O/X)*X;
x=Math.ceil(x/X)*X;n=Math.floor(n/X)*X;l=Math.ceil(l/X)*X;c=new ez(O,n,x-O,l-n)}for(var Y=0;Y<this.rv.length;
Y++){var N=this.rv[Y],f=new Uint8Array(N.data),z;if(K>=1)z={PX:f,rect:N.yS};else{if(o&&o[Y]&&c){var R=a.R(c.P()*4);
a.Ui(f,N.yS,R,c);var V=a.n3(R,c,K),d=V.rect;d.x=Math.floor(d.x*K);d.y=Math.floor(d.y*K);z=o[Y];a.Ui(V.PX,V.rect,z.PX,z.rect)}else z=a.n3(f,N.yS,K)}this.iO[Y]=z}};
cY.prototype.in=function(){clearTimeout(this.aqU)};cY.prototype.S0=function(){if(this.rv==null||!S.Kt(this.xS))return;
var c=this.att,o=this.xS.width,K=this.xS.height,V,d;if(c==null||c.width!=o||c.height!=K){c=this.att=this.i0.createImageData(o,K);
console.log("creating image data")}var u=this.rv[this.pH],X=this.iO[this.pH],$=this.Q,O=$.ff,n=$.fE,x=n.m,l=n.e,N=O.m*$.U,f=O.e*$.U,z=Math.round((x-N)/2+$.p.x),R=Math.round((l-f)/2+$.p.y);
if($.U<=1){d=X.rect.clone();d.x=z;d.y=R;N=d.m;f=d.e;V=X.PX}else{var e=1/$.U,p=new ez(Math.floor((n.x-z)*e),Math.floor((n.y-R)*e),Math.ceil(n.m*e)+1,Math.ceil(n.e*e)+1),h=new ez(0,0,p.m*$.U,p.e*$.U);
h.x=p.x*$.U+z;h.y=p.y*$.U+R;if($.lN==null||$.lN.length!=p.P()*4){$.lN=a.R(p.P()*4)}if($.g9==null||$.g9.length!=h.P()*4){$.g9=a.R(h.P()*4)}a.ms($.lN,0);
a.Ui(X.PX,X.rect,$.lN,p);a.scale.VU($.lN,p.m,p.e,$.g9,h.m,h.e,$.U);V=$.g9;d=h}var E=new Uint8Array(c.data.buffer);
a.MY(E,x,l,8,-z,-R);a.a.hA("norm",V,d,E,n,n,1);var q=this.i0;q.setTransform(1,0,0,1,0,0);q.putImageData(c,0,0);
q.clearRect(z-4e3,R,4e3,f);q.clearRect(z+N,R,4e3,f);q.clearRect(z-4e3,R-4e3,N+8e3,4e3);q.clearRect(z-4e3,R+f,N+8e3,4e3);
var Z=cY.aoV($.U,"#ffffff");q.putImageData(Z,0,$.fE.e-Z.height);var v=this.Qy,$=this.Q;if(v){var W=fD.r_([.1,.5,1,1]),D=fD.r_([1,0,0,1]),I=fD.r_([1,1,1,1]),A=fD.r_([0,0,0,1]),U=$._X(!1);
U.fH();q.save();q.setTransform(U.V,U.J,U.If,U.gI,U.hW,U.qj);q.strokeStyle=D;if(v.ayK){fD.ai(v.ayK,null,q);
q.lineWidth=1/$.U;q.stroke()}q.strokeStyle=I;if(v.agt){fD.ai(v.agt,null,q);q.lineWidth=1/$.U;q.stroke();
q.strokeStyle=A;q.setLineDash([4/$.U,4/$.U]);q.stroke();q.setLineDash([])}q.strokeStyle=W;q.fillStyle=fD.r_([1,1,1,1]);
if(v.nO){fD.ai(v.nO,null,q);q.lineWidth=1/$.U;q.stroke()}if(v.vM){fD.YQ(v.vM,q,$,.5);q.lineWidth=2/$.U;
q.stroke();q.fill()}if(v.OE){q.font=16/$.U+"px sans-serif";var w=1/$.U;for(var Y=0;Y<v.OE.length;Y++){var t=v.OE[Y],L=t[0],J=t[1]+6/$.U,b=t[2];
q.fillStyle="black";q.fillText(b,L-w,J);q.fillText(b,L+w,J);q.fillStyle="white";q.fillText(b,L,J)}}q.restore()}q.getImageData(0,0,1,1)};
cY.asx="";cY.a62=null;cY.aoV=function(c,o,K,u){if(K==null){K=0;u=0}var X=K+" \xD7 "+u,$="z"+c+","+o+","+K+","+u;
if($==cY.asx)return cY.a62;var O=Math.round(50*S.Sm()),n=Math.round(18*S.Sm()),x=K==0?0:Math.round((X.length+2)*n*.35),l=S.t("canvas"),N=l.getContext("2d");
l.width=O+x;l.height=n;N.fillStyle="rgba(1,1,1,1)";N.fillRect(0,0,O,n);if(K!=0)N.fillRect(O+2,0,x,n);
N.font=Math.round(11*S.Sm())+"px monospace";N.fillStyle=o;var z=c*100;if(z<100)z=z.toFixed(2);else z=Math.round(z);
z=z+"%";var R=N.measureText(z).width;N.fillText(z,(O-R)/2,Math.round(n*.7));if(K!=0){var V=N.measureText(X).width;
N.fillText(X,O+(x-V)/2+1,Math.round(n*.7))}var d=N.getImageData(0,0,O+x,n);cY.asx=$;cY.a62=d;return d};
cY.prototype.aCz=function(){var c=this.rv,o=c.length,K=this.pH,u=this.rv[K],X=(K+1)%o;this.S0();var $=Date.now();
if(o!=1&&c[X].yS.Ug(u.yS)){var O=u.Xv?parseInt(u.Xv.split(",").pop()):30;if(O==0)O=16;if(X==0)this.nF++;
if(this.MJ==0||this.nF<this.MJ)this.aqU=setTimeout(this.aoU,O)}this.pH=X;this.a2w=$};cY.prototype._Q=function(c,o){if(c<=0||o<=0)return;
var K=Math.floor(c*S.Sm()),u=Math.floor(o*S.Sm());this.Q.fE=new ez(0,0,K,u);this.xS.width=K;this.xS.height=u;
this.xS.setAttribute("style","width:"+K/S.Sm()+"px; height:"+u/S.Sm()+"px; display:block;");this.S0()};
cY.prototype.C2=function(c){var o=-1,K=this.sm;for(var Y=0;Y<K.length;Y++)if(K[Y].pointerId==c.pointerId)o=Y;
return o};cY.prototype.tT=function(c){var o=this.C2(c),K=this.sm;if(o!=-1)K[o]=c;else K.push(c);if(K.length==1){this.Fh=c.target;
S.SQ(window,this.ahq);S.K1(window,this.arQ);this.UP=S.$_(c,this.xS);this.UP.x*=S.Sm();this.UP.y*=S.Sm();
this.ky=this.UP;this.OJ=this.Q.p.clone();if(this.Rh&&this.Fh==this.xS&&!this.tU)this.I(new ev("mousedown"))}else this.a4n=this.Fj=kn.je(S.$_(K[0],this.xS),S.$_(K[1],this.xS))};
cY.prototype.Al=function(c){var o=this.C2(c),K=this.sm;if(o!=-1)K[o]=c;var u=this.Q,X=this.tU,$=this.rv[this.pH].yS.clone();
$.m*=u.U;$.e*=u.U;var O=S.$_(c,this.xS);O.x*=S.Sm();O.y*=S.Sm();this.ky=O;if(this.Rh&&this.Fh==this.xS&&!X)this.I(new ev("mousemove"));
else if(X=="grab"||X==null){if(K.length>1){var n=S.$_(K[0],this.xS),x=S.$_(K[1],this.xS),l=new kn(S.Sm()*(n.x+x.x)/2,S.Sm()*(n.y+x.y)/2),N=kn.je(n,x),f=null;
if(N>this.Fj+50){this.Fj+=50;f=!0}if(N<this.Fj-50){this.Fj-=50;f=!1}if(f!=null)this.Cm(l,f);return}else{var z=O.x-this.UP.x,R=O.y-this.UP.y;
u.p.x=this.OJ.x+Math.round(z);u.p.y=this.OJ.y+Math.round(R)}this.I(new ev("viewchange"))}};cY.prototype.cF=function(c){var o=this.C2(c),K=this.sm;
K.splice(o,1);if(K.length==0){S.UU(window,this.ahq);S.Fo(window,this.arQ);var u=this.tU;if(c.detail>1){this.Q.U=1;
this.Q.p.Q7(0,0);this.S0()}if(this.Rh&&this.Fh==this.xS&&!this.tU)this.I(new ev("mouseup"));else{if(u=="zoom-in"||u=="zoom-out")this.Cm(this.ky,u=="zoom-in")}}else{var X=this.UP=S.$_(K[0],this.xS);
X.x*=S.Sm();X.y*=S.Sm()}};cY.prototype.Ch=function(c){var o=this.ky;if(c){o=S.$_(c,this.xS);o.x*=S.Sm();
o.y*=S.Sm()}return this.Q.FT(o.x,o.y)};function kF(){ax.call(this);this.pf=null;this.lO=null;this.J2=null;
this.vj=null;this.aA5="";this.Pr=[];this.sR=0;this.Y5=[];this.OM=0;this.RU=null;var c=this.n=S.t("div",""),o=this.aqI=S.t("div","form");
o.setAttribute("style","line-height:0; margin-bottom:0.5em;");c.appendChild(o);var K=this.Ju=S.t("span");
o.appendChild(K);K.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var u=this.apB=new fA([25,2,0]);
u.c(!0);o.appendChild(u.n);u.B(y.E.z,this.b6,this);var X=this.Cl=new fA([25,2,1]);X.c(!0);o.appendChild(X.n);
X.B(y.E.z,this.b6,this);var $=new dV(" ");o.appendChild($.n);var O=this.Nj=new fi([25,1,1]);o.appendChild(O.n);
O.B(y.E.z,this.b6,this);this.G9=new id(14);this.G9.aD0(3);o.appendChild(this.G9.n);this.G9.parent=this;
this.G9.B(y.E.z,this.ams,this);var n=this.a1r=new kz([25,1,2],null,null,!0);o.appendChild(n.n);n.B("click",this.a1,this);
var x=new kz("?",null,null,!0);o.appendChild(x.n);x.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.ap8=this.azG.bind(this);this.qE=S.t("div","svggallery scrollable");c.appendChild(this.qE);this.qE.addEventListener("scroll",this.atV.bind(this))}kF.prototype=new ax;
kF.prototype.VW=function(c){this.a7r=c};kF.prototype._=function(){this.Ju.textContent=iV.get([25,0]);
this.G9._();this.apB._();this.Cl._();this.Nj._();this.a1r._()};kF.prototype._Q=function(c,o){this.pf=new kn(c,o);
this.aqI.setAttribute("style","width:"+c+"px");var K=this.aqI.getBoundingClientRect();o-=K.height;this.qE.setAttribute("style","width:"+c+"px; height:"+o+"px");
if(S.Kt(this.n))this.b6()};kF.prototype.c=function(c){this.lO=c;this.b6()};kF.prototype.atV=function(c){var o=this.qE;
if(o.scrollTop+o.clientHeight+10>=o.scrollHeight){this.b6(!0)}};kF.prototype.ams=function(c){this.J2=null;
this.b6()};kF.prototype.azG=function(c){if(Date.now()-this.OM<2e3)return;this.OM=Date.now();this.sR=this.Y5.indexOf(c.currentTarget);
var o=this.e7(this.lO.x,this.lO.y);if(o[1]){var K=o[1].largeImageURL,u=new XMLHttpRequest;u.responseType="arraybuffer";
u.open("GET",K,!0);u.onload=this.aox.bind(this);u.send();return}this.aej(o)};kF.prototype.aox=function(c){var o=c.target.response,K=c5.c5(o),u=c5.nq(K),X=u.gP(o),$=this.e7(this.lO.x,this.lO.y,[o,X[0].yS.m,X[0].yS.e]);
this.aej($)};kF.prototype.aej=function(c){var o=c[0],K=c5.c5(o),u=c5.nq(K),X=new h_("template.psd");
u.gP(o,X);var $=new ev("tempready",!0);$.data={ff:X};this.I($)};kF.prototype.a1=function(c){var o=c.target;
this.Pr=[];this.J2=null;this.b6()};kF.prototype.aqo=function(c){var o=JSON.parse(c.target.response),K=this.vj=o.hits;
for(var Y=0;Y<K.length;Y++)if(K[Y].user_id==6314823)K.splice(Y,1);this.b6()};kF.prototype.b6=function(c){if(this.lO==null||this.pf==null||this.a7r==null)return;
if(this.pf.x<=0)return;var o=this.lO.x,K=this.lO.y;if(Math.min(o,K)<50)return;if(c!=!0){this.Y5=[];S._a(this.qE);
this.qE.scrollTop=0}if(this.Y5.length>300)return;var u=Math.min(1,300/Math.max(o,K)),X=this.pf.clone();
X.x-=20;var $=Math.max(1,Math.floor(X.x/(o*u))),O=Math.max(1,Math.ceil(X.y/(K*u)));u=X.x/$/o;var n=$*O;
if(this.J2==null){var x=this.a7r.ru.Ar(),l=[];for(var N in x){var f=x[N],z=f[3];if(!this.G9._3(f))continue;
if(f[5]==null||f[5].slice(0,2)=="gf")continue;l.push(f)}if(l.length==0)l.push(x.DejaVuSans);var R=l.length;
for(var Y=0;Y<R*10;Y++){var V=Math.floor(Math.random()*R),d=Math.floor(Math.random()*R),e=l[V];l[V]=l[d];
l[d]=e}l=l.slice(0,10);this.J2=l}var p=this.Cl.h(),h=this.Nj.h().trim();this.Nj.WR(p);if(p&&(this.vj==null||h!=this.aA5)){var E=new XMLHttpRequest,q="https://pixabay.com/api/?image_type=photo"+(h==""?"":"&q="+encodeURIComponent(h))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(h=="")q="plugins/gallery.json";E.open("GET",q,!0);E.onload=this.aqo.bind(this);E.onerror=function(A){console.log(A.target.response)};
E.send();this.aA5=h;return}u*=(o*u-5)/(o*u);var Z=this.Y5.length;for(var Y=0;Y<n;Y++){var v=this.sR=Z+Y;
if(this.Pr[v]==null)this.Pr[v]=Math.floor(Math.random()*4294967295);var W=this.e7(Math.round(o*u),Math.round(K*u)),D=W[0];
D=_.AF(new Uint8Array(D));var I=S.t("span");I.innerHTML=D;this.Y5.push(I);this.qE.appendChild(I);I.addEventListener("click",this.ap8,!1)}};
kF.prototype.e7=function(c,o,K){var u=this.Cl.h(),X=this.apB.h(),$=u&&this.vj.length!=0?this.vj:null;
if(X&&!u)$=null;if(X&&u&&(this.sR&1)==0)$=null;return c$.YP(c,o,this.Pr[this.sR],this.J2,K?K:$)};function ip(){ax.call(this);
this.n=S.t("div");this.nM=null;this.aer=null;this.xe=-1;this.cW={JPG:[{nY:new js([12,52,0],0,100,"%",null,null,!0),DQ:70},{nY:new fA("attach metadata"),DQ:!1}],TIFF:[{nY:new fA("attach metadata"),DQ:!1}],WEBP:[{nY:new js([12,52,0],0,100,"%",null,null,!0),DQ:70},{nY:new fA("attach metadata"),DQ:!1}],GIF:[{nY:new js([12,52,0],0,100,"%",null,null,!0),DQ:100},{nY:new fA([12,23,3]),DQ:!1}],PNG:[{nY:new js([12,52,0],0,100,"%",null,null,!0),DQ:100},{nY:new fA("don't use palettes"),DQ:!1}],BMP:[{nY:new fA("don't use palettes"),DQ:!1}],PDF:[{nY:new fi([12,52,1]),DQ:""},{nY:new js([12,52,0],0,100,"%",null,null,!0),DQ:100},{nY:new fA("reverse pages"),DQ:!1},{nY:new fA("rasterize all"),DQ:!1},{nY:new fA("vectorize text"),DQ:!1},{nY:new js("Add Margin",0,5,"in",2),DQ:0},{nY:new fA("add crop marks"),DQ:!1}],EMF:[{nY:new fi([12,52,1]),DQ:""},{nY:new js([12,52,0],0,100,"%",null,null,!0),DQ:100},{nY:new fA("reverse pages"),DQ:!1},{nY:new fA("rasterize all"),DQ:!1},{nY:new fA("vectorize text"),DQ:!1},{nY:new js("Add Margin",0,5,"in",2),DQ:0}],SVG:[{nY:new fA("add raster graphics"),DQ:!0},{nY:new fA("add hidden layers"),DQ:!1},{nY:new fA("vectorize text"),DQ:!1},{nY:new fA("rasterize text"),DQ:!1},{nY:new fA("minify"),DQ:!1}],RAW:[{nY:new hE([12,72],["1","3","4"]),DQ:2},{nY:new hE([12,34],["8 Bits","16 Bits"]),DQ:0},{nY:new hE("Byte Order",["12-34","34-12"]),DQ:0}],DDS:[{nY:new iW("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),DQ:0},{nY:new fA("Add Mipmaps"),DQ:!0}],MP4:[{nY:new js([12,52,0],0,100,"%",null,null,!0),DQ:50}],anim:[{nY:new js("Speed",10,1e3,"%",null,!0,!0),DQ:100},{nY:new fI("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),DQ:0},{nY:new fA("reverse frames"),DQ:!1},{nY:new fA("boomerang"),DQ:!1}],slcs:[{nY:new fA([8,11,0]),DQ:!0}],artb:[{nY:new fA([1,16,1]),DQ:!0}],hicc:[{nY:new fA("convert to sRGB"),DQ:!0}]};
for(var c in this.cW){var o=this.cW[c];for(var Y=0;Y<o.length;Y++){o[Y].nY.c(o[Y].DQ);o[Y].nY.B(y.E.z,this.b3,this)}}}ip.prototype=new ax;
ip.prototype.a4s=function(){this.xe=-1};ip.prototype._=function(){for(var c in this.cW)for(var Y=0;Y<this.cW[c].length;
Y++)this.cW[c][Y].nY._()};ip.prototype.b3=function(){this.b6();this.I(new ev(y.E.z,!1))};ip.prototype.b6=function(){var c=this.nM,o=c[0],K=c[1],u=c[2],X=c[3],$=c[4],O=this.cW[o];
if(O==null)O=[];else O=O.slice(0);if(K)O=O.concat(this.cW.anim);if(["GIF","PNG","JPG"].indexOf(o)!=-1&&u)O=O.concat(this.cW.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(o)!=-1&&X)O=O.concat(this.cW.artb);if($)O=O.concat(this.cW.hicc);
var n=c.join(",");if(n!=this.xe){this.xe=n;S._a(this.n);for(var Y=0;Y<O.length;Y++){if(o=="PDF"&&!X&&(Y==0||Y==2))continue;
this.n.appendChild(O[Y].nY.n);S.jR(this.n)}}var x=this.aer=[];for(var Y=0;Y<O.length;Y++)x.push(O[Y].nY.h())};
ip.prototype.kz=function(c,o,K,u,X){this.nM=[c,o,K,u,X];this.b6()};ip.prototype.h=function(){return this.aer.slice(0)};
ip.prototype.c=function(c,o){var K=this.nM,u=K[0],X=this.cW[u],$=Math.min(X.length,c.length);for(var Y=0;
Y<$;Y++)X[Y].nY.c(c[Y]);this.b6();if(o!=!0)this.b3()};function iG(){ax.call(this);this.n=S.t("span","fitem");
this.qe=!1;this.ik=new kz("No",!1,"Cancel");this.UQ=new kz("Yes",!1,"Confirm");this.n.appendChild(this.ik.n);
this.n.appendChild(this.UQ.n);this.ik.B("click",this.fh,this);this.UQ.B("click",this.fh,this);this._()}iG.prototype=new ax;
iG.prototype._=function(){this.ik.ro(S.RD("cross",null,"autoscale"));this.UQ.ro(S.RD("checkmark",null,"autoscale"))};
iG.prototype.fh=function(c){this.qe=c.target==this.UQ;this.I(new UIEvent("click"))};iG.prototype.h=function(){return this.qe};
function i4(c){ax.call(this);this.n=S.t("span","fitem");this.tc=new kz("\u25BC",null,"Auto Options",!0);
S.pI(this.tc.n,this.azO.bind(this));this.n.appendChild(this.tc.n);this.xv=new kz("Auto",null,null,!0);
this.xv.B("click",this.dY,this);this.n.appendChild(this.xv.n);this.ep=new aN("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.ep.B(y.E.z,this.dY,this);this.ep.c([!1,!1,!1,!0]);this.IP=new ax;var o=this.IP.n=S.t("div","floatcont form");
o.setAttribute("style","width: 250px;");this.IP.parent=this;o.appendChild(this.ep.n);this.UT=[];for(var Y=0;
Y<2;Y++){var K=new fI((Y==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);K.c(.1);K.B(y.E.z,this.dY,this);
this.UT.push(K);o.appendChild(K.n)}}i4.prototype=new ax;i4.prototype.dY=function(c){this.I(new ev(y.E.z,!1))};
i4.prototype._=function(){};i4.prototype.h=function(){return[this.ep.h().indexOf(!0),this.UT[0].h(),this.UT[1].h()]};
i4.prototype.azO=function(c){if(S.Kt(this.IP.n))return;c.stopPropagation();var o=this.tc.n.getBoundingClientRect(),K=new ev(y.E.M,!0);
K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height+4};this.I(K)};function f2(){ax.call(this);var c=this.n=S.t("div","fitem");
this.iw=new iW([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.iw.B(y.E.z,this.oR,this);c.appendChild(this.iw.n);
this.TZ=new hv(!1);this.TZ.parent=this;this.TZ.fV(16777215);this.TZ.B(y.E.z,this.oR,this);c.appendChild(this.TZ.n)}f2.prototype=new ax;
f2.prototype._=function(){this.iw._();this.TZ._()};f2.prototype.aoy=function(c){var o=[c.artboardBackgroundType.v-1];
if(c.Clr)o.push(c.Clr.v);this.c(o)};f2.prototype.apt=function(){var c=this.h();return{classID:"artboard",Clr:{t:"Objc",v:c[1]},artboardBackgroundType:{t:"long",v:c[0]+1}}};
f2.prototype.c=function(c){this.iw.c(c[0]);if(c[1])this.TZ.c(c[1])};f2.prototype.h=function(){return[this.iw.h(),this.TZ.h()]};
f2.prototype.oR=function(c){if(c.target==this.TZ)this.iw.c(3);this.I(new ev(y.E.z,!1))};function eH(c){ax.call(this);
this.SG=c;this.QR=0;this.axj=!1;this.hL=c?new eH.W3:null;this.n=S.t("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.jZ=S.t("div");this.n.appendChild(this.jZ);this.xN=S.t("div");this.n.appendChild(this.xN);this.z7=[];
var o=Storage.list.length;if(c)o=o+1+eH.WU.length;var K=this.iz.bind(this);for(var Y=0;Y<o;Y++){var u=S.t("div");
this.z7.push(u);this.jZ.appendChild(u);u.addEventListener("click",K,!1)}this.iz(null,0)}eH.prototype=new ax;
eH.AY=[];eH.CU=function(c){eH.AY.push(c);c.gd()};eH.ns=function(){var c=eH.AY;c.pop();c[c.length-1].gd()};
eH.prototype.gd=function(){console.log(this.QR);this.iz(null,this.QR)};eH.prototype.VW=function(c,o){if(!c.wO&&!this.axj){var K=this.SG?2:1;
for(var Y=K;Y<this.z7.length;Y++)this.jZ.removeChild(this.z7[Y]);this.axj=!0;if(this.SG)this.hL.VW(c,o)}if(this.Ja)this.Ja.VW(c,o)};
eH.prototype._=function(){if(this.SG)this.hL._();if(this.Ja)this.Ja._()};eH.prototype.iz=function(c,o){var K=this.z7,u;
if(o==null)o=K.indexOf(c.currentTarget);this.QR=o;for(var Y=0;Y<K.length;Y++)S.MG(K[Y],"active");S.SZ(K[o],"active");
if(this.SG)o--;S._a(this.xN);var X=Storage.list.length;if(o==-1)u=this.hL;else if(o<X)u=Storage.zn(o);
else{var $=eH.WU[o-X];u=new eH.z6($[1])}this.Ja=u;u.parent=this;this.xN.appendChild(u.n);this._Q(this.Oc,this.s_);
this._()};eH.prototype._Q=function(c,o){this.Oc=c;this.s_=o;var K=c<850,u=K?50:200,X=Storage.list;if(this.SG)X=[["Home",null,"strg/home"]].concat(X.concat(eH.WU));
for(var Y=0;Y<X.length;Y++){var $=this.z7[Y],O="padding: 8px "+(K?13:36)+"px; cursor:pointer;";$.setAttribute("style",O);
var n=X[Y][2],x=n.indexOf(".")!=-1;n=x?n:PIMG[n];$.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\""+(x?"":"gsicon")+"\" src=\""+n+"\" /> "+(K?"":X[Y][0])}this.n.style.width=c+"px";
this.n.style.height=o+"px";this.jZ.style.width=u+"px";this.jZ.style.paddingTop="32px";if(this.Ja)this.Ja._Q(c-u,o)};
eH.WU=[["Design contest","code/storages/wows.html","img/wows_logo.png",!0,"Join the contenst!",1686144664]];
for(var Y=0;Y<eH.WU.length;Y++)if(eH.WU[Y][5]*1e3<Date.now()){eH.WU.splice(Y,1);Y--}eH.W3=function(){this.el=null;
var c=this.n=S.t("div");c.style.background="var(--bg-canvas)";var o=this.Aw=S.t("div");c.appendChild(o);
var K=S.t("style");c.appendChild(K);K.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var Y=0;Y<2;Y++){var u=S.t("div"),K="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";o.appendChild(u);
if(Y==0)K+="padding: 12px 0px";if(Y==1)K+="position:absolute;  bottom:0;";u.setAttribute("style",K);
var X=S.t("img");u.appendChild(X);X.setAttribute("src",PIMG[Y==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(Y==0)this.Hq=X;else this.axn=X;if(Y==0)this.a4v=u;else this.ad_=u}this.z7=[];K="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var $=this.VJ.bind(this),O=S.t("div");o.appendChild(O);O.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var Y=0;Y<4;Y++){var n=S.t("span","bhover");this.z7.push(n);n.setAttribute("style",K+"cursor:pointer; padding:12px;");
n.addEventListener("click",$,!1);O.appendChild(n)}S.jR(o);var u=S.t("div");u.setAttribute("style",K+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
u.textContent="Drop any files here";o.appendChild(u);this.xS=S.t("canvas");this.xS.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.i0=this.xS.getContext("2d");this.a3q=a.R(4);c.appendChild(this.xS);var x=new Date().getDate(),l=new Date().getMonth();
if(l==11&&x>20||l==0&&x<10){var N=Math.random()<.5,f={Z:255,r:255,J:255};if(!N){f=a.$Y(Math.random(),Math.random()*.7,1);
f.Z*=255;f.r*=255;f.J*=255}this.a7=[Math.round(1048575*Math.random()),N?.05:.02,Math.round(4+Math.random()*8),1,N?3:15,f,0,!0,N,N?1:.2,3];
this.akW=N?.1:.2;this.ps=this.e1.bind(this);window.requestAnimationFrame(this.ps)}};eH.W3.prototype=new ax;
eH.W3.prototype.e1=function(){window.requestAnimationFrame(this.ps);if(!S.Kt(this.n))return;var c=this.a3q,o=this.xS,K=this.i0,u=o.width,X=o.height;
this.a7[6]=Date.now()*.001*this.akW;a.f5.Cb(c,u,X,this.a7,!0);K.putImageData(new ImageData(new Uint8ClampedArray(c.buffer),u,X),0,0)};
eH.W3.prototype.VJ=function(c){var Y=this.z7.indexOf(c.currentTarget),o=new ev(y.E.M,!0);if(Y==0)o.data={Y:y.H.Vl,n9:"newproject"};
if(Y==1)o.data={Y:y.H.Rk};if(Y==2)o.data={Y:y.H.Vl,n9:"res0"};if(Y==3)o.data={Y:y.H.Yz};this.I(o)};eH.W3.prototype._=function(){var c=this.z7,o=[[11,7],[1,6],[25,0],[0,17,6]],K=["\u2605","\uD83E\uDC7F","\u25A3"],K=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var Y=0;Y<c.length;Y++)c[Y].innerHTML="<span style=\"vertical-align:middle\">"+S.RD(K[Y],null,"autoscale")+"</span>\u2000"+iV.get(o[Y]);
var u="l"+"o"+"g"+"o",X=u+"_"+["pp","vp"][gN],$=new Date;if($.getMonth()==3&&$.getDate()==1)X="lo"+"go_cuc"+"umber";
if(PIMG[u])X=u;this.Hq.setAttribute("src",PIMG[X]);this.axn.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
eH.W3.prototype._Q=function(c,o){var K=Math.min(o*1.5,Math.min(c,600));S.qI(this.xS,c,K*.26);var u=this.xS.width,X=this.xS.height;
this.a3q=a.R(u*X*4);this.n.style.width=c+"px";this.n.style.height=o+"px";this.ad_.style.width=c+"px";
this.Aw.style.marginLeft=Math.max(0,Math.round((c+200-600)/2)-200)+"px";this.Hq.style.width=K+"px";this.axn.style.width=K+"px"};
eH.W3.prototype.VW=function(c,o){var K=c;if(c==null)c=this.RU;this.RU=c;if(!c.wO&&this.z7[2].parent){this.Aw.removeChild(this.z7[2]);
this.Aw.removeChild(this.z7[3])}this.z7[3].style.display=c.NJ?"inline-block":"none";if(K)this.el=setTimeout(this.VW.bind(this),100)};
eH.z6=function(c){var o=this.n=S.t("iframe");o.style.background="var(--bg-canvas)";o.setAttribute("src",c)};
eH.z6.prototype=new ax;eH.z6.prototype._Q=function(c,o){var K=this.n;K.style.width=c+"px";K.style.height=o+"px"};
eH.z6.prototype.VW=function(){};function Storage(c){ax.call(this);var o=this.n=S.t("div","storage");
S.E0(o);o.addEventListener("drop",this.am$.bind(this),!1);var K=this.a60=S.t("style");o.appendChild(K);
o.setAttribute("tabindex","0");o.style.outline="none";o.addEventListener("keydown",this.aBz.bind(this),!1);
this.O4=this.a1b.bind(this);this.Ky=0;this.nJ=0;var u=S.t("div");o.appendChild(u);var X=this.a6w.bind(this);
this.V$=S.t("div","bar");u.appendChild(this.V$);this.LE=S.t("div","fls scrollable");u.appendChild(this.LE);
this.e0=S.t("div");u.appendChild(this.e0);this.e0.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.KF=S.t("div","bar");this.KF.textContent="Name: ";var $=this.Sj=S.t("input");$.setAttribute("type","text");
this.KF.appendChild($);var O=this.Da=S.t("div","btn");O.textContent="Save";this.KF.appendChild(O);S.K1(O,X);
S.pI(this.LE,this.O4);this.uH=0;this.nZ=c;var n=this.abB.bind(this),x=this.azF=S.t("div");x.setAttribute("style","text-align:center; font-size:1.6em");
var l=S.t("img");x.appendChild(l);S.jR(x);l.setAttribute("src",PIMG[Storage.list[this.nZ][2]]);l.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
S.K1(l,n);this.sp=S.t("div","btn");x.appendChild(this.sp);S.K1(this.sp,n);this.co=new jf([{name:[6,20]},{name:[5,2],rh:[d2.vm,d2._x],w:function(){return{w:Storage.H8!=null}}}]);
this.co.parent=this;this.co.B("select",this.sB,this);this.LE.addEventListener("contextmenu",this.O4);
this.aw_=S.t("span");this.h5=S.t("span");this.h5.setAttribute("style","position:absolute; right:0; top:5px;");
this.Oy=[];this.JU=[];for(var Y=0;Y<3;Y++){var N=S.t("div","btn");this.Oy.push(N);this.aw_.appendChild(N);
S.K1(N,X);N.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][Y]}for(var Y=0;Y<5;Y++){var N=S.t("div","btn");
this.JU.push(N);this.h5.appendChild(N);S.K1(N,X)}window.addEventListener("message",this.a3Y.bind(this),!1);
this.ari=!1;this.y4=0;setInterval(this.amf.bind(this),300);this.Ed();var f=this.aCN=document.createElement("input");
f.setAttribute("type","file");f.addEventListener("change",this.am$.bind(this),!1);document.body.appendChild(f);
f.setAttribute("style","display:none");f.setAttribute("multiple","")}Storage.prototype=new ax;Storage.BW=!1;
Storage.prototype.am$=function(c){c.stopPropagation();c.preventDefault();var o=c.dataTransfer?c.dataTransfer.files:c.target.files;
this.auZ=o.length;Storage.H8={};for(var Y=0;Y<o.length;Y++){var K=o[Y],u=new FileReader;u.VF=K;u.onload=this.ajW.bind(this);
u.readAsArrayBuffer(K)}};Storage.prototype.ajW=function(c){var o=Storage.H8;o[c.target.VF.name]=c.target.result;
this.auZ--;if(this.auZ==0)this.Vq()};Storage.prototype.VW=function(c,o){var K=Storage.list[this.nZ][3],u=ar.Co();
if(K){if(this.y4==1&&S.Kt(this.n)&&u!=null){this.Ed()}if(this.y4==2&&u==null){this.By("forget","")}}};
Storage.prototype.amf=function(){var c=S.Kt(this.n),o=this.ari;if(c&&!o){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!c&&o){window.onpopstate=function(){};history.go(-1)}this.ari=c};
Storage.prototype.Ed=function(){if(this.BI)document.body.removeChild(this.BI);this.sL=[[]];this.DW=0;
this.a7H={"/":[]};this.ao$="";this.eN=null;this.wU=[];this.cY=[];this.at3=[];this.aeC=null;var c="code/storages/"+Storage.list[this.nZ][1],o=this.BI=S.t("iframe");
o.setAttribute("src",c);o.setAttribute("style","display:none");document.body.appendChild(o)};Storage.prototype.jU=function(){return this.a7H[this.HS()]};
Storage.prototype.IF=function(c){this.a7H[this.HS()]=c};Storage.zn=function(Y){var c=Storage.FY[Y];if(c==null)c=Storage.FY[Y]=new Storage(Y);
return c};Storage.FY=[];Storage.Yy=0;Storage.afs="";Storage.qZ=function(c,o){Storage.Yy=c;Storage.afs=o;
var K=Storage.FY;for(var Y=0;Y<K.length;Y++)if(K[Y])K[Y].gd()};Storage.adb=[500*(1<<20),5e3*(1<<20)];
Storage.Hd=0;Storage.cJ=2;Storage.zG=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.a7w=function(c){for(var Y=0;Y<Storage.FY.length;Y++){if(Storage.FY[Y]&&Storage.FY[Y].BI.contentWindow==c)return!0}return!1};
Storage.prototype.aBz=function(c){if(c.target.tagName=="INPUT")return;var o=d2;if(o.y3(c.code,o.UL)&&this.HS().length!=0)this.a3V();
else if(c.ctrlKey){if(o.y3(c.code,o.H)){var K=[];this.IF(K);for(var Y=0;Y<this.eN.length;Y++)K.push(Y);
this.Mv()}if(o.y3(c.code,o.y6))this.tZ(2);if(o.y3(c.code,o._x))this.Vq()}else if(o.y3(c.code,o.m8)){var u=this.jU();
if(u.length!=0)this.aaB(u[0])}else if(o.y3(c.code,o.Kf)){this.DW=Math.max(this.DW-1,0);this.GD()}else{var X=0;
for(var Y=65;Y<=90;Y++)if(c.code=="Key"+String.fromCharCode(Y))X=Y;if(X!=0){var $=String.fromCharCode(X).toLowerCase(),O=[],n=this.eN,x;
for(var Y=0;Y<n.length;Y++)if(n[Y][0][0].toLowerCase()==$)O.push(Y);if(O.length==0)return;var u=this.jU();
if(u.length==0)x=O[0];else{var l=O.indexOf(u[0]);if(l==-1){x=O[0];for(var Y=0;Y<O.length;Y++)if(O[Y]>u[0]){x=O[Y];
break}}else x=O[(l+1)%O.length]}this.IF([x]);this.Mv(!0)}}};Storage.prototype._Q=function(c,o){this.Oc=c;
this.s_=o;this.n.style.width=c+"px";this.n.style.height=o+"px";var K=c-30,u=Math.floor(K/230),K=Math.floor(K/u)-70;
this.a60.textContent=".storage .tile .name {  width:"+K+"px;  }";this.Sj.style.width=c-140+"px";this.LE.style.width=this.V$.style.width=c-20+"px";
this.LE.style.height=o-70-(Storage.Yy==0?0:45)+"px"};Storage.prototype.abB=function(){this.GD()};Storage.prototype.GD=function(){this.nJ=1;
this.By("show",this.HS())};Storage.prototype.HS=function(c){var o=this.sL[this.DW],K="/"+o.join("/");
if(c&&o.length!=0)K+="/";return K};Storage.prototype.a6w=function(c){var o=c.currentTarget,K=this.DW,u=this.Oy.indexOf(o),X=this.JU.indexOf(o);
if(u>=0&&!this.a0m(u))return;if(u==0){this.DW=Math.max(K-1,0);this.GD()}if(u==1){this.DW=Math.min(K+1,this.sL.length-1);
this.GD()}if(u==2){var $=this.sL[K+1]=this.sL[K].slice(0);$.pop();this.DW++;this.sL=this.sL.slice(0,this.DW+1);
this.GD()}if(X==0){var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.aCN.dispatchEvent(O)}if(X==1){Storage.Hd=(Storage.Hd+1)%2;this.gd()}if(X==2){Storage.cJ=(Storage.cJ+1)%3;
this.gd()}if(X==3){Storage.zG=(Storage.zG+1)%3;this.gd()}if(X==4){this.By("forget","")}if(o==this.Da){var n=this.Sj.value.trim(),x=this.eN,l=-1;
if(!n.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var Y=0;
Y<x.length;Y++)if(x[Y][0]==n)l=Y;if(l!=-1){this.W5("Do you really want to replace \""+n+"\"?",this.ai9.bind(this))}else this.ai9()}};
Storage.prototype.ai9=function(){var c=this.Sj.value.trim(),o=[this.nZ,this.HS(!0)+c];this.PV({Y:y.H.au7,$s:o});
this.I(new ev("canclose",!0))};Storage.prototype.Vq=function(){if(Storage.H8==null)return;this.PV({Y:y.H.SB,g3:iV.get("Uploading ...")});
this.Ky=4;dU.zn(2,this.BI,[this.HS(),Storage.H8,this.eN],null,this.arz.bind(this))};Storage.prototype.arz=function(c){this.Ky=0;
this.PV({Y:y.H._E,g3:iV.get("Uploading ...")});this.GD()};Storage.prototype.sB=function(c){var o=c.target.rC();
if(c.target==this.co){if(o[0]==0){var K=[iV.get([6,20]),-1,0];this.eN.push(K);this.gd();var Y=this.eN.indexOf(K),u=this.wU[Y].querySelector(".name");
console.log(u);var X=new cs.Fg(u,function(f){this.PV({Y:y.H.SB,g3:iV.get([1,2])+" ..."});var z=this.HS(!0)+f+"/";
console.log(z);this.By("save",z)}.bind(this),!0)}else this.Vq()}else{if(o[0]==0){this.tZ(2)}else if(o[0]==1){var Y=this.jU()[0],$=this.eN[Y],u=this.wU[Y].querySelector(".name");
console.log(u);u.innerHTML=$[0];var X=new cs.Fg(u,function(f){f=f.trim();var z=this.eN;for(var Y=0;Y<z.length;
Y++)if(z[Y][0]==f){alert("Item with such name already exists.");this.gd();return}var R=this.HS(!0)+$[0]+":"+f;
console.log(R);this.By("rename",R)}.bind(this))}else if(o[0]==2){this.tZ(3)}else if(o[0]==3)this.a3V();
else if(o[0]==4){this.tZ(1)}else{var O=this.eN[this.jU()[0]],n=Storage.Zj(O),x=n[o[1]],l=x[0],N=this.tw().pop()[1];
if(Storage.ak9(O,l)!=-1){this.By("share",N+":"+l+":-1");alert("Unshared.")}else{this.By("share",N+":"+l+":"+o[2]);
alert("Shared.")}}}};Storage.ak9=function(c,o){var K=c[4];if(K==null)return-1;if(K.indexOf(o+":0")!=-1)return 0;
if(K.indexOf(o+":1")!=-1)return 1;return-1};Storage.prototype.a3V=function(){var c=this.jU();this.W5("Do you really want to delete "+(c.length==1?"\""+this.eN[c[0]][0]+"\"":"these files")+"?",this.Fs.bind(this))};
Storage.prototype.W5=function(c,o){var K={Y:y.H.Vl,n9:"confirm",b:c,vu:o};this.PV(K)};Storage.prototype.tZ=function(c){this.Ky=c;
if(1<c)this.PV({Y:y.H.SB,g3:iV.get("Downloading ...")});else this.PV({Y:y.H.SB,g3:iV.get("Getting info ...")});
dU.zn(0,this.BI,this.HS(),this.tw(!0),this.ayA.bind(this))};Storage.prototype.ayA=function(c){if(this.Ky==1){var o=0,K=0;
for(var u in c){var X=c[u];o+=X[1];K++}this.W5(K+" files, "+kl.c3(o)+" in total.",function(){});this.PV({Y:y.H._E,g3:iV.get("Getting info ...")});
this.Ky=0}if(1<this.Ky)dU.zn(1,this.BI,c,null,this.azz.bind(this))};Storage.prototype.azz=function(c){if(1<this.Ky){if(1<this.Ky)this.PV({Y:y.H._E,g3:iV.get("Downloading ...")});
var o={},K=this.HS(!0);for(var u in c)o[u.slice(K.length)]=c[u];if(this.Ky==2){Storage.H8=o;alert("Copied to a clipboard")}if(this.Ky==3){var X=Object.keys(c);
if(X.length==1)fn.save(c[X[0]].buffer,X[0].split("/").pop());else fn.save(UZIP.encode(o),K=="/"?"files.zip":this.HS().split("/").pop()+".zip")}}this.Ky=0};
Storage.H8=null;Storage.prototype.Fs=function(){this.PV({Y:y.H.SB,g3:iV.get([5,4])+" ..."});this.cY=this.tw();
this.gW()};Storage.prototype.gW=function(){if(this.cY.length==0){this.PV({Y:y.H._E,g3:iV.get([5,4])+" ..."});
this.IF([]);this.GD()}else this.By("delete",this.cY.pop()[1])};Storage.prototype.tw=function(c){var o=[],K=this.HS(!0),u=this.jU();
for(var Y=0;Y<u.length;Y++){var X=this.eN[u[Y]];if(c)o.push(X[0]);else o.push([this.nZ,K+X[0]])}return o};
Storage.prototype.By=function(c,o){S.SZ(this.n,"disabled");this.ao$=c;if(Storage.BW)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+c+"\", \"prm\": "+JSON.stringify(o)+"  }");
this.BI.contentWindow.postMessage("{\"code\": \""+c+"\", \"prm\": "+JSON.stringify(o)+"  }","*")};Storage.prototype.a3Y=function(c){if(c.source!=this.BI.contentWindow||this.Ky!=0)return;
S.MG(this.n,"disabled");if(typeof c.data=="string"){if(Storage.BW)console.log("==",Math.floor(Date.now()/1e3),c.data);
var o=JSON.parse(c.data),K=o.code,u=o.prm,X=this.ao$,$=Storage.list[this.nZ][3];if(K=="ready"){if($&&!u){var O=ar.Co();
console.log(O);var n=ar.nH(),x=n.acc;if(O==null){this.y4=1;alert("Log in to use this storage (press Account at the top).");
this.YT();return}var l=[],N=O.wantToJoin;for(var f in N)l.push(parseInt(f.slice(1)));var z=[],R=O.inTeams;
for(var Y=0;Y<R.length;Y++)z.push(R[Y][2]);var V={uid:O.id,limit:Storage.adb[ar.Is()?1:0],inTeams:z,myTeams:l};
V.secret=x&&x.pds?x.pds:"";this.By("login",V);return}if($)this.y4=2;if($&&o.secret){var n=ar.nH(),x=n.acc;
if(x==null)x=n.acc={};x.pds=o.secret;ar.rn(n)}if(u)this.GD();else this.YT()}else if(K!="0"){if(X=="save")this.PV({Y:y.H._E,g3:iV.get([1,2])+" ..."});
if(X=="delete")this.gW();alert(u);this.gd()}else if(X=="show"){this.nJ=0;this.eN=u;this.gd()}else if(X=="save"){this.nJ=0;
this.PV({Y:y.H._E,g3:iV.get([1,2])+" ..."});this.GD()}else if(X=="delete"){this.gW()}else if(X=="forget"){if($)this.YT();
else this.Ed()}else if(X=="rename"||X=="share"){this.GD()}else throw K}else{if(Storage.BW)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.PV({Y:y.H.aiT,$s:this.tw()[0],OQ:c.data});this.PV({Y:y.H._E,g3:"Opening ..."})}};Storage.prototype.YT=function(){S._a(this.V$);
S._a(this.LE);S._a(this.e0);this.LE.appendChild(this.azF)};Storage.prototype.a0m=function(Y){if(Y==0)return this.DW>0;
if(Y==1)return this.DW<this.sL.length-1;if(Y==2)return this.HS()!="/"};Storage.prototype.gd=function(){var c=Storage.list[this.nZ][3],o=this.eN,K=Storage.cJ,u=Storage.Hd,X=Storage.zG;
if(o==null)return;o.sort(function(t,L){var J=t[1]==-1?1:5,b=L[1]==-1?1:5,F=0;if(Math.min(J,b)==1&&J!=b)return J-b;
else if(J==1||K==0)F=t[0].toLowerCase()<L[0].toLowerCase()?-1:1;else if(K==1)F=t[1]-L[1];else if(K==2)F=t[2]-L[2];
if(u==1)F=-F;if(t[0]=="Shared")F=-1;if(L[0]=="Shared")F=1;return F});var $=this.LE,O=this.V$,n=this.sL[this.DW];
S._a($);S._a(O);this.wU=[];for(var Y=0;Y<3;Y++)if(this.a0m(Y))S.MG(this.Oy[Y],"disabled");else S.SZ(this.Oy[Y],"disabled");
O.appendChild(this.aw_);O.appendChild(this.h5);var x=S.t("span");x.textContent="/";O.appendChild(x);
for(var Y=0;Y<n.length;Y++){var x=S.t("span");x.textContent=n[Y];O.appendChild(x);var x=S.t("span");
x.textContent="/";O.appendChild(x)}var l=["tile","icon","litm"][X];for(var Y=0;Y<o.length;Y++){var N=o[Y],f=N[1]==-1,z=f?"":kl.c3(N[1]),R=S.t("div","cont "+l),W=!1;
$.appendChild(R);this.wU.push(R);R.setAttribute("title",N[0]+(f?"":"\nSize: "+z+"\nDate Modified: "+new Date(N[2]*1e3).toLocaleString().replaceAll(". ",".")));
var V=S.t("img");V.setAttribute("src",f?Storage.anJ:N[3]?N[3]:Storage.VF);if(!f&&N[3])V.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var d=S.t("span","name"),e=N[0];if(l=="icon"&&e.length>30)e=e.slice(0,24)+".."+e.slice(e.length-5);if(c&&n.length==1&&n[0]=="Shared"){var p=Storage.Zj(),h=parseInt(e.slice(5));
for(var E=0;E<p.length;E++)if(p[E][0]==h)e=p[E][1]}d.textContent=e;R.appendChild(V);R.appendChild(d);
if(l!="icon"&&!f){if(l=="tile")S.jR(d);var q=S.t("span");q.textContent=z;q.style.opacity="0.8";(l=="tile"?d:R).appendChild(q)}var Z=N[0].split("."),v=(Z.length==1?"":Z.pop()).toUpperCase();
if(c&&N[0]=="Shared"&&n.length==0){W=!0;v="\u21E7"}if(l!="litm"&&(!f&&N[3]==null||W)){var D=S.t("span","ext");
D.textContent=v;var I=Storage.Wv[v];D.style.backgroundColor=I?I:Storage.a0A(v);R.appendChild(D)}S.pI(R,this.O4);
R.addEventListener("contextmenu",this.O4)}this.Mv();var A=this.KF.parentNode!=null,U=Storage.Yy,w=this.n;
if(A&&U==0)w.removeChild(this.KF);if(!A&&U==1)w.appendChild(this.KF);this._Q(this.Oc,this.s_);this._()};
Storage.prototype.Mv=function(c){var o=this.wU,K=this.eN,u=this.jU(),X=!1,$=0;for(var Y=0;Y<o.length;
Y++){var O=K[Y],n=O[1]==-1,x=o[Y];if(Storage.Yy==1&&!n&&!O[0].toLowerCase().endsWith(".psd"))x.style.display="none";
else x.style.display="auto";if(u.indexOf(Y)==-1)S.MG(x,"active");else{if(n)X=!0;else $+=O[1];S.SZ(x,"active");
if(c)x.scrollIntoView({block:"center",behavior:"smooth"})}}var l=X?"":kl.c3($);this.e0.textContent=u.length==0?"":u.length+" item"+(u.length==1?"":"s")+" selected\u2001"+l;
this.Sj.value=u.length==1&&!X?K[u[0]][0]:Storage.afs};Storage.prototype.aaB=function(Y){var c=this.eN[Y];
if(c[1]==-1){var o=this.sL[this.DW].slice(0);o.push(c[0]);this.DW++;this.sL[this.DW]=o;this.sL=this.sL.slice(0,this.DW+1);
this.IF([]);this.GD()}else if(Storage.Yy==0){this.PV({Y:y.H.SB,g3:"Opening ..."});this.I(new ev("canclose",!0));
var K=this.HS(!0)+c[0];this.By("load",K)}};Storage.prototype._=function(){var c=Storage.cJ,o=Storage.Hd,K=Storage.zG;
this.JU[0].textContent="Upload";this.JU[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][o];this.JU[2].textContent=iV.get([[12,48],[12,14,0],"Date"][c]);
this.JU[3].textContent=iV.get(["Tiles","Icons",[25,3,1]][K]);this.JU[4].textContent="\u2716";this.sp.innerHTML=iV.get([[23,6],Storage.list[this.nZ][0]])+"<br/><small><small>"+Storage.list[this.nZ][4]+"</small></small>";
this.VW()};Storage.prototype.a1b=function(c){this.PV({Y:y.H.F0});if(S.Kt(this.azF))return;if(c.button==3||c.button==4){if(Date.now()-this.a61>50){var o=this.DW;
if(c.button==3)this.DW=Math.max(o-1,0);else this.DW=Math.min(o+1,this.sL.length-1);this.GD()}this.a61=Date.now();
return}c.stopPropagation();var Y=this.wU.indexOf(c.currentTarget);if(c.type=="contextmenu"){if(this.eN==null)return;
c.preventDefault();var K=this.co;if(Y!=-1){var u=[{name:[5,1],rh:[d2.vm,d2.y6]},{name:[6,37]},{name:"Download",ql:!0},{name:[5,4],rh:[d2.UL]},{name:[9,2]}];
if(Storage.list[this.nZ][3]){var X=this.eN[Y],$=Storage.Zj(X);if($.length!=0){var O=[];for(var n=0;n<$.length;
n++){var x=[],l=$[n],N=Storage.ak9(X,l[0]);if(N!=-1)x.push({name:"Unshare"});else x.push({name:"Allow Read"},{name:"Allow Read & Write"});
O.push({name:l[1]+[""," (R)"," (R,W)"][N+1],sub:x})}u.push({name:"Share With",sub:O})}}K=new jf(u);K.parent=this;
K.B("select",this.sB,this)}K.parent=this;K._();K.update();this.PV({Y:y.H.B2,KH:K,x:c.clientX+4,y:c.clientY});
return}var f=this.jU(),z=f.indexOf(Y);if(c.button!=0&&z!=-1)return;if(c.target==this.LE)this.IF([]);
else{if(c.ctrlKey){if(z==-1)f.push(Y);else f.splice(z,1)}else if(c.shiftKey&&f.length!=0){var n=f[0];
if(n<Y){var R=Y;Y=n;n=R}f=[];this.IF(f);for(var V=Y;V<=n;V++)f.push(V)}else{this.IF([Y]);if(Date.now()-this.uH<300&&f.length!=0&&f[0]==Y){this.aaB(Y);
this.uH=0}}}this.uH=Date.now();this.Mv()};Storage.prototype.PV=function(c){var o=new ev(y.E.M,!0);o.data=c;
this.I(o)};Storage.Zj=function(c){var o=[],K=[],u=ar.nH(),X=u.acc.tstart;if(X)for(var Y=0;Y<X.length;
Y++){o.push([X[Y][2],X[Y][0]]);K.push(X[Y][2])}var $=ar.Co();X=$.inTeams;if(X)for(var Y=0;Y<X.length;
Y++){o.push([X[Y][2],X[Y][0]]);K.push(X[Y][2])}if(c&&c[4]){for(var Y=0;Y<c[4].length;Y++){var O=parseInt(c[4][Y].split(":")[0]);
if(K.indexOf(O)==-1)o.push([O,"Team "+O])}}return o};Storage.prototype.a4l=function(c,o){if(this.nJ!=0)return 1;
this.nJ=2;this.PV({Y:y.H.SB,g3:iV.get([1,2])+" ..."});this.By("save",c);if(Storage.BW)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.BI.contentWindow.postMessage(o,"*")};Storage.Wv={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a0A=function(c){c=c.toLowerCase();
var o=0;for(var Y=0;Y<c.length;Y++)o+=c.charCodeAt(Y)*613<<8*Y;return"#"+a.On(o&16777215)};Storage.anJ="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.VF="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var dU=function(){var c,o,K,u,X,$,O,n;function x(R,V,d,e,p){o=V;u=e;O=p;c=R;$={};if(c==0){K=[d]}if(c==1){K=[];
for(var h in d)K.push(h)}if(c==2){var E=d[0],q=d[1],Z=d[2],v={};for(var Y=0;Y<Z.length;Y++)v[Z[Y][0]]=!0;
var W={};for(var h in q){var D=h.split("/"),I=D[0],A=I.split("."),U="";if(A.length!=1){U="."+A.pop();
I=A.join(".")}while(v[I+U])I+=" - Copy";D[0]=I+U;W[D.join("/")]=q[h]}var w={};K=[];for(var h in W){var D=h.split("/");
for(var Y=0;Y<D.length-1;Y++){var t=E+D.slice(0,Y+1).join("/")+"/";if(w[t]==null){w[t]=!0;K.push([t])}}var L=E.endsWith("/")||h.startsWith("/")?"":"/";
K.push([E+L+h,W[h]])}}window.addEventListener("message",N,!1);n=Date.now();l()}function l(){if(K.length==0){z();
return}X=K.shift();if(c==0)f("show",X);if(c==1)f("load",X);if(c==2){f("save",X[0]);if(X.length==2)o.contentWindow.postMessage(X[1],"*")}}function N(R){if(R.source!=o.contentWindow)return;
if(c==0){var V=JSON.parse(R.data),d=V.code,e=V.prm;for(var Y=0;Y<e.length;Y++){var p=e[Y];if(u&&u.indexOf(p[0])==-1)continue;
var h=X+(X=="/"?"":"/"),E=h+p[0];if(p[1]==-1)K.push(E);else $[E]=p}u=null}else if(c==1){$[X]=new Uint8Array(R.data)}l()}function f(R,V){var d=R=="show"?", \"nothumbs\": true":"",e="{\"code\": \""+R+"\", \"prm\": "+JSON.stringify(V)+d+"  }";
o.contentWindow.postMessage(e,"*")}function z(){console.log(Date.now()-n);window.removeEventListener("message",N,!1);
O($)}return{zn:x}}();function hr(c){ax.call(this);var o=this.n=S.t("div","form scrollable padded label12");
this.LP=c;this.oh=null;var K=[],u=hr.vO[c];this.sQ=[];for(var X in u){var $=parseInt(X.slice(1)),O=$%10==0?"":"\u2800\u2800- ";
K.push(O+u[X]);this.sQ.push($)}this.oa=[new fi("Name",null,30),new fi("Description",null,30,4),c==0?new fi("File"," www.Photopea.com#i...",17):new gY("File",!1,!1),new fi("Thumbnail URL","* Use Imgur.com etc.",17),new iW("Category",K),new fA("Make Public"),new kz("<< Back",null,null,!0),new kz("Save",null,null,!0)];
if(c==0)this.oa.push(new dV("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new dV("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(c==1)this.oa.push(new dV("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(c!=0)this.oa.push(new dV("Do not load any file to preserve the old version."));for(var Y=0;Y<this.oa.length;
Y++){var n=this.oa[Y];o.appendChild(n.n);n.parent=this;if(Y!=4&&Y!=6)S.jR(o);if(n instanceof kz)n.B("click",this.ajF,this);
if(c!=0&&Y==2)n.B(y.E.z,this.a79,this)}}hr.prototype=new ax;hr.prototype.a79=function(c){var o=this.oa[2],K=o.h(),u=Object.keys(K),X=K[u[0]].buffer,$=c5.c5(X),O=" json atn abr grd asl pat csh icc".split(" ")[this.LP];
if($!=O){alert("This is a wrong file"+($?" ("+$.toUpperCase()+")":"")+". You need to upload the "+O.toUpperCase()+" file.");
o.c({})}};hr.prototype.ajF=function(c){if(c.target==this.oa[6]){this.I(new ev("back"));return}var o=this.oa[3].h().trim(),K=o.startsWith("http")&&(o.endsWith(".jpeg")||o.endsWith(".jpg")||o.endsWith(".png")||o.endsWith(".gif"));
if(!K){alert("Thumbnail URL is incorrect.");return}var u=new XMLHttpRequest,X="mirror.php?url="+encodeURIComponent(o);
u.open("GET",X);u.responseType="arraybuffer";u.onload=this.avV.bind(this);u.send()};hr.prototype.avV=function(c){var o=c.target.response,K=o.byteLength;
if(K>2e5&&c5.c5(o)!="gif"){alert("Thumbnail is too large ("+kl.c3(K)+"). Make it under 200 kB.");return}var u=this.oa[2].h(),X=Object.keys(u);
if(this.LP!=0&&X.length==0&&(this.oh==null||this.oh.file==null||this.oh.file=="")){alert("You need to select a file.");
return}if(this.LP!=0&&X.length!=0){console.log(u);fn.nM.arn(u[X[0]].buffer,X[0],this.a9U.bind(this),"pp-resources");
return}this.a9U()};hr.prototype.a9U=function(c){var o=this.LP,K="name desc file thmb catg publ".split(" "),u=this.oh;
for(var Y=0;Y<6;Y++){if(o!=0&&Y==2)continue;var X=this.oa[Y].h();if(Y<=3){X=X.trim();if(X.length==0){alert("One of values is empty.");
return}}if(Y==2){var $=X.split("#i");if($.length!=2||$[1].length!=8){alert("File ID is incorrect.");
return}X=$.pop()}if(Y==4)X=this.sQ[X];u[K[Y]]=X}if(o!=0){if(c)u.file=c;else if(u.file==null){alert("Select a file from your computer.");
return}}if(u.utme.length==0)u.utme=""+Math.round(Date.now()/1e3);u.type=o;this.I(new ev("save"))};hr.prototype._=function(){};
hr.prototype.c=function(c){var o=this.oh=JSON.parse(JSON.stringify(c)),K=this.LP,u="name desc file thmb catg publ".split(" ");
for(var Y=0;Y<6;Y++){if(K!=0&&Y==2)continue;var X=o[u[Y]];if(X!=""&&Y==2)X="https://photopea.com#i"+X;
if(Y==4)X=this.sQ.indexOf(X);if(Y==5&&X==null)X=!0;this.oa[Y].c(X)}};hr.prototype.h=function(){return JSON.parse(JSON.stringify(this.oh))};
hr.vO=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function kc(c){ax.call(this);this.xc=c;this.n=S.t("div","");this.gS=[];this.cH=null;this.agr=[]}kc.prototype=new ax;
kc.prototype.L1=function(c){};kc.prototype.d0=function(){return!1};kc.prototype._Q=function(c,o){};kc.prototype.VW=function(c,o){};
kc.prototype.VC=function(c){};kc.prototype.c=function(c,o,K,u,X,$){var O=[],n=this.gS,x=0,l=gZ.Hn["s"+this.xc];
if(this.xc=="Dspl")this.gF(c,O,$);else l?l(c,O,$):this.gF(c,O,$);for(var Y=0;Y<n.length;Y++)if(!(n[Y]instanceof dV))n[Y].c(O[x++]);
if(c.RndS)this.cH=c.RndS.v};kc.prototype.h=function(){var c=gZ.ib(this.xc),o=[],K=this.gS,u=0;for(var Y=0;
Y<K.length;Y++)if(!(K[Y]instanceof dV))o[u++]=K[Y].h();var X=gZ.Hn["g"+this.xc];if(this.xc=="Dspl")this.H9(c,o);
else X?X(c,o):this.H9(c,o);if(c.RndS)c.RndS.v=this.cH;return c};kc.prototype.y9=function(c){};kc.prototype.Ur=function(c){if(c&&c.target instanceof kz){this.cH=Math.floor(Math.random()*4294967295)}var o=this.agr;
for(var Y=0;Y<o.length;Y+=2){var K=this.gS[o[Y]],u=this.gS[o[Y+1]],X=K.h(),$=u.h();if(c.target==K)u.c(Math.max(X,$));
else K.c(Math.min(X,$))}this.I(new ev(y.E.z))};kc.prototype._=function(){for(var Y=0;Y<this.gS.length;
Y++)this.gS[Y]._();var c=this.aDr;if(c)c._()};kc.prototype.HP=function(c){S.SZ(this.n,"form");var o=this.gS;
for(var Y=0;Y<o.length;Y++){var K=o[Y];K.parent=this;K.B(y.E.z,this.Ur,this);this.n.appendChild(K.n);
if(K instanceof fA&&o[Y+1]instanceof hv)continue;if(c&&c.indexOf(Y)!=-1)S.sv(this.n);else S.jR(this.n)}var u=gZ.ib(this.xc);
if(u.RndS){var X=this.aDr=new kz([25,1,2],null,null,!0);this.n.appendChild(X.n);X.B("click",this.Ur,this)}};
kc.prototype.P6=function(c){return!1};kc.prototype.Iq=function(){return!1};kc.prototype.x5=function(c,o,K,u,X){};
kc.prototype.Xo=function(c,o,K,u,X){};kc.prototype.v$=function(c,o,K,u,X){};kc.prototype.H9=function(c,o){};
kc.prototype.gF=function(c,o){};kc.prototype.xm=function(c){var o=c.target.h().indexOf(!0)!=-1,K=new ev(y.E.M,!0);
K.a2=!0;K.data={Y:o?y.H.VO:y.H.aq,f:r.$Z};this.I(K);K=new ev(y.E.v,!0);K.f=r.$Z;K.a2=!0;K.data={Y:"supertool",f:o?this:null};
this.I(K)};kc.a5c=function(c){c.Iq=function(){return!0};c.x5=function(o,K,u,X,$){this.b7=!0;this.a6Z(o,$)};
c.Xo=function(o,K,u,X,$){if(!this.b7)return;this.a6Z(o,$)};c.v$=function(o,K,u,X,$){this.b7=!1};c.a6Z=function(o,K){var u=new ez(0,0,o.m,o.e);
if(o.u)u=o.u.rect;var X=o.Q.FT(K.x,K.y);X.x-=u.x;X.y-=u.y;function $(O,n){return Math.round(Math.max(0,Math.min(100,100*O/n)))}this.gS[2].c($(X.x,u.m));
this.gS[3].c($(X.y,u.e));this.Ur()}};kc.Bokh=function(){kc.call(this,"Bokh");this.gS=[new iW("Depth Map",["A","b"]),new js("Focal Distance",0,255),new fA([4,11]),new iW([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new js([12,56],0,100),new js([12,15],0,360),new js([12,2],0,100),new js([4,13],0,255),new js([24,6],0,100),new hE([12,58],[[12,59,0],[12,59,1]]),new fA([12,60])];
this.HP([5,7])};kc.Bokh.prototype=new kc;kc.Bokh.prototype.gF=function(c,o,K){var u=[[22,5,0],[6,5,3],[6,2]],X=c.BkDi.v.BtDi,$=c.BkDc,O=0;
if(X=="BeIn")O=0;else if(X=="BeIt"&&$.v.BtDc=="BeCt")O=1;else if(X=="BeIt"&&$.v.BtDc=="BeCm")O=2;else O=3+$.v;
for(var Y=0;Y<K[1].length;Y++)u.push(K[1][Y].name);this.gS[0].e8(u,[3]);o[0]=O;o[1]=c.BkDp.v;o[2]=c.BkDs.v;
o[3]=parseInt(c.BkIs.v.BtIs.slice(3))-3;o[4]=c.BkIb.v;o[5]=c.BkIr.v;o[6]=c.BkSb.v;o[7]=c.BkSt.v;o[8]=c.BkNa.v;
o[9]=c.BkNt.v.BtNt=="BeNu"?0:1;o[10]=c.BkNm.v};kc.Bokh.prototype.H9=function(c,o){var K;if(o[0]==0){K="BeIn";
delete c.BkDc}else if(o[0]<3){K="BeIt";c.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][o[0]-1]}}}else{K="BeIa";
c.BkDc={t:"long",v:o[0]-3}}c.BkDi.v.BtDi=K;c.BkDp.v=o[1];c.BkDs.v=o[2];c.BkIs.v.BtIs="BeS"+(3+o[3]);
c.BkIb.v=o[4];c.BkIr.v=o[5];c.BkSb.v=o[6];c.BkSt.v=o[7];c.BkNa.v=o[8];c.BkNt.v.BtNt=["BeNu","BeNg"][o[9]];
c.BkNm.v=o[10]};kc.oilPaint=function(){kc.call(this,"oilPaint");this.gS=[new js([12,56],.1,10,"px",!0),new js("Cleanliness",0,10,"px",!0),new js([12,38],.1,10,null,!0),new js("Bristle Detail",0,10,null,!0),new fA("Lighting"),new js("Shine",0,10,null,!0),new iF([12,15])];
this.HP()};kc.oilPaint.prototype=new kc;kc.oilPaint.prototype.gF=function(c,o){var K="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<K.length;Y++)o[Y]=c[K[Y]].v;o[6]=[c.LghD.v]};kc.oilPaint.prototype.H9=function(c,o){var K="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<K.length;Y++)c[K[Y]].v=o[Y];c.LghD.v=o[6][0]};kc.TrcC=function(){kc.call(this,"TrcC");
this.gS=[new js("Level",0,255),new hE([12,69],[[19,4,1],[19,4,0]])];this.HP()};kc.TrcC.prototype=new kc;
kc.TrcC.prototype.gF=function(c,o){o[0]=c.Lvl.v;o[1]=["Lwr","Upr"].indexOf(c.Edg.v.CntE)};kc.TrcC.prototype.H9=function(c,o){c.Lvl.v=o[0];
c.Edg.v.CntE=["Lwr","Upr"][o[1]]};kc["Dfs "]=function(){kc.call(this,"Dfs ");this.gS=[new hE([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.HP()};kc["Dfs "].prototype=new kc;kc["Dfs "].prototype.gF=function(c,o){o[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(c.Md.v.DfsM)};
kc["Dfs "].prototype.H9=function(c,o){c.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][o[0]]};kc.Embs=function(){kc.call(this,"Embs");
this.gS=[new iF([12,15]),new js([12,42],1,100,"px"),new js([12,57],1,500,"%")];this.HP()};kc.Embs.prototype=new kc;
kc.Embs.prototype.gF=function(c,o){o[0]=[c.Angl.v];o[1]=c.Hght.v;o[2]=c.Amnt.v};kc.Embs.prototype.H9=function(c,o){c.Angl.v=o[0][0];
c.Hght.v=o[1];c.Amnt.v=o[2]};kc["Wnd "]=function(){kc.call(this,"Wnd ");this.gS=[new hE([12,32],["Wind","Blast","Stagger"]),new hE([12,33],["From the Right","From the Left"])];
this.HP()};kc["Wnd "].prototype=new kc;kc["Wnd "].prototype.gF=function(c,o){o[0]=["Wnd","Blst","Stgr"].indexOf(c.WndM.v.WndM);
o[1]=["Left","Rght"].indexOf(c.Drct.v.Drct)};kc["Wnd "].prototype.H9=function(c,o){c.WndM.v.WndM=["Wnd","Blst","Stgr"][o[0]];
c.Drct.v.Drct=["Left","Rght"][o[1]]};kc.denoise=function(){kc.call(this,"denoise");this.gS=[new js([12,64],0,10),new js([12,65],0,100,"%")];
this.HP()};kc.denoise.prototype=new kc;kc.denoise.prototype.gF=function(c,o){var K=c.channelDenoise.v[0].v;
o[0]=K.Amnt.v;o[1]=K.EdgF.v};kc.denoise.prototype.H9=function(c,o){var K=c.channelDenoise.v[0].v;K.Amnt.v=o[0];
K.EdgF.v=o[1]};kc.lightFilterGradient=function(){kc.call(this,"lightFilterGradient");this.gS=[new js([24,3,1],0,100,"px",1,!0),new js([12,38],0,200,"%"),new fA([4,11]),new js("High",0,100,"%"),new js("Medium",0,100,"%"),new js("Low",0,100,"%")];
this.HP()};kc.lightFilterGradient.prototype=new kc;kc.lightFilterGradient.prototype.gF=function(c,o){o[0]=c.blur.v;
o[1]=c.textureScale.v*100;o[2]=c.Scl.v==-1;var K=c.Dtl.v;o[3]=K[0].v*100;o[4]=K[1].v*100;o[5]=K[2].v*100};
kc.lightFilterGradient.prototype.H9=function(c,o){c.blur.v=o[0];c.textureScale.v=o[1]/100;c.Scl.v=o[2]?-1:1;
var K=c.Dtl.v;K[0].v=o[3]/100;K[1].v=o[4]/100;K[2].v=o[5]/100};kc.Fbrs=function(){kc.call(this,"Fbrs");
this.gS=[new js("Variance",1,64),new js([12,64],1,64)];this.HP()};kc.Fbrs.prototype=new kc;kc.Fbrs.prototype.gF=function(c,o){o[0]=c.Vrnc.v;
o[1]=c.Strg.v};kc.Fbrs.prototype.H9=function(c,o){c.Vrnc.v=o[0];c.Strg.v=o[1]};kc.LnsF=function(){kc.call(this,"LnsF");
this.gS=[new js([12,2],10,300,"%"),new hE([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new js("Position X",0,100,"%"),new js("Position Y",0,100,"%")];
this.HP()};kc.LnsF.prototype=new kc;kc.LnsF.prototype.gF=function(c,o){o[0]=c.Brgh.v;o[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(c.Lns.v.Lns);
var K=c.FlrC.v;o[2]=Math.round(K.Hrzn.v*100);o[3]=Math.round(K.Vrtc.v*100)};kc.LnsF.prototype.H9=function(c,o){c.Brgh.v=o[0];
c.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][o[1]];var K=c.FlrC.v;K.Hrzn.v=o[2]/100;K.Vrtc.v=o[3]/100};kc.a5c(kc.LnsF.prototype);
kc.blendOptions=function(){kc.call(this,"blendOptions");this.gS.push(new iW([12,19,0],ef.kp,ef.fc));
this.gS.push(new js([12,0],0,100,"%"));this.HP()};kc.blendOptions.prototype=new kc;kc.blendOptions.prototype.gF=function(c,o){o[0]=ef.uR.indexOf(c.Md.v.BlnM);
o[1]=c.Opct.v.val};kc.blendOptions.prototype.H9=function(c,o){c.Md.v.BlnM=ef.uR[o[0]];c.Opct.v.val=o[1]};
kc.LnCr=function(){kc.call(this,"LnCr");this.gS=[new js([12,57],-100,100),new js([12,38],10,150,"%")];
this.HP()};kc.LnCr.prototype=new kc;kc.LnCr.prototype.gF=function(c,o){o[0]=c.LnIa.v;o[1]=c.LnSi.v};
kc.LnCr.prototype.H9=function(c,o){c.LnIa.v=o[0];c.LnSi.v=o[1]};kc.adaptCorrect=function(){kc.call(this,"adaptCorrect");
var c=av;this.gS=[new dV([19,6,0]),new c([12,57],0,100,"%"),new c("Tone",0,100,"%"),new c([12,56],0,200,"px"),new dV([19,6,2]),new c([12,57],0,100,"%"),new c("Tone",0,100,"%"),new c([12,56],0,200,"px"),new dV([3]),new c([13,0],-100,100)];
this.HP([3,7])};kc.adaptCorrect.prototype=new kc;kc.adaptCorrect.prototype.gF=function(c,o){var K=c.sdwM.v;
o[0]=K.Amnt.v.val;o[1]=K.Wdth.v.val;o[2]=K.Rds.v;var K=c.hglM.v;o[3]=K.Amnt.v.val;o[4]=K.Wdth.v.val;
o[5]=K.Rds.v;o[6]=c.ClrC.v};kc.adaptCorrect.prototype.H9=function(c,o){var K=c.sdwM.v;K.Amnt.v.val=o[0];
K.Wdth.v.val=o[1];K.Rds.v=o[2];var K=c.hglM.v;K.Amnt.v.val=o[3];K.Wdth.v.val=o[4];K.Rds.v=o[5];c.ClrC.v=o[6]};
kc.Flam=function(){kc.call(this,"Flam");var c=this.gS=[new iW([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new js([12,80,0],20,1e3,"px"),new fA("Randomize Length"),new js([12,41],5,600,"px"),new js([12,15],0,360,"\xB0"),new js("Interval",10,200,"px"),new fA("Adapt Interval for Loops"),new hv(!1),new iW([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new js("Turbulent",0,100),new js("Jag",0,100),new js([12,0],0,100),new js("Lines",2,30),new js("Bottom",0,100),new iW([12,22],["Normal","Violent","Flat"]),new iW([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new fA("Randomize Shape"),new js("Random Seed",0,100)];
this.HP();var o=this.n;S._a(o);var K=new hE(null,["Basic","Advanced"]);K.B(y.E.z,this.ah$,this);o.appendChild(K.n);
S.sv(o);var u=S.t("div"),X=S.t("div");this.aj9=[u,X];o.appendChild(u);for(var Y=0;Y<c.length;Y++){(Y<9?u:X).appendChild(c[Y].n);
if(Y==6)S.jR(u)}c[0].B(y.E.z,this.akv,this);this.akv()};kc.Flam.prototype=new kc;kc.Flam.prototype.akv=function(c){var o=this.gS,Y=o[0].h();
o[1].WR(Y!=0&&Y!=5);o[2].WR(Y!=0&&Y!=5);o[4].WR(Y!=0&&Y!=5&&Y!=1);o[5].WR(Y!=0&&Y!=5);o[6].WR(Y!=0&&Y!=5)};
kc.Flam.prototype.ah$=function(c){var Y=c.target.h(),o=this.aj9,K=this.n;K.removeChild(o[1-Y]);K.appendChild(o[Y])};
kc.boxblur=function(){kc.call(this,"boxblur");this.gS=[new js([12,56],1,200," px")];this.HP()};kc.boxblur.prototype=new kc;
kc.boxblur.prototype.gF=function(c,o){o[0]=c.Rds.v.val};kc.boxblur.prototype.H9=function(c,o){c.Rds.v.val=o[0]};
kc.GsnB=function(){kc.call(this,"GsnB");this.gS=[new js([12,56],.1,400,"px",1,!0)];this.HP()};kc.GsnB.prototype=new kc;
kc.Dila=function(){kc.call(this,"Dila");this.gS=[new js([11,12,1],0,20,"px",0),new js([12,56],0,400,"px",0,!0)];
this.HP()};kc.Dila.prototype=new kc;kc.MtnB=function(){kc.call(this,"MtnB");this.gS=[new iF([12,15]),new js([12,28],1,100," px")];
this.HP()};kc.MtnB.prototype=new kc;kc.RdlB=function(){kc.call(this,"RdlB");this.gS=[new js([12,57],1,100),new hE([12,36],["Spin","Zoom"]),new js("Position X",0,100,"%"),new js("Position Y",0,100,"%")];
this.HP()};kc.RdlB.prototype=new kc;kc.RdlB.prototype.gF=function(c,o){o[0]=c.Amnt.v;o[1]=["Spn","Zm"].indexOf(c.BlrM.v.BlrM);
o[2]=c.Cntr.v.Hrzn.v*100;o[3]=c.Cntr.v.Vrtc.v*100};kc.RdlB.prototype.H9=function(c,o){c.Amnt.v=o[0];
c.BlrM.v.BlrM=["Spn","Zm"][o[1]];c.Cntr.v.Hrzn.v=o[2]/100;c.Cntr.v.Vrtc.v=o[3]/100};kc.a5c(kc.RdlB.prototype);
kc.Dspl=function(){kc.call(this,"Dspl");this.gS=[new iW([6,36,3],["a","b"]),new js([22,4,0],-100,100,"px"),new js([22,4,1],-100,100,"px"),new iW([24,18,0],[[24,18,3],[24,18,2]])];
this.HP()};kc.Dspl.prototype=new kc;kc.Dspl.prototype.gF=function(c,o,K){this.atA=[];this.OR=[];var u=-1,X=K?K[0]:null;
if(X==null)X=this.avv;else this.avv=X;if(X)for(var Y=0;Y<X.length;Y++){var $=X[Y];this.atA.push($.fp.trim());
this.OR.push($.Il);if($.Il==c.DspF.v.pth)u=Y}this.gS[0].e8(this.atA);o[0]=u==-1?0:u;o[1]=c.HrzS.v;o[2]=c.VrtS.v;
o[3]=["WrpA","RptE"].indexOf(c.UndA.v.UndA)};kc.Dspl.prototype.H9=function(c,o){var K=this.avv;if(this.OR.length==0)return;
c.DspF.v.pth=this.OR[o[0]];c.HrzS.v=o[1];c.VrtS.v=o[2];c.UndA.v.UndA=["WrpA","RptE"][o[3]];var u=K[o[0]];
u.i9();var X=u.Za[1],$=X.m,O=X.e,n=a.R(X.P());a.yH(u.Za[0],n);var x=[$&255,$>>>8,0,0,O&255,O>>>8,0,0,3,0];
for(var l=0;l<2;l++)for(var Y=0;Y<n.length;Y++)x.push(n[Y]);for(var Y=0;Y<1e3;Y++)x.push(0);c.DspD={t:"tdta",v:x};
c.EmbF={t:"bool",v:!0}};kc.Pnch=function(){kc.call(this,"Pnch");this.gS=[new js([12,57],-100,100,"%")];
this.HP()};kc.Pnch.prototype=new kc;kc["Plr "]=function(){kc.call(this,"Plr ");this.gS=[new hE(null,["Rect to Polar","Polar to Rect"])];
this.HP()};kc["Plr "].prototype=new kc;kc.Rple=function(){kc.call(this,"Rple");this.gS=[new js([12,57],-999,999),new iW([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.HP()};kc.Rple.prototype=new kc;kc["Shr "]=function(){kc.call(this,"Shr ");this.gS=[new a2(!0,!0),new iW([24,18,0],[[24,18,3],[24,18,2]])];
this.HP()};kc["Shr "].prototype=new kc;kc["Shr "].prototype.gF=function(c,o){var K=new bE(0,255/127,255/127,0,-2,128),u=JSON.parse(JSON.stringify(c.ShrP.v));
a.HO.i(u,K);o[0]=u;o[1]=["WrpA","RptE"].indexOf(c.UndA.v.UndA)};kc["Shr "].prototype.H9=function(c,o){var K=new bE(0,255/127,255/127,0,-2,128);
K.fH();a.HO.i(o[0],K);c.ShrP.v=o[0];c.ShrE.v=o[0].length-1;c.UndA.v.UndA=["WrpA","RptE"][o[1]]};kc.Sphr=function(){kc.call(this,"Sphr");
this.gS=[new js([12,57],-100,100),new iW([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.HP()};kc.Sphr.prototype=new kc;
kc.Sphr.prototype.gF=function(c,o){o[0]=c.Amnt.v;o[1]=["Nrml","HrzO","VrtO"].indexOf(c.SphM.v.SphM)};
kc.Sphr.prototype.H9=function(c,o){c.Amnt.v=o[0];c.SphM.v.SphM=["Nrml","HrzO","VrtO"][o[1]]};kc.Dthr=function(){kc.call(this,"Dthr");
this.gS=[new iW("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new hE("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.HP()};kc.Dthr.prototype=new kc;kc.Dthr.prototype.gF=function(c,o){o[0]=c.Plte.v;o[1]=c.Mthd?c.Mthd.v:1};
kc.Dthr.prototype.H9=function(c,o){c.Plte.v=o[0];c.Mthd.v=o[1]};kc.Part=function(){kc.call(this,"Part");
this.gS=[new js([15,5,1],0,100,"%"),new js([12,14,0],1,50,"px"),new js([12,34],0,100,"%"),new js([12,2],10,1e3,"%"),new hv(!0),new js("Time",0,1,null,3),new js("Turbulence",0,100,"%"),new fA("Blink"),new fA("Fall")];
this.HP([4])};kc.Part.prototype=new kc;kc.Part.prototype.gF=function(c,o){o[0]=c.Cont.v;o[1]=c.Size.v;
o[2]=c.Dpth.v;o[3]=c.Brgh.v;o[4]=c.Clr.v;o[5]=c.Time.v;o[6]=c.Turb.v;o[7]=c.Blnk.v;o[8]=c.Fall.v};kc.Part.prototype.H9=function(c,o){c.Cont.v=o[0];
c.Size.v=o[1];c.Dpth.v=o[2];c.Brgh.v=o[3];c.Clr.v=o[4];c.Time.v=o[5];c.Turb.v=o[6];c.Blnk.v=o[7];c.Fall.v=o[8]};
kc.Twrl=function(){kc.call(this,"Twrl");this.gS=[new js([12,15],-999,999)];this.HP()};kc.Twrl.prototype=new kc;
kc.Wave=function(){kc.call(this,"Wave");this.agr=[1,2,3,4];this.gS=[new js("Number of Generators",1,100),new av("Min Length",1,999),new av("Max Length",1,999),new av("Min Ampl.",1,999),new av("Max Ampl.",1,999),new av("Scale X",1,100,"%"),new av("Scale Y",1,100,"%"),new hE([12,44],["Sine","Triangle",[12,93,3]]),new iW([24,18,0],[[24,18,3],[24,18,2]])];
this.HP()};kc.Wave.prototype=new kc;kc.ZgZg=function(){kc.call(this,"ZgZg");this.gS=[new js([12,57],-100,100),new js("Ridges",0,20),new iW([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.HP()};kc.ZgZg.prototype=new kc;kc.surfaceBlur=function(){kc.call(this,"surfaceBlur");this.gS=[new js([12,56],1,200," px"),new js([4,13],1,255," px")];
this.HP()};kc.surfaceBlur.prototype=new kc;kc.surfaceBlur.prototype.gF=function(c,o){o[0]=c.Rds.v.val;
o[1]=c.Thsh.v};kc.surfaceBlur.prototype.H9=function(c,o){c.Rds.v.val=o[0];c.Thsh.v=o[1]};kc.AdNs=function(){kc.call(this,"AdNs");
this.gS=[new js([12,57],0,200," %"),new iW([12,58],[[12,59,1],[12,59,0]]),new fA([12,60])];this.HP()};
kc.AdNs.prototype=new kc;kc.DstS=function(){kc.call(this,"DstS");this.gS=[new js([12,56],1,200," px"),new js([4,13],1,255," px")];
this.HP()};kc.DstS.prototype=new kc;kc["Mdn "]=function(){kc.call(this,"Mdn ");this.gS=[new js([12,56],1,200," px")];
this.HP()};kc["Mdn "].prototype=new kc;kc["Mdn "].prototype.gF=function(c,o){o[0]=c.Rds.v.val};kc["Mdn "].prototype.H9=function(c,o){c.Rds.v.val=o[0]};
kc.ClrH=function(){kc.call(this,"ClrH");this.gS=[new js([12,56],4,100," px")];for(var Y=1;Y<4;Y++)this.gS.push(new js("Angle "+Y,0,90," \xB0"));
this.HP()};kc.ClrH.prototype=new kc;kc.ClrH.prototype.gF=function(c,o){o[0]=c.Rds.v;for(var Y=1;Y<4;
Y++)o[Y]=c["Ang"+Y].v};kc.ClrH.prototype.H9=function(c,o){c.Rds.v=o[0];for(var Y=1;Y<4;Y++)c["Ang"+Y].v=o[Y]};
kc.ClrH.prototype._=function(){var c=this.gS;c[0]._();for(var Y=1;Y<4;Y++)c[Y].ro(iV.get([12,15])+" "+Y)};
kc.Crst=function(){kc.call(this,"Crst");this.gS=[new js([12,61],3,100," px")];this.HP()};kc.Crst.prototype=new kc;
kc.Crst.prototype.gF=function(c,o){o[0]=c.ClSz.v};kc.Crst.prototype.H9=function(c,o){c.ClSz.v=o[0]};
kc.Mztn=function(){kc.call(this,"Mztn");this.gS.push(new iW([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.OR="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.HP()};kc.Mztn.prototype=new kc;
kc.Mztn.prototype.gF=function(c,o){o[0]=this.OR.indexOf(c.MztT.v.MztT)};kc.Mztn.prototype.H9=function(c,o){c.MztT.v.MztT=this.OR[o[0]]};
kc["Msc "]=function(){kc.call(this,"Msc ");this.gS=[new js([12,61],2,200," px")];this.HP()};kc["Msc "].prototype=new kc;
kc["Msc "].prototype.gF=function(c,o){o[0]=c.ClSz.v.val};kc["Msc "].prototype.H9=function(c,o){c.ClSz.v.val=o[0]};
kc.Pntl=function(){kc.call(this,"Pntl");this.gS=[new js([12,61],3,100," px")];this.HP()};kc.Pntl.prototype=new kc;
kc.Pntl.prototype.gF=function(c,o){o[0]=c.ClSz.v};kc.Pntl.prototype.H9=function(c,o){c.ClSz.v=o[0]};
kc.smartSharpen=function(){kc.call(this,"smartSharpen");this.gS=[new js([12,57],1,200,"%"),new js([12,56],0,200,"px",1,!0)];
this.HP()};kc.smartSharpen.prototype=new kc;kc.smartSharpen.prototype.gF=function(c,o){o[0]=c.Amnt?c.Amnt.v.val:200;
o[1]=c.Rds?c.Rds.v.val:1};kc.smartSharpen.prototype.H9=function(c,o){c.Amnt.v.val=o[0];c.Rds.v.val=o[1]};
kc.UnsM=function(){kc.call(this,"UnsM");this.gS=[new js([12,57],1,200," %"),new js([12,56],.1,400,"px",1,!0),new js([4,13],0,255," ")];
this.HP()};kc.UnsM.prototype=new kc;kc.HghP=function(){kc.call(this,"HghP");this.gS=[new js([12,56],.1,400,"px",1,!0)];
this.HP()};kc.HghP.prototype=new kc;kc.HsbP=function(){kc.call(this,"HsbP");this.gS=[new hE("Input",["RGB","HSB","HSL"]),new hE("Output",["RGB","HSB","HSL"])];
this.HP()};kc.HsbP.prototype=new kc;kc["Mxm "]=function(){kc.call(this,"Mxm ");this.gS=[new js([12,56],.1,200," px",1,!0),new iW([12,76,1],[[12,93,3],"Circle"])];
this.HP()};kc["Mxm "].prototype=new kc;kc["Mnm "]=function(){kc.call(this,"Mnm ");this.gS=[new js([12,56],.1,200," px",1,!0),new iW([12,76,1],[[12,93,3],"Circle"])];
this.HP()};kc["Mnm "].prototype=new kc;kc.Ofst=function(){kc.call(this,"Ofst");this.gS=[new js([22,4,0],-1024,1024," px"),new js([22,4,1],-1024,1024," px"),new iW([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.HP()};kc.Ofst.prototype=new kc;kc.Kale=function(){kc.call(this,"Kale");this.gS=[new av("Mirrors",2,20),new av([12,15],0,360,"\xB0")];
this.HP()};kc.Kale.prototype=new kc;kc.Kale.prototype.gF=function(c,o){o[0]=c.Mirr.v;o[1]=c.MRot.v};
kc.Kale.prototype.H9=function(c,o){c.Mirr.v=o[0];c.MRot.v=o[1]};kc.Rept=function(){kc.call(this,"Rept");
this.gS=[new av([12,38],1,300," %"),new av("Row Shift",-50,50," %"),new av("Space X",-99,200," %"),new av("Space Y",-99,200," %"),new fA([4,16,2]),new iF([12,15])];
this.HP()};kc.Rept.prototype=new kc;kc.Rept.prototype.gF=function(c,o){o[0]=c.Scl.v.val;o[1]=c.Rsft.v.val;
o[2]=c.SpcX.v.val;o[3]=c.SpcY.v.val;o[4]=c.SpcC.v;o[5]=[c.Angl.v]};kc.Rept.prototype.H9=function(c,o){c.Scl.v.val=o[0];
c.Rsft.v.val=o[1];c.SpcX.v.val=o[2];c.SpcY.v.val=o[3];c.SpcC.v=o[4];c.Angl.v=o[5][0];return c};kc.Ctoa=function(){kc.call(this,"Ctoa");
this.gS=[new dV([13,0]),new hv(!0),new js(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new js(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.HP()};kc.Ctoa.prototype=new kc;kc.Ctoa.prototype.gF=function(c,o){o[0]=c.Clr.v;o[1]=c.Trsp.v.val;
o[2]=c.Opct.v.val};kc.Ctoa.prototype.H9=function(c,o){c.Clr.v=o[0];c.Trsp.v.val=o[1];c.Opct.v.val=o[2]};
kc.LqFy=function(){kc.call(this,"LqFy");this.xX=!1;this.AG=!1;this.gw=null;this.a7h=null;this.f=0;this.Z2=-1;
this.k={Hv:[[{f:{id:0,name:[24,1,0,1,0],wo:"liq/smudge"}}],[{f:{id:1,name:[24,1,0,1,1],wo:"liq/reconstruct"}}],[{f:{id:2,name:[24,1,0,1,2],wo:"liq/smooth"}}],[{f:{id:3,name:[24,1,0,1,3],wo:"liq/twirl"}}],[{f:{id:4,name:[24,1,0,1,4],wo:"liq/shrink"}}],[{f:{id:5,name:[24,1,0,1,5],wo:"liq/blow"}}],[{f:{id:6,name:[24,1,0,1,6],wo:"liq/pleft"}}],[{f:{id:7,name:"Hand",wo:"tools/hand"}}],[{f:{id:8,name:"Zoom In",wo:"zoomIn"}}],[{f:{id:9,name:"Zoom Out",wo:"zoomOut"}}]],keys:[]};
this.YA=new bG(this.k,!1);this.YA.iF(0);this.YA.B(y.E.M,this.kv,this);this.R3=ac.jz();this.SV=null;this.Pb=[];
this.l5=-1;this.yW=null;this.aBF=null;this.bq=null;this.jM=null;this.Vi=null;var c=S.t("div","flexrow");
this.oX=c;this.n.appendChild(c);c.appendChild(this.YA.n);this.view=new cY(!0);this.view._Q(100,100);
this.view.B("mousedown",this.tT,this);this.view.B("mousemove",this.Al,this);this.view.B("mouseup",this.cF,this);
this.view.B("zoom",this.en,this);c.appendChild(this.view.n);var o=S.t("div","form");c.appendChild(o);
this.Fd=o;o.style.width="230px";this.pb=[new js([12,14,0],0,1e3,null,!1,!0),new js([12,74],0,100,null,!1,!1),new js([12,84],0,100,null,!1,!1),new fA([12,46]),new js([12,0],0,100,null,!1,!1),new fA([24,18,5])];
var K=this.R3.Brsh.v;K.Dmtr.v.val=100;var u=[100,50,100,!1,100,!0];for(var Y=0;Y<this.pb.length;Y++){var X=this.pb[Y];
X.c(u[Y]);if(Y==4)X.Lc();X.B(y.E.z,this.a6n,this);o.appendChild(X.n)}var $=this.avc=new kz([1,12,2],!0,null,!0);
$.B("click",this.a1,this);o.appendChild($.n);this.a42=this.ME.bind(this);this.aQ=new ax;this.aQ.n=S.t("div","floatcont");
this.Ht=new kz("Menu",!1,null,!0);var O=this.Ht.n;O.setAttribute("style","position:absolute; right:13px; top:47px");
S.pI(O,this.a0Y.bind(this))};kc.LqFy.prototype=new kc;kc.LqFy.prototype.d0=function(){return!0};kc.LqFy.prototype.L1=function(c){this.Fd.appendChild(c)};
kc.LqFy.prototype.a0Y=function(c){if(S.Kt(this.aQ.n))return;c.stopPropagation();var o=this.Ht.n.getBoundingClientRect();
this.aQ.n.appendChild(this.Fd);var K=new ev(y.E.M,!0);K.data={Y:y.H.B2,KH:this.aQ,x:o.right+o.width-290,y:o.top+o.height};
this.I(K)};kc.LqFy.prototype.y9=function(c){this.xX=c.N(d2.u6);var o=r.VN.pY(this.R3,c);if(o!=null){this.R3=o;
this.en();this.pb[0].c(o.Brsh.v.Dmtr.v.val)}else if(c.N(d2.vm)&&c.N(d2.G0)){var K=this.Pb;if(c.N(d2.Qx)){if(this.l5+1<K.length)this.l5++}else if(this.l5>0)this.l5--;
this.SV.map=K[this.l5].slice(0);this.gd(null)}else if(this.f<=6)this.view.y9(c);var u=this.f,X=-1,$=c.N(d2.u6);
if($&&this.Z2==-1){if(u==0)X=1;if(u==4)X=5;if(u==5)X=4;if(X!=-1)this.Z2=u}if(!$&&this.Z2!=-1){X=this.Z2;
this.Z2=-1}if(X!=-1){this.f=X;this.YA.iF(this.f)}};kc.LqFy.prototype.kv=function(c){if(c.data.Y==y.H.VO){var o=this.f=c.data.f;
this.YA.iF(this.f);this.view.y9(o>6?cY.ev(o-7):new d2)}};kc.LqFy.prototype.a6n=function(c){var o=c.currentTarget,Y=this.pb.indexOf(o),K=this.R3.Brsh.v;
if(Y==0){K.Dmtr.v.val=o.h();this.en()}this.pb[4].WR(this.pb[3].h());if(Y>2)this.gd(null)};kc.LqFy.prototype.Xk=function(){var c=this.Pb;
this.l5++;c[this.l5]=this.SV.map.slice(0);while(c.length>this.l5+1)c.pop();while(c.length>50){c=c.slice(1);
this.l5--}};kc.LqFy.prototype.tT=function(c){this.gw=this.view.Ch();this.a7h=new kn(0,0);this.AG=!0;
window.requestAnimationFrame(this.a42)};kc.LqFy.prototype.Al=function(c){var o=this.view.Ch(),K=new kn(o.x-this.gw.x,o.y-this.gw.y);
if(this.f==0||this.f==6)this.axR(K);this.gw=o};kc.LqFy.prototype.cF=function(c){this.Xk();this.AG=!1};
kc.LqFy.prototype.ME=function(c){if(this.f!=0&&this.f!=6)this.axR(new kn(0,0));if(this.AG)window.requestAnimationFrame(this.a42)};
kc.LqFy.prototype.axR=function(c){var o=this.SV,K=o.Oc/this.yW.m,u=this.gw,X=this.R3.Brsh.v,$=X.Dmtr.v.val,O=Date.now(),n=o.Oc,x=o.s_,l=Math.sqrt(c.x*c.x+c.y*c.y),N=Math.max(1,Math.ceil(l/2)),f=c.x/N,z=c.y/N,R=u.clone(),V=this.f,d=this.pb[1].h()/100,e=this.pb[2].h()/100,p=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],h=p[V*2],E=p[V*2+1],q=(1-d)*h+d*E,Z=$*K/2;
for(var Y=0;Y<N;Y++){var v=[];R.x+=f;R.y+=z;a.kU.aw4(o.map,n,x,V,R.x*K,R.y*K,Z,d,e,f*K,z*K,v,this.xX);
a.kU.alU(n,x,o.map,v,2*q*e)}var W=new ez(0,0,n,x),D=new ez(u.x*K,u.y*K,0,0);D.JG($*K*.5,$*K*.5);var I=D.clone();
I.offset(c.x*K,c.y*K);D=D.X3(I);var A=new ez(D.x/K,D.y/K,D.m/K,D.e/K);A=a.A.Qt(A).ar(this.yW);this.pb[5].c(!0);
this.gd(A)};kc.LqFy.prototype.en=function(){var c=kD.FW(this.R3,null,this.view.xK().U);this.view.Sd(c)};
kc.LqFy.prototype.c=function(c,o,K,u,X){K=K.clone();if(o==null)return;if(!u.Ug(K)){var $=K.X3(u),O=a.R($.P()*4);
a.Ui(o,K,O,$);o=O;K=$;var n=a.R($.P()*4);a.Ui(X,u,n,$);X=n}K.x=K.y=0;this.bq=o;this.aBF=X;this.Vi=o.slice(0);
this.jM=o.slice(0);this.yW=K;this.SV=kd.Sr(new Uint8Array(c.LqMe.v).buffer);var x=K.m,l=K.e;if(this.SV.Oc/x<.22){this.SV={Oc:Math.floor(x/4),s_:Math.floor(l/4)};
this.SV.map=new Float32Array(this.SV.Oc*this.SV.s_*2)}this.Pb=[];this.l5=-1;this.Xk();this.gd(null);
this.view.Ez(!0);this.en()};kc.LqFy.prototype.h=function(){var c=gZ.ib("LqFy"),o=new Uint8Array(kd.or(this.SV)),K=[];
for(var Y=0;Y<o.length;Y++)K.push(o[Y]);c.LqMe.v=K;return c};kc.LqFy.prototype._Q=function(c,o){this.YA._Q(c,o);
var K=this.Ht.n,u=this.Fd;this.oX.appendChild(u);this.oX.appendChild(K);if(c>450&&c-o>200){u.style.marginLeft="1em";
this.oX.removeChild(K);this.view._Q(c-238-45,o)}else{u.style.marginLeft="";this.oX.removeChild(u);this.view._Q(c-40,o)}};
kc.LqFy.prototype._=function(){this.YA._();this.avc._();for(var Y=0;Y<this.pb.length;Y++)this.pb[Y]._()};
kc.LqFy.prototype.a1=function(){this.SV.map.fill(0);this.Xk();this.gd(null)};kc.LqFy.prototype.gd=function(c){var o=this.yW,K=this.bq,u=this.Vi,X=this.SV;
if(this.pb[5].h())a.kU.qY(K,this.jM,o.m,o.e,c,X.map,X.Oc,X.s_,0);else this.jM.set(K);if(this.pb[3].s6()){a.Ui(this.aBF,o,u,o,c?c:o);
a.a.hA("norm",this.jM,o,u,o,c?c:o,this.pb[4].h()/100)}else a.lY(this.jM,u);this.view.c([{yS:o,data:u.buffer}])};
kc.GEfc=function(){kc.call(this,"GEfc");this.Uq=0;this.uo=0;this.bq=null;this.Vi=null;this.yW=null;this.RU=null;
this.oh=null;this.Xu=0;this.QZ=null;this.sD=null;var c=S.t("div","flexrow");this.oX=c;this.n.appendChild(c);
this.view=new cY(null);this.view._Q(100,100);c.appendChild(this.view.n);this.KZ="";this.gK=270;var o=this.VE=S.t("div","form scrollable");
c.appendChild(o);o.setAttribute("style","width:"+this.gK+"px;");var K=this.h5=S.t("div","form");c.appendChild(K);
K.setAttribute("style","width:230px;  margin:0 10px");this.Gr={};for(var u in gL.names){var X=new kc.GEfc.fr(u);
X.parent=this;this.Gr[u]=X;X.B(y.E.z,this.ap_,this)}this.hd=!0;this.Ht=new kz("Menu",null,null,!0);this.Ht.B("click",this.a2Z,this);
c.appendChild(this.Ht.n);this.H7=new kz(">>",null,null,!0);this.H7.B("click",this.a8x,this);K.appendChild(this.H7.n);
this.G6=S.t("div");this.G6.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
K.appendChild(this.G6);this.aJ=S.t("div");this.aJ.style.minHeight="14em";this.aJ.style.marginBottom="1em";
K.appendChild(this.aJ);this.zY=S.t("div","lpbody scrollable");this.V_=S.t("div","lpfoot");K.appendChild(this.zY);
K.appendChild(this.V_);this.B("click",this.agL,this);this.NB=[];ei.fN([[5,3],[5,4]],this.NB,this.V_,this.pG.bind(this))};
kc.GEfc.prototype=new kc;kc.GEfc.prototype.d0=function(){return!0};kc.GEfc.prototype.L1=function(c){this.G6.appendChild(c)};
kc.GEfc.prototype.VW=function(c,o){this.RU=c};kc.GEfc.prototype.a8x=function(c){var o=this.VE.style.display!="none";
this.VE.style.display=o?"none":"";this.H7.ro(o?"<<":">>");this._Q()};kc.GEfc.prototype.a2Z=function(c){this.hd=!this.hd;
this._Q()};kc.GEfc.prototype._Q=function(c,o){var K=this.VE.style.display!="none";if(c!=null){this.Uq=c;
this.uo=o;if(c<1e3&&K||c>=1e3&&!K){this.a8x();K=!K}this.hd=c>600}else{c=this.Uq;o=this.uo}var u=this.hd?250+(K?this.gK:0):0;
if(S.Kt(this.h5)&&!this.hd){this.oX.removeChild(this.VE);this.oX.removeChild(this.h5)}if(!S.Kt(this.h5)&&this.hd){this.oX.appendChild(this.VE);
this.oX.appendChild(this.h5)}this.VE.style.height=o+"px";this.view._Q(c-u,o);this.zY.style.height=o-Math.max(this.aJ.getBoundingClientRect().height,186)-96+"px";
this.Ht.n.setAttribute("style","position:absolute; top:46px;  right:"+(u+16)+"px")};kc.GEfc.prototype.auw=function(){var c=c5.OT.get("img/beach",!0)[0],o=c.yS,K=this.VE,u=Math.floor(S.Sm()*(this.gK-40)/3),X=~~(u*.7),$=new ez(0,0,u,X),O=a.R(u*X*4),n=O.slice(0),x=Math.round(10*S.Sm()),l=new ImageData(new Uint8ClampedArray(n.buffer),u,X);
a.Ui(new Uint8Array(c.data),o,O,new ez(Math.round((o.m-u)/2),Math.round((o.e-X)/2),u,X));var N=S.t("canvas"),f=N.getContext("2d");
N.width=u;N.height=X+Math.round(x*1.5);f.font=x+"px sans-serif";this.QZ={};S._a(K);var z=this.adS.bind(this);
for(var Y=0;Y<gL.vO.length;Y++){var R=gL.vO[Y],V=S.t("div");K.appendChild(V);V.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
V.textContent=iV.get(R);for(var d in gL.names){var e=gL.names[d];if(e[0]!=Y)continue;gL.kg(d,{rect:$,buffer:O},gL.ib(d),{Z:0,r:0,J:0},{Z:255,r:255,J:255},{rect:$,buffer:n},{});
f.fillStyle="black";f.fillRect(0,0,500,500);f.putImageData(l,0,0);var p=iV.get(e[1]);f.fillStyle="white";
f.fillText(p,(u-f.measureText(p).width)/2,X+Math.round(x*1.1));var h=S.t("div");K.appendChild(h);h.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
h.addEventListener("click",z,!1);var V=S.t("img");h.appendChild(V);V.setAttribute("src",N.toDataURL());
V.setAttribute("style","width:"+u/S.Sm()+"px; margin-bottom:0px;");this.QZ[d]=h}}};kc.GEfc.prototype.adS=function(c){var o;
for(var K in this.QZ)if(this.QZ[K]==c.currentTarget)this.KZ=K;this.ap_()};kc.GEfc.prototype.pG=function(c){var o=ei.C7(this.NB,c),K=this.oh.GEfs.v,u=K[this.Xu].v;
if(o==0){K.push(JSON.parse(JSON.stringify(K[this.Xu])));this.Xu=K.length-1}else if(K.length>1){K.splice(this.Xu,1);
if(this.Xu==K.length)this.Xu--}this.yz();this.gd()};kc.GEfc.prototype.ap_=function(c){var o=this.KZ,K;
if(c==null)K=gL.ib(o);else K=this.Gr[o].h();this.oh.GEfs.v[this.Xu].v=K;this.yz();this.gd()};kc.GEfc.prototype.c=function(c,o,K,u,X){var $=iV.get([24,0]);
if(this.QZ==null||$!=this.sD)this.auw();this.sD=$;c=this.oh=JSON.parse(JSON.stringify(c));if(c.GEfs==null)c=this.oh={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:c}]}};
var O=c.GEfs.v;for(var Y=0;Y<O.length;Y++)if(O[Y].v.GELv==null)O[Y].v.GELv={t:"bool",v:!0};this.Xu=O.length-1;
this.yz();K=K.clone();if(o==null)return;if(!u.Ug(K)&&gL.YH(c).x!=0){var n=K.X3(u),x=a.R(n.P()*4);a.Ui(o,K,x,n);
o=x;K=n}K.x=K.y=0;this.bq=o;this.Vi=o.slice(0);this.yW=K;this.gd();this.view.Ez()};kc.GEfc.prototype.agL=function(c){var o=c.data,Y=o.wM,K=this.oh.GEfs.v;
if(o.Hx){K[Y].v.GELv.v=!K[Y].v.GELv.v;this.gd()}else this.Xu=Y;this.yz()};kc.GEfc.prototype.yz=function(){var c=this.oh.GEfs.v,o=c[this.Xu].v,K=o.GEfk.v.GEft,u=this.aJ;
if(gL.names[K]==null){alert("Unsupported gallery filter");S._a(u)}else{this.KZ=K;for(var X in this.QZ)S.MG(this.QZ[X],"selected");
S.SZ(this.QZ[K],"selected");var $=this.Gr[K];$.c(o);if(u.firstChild!=$.n){S._a(u);u.appendChild($.n)}}var O=[];
for(var Y=0;Y<c.length;Y++){var n=c[Y].v,x=gL.names[n.GEfk.v.GEft],l=new co(Y,!0,!0,null,x?x[1]:"Filter",Y==this.Xu,n.GELv.v);
l.parent=this;O.push(l.n)}S._a(this.zY);O.reverse();for(var Y=0;Y<O.length;Y++)this.zY.appendChild(O[Y]);
this._Q()};kc.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.oh))};kc.GEfc.prototype.gd=function(c){var o=this.yW,K=this.bq,u=this.Vi,X=this.KZ,$=this.oh,O=this.RU;
function n(x){return{Z:x>>>16,r:x>>>8&255,J:x&255}}gZ.kg("GEfc",{rect:this.yW,buffer:this.bq},$,n(O.V5),n(O.th),{rect:this.yW,buffer:this.Vi},null);
this.view.c([{yS:o,data:u.buffer}])};kc.GEfc.prototype._=function(){for(var c in this.Gr)this.Gr[c]._();
ei.$l(this.NB,["lrs/newlayer","lrs/bin"])};kc.GEfc.fr=function(c){ax.call(this);this.jD=c;this.n=S.t("div");
this.vC={};var o=gL.ib(c);for(var K in o){var u=null;if(K=="__name"||K=="classID"||K=="GEfk"||K=="GELv"||["FlRs"].indexOf(K)!=-1)continue;
else if(K=="EdgW")u=new js("Edge Width",1,14);else if(K=="EdgB")u=new js("Edge Brightness",0,c=="AccE"?50:20);
else if(K=="Smth")u=new js([19,3,3],1,c=="Stmp"?50:15);else if(K=="ClSz")u=new js([12,61],3,100);else if(K=="BrdT")u=new js([7,9],1,20);
else if(K=="HghS")u=new js([12,64],0,20);else if(K=="HlSz")u=new js([12,14,0],1,15);else if(K=="Cntr")u=new js([12,3,0],0,c=="WtrP"?100:50);
else if(K=="Shrp")u=new js("Sharpness",0,40);else if(K=="SprR")u=new js("Spray Radius",0,25);else if(K=="LgDr")u=new js("Light/Dark Balance",0,c=="Stmp"?50:100);
else if(K=="Drkn")u=new js("Darkness",1,50);else if(K=="Dstr")u=new js("Distortion",0,20);else if(K=="Scln")u=new js([12,38],50,200);
else if(K=="Rlf")u=new js("Relief",0,c=="Ptch"||c=="NtPr"?25:50);else if(K=="ChAm")u=new js("Thickness",1,7);
else if(K=="Pncl")u=new js([19,2,5],1,30);else if(K=="StrP")u=new js("Stroke Pressure",0,15);else if(K=="PprB")u=new js("Paper Brightness",0,50);
else if(K=="BrsS")u=new js("Brush Size",0,10);else if(K=="BrsD")u=new js("Brush Detail",0,10);else if(K=="Txtr")u=new js([12,67],1,3);
else if(K=="Grn")u=new js("Grain",0,20);else if(K=="HghA")u=new js("Highlight Area",0,20);else if(K=="Intn")u=new js("Intensity",0,10);
else if(K=="Brgh")u=new js("Glow Brightness",0,c=="WtrP"?100:50);else if(K=="StrS")u=new js("Stroke Size",1,50);
else if(K=="StDt")u=new js("Stroke Detail",1,3);else if(K=="Sftn")u=new js("Softness",0,10);else if(K=="EdgT")u=new js("Edge Thickness",0,10);
else if(K=="EdgI")u=new js("Edge Intensity",0,10);else if(K=="Pstr")u=new js("Posterization",0,6);else if(K=="Dfnt")u=new js("Definition",0,25);
else if(K=="TxtC")u=new js("Texture Coverage",0,50);else if(K=="ShdI")u=new js("Shadow Intensity",0,10);
else if(K=="DrcB")u=new js("Direction Balance",0,100);else if(K=="Strg")u=new js([12,64],1,3);else if(K=="Blnc")u=new js("Balance",0,10);
else if(K=="BlcI")u=new js("Black Intensity",0,10);else if(K=="WhtI")u=new js("White Intensity",0,10);
else if(K=="DrkI")u=new js("Dark Intensity",0,50);else if(K=="LghI")u=new js("Light Intensity",0,50);
else if(K=="StrW")u=new js("Stroke Width",3,15);else if(K=="Grns")u=new js("Graininess",0,c=="NtPr"?20:10);
else if(K=="GlwA")u=new js("Glow Amount",0,20);else if(K=="ClrA")u=new js("Clear Amount",0,20);else if(K=="ChrA")u=new js("Charcoal Area",0,20);
else if(K=="ChlA")u=new js("Chalk Area",0,20);else if(K=="FrgL")u=new js("Foreground Level",1,15);else if(K=="BckL")u=new js("Background Level",1,15);
else if(K=="WhtL")u=new js("Background Level",0,50);else if(K=="BlcL")u=new js("Foreground Level",0,50);
else if(K=="ImgB")u=new js("Image Balance",0,50);else if(K=="Dnst")u=new js([12,74],0,50);else if(K=="FbrL")u=new js("Fiber Length",3,50);
else if(K=="CrcS")u=new js("Crack Spacing",2,100);else if(K=="CrcD")u=new js("Crack Depth",0,10);else if(K=="CrcB")u=new js("Crack Brightness",0,10);
else if(K=="TlSz")u=new js("Tile Size",2,100);else if(K=="GrtW")u=new js("Grout Width",1,15);else if(K=="LghG")u=new js("Lighten Grout",0,10);
else if(K=="SqrS")u=new js("Square Size",0,10);else if(K=="RplS")u=new js("Ripple Size",1,15);else if(K=="RplM")u=new js("Ripple Magnitude",0,20);
else if(K=="NmbL")u=new js("Number of Levels",2,8);else if(K=="EdgS")u=new js("Edge Simplicity",0,10);
else if(K=="EdgF")u=new js("Edge Fidelity",1,3);else if(K=="Sz")u=c=="NGlw"?new js("Glow Size",-24,24):new js("Brush Size",1,50);
else if(K=="Dtl")u=c=="Chrc"?new js("Detail",0,5):new js("Detail",1,15);else if(K=="StrL")u=c=="InkO"?new js("Stroke Length",1,50):new js("Stroke Length",0,20);
else if(K=="TxtT")u=new iW([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(K=="BrsT")u=new iW("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(K=="Grnt")u=new iW("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(K=="SDir")u=new iW([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(K=="ScrT")u=new iW([12,62],["Circle","Dot",[10,35]]);
else if(K=="LghD"||K=="LghP")u=new iW("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(K=="Clr")u=new hv("Glow Color");else if(K=="InvT")u=new fA([4,11]);else console.log(K);u.B(y.E.z,this.dY,this);
u.parent=this;this.vC[K]=u;this.n.appendChild(u.n)}};kc.GEfc.fr.prototype=new ax;kc.GEfc.fr.prototype.dY=function(c){this.I(new ev(y.E.z,!1))};
kc.GEfc.a9h="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
kc.GEfc.fr.prototype.c=function(c){for(var o in this.vC){var K;if(kc.GEfc.a9h.indexOf(o)!=-1)K=c[o].v;
else if(o=="TxtT")K=gL.Mc.indexOf(c[o].v[o]);else if(o=="BrsT")K=gL.auJ.indexOf(c[o].v[o]);else if(o=="LghD")K=gL.qq.indexOf(c[o].v[o]);
else if(o=="LghP")K=gL.vB.indexOf(c[o].v[o]);else if(o=="Grnt")K=gL.PP.indexOf(c[o].v[o]);else if(o=="ScrT")K=gL.uc.indexOf(c[o].v[o]);
else if(o=="SDir")K=gL.xY.indexOf(c[o].v.StrD);this.vC[o].c(K)}};kc.GEfc.fr.prototype.h=function(){var c=gL.ib(this.jD);
for(var o in this.vC){var K=this.vC[o].h();if(kc.GEfc.a9h.indexOf(o)!=-1)c[o].v=K;else if(o=="TxtT")c[o].v[o]=gL.Mc[K];
else if(o=="BrsT")c[o].v[o]=gL.auJ[K];else if(o=="LghD")c[o].v[o]=gL.qq[K];else if(o=="LghP")c[o].v[o]=gL.vB[K];
else if(o=="Grnt")c[o].v[o]=gL.PP[K];else if(o=="ScrT")c[o].v[o]=gL.uc[K];else if(o=="SDir")c[o].v.StrD=gL.xY[K]}return c};
kc.GEfc.fr.prototype._=function(){for(var c in this.vC)this.vC[c]._()};kc["Adobe Camera Raw Filter"]=function(c){kc.call(this,"Adobe Camera Raw Filter");
var o=this.n;this.aiV=c;this.KW=null;this.Ws=null;this.wA=1e3;this.fq=null;this.Hq=null;S.SZ(o,"flexrow");
var K=S.t("div"),u=S.t("div","padded");o.appendChild(K);o.appendChild(u);this.P0=new cY;this.P0.B("zoom",this.gd,this);
K.appendChild(this.P0.n);this.Wl=new eS(225);this.Wl.qZ(4);u.appendChild(this.Wl.n);this._b=S.t("div");
this._b.setAttribute("style","width:18em;");u.appendChild(this._b);this.az9=new dV("Hi",!0);this._b.appendChild(this.az9.n);
this.Ou=S.t("div","scrollable");this._b.appendChild(this.Ou);this.vC=[new js("Temperature",-100,100),new js("Tint",-100,100),new js([4,3],-4,4,null,!0),new js([12,3,0],-100,100),new js([4,4],-100,100),new js([12,9],-100,100)];
this.Pn="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var Y=0;Y<this.vC.length;Y++){var X=this.vC[Y];
X.c(0);X.B(y.E.z,this.gd,this);this.Ou.appendChild(X.n);if(Y==1||Y==3)this.Ou.appendChild(S.t("hr"))}};
kc["Adobe Camera Raw Filter"].prototype=new kc;kc["Adobe Camera Raw Filter"].prototype.d0=function(){return!0};
kc["Adobe Camera Raw Filter"].prototype.L1=function(c){this._b.appendChild(c)};kc["Adobe Camera Raw Filter"].prototype.VW=function(c,o){this.Wl.fV(fW.BU[c.SU]["--text-color"])};
kc["Adobe Camera Raw Filter"].prototype.c=function(c,o,K,u,X){this.oh=c;var $=K.m,O=K.e,n=$*O;this.az9.c($+" x "+O+", "+($*O/1e6).toFixed(1)+" MPx");
this.yW=K;this.fq=new Float32Array($*O*3);this.Hq=new Uint8Array($*O*4);this.Hq.fill(255);if(o instanceof Float32Array)this.KW=o;
else{var x=this.KW=new Float32Array($*O*3);for(var Y=0;Y<n;Y++){var l=Y*3,N=Y*4;x[l+0]=o[N+0]*(1/255);
x[l+1]=o[N+1]*(1/255);x[l+2]=o[N+2]*(1/255)}}this.Ws=[{PX:this.KW,rect:K.clone()}];this.wA=1e3;var f=this.KW;
while($>1&&O>1){var z=$,R=z*3;$=$>>>1;O=O>>>1;var V=f,f=new Float32Array($*O*3);this.Ws.push({PX:f,rect:new ez(0,0,$,O)});
for(var d=0;d<O;d++)for(var e=0;e<$;e++){var l=(d*$+e)*3,p=(d*2*z+e*2)*3,h=p+R;f[l]=.25*(V[p]+V[p+3]+V[p+R]+V[p+R+3]);
f[l+1]=.25*(V[p+1]+V[p+4]+V[p+R+1]+V[p+R+4]);f[l+2]=.25*(V[p+2]+V[p+5]+V[p+R+2]+V[p+R+5])}}var E=this.Pn;
for(var Y=0;Y<E.length;Y++){var q=E[Y];this.vC[Y].c(c[q]?c[q].v:0)}this.P0.c([{yS:K,data:this.Hq.buffer}]);
this.P0.Ez();this.gd(null)};kc["Adobe Camera Raw Filter"].prototype.h=function(c){if(c){this.gd(null,!0);
return this.Hq}return JSON.parse(JSON.stringify(this.oh))};kc["Adobe Camera Raw Filter"].prototype.ajL=function(){this.KW=null;
this.fq=null;this.Ws=null;this.Hq=null};kc["Adobe Camera Raw Filter"].prototype.gd=function(c,o){if(c&&this.vC.indexOf(c.target)!=-1){this.wA=1e3;
var K=this.Pn;for(var Y=0;Y<K.length;Y++){var u=K[Y];this.oh[u]={t:u=="Ex12"?"doub":"long",v:this.vC[Y].h()}}}var X=this.P0.xK().U,$=0;
while(X*2<=1&&!o){X*=2;$++}if(this.wA<=$)return;this.wA=$;var O=this.yW,n=this.a06(this.KW,O,this.fq,this.oh,this.aiV,this.Hq,$);
this.Wl.c(n);this.P0.c([{yS:O,data:this.Hq.buffer}])};kc["Adobe Camera Raw Filter"].prototype.a06=function(c,o,K,u,X,$,O){var n=c,x=K,l=$,N=o.m,f=o.e,z=O!=0;
if(z){var R=this.Ws[O];n=R.PX;N=R.rect.m;f=R.rect.e;x=new Float32Array(N*f*3);l=a.R(N*f*4)}gX(n,N,f,x,u,X);
var V=Date.now(),d=N*f;for(var Y=0;Y<d;Y++){var e=Y*3,p=Y*4;l[p+0]=~~(.5+x[e+0]*255);l[p+1]=~~(.5+x[e+1]*255);
l[p+2]=~~(.5+x[e+2]*255);l[p+3]=255}console.log(Date.now()-V,"integer conversion");V=Date.now();var h=a.Fr(l,Math.max(1,Math.floor(d/2e5)));
console.log(Date.now()-V,"histogram done");V=Date.now();if(z){var E=new Uint32Array(l.buffer),q=new Uint32Array($.buffer),Z=o.m,v=o.e;
for(var W=0;W<v;W+=2)for(var D=0;D<Z;D+=2){var e=W*Z+D,I=E[(W>>>O)*N+(D>>>O)];q[e]=I;q[e+1]=I;q[e+Z]=I;
q[e+Z+1]=I}console.log(Date.now()-V,"upscale");V=Date.now()}return h};kc["Adobe Camera Raw Filter"].prototype._Q=function(c,o){this.acw=c-248;
this.aAC=o;this.P0._Q(this.acw,this.aAC);this.Ou.style.height=o-236+"px"};kc["Adobe Camera Raw Filter"].prototype._=function(){for(var Y=0;
Y<this.vC.length;Y++)this.vC[Y]._()};kc.VaPo=function(){kc.call(this,"VaPo");this.f=-1;this.nr=null;
this.b7=!1;this.d8=null;this.Gt=null;this.Ig=null;this.k2=null;this.d_=null;this.Bi=null;this.In=null;
this.cO=null;this.Ks=null;this.sM=null;this.x0=null;this.Pb=[];this.l5=-1;this.g=null;this.k={Hv:[[{f:{id:0,name:"Move",wo:"tools/move"}}],[{f:{id:1,name:"Create Plane",wo:"tools/pcrop"}}],[{f:{id:2,name:"Marquee",wo:"tools/rselect"}}],[{f:{id:3,name:"Stamp",wo:"tools/clone"}}],[{f:{id:4,name:"Brush",wo:"tools/brush"}}],[{f:{id:5,name:"Transform",wo:"tools/transform"}}],[{f:{id:6,name:"Hand",wo:"tools/hand"}}],[{f:{id:7,name:"Zoom In",wo:"zoomIn"}}],[{f:{id:8,name:"Zoom Out",wo:"zoomOut"}}]],keys:[d2._x,d2.y6,d2.ya,d2.Ud,d2.S7,d2.J9,d2.T_,d2.G0]};
this.YA=new bG(this.k,!1);this.YA.B(y.E.M,this.kv,this);this.kd=null;this.yW=null;this.bq=null;this.a7T=null;
this.Vi=null;this.Ri=null;var c=S.t("div","flexrow"),u=0;this.oX=c;this.n.appendChild(c);c.appendChild(this.YA.n);
var o=S.t("div");c.appendChild(o);var top=S.t("div","form");o.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.Zb=S.t("span");top.appendChild(this.Zb);this.s0=[[new fI([12,80,5],1,1e3)],[new fI([7,6],0,30)],[new fI([12,14],1,200),new fI([12,17],0,100),new fI([12,0],0,100),new fA([12,75])],[new fI([12,14],1,200),new fI([12,17],0,100),new fI([12,0],0,100),new hv],[new fA("Flip"),new fA("Flop")],[]];
var K=[100,0,100,100,100,!1,100,100,100,JSON.parse(gH.nl.hP.slice(6)).v];this.D1=[];for(var Y=0;Y<6;
Y++){var X=S.t("span"),$=this.s0[Y];this.D1.push(X);for(var O=0;O<$.length;O++){var n=$[O];n.parent=this;
n.c(K[u++]);n.B(y.E.z,this.awg,this);X.appendChild(n.n)}}this.FH=S.t("div");this.FH.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.FH);this.view=new cY(!0);this.view._Q(100,100);this.view.Sd("auto");this.view.B("mousedown",this.tT,this);
this.view.B("mousemove",this.Al,this);this.view.B("mouseup",this.cF,this);S.SQ(this.view.xS,this.vq.bind(this));
o.appendChild(this.view.n)};kc.VaPo.prototype=new kc;kc.VaPo.prototype.d0=function(){return!0};kc.VaPo.prototype.L1=function(c){this.FH.appendChild(c)};
kc.VaPo.prototype.awg=function(c){if(c.target==this.s0[0][0]){var o=this._B(),K=c.target.h();for(var Y=0;
Y<this.g.length;Y++)if(this.g[Y].length!=0&&o[Y])o[Y][0]=K;this.br(o)}if(this.f==5){this.kd=this.rL();
this.gd(!0)}this.gd()};kc.VaPo.prototype.y9=function(c){var o=this.f,K=this.Gt;if(o==3||o==4){var u=this.s0[o-1],X=ac.jz(),$=X.Brsh.v;
$.Dmtr.v.val=u[0].h();$.Hrdn.v.val=u[1].h();X=r.VN.pY(X,c);if(X){$=X.Brsh.v;u[0].c($.Dmtr.v.val);u[1].c($.Hrdn.v.val)}this.en()}if(o==1&&K&&(c.N(d2.UL)||c.N(d2.Kf))){K.pop();
K.pop();if(K.length==0)K=this.Gt=null;this.gd()}function O(N,Y,V){a.Ui(N[Y],N[0],V.bq,V.yW);V.xH(N[0])}this.d8=c;
if(o<6)this.view.y9(c);var n=c.N(d2.vm);if(n){var x=this.l5,l=0;if(c.N(d2.G0)){if(c.N(d2.Qx))l=1;else l=-1}else if(c.N(d2.wd))l=1;
if(l!=0&&o!=5){console.log(this.l5,l,this.Pb);var N=this.Pb[this.l5],f=!1;if(N.length==3&&l==-1){O(N,1,this);
f=!0}x+=l;this.l5=Math.max(0,Math.min(this.Pb.length-1,x));N=this.Pb[this.l5];if(N.length==3&&l==1){O(N,2,this);
f=!0}this.gd(f)}if(c.N(d2._x)){if(S.Qz())fn.a1B(this.C3.bind(this))}if(c.N(d2.Vf)){this.d_=null;this.gd()}}else{var z=this.k.keys;
for(var Y=0;Y<z.length;Y++)if(c.N(z[Y]))this.iF(Y)}if(c.N(d2.Kf)||c.N(d2.UL)){var R=this._B();R=a.wS.awY(R,this.g);
this.g=[];for(var Y=0;Y<R.length;Y++)this.g[Y]=[];this.br(R);this.gd()}};kc.VaPo.prototype.C3=function(c){if(c=="granted")fn.HC(this,this.Fb.bind(this))};
kc.VaPo.prototype.Fb=function(c,o){if(this.k2==null)this.k2=[0,0];if(this.f==5)this.iF(0);this.iF(5,{OQ:c,aB:o})};
kc.VaPo.prototype.kv=function(c){if(c.data.Y==y.H.VO){this.iF(c.data.f)}};kc.VaPo.prototype.ady=function(c){var o=this.view.Ch(c),K=a.wS.tK(this._B(),this.g),u=1e9,X=0;
for(var Y=0;Y<K.length;Y++){var $=K[Y][0],O=o.x-$[0],n=o.y-$[1],x=Math.sqrt(O*O+n*n);if(x<u){u=x;X=Y}}if(u>4*S.Sm()/this.view.xK().U)return null;
return K[X]};kc.VaPo.prototype.vq=function(c){var o=this.f,K=this.Gt;if(o<2&&!this.b7){var u=this.nr=this.ady(c),X=this._B(),$="auto";
if(o==0&&a.wS.KL(X,u)){var O=X[u[1]][1][u[2]],n=O[5+{1:0,5:1,7:2,3:3}[u[3]]],x=n[0],l=n[1];$=bR.aph(x[1]-l[1],-x[0]+l[0])}if(a.wS.aoi(X,u))$="crosshair";
this.view.Sd($)}if(K){var N=this.view.Ch(c),f=K.slice(0);K[K.length-2]=N.x;K[K.length-1]=N.y;this.gd()}this.en(c);
if(o==5&&!this.b7&&this.jp){var N=this.view.Ch(c),X=this._B(),z=a.wS.JX(X,N.x,N.y,this.bX());if(z){var R=new kn(z[2][0],z[2][1]),V=a.wS.Yv(X,X[z[0]][1][z[1]],this.bX()),d=V[1],e=a.D.ly(V[0],d),p=[d.x+d.m/2,d.y+d.e/2];
a.D.i(e,p);var h=N.x-p[0],E=N.y-p[1],q=this.jp.pz(R,this.view.xK().U,null,null,Math.atan2(-E,-h));this.view.Sd(q?q:"default")}}};
kc.VaPo.prototype.en=function(c){var o=this.f,K=this.d8;if((o==3||o==4)&&!this.b7){var u=c?this.view.Ch(c):this.hj,X=this._B();
this.hj=u;if(u==null)return;var $=a.wS.JX(X,u.x,u.y,this.bX());if($){if(o==3&&this.x0&&this.s0[2][3].h()){var O=new kn($[2][0],$[2][1]);
this.sM=O.wv(this.x0);this.gd()}if(o==3&&(this.sM==null||K&&(K.N(d2.u6)||K.N(d2.gj)))){if(this.kd){this.Ri=null;
this.xH(this.kd);this.gd(!0,this.kd)}return}this.akq($,this.kd)}}};kc.VaPo.prototype.bX=function(){return[this.yW.m/2,this.yW.e/2]};
kc.VaPo.prototype.tT=function(c){this.b7=!0;var o=this.f,K=this.Gt,u=this._B(),X=this.d8,$=this.nr=this.ady(null),O=this.view.Ch(),n=a.wS.JX(u,O.x,O.y,this.bX()),x=n?new kn(n[2][0],n[2][1]):null;
if(a.wS.aoi(u,$)){var l=u[$[1]][1][$[2]];u.splice($[1],1);this.g.splice($[1],1);K=a.wS.am8(l);var N=-1,O=$[0];
for(var Y=0;Y<8;Y+=2){var f=K[Y]-O[0],z=K[Y+1]-O[1];if(f*f+z*z<1e-5)N=Y}N=N+2&7;K=this.Gt=K.slice(N).concat(K.slice(0,N));
this.br(u)}else if(a.wS.KL(u,$)){if(o==1||X&&X.N(d2.vm)){u=a.wS.ayY(u,$,this.bX());this.br(u);$[2]=u[$[1]][1].length-1;
$[3]=8+($[3]+4&7);this.g[$[1]].push($[2]);this.br(u,!0);this.iF(0)}else this.br(this._B(u))}else if(o==0){var R=[];
for(var Y=0;Y<u.length;Y++)R.push([]);if(n){if(X&&X.N(d2.Qx))R=this.g;var V=R[n[0]].indexOf(n[1]);if(V==-1)R[n[0]].push(n[1]);
else R[n[0]].splice(V,1)}this.g=R;this.br(u,!0);this.gd()}else if(o==2){if(n){var d=this.d_;if(d&&d.Y3(x)){if(X)if(X.N(d2.u6)||X.N(d2.vm)){this.iF(5);
this.tT(c);return}this.Bi=new kn(x.x-d.x,x.y-d.y)}else{this.Ig=n[2].concat(n[2]);this.k2=n}}}else if(o==3||o==4){if(o==3){if(X&&(X.N(d2.u6)||X.N(d2.gj))){if(n){this.sM=x;
this.cO=x.clone();this.x0=null;this.Ks=n;this.gd()}else alert("You must click into a plane");this.b7=!1;
return}else if(this.sM==null){alert(iV.get([15,7,0]));this.b7=!1;return}else if(n){var e=this.x0=x.wv(this.sM)}}if(n){this.akq(n)}}else if(o==5){if(n){var p=new kn(n[2][0],n[2][1]),h=this.jp.x5({Q:this.view.xK()},{},X,p)}}};
kc.VaPo.prototype.akq=function(c,o){var K=this.Ri;if(K==null)this.Ri=K=a.R(this.yW.P()*4);else K.fill(0);
var u=this.f;this.k2=c;var X=this.s0[u-1],$=a.ac2.aa8(X[0].h(),X[1].h()/100,1),O=a.R($[1].P()*4);a.bp($[0],O,3);
if(u==4){var n=a.T.h0(X[3].h());a.ms(O,Math.round(n.J)<<16|Math.round(n.r)<<8|Math.round(n.Z)<<0,4278190080)}this.In={avF:$[0],OQ:O,aB:$[1]};
var x=this.kd=this.mB(c[2],c[2]),l=o?o.X3(x):x;this.xH(l);this.gd(!0,l)};kc.VaPo.prototype.Al=function(c){var o=this.nr,K=this.f,u=this._B();
if(K==0&&a.wS.KL(u,o)){u=a.wS.aoY(u,o,this.view.Ch());this.br(u,!0);this.gd()}var X=this.Bi;if(K==2&&this.b7&&(this.Ig||X)){var $=this.view.Ch(),O=a.wS.JX(u,$.x,$.y,this.bX());
if(O){this.k2=O;if(X){this.d_.x=O[2][0]-X.x;this.d_.y=O[2][1]-X.y}else{this.Ig=this.Ig.slice(0,2).concat(O[2]);
this.d_=a.A.P3(this.Ig)}this.gd()}}if((K==3||K==4)&&this.b7){var $=this.view.Ch(),O=a.wS.JX(u,$.x,$.y,this.bX());
if(O){if(K==3){var n=this.x0;this.sM=new kn(O[2][0]-n.x,O[2][1]-n.y)}var x=this.mB(this.k2[2],O[2]);
this.kd=this.kd.X3(x);this.k2=O;this.xH(x);this.gd(!0,x)}}if(K==5&&this.b7){var $=this.view.Ch(),O=a.wS.JX(u,$.x,$.y,this.bX(),this.k2);
if(O){var l=new kn(O[2][0],O[2][1]);this.jp.Xo({Q:this.view.xK()},{},this.d8,l);this.k2=O;var x=this.kd;
if(x)this.xH(x);else x=new ez;this.kd=this.rL(null,null,!0);this.gd(!0,x.X3(this.kd))}}};kc.VaPo.prototype.mB=function(c,o){c=new kn(c[0],c[1]);
o=new kn(o[0],o[1]);var K=Math.max(1e-5,kn.je(c,o)),u=this.In.aB.m*.2,X=new ez;for(var $=0;$<K;$+=u){var O=1-$/K,n=O*c.x+(1-O)*o.x,x=O*c.y+(1-O)*o.y,l=this.In.aB.clone();
l.x=Math.round(n-l.m/2);l.y=Math.round(x-l.e/2);if(this.f==3){var N=this.x0;if(N==null)N=new kn(n,x).wv(this.sM);
var f=this.d_=l.clone();f.x=Math.round(f.x-N.x);f.y=Math.round(f.y-N.y);var z=this.In.avF;this.In=this.a80(this.Ks);
this.d_=null;a.L7(z,this.In.OQ);this.In.avF=z}var R=this.rL(this.Ri,l);X=X.X3(R)}return X};kc.VaPo.prototype.cF=function(c){var o=this.nr;
if(o&&o[3]>=8){var K=a.wS.a0h(this._B(),o,this.bX());this.br(K,!0);this.gd();alert("new plane added")}var u=this.f,X=this.Gt;
if(X||u==1){var $=this.view.Ch();if(X==null)X=this.Gt=[$.x,$.y];if(X.length==8&&bR.aw(X)){var K=this._B();
K.push([100,[a.wS.azE(X,this.bX())]]);this.g.push([0]);this.br(K,!0);X=this.Gt=null;this.iF(0);this.gd()}else if(X.length<8){X.push($.x,$.y);
if(X.length==8&&!bR.aw(X)){var O=X[0],n=X[1];X[0]=X[4];X[1]=X[5];X[4]=O;X[5]=n}}}var x=this.Ig;if(u==2&&x&&x[0]==x[2]&&x[1]==x[3]){this.d_=null;
this.gd()}if((u==3||u==4)&&this.b7){if(u==3&&!this.s0[2][3].h()&&this.cO){this.sM=this.cO.clone();this.gd()}this.br();
this.Ri=null}if(!this.s0[2][3].h())this.x0=null;this.b7=!1;this.Bi=null;this.Ig=null};kc.VaPo.prototype.iF=function(c,o){if(c==this.f)return;
var K=this.kd,X=6;if(this.f==5){this.br();this.xH(K);this.jp=null;this.gd()}if(this.f==3||this.f==4){this.Ri=null;
if(K)this.xH(K);this.gd(!0,K)}if(c==5){if(o==null&&this.d_==null){alert("Select the area to be transformed");
return}this.awP(o)}if(c>1){var u=this._B();this.sB();this.br(u,!0);this.gd()}this.view.y9(c>=X?cY.ev(c-X):new d2);
if(c<X)this.view.Sd("auto");this.f=c;this.YA.iF(c);S._a(this.Zb);var $={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[c];
this.Zb.appendChild(this.D1[$])};kc.VaPo.prototype._B=function(){var Y=this.l5,c=this.Pb;while(c[Y].length==3)Y--;
var o=c[Y];this.g=JSON.parse(o[1]);return JSON.parse(o[0])};kc.VaPo.prototype.br=function(c,o){if(c==null&&this.kd==null)return;
var K=this.Pb,u=this.l5,Y=u;while(Y>=0&&K[Y].length==3)Y--;if(o==null)this.l5=u=u+1;if(c!=null)K[o?Y:u]=[JSON.stringify(c),JSON.stringify(this.g)];
else{var X=this.yW,$=this.kd,O=a.R($.P()*4),n=a.R($.P()*4);K[u]=[$,O,n];a.Ui(this.bq,X,O,$);if(this.Ri)a.a.hA("norm",this.Ri,X,this.bq,X,X,this.afA());
else this.rL(this.bq);a.Ui(this.bq,X,n,$);this.kd=null}while(K.length!=u+1)K.pop()};kc.VaPo.prototype.afA=function(){return this.s0[this.f-1][2].h()/100};
kc.VaPo.prototype.sB=function(c,o){if(c==null)c=this._B();this.g=[];for(var Y=0;Y<c.length;Y++){var K=[];
this.g.push(K);if(o)for(var u=0;u<c[Y][1].length;u++)K.push(u)}};kc.VaPo.prototype.c=function(c,o,K,u,X,$){var O=JSON.parse(JSON.stringify($[2].wS));
this.l5=-1;this.sB(O);this.br(O);var n=a.R(u.P()*4);a.Ui(o,K,n,u);this.aka=new ez;this.yW=u;this.a7T=X;
this.bq=n;this.Vi=X.slice(0);this.xH(u);this.gd(!0);this.view.Ez();this.iF(0)};kc.VaPo.prototype.awP=function(c){this.In=c?c:this.a80();
var o=a.A.W6(this.In.aB).j;if(c){var K=this._B(),u=a.wS.Yv(K,K[0][1][0],this.bX()),X=u[1],$=Math.min(X.m/c.aB.m,X.e/c.aB.e)*.9;
if($<1)a.A.i(o,new bE($,0,0,$,0,0),o)}this.jp=new bR(o,!0,!0);this.d_=null;this.kd=this.rL();this.gd(!0)};
kc.VaPo.prototype.a80=function(c){var o=this.yW,K=a.A.Qt(this.d_),u=this._B(),X=a.R(K.P()*4);if(c==null)c=this.k2;
var $=u[c[0]][1],O=a.wS.BJ(u[c[0]][1],c[1],K,this.bX());for(var n=0;n<O.length;n++){var x=$[O[n]],l=a.wS.Yv(u,x,this.bX()),N=l[0],f=l[1],z=f.ar(K);
if(z.SR())continue;z=a.A.Qt(z);var R=a.R(z.P()*4),V=a.D.ly(N,f);V=a.D.Jv([1/o.m,0,0,0,1/o.e,0,0,0],V);
V=a.D.fH(V);a.D.drawImage(V,this.Vi,o.m,o.e,R,z);a.Ui(R,z,X,K)}var d=this.s0[1][0].h(),e=Math.round(d*1.4),p=K.clone();
p.JG(-e,-e);var h=a.R(p.P());h.fill(255);var E=a.R(K.P());a.qv(h,p,E,K);var q=a.R(K.P());a.kZ.mA(E,q,K,d);
a.Sw(X,E,3);a._M.ar(E,q,q);a.bp(q,X,3);return{OQ:X,aB:K}};kc.VaPo.prototype.xH=function(c,o){var K=this.yW;
a.Ui(this.a7T,K,this.Vi,K,c);a.a.hA("norm",this.bq,K,this.Vi,K,c,1);if(this.Ri)a.a.hA("norm",this.Ri,K,this.Vi,K,c,this.afA())};
kc.VaPo.prototype.rL=function(c,o,K){var u=this.In,X=u.aB,$=this.yW,O,n=o?a.A.W6(o).j:this.jp.tK(),x=a.A.jl(n),O=a.D.ly(n,X),l=this.s0[4],N=new bE;
if(l[0].h()){N.V=-1;N.hW=2*X.x+X.m}if(l[1].h()){N.gI=-1;N.qj=2*X.y+X.e}O=a.D.Jv(O,a.D.I_(N));function f(J,b){J.beginPath();
J.moveTo(b[0],b[1]);for(var Y=1;Y<4;Y++)J.lineTo(b[Y*2],b[Y*2+1]);J.closePath()}var z=this._B(),R=a.wS.BJ(z[this.k2[0]][1],this.k2[1],x,this.bX()),V=z[this.k2[0]][1],d=new ez;
for(var e=0;e<R.length;e++){var p=V[R[e]],h=a.wS.Yv(z,p,this.bX()),E=h[0],q=h[1],Z=q.ar(x);if(this.d_)Z=Z.ar(this.d_);
if(Z.SR())continue;var v=a.D.ly(E,q),W=a.A.W6(Z).j;a.D.i(v,W);var D=n.slice(0);a.D.i(v,D);var I=a.A.P3(D).ar(a.A.P3(W)),A=I.m,U=I.e;
if(I.SR())continue;v=a.D.Jv(a.D.Jv(v,O),[X.m,0,X.x,0,X.e,X.y,0,0]);var w=a.R(I.P()*4);a.D.drawImage(v,u.OQ,X.m,X.e,w,I,K);
if(Z.P()!=x.P()){var t=a.kW(A,U);t.save();t.clearRect(0,0,A,U);t.translate(-I.x,-I.y);f(t,W);t.clip();
f(t,D);t.fill();t.restore();var L=new Uint8Array(t.getImageData(0,0,A,U).data.buffer);for(var Y=3;Y<w.length;
Y+=4)if(L[Y]<w[Y])w[Y]=L[Y]}a.a.hA("norm",w,I,c?c:this.Vi,$,I,1);d=d.X3(I)}return d};kc.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this._B()))};
kc.VaPo.prototype.ab$=function(){if(this.f==5)this.iF(0);var c=new ez,o=this.Pb;for(var Y=0;Y<=this.l5;
Y++)if(o[Y].length==3)c=c.X3(o[Y][0]);var K=a.R(c.P()*4);a.Ui(this.bq,this.yW,K,c);return[K,c]};kc.VaPo.prototype._Q=function(c,o){this.YA._Q(c,o);
this.view._Q(c-40,o-30)};kc.VaPo.prototype._=function(){this.YA._();for(var Y=0;Y<this.s0.length;Y++)for(var c=0;
c<this.s0[Y].length;c++)this.s0[Y][c]._()};kc.VaPo.prototype.gd=function(c,o){var K=this.yW,u=[],X=[],$=[],O=this._B(),n=a.wS.tK(O,this.g),x=0,l=null,e=null,p=null,h=null;
for(var Y=0;Y<n.length;Y++)$.push(n[Y][0][0],n[Y][0][1]);for(var Y=0;Y<O.length;Y++){var N=this.g[Y].length;
x+=N;if(N!=0)l=[Y,this.g[Y][0]]}var f=this.s0[0][0];f.WR(x!=0);if(x!=0)f.c(Math.round(O[l[0]][0]));if(x==1){var z=O[l[0]][1]}var R=[];
if(this.d_&&O[this.k2[0]])R=a.wS.BJ(O[this.k2[0]][1],this.k2[1],this.d_,this.bX());var V=[];if(this.jp){V=this.jp.aBg();
V[4]=this.jp.q4()}var d=[];if(this.jp&&O[this.k2[0]])d=a.wS.BJ(O[this.k2[0]][1],this.k2[1],a.A.P3(this.jp.tK()),this.bX());
for(var E=0;E<O.length;E++){var q=O[E][0],z=O[E][1],Z=this.g[E];for(var v=0;v<z.length;v++){var l=z[v],W=a.wS.Yv(O,l,this.bX()),D=W[0],K=W[1],I=a.D.ly(D,K);
if(K.SR()){if(p==null)p={G:[],j:[]};a.A.concat(p,{G:["M","L","L","L","Z"],j:D});continue}var A=a.A.W6(K),U=A.j,w=A.G,t=this.sM;
if(t&&K.Y3(t)&&this.Ks&&this.Ks[0]==E){e=[t.x,t.y];a.D.i(I,e)}if(R.indexOf(v)!=-1){var L=this.d_.ar(K);
if(E==this.k2[0]&&!L.SR()){if(h==null)h={j:[],G:[]};var J=a.A.W6(L);a.D.i(I,J.j);a.A.concat(h,J)}}if(d.indexOf(v)!=-1&&E==this.k2[0]){var b=[];
for(var Y=0;Y<V.length;Y++)if(K.Y3(V[Y]))b.push(V[Y].x,V[Y].y);if(b.length!=0){a.D.i(I,b);$=$.concat(b)}}if(Z&&Z.indexOf(v)!=-1){var F=Math.ceil(K.x/q)*q,B=K.x+K.m,k=Math.ceil(K.y/q)*q,i=K.y+K.e;
for(var H=F;H<B;H+=q){U.push(H,K.y,H,i);w.push("M","L")}for(var m=k;m<i;m+=q){U.push(K.x,m,B,m);w.push("M","L")}}a.D.i(I,U);
u=u.concat(w);X=X.concat(U)}if(e&&this.f==3){var H=e[0],m=e[1],j=10/this.view.xK().U;X.push(H-j,m,H+j,m);
X.push(H,m-j,H,m+j);u.push("M","L","M","L")}}var D=this.Gt,K=this.yW;if(D){var Q=["M"];for(var Y=0;Y<D.length-2;
Y+=2)Q.push("L");Q.push("Z");var G=r.zm.qN(D,K.m/2,K.e/2);if(isNaN(G)||G==Infinity||G==-Infinity||!bR.aw(D)){if(p==null)p={G:[],j:[]};
a.A.concat(p,{G:Q,j:D})}else{X=X.concat(D);u=u.concat(Q)}}var g={nO:{G:u,j:X},ayK:p,agt:h,vM:$,OE:null};
if(c){this.view.c([{yS:K,data:this.Vi.buffer}],null,g,o)}else this.view.ak8(g)};kc.blnc=function(){kc.call(this);
var c=this.n;this.qe=null;this.J6=new iW([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.J6.B(y.E.z,this.gd,this);
c.appendChild(this.J6.n);this.eI=[];for(var Y=0;Y<3;Y++){var o=new js(["VAR0 - VAR1",j7.asi[Y],j7.eF[Y]],-100,100);
o.B(y.E.z,this.Ur,this);this.eI.push(o);c.appendChild(o.n)}this.zh=new fA([13,4]);this.zh.B(y.E.z,this.Ur,this);
c.appendChild(this.zh.n)};kc.blnc.prototype=new kc;kc.blnc.prototype._=function(){this.J6._();for(var Y=0;
Y<3;Y++)this.eI[Y]._();this.zh._()};kc.blnc.prototype.c=function(c){this.qe=JSON.parse(JSON.stringify(c));
this.gd()};kc.blnc.prototype.h=function(c){var o=["ShdL","MdtL","HghL"],K=this.qe[o[this.J6.h()]].v;
for(var Y=0;Y<3;Y++)K[Y].v=this.eI[Y].h();this.qe.PrsL.v=this.zh.h();return JSON.parse(JSON.stringify(this.qe))};
kc.blnc.prototype.gd=function(c){var o=["ShdL","MdtL","HghL"],K=this.qe[o[this.J6.h()]].v;for(var Y=0;
Y<3;Y++)this.eI[Y].c(K[Y].v);this.zh.c(this.qe.PrsL.v)};kc.brit=function(){kc.call(this,"brit");this.gS.push(new js([12,2],-150,150,""));
this.gS.push(new js([12,3,0],-100,100,""));this.gS.push(new fA([12,3,1]));this.HP()};kc.brit.prototype=new kc;
kc.curv=function(){kc.call(this);this.value=null;this.Jb=null;this.RU=null;var c=this.n;this.Nt=new iW("Preset",["basic","advanced"]);
this.Nt.B(y.E.z,this.a1Q,this);c.appendChild(this.Nt.n);S.jR(c);this.lw=new iW([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.lw.B(y.E.z,this.S0,this);c.appendChild(this.lw.n);this.d2=new iW(null,["Spline","Sketch"]);this.d2.B(y.E.z,this.a1Q,this);
c.appendChild(this.d2.n);this.xv=new i4;this.xv.parent=this;this.xv.B(y.E.z,this.Am,this);c.appendChild(this.xv.n);
S.jR(c);this.wG=new a2;this.wG.B(y.E.z,this.Np,this);c.appendChild(this.wG.n);this.dH=null;this.aaD=0;
this.tm=0;S.jR(c);this.PZ=new aN("Sample from image",hE.DS(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.PZ.B(y.E.z,this.xm,this);this.PZ.n.style.marginRight="0";c.appendChild(this.PZ.n)};kc.curv.prototype=new kc;
kc.curv.prototype.VW=function(c,o){if(o==iD.Vk||o==iD.Lh){var K=c.Dd,u=["Default"];for(var Y=0;Y<K.length;
Y++)u.push(K[Y].presetFileName.v);u.push("Custom");this.Nt.e8(u,[1,K.length,1]);this.RU=c}};kc.curv.prototype._Q=function(c,o){this.wG._Q(c,o)};
kc.curv.prototype._=function(){this.lw._();this.wG._()};kc.curv.prototype.gL=function(){this.Nt.c(this.RU.Dd.length+1)};
kc.curv.prototype.a1Q=function(c){if(c.target==this.Nt){var o=this.Nt.h(),K=this.RU.Dd,u;if(o==0)u=gZ.ib("curv");
else if(o-1<K.length)u=JSON.parse(JSON.stringify(K[o-1]));else return;this.c(u);this.Ur();return}this.gL();
var X=i8.Jz(this.value,0),$=X.length==256?1:0,O=this.d2.h();if($==O)return;var u=gZ.ib("curv");if(O==1){var n=[];
for(var Y=0;Y<256;Y++)n.push(Y);i8.No(u,0,n)}this.c(u);this.Ur()};kc.curv.prototype.Np=function(){this.gL();
i8.No(this.value,this.lw.h(),this.wG.h());this.Ur()};kc.curv.prototype.S0=function(){var c=this.lw.h(),o=i8.Jz(this.value,c),K=o.length==256?1:0;
this.d2.c(K);if(this.Jb)this.wG.VC(this.Jb[c],this.Jb[4]*[1,.33,.33,.33][c],["#ccc","#fcc","#cfc","#ccf"][c]);
this.wG.c(o)};kc.curv.prototype.Iq=function(){return!0};kc.curv.prototype.x5=function(c,o,K,u,X){var $=this.value;
this.value=gZ.ib("curv");this.Ur();var O=r.am.Uf(c,X,1,null,!0),n=this.dH=[O>>>16&255,O>>>8&255,O&255];
this.aaD=X.y;var x=this.PZ.h().indexOf(!0);if(x==0){var l=(n[0]+n[1]+n[2])/3,N=this.lw.h(),f=i8.Jz($,N),z=N==0?l:n[N-1],R=-1;
for(var Y=0;Y<f.length;Y++)if(f[Y].v.Hrzn.v==z)R=Y;if(R==-1){var V=JSON.parse(JSON.stringify(f[0]));
V.v.Hrzn.v=z;V.v.Vrtc.v=z;f.push(V);f.sort(function(d,e){return d.v.Hrzn.v-e.v.Hrzn.v});i8.No($,N,f);
this.tm=f.indexOf(V)}else this.tm=R}this.c($);this.Ur()};kc.curv.prototype.Xo=function(c,o,K,u,X){if(this.dH==null)return;
if(this.PZ.h().indexOf(!0)==0){var $=this.value,O=this.lw.h(),n=i8.Jz($,O),x=n[this.tm];x.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(x.v.Hrzn.v+(this.aaD-X.y))));
i8.No($,O,n);this.c($);this.Ur()}};kc.curv.prototype.v$=function(c,o,K,u,X){var $=this.value,O=this.dH,n=(O[0]+O[1]+O[2])/3,x=this.PZ.h().indexOf(!0)-1;
if(x<=-1){}else for(var Y=0;Y<3;Y++){var l=i8.Jz($,1+Y);if(x==0)l[0].v.Hrzn.v=O[Y];if(x==1){var N=Math.log(O[Y]/255)/Math.log(n/255),f=Math.min(999,Math.max(10,Math.round(100*N)));
if(l.length==2)l.splice(1,0,JSON.parse(JSON.stringify(l[0])));l[1].v.Hrzn.v=127-Math.log(f/100)*127;
l[1].v.Vrtc.v=127}if(x==2)l[l.length-1].v.Hrzn.v=O[Y];i8.No($,1+Y,l)}this.c($);this.Ur();this.gL();this.dH=null};
kc.curv.prototype.c=function(c){this.value=c;this.S0()};kc.curv.prototype.VC=function(c){this.Jb=c;this.S0()};
kc.curv.prototype.h=function(c){return JSON.parse(JSON.stringify(this.value))};kc.curv.prototype.Am=function(){var c=this.xv.h(),o=this.Jb,K=this.value,u=a.a5G(c,o);
for(var Y=0;Y<4;Y++){var X=u[Y][0],$=u[Y][1],O=u[Y][2],n=[a.HO.ny(X,0,!0),a.HO.ny($,255,!0)];if(O!=null)n.splice(1,0,a.HO.ny(128,O,!0));
i8.No(K,Y,n)}this.S0();this.Ur()};kc.expA=function(){kc.call(this,"expA");this.gS.push(new js([12,5],-20,20,null,2,!0));
this.gS.push(new js([12,6],-.5,.5,null,2));this.gS.push(new js([12,7],.01,9.99,null,2,!0));this.HP()};
kc.expA.prototype=new kc;kc.expA.prototype.gF=function(c,o){o[0]=c.Exps.v;o[1]=c.Ofst?c.Ofst.v:0;o[2]=c.gammaCorrection?c.gammaCorrection.v:1};
kc.expA.prototype.H9=function(c,o){c.Exps={t:"doub",v:o[0]};c.Ofst={t:"doub",v:o[1]};c.gammaCorrection={t:"doub",v:o[2]}};
kc.grdm=function(){kc.call(this,"grdm");this.gS.push(new el(!0,null,!0));this.gS.push(new fA([12,23,0]));
this.HP()};kc.grdm.prototype=new kc;kc.grdm.prototype.gF=function(c,o){o[0]=c.Grad.v;o[1]=c.Rvrs?c.Rvrs.v:!1};
kc.grdm.prototype.H9=function(c,o){c.Grad.v=o[0];c.Rvrs={t:"bool",v:o[1]}};kc.grdm.prototype.VW=function(c,o){this.gS[0].DL(c.V5,c.th);
if(o==iD.Vk||o==iD.Mn||o==iD.cE)this.gS[0].E8(c.kQ)};kc.selc=function(){kc.call(this);var c=this.n;this.QH=[];
this.I0=null;this.J6=new iW([12,82],j7.tf.concat([[13,1,8],[13,1,13],[13,1,10]]));this.J6.B(y.E.z,this.dY,this);
c.appendChild(this.J6.n);S.jR(c);for(var Y=0;Y<4;Y++){var o=new js(j7.asi[Y],-100,100,"%");o.B(y.E.z,this.dY,this);
this.QH.push(o);c.appendChild(o.n)}this.dK=new fA([13,3]);c.appendChild(this.dK.n);this.dK.B(y.E.z,this.dY,this)};
kc.selc.prototype=new kc;kc.selc.prototype._=function(){this.J6._();this.dK._();for(var Y=0;Y<4;Y++)this.QH[Y]._()};
kc.selc.prototype.c=function(c){this.I0=JSON.parse(JSON.stringify(c));this.gd()};kc.selc.prototype.h=function(c){return JSON.parse(JSON.stringify(this.I0))};
kc.selc.prototype.dY=function(c){if(c.target!=this.J6){var o=this.I0,K=[];for(var Y=0;Y<4;Y++)K[Y]=this.QH[Y].h();
f4.No(o,this.J6.h(),K);o.Mthd={t:"enum",v:{CrcM:this.dK.h()?"Absl":"Rltv"}}}this.gd();this.Ur()};kc.selc.prototype.gd=function(){var c=this.I0,o=f4.Jz(c,this.J6.h());
for(var Y=0;Y<4;Y++)this.QH[Y].c(o[Y]);this.dK.c(c.Mthd?c.Mthd.v.CrcM=="Absl":!1)};kc.blwh=function(){kc.call(this,"blwh");
this.gS.push(new fA([12,11]));this.gS.push(new hv(!0));for(var Y=0;Y<6;Y++)this.gS.push(new js(j7.tf[Y],-200,300));
this.HP()};kc.blwh.prototype=new kc;kc.blwh.prototype.gF=function(c,o){o[0]=c.useTint.v;o[1]=c.tintColor.v;
var K="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)o[2+Y]=c[K[Y]].v};kc.blwh.prototype.H9=function(c,o){c.useTint.v=o[0];
c.tintColor.v=o[1];var K="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)c[K[Y]].v=o[2+Y]};
kc.hue2=function(){kc.call(this);this.value=null;this.x_=null;this.arq=null;this.zr=[[0,0,0],[0,50,0]];
var c=this.n;this.PZ=new aN(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.PZ.B(y.E.z,this.a8F,this);this.PZ.B(y.E.z,this.xm,this);c.appendChild(this.PZ.n);var o=this.gS=[new iW([12,12],["Master"].concat(j7.tf)),new js([12,8],-180,180),new js([12,9],-100,100),new js([12,10],-100,100),new fA([12,11])];
for(var Y=0;Y<o.length;Y++){var K=o[Y];K.B(y.E.z,Y==0?this.S0:this.aih,this);c.appendChild(K.n)}this.J6=o[0];
this.Ct=o[1];this.DF=o[2];this.mN=o[3];this.zE=o[4];this.Nb=new aN("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.Nb.B(y.E.z,this.a8F,this);this.Nb.B(y.E.z,this.xm,this);this.Nb.n.style.marginLeft="20px";c.appendChild(this.Nb.n);
this.Bx=S.t("div");c.appendChild(this.Bx);this.kw=this.tR.bind(this);this.vW=this.wN.bind(this);this.xS=S.t("canvas");
this.i0=this.xS.getContext("2d");this.pA=null;S.Qf(this.xS);S.qI(this.xS,282,18);c.appendChild(this.xS);
S.pI(this.xS,this.Lq.bind(this))};kc.hue2.prototype=new kc;kc.hue2.prototype._Q=function(c,o){S.qI(this.xS,Math.round(c),18);
if(this.value)this.S0()};kc.hue2.prototype.a8F=function(c){var o=c.target.h().indexOf(!0);if(o==-1)return;
if(c.target==this.PZ)this.Nb.c([!1,!1,!1]);else this.PZ.c([!1,!1,!1])};kc.hue2.prototype.Lq=function(c){if(this.J6.h()==0||this.zE.h())return;
var o=S.$_(c,this.xS).x/(this.xS.width/S.Sm()),$=1e6;function K(f,z,R){return f<z&&z<R||R<f&&(f<z||z<R)}var u=this.G2(),X=-1;
for(var Y=0;Y<4;Y++){var O=Math.abs(o-(u[Y]+Y*1e-5));if(O<$){$=O;X=Y}}if($>.025){X=-1;var n=u[0],x=u[1],l=u[2],N=u[3];
if(K(n,o,x))X=4;if(K(x,o,l))X=5;if(K(l,o,N))X=6}if(X==-1)return;this.pA=X;S.SQ(document.body,this.kw);
S.K1(document.body,this.vW)};kc.hue2.prototype.tR=function(c){var o=S.$_(c,this.xS).x/(this.xS.width/S.Sm()),K=this.G2(),u=this.pA;
for(var Y=1;Y<4;Y++)if(K[Y]<K[Y-1]){K[Y]+=1}if(u<4){var X=1e6,$=0;for(var Y=-20;Y<20;Y++){var O=Math.abs(K[u]-(o+Y));
if(O<X){X=O;$=Y}}o+=$;K[u]=o;for(var Y=u+1;Y<4;Y++)if(K[Y]<K[Y-1]){K[Y]=K[Y-1]}for(var Y=u-1;Y>=0;Y--)if(K[Y]>K[Y+1]){K[Y]=K[Y+1]}}else{var n=o-(K[u-4]+K[u-3])/2;
if(n<-.5)n+=1;if(u==4){K[0]+=n;K[1]+=n;K[2]=Math.max(K[1],K[2]);K[3]=Math.max(K[1],K[3])}if(u==5)for(var Y=0;
Y<4;Y++)K[Y]+=n;if(u==6){K[2]+=n;K[3]+=n;K[0]=Math.min(K[0],K[2]);K[1]=Math.min(K[1],K[2])}}for(var Y=1;
Y<4;Y++)if(K[Y]<K[Y-1])throw"e";this.aAR(K);this.S0();this.Ur()};kc.hue2.prototype.wN=function(c){S.UU(document.body,this.kw);
S.Fo(document.body,this.vW)};kc.hue2.prototype._=function(){for(var Y=0;Y<this.gS.length;Y++)this.gS[Y]._()};
kc.hue2.prototype.aih=function(c){var o=this.value.Clrz.v=this.zE.h();if(o)this.J6.c(0);if(c&&c.target==this.zE){var K=o?1:0;
this.zr[1-K]=ij.Jz(this.value,0);var u=this.zr[K];ij.No(this.value,0,u);if(this.J6.h()==0){this.Ct.c(u[0]);
this.DF.c(u[1]);this.mN.c(u[2])}}var X=this.J6.h(),$=ij.Jz(this.value,X),u=X==0?$:$.eI;u[0]=this.Ct.h();
var O=this.DF.h();u[1]=o?Math.max(0,O):O;u[2]=this.mN.h();ij.No(this.value,X,$);this.S0();this.Ur()};
kc.hue2.prototype.S0=function(){var c=this.J6.h(),o=this.value.Clrz?this.value.Clrz.v:!1;this.zE.c(o);
this.J6.WR(!o);this.Nb.WR(!o&&c!=0);var K=ij.Jz(this.value,c),u=c==0?K:K.eI;this.Ct.c(u[0]);this.DF.c(u[1]);
this.mN.c(u[2]);var X=this.xS.width,$=this.xS.height,O=this.i0;O.clearRect(0,0,X,$);if(o||c==0){this.Bx.innerHTML="";
return}var n=K.Yj;this.Bx.innerHTML=n[0]+"\xB0 / "+n[1]+"\xB0<span style=\"float:right\">"+n[2]+"\xB0 \\ "+n[3]+"\xB0</span>";
var x=a.R(X*4);jU.awv(x,1,X,-1,.5);var l=new ImageData(new Uint8ClampedArray(x.buffer),X,1),N=Math.round($/4);
for(var Y=0;Y<N;Y++)O.putImageData(l,0,Y);function f(p,h,E){O.fillStyle=E;var q=N*2;if(p<=h)O.fillRect(p*X,q,(h-p)*X,N);
else{O.fillRect(0,q,h*X,N);O.fillRect(p*X,q,(1-p)*X,N)}}var z=this.G2();f(z[0],z[1],"#888888");f(z[1],z[2],"#cccccc");
f(z[2],z[3],"#888888");O.fillStyle="#ffffff";O.lineWidth=1;O.beginPath();var R=N+.5,V=4*N+.5;for(var Y=0;
Y<4;Y++){var d=Math.floor(X*z[Y])+.5,e=(Y<2?-1:1)*N*(Y==1||Y==2?1:2);O.moveTo(d,R);O.lineTo(d,V);O.lineTo(d+e,V);
O.lineTo(d+e,N+N+.5);O.closePath()}O.fill();O.stroke()};kc.hue2.prototype.G2=function(){var c=this.J6.h(),o=ij.Jz(this.value,c).Yj;
for(var Y=0;Y<4;Y++)o[Y]=(1000.5+o[Y]/360)%1;return o};kc.hue2.prototype.aAR=function(c){var o=this.J6.h(),K=ij.Jz(this.value,o);
for(var Y=0;Y<4;Y++)K.Yj[Y]=Math.round(36e3+(c[Y]-.5)*360)%360;ij.No(this.value,o,K)};kc.hue2.prototype.Iq=function(){return!0};
kc.hue2.prototype.auW=function(){var c=this.PZ.h().indexOf(!0),o=this.Nb.h().indexOf(!0);return c!=-1?c:o!=-1?o+1:-1};
kc.hue2.prototype.x5=function(c,o,K,u,X){var $=this.auW();if($==-1)return;var O=this.value;this.value=gZ.ib("hue2");
this.Ur();var n=r.am.Uf(c,X,1,null,!0);this.c(O);var x=[n>>>16&255,n>>>8&255,n&255],l=a.R0(x[0]/255,x[1]/255,x[2]/255);
if($==0){this.J6.c(1+Math.round(l.s_*6)%6)}else{var N=this.G2(),f=.5+l.s_,z=1/12,R=N[1],V=N[2];if(V<R){V++;
if(f<R&&f+1-V<R-f)f++}var d=R<=f&&f<=V;if($==1){R=f-z/2;V=f+z/2}else if($==2&&!d){R=Math.min(f,R);V=Math.max(f,V)}else if($==3&&d){if(f-R<V-f)R=f;
else V=f}N=[R-z,R,V,V+z];this.aAR(N)}this.Ur();this.x_=X.x;this.arq=this.DF.h()};kc.hue2.prototype.Xo=function(c,o,K,u,X){var $=this.auW();
if($==-1)return;if($==0){if(this.x_!=null){var O=X.x-this.x_;O=Math.max(-100,Math.min(100,this.arq+.5*O));
this.DF.c(O);this.aih()}}};kc.hue2.prototype.v$=function(c,o,K,u,X){this.x_=null};kc.hue2.prototype.c=function(c){this.value=JSON.parse(JSON.stringify(c));
var o=this.value.Clrz?this.value.Clrz.v:!1;this.zr[o?1:0]=ij.Jz(this.value,0);this.S0()};kc.hue2.prototype.h=function(c){return JSON.parse(JSON.stringify(this.value))};
kc.levl=function(){function c(){kc.call(this);this.value=null;this.Jb=null;this.oE=[new kn(0,0),new kn(0,0),new kn(0,0),new kn(0,0),new kn(0,0)];
this.oS=-1;this.kw=this.tR.bind(this);this.vW=this.wN.bind(this);var o=this.n;this.lw=new iW([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.lw.B(y.E.z,this.S0,this);o.appendChild(this.lw.n);this.xv=new i4;this.xv.parent=this;this.xv.B(y.E.z,this.Am,this);
o.appendChild(this.xv.n);var K=S.t("div","");o.appendChild(K);var u=S.t("div","");o.appendChild(u);this.xS=S.t("canvas");
K.appendChild(this.xS);this.i0=this.xS.getContext("2d");this.RN=new kn(256,120);this.xS.setAttribute("style","display:block");
S.Qf(this.xS);S.pI(this.xS,this.Lq.bind(this));this.ng=S.t("canvas","");u.appendChild(this.ng);this.Xs=this.ng.getContext("2d");
this.f8=new kn(this.RN.x,40);this.ng.setAttribute("style","display:block");S.Qf(this.ng);S.pI(this.ng,this.an5.bind(this));
var X=this.Hh=[];for(var Y=0;Y<5;Y++){var $=new fi(null,null,3);X.push($);$.B(y.E.z,this.anA,this);(Y<2||Y==4?K:u).appendChild($.n)}K.appendChild(X[1].n);
this.PZ=new aN("Sample from image",hE.DS(["#000000","#888888","#ffffff"]),!0,null,!0);this.PZ.B(y.E.z,this.xm,this);
o.appendChild(this.PZ.n);this._Q(250,100)}c.prototype=new kc;c.prototype.Am=function(){var o=this.xv.h(),K=this.Jb,u=this.value,X=a.a5G(o,K);
for(var Y=0;Y<4;Y++){var $=X[Y][0],O=X[Y][1],n=X[Y][2],x=[a.HO.ny($,0,!0),a.HO.ny(O,255,!0)];if(n!=null)x.splice(1,0,a.HO.ny(128,n,!0));
var l=[~~$,~~O,0,255,n==null?100:~~(100+.75*100*(n-128)/128)];i3.No(u,Y,l)}this.S0();this.Ur()};c.prototype._Q=function(o,K){o+=6;
this.RN.x=this.f8.x=o;S.qI(this.xS,o,this.RN.y,this.i0);S.qI(this.ng,o,this.f8.y,this.Xs);var u=this.Hh;
u[3].n.setAttribute("style","margin-left: "+(o-104)+"px");u[4].n.setAttribute("style","margin: 0 "+(o/2-74)+"px");
if(this.value)this.S0()};c.prototype._=function(){this.lw._()};c.prototype.anA=function(o){var K=[];
for(var Y=0;Y<5;Y++){var u=255,X=1;if(Y==4){u=999;X=100}var $=parseFloat(this.Hh[Y].h());K[Y]=Math.max(0,Math.min(u,$*X))}i3.No(this.value,this.lw.h(),K);
this.S0();this.Ur()};c.prototype.S0=function(o){var K=this.RN.x,u=this.RN.y,X=this.lw.h(),$=this.i0;
$.clearRect(0,0,K,u);$.fillStyle="#cccccc";$.fillRect(8,8,K-16,u-16-8);if(this.Jb){var O=this.Jb[0].slice(0),V=0;
if(X==0){O.fill(0);var n=JSON.parse(JSON.stringify(this.value));i3.No(n,0,[0,255,0,255,100]);var x=j7.tN("levl",n),l=[x.nA,x.UZ,x.FS];
for(var N=0;N<3;N++){var f=this.Jb[1+N],z=l[N];for(var Y=0;Y<256;Y++)O[z[Y]]+=f[Y]}}var R=X==0?O:this.Jb[X];
for(var Y=0;Y<R.length;Y++)V+=R[Y];$.fillStyle="#333333";$.beginPath();$.moveTo(8,u-16);for(var Y=0;
Y<256;Y++){var d=55*R[Y]/V;$.lineTo(8+Y/256*(K-16),Math.max(8,u-16-u*d))}$.lineTo(K-8,u-16);$.closePath();
$.fill()}var e=i3.Jz(this.value,X);for(var Y=0;Y<5;Y++)this.Hh[Y].c(e[Y]/(Y==4?100:1));this.oE[0].Q7(8+e[0]/255*(K-16),u-14);
this.oE[1].Q7(8+e[1]/255*(K-16),u-14);var p=Math.log(e[4]/100)/Math.log(9.99);p=.5-p/2;this.oE[4].Q7(this.oE[0].x+p*(this.oE[1].x-this.oE[0].x),u-14);
this.q$($,this.oE[0],"#000000");this.q$($,this.oE[1],"#ffffff");this.q$($,this.oE[4],"#777777");var K=this.f8.x,u=this.f8.y;
$=this.Xs;$.clearRect(0,0,K,u);var h=$.createLinearGradient(0,0,K-16,0);h.addColorStop(0,"black");h.addColorStop(1,"white");
$.fillStyle=h;$.fillRect(8,8,K-16,16);this.oE[2].Q7(8+e[2]/255*(K-16),u-14);this.oE[3].Q7(8+e[3]/255*(K-16),u-14);
this.q$($,this.oE[2],"#000000");this.q$($,this.oE[3],"#ffffff")};c.prototype.q$=function(o,K,u){o.fillStyle=u;
o.fillRect(K.x-5,K.y,10,10)};c.prototype.Lq=function(o){var K=S.$_(o,this.xS),u=this.aC9([0,1,4],K);
if(u!=-1)this.oS=u;this.ag4()};c.prototype.an5=function(o){var K=S.$_(o,this.ng),u=this.aC9([2,3],K);
if(u!=-1)this.oS=u;this.ag4()};c.prototype.aC9=function(o,K){var u=-1,X=1e9;for(var Y=0;Y<o.length;Y++){var $=Math.abs(this.oE[o[Y]].x-K.x);
if($<X){X=$;u=o[Y]}}return X<16?u:-1};c.prototype.ag4=function(o){if(this.oS==-1)return;S.SQ(document.body,this.kw);
S.K1(document.body,this.vW)};c.prototype.tR=function(o){var K=i3.Jz(this.value,this.lw.h()),u=S.$_(o,this.oS==2&&this.oS==3?this.ng:this.xS),X=255*(u.x-8)/(this.RN.x-16);
X=Math.max(0,Math.min(255,X));if(this.oS==0)X=Math.min(X,K[1]-2);if(this.oS==1)X=Math.max(X,K[0]+2);
if(this.oS!=4)K[this.oS]=Math.round(X);else{var $=(X-K[0])/(K[1]-K[0]);$=1-2*$;$=Math.pow(9.99,$);K[4]=Math.min(999,Math.max(10,Math.round($*100)))}i3.No(this.value,this.lw.h(),K);
this.S0();this.Ur()};c.prototype.wN=function(o){S.UU(document.body,this.kw);S.Fo(document.body,this.vW);
this.oS=-1};c.prototype.Iq=function(){return!0};c.prototype.v$=function(o,K,u,X,$){var O=this.value,n=this.PZ.h().indexOf(!0);
if(n==-1)return;this.value=gZ.ib("levl");this.Ur();var x=r.am.Uf(o,$,1,null,!0),l=[x>>>16&255,x>>>8&255,x&255];
for(var Y=0;Y<3;Y++){var N=i3.Jz(O,1+Y);if(n==0)N[0]=l[Y];if(n==1){var f=Math.log(l[Y]/255)/Math.log((l[0]+l[1]+l[2])*.333/255);
N[4]=Math.min(999,Math.max(10,Math.round(100*f)))}if(n==2)N[1]=l[Y];i3.No(O,1+Y,N)}this.c(O);this.Ur()};
c.prototype.c=function(o){this.value=o;this.S0()};c.prototype.VC=function(o){this.Jb=o;this.S0()};c.prototype.h=function(o){return JSON.parse(JSON.stringify(this.value))};
return c}();kc.phfl=function(){kc.call(this,"phfl");this.gS.push(new hv);this.gS.push(new js([12,74],0,100,"%"));
this.gS.push(new fA([13,4]));this.HP()};kc.phfl.prototype=new kc;kc.phfl.prototype.gF=function(c,o){o[0]=c.Clr.v;
o[1]=c.Dnst.v;o[2]=c.PrsL.v};kc.phfl.prototype.H9=function(c,o){var K=a.T.h0(o[0]),u=c.Clr.v,X=a.xW(K.Z,K.r,K.J);
u.Lmnc.v=X.Eb;u.A.v=X.V;u.B.v=X.J;c.Dnst.v=o[1];c.PrsL.v=o[2]};kc.vibA=function(){kc.call(this,"vibA");
this.gS.push(new js([12,13],-100,100,null));this.gS.push(new js([12,9],-100,100,null));this.HP()};kc.vibA.prototype=new kc;
kc.vibA.prototype.gF=function(c,o){o[0]=c.vibrance?c.vibrance.v:0;o[1]=c.Strt?c.Strt.v:0};kc.vibA.prototype.H9=function(c,o){c.vibrance.v=o[0];
c.Strt.v=o[1]};kc.thrs=function(){kc.call(this,"thrs");this.gS.push(new js([4,13],1,255,null));this.HP()};
kc.thrs.prototype=new kc;kc.thrs.prototype.gF=function(c,o){o[0]=c.Lvl.v};kc.thrs.prototype.H9=function(c,o){c.Lvl.v=o[0]};
kc.mixr=function(){kc.call(this);var c=this.n;this.QH=[];this.I0=null;this.J6=new iW([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.ahJ=!1;this.J6.B(y.E.z,this.dY,this);c.appendChild(this.J6.n);S.jR(c);this.$S=new fA([12,60]);c.appendChild(this.$S.n);
this.$S.B(y.E.z,this.dY,this);for(var Y=0;Y<4;Y++){var o=new js([[13,1,1],[13,1,4],[13,1,5],[13,2]][Y],-200,200,"%");
o.B(y.E.z,this.dY,this);this.QH.push(o);c.appendChild(o.n)}};kc.mixr.prototype=new kc;kc.mixr.prototype._=function(){this.J6._();
this.$S._();for(var Y=0;Y<4;Y++)this.QH[Y]._()};kc.mixr.prototype.c=function(c){this.I0=JSON.parse(JSON.stringify(c));
this.gd()};kc.mixr.prototype.h=function(c){return JSON.parse(JSON.stringify(this.I0))};kc.mixr.prototype.dY=function(c){if(c.target!=this.J6){var o=j7.Xd(this.I0);
if(c.target==this.$S){o.$S=this.$S.h();if(o.$S)o.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else o.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var K=(o.$S?0:this.J6.h())*5,Y=this.QH.indexOf(c.target);
o.b[K+(Y<3?Y:4)]=c.target.h()}this.I0=j7.amw(o)}this.gd();this.Ur()};kc.mixr.prototype.gd=function(){var c=j7.Xd(this.I0);
if(c.$S!=this.ahJ)this.J6.e8(c.$S?[[13,1,7]]:j7.eF);this.ahJ=c.$S;this.$S.c(c.$S);var o=(c.$S?0:this.J6.h())*5;
for(var Y=0;Y<4;Y++)this.QH[Y].c(c.b[o+(Y<3?Y:4)])};kc.post=function(){kc.call(this,"post");this.gS.push(new js([4,1],2,255,null));
this.HP()};kc.post.prototype=new kc;kc.post.prototype.gF=function(c,o){o[0]=c.Lvls.v};kc.post.prototype.H9=function(c,o){c.Lvls.v=o[0]};
kc.clrL=function(){kc.call(this,"clrL");this.gS.push(new hi("LUTs"));this.HP()};kc.clrL.prototype=new kc;
kc.clrL.prototype.gF=function(c,o){o[0]=c};kc.clrL.prototype.H9=function(c,o){var K=o[0];for(var u in K)c[u]=K[u]};
kc.clrL.prototype.VW=function(c,o){if(o==iD.Vk||o==iD.Y_)this.gS[0].E8(c.akT)};kc.rplc=function(){kc.call(this,"rplc");
this.gS.push(new js([12,92],0,200));this.gS.push(new hv);this.gS.push(new js([12,8],-180,180));this.gS.push(new js([12,9],-100,100));
this.gS.push(new js([12,10],-100,100));this.HP()};kc.rplc.prototype=new kc;kc.rplc.prototype.gF=function(c,o){o[0]=c.Fzns.v;
o[1]=c.Mxm.v;o[2]=c.H.v;o[3]=c.Strt.v;o[4]=c.Lght.v};kc.rplc.prototype.H9=function(c,o){function K(X,$){$.Lmnc.v=X.Eb;
$.A.v=X.V;$.B.v=X.J}c.Fzns.v=o[0];c.H.v=o[2];c.Strt.v=o[3];c.Lght.v=o[4];var u=a.T.h0(o[1]),X=a.xW(u.Z,u.r,u.J);
K(X,c.Mnm.v);K(X,c.Mxm.v)};kc.fade=function(){kc.call(this,"fade");this.gS.push(new js([12,0],0,100,"%"));
this.gS.push(new iW([12,19,0],ef.kp,ef.fc));this.HP()};kc.fade.prototype=new kc;kc.fade.prototype.gF=function(c,o){o[0]=c.Opct.v.val;
o[1]=ef.uR.indexOf(c.Md.v.BlnM)};kc.fade.prototype.H9=function(c,o){c.Opct.v.val=o[0];c.Md.v.BlnM=ef.uR[o[1]]};
kc.aply=function(){var c=ef.uR.concat(["Add","Sbtr"]);c.splice(21,1);var o=ef.kp.concat([[15,10,28],[15,10,21]]);
o.splice(21,1);var K=ef.fc.slice(0);K[4]--;function u(){kc.call(this,"aply");this.gS.push(new iW([0,3],[]));
this.gS.push(new iW([12,4],["RGB"].concat(j7.eF).concat(["Transparency"])));this.gS.push(new fA([4,11]));
this.gS.push(new iW([12,19,0],o,K));this.gS.push(new js([12,0],0,100,"%"));this.gS.push(new fI([12,38],1,2,null,2));
this.gS.push(new fI([12,6],-255,255));this.gS.push(new fA([13,5]));this.HP([2]);this.Aq=null}u.prototype=new kc;
u.prototype.gF=function(X,$,O){if(O){var n=O[2].s,x=this.Aq=[];for(var Y=0;Y<n.length;Y++){var l=n[Y].getName();
x.push(l.length<30?l:l.slice(0,27)+"...")}x.reverse();this.gS[0].e8([[5,7]].concat(x),[1,x.length])}else var x=this.Aq;
X=X.With.v;var N=X.T.v;$[0]=N[1].t=="name"?1+x.indexOf(N[1].v.val):0;$[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(N[0].v.enum);
$[2]=X.Invr.v;var f=X.Clcl.v.Clcn;$[3]=c.indexOf(f);$[4]=X.Opct.v.val;$[5]=X.Scl.v;$[6]=X.Ofst.v;$[7]=X.PrsT.v};
u.prototype.H9=function(X,$){X=X.With.v;var O=X.T.v;if($[0]==0)O[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else O[1]={t:"name",v:{classID:"Lyr",val:this.Aq[$[0]-1]}};O[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][$[1]];
X.Invr.v=$[2];var n=X.Clcl.v.Clcn=c[$[3]];X.Opct.v.val=$[4];X.Scl.v=$[5];X.Ofst.v=$[6];X.PrsT.v=$[7];
var x=n=="Add"||n=="Sbtr";this.gS[5].WR(x);this.gS[6].WR(x)};return u}();kc.matc=function(){var c,o,K=0;
function u(){kc.call(this,"matc");this.gS.push(new js("Luminance",1,200));this.gS.push(new js("Color Intensity",1,200));
this.gS.push(new js([2,11],0,100,"%"));this.gS.push(new fA("Neutralize"));this.gS.push(new iW([12,70],[]));
this.gS.push(new iW([0,3],[]));this.HP([2])}function X($,O){$.gS[5].e8([[5,7]].concat(O),[1,O.length])}u.prototype=new kc;
u.prototype.gF=function($,O,n){K=0;O[0]=$.Lght.v;O[1]=$.ClrR.v;O[2]=$.Fade.v;O[3]=$.neutralizeColor?$.neutralizeColor.v:!1;
O[4]=O[5]=0;var x=$.Srce;if(x)x=x.v;if(n){c=[];o=[];var l=n[2],N=n[3];for(var Y=0;Y<N.length;Y++){var f=N[Y];
c.push(f.name);var z=f.s,R=[];o.push(R);for(var V=0;V<z.length;V++)R.push(z[V].getName());R.reverse()}this.gS[4].e8([[13,1,0]].concat(c),[1,c.length]);
var d=N.indexOf(l);if(x)d=c.indexOf(x[1].v.val);X(this,o[d])}if(x){var e=c.indexOf(x[1].v.val);O[3]=K=1+e;
if(x[0].t=="name")O[4]=1+o[e].indexOf(x[0].v.val)}};u.prototype.H9=function($,O){$.Lght.v=O[0];$.ClrR.v=O[1];
$.Fade.v=O[2];$.neutralizeColor.v=O[3];if(O[4]==0){$.noReference={t:"bool",v:!0};delete $.Srce}else{if(O[4]!=K){K=O[4];
X(this,o[O[4]-1])}delete $.noReference;var n={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},x=o[O[4]-1];
if(O[5]!=0)n={t:"name",v:{classID:"Lyr",val:x[O[5]-1]}};$.Srce={t:"obj ",v:[n,{t:"name",v:{classID:"Dcmn",val:c[O[4]-1]}}]}}};
return u}();function e6(c,o){ax.call(this);if(c==null)return;this.id=o;this.tO=c;this.ac=null;this.n=S.t("div","window "+o);
this.a6L=null;this.mI=S.t("div","whead");this.a7x=S.t("span","wname");this.mI.appendChild(this.a7x);
this.a49=!1;this.n.appendChild(this.mI);this.vN=this.ak2.bind(this);this.Gy=this.agB.bind(this);this.Mp=this.afq.bind(this);
S.Qf(this.mI);S.pI(this.mI,this.vN);this.aol=S.t("span","cross gsicon");this.mI.appendChild(this.aol);
e6.prototype._.call(this);S.K1(this.aol,this.awU.bind(this));this.body=S.t("div","body");this.n.appendChild(this.body)}e6.prototype=new ax;
e6.prototype.I2=function(){return!1};e6.prototype.Iq=function(){return!1};e6.prototype._=function(){if(this.tO==null)return;
this.a7x.textContent=iV.get(this.tO)};e6.prototype.x5=function(c,o,K,u,X){};e6.prototype.Cz=function(c,o,K,u,X){};
e6.prototype.Xo=function(c,o,K,u,X){};e6.prototype.v$=function(c,o,K,u,X){};e6.prototype.Lz=function(c,o,K,u,X){};
e6.prototype.y9=function(c,o,K,u){if(u.N(d2.m8)&&this.Z4)this.Z4();if(u.N(d2.vm)){var X=new ev(y.E.v);
X.a2=!0;r.PN.a02(u,X);if(X.data)o.I(X)}};e6.prototype.P6=function(c){return!1};e6.prototype.no=function(c,o){return!0};
e6.prototype.kX=function(c,o,K,u){};e6.prototype.VW=function(c,o){};e6.prototype.mC=function(c,o){return null};
e6.prototype.a7e=function(c){return this.a6L};e6.prototype._Q=function(){};e6.prototype.close=function(){this.I(new ev(y.E.ZV))};
e6.prototype.ak2=function(c){this.ac=S.$_(c,this.n);S.SQ(window,this.Gy);S.K1(window,this.Mp)};e6.prototype.agB=function(c){var o=this.n.parentNode,K=S.$_(c,o),u=Math.round(K.x-this.ac.x),X=o.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(K.y-this.ac.y)));
this.a6L=new kn(u,X);this.n.style.left=u+"px";this.n.style.top=X+"px"};e6.prototype.afq=function(c){S.UU(window,this.Gy);
S.Fo(window,this.Mp)};e6.prototype.awU=function(c){if(this.a49){this.Z4();return}this.I(new ev("closebtn"));
this.close()};function da(){e6.call(this,"About Photopea","aboutpp");var c=S.t("div","flexrow");this.body.appendChild(c);
var o=this.adh=S.t("img");c.appendChild(o);this.body.setAttribute("style","margin:0; padding:0");var K=this.D1=S.t("div");
K.innerHTML=da.Aw;c.appendChild(K);var u=this.O$=S.t("span");u.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(u)}da.prototype=new e6;da.prototype.mC=function(c,o){return new kn(0,0)};da.prototype._Q=function(c,o){var K=this.adh,u=this.D1,X=this.O$,$=(c+o-42-42)/110;
$=Math.sqrt((c-42)*(o-42))/50;K.setAttribute("style","width:"+c/2+"px; height:"+o+"px; display:block; object-fit:cover;");
u.setAttribute("style","width:"+(c/2-42)+"px; height:"+(o-42)+"px; padding:20px; font-size:"+$+"px;");
X.setAttribute("style","position:absolute;  bottom:10px; right:"+(c/2+10)+"px")};da.prototype._=function(){};
da.prototype.kX=function(c,o,K,u){this.adh.setAttribute("src","promo/ivan_pp.webp")};da.Aw="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function iK(){e6.call(this,[0,13,0],"account");this._b=S.t("div","form scrollable");this.body.appendChild(this._b);
this.body.style.padding="0";this.BP=[new iK.GP,new iK.$z("::privacy.html"),new iK.$z(iK.as8)];for(var Y=0;
Y<this.BP.length;Y++)this.BP[Y].parent=this;this.B("showpage",this.atw,this)}iK.prototype=new e6;iK.prototype.no=function(c,o){var K=navigator.onLine;
if(!K)alert("Go online first");return K};iK.prototype._Q=function(c,o){this._b.setAttribute("style","width:"+Math.min(c-40,740)+"px;  height:"+(o-38)+"px;  padding:1.5em;");
this.BP[0]._Q(c,o)};iK.prototype.mC=function(c,o){return new kn(Math.max(0,Math.min(150,(c-740)/2)),Math.max(0,Math.min(100,(o-500)/2)))};
iK.prototype.atw=function(c){S._a(this._b);this._b.scrollTop=0;this._b.appendChild(this.BP[c.data.wM].n)};
iK.prototype._=function(){e6.prototype._.call(this);for(var Y=0;Y<this.BP.length;Y++)this.BP[Y]._()};
iK.prototype.kX=function(c,o,K){if(!navigator.onLine)return;S._a(this._b);var u=this.BP[0];this._b.appendChild(u.n);
u.kX();this._()};iK.prototype.VW=function(c,o){this.kX(null,null,null)};iK.GP=function(){ax.call(this);
this.n=S.t("div");var c=this.n,n,x,N="font-size:1.25em;",f="text-align:center;",R="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",V="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",d="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",p=12;
this.ey=S.t("div");c.appendChild(this.ey);this.YR=new kz([0,11],!1,null,!0);this.YR.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.YR.B("click",this.oF,this);c.appendChild(this.YR.n);this.xr=new kz([0,13,1],!1,null,!0);this.xr.B("click",this.axm,this);
c.appendChild(this.xr.n);this.O6=new kz("Business Terms",!1,null,!0);this.O6.B("click",this.aBT,this);
c.appendChild(this.O6.n);var o=S.t("div");o.style.margin="20px 0";c.appendChild(o);var K=["Account Types","Go Premium","Team Settings","Distributors"],u=this.Xr=[],X=this.aiL=[],$=this.fE=S.t("div");
c.appendChild($);for(var Y=0;Y<K.length;Y++){var O=S.t("span");O.textContent=K[Y];o.appendChild(O);u.push(O);
O.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
O.addEventListener("click",this.AX.bind(this));X.push(S.t("div"))}this.AX(0);var l=this.ab9="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
c=X[0];var x=S.t("table"),z="style=\" "+f+N+" padding-bottom:20px;\"";x.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+d+">\t\t\t\t\t<div "+z+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+d+">\t\t\t\t\t<div "+z+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+V+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
c.appendChild(x);var O=new kz("Go Premium");O.n.setAttribute("style",l+"padding:10px 0;");O.B("click",function(q){this.AX(1)},this);
x.children[0].children[1].children[1].appendChild(O.n);this.ei=S.t("div");c.appendChild(this.ei);c=X[1];
var e=this.av8=[[10,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.oV=[];for(var Y=0;Y<e.length;Y++)this.oV.push(new kz("Buy: $"+e[Y][0],!1,null,!0));for(var Y=0;
Y<this.oV.length;Y++){this.oV[Y].B("click",this.ahA,this)}this.Ap=new kz("...",!0);this.Ap.n.setAttribute("style",l);
c.appendChild(this.Ap.n);x=this.avb(4,["Single user",this.oV[0],this.oV[1],this.oV[2],"Team of 5",this.oV[3],this.oV[4],this.oV[5],"Team of 20",this.oV[6],this.oV[7],this.oV[8],"Team of 50",this.oV[9],this.oV[10],this.oV[11]]);
c.appendChild(x);this.a8R=new fA("I accept",!0,"");c.appendChild(this.a8R.n);this.m3=new kz([0,13,1],!1,null,!0);
this.m3.B("click",this.axm,this);c.appendChild(this.m3.n);this.t3=new kz("I have a key",!1,null,!0);
this.t3.n.setAttribute("style",l+" float:right; width:inherit;");this.t3.B("click",this.ahA,this);c.appendChild(this.t3.n);
c=X[2];this.el=new jG;this.el.parent=this;this.el.B(y.E.z,this.U3,this);c.appendChild(this.el.n);c=X[3];
this.hz=new kz("...",!0);this.hz.n.setAttribute("style",l);c.appendChild(this.hz.n);x=this.avb(3,["1000 views/mo",this.oV[p++],this.oV[p++],this.oV[p++],"5000 views/mo",this.oV[p++],this.oV[p++],this.oV[p++],"20000 views/mo",this.oV[p++],this.oV[p++],this.oV[p++]]);
c.appendChild(x);var h=S.t("p");h.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
c.appendChild(h);this.pc=new fi("Domain name (e.g. domain.com)",null,14);c.appendChild(this.pc.n);var E=new kz("Save Domain Settings",!1,null,!0);
E.tb();c.appendChild(E.n);E.B("click",this.apn,this)};iK.GP.prototype=new ax;iK.GP.prototype.AX=function(c){var o=typeof c=="number"?c:this.Xr.indexOf(c.target);
for(var Y=0;Y<4;Y++)this.Xr[Y].style.opacity=.6;this.Xr[o].style.opacity=1;S._a(this.fE);this.fE.appendChild(this.aiL[o])};
iK.GP.prototype._Q=function(c,o){var K=c<600?"d":" days",u=["30 days","90 days","365 days"];if(c<600)u=["30d","90d","365d"];
var X=this.av8;for(var Y=0;Y<X.length;Y++){this.oV[Y].ro("<span>"+u[Y%3]+": <sup>$</sup><big><b>"+X[Y][0]+"</b></big>"+"</span>");
this.oV[Y].n.setAttribute("style",this.ab9)}};iK.GP.prototype.axm=function(c){var o=new ev("showpage",!0);
o.data={wM:1};this.I(o)};iK.GP.prototype.aBT=function(c){var o=new ev("showpage",!0);o.data={wM:2};this.I(o)};
iK.GP.prototype._=function(){this.YR.ro(ar.hN()?iV.get([0,11]):iV.get([0,10]));this.m3._();this.xr._();
this.O6._()};iK.GP.prototype.afC=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.aX,link:"https://www.photopea.com/api/accounts#"+(c.target==this.agC?"teams":"distributors")};
this.I(o)};iK.GP.prototype.a9Q=function(c){var o=c.currentTarget==this.aze;this.aze.c(o);this.a82.c(!o)};
iK.GP.prototype.arY=function(c){var o=this.aze.h(),K=this.aAw.h().trim().toLowerCase(),u=this.aDh.value.trim().toLowerCase();
if(K.length>60){alert("Too long email address");return}if(u.length>600){alert("Too many team members");
return}u=u.split(",").join(" ").trim();u=u.replace(/\s+/g," ");if(u=="")u=[];else u=u.split(" ");var X=ar.nH();
if(X==null)X={};if(X.acc==null)X.acc={};X.acc.team={jin:o,ldr:K,mmb:u};ar.rn(X,this.U3.bind(this));alert("Saved!");
this.kX()};iK.GP.prototype.apn=function(c){var o=this.pc.h().trim();if(!ar.hN()){alert("You have to log in first.");
return}if(ar.sr()==0){alert("Order a distributor account first.");return}var K=ar.nH();if(K==null)K={};
if(K.acc==null)K.acc={};if(o=="")delete K.acc.dname;else K.acc.dname=o;ar.rn(K,this.U3.bind(this));alert("Saved!");
this.kX()};iK.GP.prototype.ack=function(c){var o=ar.Co(),Y=this.eq,K=ar.nH();if(K==null)K={};if(K.acc==null)K.acc={};
K.acc.bto=c;ar.rn(K,function(){});var u=iK.ai3(c.split("\n"),o.pmnts[Y]);fn.save(u,"photopea_invoice.pdf")};
iK.GP.prototype.ajN=function(c){var o=ar.Co(),K=ar.nH(),u=K.acc?K.acc.bto:null;if(u==null)u=o.name+"\n"+o.email;
var Y=-1,X=c.target.n.parentNode;while((X=X.previousSibling)!=null)Y++;this.eq=Y;var $=new ev(y.E.M,!0);
$.data={Y:y.H.Vl,n9:"billto",Ak:u,vu:this.ack.bind(this)};this.I($)};iK.GP.prototype.kX=function(){this.ey.innerHTML="";
S._a(this.ei);if(ar.hN()){var c=ar.Co(),o=c.pmnts;if(c==null)return;this.ey.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+c.name+"</span> "+c.email+" <br/>";
if(o){var K="<h2>Payments</h2>";for(var Y=0;Y<o.length;Y++){var u=o[Y],X=new Date(u[0]*1e3);K+="<div style=\"font-size:1.2em\">"+X.getDate()+". "+(X.getMonth()+1)+". "+X.getFullYear()+" - "+iK.a6c(u)+"</div>"}this.ei.innerHTML=K;
for(var Y=0;Y<o.length;Y++){var $=new kz("Get Invoice",!1,null,!0);$.n.setAttribute("style","float:right");
$.B("click",this.ajN,this);this.ei.children[Y+1].appendChild($.n)}}}else{}var O=ar.hN()&&ar.Is();this.Ap.n.style.display=O?"block":"none";
if(O){var n,x,l=O;if(l[0]==0){n=ar.Ds(l[1])-Date.now()*(1/1e3);x=l[1][2]==1?"Single User":"Team Of "+l[1][2]}else{n=l[1][1]-Date.now()*(1/1e3);
x="Member of \""+l[1][0]+"\""}this.Ap.ro("Premium active for "+Math.round(n/(60*60*24))+" more days! ("+x+")")}var N=ar.hN()&&ar.sr()*1e3>Date.now();
this.hz.n.style.display=N?"block":"none";if(N){var n=ar.sr()-Date.now()/1e3;this.hz.ro("Distributor active for "+Math.round(n/(60*60*24))+" more days!")}var f=ar.nH();
this.el.kX();if(f&&f.acc&&f.acc.dname)this.pc.c(f.acc.dname);else this.pc.c("")};iK.GP.prototype.avb=function(c,o){var K=S.t("table");
if(!0){var u="<table><tr>";for(var Y=0;Y<c;Y++)u+="<th>"+o[Y*4]+"</th>";u+="</tr></table>";K.innerHTML=u;
for(var Y=0;Y<3;Y++){var X=S.t("tr"),$;K.appendChild(X);for(var O=0;O<c;O++){$=S.t("td");$.style.width=Math.round(100/c)+"%";
X.appendChild($);$.appendChild(o[O*4+1+Y].n)}}}return K};iK.GP.prototype.ahA=function(c){var o=this.oV.indexOf(c.currentTarget),u=30,X=1;
if(!ar.hN()){this.oF();return}if(this.a8R.h()==!1&&o<12){alert("You must accept Terms of Service");return}var K=ar.hN()&&ar.Is();
if(o!=-1){var $=this.av8[o];u=$[1];X=$[2]}if(K&&X<1e3){alert("You already have premium.");return}console.log($,u,X);
if(o==-1){var O=prompt("Please enter your key");if(O!=null){ar.aAk(O,this.U3.bind(this));this.wL()}return}if(u==30&&X==1){var n=confirm("You can have 90 days for $15. Do you still want a 30 days version for $10?");
if(!n)return}ar.order(u,X,this.U3.bind(this));this.wL()};iK.GP.prototype.U3=function(c){this.kX();this.wL()};
iK.GP.prototype.oF=function(c){if(ar.hN()){ar.ajt();this.wL();this.kX(null,null,null)}else ar.oF(this.a2F.bind(this))};
iK.GP.prototype.a2F=function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.a51};this.I(c)};iK.GP.prototype.wL=function(){var c=new ev(y.E.M,!0);
c.data={Y:y.H.a2W};this.I(c)};iK.$z=function(c){ax.call(this);this.n=S.t("div");var o=this.n,K=this.a9c=new kz([0,13,2],!1,null,!0),u;
K.B("click",this.afY,this);o.appendChild(K.n);if(c.startsWith("::")){u=S.t("iframe");u.setAttribute("style","width:100%;height:1700px; background-color:white;");
u.setAttribute("src",c.slice(2))}else{u=S.t("div");u.innerHTML=c}o.appendChild(u)};iK.$z.prototype=new ax;
iK.$z.prototype.afY=function(c){var o=new ev("showpage",!0);o.data={wM:0};this.I(o)};iK.$z.prototype._=function(){this.a9c._()};
iK.as8="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
iK.a6c=function(c){var o=c[1]+" days, ";if(c[2]<1e3)return"Photopea Premium ("+o+c[2]+" user"+(c[2]==1?"":"s")+")";
else return"Photopea Distributor ("+o+c[2]+" views/month)"};iK.ai3=function(c,o){c=["Bill To:"].concat(c);
var K=new ToPDF,u=595,X=842,$=40,O=18,n=12,x=500,l=100,N=400,d=0;function f(A,U,w,t,L){R.font.Tf=L?"Helvetica-Bold":"Helvetica";
R.ctm=[1,0,0,1,U,w];R.font.Tfs=t?t:n;K.PutText(R,A,0)}function z(A,U,w,t){for(var Y=0;Y<A.length;Y++){f(A[Y],U,w-Y*t,null,Y==0)}}var R=UDOC.getState();
K.StartPage(0,0,u,X);f("INVOICE",u-$-140,X-$-30,30,!0);z(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],$,X-$-40,O);
var V=new Date(o[0]*1e3);z(["Date: "+V.getDate()+". "+(V.getMonth()+1)+". "+V.getFullYear(),"Transaction ID: "+o[4]],u-$-140,X-$-40-O*2,O);
var e=c.join("");for(var Y=0;Y<e.length;Y++)d=Math.max(d,e.charCodeAt(Y));if(d>256){var p=4,h=S.t("canvas"),E=h.getContext("2d"),q=0;
E.font=n*p+"px sans-serif";for(var Y=0;Y<c.length;Y++)q=Math.max(q,E.measureText(c[Y]).width);var Z=Math.round(q)+20,v=c.length*p*O+20;
h.width=Z;h.height=v;E.font=n*p+"px sans-serif";for(var Y=0;Y<c.length;Y++){E.font=(Y==0?"bold ":"")+n*p+"px sans-serif";
E.fillText(c[Y],10,(Y+1)*p*O)}document.body.appendChild(h);var W=new Uint8Array(E.getImageData(0,0,Z,v).data.buffer);
R.ctm=[Z/p,0,0,v/p,$-10/p,X-$-40-100-v/p];K.PutImage(R,W,Z,v);R.ctm=[1,0,0,1,0,0]}else z(c,$,X-$-40-100,O);
R.colr=[.8,.8,.8];R.pth={cmds:["M","L","L","L","Z"],crds:[$,x,u-$,x,u-$,x-O,$,x-O]};K.Fill(R);R.colr=[0,0,0];
var D=[$,x,u-$,x,$,x-O,u-$,x-O,$,x-l,u-$,x-l,$,x,$,x-l,u-$,x,u-$,x-l,N,x,N,x-l],I=[];for(var Y=0;Y<D.length;
Y+=4)I.push("M","L");R.pth={cmds:I,crds:D};K.Stroke(R);f("Order details",$+4,x-14);f(iK.a6c(o),$+4,x-O-14);
f("TOTAL:",$+4,x-l-14,null,!0);f("Price",u-$-50,x-14);f(o[3]+" USD",u-$-60,x-O-14);f(o[3]+" USD",u-$-60,x-l-14,null,!0);
f("www.Photopea.com",$,$);f("support@photopea.com",u-$-130,$);K.ShowPage();K.Done();return K.buffer};
function jC(){e6.call(this,[11,14],"addguides");this.Cv;this.RU={RG:{MF:0}};this.HZ=null;var c=S.t("div","form");
this.body.appendChild(c);this.XI=[];this.mz=new hE(null,["Hi"]);c.appendChild(this.mz.n);S.jR(c);this.mz.B(y.E.z,this.b6,this);
this.Cx=new fi([22,4,0],null,16);this.Cx.B(y.E.z,this.zb,this);this.wl=new fi([22,4,1],null,16);this.wl.B(y.E.z,this.zb,this);
this.hs=new iW(null,a.Pj.gm);this.hs.B(y.E.z,this.zb,this);c.appendChild(this.Cx.n);c.appendChild(this.hs.n);
S.jR(c);c.appendChild(this.wl.n);this.UQ=S.ax(this,c);this.B("closebtn",this.SD,this)}jC.prototype=new e6;
jC.prototype.no=function(c,o){return c!=null};jC.prototype.I2=function(){return!0};jC.prototype._=function(){e6.prototype._.call(this);
this.Cx._();this.wl._();this.hs._();this.UQ._()};jC.prototype.VW=function(c,o){var K=c.RG.MF;this.RU.RG.MF=K;
this.hs.c(K)};jC.prototype.kX=function(c,o){this.Cv=c;this.HZ=JSON.stringify(c.Tf());this.XI=[-1];var K=["Global"],u=c.root.children,X=c.bl();
for(var Y=0;Y<u.length;Y++){var $=u[Y].l;if($.add.artb){K.push($.getName());this.XI.push(u[Y].index)}}this.mz.e8(K);
this.mz.c(this.XI.indexOf(X));this.b6()};jC.prototype.b6=function(){var c=this.Cv,o=c.Tf(),K=this.XI[this.mz.h()],u=[0,0];
if(K!=-1){var X=c.s[K].rA();u=[X.x,X.y]}var $=function(O,n,c,x,l){var N=O[0],f=[];for(var Y=0;Y<N.length;
Y++)if(O[1][Y]==K&&N[Y][0]==n)f.push(a.Pj.IL(N[Y][1]-u[n],c.$M,x,l));f.sort(function(z,R){return z-R});
return f.join(", ")};this.Cx.c($(o,1,c,this.RU,c.e));this.wl.c($(o,0,c,this.RU,c.m))};jC.prototype.zb=function(c){if(c&&c.currentTarget==this.hs)this.RU.RG.MF=this.hs.h();
else{var o=this.atK(),K=this.Cv;K.$w(o);K.Jn=!0}this.b6()};jC.prototype.atK=function(){var c=this.Cv,o=c.Tf(),K=this.XI[this.mz.h()],u=[0,0];
if(K!=-1){var X=c.s[K].rA();u=[X.x,X.y]}var $=[];for(var O=0;O<2;O++){var n=O==0?this.wl:this.Cx,x=O==0?c.m:c.e,l=n.h().replace(/,/g," ").replace(/  +/g," ").trim(),N=l==""?[]:l.split(" ");
for(var Y=0;Y<N.length;Y++)$.push([O,a.Pj.agg(N[Y],c.$M,this.RU,x)+u[O]])}for(var Y=0;Y<o[0].length;
Y++)if(o[1][Y]==K){o[0].splice(Y,1);o[1].splice(Y,1);Y--}for(var Y=0;Y<$.length;Y++){o[0].push($[Y]);
o[1].push(K)}return o};jC.prototype.SD=function(c){var o=this.Cv;o.$w(JSON.parse(this.HZ));o.Jn=!0;this.Cv=null};
jC.prototype.Z4=function(c){this.zb(c);var o=new ev(y.E.v,!0);o.f=r.DA;o.data={Y:"gids",iH:JSON.parse(this.HZ),Um:this.Cv.Tf()};
this.Cv=null;this.close();this.I(o)};function ba(c){e6.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[c],c);
this.RU=null;this.Cv=null;var o=S.t("div","form");this.body.appendChild(o);o.setAttribute("style","width:300px");
this.SC=new gY("Source Images",!0,!0);o.appendChild(this.SC.n);this.PT=new iW([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.Fq=new fA("Order images by name");this.Fq.c(!0);var K=this.ajR=c5.kA();for(var Y=0;Y<K.length;Y++)if(c5.nq(K[Y]).zi){K.splice(Y,1);
Y--}K.push("SVG","PDF");this.lA=new iW([12,50],K);this.m5=new ip;this.lA.B(y.E.z,this.ze,this);this.uw=new iW("Action Set",[]);
this.uw.B(y.E.z,this.VW,this);this.QI=new iW("Action",[]);if(c=="pdfpres"){o.appendChild(this.PT.n);
o.appendChild(this.Fq.n)}else{if(c=="batch"){o.appendChild(this.uw.n);S.jR(o);o.appendChild(this.QI.n);
S.sv(o)}o.appendChild(this.lA.n);o.appendChild(this.m5.n)}var u=["VAR0 PDF",[1,8]];if(c=="cformat")u="Convert Images";
if(c=="batch")u="Process Images";if(c=="mockups")u="Generate";var X=new kz(u,!0,null,!0);X.B("click",this.Gd,this);
o.appendChild(X.n);this.ze()}ba.prototype=new e6;ba.prototype.ze=function(c){var o=this.ajR[this.lA.h()];
this.m5.kz(o)};ba.prototype.Gd=function(c){var o=this.SC.h(),K=[],$=595,O=842,V;for(var u in o)K.push(u);
if(K.length==0){alert("No images selected");return}if(this.Fq.h())K.sort();var X=this.PT.h(),n=new ToPDF,x=UDOC.getState(),l=this.ajR[this.lA.h()],N=c5.nq(l),f=this.m5.h(),z={},R=this.Cv;
if(this.id=="mockups"){if(R==null){alert("Open a document with smart objects");return}var d=R.s[R.g[0]];
if(d.add.SoLd==null){d=null;for(var Y=0;Y<R.s.length;Y++)if(R.s[Y].add.SoLd)d=R.s[Y];if(d==null){alert("There are no smart objects in a current document.");
return}}R.g=[R.s.indexOf(d)];V=d.add.SoLd.Sz.v}for(var e=0;e<K.length;e++){var u=K[e],p=o[u],h=p[0]==255,E=c5.c5(p.buffer),q=c5.nq(E),Z=[{yS:new ez,data:new ArrayBuffer(0)}],v=null;
if(E=="psd"&&!N.zi)Z=fU.aaH(p.buffer);else if(q.zi){v=new h_("file.psd");q.gP(p.buffer,v);v.HR();if(!N.zi){if(v._K)hb.Bw(v,this.RU.ru,this);
v.d();v.Lx();Z=[{yS:new ez(0,0,v.m,v.e),data:v.i9().buffer}]}}else Z=q.gP(p.buffer);if(this.id=="batch"){var W=new ev(y.E.M,!0),D=this.RU,I=D.U8,A=I[this.uw.h()];
for(var Y=0;Y<Z.length;Y++){v=c5.aS(u,[Z[Y]]);W.data={Y:y.H.dR,ff:v};this.I(W);if(v.s.length==3)v.g=[1];
a5.ad2(v,I,A.fE[this.QI.h()].u0,A.u0,this);v.d();v.Lx();Z[Y].yS=new ez(0,0,v.m,v.e);Z[Y].data=v.i9().buffer;
Z[Y].$M=v.$M;Z[Y].Mb=v.Mb;W.data={Y:y.H.nR,Kr:v};this.I(W)}}if(this.id=="mockups"){var W=new ev(y.E.XV,!0);
W.data={ST:"placedLayerEditContents",sK:{classID:"placedLayerEditContents"}};this.I(W);var U=new Uint8Array(Z[0].data),w=Z[0].yS,t=r.W.IN([U,w],new bE(V.Wdth.v/w.m,0,0,V.Hght.v/w.e,0,0)),L=new ev(y.E.v,!0);
L.f=r.KX;L.data={Y:gU.Pm,rQ:{buffer:t.buffer,rect:t.rect}};this.I(L);var W=new ev(y.E.M,!0);W.data={Y:y.H.Ol};
this.I(W);W.data={Y:y.H.nR};this.I(W);Z=[{data:R.i9().buffer,yS:new ez(0,0,R.m,R.e)}];L.data={Y:"h_stepbck"};
L.f=r.DX;this.I(L)}var J=Z[0].yS,b=new Uint8Array(Z[0].data),F=J.m,B=J.e;if(this.id=="pdfpres"){var k=[[595,842],[842,595],[595,595],[595,0]][X];
if(X==3)k[1]=Math.round(k[0]*B/F);var $=k[0],O=k[1],i=Math.min($/F,O/B);n.StartPage(0,0,$,O);x.ctm=[F*i,0,0,B*i,($-F*i)/2,(O-B*i)/2];
n.PutImage(x,h?p:b,F,B);n.ShowPage()}else{var H=u.split("."),m;H.pop();H.push(l.toLowerCase());if(N.zi)m=N.nC(v,v.m,v.e,f,this.RU);
else{var j=[];for(var Y=0;Y<Z.length;Y++){var Q=Z[Y],G=Q.Xv,g=0;if(G){G=G.split(",");if(G[1])g=parseInt(G[1])}j.push([Q.data,g,Q.$M,Q.VV,null,Q.Mb])}m=N.nC(j,F,B,f)}z[H.join(".")]=new Uint8Array(m)}}if(this.id=="pdfpres"){n.Done();
fn.save(n.buffer,"file.pdf")}else{fn.save(UZIP.encode(z),"images.zip")}};ba.prototype.kX=function(c,o,K,u){this.Cv=c};
ba.prototype.VW=function(c,o){if(o!=null){this.RU=c;var K=c.U8,u=[];for(var Y=0;Y<K.length;Y++)u.push(K[Y].u0);
this.uw.e8(u)}else c=this.RU;var K=c.U8.length==0?[]:c.U8[this.uw.h()].fE,u=[];for(var Y=0;Y<K.length;
Y++)u.push(K[Y].u0);this.QI.e8(u)};ba.prototype._=function(){e6.prototype._.call(this);this.SC._();this.PT._();
this.Fq._()};function bC(c){var o=gZ.names[c];if(o==null)o=j7.names[c];if(c=="aply")o=[2,12];if(c=="fade")o=[2,11];
if(c=="matc")o=[4,18];if(c=="blendOptions")o=[14,10];e6.call(this,o,"afw_"+c);this.MN=c;this.a$=null;
this.qz=null;this.wG=new kc[c];this.wG.B(y.E.z,this.Ur,this);this.wG.parent=this;this.body.appendChild(this.wG.n);
this.MD=new fA([24,18,5]);this.MD.c(!0);this.MD.B(y.E.z,this.Ur,this);this.j7=new kz([1,12,2],!0,null,!0);
this.j7.B("click",this.a1,this);this.UQ=S.ax(this);if(this._y())this.wG.L1(this.UQ.n);else{S.SZ(this.wG.n,"form");
S.SZ(this.body,"flexrow");this.wG.n.setAttribute("style","width:312px");var K=S.t("div");this.body.appendChild(K);
K.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");K.appendChild(this.UQ.n);K.appendChild(this.j7.n);
K.appendChild(this.MD.n)}this.B("closebtn",this.Hg,this)}bC.prototype=new e6;bC.prototype.I2=function(){return!0};
bC.prototype._y=function(){return this.wG!=null&&this.wG.d0()};bC.prototype.mC=function(){return this._y()?new kn(0,0):e6.prototype.mC()};
bC.prototype.P6=function(c){return this.wG.P6(c)};bC.prototype.Iq=function(){return this.wG.Iq()};bC.prototype.x5=function(c,o,K,u,X){this.wG.x5(c,o,K,u,X)};
bC.prototype.Xo=function(c,o,K,u,X){this.wG.Xo(c,o,K,u,X)};bC.prototype.v$=function(c,o,K,u,X){this.wG.v$(c,o,K,u,X)};
bC.prototype.no=function(c,o){if(this.MN=="fade")return bC.a1m(c);return!0};bC.prototype.a1=function(c){this.wG.c(gZ.ib(this.MN));
this.Ur()};bC.prototype.Ur=function(c){this.ux({Y:"edit",NT:this.wG.h(),_V:!this.MD.h()})};bC.prototype.Hg=function(c){this.ux({Y:"cancel"})};
bC.prototype.Z4=function(c){if(!this.MD.h()){this.MD.c(!0);this.Ur()}this.qz=this.wG.h();if(this._y())this.Ur();
this.ux({Y:"confirm"});this.close()};bC.prototype._=function(){e6.prototype._.call(this);this.MD._();
if(this.wG)this.wG._();this.UQ._()};bC.prototype.VW=function(c,o){if(this.wG)this.wG.VW(c,o)};bC.prototype.y9=function(c,o,K,u){if(this._y())this.wG.y9(u);
else e6.prototype.y9.call(this,c,o,K,u)};bC.prototype.kX=function(c,o,K,u){this.a$=o.a$;var X=c.add.lnk2?c.add.lnk2:[],$,O,n=new ez(0,0,c.m,c.e),x=c.s[c.g[0]],N=null;
$=x.buffer;O=x.rect;var l=c.u&&this.MN=="LqFy"&&o.a$==null;if(l){O=c.u.rect.clone();$=a.R(O.P()*4);a.Ui(x.buffer,x.rect,$,O)}if(this._y()){N=c.i9(c.g[0]-1);
if(l){var f=a.R(O.P()*4);a.Ui(N,n,f,O);n=O.clone();N=f}}var z=gZ.ib(this.MN),R=[X,c.lr,c,K];if(o.a$==null){this.wG.c(z,$,O,n,N,R);
if(j7.names[this.MN]){if(u.N(d2.u6)&&this.qz)this.wG.c(this.qz);var V=r.vk.getData(c),d=a.Fr(V[0].OQ);
this.wG.VC(d)}}else{var e=!1,x=c.s[this.a$.l];if(x.Fe()){var p=x.$a(c);$=p.buffer;O=p.rect;var h=x.add.SoLd.filterFX.v.filterFXList.v;
if(h[this.a$.index]){var E=h[this.a$.index].v;this.wG.c(this.MN=="blendOptions"?E.blendOptions.v:E.Fltr.v,$,O,n,N,R);
this.wG.VC(a.Fr($));e=!0}}if(!e){this.wG.c(z,$,O,n,N,R);this.wG.VC(a.Fr($))}}if(!this._y()){this.Ur();
var q=this.wG;if(q&&q.gS&&q.gS[0]&&q.gS[0].xd&&Math.min(window.innerWidth,window.innerHeight)>500)q.gS[0].xd()}};
bC.prototype.ux=function(c){var o=new ev(y.E.v,!0);c.MN=this.MN;c.a$=this.a$;if(this.MN=="VaPo"){c.b=this.wG.h();
c.lD=this.wG.ab$()}o.data=c;o.f=gZ.names[this.MN]||this.a$?r.qS:r._r;o.a2=!0;this.I(o)};bC.prototype._Q=function(c,o){if(!this.wG.d0()){}else{this.body.style.padding="0";
this.wG._Q(c,o)}};bC.a1m=function(c){if(c==null)return!1;var o=c.qF();if(o==null||!(o.data instanceof Array)||o.data.length!=c.g.length)return!1;
for(var Y=0;Y<o.data.length;Y++){var K=o.data[Y];if(K.l<0&&c.lr[-1-K.l])return!0;if(K.l==null||c.s[K.l]==null||c.s[K.l].Xx!=K.yN)return!1;
if(c.g.indexOf(K.l)==-1)return!1}return!0};function jF(){e6.call(this,[11,0],"camera");this.data=null;
this.C_=new kn(1,1);this.aaa=[];var c=S.t("div","form hbar");this.body.appendChild(c);this.aop=new iW(null,[]);
this.Jo=new iW([21,0],[[21,2],[21,1]]);c.appendChild(this.Jo.n);this.gB=new iW(null,[]);this.gB.B(y.E.z,this.a6$,this);
c.appendChild(this.gB.n);this.$j=new kz([11,0],!1,null,!0);this.$j.B("click",this.axX,this);c.appendChild(this.$j.n);
this.Lj=new dV("");c.appendChild(this.Lj.n);this.stream=null;this.P9=S.t("video","");this.P9.setAttribute("autoplay","true");
this.body.appendChild(this.P9);this.am0=this.akQ.bind(this);this.a6h=this.avx.bind(this);this.ahS=this.a90.bind(this);
this.B("closebtn",this.a3P,this)}jF.prototype=new e6;jF.prototype._=function(){e6.prototype._.call(this);
this.Jo._();this.$j._();this._Q(this.Oc,this.s_)};jF.prototype.i9=function(){var c=this.P9.videoWidth,o=this.P9.videoHeight,K=S.t("canvas","");
K.width=c;K.height=o;var u=K.getContext("2d");u.drawImage(this.P9,0,0,c,o);var X=u.getImageData(0,0,c,o);
return{yS:new ez(0,0,c,o),data:X.data.buffer}};jF.prototype.axX=function(c){if(this.Jo.h()==0)this.ao1();
else this.a24()};jF.prototype.a24=function(){var c=this.i9(),o={buffer:new Uint8Array(c.data),rect:c.yS},K=new ev(y.E.v,!0);
K.a2=!0;K.f=r.KX;K.data={Y:gU.Pm,rQ:o};this.I(K);alert(iV.get([21,4]))};jF.prototype.ao1=function(){var c=this.i9(),o=c5.aS("camera",[c]),K=new ev(y.E.M,!0);
K.data={Y:y.H.dR,ff:o};this.I(K);alert(iV.get([21,5]))};jF.prototype.kX=function(c,o,K){navigator.mediaDevices.enumerateDevices().then(this.agJ.bind(this))};
jF.prototype.agJ=function(c){var o=this.aaa=[],K=[];for(var Y=0;Y<c.length;Y++)if(c[Y].kind=="videoinput"){o.push(c[Y]);
K.push("Camera "+o.length)}this.gB.e8(K);this.gB.c(0);this.a6$()};jF.prototype.a6$=function(c){this.a3P();
var o={video:{deviceId:this.aaa[this.gB.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(o).then(this.am0).catch(this.a6h);
else navigator.webkitGetUserMedia(o,this.am0,this.a6h)};jF.prototype.akQ=function(c){this.stream=c;this.P9.srcObject=c;
this.P9.addEventListener("loadedmetadata",this.ahS,!1)};jF.prototype.a90=function(c){this.P9.play();
this._Q(this.Oc,this.s_)};jF.prototype.mC=function(c,o){return new kn(0,0)};jF.prototype._Q=function(c,o){var K=this.P9.videoWidth,u=this.P9.videoHeight;
this.Lj.c(K+" x "+u+" px");this.Lj.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.C_.Q7(K,u);this.Oc=c;this.s_=o;var X=c-28,$=o-28-30,O=this.C_.x/this.C_.y;if(X/$>O)X=$*O;else $=X/O;
this.P9.setAttribute("style","display: block; width: "+Math.round(X)+"px; height:"+Math.round($)+"px;")};
jF.prototype.avx=function(c){console.log("error",c);alert(iV.get([21,6]));this.close()};jF.prototype.a3P=function(c){if(this.stream!=null){var o=this.stream.getTracks();
for(var Y=0;Y<o.length;Y++)o[Y].stop();this.stream=null}};function hV(){e6.call(this,[7,8],"crange");
this.Cv=null;this.oB={Eb:73,V:4.45,J:4};this.lp={Eb:73,V:4.45,J:4};this.body.style.width="20em";this.Yy=new iW([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.Yy.B(y.E.z,this.ahW,this);this.body.appendChild(this.Yy.n);this.Aw=S.t("div","form");this.body.appendChild(this.Aw);
var c=this.ac$=2,o=this.wU=[new js([12,92],0,200),new hE([12,36],[[18,0],"\uFF0B","-"]),new js([12,92],0,100,"%"),new fI("Min",0,255),new fI("Max",0,255)];
o[0].c(40);o[c].c(40);for(var Y=0;Y<o.length;Y++){o[Y].B(y.E.z,this.gd,this);o[Y].parent=this}this.xS=S.t("canvas");
this.body.appendChild(this.xS);this.UQ=S.ax(this,this.body)}hV.prototype=new e6;hV.prototype.no=function(c,o){return c!=null};
hV.prototype.Iq=function(){return!0};hV.prototype.I2=function(){return!0};hV.prototype.ahW=function(c){var o=this.Yy.h(),K=this.wU,u=this.Aw,X=0,$=K.length,O=this.ac$;
if(o==0)$=O;else{X=O;K[X+1].c([0,100,190][o-1]);K[X+1].WR(o!=1);K[X+2].c([60,150,255][o-1]);K[X+2].WR(o!=3)}S._a(u);
for(var Y=X;Y<$;Y++){u.appendChild(K[Y].n)}this.gd()};hV.prototype._=function(){e6.prototype._.call(this);
this.UQ._();this.Yy._();for(var Y=0;Y<this.wU.length;Y++)this.wU[Y]._()};hV.prototype.x5=function(c,o,K,u,X){var $=c.Q.FT(X.x,X.y);
this.a8O($.x,$.y)};hV.prototype.a8O=function(c,o){var K=Math.min,u=Math.max,X=this.Cv,$=u(0,K(X.m-1,Math.floor(c))),O=u(0,K(X.e-1,Math.floor(o))),n=X.i9(),x=(O*X.m+$)*4,l=n[x],N=n[x+1],f=n[x+2],z=a.xW(l,N,f),R=this.wU[1].h(),V=this.oB,d=this.lp;
if(R==0){this.oB=JSON.parse(JSON.stringify(z));this.lp=z}else if(R==1){V.Eb=K(V.Eb,z.Eb);V.V=K(V.V,z.V);
V.J=K(V.J,z.J);d.Eb=u(d.Eb,z.Eb);d.V=u(d.V,z.V);d.J=u(d.J,z.J)}else if(R==2){var e=(V.Eb+d.Eb)/2,p=(V.V+d.V)/2,h=(V.J+d.J)/2;
if(z.Eb<e)V.Eb=u(V.Eb,z.Eb+10);else d.Eb=K(d.Eb,z.Eb-10);if(z.V<p)V.V=u(V.V,z.V+1);else d.V=K(d.V,z.V-1);
if(z.J<h)V.J=u(V.J,z.J+1);else d.J=K(d.J,z.J-1)}this.gd()};hV.prototype.Z4=function(c){var o=this.Yy.h(),K=this.wU,u={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(o==0){var X=this.oB,$=this.lp;u.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:X.Eb},A:{t:"doub",v:X.V},B:{t:"doub",v:X.J}}};
u.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:$.Eb},A:{t:"doub",v:$.V},B:{t:"doub",v:$.J}}};u.Fzns={t:"long",v:K[0].h()}}else{o--;
var O=["shadows","midtones","highlights"][o];u.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][o]}};if(0<o)u[O+"LowerLimit"]={t:"long",v:K[3].h()};
if(o<2)u[O+"UpperLimit"]={t:"long",v:K[4].h()};u[O+"Fuzziness"]={t:"long",v:K[2].h()}}this.close();var n=new ev(y.E.XV,!0);
n.data={ST:"colorRange",sK:u};this.I(n)};hV.prototype.kX=function(c,o){this.Cv=c;this.a8O(0,0);this.ahW()};
hV.prototype.gd=function(){var c=this.Cv,o=this.Yy.h(),K=this.oB,u=this.lp,X=this.wU,$=X[0].h()/200,O=!1;
if(o>0){K=X[3].h();u=X[4].h();if(K>=u)K=u-1;O=!0;$=X[2].h()/100}var n=r.mW.R5(c,K,u,$,O),x=n.rect,l=n.channel,N=this.xS,f=N.getContext("2d"),z=Math.floor(230*S.Sm()),R=Math.floor(z*(x.e/x.m));
N.width=z;N.height=R;S.Vg(N,z,R);var V=a.R(l.length*4);a.ms(V,4294967295);for(var Y=0;Y<3;Y++)a.bp(l,V,Y);
var d=r.W.IN([V,x],new bE(z/x.m,0,0,R/x.e,0,0)),e=d.rect,p=new ImageData(new Uint8ClampedArray(d.buffer.buffer),e.m,e.e);
f.putImageData(p,0,0)};function jl(){e6.call(this,[12,76,1],"createshape");this.uf=null;var c=S.t("div","form");
c.setAttribute("style","width:20em");this.body.appendChild(c);this.Ve=new d_(!0,!0,null,!0,!0);this.Ve.c(new kn(100,100));
c.appendChild(this.Ve.n);this.l2=new fA([19,5,3]);c.appendChild(this.l2.n);this.UQ=S.ax(this,c)}jl.prototype=new e6;
jl.prototype.Z4=function(c){var o=this.Ve.h();this.uf.axQ(this.uf.aBr,o.x,o.y,this.l2.h());this.close()};
jl.prototype._=function(){if(this.uf)this.tO=iV.get([5,3])+": "+iV.get(this.uf.a46);e6.prototype._.call(this);
this.UQ._();this.Ve._();this.l2._()};jl.prototype.kX=function(c,o){this.uf=o;this._();this.Ve.c(this.Ve.h(),c.$M)};
function dv(){e6.call(this,[11,1],"colorpicker");this.o8=null;this.Mk=null;this.vy=null;this.ld=!1;this.UR=!1;
this.aeE=[.9642,1,.8249];var c=S.t("div","flexrow"),O,n;this.body.appendChild(c);this.gl=new jU(256,!0);
this.gl.B(y.E.z,this.Q5,this);c.appendChild(this.gl.n);var o=S.t("div","form");o.setAttribute("style","width:14.5em; margin-left:1em;");
c.appendChild(o);var K=S.t("div","flexrow");o.appendChild(K);var u=S.t("div");K.appendChild(u);u.style="width:95px; margin-right:14px";
this.azb=S.t("div","full");u.appendChild(this.azb);this.afc=S.t("div","full");u.appendChild(this.afc);
var u=S.t("col");K.appendChild(u);u.style.width="80px";this.UQ=S.ax(this,u);var K=S.t("div","flexrow");
o.appendChild(K);var X=S.t("div"),$=S.t("div");K.appendChild(X);K.appendChild($);X.style=$.style="margin-left:14px; max-width:80px;";
O=["H","S","B"];n=X;this.T2=[];for(var Y=0;Y<3;Y++){var x=0,l=360,N="\xB0";if(Y!=0){l=100;N="%"}var f=new fI(O[Y],x,l,N,0,!1,!0);
this.T2.push(f);f.B(y.E.z,this.a57,this);n.appendChild(f.n);if(Y==2)f.n.style.marginBottom="8px"}O=["R","G","B"];
n=X;this.pt=[];for(var Y=0;Y<3;Y++){var f=new fI(O[Y],0,255,null,0,!1,!0);this.pt.push(f);f.B(y.E.z,this.av0,this);
n.appendChild(f.n)}O=["L","a","b"];n=$;this.px=[];for(var Y=0;Y<3;Y++){var x=[0,-128,-128][Y],l=[100,127,127][Y],f=new fI(O[Y],x,l,null,0,!1,!0);
f.c(0);this.px.push(f);f.B(y.E.z,this.aa5,this);n.appendChild(f.n);if(Y==2)f.n.style.marginBottom="8px"}O=["C","M","Y","K"];
n=$;this.pP=[];for(var Y=0;Y<4;Y++){var f=new fI(O[Y],0,100,"%",0,!1,!0);f.c(0);this.pP.push(f);f.B(y.E.z,this.asC,this);
n.appendChild(f.n);if(Y==3)f.n.style.marginBottom="8px"}this.Cx=new fi("#",null,4.5);this.Cx.B(y.E.z,this.t7,this);
X.appendChild(this.Cx.n);this.Cx.n.style.marginRight="0";this.h2=S.t("input","fitem");this.h2.setAttribute("type","color");
this.h2.setAttribute("style","width:59px;  margin-left:19px;");this.h2.addEventListener("change",this.t7.bind(this),!1);
this.av=new db(9);this.av.B(y.E.z,this.t7,this);o.appendChild(this.av.n);this.B("closebtn",this.Hg,this);
this.kY=!1}dv.prototype=new e6;dv.prototype.Iq=function(){return!0};dv.prototype.mC=function(c,o){if(Math.min(c,o)>500)return null;
return new kn(Math.max(0,Math.min(150,(c-484)/2)),Math.max(0,Math.min(150,(o-316)/2)))};dv.prototype._Q=function(c,o){this.gl._Q(Math.min(256,c-226),o)};
dv.prototype._=function(c,o){e6.prototype._.call(this);for(var Y=0;Y<3;Y++){this.pt[Y]._();this.T2[Y]._();
this.px[Y]._()}for(var Y=0;Y<4;Y++)this.pP[Y]._();this.UQ._()};dv.prototype.Q5=function(c){this.Mk=this.gl.h();
this.update()};dv.prototype.x5=function(c,o,K,u,X){this.kY=!0;this.azB(c,X)};dv.prototype.Xo=function(c,o,K,u,X){if(!this.kY)return;
this.azB(c,X)};dv.prototype.v$=function(c,o,K,u,X){this.kY=!1};dv.prototype.azB=function(c,o){this.Mk=a.rf(r.am.Uf(c,o,1),1);
this.update()};dv.prototype.av0=function(c){var o=this.pt,K=this.zB(parseInt(o[0].h())),u=this.zB(parseInt(o[1].h())),X=this.zB(parseInt(o[2].h()));
this.Mk={Z:K/255,r:u/255,J:X/255};this.update()};dv.prototype.a57=function(c){var o=this.T2,K=this.BZ(parseInt(o[0].h())/360),u=this.BZ(parseInt(o[1].h())/100),X=this.BZ(parseInt(o[2].h())/100);
this.Mk=a.$Y(K,u,X);this.update()};dv.prototype.asC=function(c){var o=this.pP,K=[];for(var Y=0;Y<4;Y++){var u=this.ah7(parseInt(o[Y].h()));
o[Y].c(u);K.push(u/100)}var X=a.ft(K);this.Mk={Z:X[0],r:X[1],J:X[2]};this.update(!0)};dv.prototype.aa5=function(c){var o=this.px,K=parseInt(o[0].h()),u=parseInt(o[1].h()),X=parseInt(o[2].h()),$=a.$y(K,u,X);
this.Mk={Z:$.Z/255,r:$.r/255,J:$.J/255};this.update()};dv.prototype.t7=function(c){var o;if(c.currentTarget==this.av)o=this.av.h();
else{o=c.currentTarget==this.Cx?this.Cx.h():this.h2.value;if(o.charAt(0)=="#")o=o.slice(1);if(o.length==3)o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2];
o=a.a3i(o)}this.Mk=a.rf(o,1);this.update()};dv.prototype.Z4=function(c){this.atN();var o=a.RZ(this.Mk,1);
this.vy(o);this.close();this.UR=!1;this.Mk=null};dv.prototype.Hg=function(c){this.atN();if(this.ld)this.vy(a.RZ(this.o8,1));
this.UR=!1;this.Mk=null};dv.prototype.atN=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.aos};this.I(o)};
dv.prototype.VW=function(c,o){var K=ga.Nx(c,o);if(K!=null)this.av.c(K);if(o!=iD.Mn)return;if(this.Mk!=null){this.Mk=a.rf(K,1);
this.update()}};dv.prototype.kX=function(c,o){var K=a.rf(o.A8,1);if(this.Mk==null){var u=new ev(y.E.M,!0);
u.data={Y:y.H.L3,Vp:"crosshair",push:!0};this.I(u);this.kY=!1;this.vy=o.hB;this.ld=!1;this.UR=o.Tq;this.o8=JSON.parse(JSON.stringify(K));
this.afc.setAttribute("style","height:2.3em;background-color:#"+a.On(o.A8)+";")}this.Mk=K;this.update()};
dv.prototype.update=function(c){var o=this.Mk,K=a.RZ(o,1);this.Cx.c(a.On(K));this.h2.value="#"+a.On(K);
this.azb.setAttribute("style","height:2.3em;background-color:#"+a.On(K)+";");var u=this.pt;u[0].c(Math.round(o.Z*255));
u[1].c(Math.round(o.r*255));u[2].c(Math.round(o.J*255));var X=a.R0(o.Z,o.r,o.J);u=this.T2;u[0].c(Math.round(X.s_*360));
u[1].c(Math.round(X.Z0*100));u[2].c(Math.round(X.NT*100));var $=a.xW(o.Z*255,o.r*255,o.J*255,this.aeE);
u=this.px;u[0].c(Math.round($.Eb));u[1].c(Math.round($.V));u[2].c(Math.round($.J));if(c==null){var O=a.S4([o.Z,o.r,o.J]);
u=this.pP;u[0].c(Math.round(O[0]*100));u[1].c(Math.round(O[1]*100));u[2].c(Math.round(O[2]*100));u[3].c(Math.round(O[3]*100))}this.gl.c(o);
if(this.UR){this.vy(a.RZ(this.Mk,1));this.ld=!0}};dv.prototype.ah7=function(c){return Math.max(0,Math.min(100,c))};
dv.prototype.zB=function(c){return Math.max(0,Math.min(255,c))};dv.prototype.BZ=function(c){return Math.max(0,Math.min(1,c))};
function jh(){e6.call(this,[11,2],"contoureditor");this.avk=null;this.Gs=null;this.response=null;this.Xp=S.t("div","cell");
this.body.appendChild(this.Xp);this.ph=S.t("div","cell padded");this.body.appendChild(this.ph);var c=S.t("div","bordered padded vmargin");
this.Xp.appendChild(c);this.wG=new a2(null,null,!0);this.wG.B(y.E.z,this.Np,this);c.appendChild(this.wG.n);
this.UQ=S.ax(this,this.ph);this.B("closebtn",this.GB,this)}jh.prototype=new e6;jh.prototype.Z4=function(){this.close()};
jh.prototype._=function(){e6.prototype._.call(this);this.UQ._();this.wG._()};jh.prototype.Np=function(c){this.Gs.Crv.v=this.wG.h();
this.response(this.Gs)};jh.prototype.GB=function(c){this.response(this.avk)};jh.prototype.kX=function(c,o){this.avk=JSON.parse(JSON.stringify(o.fE));
this.Gs=o.fE;this.response=o.response;this.wG.c(this.Gs.Crv.v)};function er(){e6.call(this,[11,4],"duplinto");
this.Kr=null;this.NX=null;this.l3=null;var c=S.t("div","form");c.setAttribute("style","max-width:26em");
this.body.appendChild(c);this.Ne=new iW([12,43],["abc","def"]);this.Ne.B(y.E.z,this.dY,this);c.appendChild(this.Ne.n);
S.jR(c);this.fj=new iW([1,16,0],["abc","def"]);this.fj.B(y.E.z,this.dY,this);c.appendChild(this.fj.n);
S.jR(c);this.Go=new fi([12,48],null,14);c.appendChild(this.Go.n);this.UQ=S.ax(this,c)}er.prototype=new e6;
er.prototype.I2=function(){return!0};er.prototype._=function(){e6.prototype._.call(this);this.UQ._();
this.Ne._();this.Go._()};er.prototype.dY=function(c){if(c&&c.target==this.fj)return;var o=this.Ne.h(),K=this.NX[o],u=this.Kr,X=K!=null&&K.add.artd!=null;
for(var Y=0;Y<u.g.length;Y++)if(u.s[u.g[Y]].add.artb)X=!1;this.Go.WR(o==this.NX.length);this.fj.WR(X);
if(X){var $=K.root.children,O=[],n=this.l3=[];for(var Y=0;Y<$.length;Y++){var x=$[Y].l;if(x.add.artb)O.push(x.getName());
n.push($[Y].index)}this.fj.e8(O);this.fj.c(0)}else this.l3=null};er.prototype.kX=function(c,o,K){this.Kr=c;
this.NX=K;this.Go.c(c.g.length==0?"Layer":c.s[c.g[0]].getName());var u=[];for(var Y=0;Y<K.length;Y++){var X=K[Y].name;
u.push(X.length<30?X:X.slice(0,27)+"...")}u.push([11,7]);this.Ne.e8(u);this.Ne.c(K.indexOf(c));this.dY(null)};
er.prototype.Z4=function(c){var o=this.Ne.h();if(o==this.NX.length){var K=new h_(this.Go.h()+".psd"),u=this.Kr.m,X=this.Kr.e,$=this.Kr.bl();
if($!=-1){var O=this.Kr.s[$].rA();u=O.m;X=O.e}K.m=u;K.e=X;K.buffer=a.R(K.m*K.e*4);var n=K.uB();n.XK("Background");
K.QK([n]);var x=new ev(y.E.M,!0);x.a2=!0;x.data={Y:y.H.dR,ff:K};this.I(x)}var N=this.Kr.Cq(null,this.Kr!=this.NX[o]),x=new ev(y.E.v,!0);
x.data={Y:gU.WM,s:N,il:this.Kr,Cj:this.NX[o]};if(this.l3)x.data.d5=this.l3[this.fj.h()];x.f=r.KX;x.a2=!0;
this.I(x);this.close()};function ed(){e6.call(this,[1,9],"eassets");this.RU=null;this.dp=null;var c=this.body;
S.SZ(c,"form");c.style.width="32em";this.Yy=new hE(null,["Layers","Combinations"]);this.Yy.B(y.E.z,this.b6,this);
c.appendChild(this.Yy.n);S.sv(c);this.g3=S.t("span");c.appendChild(this.g3);this.M3=S.t("div");c.appendChild(this.M3);
var o=S.t("div"),K=S.t("div","flexrow");this.ayE=[o,K];this.xn=[new fA("Only layers / folders, whose name starts with \"-e-\""),new fA("Remove parts outside the canvas"),new fA("Trim transparent parts")];
for(var Y=0;Y<3;Y++){var u=this.xn[Y];u.c(!0);u.B(y.E.z,this.b6,this);o.appendChild(u.n);S.jR(o)}this.HL=new aN([12,14,0],["1x","2x","3x","4x"]);
this.HL.c([!0,!1,!1,!1]);o.appendChild(this.HL.n);var X=S.t("div");K.appendChild(X);var $=S.t("img");
$.setAttribute("src","img/nft.png");$.style.width="150px";K.appendChild($);var O=S.t("span");O.textContent="File Names:";
X.appendChild(O);this.DM=new aN(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
X.appendChild(this.DM.n);this.DM.c([!0,!1,!1]);S.sv(c);this.X_=["PNG","JPG","SVG","TIFF","TGA"];this.lc=new iW([12,50],this.X_);
this.lc.B(y.E.z,this.ze,this);c.appendChild(this.lc.n);this.m5=new ip;c.appendChild(this.m5.n);this.UQ=new kz([1,9],!0,null,!0);
this.UQ.B("click",this.Z4,this);c.appendChild(this.UQ.n);this.B("closebtn",this.$n,this)}ed.prototype=new e6;
ed.prototype.ze=function(c){this.m5.kz(this.X_[this.lc.h()],!1,!1,!1,this.dp.Qj()!=null)};ed.prototype.$n=function(c){this.dp=null};
ed.prototype._=function(){e6.prototype._.call(this);this.lc._();this.HL._();this.UQ._();this.m5._()};
ed.prototype.kX=function(c,o,K){this.dp=c;this.b6()};ed.prototype.b6=function(c){var o=this.Yy.h(),K;
S._a(this.M3);this.M3.appendChild(this.ayE[o]);if(o==0){var u=this.adV();K=u.length+" exportable layers"}else{var u=this.ahg();
K=u[1]+" combinations ("+u[0].join(" \xD7 ")+")"}this.g3.textContent="- - - "+K;this.ze(null)};ed.prototype.adV=function(){var c=this.xn[0].h(),o=[],K=this.dp;
for(var Y=0;Y<K.s.length;Y++){var u=K.s[Y],X=u.getName();if(!c&&!u.rD()&&!u.rect.SR()||X.startsWith("-e"))o.push(Y)}return o};
ed.prototype.ahg=function(){var c=this.dp,o=c.root.children,K=[],u=1,X=[];for(var Y=0;Y<o.length;Y++){var $=o[Y],O=$.l;
if(O.rD()){var n=$.children.length;K.push(n);u*=n;X.push($.index)}O}return[K,u,X]};ed.prototype.VW=function(c,o){this.RU=c};
ed.prototype.Z4=function(c){var o=this.dp,K=this.Yy.h(),u=[this.X_[this.lc.h()]],X=[this.m5.h()],$={};
if(K==0){var O=this.HL.h(),n={},x=this.adV();if(x.length==0){alert("No layers to export.");return}var l=[this.xn[1].h(),this.xn[2].h()];
for(var Y=0;Y<x.length;Y++){var N=x[Y],f=o.s[N],z=f.getName();if(n[z]!=null){n[z]++;z+=" "+n[z]}else n[z]=1;
var R=f.IT();f.OG(!0);for(var V=0;V<O.length;V++){if(!O[V])continue;var d=V+1,e=r.W7.ajJ(o,u,d,this.RU,N,X,l);
for(var p=0;p<u.length;p++){var h=u[p],E=z.slice(z.startsWith("-e-")?3:0)+(d==1?"":"@"+d+"x")+"."+h.toLowerCase();
if(e[p])$[E]=new Uint8Array(e[p])}}f.OG(R)}}else{var R=[];for(var Y=0;Y<o.s.length;Y++)R.push(o.s[Y].IT());
var q=this.ahg(),Z=q[0],x=q[2],v=[];function W(U,N,w,t){if(N==U.length){t.push(w.slice(0));return}var L=U[N];
for(var Y=0;Y<L;Y++){w.push(Y);W(U,N+1,w,t);w.pop(Y)}}W(Z,0,[],v);var D=this.DM.h().indexOf(!0);this._R=[v,$,x,u,X,R,D,this.an$.bind(this),0,0];
this.an$();return}var I=UZIP.encode($),A=new ev(y.E.M,!0);A.data={Y:y.H.fe,data:I,name:"assets.zip"};
this.I(A)};ed.prototype.an$=function(){var c=this._R,o=c[0],K=c[1],u=this.dp,X=c[2],$=c[3],O=c[4],n=c[5],x=c[6],l=c[7],N=0;
while(o.length!=0&&N<1e3){var f=Date.now(),z=o.shift(),R=[];for(var Y=0;Y<z.length;Y++){var V=u.root.g4(X[Y]);
for(var d=0;d<V.children.length;d++)V.children[d].l.OG(!1);var e=V.children[z[Y]].l;R.push(x==2?e.getName():V.l.getName()+z[Y]);
e.OG(!0)}u.d();u.Lx();var p=(x==0?z:R).join("-")+"."+$[0].toLowerCase();K[p]=new Uint8Array(c5.PY(u,$[0],u.m,u.e,O[0],this.RU));
c[8]++;c[9]+=K[p].length;N+=Date.now()-f}if(o.length!=0){alert(c[8]+" done, "+kl.c3(c[9])+".",800);setTimeout(l,35);
return}for(var Y=0;Y<u.s.length;Y++)u.s[Y].OG(n[Y]);u.d();var h=UZIP.encode(K),E=new ev(y.E.M,!0);E.data={Y:y.H.fe,data:h,name:"assets.zip"};
this.I(E)};function ak(){e6.call(this,"Export Color Lookup Tables","exlut");this.RU=null;this.dp=null;
var c=S.t("div","form");c.setAttribute("style","width:20em");this.body.appendChild(c);this.xn=[new fI("Grid Points",1,256),new hE([12,50],[".CUBE"])];
var o=[16,0];for(var Y=0;Y<this.xn.length;Y++){var K=this.xn[Y];K.c(o[Y]);K.parent=this;K.B(y.E.z,this.b6,this);
c.appendChild(K.n);S.jR(c)}this.UQ=S.ax(this,c);this.B("closebtn",this.$n,this)}ak.prototype=new e6;
ak.prototype.no=function(c,o){if(Math.min(c.m,c.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(c.s.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};ak.prototype.$n=function(c){this.dp=null};ak.prototype.VW=function(c,o){this.RU=c};
ak.prototype.kX=function(c,o,K){this.dp=c};ak.prototype.Z4=function(){var c=this.dp,o=this.xn[0].h(),K=[],u=new ez(0,0,c.m,c.e),X=a.R(o*o*4),$=X.slice(0),O=new ez(c.m-o>>>1,c.e-o>>>1,o,o),n=c.s[0],x=n.buffer,l=n.rect;
n.rect=O;n.buffer=X;for(var N=0;N<o;N++){this.aeA(o,N,X);n.d(O);c.d(O);var f=c.i9();a.Ui(f,u,$,O);for(var z=0;
z<o;z++)for(var R=0;R<o;R++){var V=z*o+R<<2;K.push($[V]/255,$[V+1]/255,$[V+2]/255)}}var d=eC.aDS(K,o,c.name);
fn.save(d,c.name.split(".")[0]+".CUBE");n.buffer=x;n.rect=l;n.d();c.d()};ak.prototype.aeA=function(c,o,K){var u=255/(c-1),X=Math.round(o*u);
for(var $=0;$<c;$++)for(var O=0;O<c;O++){var n=$*c+O<<2;K[n]=Math.round(O*u);K[n+1]=Math.round($*u);
K[n+2]=X;K[n+3]=255}};ak.prototype._=function(){e6.prototype._.call(this);for(var Y=0;Y<this.xn.length;
Y++)this.xn[Y]._();this.UQ._()};function cL(){e6.call(this,[1,14],"finfo");this.fg=null;this.SV=null;
this.QS=null;this._b=S.t("div","form scrollable label12");this._b.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this._b);var c=S.t("div","form");this.body.appendChild(c);this.Ey=new iW(null,["Hello"]);
c.appendChild(this.Ey.n);this.ak4=new kz("Add Parameter",!1,null,!0);c.appendChild(this.ak4.n);this.ak4.B("click",this.iw,this);
this.Da=new kz("=== S A V E ===",!1,null,!0);c.appendChild(this.Da.n);this.Da.B("click",this.J0,this);
this.a4_=""}cL.prototype=new e6;cL.prototype.mC=function(c,o){return c<450||o<450?new kn(0,0):new kn(150,100)};
cL.prototype.iw=function(c){if(this.QS.length==0)return;var o=this.QS[this.Ey.h()],K=this.lC();K[o]=bf.Ss[o][0];
this.$q(K);this.SV[o].n.scrollIntoView();this.SV[o].xd()};cL.prototype.bM=function(c){var o=this.lC();
delete o[c.currentTarget.aaN];this.$q(o)};cL.prototype.J0=function(c){var o=this.lC(),K=this.fg,u=!0;
for(var X in K)if(JSON.stringify(K[X])!=JSON.stringify(o[X]))u=!1;for(var X in o)if(JSON.stringify(K[X])!=JSON.stringify(o[X]))u=!1;
if(u)return;var $=new ev(y.E.v,!0);$.f=r.KX;$.data={Y:gU.ZF,h1:o};this.I($);this.fg=o;this.$q(o)};cL.aCd=function(c){function o(X){var $=X.toLowerCase();
return X==$}var K=c.split(":").pop();for(var u=1;u<K.length-1;u++){if(K[u]==K[u].toUpperCase()&&(o(K[u+1])||o(K[u-1]))){K=K.slice(0,u)+" "+K.slice(u);
u++}}return K};cL.prototype.kX=function(c,o){this.fg=c.VV;this.$q(c.VV)};cL.prototype.$q=function(c){var o=this._b,X=0;
S._a(o);var K=this.SV={},u=["tiff","exif","exif:GPS"],$=this.QS=[],O=[];for(var n in bf.Ss){var x=cL.aCd(n),l=0,N=15,f=null;
if(c[n]==null){if(bf.Ss[n].length!=1||n=="photoshop:Credit"||n=="photoshop:Source"){$.push(n);O.push(x)}continue}for(var Y=0;
Y<u.length;Y++)if(n.startsWith(u[Y]))l=Y;if(l!=X){S.sv(o);X=l}if(n=="tiff:ImageDescription"||n=="dc:Keywords"){N=18.5;
f=3}var z=new fi(x,null,N,f);K[n]=z;var R=c[n];if(R instanceof Array)R=R[1]==0?"---":R[0]+"/"+R[1];var V=new kz("\u2716",null,iV.get([5,4]));
o.appendChild(V.n);V.B("click",this.bM,this);V.aaN=n;z.c(R);o.appendChild(z.n);S.jR(o);if(n=="exif:GPSLongitude"&&c["exif:GPSLatitude"]){this.a4_=cL.axC(c["exif:GPSLatitude"])+","+cL.axC(c["exif:GPSLongitude"]);
var d=new kz("Show on map",!1,null,!0);o.appendChild(d.n);S.jR(o);d.B("click",this.al$,this)}}this.Ey.e8(O);
this.Ey.c(0)};cL.prototype.lC=function(){var c=this.SV,o=bf.Ss,K={};for(var u in o){var X=o[u][0],$=typeof X;
if(X==null||c[u]==null)continue;var O=c[u].h(),n="The value of \""+cL.aCd(u)+"\" must ";if($=="number"){O=parseFloat(O);
if(isNaN(O)){alert(n+"be a number.");O=X}}else if(X instanceof Array&&X.length==2){if(O.indexOf("/")==-1){alert(n+"be a fraction.");
O=X.slice(0)}else{O=O.split("/").map(parseFloat);if(isNaN(O[0])||isNaN(O[1])){O=X.slice(0)}}}K[u]=O}return K};
cL.axC=function(c){var o=c.length,K=c.slice(0,o-1).split(",").map(parseFloat),u=c.slice(o-1),X=K[0]+K[1]/60+K[2]/3600;
if(u!="N"&&u!="E")X=-X;return X};cL.prototype.al$=function(c){window.open("https://maps.google.com?q="+this.a4_,"Map")};
function hZ(){e6.call(this,[11,5],"gradienteditor");this.o8=null;this.Mk=null;this.m6=null;this.vy=null;
this.ld=!1;this.UR=!1;this.QU=null;this.do=null;this.sn=-1;this.ig=-1;this.dL=0;this.kw=this.tR.bind(this);
this.vW=this.wN.bind(this);this.xS=S.t("canvas");this.i0=this.xS.getContext("2d");this.xS.setAttribute("style","display:block");
this.JQ=null;S.Qf(this.xS);S.pI(this.xS,this.Lq.bind(this));this.E6=S.t("div","form");this.bS=S.t("div");
this.fG=S.t("div","form");this.NG=S.t("div");this.LP=new iW([12,44],[[15,10,0],[24,6]]);this.LP.B(y.E.z,this.Y9,this);
this.body.appendChild(this.LP.n);S.sv(this.body);var c=this.E6;this.MT=new fI([19,3,3],0,100,"%");this.MT.B(y.E.z,this.Y9,this);
this.MT.parent=this;c.appendChild(this.MT.n);S.jR(c);this.Ob=new dV([12,0]);c.appendChild(this.Ob.n);
this.EA=S.t("div","bordered padded noalign");c.appendChild(this.EA);this.FK=new fI([12,0],0,100,"%");
this.FK.parent=this;this.FK.B(y.E.z,this.Y9,this);this.EA.appendChild(this.FK.n);this.VD=new fI([12,40],0,100,"%");
this.VD.parent=this;this.VD.B(y.E.z,this.Y9,this);this.EA.appendChild(this.VD.n);this.gM=new kz([5,4],!1,null,!0);
this.gM.B("click",this.a32,this);this.EA.appendChild(this.gM.n);c.appendChild(this.bS);this.afF=new dV([13,0]);
c.appendChild(this.afF.n);this.G_=S.t("div","bordered padded noalign");c.appendChild(this.G_);this.IZ=new iW([12,44],[[12,45],[12,46],[12,47]]);
this.IZ.B(y.E.z,this.Y9,this);this.G_.appendChild(this.IZ.n);this.at=new hv(!0);this.at.parent=this;
this.at.B(y.E.z,this.Y9,this);this.G_.appendChild(this.at.n);this.FQ=new fI([12,40],0,100,"%");this.FQ.parent=this;
this.FQ.B(y.E.z,this.Y9,this);this.G_.appendChild(this.FQ.n);this.KQ=new kz([5,4],!1,null,!0);this.KQ.B("click",this.aqQ,this);
this.G_.appendChild(this.KQ.n);var c=this.fG;this.CL=new fI("Roughness",0,100,"%");this.CL.B(y.E.z,this.Y9,this);
this.CL.parent=this;c.appendChild(this.CL.n);c.appendChild(this.NG);this.Z1=new kz([25,1,2],!1,null,!0);
this.Z1.B("click",this.Y9,this);c.appendChild(this.Z1.n);this.UQ=S.ax(this);this.B("closebtn",this.Hg,this)}hZ.prototype=new e6;
hZ.prototype.Hg=function(c){if(this.ld)this.vy(this.o8)};hZ.prototype._=function(){e6.prototype._.call(this);
this.UQ._();this.MT._();this.Ob._();this.afF._();this.gM._();this.KQ._();this.FK._();this.VD._();this.IZ._();
this.FQ._();this.Z1._()};hZ.prototype.VW=function(c,o){this.m6=c};hZ.prototype.kX=function(c,o){this.Mk=JSON.parse(JSON.stringify(o.T));
this.o8=JSON.parse(JSON.stringify(o.T));this.QU=this.do=null;this.vy=o.hB;this.ld=!1;this.UR=o.Tq;this.S0();
this.Nk()};hZ.prototype.Z4=function(c){var o=this.Mk;this.vy(o);this.close()};hZ.prototype.P6=function(c){return c==d2.UL||c==d2.Kf};
hZ.prototype.y9=function(c,o,K,u){if(u.N(d2.UL)||u.N(d2.Kf)){if(this.do)this.a32();if(this.QU)this.aqQ()}};
hZ.prototype.a32=function(c){var o=this.Mk.Trns.v;if(this.do==null||o.length==1)return;o.splice(o.indexOf(this.do),1);
this.do=null;this.S0();this.Nk()};hZ.prototype.aqQ=function(c){var o=this.Mk.Clrs.v;if(this.QU==null||o.length==1)return;
o.splice(o.indexOf(this.QU),1);this.QU=null;this.S0();this.Nk()};hZ.prototype.S0=function(){var c=this.xS,o=this.i0,K=S.Sm();
c.width=Math.floor(410*K);c.height=Math.floor(70*K);S.Vg(c,c.width,c.height);c.style.marginTop="8px";
this.JQ=new ez(0,0,Math.floor(380*K),Math.floor(32*K));this.JQ.x=Math.floor((c.width-this.JQ.m)/2);this.JQ.y=Math.floor((c.height-this.JQ.e)/2);
var u=this.JQ,X=u.m,$=u.e,O=u.x,n=u.y,x=new ez(0,0,X,$),l=o.getImageData(0,0,X,$),N=new Uint8Array(l.data.buffer);
a.MY(N,X,$,8);var f=a.R(X*$*4);a.T.I3(this.Mk,f,x,[1/X,0,0,1/$],X/2,$/2,!1,0,this.m6.V5,this.m6.th);
a.a.hA("norm",f,u,N,u,u,1);o.clearRect(0,0,c.width,c.height);o.putImageData(l,O,n);var z=this.Mk;if(z.Clrs){var R=z.Trns.v,V=z.Clrs.v,d=a.T.qW(z,this.m6.V5,this.m6.th),e=Math.round(6*S.Sm()),p=Math.round(14*S.Sm()),h=this.do?this.do.v:null,E=this.QU?this.QU.v:null;
for(var Y=0;Y<R.length;Y++){var q=R[Y].v,Z=Math.round(255-255*q.Opct.v.val/100);if((q==h||R[Y-1]&&R[Y-1].v==h||Y==this.ig)&&Y!=0){o.fillStyle="#000000";
o.fillRect(O-3+X*(R[Y-1].v.Lctn.v+(q.Lctn.v-R[Y-1].v.Lctn.v)*q.Mdpn.v/100)/4096,n-6-2,6,6)}if(q==h){o.fillStyle="#ffffff";
o.fillRect(O-e+X*(q.Lctn.v/4096)-2,n-2-p-2,2*e+4,p+4)}o.fillStyle="rgb("+Z+","+Z+","+Z+")";o.fillRect(O-e+X*(q.Lctn.v/4096),n-2-p,2*e,p)}for(var Y=0;
Y<V.length;Y++){var v=V[Y].v,W=d[0][Y][0];if((v==E||V[Y-1]&&V[Y-1].v==E||Y==this.sn)&&Y!=0){o.fillStyle="#000000";
o.fillRect(O-3+X*(V[Y-1].v.Lctn.v+(v.Lctn.v-V[Y-1].v.Lctn.v)*v.Mdpn.v/100)/4096,n+$+2,6,6)}if(v==E){o.fillStyle="#ffffff";
o.fillRect(O-e+X*(v.Lctn.v/4096)-2,n+$+2-2,2*e+4,p+4)}o.fillStyle="rgb("+Math.round(W.Z)+", "+Math.round(W.r)+","+Math.round(W.J)+")";
o.fillRect(O-e+X*(v.Lctn.v/4096),n+$+2,2*e,p)}}if(this.UR){this.vy(this.Mk);this.ld=!0}};hZ.prototype.Nk=function(){var c=this.Mk,o=c.Clrs?0:1;
this.LP.c(o);if(S.Kt(this.E6))this.body.removeChild(this.E6);if(S.Kt(this.fG))this.body.removeChild(this.fG);
(o==0?this.bS:this.NG).appendChild(this.xS);if(o==0){this.body.appendChild(this.E6);this.MT.c(Math.round(100*c.Intr.v/4096));
var K=c.Trns.v,u=c.Clrs.v,X=this.do!=null,$=this.ig!=-1;this.FK.WR(X);this.VD.WR(X||$);this.gM.WR(X);
if(X){this.EA.setAttribute("style","");var O=this.do.v;this.VD.c(Math.round(100*O.Lctn.v/4096));this.FK.c(O.Opct.v.val)}if($)this.VD.c(K[this.ig].v.Mdpn.v);
var X=this.QU!=null,$=this.sn!=-1;this.IZ.WR(X);this.at.WR(X);this.FQ.WR(X||$);this.KQ.WR(X);if(X){this.G_.setAttribute("style","");
var n=this.QU.v;this.FQ.c(Math.round(100*n.Lctn.v/4096));var x=n.Type.v.Clry;this.IZ.c(["FrgC","BckC","UsrS"].indexOf(x));
if(x=="FrgC")this.at.fV(this.m6.V5);if(x=="BckC")this.at.fV(this.m6.th);if(x=="UsrS")this.at.c(n.Clr.v)}if($)this.FQ.c(u[this.sn].v.Mdpn.v)}else{this.body.appendChild(this.fG);
this.CL.c(Math.round(100*c.Smth.v/4096))}this.body.appendChild(this.UQ.n)};hZ.prototype.Y9=function(c){var o=this.Mk,K=o.Clrs?0:1;
if(c.target==this.LP){var u=K==0?JSON.parse(gH.nl.aDL).v:gZ.ib("grdm").Grad.v;this.Mk=u;this.Nk();this.S0();
return}if(K==0){o.Intr.v=Math.round(4096*this.MT.h()/100);var X=o.Trns.v,$=o.Clrs.v;if(this.do!=null){var O=this.do.v;
O.Lctn.v=Math.round(4096*(this.VD.h()/100));O.Opct.v.val=this.FK.h()}if(this.QU!=null){var n=this.QU.v;
n.Lctn.v=Math.round(4096*(this.FQ.h()/100));if(c.target==this.at)this.IZ.c(2);var x=this.IZ.h();n.Type.v.Clry=["FrgC","BckC","UsrS"][x];
if(x==2)n.Clr={t:"Objc",v:this.at.h()};else if(n.Clr)delete n.Clr}if(this.ig!=-1)X[this.ig].v.Mdpn.v=this.VD.h();
if(this.sn!=-1)$[this.sn].v.Mdpn.v=this.FQ.h()}else{o.Smth.v=Math.round(4096*this.CL.h()/100);if(c.target==this.Z1)o.RndS.v=Math.floor(Math.random()*4294967295)}this.S0()};
hZ.prototype.Lq=function(c){var o=S.$_(c,this.xS),K=this.JQ,u=(o.x*S.Sm()-K.x)/K.m,X=(o.y*S.Sm()-K.y)/K.e,$=this.Mk.Trns.v,O=this.Mk.Clrs.v,n=null,x=null,l=-1,N=-1;
if(X<1)for(var Y=0;Y<$.length;Y++){var f=$[Y].v;if(Math.abs(f.Lctn.v/4096-u)<.02)n=$[Y];if(Y>0)if(Math.abs(($[Y-1].v.Lctn.v+(f.Lctn.v-$[Y-1].v.Lctn.v)*f.Mdpn.v/100)/4096-u)<.01)l=Y}if(X>0)for(var Y=0;
Y<O.length;Y++){var z=O[Y].v;if(Math.abs(z.Lctn.v/4096-u)<.02)x=O[Y];if(Y>0)if(Math.abs((O[Y-1].v.Lctn.v+(z.Lctn.v-O[Y-1].v.Lctn.v)*z.Mdpn.v/100)/4096-u)<.01)N=Y}if(x==null&&n==null&&l==-1&&N==-1){if(X<0){var f={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
f.v.Lctn.v=Math.round(u*4096);$.push(f);$.sort(this.JY);n=f}if(X>1){var O=this.Mk.Clrs.v,R=a.T.qW(this.Mk,this.m6.V5,this.m6.th),V=a.T.h$(this.Mk,R,u),z={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:a.T.mv({Z:V&255,r:V>>8&255,J:V>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
z.v.Lctn.v=Math.round(u*4096);O.push(z);O.sort(this.JY);x=z}}if(x!=null)N=-1;if(n!=null)l=-1;if(x!=null||n!=null||l>-1||N>-1){this.do=n;
this.QU=x;this.ig=l;this.sn=N;this.Nk();this.S0();S.SQ(window,this.kw);S.K1(window,this.vW)}};hZ.prototype.tR=function(c){var o=S.$_(c,this.xS),K=this.JQ,u=(o.x*S.Sm()-K.x)/K.m,X=(o.y*S.Sm()-K.y)/K.e;
u=Math.max(0,Math.min(1,u));var $=this.Mk.Trns.v,O=this.Mk.Clrs.v;if(this.do!=null){var n=this.do.v;
n.Lctn.v=Math.round(4096*u);var x=$.indexOf(this.do);if(x!=-1&&X<-1&&$.length>1)$.splice(x,1);if(x==-1&&X>-1)$.push(this.do);
$.sort(this.JY)}if(this.QU!=null){var l=this.QU.v;l.Lctn.v=Math.round(4096*u);var N=O.indexOf(this.QU);
if(N!=-1&&X>2&&O.length>1)O.splice(N,1);if(N==-1&&X<2)O.push(this.QU);O.sort(this.JY)}if(this.ig>-1){var n=$[this.ig].v;
n.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(u*4096-$[this.ig-1].v.Lctn.v)/(n.Lctn.v-$[this.ig-1].v.Lctn.v))))}if(this.sn>-1){var l=O[this.sn].v;
l.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(u*4096-O[this.sn-1].v.Lctn.v)/(l.Lctn.v-O[this.sn-1].v.Lctn.v))))}if(this.do!=null||this.QU!=null||this.ig>-1||this.sn>-1){this.Nk();
this.S0()}};hZ.prototype.wN=function(c){S.UU(window,this.kw);S.Fo(window,this.vW);if(Date.now()-this.dL<300){if(this.sn!=-1||this.ig!=-1){var o=(this.sn!=-1?this.Mk.Clrs.v[this.sn]:this.Mk.Trns.v[this.ig]).v;
o.Mdpn.v=50;this.Nk();this.S0()}else if(this.QU!=null)this.at.E4()}this.dL=Date.now()};hZ.prototype.JY=function(c,o){return c.v.Lctn.v-o.v.Lctn.v};
function iO(c){e6.call(this,c=="isize"?[11,10]:[11,3],c);this.a2a=c;var o=S.t("div","form");o.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(o);var K=c=="csize";this.a8w=new dV("Hi");o.appendChild(this.a8w.n);S.jR(o);this.Ve=new d_(!0,!0,K,K,!0);
if(K)this.Ve.ar3(!1);o.appendChild(this.Ve.n);this.bW=new fA([12,25,3]);this.bW.c(!0);this.bW.B(y.E.z,this.amK,this);
this.d2=new iW(null,[[12,14,2],[12,14,3],[12,14,4]]);this.d2.c(1);this.X4=new a_([12,23,2],41);this.X4.c(4);
if(c=="isize"){o.appendChild(this.bW.n);o.appendChild(this.d2.n)}else o.appendChild(this.X4.n);this.UQ=S.ax(this,this.body)}iO.prototype=new e6;
iO.prototype.no=function(c,o){return c!=null};iO.prototype.I2=function(){return!0};iO.prototype.P6=function(c){return this.a2a=="isize"?!1:[d2.Lw,d2.Sk,d2.hF,d2.N5].indexOf(c)!=-1};
iO.prototype.y9=function(c,o,K,u){if(u.N(d2.m8))this.Z4();this.X4.agX(u.Z8())};iO.prototype._=function(){e6.prototype._.call(this);
this.Ve._();this.bW._();this.d2._();this.X4._();this.UQ._()};iO.prototype.Z4=function(c){var o=this.Ve.h(),K=o.x,u=o.y,X=new ev(y.E.XV,!0),$=this.Ve.OA.h();
if(this.a2a=="csize"){if($){var O=this.Ve.e9,n=this.Ve.oh;K=n.x-O.x;u=n.y-O.y}X.data=r.zm.axI(K,u,this.X4.h(),$)}else{var x=this.d2.h();
if(!this.bW.h())x=null;X.data=r.zm.ane(K,u,this.Ve.lt(),x)}this.close();this.I(X)};iO.prototype.kX=function(c,o){this.Ve.c(new kn(c.m,c.e),c.$M);
this.Ve.xd();this.a8w.c(iV.get(this.tO)+": "+(c.m*c.e/1e6).toFixed(2)+" MPx")};iO.prototype.amK=function(c){var o=this.bW.h(),K=this.Ve,u=this.d2;
if(o)u.R1();else u.Lc();K.afj(o)};function et(){e6.call(this,"Import RAW","importraw");var c=S.t("div","flexrow"),o=S.t("div");
o.setAttribute("style","margin-bottom: 1em");this.body.appendChild(c);this.body.appendChild(o);var K=S.t("div","form");
K.setAttribute("style","width:18em");c.appendChild(K);var u=S.t("div","form");u.setAttribute("style","width:15em");
c.appendChild(u);this.uf=null;this.Sj=null;this.tu=null;this.Gc=null;this.akO=[];var X=[];for(var Y=0;
Y<et.BB.length;Y++)X.push(et.BB[Y]+" Bits");var $=this._R=[new d_(!0,null,null,!0),new fI([12,72],1,8),new fA("Last one is Transparency"),new hE([12,34],X),new hE("Byte Order",["12-34","34-12"]),new iW("Guesses",[])];
for(var Y=0;Y<$.length;Y++){var O=$[Y];O.parent=this;O.B(y.E.z,Y==5?this.atc:this.dY,this);var n=Y==0?K:Y==5?o:u;
n.appendChild(O.n)}this.xS=S.t("canvas");this.i0=this.xS.getContext("2d");this.body.appendChild(this.xS);
this.UQ=S.ax(this,this.body)}et.prototype=new e6;et.prototype._=function(){e6.prototype._.call(this);
var c=this._R;this.UQ._();for(var Y=0;Y<c.length;Y++)c[Y]._()};et.prototype.Z4=function(c){this.close();
var o=this._R[0].h(),K=c5.aS(this.Sj,[{data:this.tu,yS:new ez(0,0,o.x,o.y)}]);if(this.Gc)K.lr=this.Gc;
var u=new ev(y.E.M,!0);u.data={Y:!0?y.H.dR:y.H.h3,ff:K};this.I(u)};et.BB=[8,16];et.prototype.kX=function(c,o){this.uf=new Uint8Array(o.xp);
this.Sj=o.fp;var K=this.uf.length,u=[1,3,4],X=0,$=0,O=1,n=1,x=this.akO=[],l=Math.round(Math.sqrt(K)*2);
l=Math.max(l,4e3);for(var N=0;N<3;N++){for(var f=0;f<2;f++){var z=et.BB[f],R=u[N],V=R*z,d=Math.round(K*8/V);
if(d!=K*8/V)continue;for(var e=0;e<=l;e++)for(var p=0;p<=l;p++)if(e*p==d){var h=0;if(e==p)h+=64;if(Math.round(e/100)==e/100&&Math.round(p/100)==p/100)h+=32;
if(Math.round(e/10)==e/10&&Math.round(p/10)==p/10)h+=16;if(Math.round(e/2)==e/2&&Math.round(p/2)==p/2)h+=8;
x.push([e,p,R,z,h])}}}var E=function(W,D){if(D[4]!=W[4])return D[4]-W[4];var I=Math.max(W[0],W[1])/Math.min(W[0],W[1]),A=Math.max(D[0],D[1])/Math.min(D[0],D[1]);
if(I!=A)return I-A;return D[0]-W[0]};x.sort(E);var q=this._R,Z=[];for(var Y=0;Y<x.length;Y++){var v=x[Y];
Z.push(v[0]+" x "+v[1]+", "+v[2]+"ch, "+v[3]+"-bit")}q[5].e8(Z);q[5].c(0);this.atc(null)};et.prototype.atc=function(c){var o=this._R,K=this.akO[this._R[5].h()];
o[0].c(new kn(K[0],K[1]),72);o[1].c(K[2]);o[3].c(et.BB.indexOf(K[3]));this.dY()};et.prototype.dY=function(c){var o=this._R,K=o[0].h(),u=K.x,X=K.y,$=et.BB[o[3].h()],O=this.uf;
if($==16&&o[4].h()==1){O=O.slice(0);for(var Y=0;Y<O.length;Y+=2){var n=O[Y];O[Y]=O[Y+1];O[Y+1]=n}}var x=this.tu=this.gP(O,u,X,o[1].h(),$,o[2].h()),l=this.xS,N=this.i0,f=[x,new ez(0,0,u,X)];
a.hR(f);for(var Y=0;Y<f.length;Y+=2)if(f[Y+1].e<300){x=f[Y];u=f[Y+1].m;X=f[Y+1].e;break}l.width=u;l.height=X;
S.Vg(l,u,X);var z=new ImageData(new Uint8ClampedArray(x.buffer),u,X);N.putImageData(z,0,0)};et.prototype.gP=function(c,o,K,u,X,$){this.Gc=null;
var O=[],n=o*K;for(var x=0;x<u;x++){var l=a.R(n);O.push(l);if(X==8)for(var Y=0;Y<n;Y++)l[Y]=c[Y*u+x];
else if(X==16)for(var Y=0;Y<n;Y++)l[Y]=Math.round((c[(Y*u+x)*2]<<8|c[(Y*u+x)*2+1])*(255/65535))}var N=a.R(n*4);
new Uint32Array(N.buffer).fill(4278190080);if($){a.bp(O.pop(),N,3);u--}if(u==0){}else if(u==1)a.oe(O[0],N);
else{a.bp(O[0],N,0);a.bp(O[1],N,1);if(u>2){a.bp(O[2],N,2);if(u>3){this.Gc=[];for(var Y=3;Y<u;Y++){var f=new gU.bQ;
f.name="Alpha "+(Y-2);f.rect=new ez(0,0,o,K);f.channel=O[Y];this.Gc.push(f)}}}}return N};function ic(c,o,K){ax.call(this);
this.n=S.t("div","");this.uR=c;this.Ue=null;this.V7=o==null?!1:o;this.e6=null;this.UW=K;this.wB=[];this.Iu=[];
this.Yb=[];this.Yf=[];this.Ze=0;this.Ue=this.a2e(ic.Yf[c]);this.HP();this.CF=null;this.ape;this.ae8}ic.prototype=new ax;
ic.prototype.x5=function(c,o,K,u,X){this.CF=X;this.ape=JSON.parse(JSON.stringify(this.e6));if(this.Ue.lagl)this.ae8=this.Ue.lagl.h()[0]};
ic.prototype.Xo=function(c,o,K,u,X){var $=this.CF,O=this.uR,n=this.ape;if($==null)return;var x=(X.x-$.x)/c.Q.U,l=(X.y-$.y)/c.Q.U;
if(O=="GrFl"){var N=JSON.parse(JSON.stringify(n.Ofst.v));N.Hrzn.v.val+=x*.5;N.Vrtc.v.val+=l*.5;this.Ue.Ofst.c(N,!0)}if(O=="patternFill"){var N=JSON.parse(JSON.stringify(n.phase.v));
N.Hrzn.v+=x;N.Vrtc.v+=l;this.Ue.phase.c(N,!0)}if(O=="DrSh"||O=="IrSh"||O=="ChFX"){var f=n.Dstn.v.val,z=this.ae8*Math.PI/180,R=-Math.cos(z)*f+x,V=Math.sin(z)*f+l;
this.Ue.Dstn.c(Math.sqrt(R*R+V*V),!0);this.Ue.lagl.c([Math.atan2(V,-R)*180/Math.PI],!0)}};ic.prototype.v$=function(c,o,K,u,X){this.CF=null};
ic.prototype.azX=function(){for(var Y=0;Y<this.Yf.length;Y++){S.MG(this.Yf[Y],"selected");if(this.Yb[Y]instanceof fA)this.Yb[Y].c(!1)}};
ic.prototype.acX=function(c){var o=this.axA.bind(this);for(var Y=0;Y<this.Yb.length;Y++){var K=S.t("div","listitem");
this.Yf.push(K);if(Y>0)K.textContent="\u2003";K.appendChild(this.Yb[Y].n);if(gH.aa4.indexOf(this.uR)!=-1){var u=new kz("+");
u.tb();u.n.style.float="right";K.appendChild(u.n);var X=new kz("\u2B0D");X.tb();X.n.style.float="right";
X.n.style["margin-right"]="2px";K.appendChild(X.n)}K.addEventListener("click",o,!1);c.appendChild(K)}};
ic.hg=function(c,o){var K=o.getBoundingClientRect();return(c.clientY-K.top)/K.height};ic.prototype.axA=function(c){var o=c.target.tagName.toLowerCase();
if(o=="input"){return}if(o=="button"){var K=new ev(y.E.v,!0),u=c.target.textContent=="+",X=u?0:ic.hg(c,c.target)<.5?-1:1;
if(u)K.data={Y:"st_dupsingle",l:this.parent.data.l,vv:this.UW};else K.data={Y:"st_movsingle",l:this.parent.data.l,vv:this.UW,anM:X};
K.f=r.rU;K.a2=!0;this.I(K);K=new ev("redrawall",!0);K.data={anM:X};this.I(K);return}S.GB(c);this.Pt();
this.Ze=this.Yf.indexOf(c.currentTarget);this.I(new ev("showme"))};ic.prototype.Pt=function(){if(this.Ue.enab&&this.Ue.enab.h()==!1)this.ux({fv:"enab",b:!0})};
ic.prototype.apM=function(){var c=this.Yf[this.Ze];if(c)S.SZ(c,"selected");return this.Iu[this.Ze]};
ic.prototype.a2e=function(c){var o={};for(var Y=0;Y<c.length;Y++){var K=c[Y],u=null;if(K=="----")u={n:S.t("hr")};
if(K=="\n")u={n:S.t("br")};if(K=="blOptions")u=new dV([14,10]);if(K=="brst")u=new aN([12,72],["R","G","B"]);
if(K=="knko")u=new iW("Knockout",[[13,1,0],"Shallow","Deep"]);if(K=="enab")u=new fA(gH.names[gH.order.indexOf(this.uR)]);
if(K=="lrMd"||K=="Md")u=new iW([12,19,0],ef.kp,ef.fc);if(K=="Opct")u=new av([12,0],0,100,"%");if(K=="iOpa")u=new av([12,26],0,100,"%");
if(K=="blIf")u=new ib;if(K=="ShdN")u=new av([12,68],0,100,"%");var X=this.uR=="St3D"&&K=="lagl";if(K=="lagl"||K=="Angl")u=new iF(X?"Light":[12,15],this.uR=="ebbl"||X);
if(K=="uglg")u=new fA([12,27]);if(K=="Dstn")u=new av([12,28],0,200,"px");if(K=="Ckmt")u=new av([12,29],0,100,"%");
if(K=="Srnk")u=new av("Shrink",0,100,"%");if(K=="Drkn")u=new av("Darken",0,100,"%");if(K=="blur")u=new av([12,14,0],0,200,"px");
if(K=="TrnS"||K=="MpgS")u=new cG([12,21]);if(K=="Nose")u=new av([12,30],0,100,"%");if(K=="layerConceals")u=new fA([12,31]);
if(K=="Cntn")u=new fA([12,25,4]);if(K=="AntA"||K=="antialiasGloss")u=new fA([12,25,1]);if(K=="GlwT")u=new iW([12,32],gH.ix.names);
if(K=="glwS")u=new iW([12,70],gH.ix.ayZ);if(K=="Inpr")u=new av([12,12],1,100,"%");if(K=="bvlS")u=new iW([12,22],gH.Qa.style);
if(K=="bvlT")u=new iW([12,32],gH.Qa.a4h);if(K=="bvlD")u=new iW(null,gH.Qa.dir);if(K=="srgR")u=new av([12,34],0,1e3,"%");
if(K=="Sftn")u=new av([12,35],0,20,"px");if(K=="Lald")u=o.lagl;if(K=="hglM"||K=="sdwM")u=new iW([12,36],ef.kp,ef.fc);
if(K=="hglC"||K=="sdwC")u=new hv;if(K=="hglO"||K=="sdwO")u=new av([12,0],0,100,"%");if(K=="Invr"||K=="InvT")u=new fA([4,11]);
if(K=="overprint")u=new fA("Overprint");if(K=="Sz")u=new av([12,14,0],1,200,"px");if(K=="Styl")u=new iW([12,40],gH.stroke.names);
if(K=="PntT")u=new iW([12,66],gH.stroke.auo);if(K=="Clr")u=new hv(!0);if(K=="Grad"){u=new el(!0,[12,37],!0);
u.c(JSON.parse(gH.nl.aiH).v)}if(K=="Rvrs")u=new fA([12,23,0]);if(K=="Dthr")u=new fA([12,23,3]);if(K=="Type")u=new iW([12,22],gH.T.names.slice(0,this.uR=="FrFX"?6:5));
if(K=="Ptrn")u=new al([12,62]);if(K=="Scl")u=new av([12,38],5,500,"%",0,!0);if(K=="Algn")u=new fA([12,39]);
if(K=="Ofst")u=new g5(!0);if(K=="phase")u=new g5(!1);if(K=="useShape")u=new fA([12,21]);if(K=="useTexture")u=new fA([12,67]);
if(K=="textureDepth")u=new av([12,34],-300,300,"%");var $=K=="----"||K=="\n"?K+Y:K;if(u!=null)o[$]=u}return o};
ic.prototype.ag_=function(c){var o=this.Iu[this.Ze];for(var Y=0;Y<c.length;Y++){var K=this.Ue[c[Y]];
if(K&&o.contains(K.n))o.removeChild(K.n)}};ic.prototype.ajI=function(c){var o=this.Iu[this.Ze];for(var Y=0;
Y<c.length;Y++){var K=this.Ue[c[Y]];if(K&&!o.contains(K.n))o.appendChild(K.n)}};ic.prototype.VW=function(c,o){if(this.Ue==null)return;
var K=o==iD.Vk;if(this.Ue.Grad){this.Ue.Grad.DL(c.V5,c.th);if(K||o==iD.Mn||o==iD.cE)this.Ue.Grad.E8(c.kQ)}if(this.Ue.Ptrn){if(K||o==iD.qR)this.Ue.Ptrn.E8(c.dx)}if(this.Ue.TrnS){if(K||o==iD.d9)this.Ue.TrnS.E8(c.YX)}if(this.Ue.MpgS){if(K||o==iD.d9)this.Ue.MpgS.E8(c.YX)}};
ic.prototype._=function(){for(var Y=0;Y<this.wB.length;Y++)this.wB[Y]._();for(var c in this.Ue)if(this.Ue[c]instanceof ax)this.Ue[c]._()};
ic.prototype.HP=function(){for(var c in this.Ue){var o=this.Ue[c];o.parent=this;if(o instanceof ax)o.B(y.E.z,this.au$,this);
if(this.Iu.length==0||c=="useShape"||c=="useTexture"){var K=new dV(o.asA()),u=S.t("div","bordered padded");
if(this.V7==!1){u.appendChild(K.n);u.appendChild(S.t("hr",""))}this.wB.push(K);this.Iu.push(u);this.Yb.push(o)}else this.Iu[this.Iu.length-1].appendChild(o.n)}};
ic.prototype.update=function(c,o){if(this.Ue==null)return;this.e6=JSON.parse(JSON.stringify(o));for(var K in o){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(K)!=-1)this.Ue[K].c(o[K].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(K)!=-1){this.Ue[K].c(o[K].v,c)}if(["Md","hglM","sdwM"].indexOf(K)!=-1)this.Ue[K].c(ef.uR.indexOf(o[K].v.BlnM));
if(K=="lrMd"){var u=(o.rD?[[15,10,27]]:[]).concat(ef.kp),X=(o.rD?[1]:[]).concat(ef.fc);this.Ue[K].e8(u,X);
this.Ue[K].c(o[K].v)}if(K=="Angl")this.Ue[K].c([o[K].v.val]);if(K=="lagl"){var $=o.uglg&&o.uglg.v?c.Iy():o.lagl.v.val;
this.Ue[K].c([$])}if(K=="Lald"){var $=o.uglg&&o.uglg.v?c.MS():o.Lald.v.val;this.Ue[K].c([null,$])}if(K=="Type")this.Ue[K].c(gH.T.types.indexOf(o.Type.v.GrdT));
if(K=="Styl")this.Ue[K].c(gH.stroke.types.indexOf(o.Styl.v.FStl));if(K=="PntT"){var O=gH.stroke.p7.indexOf(o.PntT.v.FrFl);
this.Ue[K].c(O);if(!this.V7){this.ag_(gH.wV.concat(gH.Ty.concat(gH.ne)));this.ajI([gH.wV,gH.Ty,gH.ne][O])}}if(K=="GlwT")this.Ue[K].c(gH.ix.types.indexOf(o.GlwT.v.BETE));
if(K=="glwS")this.Ue[K].c(gH.ix.asr.indexOf(o.glwS.v.IGSr));if(K=="bvlS")this.Ue[K].c(gH.Qa.types.indexOf(o.bvlS.v.BESl));
if(K=="bvlT")this.Ue[K].c(gH.Qa.apz.indexOf(o.bvlT.v.bvlT));if(K=="bvlD")this.Ue[K].c(["In","Out"].indexOf(o.bvlD.v.BESs))}};
ic.prototype.au$=function(c){for(var o in this.Ue){if(this.Ue[o]!=c.target)continue;var K=null,u=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(o)!=-1)K={type:"#Prc",val:c.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(o)!=-1)K={type:"#Pxl",val:c.target.h()};if(["Angl","lagl"].indexOf(o)!=-1)K={type:"#Ang",val:c.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(o)!=-1)K=c.target.h();
if(["Md","hglM","sdwM"].indexOf(o)!=-1)K={BlnM:ef.uR[c.target.h()]};if(o=="uglg"){K=c.target.h();u=!0}if(o=="PntT"){K={FrFl:gH.stroke.p7[c.target.h()]};
u=!0}if(o=="Lald")K={type:"#Ang",val:c.target.h()[1]};if(o=="Type")K={GrdT:gH.T.types[c.target.h()]};
if(o=="Styl")K={FStl:gH.stroke.types[c.target.h()]};if(o=="GlwT")K={BETE:gH.ix.types[c.target.h()]};
if(o=="glwS")K={IGSr:gH.ix.asr[c.target.h()]};if(o=="bvlS")K={BESl:gH.Qa.types[c.target.h()]};if(o=="bvlT")K={bvlT:gH.Qa.apz[c.target.h()]};
if(o=="bvlD")K={BESs:["In","Out"][c.target.h()]};this.ux({fv:o,b:K});if(u){if(this.V7)this.update(null,this.e6);
else{var X=this.parent,$=X.ff,O=this.UW,n=$.s[X.data.l].add.lmfx[gH.N4[O[0]]].v[O[1]].v;this.update($,n)}}}};
ic.prototype.ux=function(c){if(this.e6&&this.e6[c.fv])this.e6[c.fv].v=c.b;if(this.V7){this.I(new ev(y.E.z))}else{c.Y="changeprop";
c.l=this.parent.data.l;c.wM=this.UW;var o=new ev(y.E.v,!0);o.data=c;o.f=r.rU;o.a2=!0;this.I(o);this.I(new ev("afterchange",!0))}};
ic.prototype.h=function(){return JSON.parse(JSON.stringify(this.e6))};ic.Yf={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(gH.wV),GrFl:["enab","Md","Opct"].concat(gH.Ty),patternFill:["enab","Md","Opct"].concat(gH.ne),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(gH.wV.concat(gH.Ty.concat(gH.ne)))};
function es(){e6.call(this,[11,6],"layerstyle");this.a93=-1;this.data={};this.ff=null;this.RU=null;this.C$=[];
this.Ah=[];S.SZ(this.body,"flexrow");this.Xp=S.t("div","bordered");this.Xp.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Xp);this.D8=S.t("div","");this.D8.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.D8);this.ph=S.t("div","form");this.ph.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.ph);this.UQ=S.ax(this,this.ph);this.rF=new kz([12,87],!0,null,!0);this.rF.B("click",this.ahw,this);
this.ph.appendChild(this.rF.n);this.zf=new bM;this.zf.parent=this;this.zf.B(y.E.z,this.aba,this);this.ph.appendChild(this.zf.n);
this.B("closebtn",this.Hg,this);this.B("redrawall",this.a4Q,this)}es.prototype=new e6;es.prototype.I2=function(){return!0};
es.prototype.Iq=function(){return!0};es.prototype.x5=function(c,o,K,u,X){var $=this.RH();if($)$.x5(c,o,K,u,X)};
es.prototype.Xo=function(c,o,K,u,X){var $=this.RH();if($)$.Xo(c,o,K,u,X)};es.prototype.v$=function(c,o,K,u,X){var $=this.RH();
if($)$.v$(c,o,K,u,X)};es.prototype.RH=function(c){if(c==null)c=this.data.index;return c==null?null:c==0?this.C$[0]:this.Ah[c[0]][c[1]]};
es.prototype.aba=function(c){var o=this.zf.h();this.ux({Y:"setstl",b:o.ho});this.a4Q(null)};es.prototype.ahw=function(c){var o=this.ff,K=this.data.l;
if(K==null)K=o.g[0];var u=this.ff.s[K],X=bL.azW(u),$=new ev(y.E.M,!0);$.data={Y:y.H.NU,Zk:"add",EU:iD.Oz,Ye:[JSON.parse(JSON.stringify(X))]};
this.I($)};es.prototype.ak7=function(c){this.data.index=c.currentTarget.UW;this.YJ(c.currentTarget.UW)};
es.prototype.a4Q=function(c){this.kX(this.ff,this.data)};es.prototype.YJ=function(c,o){S._a(this.D8);
for(var Y=0;Y<this.C$.length;Y++)this.C$[Y].azX();var K=this.RH(c);this.D8.appendChild(K.apM());if(o)K.Pt();
var u=this.ff;if(u){var X=u.s[this.data.l];this.C$[0].update(u,r.Lr.s7(u,X));var $=X.add.lmfx;if($==null)return;
for(var Y=0;Y<gH.order.length;Y++){var O=$[gH.N4[Y]].v;for(var n=0;n<O.length;n++)this.Ah[Y][n].update(u,O[n].v)}}if(o)K.Pt()};
es.prototype._=function(){e6.prototype._.call(this);this.rF._();this.zf._();this.UQ._();for(var Y=0;
Y<this.C$.length;Y++)this.C$[Y]._()};es.prototype.kX=function(c,o){var K=o.l==null;this.data.l=o.l;this.data.index=o.index;
o=this.data;this.ff=c;if(K)o.l=c.g.length==0?c.s.length-1:c.g[0];S._a(this.Xp);var u=c.s[o.l].add.lmfx;
this.FI();this.C$=[new ic("bops",!1,0)];this.Ah=[];for(var Y=0;Y<gH.order.length;Y++){this.Ah.push([]);
var X=u==null?[]:u[gH.N4[Y]].v;for(var $=0;$<X.length;$++){var O=new ic(gH.order[Y],!1,[Y,$]);this.C$.push(O);
this.Ah[Y].push(O)}if(X.length==0){var O=new ic(gH.order[Y],!1,[Y,0]);this.C$.push(O);this.Ah[Y].push(O)}}this._();
this.amO(this.RU,iD.Vk);for(var Y=0;Y<this.C$.length;Y++){this.C$[Y].parent=this;this.C$[Y].acX(this.Xp);
this.C$[Y].B("showme",this.ak7,this)}if(o.index==null||o.index==0||!K&&u[gH.N4[o.index[0]]].v.length==0){this.YJ(0)}else this.YJ(o.index,K);
this.B("afterchange",this.FI,this)};es.prototype.FI=function(c){var o=this.ff,K=this.data.l;if(K==null)K=o.g[0];
var u=this.ff.s[K],X=bL.azW(u);this.zf.c(X,o.add.Patt?o.add.Patt:[],o.Iy(),o.MS())};es.prototype.VW=function(c,o){this.RU=c;
this.amO(c,o);if(o==iD.Oz||o==iD.Vk){this.zf.E8([c.dn,c.dx])}if(o==iD.OO){}};es.prototype.amO=function(c,o){for(var Y=0;
Y<this.C$.length;Y++)this.C$[Y].VW(c,o)};es.prototype.Hg=function(c){this.ux({Y:"cancel"})};es.prototype.Z4=function(c){this.ux({Y:"confirm"});
this.close()};es.prototype.ux=function(c){c.l=this.data.l;var o=new ev(y.E.v,!0);o.data=c;o.f=r.rU;o.a2=!0;
this.I(o);this.FI()};es.ak1=function(){var c=function(o){if(o==null||o.g.length==0)return{w:!1};var K=o.s[o.g[0]];
return{w:K.add.lmfx!=null}};return{name:[11,6],ql:!0,sub:[{name:[5,1],w:c},{name:[5,2]},{name:[2,2],w:c}]}};
es.aqu=function(){return{sub:[{K:y.E.v,f:r.rU,C:{Y:"st_copy"}},{K:y.E.v,f:r.rU,C:{Y:"st_paste"}},{K:y.E.v,f:r.rU,C:{Y:"st_clear"}}]}};
es.ae=function(c){var o=[{name:[14,10],ql:!0}];for(var Y=0;Y<gH.names.length;Y++)o.push({name:gH.names[Y]});
if(c){o[o.length-1].ql=!0;o.push(es.ak1());o.push({name:[6,30,1],w:function(K){return{w:K!=null&&K.g.length!=0&&K.s[K.g[0]].vR()}}});
o.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(K){return{w:K!=null&&K.g.length!=0&&K.s[K.g[0]].add.lmfx!=null}}})}return o};
es.sw=function(c){var o=[{K:y.E.M,C:{Y:y.H.Vl,n9:"layerstyle"}}];for(var Y=0;Y<gH.names.length;Y++)o.push({K:y.E.M,C:{Y:y.H.Vl,n9:"layerstyle",index:[Y,0]}});
if(c){o.push(es.aqu());o.push({K:y.E.M,C:{Y:y.H.Vl,n9:"scaleeffects",Ak:100,t9:{K:y.E.v,f:r.rU,C:{Y:"scaleeffects"}}}});
var K={classID:"Mk",null:a5.Vs("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
o.push({K:y.E.XV,C:{ST:"make",sK:K}})}return o};es.aB3=function(c){var o=[];if(c)o.push({name:[6,48,0,0],PS:!0},{name:[6,48,0,1],PS:!0},{name:[6,48,0,2],PS:!0,ql:!0});
for(var K in j7.names)o.push({name:j7.names[K],ql:j7.ars.indexOf(K)!=-1,PS:kc[K]!=null});return o};es.Xw=function(c){var o=[];
if(c){o.push({K:y.E.v,f:r.CJ,C:{Y:"newfill",RL:0}});for(var Y=1;Y<3;Y++)o.push({K:y.E.XV,C:r.mc.P5(Y)})}for(var K in j7.names){var u=gZ.ib(K);
if(u==null)u={};for(var X in j7.U9)if(j7.U9[X]==K)u.classID=X;var $={ST:"make",sK:{classID:"Mk",null:a5.Vs("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:u}}}}};
o.push({K:y.E.XV,C:$})}return o};function eG(){e6.call(this,"Merge Channels","mergechannels");this.ie=null;
var c=S.t("div","form");this.body.appendChild(c);this._R=[];for(var Y=0;Y<3;Y++){var o=new iW(j7.eF[Y],[]);
this._R.push(o);c.appendChild(o.n);S.jR(c)}this.UQ=S.ax(this,c)}eG.prototype=new e6;eG.prototype._=function(){e6.prototype._.call(this);
this.UQ._();for(var Y=0;Y<3;Y++)this._R[Y]._()};eG.prototype.kX=function(c,o,K,u){this.ie=K;var X=[];
for(var Y=0;Y<K.length;Y++)X.push(K[Y].name);for(var Y=0;Y<3;Y++){var $=this._R[Y];$.e8(X);$.c(Math.min(Y,K.length-1))}};
eG.prototype.Z4=function(c){var o=this.ie,K=o[0],u=new ev(y.E.XV,!0);u.data=h_.QF(K.m,K.e,K.$M,"Merged Document","Wht",!1);
this.I(u);var X=[];for(var Y=0;Y<3;Y++)X.push(o[this._R[Y].h()].i9());var K=o[o.length-1],$=K.s[0],O=$.buffer;
for(var Y=0;Y<O.length;Y+=4){O[Y]=X[0][Y];O[Y+1]=X[1][Y];O[Y+2]=X[2][Y]}$.d();K.d();this.close()};function gK(){e6.call(this,[1,10],"script");
var c=S.t("div","form");c.setAttribute("style","width:44em");this.body.appendChild(c);this.RU=null;this.z7=[];
this.XY=[];this.an_;var o=this.Da=new kz([1,2],!1,null,!0);o.B("click",this.J0,this);c.appendChild(o.n);
var K=new kz("JS Reference",!1,null,!0);K.B("click",this.aiB,this);c.appendChild(K.n);c.appendChild(new dV("Demos:").n);
this.agh=[];var u=gK.T7;for(var Y=0;Y<u.length;Y++){var X=new kz(u[Y].xq,!1,null,!0);this.agh.push(X);
c.appendChild(X.n);X.B("click",this.ahI,this)}this.Z9=S.t("textarea");S.E0(this.Z9);this.Z9.setAttribute("rows",16);
this.Z9.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");c.appendChild(this.Z9);
var $=new kz("Run",!0,null,!0);$.B("click",this.Z4,this);c.appendChild($.n);this.Ac=S.t("div");c.appendChild(this.Ac)}gK.prototype=new e6;
gK.prototype._=function(){this.Da._()};gK.prototype.J0=function(){var c=this.an_;if(c==null)c="script.jsx";
var o=new ev(y.E.M,!0);o.data={Y:y.H.Vl,n9:"namewindow",Ak:c.slice(0,c.length-4),vu:this.atk.bind(this)};
this.I(o)};gK.prototype.atk=function(c){var o=this.Z9.value,K=_.qK(o),u=new ev(y.E.M,!0);u.data={Y:y.H.j3,xp:K.buffer,Ek:c+".jsx",ai7:!0};
this.I(u)};gK.prototype.afN=function(c){var Y=this.z7.indexOf(c.target),o=this.an_=this.XY[Y],K=this.RU.C1.Zy[o],u=new Uint8Array(K),X=_.AF(u,0,u.length);
this.Z9.value=X};gK.prototype.kX=function(c,o,K){this.Z9.value=gK.T7[0].Hf;this.ap0()};gK.prototype.ap0=function(){var c=this.RU.C1,o=this.Ac;
S._a(o);this.z7=[];this.XY=[];o.textContent="Saved scripts: ";for(var K in c.Zy){if(K.endsWith(".jsx")){var u=new kz(K,!1,null,!0);
this.z7.push(u);this.XY.push(K);u.B("click",this.afN,this);o.appendChild(u.n)}}};gK.prototype.VW=function(c,o){this.RU=c;
if(o==iD.xf)this.ap0()};gK.prototype.aiB=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.aX,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.I(o)};gK.prototype.Z4=function(c){var o=this.Z9.value,K=this.RU.C1.Zy;o=gK.aqL(o,K);var u=new ev(y.E.M,!0);
u.data={Y:y.H.Vj,bU:o};this.I(u)};gK.aqL=function(c,o){var K=c.split("\n");for(var Y=0;Y<K.length;Y++){var u=K[Y].trim();
if(u.startsWith("#include")){var X=u.slice(u.indexOf("\"")+1,u.lastIndexOf("\"")),$=o[X];if($==null)alert("\""+X+"\" not found in the Local Storage");
K[Y]=gK.aqL(_.AF(new Uint8Array($)),o)}}return K.join("\n")};gK.prototype.ahI=function(c){var o=this.agh.indexOf(c.currentTarget);
this.Z9.value=gK.T7[o].Hf};gK.T7=[{xq:"Hello",Hf:"\nalert(\"Hello Photopea!\");\n"},{xq:"Process Layers",Hf:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{xq:"Clone Layers",Hf:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function dF(){e6.call(this,[11,7],"newproject");this.data=null;this.ie=null;this.A7=0;var c=S.t("div","flexrow");
this.Aw=c;this.body.appendChild(c);var o=S.t("div","form");this._b=o;c.appendChild(o);this.Go=new fi([12,48],null,10);
o.appendChild(this.Go.n);S.jR(o);this.Ve=new d_(!0,null,null,null,!0);this.Ve.c(new kn(1280,720),72);
this.Ve.afj(!0,!0);this.Ve.B(y.E.z,this.aI,this);o.appendChild(this.Ve.n);this.fS=new f2;this.fS.parent=this;
o.appendChild(this.fS.n);this.Xb=new kz("\u02C5",null,[0,14],!0);this.Xb.B("click",this.NI,this);o.appendChild(this.Xb.n);
var K=this.jh=S.t("span");o.appendChild(K);K.style.display="none";this.agG=new iW([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
K.appendChild(this.agG.n);this.F$=new fA([1,16,1]);K.appendChild(this.F$.n);this.UQ=new kz([12,49],!0,null,!0);
this.UQ.B("click",this.Z4,this);o.appendChild(this.UQ.n);var u=dF.uf,X=[];for(var Y=0;Y<u.length;Y++)X.push(u[Y].name);
this.BS=new hE(null,X);this.BS.B(y.E.z,this.art,this);o.appendChild(this.BS.n);this.BS.n.style["margin-top"]="1em";
this.kq=new aE(!0);this.kq.B(y.E.z,this.acc,this);o.appendChild(this.kq.n);this.art();this.Tt=new kF;
this.Tt.parent=this;this.Tt.n.setAttribute("style","margin-left:1em");this.Tt.B("tempready",this.a26,this)}dF.prototype=new e6;
dF.prototype.NI=function(c){var o=this.jh,K=o.style.display!="none";o.style.display=K?"none":"";this.Xb.ro(K?"\u02C5":"\u02C4");
this._Q(this.Oc,this.s_)};dF.prototype.VW=function(c,o){this.Tt.VW(c)};dF.prototype.mC=function(c,o){return new kn(Math.max(0,Math.min(70,(c-690)/2)),c>o?Math.max(0,Math.min(50,(o-400)/2)):0)};
dF.prototype._Q=function(c,o){this.Oc=c;this.s_=o;this._b.setAttribute("style","width:"+Math.min(c-24,338)+"px");
this.kq.n.style.height=o-248-(this.jh.style.display=="none"?0:28)+"px";var K=this.Tt.n,u=K.parentNode;
if(c<500){if(u!=null)this.Aw.removeChild(K)}else{if(u==null)this.Aw.appendChild(K);this.Tt._Q(c-378,o-28)}};
dF.prototype.aI=function(){this.Tt.c(this.Ve.h())};dF.prototype.acc=function(c){var o=this.kq.h()[0],K=dF.uf[this.BS.h()].eI[o],u=K[4];
if(u==0)u=72;var X=K[1],$=K[2],O=["px","%","mm","in"].indexOf(K[3]),n=[1,1,25.4/u,1/u][O];X/=n;$/=n;
this.Ve.c(new kn(Math.round(X),Math.round($)),u);this.Ve.a4F(O);this.aI();if(Date.now()-this.A7<300)this.Z4();
this.A7=Date.now()};dF.prototype.art=function(c){var o=dF.uf[this.BS.h()].eI,K=[],u=[],X=Math.round(106*S.Sm()),$=Math.round(106*S.Sm()),O=0;
for(var Y=0;Y<o.length;Y++)O=Math.max(O,o[Y][1],o[Y][2]);for(var Y=0;Y<o.length;Y++){var n=o[Y],x=n[1]+" x "+n[2]+" "+n[3];
if(n[3]=="in")x=(n[1]*25.4).toFixed(0)+" x "+(n[2]*25.4).toFixed(0)+" mm";if(n[3]=="mm")x=(n[1]/25.4).toFixed(1)+" x "+(n[2]/25.4).toFixed(1)+" in";
if(n[4])x=x+" @ "+n[4]+" ppi";u.push(x);K.push(dF.Zq(n,X,$,O))}this.kq.od(K,u,X,$)};dF.Zq=function(c,o,K,u){var X=S.t("canvas",""),$=X.getContext("2d");
X.width=o;X.height=K;var O=Math.round(o/8),n=Math.floor(11*S.Sm()),x=c[1],l=c[2];$.fillStyle="#000000";
$.font=Math.round(n*.9)+"px \"Open Sans\", Sans-Serif";var N=x+" x "+l+" "+c[3],f=$.measureText(N);$.fillText(N,Math.round((o-f.width)/2),K-Math.round(O/2));
if(c[0]!=null){$.font="bold "+n+"px \"Open Sans\", Sans-Serif";var N=c[0],f=$.measureText(N);$.fillText(N,Math.round((o-f.width)/2),K-Math.round(O/2)-Math.round(n*1.3))}K-=Math.round(2.5*n);
var z=Math.min((o-O)/x,(K-O)/l);z*=.5+.5*(Math.max(x,l)/u);var R=(o-x*z)/2,V=(K-l*z)/2;$.strokeRect(Math.round(R)+.5,Math.round(V)+.5,Math.round(x*z),Math.round(l*z));
return X.toDataURL()};dF.prototype._=function(){e6.prototype._.call(this);this.Ve._();this.Go._();this.fS._();
this.UQ._();this.Go.c(iV.get([11,7]));this.BS._();this.F$._();this.Xb._();this.Tt._()};dF.prototype.Z4=function(c){var o=this.Ve.h(),K=o.x,u=o.y;
this.close();var X=this.fS.h(),$=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.agG.h()],O=new ev(y.E.XV,!0);
O.data=h_.QF(K,u,this.Ve.lt(),this.Go.h(),["Wht","Blck","Trns","Clr"][X[0]],this.F$.h(),X[1],$);this.I(O);
this.a0f()};dF.prototype.a26=function(c){var o=c.data.ff;o.$M=this.Ve.lt();var K=new ev(y.E.M,!0);K.data={Y:y.H.dR,ff:o};
this.I(K);this.close();this.a0f()};dF.prototype.a0f=function(){var c=this.ie[this.ie.length-1],o=this.data.aqp;
if(o)iU.D9(function(){var K=new XMLHttpRequest,u="https://www.googleapis.com/drive/v3/files?"+iU.mG();
K.open("POST",u,!0);K.setRequestHeader("Content-Type","application/json");K.addEventListener("load",function(X){var $=JSON.parse(X.target.response);
c.Jl={file:$,rZ:"psd"};alert(c.name+" created in Google Drive")});K.send(JSON.stringify({name:c.name,az7:[o]}))})};
dF.prototype.kX=function(c,o,K,u){this.ie=K;if(c!=null&&c.u!=null){var X=new ez(0,0,c.m,c.e).ar(c.u.rect);
this.Ve.c(new kn(X.m,X.e))}this.data=o;this.aI();if(S.Qz())fn.a1B(this.C3.bind(this))};dF.prototype.C3=function(c){if(c=="granted")fn.HC(this,this.Fb.bind(this))};
dF.prototype.Fb=function(c,o){this.Ve.c(new kn(o.m,o.e))};dF.uf=[{name:"Social",eI:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],eI:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],eI:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],eI:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],eI:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],eI:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",eI:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function cO(c,o,K){e6.call(this,o,"sel_"+c);this.Y=c;var u=S.t("div","form");this.body.appendChild(u);
this.Go=new fI(o,0,255,null,0,!1,!0);u.appendChild(this.Go.n);this.Go.c(1);var X=S.t("span");X.textContent=K;
u.appendChild(X);S.jR(u);this.a0J=new fA("Apply at canvas bounds");if(c!="border")u.appendChild(this.a0J.n);
this.UQ=S.ax(this,u)}cO.prototype=new e6;cO.prototype.no=function(c,o){if(c==null)return;if(c.u==null)alert("No selection!");
return c.u!=null};cO.prototype.Z4=function(c){var o=new ev(y.E.XV,!0);o.data=r.mW.Yo(this.Y,this.Go.h(),this.a0J.h());
o.a2=!0;this.I(o);this.close()};cO.prototype._=function(){e6.prototype._.call(this);this.UQ._();if(this.Go)this.Go._()};
cO.prototype.kX=function(c,o){this.Go.xd()};function jY(c,o,K,u,X,$){e6.call(this,K,o);this.ahi=$;this.UR=X;
this.uf=null;this._b=S.t("div","form");this.body.appendChild(this._b);this.aoH=S.t("div");this._b.appendChild(this.aoH);
var O=500;if(u){var n=u.split(",");u=n[0];if(n[1])O=parseFloat(n[1])}this.Go=c==0?new fi(K,null,10):c==1?new av(K,0,O,u,1):new fi(K,null,24,5);
this.Go.B(y.E.z,this.b3,this);this._b.appendChild(this.Go.n);this.UQ=S.ax(this,this._b);this.B("closebtn",this.Hg,this)}jY.prototype=new e6;
jY.prototype.mC=function(c,o){return new kn(Math.max(0,Math.min(150,(c-250)/2)),Math.max(0,Math.min(150,(o-120)/2)))};
jY.prototype.I2=function(){return this.ahi};jY.prototype.b3=function(c){var o=this.Go.h();if(this.UR)this.Hy(o)};
jY.prototype.Hg=function(c){if(this.UR)this.Hy("cancel")};jY.prototype.Z4=function(c){if(this.UR)this.Hy("confirm");
else this.Hy(this.Go.h());this.close()};jY.prototype.Hy=function(c){if(this.uf.vu)this.uf.vu(c);else if(this.uf.t9){var o=this.uf.t9,K=new ev(o.K,!0);
K.f=o.f;K.data=o.C;K.data.b=c;K.a2=!0;this.I(K)}};jY.prototype._=function(){e6.prototype._.call(this);
this.UQ._();if(this.Go)this.Go._()};jY.prototype.kX=function(c,o){this.uf=o;this.Go.c(o.Ak);this.Go.xd();
this.aoH.innerHTML=o.axv?o.axv:"";this.b3(null)};function c6(){e6.call(this,[1,5],"open_from_url");this.eq=null;
var c=S.t("div","form");this.body.appendChild(c);this.yZ=new fi("URL",null,22);c.appendChild(this.yZ.n);
S.jR(c);this._n=new hE([21,0],[[21,2],[21,1]]);c.appendChild(this._n.n);this.UQ=S.ax(this,c)}c6.prototype=new e6;
c6.prototype._=function(){e6.prototype._.call(this);this.UQ._();this._n._()};c6.prototype.kX=function(c,o,K){this.yZ.xd();
this.eq=null;if(c&&K.indexOf(c)!=-1)this.eq=K.indexOf(c)};c6.prototype.Z4=function(c){var o=new ev(y.E.M,!0),K=this.yZ.h();
o.data={Y:y.H.ip,EU:{url:K,Os:!0,eq:this._n.h()==1?this.eq:null}};this.I(o);this.close()};function aK(){e6.call(this,[12,79],"preferences");
this.RU=null;var c=S.t("div","form");this.body.appendChild(c);this.Yf=[new fA([8,2]),new hv,new fA([8,4]),new hv,new iW([12,80,3],[[12,93,3],[12,80,4]]),new av([12,80,5],.02,100,null,2),new iW(null,a.Pj.gm),new iW([12,80,6],a.Pj.gm),new fA("Remind me to save"),new fA("Glass Menus"),new av("Cursor Offset",0,200)];
for(var Y=0;Y<this.Yf.length;Y++){var o=this.Yf[Y];o.parent=this;o.B(y.E.z,this.zb,this);if(Y==8)continue;
c.appendChild(o.n);if(Y!=0&&Y!=2&&Y!=3&&Y!=5)S.jR(c)}}aK.prototype=new e6;aK.prototype._=function(){e6.prototype._.call(this);
for(var Y=0;Y<this.Yf.length;Y++)this.Yf[Y]._()};aK.prototype.kX=function(c,o,K){};aK.prototype.VW=function(c,o){this.RU=c;
var K=c.RG;this.Yf[0].c(K.qb);this.Yf[1].fV(K.uV);this.Yf[2].c(K.wr);this.Yf[3].fV(K.gt);this.Yf[4].c(K.Mu);
this.Yf[5].c(K.vl);this.Yf[6].c(K.Vy);this.Yf[7].c(K.MF);this.Yf[8].c(c.oA==1);var X=window.locStor.getItem("__glm");
this.Yf[9].c(X=="1");this.Yf[10].c(c.Jt)};aK.prototype.zb=function(c){var o=this.Yf;if(c.target==o[8])this.RU.oA=1-this.RU.oA;
var K=JSON.parse(JSON.stringify(this.RU.RG));K.qb=o[0].h();K.uV=o[1].ZO();K.wr=o[2].h();K.gt=o[3].ZO();
K.Mu=o[4].h();K.vl=o[5].h();K.Vy=o[6].h();K.MF=o[7].h();window.locStor.setItem("__glm",o[9].h()?"1":"0");
this.RU.Jt=o[10].h();var u=new ev(y.E.M,!0);u.data={Y:y.H.NU,EU:iD.V2,qU:K};this.I(u)};function kl(){e6.call(this,[11,8],"saveforweb");
this.a3$="";this.B("closebtn",function(){this.Sx.in()},this);this.ff=null;this.qg=null;this.akX=null;
this.RU=null;S.SZ(this.body,"flexrow");this.body.style.padding="0";var c=S.t("div");c.setAttribute("style","position:relative;");
var o=S.t("div");this.body.appendChild(c);this.body.appendChild(o);this.G_=S.t("div","imgcont");c.appendChild(this.G_);
this.Sx=new cY;this.Sx._Q(512,512);var K=this.NQ=S.t("video");K.setAttribute("controls","");K.setAttribute("preload","auto");
K.setAttribute("loop","");this.eM=S.t("div");this.eM.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
c.appendChild(this.eM);var u=this._b=S.t("div","form cell");u.setAttribute("style","width:195px; padding:9px 13px;");
o.appendChild(u);this.DM=new fi([12,48],null,7.6);this.DM.qm();u.appendChild(this.DM.n);var X=c5.kA();
X[X.indexOf("WEBP")]="webP";this.x6=new iW([12,50],X);this.x6.n.style.marginRight="0";this.x6.qm();u.appendChild(this.x6.n);
this.x6.B(y.E.z,this.b6,this);S.jR(u);this.Ve=new d_(!0,!0,!1,!0);this.Ve.qm();this.Ve.B(y.E.z,this.b6,this);
this.Ve.mg.n.style.paddingBottom="8px";u.appendChild(this.Ve.n);this.m5=new ip;this.m5.B(y.E.z,this.b6,this);
u.appendChild(this.m5.n);this.HI=new kz([1,2],!0,null,!0);this.HI.B("click",this.Z4,this);u.appendChild(this.HI.n)}kl.prototype=new e6;
kl.prototype.no=function(c,o){return c!=null};kl.prototype._=function(){e6.prototype._.call(this);this.Ve._();
this.DM._();this.x6._();this.m5._();this.HI._()};kl.prototype.Z4=function(c){var o=this.DM.h().trim(),K=c5.kA()[this.x6.h()],u=K=="JPG"||K=="PNG"||K=="GIF"||K=="SVG",X=c5.nq(K),$="."+K.toLowerCase(),O=this.qg,n=o+$,x=this.ff,l=x.ni,N=this.m5.h();
if(x.Qj())N.pop();if(l.length!=0&&u&&N.pop()){var f="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",z=[],R={},V=new ez(0,0,x.m,x.e),d=x.i9();
for(var Y=0;Y<l.length;Y++)z.push(r.Jy.M4(l,Y));z.reverse();var e=a.rect.ahD([0,0,x.m,x.e],z);for(var Y=0;
Y<e.length;Y++){var p=e[Y],h=new ez(p[0],p[1],p[2]-p[0],p[3]-p[1]),E=p.length==5?l[p[4]].v:null,q=a.R(h.P()*4);
a.Ui(d,V,q,h);var Z="img/img"+(Y+1)+$;R[Z]=new Uint8Array(X.nC([[q.buffer,0,x.$M,x.VV]],h.m,h.e,N));
f+="<div style=\"background-image:url('"+Z+"'); left:"+h.x+"px; top:"+h.y+"px; width:"+h.m+"px; height:"+h.e+"px\">";
if(E&&E.url.v!="")f+="\n\t<a href=\""+E.url.v+"\" target=\""+E.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
f+="</div>\n"}f+="</body>\n</html>\n";var v=a.R(Math.round(f.length*1.5)),W=_.o5(f,v,0);R["index.html"]=v.slice(0,W);
O=UZIP.encode(R);n=o+".zip"}else if(x.add.artd&&x.add.artd.Cnt.v>1&&u&&N.pop()){var R={},V=new ez(0,0,x.m,x.e),d=x.i9(),D=x.root.children;
for(var Y=0;Y<D.length;Y++){var I=D[Y].l,U;if(I.add.artb==null||!I.IT())continue;var A=I.rA();if(K=="SVG")U=new Uint8Array(X.nC(x,A.m,A.e,N,this.RU,Y));
else{var w=a.R(A.P()*4);a.Ui(d,V,w,A);U=new Uint8Array(X.nC([[w.buffer,0,x.$M,x.VV]],A.m,A.e,N))}R[I.getName()+$]=U}O=UZIP.encode(R);
n=o+".zip"}var t=function(){if(x.pQ)fn.Hs("act=1&id="+x.pQ);this.Sx.in();this.close();var J=new ev(y.E.M,!0);
J.data={Y:y.H.fe,data:O,name:n};this.I(J)}.bind(this);if(!this.RU.wO||ar.Is()){t();return}if(ji.sl==0){ji.pu(t);
return}var L=ji.I$()!=0;t();var J=new ev(y.E.M,!0),b=d0.hn("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),F=d0.hn(";QJXQ_*II9"),B=function(){J.data={Y:y.H.Vl,n9:"account"};
this.I(J)}.bind(this);if(L){b=d0.hn("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
B=function(){};F=null}J.data={Y:y.H.Vl,n9:d0.St,b:b,vu:B,apQ:F};if(Math.random()<.1||L)this.I(J)};kl.prototype.kX=function(c,o){if(o.GA!=null)this.x6.c(o.GA);
this.ff=c;var K=this.ff.name,u=K.lastIndexOf("."),K=u==-1?K:K.slice(0,u);this.DM.c(K);var X=c.m+","+c.e;
if(X!=this.a3$){this.a3$=X;this.Ve.c(new kn(c.m,c.e),c.$M)}this.m5.a4s();if(o.a9u){this.Ve.a4F(3);this.m5.cW.PDF[2].nY.c(!0)}this.b6(null,!0)};
kl.prototype.azL=function(c,o){return c<o&&c<660};kl.prototype.mC=function(c,o){return this.azL(c,o)?new kn(0,0):new kn(Math.max(0,Math.min(150,(c-770)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
kl.prototype._Q=function(c,o,K){this.Oc=c;this.s_=o;if(this.ff==null)return;var u=this.HI.n,X=this.azL(c,o),$,O,z="<span style=\"width:",R="display:inline-block; text-align:right;\">";
if(X){var n=this._b.getBoundingClientRect().height;$=c;O=o-Math.max(n,252);S.MG(this.body,"flexrow")}else{$=Math.min(512,c-195-2*13);
O=Math.min(512,o-24);S.SZ(this.body,"flexrow")}var x=X?c-2*13:195;this._b.style.width=x+"px";this.DM.RX.style.width=x-77+"px";
this.Ve._Q(x);var l=c5.kA()[this.x6.h()],N=c5.nq(l);if(N.zi||N._V)this.G_.firstChild.setAttribute("style","display:block; width:"+$+"px; height:"+O+"px;");
else{this.Sx._Q($,O);this.NQ.width=$;this.NQ.height=O}var f=this.qg.byteLength,V=z+64+"px;"+R+kl.c3(f)+"</span>";
if($>400)V+=z+90+"px; opacity:"+.5+";"+R+f.toLocaleString()+" B</span>";this.eM.innerHTML=V;if(K)setTimeout(function(){this._Q(this.Oc,this.s_)}.bind(this),20)};
kl.c3=function(c){var o=c.toString(2),K=0;while(K+10<o.length)K+=10;var u=(c/Math.pow(2,K)).toFixed(1);
if(u.endsWith(".0"))u=u.slice(0,-2);var X="B KB MB GB TB PB".split(" ")[Math.floor(K/10)];return u+" "+X};
kl.prototype.VW=function(c,o){this.RU=c};kl.prototype.b6=async function(c,o){var K=this.ff,u=this.Ve.h(),X=u.x,$=u.y,O=this.x6.h(),n=c5.kA()[O],x=c5.ZQ(K)[0].length,l=["GIF","PNG","WEBP","MP4"].indexOf(n)!=-1&&x>1,p="";
if(l&&n!="MP4"&&o&&(x>4&&X*$>1024*1024||X*$*x>800*800*50)){var N=1;while(Math.max(X>>>N,$>>>N)>800)N++;
var f=window.confirm("Your animation is large ("+X+" x "+$+" px). Press \"OK\" to scale it to "+(100>>>N)+"%. Press \"Cancel\" to keep the size.");
if(f){this.Ve.c(new kn(X>>>N,$>>>N),null,!0);X=X>>>N;$=$>>>N}}var z=K.add.artd,R=z!=null&&z.Cnt.v>1,V=K.Qj();
this.m5.kz(n,l,K.ni.length!=0,R,V!=null);var d=window.locStor.getItem("sfwPrms");if(d==null)d={};else{d=JSON.parse(d);
if(d.MP4&&d.MP4[0]==100)d.MP4[0]=50}var e=this.m5.h();if(c&&c.target==this.m5){d[n]=e;window.locStor.setItem("sfwPrms",JSON.stringify(d))}else if(d[n]){this.m5.c(d[n],!0);
e=this.m5.h()}this.qg=await c5.PY(K,n,X,$,e,this.RU);if(this.qg==null){this.ff=null;return}S._a(this.G_);
this.Sx.in();var h=c5.nq(n);if(h._V){this.G_.innerHTML="<div></div>"}else if(h.zi){var E=X,q=$,Z;if(n=="PDF"||n=="AI"){Z=URL.createObjectURL(new Blob([this.qg],{type:"application/pdf"}))}else{Z=URL.createObjectURL(new Blob([this.qg],{type:"image/svg+xml"}))}this.G_.innerHTML="<iframe src=\""+Z+"\"></iframe>"}else if(n=="MP4"){var Z=URL.createObjectURL(new Blob([this.qg]));
this.NQ.setAttribute("src",Z);this.G_.appendChild(this.NQ)}else{var v=this.akX=h.gP(this.qg),W=v[0],D=W.yS,E=D.m,q=D.e;
if(W.Mb){var I=ICC.R(W.Mb.buffer),A=17,U=ICC.U.sampleLUT(I,A);for(var Y=0;Y<v.length;Y++){var w=new Uint8Array(v[Y].data);
ICC.U.applyLUT(U,A,w,w)}}this.Sx.c(v,v.length>1?e[e.length-3]:0);this.G_.appendChild(this.Sx.n);p="background: rgba(0,0,0,0);"}this.G_.setAttribute("style","display:block; "+(h._V?"background:rgba(0,0,0,0);":"background-size:"+16/S.Sm()+"px;")+p);
this._Q(this.Oc,this.s_,o)};function aY(){e6.call(this,[11,13],"shortcuts");this.RU=null;var c=this.Aw=S.t("div","scrollable");
c.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(c);
this.j6()}aY.prototype=new e6;aY.prototype._=function(){e6.prototype._.call(this);this.j6()};aY.prototype.VW=function(c,o){this.RU=c};
aY.prototype.kX=function(c,o,K,u){if(S.Kt(this.n))this.j6()};aY.prototype.j6=function(){var c="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",o="",K=d2,u=K.vm,X=K.Qx,$=K.u6;
o+="<h2 style=\"margin-top:0;\">Main Menu</h2>";o+=c;o+=this.x2([[0,0],"---",[1,0],[u,K.jV],[1,2],[u,K.Ud],[1,3],[X,u,K.Ud],[1,8],[$,X,u,K.Ud],[0,1],"---",[2,0],[X,u,K.G0],[2,1],[u,K.G0],[5,0],[u,K.Ji],[5,1],[u,K.y6],[5,2],[u,K._x],[2,2],"Delete",[2,3],[$,K.Kf],[10,16],[$,u,K.J9],[12,79],[u,K.gj],[3],"---",[4,1],[u,K.Eb],[4,2],[u,K.ya],[4,5],[u,K.ge],[4,11],[u,K.Bu],[0,3],"---",[6,13],[X,u,K.s$],[6,49,0],[u,K.Wo],[6,6,0],[$,u,K.U6],[6,9],[u,K.U6],[6,10],[u,K.E],[0,5],"---",[7,0],[u,K.H],[7,1],[u,K.Vf],[7,2],[X,u,K.Bu],[0,7],"---",[8,0],[u,K.v0],[8,1],[u,K.pS],[8,3],[u,K.Bl],[8,2],[u,K.BD],[8,4],[u,K.xx],[11,13],"?"]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";o+=c;o+=this.x2(["Vertical scroll","Wheel","Horizontal scroll",[u,"Wheel"],"Zooming",[$,"Wheel"]]);
o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
o+=c;o+=this.x2([[10,11],[u],[10,7],"Space",[10,17],[u,K.gO]]);o+="</div>";o+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
o+=c;var O=[],n=this.RU;if(n==null)return;var x=n.k;for(var Y=0;Y<x.Hv.length;Y++){var l=x.Hv[Y],N=x.keys[Y];
for(var f=0;f<l.length;f++)O.push(l[f].f.name,N?N.xq:null)}O=O.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[u,K.rz]]);
o+=this.x2(O);o+="</div>";this.Aw.innerHTML=o};aY.prototype.x2=function(c){var o="",K=!0;for(var Y=0;
Y<c.length;Y+=2){var u=c[Y],X=d2.k$(c[Y+1]);if(X==null){K=!1;continue}var $=S.LI(iV.get(u));if(X=="---"){if(!K)o+="<br/>";
o+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+$+"</div>"}else o+="<div>"+$+" <span style=\"float:right; font-weight:bold;\">"+X+"</span> </div>";
K=!1}return o};function b5(){e6.call(this,[8,11,1],"soptions");this.oh=null;var c=S.t("div","form");
c.style.width="20em";this.body.appendChild(c);this.hb={Nm:[12,48],url:"URL",null:[12,71]};this.Yf={};
for(var o in this.hb){var K=new fi(this.hb[o],null,15);this.Yf[o]=K;c.appendChild(K.n)}this.aiA=new dV([12,14,0]);
c.appendChild(this.aiA.n);this.jg=new dQ(0,!0);c.appendChild(this.jg.n);this.UQ=S.ax(this,c)}b5.prototype=new e6;
b5.prototype.kX=function(c,o,K){var u=o.b;this.oh=JSON.stringify(u);for(var X in this.hb){if(u[X])this.Yf[X].c(u[X].v)}var $=u.bounds.v,O=$.Left.v,n=$.Top.v;
this.jg.c([O,n,$.Rght.v-O,$.Btom.v-n])};b5.prototype.Z4=function(c){var o=JSON.parse(this.oh);for(var K in this.hb){var u=this.Yf[K].h();
o[K]={t:"TEXT",v:u}}var X=this.jg.h();console.log(X);var $=o.bounds.v,O=X[0],n=X[1];$.Left.v=O;$.Top.v=n;
$.Rght.v=O+X[2];$.Btom.v=n+X[3];var x=new ev(y.E.v,!0);x.f=r.t4;x.data=o;x.a2=!0;this.I(x);this.close()};
b5.prototype._=function(){e6.prototype._.call(this);this.UQ._();this.aiA._();this.jg._()};function aQ(){e6.call(this,[2,3],"fill");
this.RU=null;this.Cv=null;var c=S.t("div","form padded");c.style.width="22em";this.body.appendChild(c);
this.$I="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.nw=new iW([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.nw.B(y.E.z,this.al2,this);c.appendChild(this.nw.n);this.G_=S.t("span");c.appendChild(this.G_);this.hP=new hv;
this.hP.parent=this;this.hP.fV(0);this.p1=new al;this.p1.parent=this;this.jy=new iW([12,19,0],ef.kp,ef.fc);
c.appendChild(this.jy.n);this.hE=new av([12,0],0,100,"%",0,!1);this.hE.c(100);c.appendChild(this.hE.n);
this.tg=new fA([13,5]);this.tg.c(!1);c.appendChild(this.tg.n);this.UQ=S.ax(this,this.body)}aQ.prototype=new e6;
aQ.prototype.no=function(c,o){return c!=null};aQ.prototype.I2=function(){return!0};aQ.prototype.al2=function(){var c=this.nw.h(),o=this.hP.n,K=this.p1.n,u=this.G_;
if(c==2)u.appendChild(o);else if(u.contains(o))u.removeChild(o);if(c==7)u.appendChild(K);else if(u.contains(K))u.removeChild(K)};
aQ.prototype._=function(){e6.prototype._.call(this);this.nw._();this.jy._();this.hE._();this.tg._();
this.UQ._()};aQ.prototype.Z4=function(c){if(!this.Cv.n_())return;var o=new ev(y.E.XV,!0),K=this.nw.h();
o.data=r.VN.P5(this.$I[K],ef.oj[this.jy.h()],this.hE.h()/100,this.hP.h(),this.tg.h(),this.p1.h());this.close();
this.I(o)};aQ.prototype.kX=function(c,o){this.Cv=c};aQ.prototype.VW=function(c,o){this.RU=c;if(o==iD.Vk||o==iD.qR){this.p1.E8(c.dx);
this.p1.c({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function ah(){e6.call(this,[14,9],"stroke");this.RU=null;this._b=S.t("div","form");this._b.setAttribute("style","width:24em");
this.body.appendChild(this._b);this.za=new ic("FrFX",!0);this.za.parent=this;var c=["Sz","Styl","Md","Opct"].concat(gH.wV);
for(var Y=0;Y<c.length;Y++){var o=this.za.Ue[c[Y]].n;this._b.appendChild(o)}this.ZE=!1;this.UQ=S.ax(this,this.body)}ah.prototype=new e6;
ah.prototype.no=function(c,o){return c!=null};ah.prototype.I2=function(){return!0};ah.prototype._=function(){e6.prototype._.call(this);
this.UQ._();this.za._()};ah.prototype.Z4=function(c){var o=this.za.h(),K={classID:"Strk"};K.Md=o.Md;
K.Opct=o.Opct;K.Clr=o.Clr;K.Wdth={t:"long",v:o.Sz.v.val};var u=gH.stroke.types.indexOf(o.Styl.v.FStl);
K.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][u]}};var X=new ev(y.E.XV,!0);X.data={ST:"stroke",sK:K};
this.close();this.I(X)};ah.prototype.kX=function(c,o){if(!this.ZE){var K=gH.R$[gH.order.indexOf("FrFX")];
K=JSON.parse(K);this.za.update(c,K);this.ZE=!0}var K=this.za.h(),u=this.RU.V5;K.Clr.v=a.T.mv({Z:u>>16&255,r:u>>8&255,J:u&255});
this.za.update(c,K)};ah.prototype.VW=function(c,o){this.RU=c};function bH(){e6.call(this,[11,9],"textwarp");
this.Yf=new bX;this.Yf.B(y.E.z,this.Ur,this);this.Yf.parent=this;this._b=S.t("div","form");this._b.setAttribute("style","width:20em");
this.body.appendChild(this._b);this._b.appendChild(this.Yf.Ii.n);this._b.appendChild(this.Yf.pU.n);this._b.appendChild(this.Yf.LU.n);
this._b.appendChild(this.Yf.Im.n);this._b.appendChild(this.Yf.iU.n);this.UQ=S.ax(this,this._b);this.B("closebtn",this.Hg,this)}bH.prototype=new e6;
bH.prototype.I2=function(){return!0};bH.prototype._=function(){e6.prototype._.call(this);this.UQ._();
this.Yf._()};bH.prototype.Ur=function(c){var o=this.Yf.h();this.Hy({Y:"warp",Pw:o})};bH.prototype.Hy=function(c){var o=new ev(y.E.v,!0);
o.f=r.kO;o.data=c;o.a2=!0;this.I(o)};bH.prototype.Hg=function(c){this.Hy({Y:"warpCancel"})};bH.prototype.Z4=function(c){this.Hy({Y:"warpConfirm"});
this.close()};bH.prototype.kX=function(c,o){var K=c.s[c.g[0]];this.Yf.c(K.add.TySh.KB)};function dY(){e6.call(this,[11,12,0],"trim");
var c=this._b=S.t("div","form");this._b.setAttribute("style","width:22em");this.body.appendChild(this._b);
var o=new dV("Color To Trim:");c.appendChild(o.n);this.Yy=new aN(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.Yy.c([!0]);this._b.appendChild(this.Yy.n);var o=new dV("Sides:");c.appendChild(o.n);this.uO=new aN(null,["Top","Left","Bottom","Right"]);
this.uO.c([!0,!0,!0,!0]);this._b.appendChild(this.uO.n);this.UQ=S.ax(this,this.body)}dY.prototype=new e6;
dY.prototype.no=function(c,o){return c!=null};dY.prototype.I2=function(){return!0};dY.prototype._=function(){e6.prototype._.call(this);
this.Yy._();this.uO._();this.UQ._()};dY.prototype.Z4=function(c){var o=this.Yy.h().indexOf(!0),K=this.uO.h(),u=new ev(y.E.XV,!0);
u.data=r.zm.vY(o,K);this.close();this.I(u)};function iT(){e6.call(this,"Raw Photopea","rawpea");this.tu=null;
this.xL=null;this.body.style.padding="0";var c=this.Dq=new kc["Adobe Camera Raw Filter"](!0),o="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(c.n);this.UQ=new kz([1,0],!0,null,!0);this.UQ.B("click",this.Z4,this);this._1=new kz(o+" JPG",!0,null,!0);
this._1.B("click",this.aw1,this);this._1.n.style.marginTop="6px";c.L1(this.UQ.n);c.L1(this._1.n)}iT.prototype=new e6;
iT.prototype.mC=function(){return new kn(0,0)};iT.prototype._Q=function(c,o){this.Dq._Q(c,o)};iT.prototype._=function(){e6.prototype._.call(this);
this.Dq._()};iT.prototype.aw1=function(c){var o=this.tu,K=this.xL,u=c5.nq("JPG").nC([[this.Dq.h(!0).buffer]],K.UO,K.YO,[85]),X=new ev(y.E.M,!0);
X.data={Y:y.H.fe,data:u,name:"photo.jpg"};this.I(X)};iT.prototype.Z4=function(c){var o=this.tu,K=this.xL,u=bf.Kj(o),o={yS:new ez(0,0,K.UO,K.YO),data:this.Dq.h(!0).buffer,VV:u},X=c5.aS("Raw Photo",[o]),$=new ev(y.E.M,!0);
$.data={Y:y.H.dR,ff:X};this.I($);this.g8();this.close()};iT.prototype.g8=function(){this.tu=null;this.xL=null;
this.Dq.ajL()};iT.prototype.kX=function(c,o,K,u){this.tu=o.lD;var X=this.xL=a.raw.aeD(this.tu),$=a.raw.a67(o.lD),O=eg.ayd($);
a.raw.qf(X.PX,X.PX,o.lD,[O.iS,O.k5]);var n=gZ.ib("Adobe Camera Raw Filter");this.Dq.c(n,X.PX,new ez(0,0,X.UO,X.YO))};
function fL(c){e6.call(this,c?[11,11,0]:[11,11,1],c?"vbitmap":"rcolors");this.uf=null;this.xC=null;this.DJ=null;
this.M$=null;this.I6=null;this.ajo=null;this.dp=null;this.RU=null;this._R="";this.qn=c;this.tY=this.S0.bind(this);
this.ki=!1;this.body.style.padding="0";this._b=S.t("div","form hbar padded");this.body.appendChild(this._b);
this.Lo=new aN(null,["Fill","Stroke","Labels"]);this.Lo.B(y.E.z,this.S0,this);var o=S.t("span","rangecontFloat form padded"),x=16;
o.appendChild(this.Lo.n);o.setAttribute("style","position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var K=new ax;K.n=o;var u=this.lj={cnum:new fI([12,82],2,50,null),nois:new fA([12,81]),mode:new iW(null,["Cartoon","Photo"]),segm:new fA("Segmentize"),cbok:new fA("Coloring book"),poly:new fA("Polygon"),merg:new fA("Merge colors"),polE:new fI("Roughness",2,30,null),dthr:new fA([12,23,3]),vprm:new kz("\u2026",!1,null,!0),ok:S.ax(this,null,!1)},X=this;
for(var $ in u){var O=u[$];O.parent=this;if($=="ok"){}else if($=="vprm"){O.B("click",function(N){var f=u.vprm.n.getBoundingClientRect(),z=new ev(y.E.M,!0);
z.data={Y:y.H.B2,KH:K,x:f.left,y:f.top+20};X.I(z)})}else O.B(y.E.z,this.S0,this)}var n=this.Zp=S.t("div","flexrow");
this.body.appendChild(n);n.setAttribute("style","background-color:var(--bg-canvas)");this.wc=new cY;
this.wc.B("viewchange",this.ol,this);this.Vv=new cY;this.xS=S.t("canvas");this.xS.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.i0=this.xS.getContext("2d");var l=a.R(16*16*4);a.MY(l,x,x,8);this.RI=a.scale.Cu(l,x,x);this.wc.adO(this.xS);
this.wc.QA(this.Vv);this.Vv.QA(this.wc);n.appendChild(this.wc.n);if(c)n.appendChild(this.xS);else n.appendChild(this.Vv.n)}fL.prototype=new e6;
fL.prototype.mC=function(){return new kn(0,0)};fL.prototype.I2=function(){return!0};fL.prototype._Q=function(c,o){this.Oc=c;
this.s_=o;o=o-44;if(c<600)o-=29;if(this.uf==null)return;var K=this.uf.yS,u=jm.a5F(c,o,K.m,K.e);if(u==1)o-=3;
if(u==0){c=Math.floor(c/2);S.SZ(this.Zp,"flexrow")}else{o=Math.floor(o/2);S.MG(this.Zp,"flexrow")}S.qI(this.xS,c,o);
this.wc._Q(c,o);if(this.qn)this.ol();else this.Vv._Q(c,o)};fL.prototype.y9=function(c,o,K,u){this.wc.y9(u)};
fL.prototype._=function(){e6.prototype._.call(this);for(var c in this.lj)this.lj[c]._()};fL.prototype.kX=function(c,o){this.dp=c;
this.I6=null;var K=c.s[c.g[0]],u=a.dJ.anb(K.buffer.buffer,K.rect.m,K.rect.e).alc,X=u/((K.rect.m-2)*(K.rect.e-2)),$=this.lj;
$.cnum.c(20);$.nois.c(X<.75);$.mode.c(X<.75?1:0);$.segm.c(!1);$.cbok.c(!1);$.poly.c(!1);$.merg.c(!0);
$.polE.c(1);$.dthr.c(!1);var O=K.rect.clone();O.x=O.y=0;this.uf={yS:O,data:K.buffer.buffer.slice(0)};
this.xC=null;this._Q(this.Oc,this.s_);this.wc.c([this.uf]);this.wc.Ez();this.ki=!0;this.Lo.c([!0,!1,!1]);
setTimeout(this.tY,20)};fL.prototype.S0=function(){var c=!0,o=Date.now(),K=this.uf,u=this.lj,X=u.cnum.h(),$=u.nois.h(),O=u.mode.h(),n=u.segm.h(),x=u.cbok.h(),l=u.poly.h(),N=u.merg.h(),f=u.polE.h(),A=null;
if(O==0)n=l=x=!1;var z=u.dthr.h(),R=["cnum","nois","mode"];if(O==1){R.push("cbok");if(this.qn){R.push("poly");
if(l)R.push("polE");R.push("vprm")}}if(this.qn)R.push("merg");else R.push("dthr");R.push("ok");S._a(this._b);
for(var Y=0;Y<R.length;Y++)this._b.appendChild(u[R[Y]].n);if(c)console.log("---------------------------------------");
var V=$||n,d=$+","+n;if(V&&(this.xC==null||this._R!=d)){this._R=d;var e=new Uint8Array(K.data),p=K.yS.m,h=K.yS.e;
if($){if(this.I6==null){this.I6=e.slice(0);a.Q_.as=35;a.Q_.fC(this.I6,this.I6,p,h,15,1);if(c){console.log("denoise",Date.now()-o);
o=Date.now()}}e=this.I6.slice(0)}else e=e.slice(0);if(n){var E=a.dJ.OL(e,p,h,40,10),q=E.gj,Z=new Uint8Array(q*4);
for(var Y=0;Y<q;Y++){var v=Y*4,W=Y*6,D=1/E.bj[W+5];Z[v]=E.bj[W]*D;Z[v+1]=E.bj[W+1]*D;Z[v+2]=E.bj[W+2]*D}for(var Y=0;
Y<e.length;Y+=4){var I=E.zC[Y>>>2]*4;e[Y]=Z[I];e[Y+1]=Z[I+1];e[Y+2]=Z[I+2]}if(c){console.log("segm",Date.now()-o);
o=Date.now()}}this.xC={yS:K.yS.clone(),data:e.buffer}}if(V)K=this.xC;var e=new Uint8Array(K.data),p=K.yS.m,h=K.yS.e;
for(var Y=0;Y<e.length;Y+=4){if(e[Y+3]<10)e[Y]=e[Y+1]=e[Y+2]=e[Y+3]=0}if(O==0){A=a.dJ.a2$(e,p,h,X,V?.1:2e-4);
if(c){console.log("quantize",Date.now()-o);o=Date.now()}}if(O!=0||A&&A.a3.length<2){A=gL.afl(e.buffer,X,p,h,null,x)}if(this.qn){var U=A.zC.slice(0);
for(var Y=0;Y<U.length;Y++)U[Y]++;this.oc=a.dJ.awS(A.zC,p,h);var w=new Uint8Array((p+2)*(h+2));a.qv(U,new ez(1,1,p,h),w,new ez(0,0,p+2,h+2));
if(!l){var t=Math.round((p+2)*(h+2)/1e4),L=iy.by(w.slice(0),p+2,h+2,Math.min(12,t)),J=iy.Dr(L);if(c){console.log("trace smooth",Date.now()-o);
o=Date.now()}}else{var J=a.A.adl(w,p+2,h+2,f,c)}var b=J.length,F=new bE(1,0,0,1,-1,-1);for(var Y=0;Y<b;
Y++)a.A.i(J[Y].path.j,F,J[Y].path.j);this.M$=J;this.DJ=A;for(var Y=0;Y<b;Y++){var B=J[Y];for(var k=Y+1;
k<b;k++){var i=J[k];if(i.parent==Y&&A.a3[i.color-1].est.q[3]<.05){var H=i.path.G.slice(1),m=H.pop();
if(m!="Z")H.push(m);H.reverse();H=["M"].concat(H);if(m=="Z")H.push("Z");var j=[],L=i.path.j.length;for(var Q=0;
Q<L;Q+=2){j[Q]=i.path.j[L-2-Q];j[Q+1]=i.path.j[L-2-Q+1]}a.A.concat(B.path,{j:j,G:H})}}}if(c){console.log("finding holes",Date.now()-o);
o=Date.now()}for(var Y=0;Y<J.length;Y++){var G=J[Y];if(G.parent!=-1){var g=J[G.parent];G.parent=g;if(g.A3==null)g.A3=[];
g.A3.push(G)}G.depth=G.parent==-1?0:G.parent.depth+1}if(N){function P(hk,C){var ds={},gT=0,gP=0;for(var Y=0;
Y<hk.length;Y++){var s=hk[Y].color,Q="c"+s;if(s==C)throw s;if(ds[Q]==null)ds[Q]=0;ds[Q]++;if(ds[Q]>gT){gT=ds[Q];
gP=s}}return gP}var M=[],T=[],C=-1,gf=!0;for(var Y=0;Y<J.length;Y++)if(J[Y].parent==-1)T.push(J[Y]);
while(T.length!=0){var s=P(T,C);C=s;for(var Y=0;Y<T.length;Y++)if(T[Y].color==s){var b3=T[Y];M.push(b3);
T.splice(Y,1);Y--;if(b3.A3)for(var k=0;k<b3.A3.length;k++){T.push(b3.A3[k]);if(b3.A3[k].color!=s)gf=!1}}}if(gf)J=M;
else{var d5=[];for(var gh=0;gh<500;gh++){var jt=[],L=d5[gh-1];d5.push(jt);for(var Y=0;Y<J.length;Y++){var G=J[Y],g=G.parent;
if(gh==0&&g==-1||gh!=0&&L.indexOf(g)!=-1){jt.push(G);J.splice(Y,1);Y--}}jt.sort(function(hk,ds){return hk.color-ds.color});
if(J.length==0)break}for(var Y=0;Y<d5.length;Y++)J=J.concat(d5[Y])}}else{var M=[],fl=[];while(J.length!=0){fl.push(J.shift());
while(fl.length!=0){var eq=fl.pop();M.push(eq);if(eq.A3)for(var Y=0;Y<eq.A3.length;Y++){var G=eq.A3[Y];
J.splice(J.indexOf(G),1);fl.push(G)}}}J=M}this.M$=J;for(var Y=0;Y<J.length;Y++){var B=J[Y],c7=A.a3[B.color-1].est.q;
if(c7[3]<=.05){J.splice(Y,1);Y--;continue}}for(var Y=1;Y<J.length;Y++){var k8=J[Y-1],B=J[Y];if(k8.color==B.color&&(N||k8.parent==B.parent&&k8.depth>=2)){a.A.concat(k8.path,B.path);
J.splice(Y,1);Y--;continue}}if(c){console.log("reordering layers",Date.now()-o,b,J.length);o=Date.now()}this.ol()}else{var hs=new Uint32Array(p*h),cq=p*h,jn=this.ajo=new Uint8Array(hs.buffer);
if(z){var an=[];for(var Y=0;Y<A.a3.length;Y++)an.push(A.a3[Y].est.rgba);var I=a.R(p*h);UPNG.encode.dither(new Uint8Array(K.data),p,h,an,jn,I)}else{for(var Y=0;
Y<cq;Y++){var s=A.a3[A.zC[Y]];hs[Y]=s.est.rgba}}this.Vv.c([{yS:K.yS,data:hs.buffer}]);if(this.ki){this.Vv.Ez();
this.ki=!1}}};fL.prototype.ol=function(c){if(this.M$==null)return;var o=this.Lo.h(),K=this.uf.yS.m,u=this.uf.yS.e,X=this.M$,$=this.DJ.a3,O=this.xS,n=this.i0,x=this.wc.xK(),N="rgba(0,0,0,0.3)";
n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,O.width,O.height);n.translate(O.width/2,O.height/2);n.scale(x.U,x.U);
n.translate(x.p.x/x.U-K/2,x.p.y/x.U-u/2);n.scale(1/x.U,1/x.U);n.fillStyle=this.RI;n.fillRect(0,0,K*x.U,u*x.U);
n.scale(x.U,x.U);n.lineWidth=(K+u)*5e-4;var l=this.ag();n.strokeStyle=N;for(var f=0;f<2;f++){if(!o[f])continue;
for(var Y=0;Y<X.length;Y++){var z=X[Y],R=l[z.color-1];if(R.V==0)continue;n.fillStyle=R.r_;n.beginPath();
Typr.U.pathToContext({crds:z.path.j,cmds:z.path.G},n);if(f==0)n.fill();else n.stroke()}}if(o[2])this.a7z(n,K,u)};
fL.prototype.ag=function(){var c=this.DJ.a3,o=[];for(var Y=0;Y<c.length;Y++){var K=c[Y].est.q,u={Z:Math.round(255*K[0]),r:Math.round(255*K[1]),J:Math.round(255*K[2]),V:Math.round(255*K[3])};
u.r_="rgba("+u.Z+","+u.r+","+u.J+","+u.V/255+")";o.push(u)}return o};fL.prototype.a7z=function(c,o,K){var u=this.ag(),X=this.aDV(o,K,u);
function $(l,N,f,z){c.font=z+"px sans-serif";l++;var R=c.measureText(l);c.fillText(l,N-R.width/2,f+z*.25)}c.fillStyle="rgba(0,0,0,0.5)";
var O=this.oc;for(var Y=0;Y<O.length;Y++){var n=O[Y];if(n[3]<o*K*5e-4)continue;$(n[2],n[0],n[1],(o+K)*.008)}c.fillStyle="rgba(255,255,255,1)";
c.fillRect(0,0,X,X*u.length);for(var Y=0;Y<u.length;Y++){var x=u[Y];c.fillStyle=x.r_;c.fillRect(X,X*Y,X,X);
c.fillStyle="black";$(Y,X*.5,X*(Y+.5),X*.65)}};fL.prototype.aDV=function(c,o,K){var u=K.length*(c+o)/70;
return Math.min(o,u)/K.length};fL.prototype.Z4=function(c){var o=this.dp,K=o.g[0],u=o.s[K],X=new ev(y.E.v,!0);
X.a2=!0;X.f=r.KX;if(this.qn){var $=this.ag(),x=0,f=!1;function O(e,V){var d=o.uB();d.opacity=V.V;d.Ha|=16;
d.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv(V)}};d.add.vmsk=new gU.JA;d.add.vstk=gH.e_.ib(!0);
d.add.vmsk.$=e;d.$h();d.Dm(o);return d}var n=this.Lo.h();for(var Y=0;Y<3;Y++)if(n[Y])x++;if(x==0){alert("Enable Fill, Stroke or Labels");
return}var N=this.M$;if(x==1&&n[0]&&N.length==1)f=!0;var z=o.s.slice(0,K);if(!f)z.push(o.FL());if(n[0])for(var Y=0;
Y<N.length;Y++){var R=N[Y],V=$[R.color-1];a.A.i(R.path.j,new bE(1,0,0,1,u.rect.x,u.rect.y),R.path.j);
var d=O(a.A.lR(R.path,!1),V);d.XK("Path "+Y);z.push(d)}if(n[1]){var d=o.uB();d.XK("Stroke");z.push(d);
d.opacity=128;d.Ha|=16;d.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.T.mv({Z:0,r:0,J:0})}};d.add.vmsk=new gU.JA;
d.add.vstk=gH.e_.ib(!1,!0);var e=[];for(var Y=0;Y<N.length;Y++){var R=N[Y],p=a.A.lR(R.path,!1);if(Y==0)e=p;
else e=e.concat(p.slice(2))}d.add.vmsk.$=e;d.$h();d.Dm(o)}if(n[2]){var h=this.uf.yS,E=h.m,q=h.e,Z=this.aDV(E,q,$);
z.push(o.FL());function v(w,t,L,J){w=1+w+"";var d=o.uB();z.push(d);d.opacity=J;d.add.lnsr="rend";d.add.TySh=ii.eS(t-Z*.2,L+Z*.25);
var b=d.add.TySh.Bz,F=ii.Ij(b,0,0);F.W$.FontSize=Math.round(Z*.6);ii.r2(b,0,0,F);ii.FO(b,0,w);d.RE()}var W=this.oc;
for(var Y=0;Y<W.length;Y++){var D=W[Y];if(D[3]<E*q*5e-4)continue;v(D[2],D[0],D[1],128)}var d=O(a.o.YP.Rect(0,0,Z,Z*$.length),{Z:255,r:255,J:255,V:255});
d.XK("white");z.push(d);for(var Y=0;Y<$.length;Y++){var V=$[Y],d=O(a.o.YP.Rect(Z,Z*Y,Z,Z),V);d.XK("color");
z.push(d);v(Y,Z/2,Z*(Y+.5),255)}var d=o.uB();d.XK("Labels");d.add.lsct=aj.Qw;d.Mh="pass";d.Ha=24;z.push(d)}var I=z[z.length-1];
if(!f){var d=o.uB();d.XK(u.getName());d.add.lsct=aj.cD;d.Mh="pass";d.Ha=24;z.push(d);I=d}var A=u.add.lmfx;
if(A)I.add.lmfx=JSON.parse(JSON.stringify(A));var U=z.length;for(var Y=K+1;Y<o.s.length;Y++)z.push(o.s[Y]);
X.data={Y:gU.LS,Un:z,I1:[U-1],u0:[11,11,0]}}else{var z=o.s.slice(0),d=o.uB();d.XK(u.getName());z.splice(o.g[0]+1,0,d);
d.rect=u.rect.clone();d.buffer=this.ajo;d.d();X.data={Y:gU.LS,Un:z,I1:[o.g[0]+1],u0:[11,11,1]}}this.I(X);
this.close();o._K=!0;hb.t0(o,this.RU.ru,this)};fL.prototype.VW=function(c,o){this.RU=c};function jm(c){e6.call(this,[[7,11],[7,13]][c],["redge","magiccut"][c]);
this.Yy=c;this.uf={};this.bz=null;this.dd=null;this.dp=null;this.d8=null;this.S3=null;this.body.style.padding="0";
this.Pb=[];this.l5=-1;this._b=S.t("div","form hbar padded");this.body.appendChild(this._b);this.mz=new eE;
this.mz.parent=this;this.mz.B(y.E.z,this.en,this);this._b.appendChild(this.mz.n);var o=c==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
o=o.concat("tools/hand","zoomIn","zoomOut");var K=c==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Qs=new b4(null,o,K,28);this.Qs.B(y.E.z,this.y9,this);this._b.appendChild(this.Qs.n);this.WS=new fI([7,9],0,50,null);
this.WS.parent=this;this.WS.B(y.E.z,[this.a1s,this.S0][c],this);this._b.appendChild(this.WS.n);var u=this.a7L=new kz([2,2],!1,null,!0);
u.B("click",this.g8,this);this._b.appendChild(u.n);var X=this.xN=S.t("span","form");this._b.appendChild(X);
var $=this.aaf=new kz([12,90],!1,null,!0);$.B("click",function(x){alert(c==0?iV.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
X.appendChild($.n);var O=new kz("Tutorial",!1,null,!0);O.B("click",this.auQ,this);X.appendChild(O.n);
this.sc=new b4([12,46],["checker","#ffffff","#000000"]);this.sc.B(y.E.z,this.aDd,this);X.appendChild(this.sc.n);
this.Mw=new iW(null,[[6,13],[6,2],[17,2]]);X.appendChild(this.Mw.n);this.UQ=S.ax(this,X,!1);var n=this.Zp=S.t("div","flexrow");
this.body.appendChild(n);this.ih=new cY(!0);this.dQ=new cY;this.ih.QA(this.dQ);this.dQ.QA(this.ih);this.ih.B("mousedown",this.tT,this);
this.ih.B("mousemove",this.Al,this);this.ih.B("mouseup",this.cF,this);this.ih.B("zoom",this.en,this);
this.dQ.B("zoom",this.en,this);n.appendChild(this.ih.n);n.appendChild(this.dQ.n)}jm.prototype=new e6;
jm.prototype.no=function(c,o){var K=c!=null&&!c.s[c.g[0]].rect.SR();if(!K)alert("The layer is empty.");
return K};jm.prototype.mC=function(){return new kn(0,0)};jm.prototype.I2=function(){return!0};jm.prototype._Q=function(c,o){this.Oc=c;
this.s_=o;o=o-12-33;if(c<900){this.xN.setAttribute("style","display:block;  text-align:right;");o-=29}else{this.xN.setAttribute("style","position:absolute;  right:0px")}this.sc.ro(c<440?null:[12,46]);
this.WS.ro(c<470?null:[7,9]);var K=this.uf.rect;if(K){var u=jm.a5F(c,o,K.m,K.e);if(u==0){c=Math.floor(c/2);
S.SZ(this.Zp,"flexrow")}else{o=Math.floor(o/2);S.MG(this.Zp,"flexrow")}this.ih._Q(c,o);this.dQ._Q(c,o)}};
jm.a5F=function(c,o,K,u){var X=c/2,$=o/2,O=Math.min(X/K,o/u),n=Math.min(c/K,$/u);return O>n?0:1};jm.prototype._=function(){e6.prototype._.call(this);
this.mz._();this.WS._();this.UQ._();this.sc._();this.Mw._();this.a7L._();this.aaf._()};jm.prototype.auQ=function(c){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.Yy],"_blank")};
jm.prototype.VW=function(c,o){this.dd=c;if(o==iD.yj||o==iD.Vk){this.mz.E8(c.i_);this.mz.c(ac.jz(),c.i_.Z7,c.i_.p1)}};
jm.prototype.y9=function(c,o,K,u){var X=this.Qs.h();if(u==null){this.ih.y9(cY.ev(X-3));return}this.d8=u;
var $=r.VN.pY(this.mz.h(),u);if($!=null){this.mz.c($);this.en()}else if(u.N(d2.vm)&&u.N(d2.G0)){var O=this.Pb,n=0;
if(u.N(d2.Qx)){if(this.l5+1<O.length)n=1}else if(this.l5>0)n=-1;if(n!=0){this.l5+=n;var x=this.l5,l=this.uf;
if(n==1)a.Ui(O[x][2],O[x][0],l.UH,l.rect);else a.Ui(O[x+1][1],O[x+1][0],l.UH,l.rect);l.ND=l.rect;this.S0()}}else if(X<3)this.ih.y9(u)};
jm.prototype.Xk=function(c){var o=this.uf,K=this.Pb,u=a.R(c.P()*4);a.Ui(o.P4,o.rect,u,c);o.P4=null;var X=a.R(c.P()*4);
a.Ui(o.UH,o.rect,X,c);this.l5++;K[this.l5]=[c.clone(),u,X];while(K.length>this.l5+1)K.pop();while(K.length>50){K=K.slice(1);
this.l5--}};jm.prototype.en=function(){var c=this.dd,o=kD.FW(this.mz.h(),c.i_.Z7,this.ih.xK().U);this.ih.Sd(o)};
jm.prototype.tT=function(c){var o=this.dd,K=this.uf,u=this.d8,X=this.mz.h(),$=this.ih.Ch(),O=[16777215,8421504,0][this.Qs.h()];
this.bz=new kD(X,o.i_.Z7,o.i_.p1,{FK:1,OF:!0},O,o.th,K.rect);K.P4=K.UH.slice(0);if(u!=null&&u.N(d2.Qx)&&this.S3){this.bz.moveTo(this.S3.x,this.S3.y);
this.bz.lineTo($.x,$.y)}else this.bz.moveTo($.x,$.y);this.ayB()};jm.prototype.Al=function(c){var o=this.uf,K=this.ih.Ch();
this.bz.lineTo(K.x,K.y);this.ayB()};jm.prototype.cF=function(c){this.S3=this.ih.Ch();this.Xk(this.bz.gD());
this.S0()};jm.prototype.ayB=function(){var c=this.uf,o=this.bz,K=o.gi();if(K.SR())return;c.ND=K;a.a.hA("norm",o.M5(),o.G5(),c.UH,c.rect,K,1);
this.a8S()};jm.prototype.g8=function(c){var o=this.uf;o.P4=o.UH.slice(0);o.ND=o.rect;a.ms(o.UH,[4278190080,4292730333][this.Yy]);
this.Xk(o.rect);this.S0()};jm.prototype.kX=function(c,o){this.dp=c;var K=c.s[c.g[0]],u=K.rect.clone(),X=u.m,$=u.e,x;
this.WS.c(this.Yy==0?3:X*$<3e6?3:0);this.Qs.c(c.u==null?0:1);this.WS.Lc();if(this.Yy==0&&c.u!=null||this.Yy==1)this.WS.R1();
var O=this.Yy,n=a.R(u.P());if(O==0&&c.u){a.qv(c.u.channel,c.u.rect,n,u);var l=a.R(u.P());for(var N=0;
N<$;N++)for(var f=0;f<X;f++){var Y=N*X+f,z=n[Y];if(f>0&&n[Y-1]!=z||f<X-1&&n[Y+1]!=z||N>0&&n[Y-X]!=z||N<$-1&&n[Y+X]!=z)l[Y]=255}x=a.style.HD(l,x,X,$)}else{x=new Float32Array(u.P());
x.fill(1e9)}u.x=u.y=0;this.uf={rect:u,PX:K.buffer,AB:n,bn:x,LD:a.R(u.P()*4),rw:a.R(u.P()*4),UH:a.R(u.P()*4),P4:null,z8:null,ND:u,ase:{}};
if(O==0)this.a1s();else{this.uf.ase=r.Aa.aCO(c);var R=this.uf.UH;a.ms(R,4287137928);var V=a.XP.getSelection(K.buffer,X,$),d=Math.round(X/60),e=Math.round(.7*$);
for(var N=0;N<$;N++)for(var f=0;f<X;f++){var p=(N*X+f)*4,h=V[p>>>2];h=h>128?255:128;if(N<d||N<e&&(f<d||f>X-1-d))h=0;
R[p]=R[p+1]=R[p+2]=h}this.S0()}this.Pb=[1];this.l5=0;var E=this.mz.h();E.Brsh.v.Dmtr.v.val=Math.round(u.m/(O==0?10:20));
this.mz.c(E);this.en();this._Q(this.Oc,this.s_);this.ih.Ez()};jm.prototype.a1s=function(){var c=this.uf,o=c.rect.P(),K=this.WS.h(),u=c.AB.slice(0);
for(var Y=0;Y<o;Y++)if(c.bn[Y]<K)u[Y]=128;a.ms(c.UH,4294967295);a.bp(u,c.UH,0);a.bp(u,c.UH,1);a.bp(u,c.UH,2);
c.ND=c.rect;this.S0()};jm.prototype.S0=function(){var c=this.uf,X,n,x=0,l=0,N=0;this.a8S();var o=c.rect,K=o.m,u=o.e,$=a.R(o.P()),O=c.PX;
a.Sw(c.UH,$,0);for(var Y=0;Y<$.length;Y++){if(O[(Y<<2)+3]!=255)continue;var f=$[Y];if(f==0)x++;else if(f==255)l++;
else N++}if(x*l*N!=0){if(this.Yy==0)n=a.gs.gs(o,O,$);else{var z=this.Qs.h();for(var R=1;R<u;R++)for(var V=1;
V<K;V++){var Y=R*K+V,d=$[Y],e=$[Y-1];if(d==0&&e==255||d==255&&e==0){X="The Red and Green should never touch! Erase it with Grey.";
break}}var p=Date.now(),h=this.uf.ase;a.lY($,h.jw);r.Aa.QL(h,!0,this.dp);var E=Math.ceil(this.WS.h()/2);
if(E==0){n=O.slice(0);a.bp(h.u,n,3)}else{var q=h.u.slice(0),Z=h.u.slice(0);for(var v=0;v<E;v++){for(var R=1;
R<u-1;R++)for(var V=1;V<K-1;V++){var Y=R*o.m+V,W=q[Y];if(q[Y-K]!=W||q[Y-1]!=W||q[Y+1]!=W||q[Y+K]!=W)Z[Y]=128;
else Z[Y]=W}var D=q;q=Z;Z=D}for(var R=0;R<u;R++)for(var V=0;V<K;V++){var Y=R*K+V;if($[Y]==0||$[Y]==255)q[Y]=$[Y]}n=a.gs.gs(o,O,q,20,!1)}}}else{n=O.slice(0);
a.bp($,n,3)}for(var Y=3;Y<n.length;Y+=4)if(n[Y]>O[Y])n[Y]=O[Y];if(o.Ug(c.rect))c.z8=n;else a.Ui(n,o,c.z8,c.rect);
this.aDd();if(X)alert(X,4e3)};jm.prototype.a8S=function(c){var o=this.uf,K=o.ND;a.Ui(o.PX,o.rect,o.LD,o.rect,K,!0);
var u=o.UH,X=o.rect,$=Date.now();if(this.Yy==1){var O=new Uint32Array(256);O[0]=4278190335;O[255]=4278255360;
var n=a.R(K.P()*4),x=K.P();a.Ui(u,X,n,K);u=n;X=K;var l=new Uint32Array(u.buffer);for(var Y=0;Y<x;Y++)l[Y]=O[l[Y]&255]}console.log(Date.now()-$);
a.a.hA("norm",u,X,o.LD,o.rect,K,.3);this.ih.c([{yS:o.rect,data:o.LD.buffer}],null,null,K)};jm.prototype.aDd=function(c){var o=this.uf;
a.ms(o.rw,[0,4294967295,4278190080][this.sc.h()]);a.a.hA("norm",o.z8,o.rect,o.rw,o.rect,o.rect,1);this.dQ.c([{yS:o.rect,data:o.rw.buffer}])};
jm.prototype.Z4=function(c){var o=this.dp,K=this.uf,u=this.Mw.h(),X=o.s[o.g[0]],$=new ev(y.E.v,!0);$.a2=!0;
var O=X.rect.clone();if(u==0&&X.IT()||u!=0&&!X.IT()){$.f=r.KX;$.data={Y:gU.pO,l:o.g[0]};this.I($)}if(o.u!=null){$.f=r.TN;
$.data={Y:"fromAction",Va:r.mW.Io()};this.I($)}if(u==0){var n=o.s.slice(0),x=o.uB();x.XK(X.getName());
n.splice(o.g[0]+1,0,x);x.rect=O;x.buffer=K.z8;x.d();$.f=r.KX;$.data={Y:gU.LS,Un:n,I1:[o.g[0]+1],u0:[7,11]};
this.I($)}if(u==1){var N=X.wD();$.f=r.KX;$.data={Y:gU.a0,a6C:!0};this.I($);var f=X.wD();f.channel=a.R(O.P());
f.rect=O;f.color=0;f.jt=!0;a.Sw(K.z8,f.channel,3);if(N){var z=f.Jv(N);f.rect=z.rect;f.channel=z.channel;
f.color=z.color}f.kj();X.Dm()}if(u==2){var R={rect:O,channel:a.R(O.P())};a.Sw(K.z8,R.channel,3);$.f=r.TN;
$.data={Y:"setsel",u:R,u0:this.tO};this.I($)}this.close()};function gc(){e6.call(this,[1,13],"locstor");
this.RU=null;this.RM=[];var c=this.body,o=S.t("p");o.textContent="These files are loaded every time you start Photopea.";
c.appendChild(o);this.anp=0;this.GZ=S.t("span");c.appendChild(this.GZ);this.GZ.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var K=S.t("span","form");c.appendChild(K);this.bM=new kz([5,4],!1,null,!0);this.bM.B("click",this.Fs,this);
K.appendChild(this.bM.n);this.ji=new kz("Get all as ZIP",!1,null,!0);this.ji.B("click",this.J0,this);
K.appendChild(this.ji.n);this.QT=new aE(!0);this.QT.parent=this;this.QT.qZ(1);c.appendChild(this.QT.n);
this.QT.n.setAttribute("style","width: 40em; height: 25em")}gc.prototype=new e6;gc.prototype._=function(){e6.prototype._.call(this);
this.GZ.textContent=iV.get([13,2])+": "+kl.c3(this.anp);this.bM._()};gc.prototype.VW=function(c,o){this.RU=c;
if(o==iD.xf)this.kX()};gc.prototype.kX=function(c,o){var K=this.RU.C1.Zy,x=0;this.RM=[];for(var u in K)this.RM.push(u);
this.RM.sort(function(N,f){N=N.split(".");f=f.split(".");return N[1]==f[1]?N[0]<f[0]?-1:1:N[1]<f[1]?-1:1});
var X=Math.floor(100*S.Sm()),$=Math.floor(16*S.Sm()),O=[],n=[];for(var Y=0;Y<this.RM.length;Y++){var u=this.RM[Y],l=gc.Zq(u,K[u],X,$);
O.push(l);n.push(u);x+=K[u].byteLength}this.QT.od(O,n,X,$);this.anp=x;this._()};gc.prototype.Fs=function(c){var o=this.QT.h();
if(o.length==0){alert("Select a file first.");return}this.QT.c([]);var K=this.RU.C1.Zy;for(var Y=0;Y<o.length;
Y++)delete K[this.RM[o[Y]]];var u=new ev(y.E.M,!0);u.data={Y:y.H.NU,EU:iD.xf};this.I(u)};gc.prototype.J0=function(c){var o=this.RU.C1.Zy,K={};
for(var u in o)K[u]=new Uint8Array(o[u]);var X=UZIP.encode(K);fn.save(X,"resources.zip")};gc.Zq=function(c,o,K,u){var X=S.t("canvas"),n=0;
X.width=K;X.height=u;var $=X.getContext("2d"),O=c.split(".").pop().toLowerCase();for(var Y=0;Y<O.length;
Y++)n+=O.charCodeAt(Y)*613<<8*Y;$.fillStyle="#"+a.On(n&16777215);$.fillRect(0,0,20,u);var x=Math.floor(14*S.Sm());
$.fillStyle="#000000";$.font="bold "+x+"px sans-serif";var l=(u-x)/2,N=kl.c3(o.byteLength),f=$.measureText(N);
$.fillText(N,K-12-f.width,u-l);return X.toDataURL()};function ai(){e6.call(this,[1,15],"pmanager");this.RU=null;
this.sO=new iW([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.sO.B(y.E.z,this.kX,this);
this.body.appendChild(this.sO.n);var c=S.t("div","flexrow");this.body.appendChild(c);var o=this.as7=S.t("div");
c.appendChild(o);var K=S.t("div","form");c.appendChild(K);K.setAttribute("style","width:140px; margin-left:12px");
this.akM=[iD.yj,iD.cE,iD.qR,iD.Oz,iD.OO,iD.d9];this.z7=[new eE,new el,new al,new bM,new bY,new cG];for(var Y=0;
Y<this.z7.length;Y++)this.z7[Y].parent=this;this.jZ=[];for(var Y=0;Y<4;Y++){var u=new kz("Hello",!0,null,!0);
u.B("click",this.hX,this);this.jZ.push(u);K.appendChild(u.n)}this.kX()}ai.prototype=new e6;ai.prototype.P6=function(c){return c==d2.UL||c==d2.Kf};
ai.prototype.hX=function(c){var Y=this.jZ.indexOf(c.target);this.z7[this.sO.h()].GN(Y)};ai.prototype._=function(){e6.prototype._.call(this);
this.sO._();for(var Y=0;Y<this.z7.length;Y++)this.z7[Y]._();var c=this.jZ,o=this.sO.h(),K=iD.Mt[this.akM[o]],u=K[0].toUpperCase();
c[0].ro([[23,6],"."+u]);c[1].ro(["VAR0 ."+u,[1,8]]);c[2].ro([6,37]);c[3].ro([5,4])};ai.prototype.VW=function(c,o){this.RU=c;
this.kX()};ai.prototype.kX=function(c,o){if(!S.Kt(this.n))return;this._();S._a(this.as7);this.as7.appendChild(this.z7[this.sO.h()].un);
var K=this.z7,u=this.RU;if(u==null)return;K[0].E8(u.i_);K[1].DL(u.V5,u.th);K[1].E8(u.kQ);K[2].E8(u.dx);
K[3].E8([u.dn,u.dx]);K[4].E8(u.Vr);K[5].E8(u.YX)};function gF(c,o,K){e6.call(this,o,"cwindow");this.a1p=new kn(K[0],K[1]-33);
this._b=S.t("div","form");this._b.setAttribute("style","width:"+(K[2]-K[0])+"px; height:"+(K[3]-K[1])+"px");
this.body.appendChild(this._b)}gF.prototype=new e6;gF.prototype.mC=function(c,o){return this.a1p.clone()};
function jO(c){var o=jO.a29(c);e6.call(this,o,"res"+c);var K=this.aeQ.bind(this);window.addEventListener("message",function(X){if(typeof X.data=="string"&&X.data.startsWith("--et ")){console.log(X.data);
var $=this.aly=X.data.slice(5).split(",");$[0]=parseFloat($[0]);ar.oH($[0],$[1],K)}}.bind(this));this.DM=o;
this.LP=c;this.af8=null;this.qE=null;this.r3=0;this.sY=null;this.X2=null;this.aly=null;this.RU=null;
this.body.setAttribute("style","padding:0");this.K8=new kz("",null,null,!0);this.body.appendChild(this.K8.n);
this.K8.B("click",this.so,this);this.K8.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.b7=new kz("\u25BC",null,null,!0);this.b7.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.b7.B("click",this.aCy,this);this.body.appendChild(this.b7.n);this.em=S.t("span","form");this.body.appendChild(this.em);
this.jZ=[];for(var Y=0;Y<9;Y++){var u=new kz(jO.a29(Y));this.jZ.push(u);if(Y==c)u.c(!0);this.em.appendChild(u.n);
u.B("click",this.aoE,this)}this.k4=new kz([5,3],null,null,!0);this.k4.B("click",this.a2_,this);this.avG=new kz("Upload Current Document as a Template",null,null,!0);
this.avG.B("click",this.avE,this);this.vJ=new fi("Creator / Brand name");this.HI=new kz([1,2],null,null,!0);
this.HI.B("click",this.J0,this);this.Ea=S.t("iframe","scrollable");this.Ea.setAttribute("style","border:none; margin:0; padding:0;");
this.Ld=S.t("div","form scrollable padded");this.wG=new hr(c);this.wG.B("back",this.g8,this);this.wG.B("save",this.a5I,this);
this.body.appendChild(this.Ea)}jO.prototype=new e6;jO.a29=function(c){var o;if(c==0)o=[25,0];else if(c==1)o="Plugins";
else for(var K in iD.Mt)if(iD.Mt[K][4]==c)o=iD.Mt[K][3];return o};jO.prototype.aCy=function(c){this.em.style.display=this.em.style.display=="none"?"":"none"};
jO.prototype.aoE=function(c){var Y=this.jZ.indexOf(c.target);if(Y==this.LP)return;this.close();var o=new ev(y.E.M,!0);
o.data={Y:y.H.Vl,n9:"res"+Y};this.I(o)};jO.prototype.aeQ=function(c){this.so();this.X2=JSON.parse(c.target.response);
this.Zu()};jO.prototype.mC=function(c,o){return new kn(0,0)};jO.prototype._Q=function(c,o){this.Oc=c;
this.s_=o;this.Cv=null;o=o-4;c=c;var K=c>820,u="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",X="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.em.setAttribute("style",K?u:X);this.em.style.marginTop=(K?-31:0)+"px";this.b7.n.style.display=K?"none":"";
var $=this.Ld;$.style.width=c-12+"px";$.style.height=o-12+"px";var $=this.wG.n;$.style.width=c-12+"px";
$.style.height=o-12+"px";var $=this.Ea;$.style.width=c+"px";$.style.height=o+"px";this.GT()};jO.prototype.VW=function(c,o){this.RU=c};
jO.prototype._=function(){e6.prototype._.call(this);for(var Y=0;Y<this.jZ.length;Y++)this.jZ[Y]._();
this.k4._()};jO.prototype.kX=function(c,o,K,u){this.Cv=c;this.so(null,!1)};jO.prototype.so=function(c,o){var K=o!=null?o:S.Kt(this.Ea);
if(K){if(!ar.hN()){alert("You need to log in first!");return}var u=ar.nH();this.qE=u.tpl?u.tpl.list:[];
this.vJ.c(u.tpl&&u.tpl.brnd?u.tpl.brnd:"");this.GT()}else{this.Ea.setAttribute("src","");this.Ea.setAttribute("src","templates/?type="+this.LP+"&rsrc="+this.RU.Ye.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(K?this.Ld:this.Ea);var X=iV.get(this.DM);this.K8.ro(K?"All "+X:"Add "+X)};jO.prototype.GT=function(){var c=iV.get(this.DM),o=this.qE,K=this.LP,n=450;
if(o==null)return;var u=this.Ld;S._a(u);var X=S.t("h1");u.appendChild(X);X.textContent="Share your "+c+" with the world!";
var $=S.t("ul");u.appendChild($);var O=S.t("li");$.appendChild(O);O.textContent="By publishing your "+c+", you agree to let others use them for all kinds of purposes, even commercially.";
u.appendChild(this.k4.n);if(K==0)u.appendChild(this.avG.n);S.jR(u);u.appendChild(this.vJ.n);u.appendChild(this.HI.n);
S.jR(u);n=(this.Oc-20)/Math.max(1,Math.floor(this.Oc/n))-42;var x="display:inline-block; width:"+n+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var Y=o.length-1;Y>=0;Y--){var l=o[Y];if(l.type==null)l.type=0;if(l.type!=K)continue;var N=S.t("div");
u.appendChild(N);N.setAttribute("style",x);var f=S.t("img");N.appendChild(f);f.setAttribute("src",l.thmb);
f.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var z=S.t("h3");N.appendChild(z);z.textContent=l.name;z.setAttribute("style","margin:0 0 10px 0");var R=S.t("p");
N.appendChild(R);R.textContent=l.desc;R.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var V=0;V<2;V++){var d=new kz(V==0?"Edit":"Delete",null,null,!0);d.agb=Y;d.Zu=V==0;d.B("click",this.ao8,this);
N.appendChild(d.n)}}};jO.prototype.avE=function(c){if(this.Cv==null){alert("No document opened.");return}var o=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!o)return;var K=new ev(y.E.M,!0);K.data={Y:y.H.JW,GA:"psd",vb:this.a1k.bind(this)};this.I(K)};jO.prototype.a1k=function(c){this.ah3=c;
var o=new ev(y.E.M,!0);o.data={Y:y.H.JW,GA:"jpg",vb:this.ac6.bind(this),aiF:1400};this.I(o)};jO.prototype.ac6=function(c){this.sY={type:0,catg:0,desc:"",file:this.ah3,name:this.Cv.name.split(".")[0],thmb:c,publ:!0,utme:""};
this.Zu()};jO.prototype.a2_=function(c){this.sY={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.Zu()};jO.prototype.ao8=function(c){this.r3=c.target.agb;if(!c.target.Zu){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.qE.splice(this.r3,1);this.J0();this.GT();return}this.Zu()};jO.prototype.Zu=function(){if(S.Kt(this.Ld))this.body.removeChild(this.Ld);
this.body.appendChild(this.wG.n);var c=this.sY?this.sY:this.X2?this.X2:this.qE[this.r3];if(c.type==null)c.type=0;
this.wG.c(c)};jO.prototype.a5I=function(c){var o=this.wG.h();if(this.sY)this.qE.push(o);else if(this.X2){var K=this.aly;
ar.oH(K[0],K[1],this.g8.bind(this),JSON.stringify(o));return}else this.qE[this.r3]=o;this.J0();this.g8()};
jO.prototype.g8=function(){var c=this.X2;this.sY=null;this.X2=null;this.body.removeChild(this.wG.n);
this.body.appendChild(this.Ld);this.GT();if(c)this.so()};jO.prototype.J0=function(){var c=ar.nH();if(this.qE.length==0)delete c.tpl;
else{c.tpl={list:JSON.parse(JSON.stringify(this.qE))};var o=this.vJ.h().trim();if(o!="")c.tpl.brnd=o}ar.rn(c,function(){alert("Saved.")})};
function eZ(){e6.call(this,"Make Selection","makesel");this.RU=null;var c=S.t("div","form");this.body.appendChild(c);
this.Lt=new fA([12,25,1]);this.Lt.c(!0);c.appendChild(this.Lt.n);S.jR(c);this.Ml=new aD(!0);c.appendChild(this.Ml.n);
this.UQ=S.ax(this,this.body)}eZ.prototype=new e6;eZ.prototype._=function(){e6.prototype._.call(this);
this.Ml._();this.Lt._();this.UQ._()};eZ.prototype.Z4=function(c){var o=new ev(y.E.v,!0);o.f=r.TN;o.data={Y:"frompath",Yg:[null,0,this.Ml.h(),this.Lt.h()]};
this.close();this.I(o)};function dE(){e6.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Cv=null;this.nl=null;
this.IB=null;var c=this.a04=S.t("div","form");c.setAttribute("style","width:20em");this.body.appendChild(c);
this.lA=new hE([12,50],["PSD","PSB"]);this.lA.B(y.E.z,this.b6,this);c.appendChild(this.lA.n);S.sv(c);
var o=new dV("Minify the file");c.appendChild(o.n);S.jR(c);var K=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.AL=[];for(var Y=0;Y<K.length;Y++){var u=new fA(K[Y]);this.AL.push(u);c.appendChild(u.n);u.B(y.E.z,this.b6,this)}S.sv(c);
this.TV=new dV("aa.psd");this.Fk=new dV("10 kB");c.appendChild(this.Fk.n);this.aBt=new dV("1000 B");
c.appendChild(this.aBt.n);this.UQ=new kz([1,2],!0,null,!0);this.UQ.B("click",this.Z4,this);c.appendChild(this.UQ.n);
this.Q1=new kz(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Q1.B("click",this.Z4,this);c.appendChild(this.Q1.n);
this.B("closebtn",this.Hg,this)}dE.prototype=new e6;dE.prototype.kX=function(c,o,K,u){var X=S.Kt(this.Q1.n),$=c.Jl!=null&&c.Jl.rZ=="psd";
if($&&!X)this.a04.appendChild(this.Q1.n);if(!$&&X)this.a04.removeChild(this.Q1.n);for(var Y=0;Y<this.AL.length;
Y++)this.AL[Y].c(!1);this.Cv=c;this.b6()};dE.prototype.Z4=function(c){if(c.target==this.UQ)fn.save(this.nl,this.IB);
else{if(this.AL[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}ab.azK(this.Cv,this.nl)}};
dE.prototype.Hg=function(){this.Cv=null;this.nl=null};dE.prototype.b6=function(){var c=this.Cv,o=[!1,!1,!1,!1];
for(var Y=0;Y<3;Y++)o[Y]=this.AL[Y].h();var K=this.AL[3].h(),u=o[3]=this.lA.h()==1,X=c.name.slice(0,c.name.length-3),$=this.nl=c5.nq("PSD").nC(c,0,0,o),cv=this.IB=X+"ps"+(u?"b":"d");
if(K){var O={};O[cv]=new Uint8Array($);$=this.nl=UZIP.encode(O);cv=this.IB=X+"zip"}this.TV.c(cv);this.Fk.c(kl.c3($.byteLength));
this.Fk.n.style["font-size"]="2em";this.aBt.c(" \u2001 "+$.byteLength+" B");this.UQ.ro(iV.get([1,2])+" \""+cv+"\"")};
dE.prototype._=function(){e6.prototype._.call(this);this.lA._();this.UQ._();this.Q1._()};function j9(){e6.call(this,"Confirm","confirm");
this.vu=null;var c=S.t("div");c.setAttribute("style","margin-bottom:1em");this.body.appendChild(c);this.Go=S.t("div");
this.Go.textContent="Hello";c.appendChild(this.Go);this.UQ=S.ax(this,this.body)}j9.prototype=new e6;
j9.prototype.Z4=function(c){if(this.vu==null)return;console.log("okconfirm");this.close();this.vu();
this.vu=null};j9.prototype._=function(){e6.prototype._.call(this);this.UQ._()};j9.prototype.kX=function(c,o){if(o.aDB)this.Go.innerHTML=o.b;
else this.Go.textContent=o.b;if(o.apQ)this.UQ.ro(o.apQ);this.vu=o.vu;this.UQ.n.focus();if(o.aDB!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.a49=o.aDB!=null};j9.prototype.mC=function(c,o){return new kn(Math.max(0,(c-500)/2),Math.max(0,Math.min(60,(o-100)/2)))};
j9.prototype._Q=function(c,o){this.Go.style.width=c-30+"px"};function cH(){e6.call(this,[1,16,2],"newartb");
this.Yy=0;this.V4=null;var c=S.t("div","form");c.style.width="260px";this.body.appendChild(c);this.QT=new d_;
c.appendChild(this.QT.n);this.UQ=S.ax(this,c)}cH.prototype=new e6;cH.prototype.no=function(c,o){return c!=null};
cH.prototype.Z4=function(c){var o=this.QT.h();this.V4.m=o.x;this.V4.e=o.y;var K=new ev(y.E.v,!0);K.f=r.vg;
K.data={amx:this.V4,B5:this.Yy};this.I(K);this.close()};cH.prototype._=function(){e6.prototype._.call(this);
this.QT._();this.UQ._()};cH.prototype.kX=function(c,o){this.Yy=o.B5;var K=new ez(0,0,c.m,c.e);if(c.g.length!=0){var u=c.s[c.g[0]];
if(u.add.artb){K=u.rA();K.x+=K.m+100}if(o.B5==1)K=r.W.G5(c)}this.V4=K;this.QT.c(new kn(K.m,K.e))};function fX(){e6.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.wA=null;this.B("closebtn",this.SD,this);this.B("canclose",this.SD,this)}fX.prototype=new e6;
fX.prototype.VW=function(c,o){if(this.wA)this.wA.VW(c,o)};fX.prototype.mC=function(c,o){return new kn(Math.max(0,Math.min(150,(c-980)/2)),Math.max(0,Math.min(150,(o-590)/2)))};
fX.prototype._Q=function(c,o){this.Oc=c;this.s_=o;c=Math.min(c,980);o=Math.min(o,590);if(this.wA)this.wA._Q(c,o)};
fX.prototype._=function(){e6.prototype._.call(this);if(this.wA)this.wA._()};fX.prototype.kX=function(c,o,K,u){this.tO=o.B5==0?"Open from Storage":"Save to Storage";
this._();if(this.wA==null){this.wA=new eH;this.wA.parent=this;this.body.appendChild(this.wA.n);this._();
this._Q(this.Oc,this.s_)}Storage.qZ(o.B5,c?c.name:"");eH.CU(this.wA)};fX.prototype.SD=function(c){Storage.qZ(0);
eH.ns();if(c.type=="canclose")this.close()};function a6(){e6.call(this,[2,14],"varsdats");var c=this._b=S.t("div","form");
c.setAttribute("style","width:300px");this.body.appendChild(c);this.Cv=null;this.eK=0;this.RU=null;this.uq=new hE(null,[[2,14],"Data Sets",[1,8]]);
this.uq.B(y.E.z,this.aDE,this);this.hZ=new a6.cP;this.VI=new a6.EY;this.Bn=new a6.eO;this.VI.B("activate",this.GY,this);
this.Bn.B("export",this.Gd,this);this.UQ=S.ax(this)}a6.prototype=new e6;a6.prototype.aDE=function(c){var o=this.uq.h(),K=this._b;
S._a(K);K.appendChild(this.uq.n);S.sv(K);K.appendChild([this.hZ,this.VI,this.Bn][o].n);K.appendChild(this.UQ.n)};
a6.prototype.Z4=function(c){var o=new ev(y.E.v,!0);o.f=r.KX;o.data={Y:gU.vU,b:JSON.stringify([this.hZ.h(),this.VI.h()])};
this.I(o);this.close()};a6.prototype._=function(){e6.prototype._.call(this);this.UQ._();this.Bn._()};
a6.prototype.kX=function(c,o){this.Cv=c;if(c==null)return;this.hZ.kX(c,o);this.VI.kX(c,o);this.uq.c(0);
this.aDE();this.eK=0};a6.prototype.VW=function(c,o){this.RU=c};a6.prototype.Gd=function(c){var o=this.hZ.h(),K=this.VI.h(),u=this.Bn.h();
if(o.length==0){alert("There are no variables.");return}if(K.length==0){alert("There are no data sets.");
return}var X=c5.aaM(this.Cv,o,K,this.VI.alf(),u[0],u[1],u[2],this.RU,this);if(X!=null)fn.save(X,"images.zip")};
a6.prototype.GY=function(c){var o=this.VI.g,K=this.hZ.h(),u=this.VI.h();if(K.length==0){alert("There are no variables.");
return}if(u.length==0){alert("There are no data sets.");return}this.EM();this.eK+=c5.E7(this.Cv,this,K,u,this.VI.alf(),o)};
a6.prototype.EM=function(){var c=new ev(y.E.v,!0);c.f=r.DX;c.data={Y:"h_stepbck"};while(this.eK>0){this.I(c);
this.eK--}};a6.eO=function(){ax.call(this);var c=this.n=S.t("div");this.qL=new fi("Variable for file names");
c.appendChild(this.qL.n);S.sv(c);this.lc=["JPG","PNG","PDF"];this.lA=new hE([12,50],this.lc);this.lA.B(y.E.z,this.a8c,this);
c.appendChild(this.lA.n);this.m5=new ip;c.appendChild(this.m5.n);this.a8c();this.ji=new kz("Export all items",!0,null,!0);
this.ji.B("click",this.Gd,this);c.appendChild(this.ji.n)};a6.eO.prototype=new ax;a6.eO.prototype._=function(c){this.qL._();
this.lA._();this.ji._();this.m5._()};a6.eO.prototype.a8c=function(c){var o=this.lc[this.lA.h()];this.m5.kz(o)};
a6.eO.prototype.Gd=function(c){this.I(new ev("export"))};a6.eO.prototype.h=function(){var c=this.lc[this.lA.h()];
return[c,this.m5.h(),this.qL.h().trim()]};a6.EY=function(){ax.call(this);this.ao=null;this.lU=[];this.g=0;
var c=this.n=S.t("div","form");this.ed=new gY("Import a CSV file");c.appendChild(this.ed.n);this.ed.B(y.E.z,this.a38,this);
this.Ac=S.t("div","scrollable");this.Ac.setAttribute("style","overflow:scroll;  height:234px;");c.appendChild(this.Ac);
this.anX=new gY("Source Images",!0);c.appendChild(this.anX.n)};a6.EY.prototype=new ax;a6.EY.prototype.a38=function(c){var o=this.ed.h();
for(var K in o){o=o[K];break}this.ao=a$.Sr(_.AF(o));this.gd()};a6.EY.prototype.alf=function(){return this.anX.h()};
a6.EY.prototype.kX=function(c,o){var K=this.ao=JSON.parse(JSON.stringify(c.Tm));this.gd()};a6.EY.prototype.h=function(){return this.ao};
a6.EY.prototype.gd=function(){var c=this.Gx.bind(this),o=this.ao,u="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.lU=[];var K=S.t("table");K.setAttribute("style","border-collapse: collapse;");for(var Y=0;Y<o.length;
Y++){var X=S.t("tr"),$=o[Y],O=Y==0?"th":"td";K.appendChild(X);var n=S.t(O);X.appendChild(n);n.setAttribute("style",u+"cursor:pointer;");
if(Y!=0)n.textContent="\u2713";this.lU.push(n);n.addEventListener("click",c,!1);for(var x=0;x<$.length;
x++){var n=S.t(O);n.textContent=$[x];X.appendChild(n);n.setAttribute("style",u);n.setAttribute("title",$[x])}}S._a(this.Ac);
this.Ac.appendChild(K)};a6.EY.prototype.Gx=function(c){this.g=this.lU.indexOf(c.currentTarget);this.I(new ev("activate"))};
a6.cP=function(){ax.call(this);var c=this.n=S.t("div","form marged");this.WB=null;this.jb=[];this.XY=[];
this.Wd=null;this.e4=new iW([0,3],[]);this.e4.B(y.E.z,this.a3b,this);c.appendChild(this.e4.n);this.R9=[];
var o=["Visibility","Text Content","Pixel Content"];for(var Y=0;Y<o.length;Y++){S.sv(c);var K=new fA(o[Y]);
K.B(y.E.z,this.dY,this);c.appendChild(K.n);S.jR(c);var u=new fi("Variable Name");u.B(y.E.z,this.dY,this);
c.appendChild(u.n);this.R9.push(K,u)}};a6.cP.prototype=new ax;a6.cP.prototype.dY=function(c){var o=this.e4.h(),K=this.Wd[o],u=this.jb[o],X=this.WB["l"+K],$=this.R9;
if(X==null)this.WB["l"+K]=X=[];while(X.length!=0)X.pop();for(var Y=0;Y<3;Y++){var O=$[2*Y+1].h();if(!$[2*Y].h())continue;
var n={varName:O,trait:["visibility","textcontent","fileref"][Y]};X.push(n);if(Y==2){n.align="center";
n.clip="false";n.placementMethod="fit";n.valign="middle"}}if(X.length==0)delete this.WB["l"+K];this.kX()};
a6.cP.prototype.a3b=function(c){var o=this.e4.h(),K=this.Wd[o],u=this.jb[o],X=this.WB["l"+K],$=this.R9;
if(X==null)X=[];for(var Y=0;Y<3;Y++){var O=Y==0||Y==1&&u==0||Y==2&&u==1;$[2*Y].WR(O);$[2*Y].c(!1);$[2*Y+1].WR(O);
$[2*Y+1].c("")}for(var Y=0;Y<X.length;Y++){var n=X[Y],x=n.trait,l=["visibility","textcontent","fileref"].indexOf(x);
$[l*2].c(!0);$[l*2+1].c(n.varName)}};a6.cP.prototype.kX=function(c,o){if(c){var K=JSON.parse(JSON.stringify(c.s3)),u=this.WB={};
for(var Y=0;Y<K.length;Y++){var X=K[Y],$=X.docRef;$="l"+$.slice(4,$.length-2);if(u[$]==null)u[$]=[];
u[$].push(X)}this.Wd=[];this.jb=[];this.XY=[];for(var Y=c.s.length-1;Y>=0;Y--){var O=c.s[Y],$=O.add.lyid;
if(O.getName()=="</Layer group>")continue;this.Wd.push($);this.jb.push(O.add.TySh?0:1);this.XY.push(O.getName())}}var n=[],x=this.XY;
for(var Y=0;Y<x.length;Y++){n.push(x[Y]+(this.WB["l"+this.Wd[Y]]?" *":""))}var l=this.e4.h();this.e4.e8(n);
this.e4.c(l);this.a3b()};a6.cP.prototype.h=function(){var c=this.WB,o=[];for(var K in c){var u=c[K];
for(var X=0;X<u.length;X++){u[X].docRef="id('"+K.slice(1)+"')";o.push(u[X])}}return o};function hT(){e6.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.N2=!1;var c=this.zU=[],o=S.t("div","form");o.setAttribute("style","width:20em");this.body.appendChild(o);
for(var Y=0;Y<2;Y++){var K=new fA([22,4,2+Y]);o.appendChild(K.n);S.jR(o);var u=new hE(null,[["N equal parts"],["N pixels per part"]]);
o.appendChild(u.n);S.jR(o);var X=new fI("N",0,1e3);X.c(4);X.parent=this;o.appendChild(X.n);S.jR(o);if(Y==0)S.sv(o);
c.push(K,u,X)}for(var Y=0;Y<c.length;Y++)c[Y].B(y.E.z,this.oR,this);c.push(S.ax(this,o));this.B("closebtn",this.EM,this)}hT.prototype=new e6;
hT.prototype.EM=function(){if(this.N2){var c=new ev(y.E.v,!0);c.f=r.DX;c.data={Y:"h_stepbck"};this.I(c)}};
hT.prototype.oR=function(c){this.EM();this.N2=!0;var o=[];for(var Y=0;Y<6;Y++)o.push(this.zU[Y].h());
var K={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var u=0;u<2;u++){if(!o[u*3])continue;var X=o[u*3+1],$=o[u*3+2];K[["slices","pixels"][X]+["Across","Down"][u]]={t:"long",v:$}}var O=new ev(y.E.XV,!0);
O.data={ST:"divide",sK:K};this.I(O)};hT.prototype.Z4=function(c){this.close()};hT.prototype._=function(){e6.prototype._.call(this);
var c=this.zU;for(var Y=0;Y<c.length;Y++)c[Y]._()};hT.prototype.kX=function(c,o){this.N2=!1};function bB(){e6.call(this,"Stroke Path","strokepath");
this.RU=null;this.yB=null;this.kJ=null;this.UQ=null;this.hS=[r.yv,r.yj,r.dM,r.kD,r.uy,r.yg,r.VQ,r.Uw,r.XL,r.yV,r.CN,r.WQ,r.SK,r.UJ,r.Yc]}bB.prototype=new e6;
bB.prototype._=function(){e6.prototype._.call(this);if(this.UQ){this.yB._();this.UQ._()}};bB.prototype.Z4=function(c){var o=this.hS[this.yB.h()],K=null;
for(var u in r.K6)if(r.K6[u]==o)K=u;var X=new ev(y.E.XV,!0);X.data=r.ju.EO(K,this.kJ.h());this.close();
this.I(X)};bB.prototype.VW=function(c,o){if(this.RU==null){var K=[];for(var Y=0;Y<this.hS.length;++Y){K.push(c.k.map[this.hS[Y]].f.name)}var u=S.t("div","form");
this.body.appendChild(u);this.yB=new iW("Tool",K);this.yB.c(1);u.appendChild(this.yB.n);this.kJ=new fA("Simulate Pressure");
S.jR(u);u.appendChild(this.kJ.n);this.UQ=S.ax(this,this.body)}this.RU=c};function jM(){e6.call(this,[1,18],"linkview");
S.SZ(this.body,"form");var c=this.lj=[new fi(null,null,17),new kz([5,1],!1,null,!0),new kz([1,0],!1,null,!0)];
for(var Y=0;Y<3;Y++){var o=c[Y];this.body.appendChild(o.n);if(Y!=0)o.B("click",this.afe,this);if(Y==0)S.jR(this.body)}}jM.prototype=new e6;
jM.prototype.kX=function(c,o){var K=o.aql;if(K.startsWith("https://"))K=K.slice(8);this.lj[0].c(K)};
jM.prototype.afe=function(c){var o=this.lj,K=o[0].h(),u=c.target==this.lj[1];if(u){navigator.clipboard.writeText(K);
alert("Copied to a clipboard!")}else window.open("https://"+K,"Shared")};function dS(c){e6.call(this,c==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][c]);
this.Kr=null;this.NX=null;this.ag1=c;var o=S.t("div","form label8");o.setAttribute("style","max-width:26em");
this.body.appendChild(o);this.Ne=new iW("Document",["abc","def"]);this.Ne.B(y.E.z,this.dY,this);o.appendChild(this.Ne.n);
S.jR(o);this.lw=new iW([12,4],["abc","def"]);this.lw.B(y.E.z,this.dY,this);o.appendChild(this.lw.n);
this.aDx=new fA([4,11]);this.Go=new fi([12,48]);this.Go.c("Alpha");if(c==0){}else{o.appendChild(this.Go.n)}this.SM=new aD(!0);
o.appendChild(this.SM.n);this.UQ=S.ax(this,o)}dS.prototype=new e6;dS.prototype.I2=function(){return!0};
dS.prototype._=function(){e6.prototype._.call(this);this.UQ._();this.Ne._();this.lw._();this.Go._();
this.aDx._();this.SM._()};dS.prototype.dY=function(c){var o=this.ag1;if(c==null||c==this.Ne){var K=this.Ne.h(),u=this.NX[K],X=[];
if(o==0)X.push(u.s[u.g[0]].getName()+" Transparency");else X.push([5,3]);for(var Y=0;Y<u.lr.length;Y++)X.push(u.lr[Y].name);
this.lw.e8(X)}if(o==0)return;var $=this.lw.h();this.Go.WR($==0);this.SM.WR($!=0)};dS.prototype.kX=function(c,o,K){this.Kr=c;
this.NX=K;var u=[];for(var Y=0;Y<K.length;Y++){var X=K[Y].name;u.push(X.length<30?X:X.slice(0,27)+"...")}this.Ne.e8(u);
this.Ne.c(K.indexOf(c));this.dY(null)};dS.prototype.Z4=function(c){var o=this.ag1,K=this.lw.h(),u=this.Ne.h(),X=this.NX[u],$=this.SM.h(),O;
if(K==0){O=new ev(y.E.XV,!0);if(o==0)O.data=r.mW.II($,"Trsp",X.s[X.g[0]].getName());else O.data={ST:"duplicate",sK:{classID:"null",Nm:{t:"TEXT",v:this.Go.h()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{O=new ev(y.E.v,!0);
if(o==0){O.f=r.TN;O.data={Y:"fromchannel",Yg:[-4-K,0,$]}}else{O.f=r.KX;O.data={Y:gU.Xa,D$:"seltochannel",Yg:[K-1,$]}}}this.close();
this.I(O)};function cs(c,o,K,u){ax.call(this);this.name=c;this.aeS=K;this.ef=u;this.jL=S.t("div","");
this.jL.setAttribute("draggable","true");this.m4=S.t("div","pbody");this.HG=new kz("",!1,"");this.HG.parent=this;
this.aCc=S.t("span","cross gsicon");this.gV=S.t("span","label");var X=this.ayn.bind(this);this.jL.addEventListener("mousedown",this.any.bind(this),!1);
this.jL.addEventListener("contextmenu",X,!1);this.HG.n.addEventListener("contextmenu",X,!1);this.aCc.addEventListener("mousedown",this.$n.bind(this),!1);
this.jL.appendChild(this.gV);if(o)this.jL.appendChild(this.aCc);this.kT=!1;this.gV.textContent=c}cs.prototype=new ax;
cs.prototype.l_=function(){return null};cs.prototype._=function(){var c=iV.get(this.name),o=!1,K=this.Oc==0?22:Math.round(2+this.Oc/50);
if(c.endsWith(" *")){o=!0;c=c.slice(0,c.length-2);K-=2}var u=c.length>K;this.gV.textContent=u?c.slice(0,K-2):c;
if(u)for(var X=0;X<2;X++){var $=S.t("span");$.textContent=c.charAt(K-2+X);$.setAttribute("style","opacity:"+(.6-X*.4));
this.gV.appendChild($)}if(o){var $=S.t("span");$.textContent=" *";this.gV.appendChild($)}var O=c.split(" "),n=O.length==2?O[0].substring(0,2)+O[1][0]:c.substring(0,3);
if(n.charCodeAt(0)>=11776)n=n.substring(0,1);var x=this.aeS;if(x==null)this.HG.ro(n,c);else{var l;if(x.startsWith("---"))l="<img src=\""+PIMG[x.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(x.startsWith("==="))l="<img src=\""+x.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(x.indexOf("\"")==-1)l="<img src=\""+x+"\" alt=\""+S.LI(c).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.HG.ro(l,c)}};cs.prototype.enable=function(){this.m4.className="pbody"};cs.prototype.disable=function(){this.m4.className="pbody disabled"};
cs.prototype.VW=function(c,o){};cs.prototype.kX=function(c,o,K){};cs.prototype.Zd=function(c){};cs.prototype._Q=function(c,o){};
cs.prototype.fA=function(c){this.name=c;this._()};cs.prototype.H0=function(){};cs.prototype.any=function(c){if(c.button==0)this.I(new ev("select",!1));
if(c.button==1)this.iK()};cs.prototype.ayn=function(c){S.GB(c);if(this.ef!=null&&isNaN(this.ef))return;
var o=S.$_(c,document.body),K=this.vf;if(K==null){K=this.vf=new jf([{name:[1,12,0]}]);this.vf.B("select",this.$n,this)}K.update(null);
K._();K.parent=this;var u=new ev(y.E.M,!0);u.data={Y:y.H.B2,KH:K,x:o.x+1,y:o.y+1};this.I(u)};cs.prototype.iK=function(){this.$n({})};
cs.prototype.$n=function(c){if(c.stopPropagation)c.stopPropagation();if(this.ef!=null&&!isNaN(this.ef)){var o=new ev(y.E.M,!0);
o.data={Y:y.H.Rv,KH:this.vf};this.I(o);o.data={Y:y.H.NU,EU:iD.Vb,b:parseFloat(this.ef),Zk:"del"};this.I(o)}else if(this.aBu())this.I(new ev(y.E.ZV,!1))};
cs.prototype.aBu=function(c){return!0};cs.prototype.x5=function(c,o,K,u,X){};cs.prototype.Xo=function(c,o,K,u,X){};
cs.prototype.v$=function(c,o,K,u,X){};cs.Fg=function(c,o,K){if(c.childElementCount!=0)return;var u=c.textContent;
this.kf=this.ab2.bind(this);this.alZ=this.aqD.bind(this);this.Nu=o;this.aBW=K;this.kI=c;this.arI=u;var X=S.t("input","");
X.setAttribute("type","text");X.setAttribute("size","10");X.setAttribute("value",u);S._a(c);c.appendChild(X);
X.select();X.focus();S.E0(c);c.addEventListener("keyup",this.kf,!1);document.body.addEventListener("mousedown",this.alZ,!1)};
cs.Fg.prototype.ab2=function(c){var o=d2.y3,K=o(c.code,d2.m8);if(o(c.code,d2.G$)||K)this.a7c(K)};cs.Fg.prototype.aqD=function(c){var o=c.target;
if(o.tagName&&o.tagName.toLowerCase()=="input")return;this.a7c(!0)};cs.Fg.prototype.a7c=function(c){var o=this.kI,K=o.firstChild.value;
o.removeEventListener("keyup",this.kf);document.body.removeEventListener("mousedown",this.alZ);if(this.aBW||c&&K!=""&&K!=this.arI){this.Nu(K)}else{S._a(o);
o.textContent=this.arI}};cs.Bl={DX:"0",agj:"1",KX:"2",amP:"3",ave:"4",jY:"5",CSS:"6",yj:"7",arK:"8",atJ:"9",aa7:"10",auX:"11",ao9:"12",Mn:"13",zK:"14",adZ:"15",amb:"16",qB:"17",acB:"18",ag9:"19",aoj:"20",Oz:"21",a94:"22",axN:"23",av5:"24",avK:"25"};
function h2(){cs.call(this,[9,9],!1,"---panels/actions",cs.Bl.auX);this.RU=null;this.Cw=[0,0]}h2.prototype=new cs("");
h2.prototype.Ed=function(){if(!S.Kt(this.m4)||this.nM)return;this.nM=S.t("div","padded scrollable");
this.nM.setAttribute("style","width:260px;  height:260px");this.m4.appendChild(this.nM);this.B(y.E.z,this.b3,this);
this.V_=S.t("div","lpfoot");this.m4.appendChild(this.V_);this.z7=[];var c="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",o="</svg>",K=c+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+o,u=c+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+o;
this.aeu=c+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+o;this.ag7=c+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+o;
var X=[this.aeu,u,"lrs/folder","lrs/newlayer","lrs/bin",K],$=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var Y=0;Y<X.length;Y++){var O=X[Y];if(1<Y&&Y!=X.length-1)O="<img src=\""+PIMG[X[Y]]+"\" class=\"miniscale gsicon\" />";
var n=new kz(O,!1,$[Y]);n.B("click",this.am5,this);this.V_.appendChild(n.n);this.z7.push(n)}this.gd()};
h2.prototype._=function(){cs.prototype._.call(this);if(this.nM==null)return;for(var Y=0;Y<this.z7.length;
Y++)this.z7[Y]._()};h2.prototype.am5=function(c){var Y=this.z7.indexOf(c.currentTarget),o=this.Cw,K=this.RU,u=K.U8;
if(Y==0){var X,$=K.DP;if(u.length==0){alert("Create an Action Set first.");return}if(o.length<2){alert("Select a target action first.");
return}if($==null){X=this.ag7;$=this.Cw}else{X=this.aeu;$=null}this.z7[0].ro(X);K.DP=$}else if(Y==1)this.aCu();
else if(Y==2||Y==3){var O={u0:"Action Set "+u.length,fE:[],exp:!0};if(Y==2||u.length==0){o=[u.length];
u.push(O)}if(Y==3){var n=u[o[0]].fE;o=[o[0],n.length];n.push({u0:"Action "+n.length,color:0,fE:[],a4g:!1,shift:!1,exp:!0,wM:n.length})}this.Cw=o;
this.gd()}else if(Y==4){var x;if(o.length==1)x=u;else if(o.length==2)x=u[o[0]].fE;else x=u[o[0]].fE[o[1]].fE;
var l=o.length-1;x.splice(o[l],1);if(x.length==0)o.pop();else while(o[l]>=x.length)o[l]--;if(o.length==0)o.push(0);
this.gd()}else if(Y==5){if(u.length==0){alert("No Actions Present.");return}var N=new ev(y.E.M,!0);N.data={Y:y.H.PO,amE:iD.v,vv:o[0]};
this.I(N)}};h2.prototype.b3=function(c){var o=this.RU.U8,K=c.data.Y,u=c.data.i7;if(K=="sel")this.Cw=u;
if(K=="fold"){if(u.length==1)o[u[0]].exp=!o[u[0]].exp;else o[u[0]].fE[u[1]].exp=!o[u[0]].fE[u[1]].exp}if(K=="enab"){var X=o[u[0]].fE[u[1]].fE[u[2]];
X.w=!X.w}if(K=="nchange"){if(u.length==1)o[u[0]].u0=c.data.iX;else o[u[0]].fE[u[1]].u0=c.data.iX}this.gd()};
h2.prototype.kX=h2.prototype.H0=function(){this.Ed()};h2.prototype.VW=function(c,o){this.RU=c;if(this.nM==null)return;
if(o==iD.v||o==iD.Vk)this.gd()};h2.prototype.gd=function(){if(this.RU==null)return;S._a(this.nM);var c=this.RU.U8;
if(c.length==0)return;var o=JSON.stringify(this.Cw);for(var Y=0;Y<c.length;Y++){var K=c[Y],u=new h2._I([Y],o,K.exp,K.u0.split("=").pop());
u.parent=this;this.nM.appendChild(u.n);if(!K.exp)continue;for(var X=0;X<K.fE.length;X++){var $=K.fE[X],u=new h2._I([Y,X],o,$.exp,$.u0.split("=").pop());
u.parent=this;this.nM.appendChild(u.n);if(!$.exp)continue;for(var O=0;O<$.fE.length;O++){var n=$.fE[O],u=new h2._I([Y,X,O],o,null,iV.get(a5.ax9(n)),n.w);
u.parent=this;this.nM.appendChild(u.n)}}}};h2.prototype.aCu=function(){var c=this.RU.U8,o=this.Cw;if(c.length==0){alert("No Actions Present");
return}if(o.length==1){alert("Select an Action first");return}if(this.RU.DP!=null){alert("You can not apply actions while recording actions");
return}if(o.length==1)o.push(0);var K=c[o[0]],u=K.fE[o[1]],X=new ev(y.E.M,!0);X.data={Y:y.H.XJ,Yg:[u.u0,K.u0]};
this.I(X)};h2._I=function(c,o,K,u,X){ax.call(this);this.i7=c;var $=this.i7.length-1;this.n=S.t("div","layeritem"+(JSON.stringify(c)==o?" selected":""));
this.mI=S.t("div","head");this.n.appendChild(this.mI);this.mI.setAttribute("style","height:24px");this.zM=S.t("div","headL");
this.mI.appendChild(this.zM);if($!=0){var O=S.t("div");O.style.width=$*20+"px";this.zM.appendChild(O)}if(K!=null){var n=this.ayU=S.t("div",K?"open":"closed");
this.zM.appendChild(n)}else{var x=this.avP=S.t("div","cmark");x.setAttribute("style","background-size:12px 12px; opacity:"+(X?1:.3));
this.zM.appendChild(x)}if($==0){var l=S.t("div","folder");this.zM.appendChild(l)}var N=this.gV=S.t("div","label");
N.textContent=u;this.zM.appendChild(N);this.n.addEventListener("mouseup",this.GY.bind(this),!1)};h2._I.prototype=new ax;
h2._I.prototype.GY=function(c){if(c.detail==1&&c.target.tagName.toLowerCase()!="input"){var o="sel";
if(c.target==this.ayU)o="fold";if(c.target==this.avP)o="enab";var K=new ev(y.E.z,!0);K.data={Y:o,i7:this.i7};
this.I(K)}else if(this.i7.length<3)var u=new cs.Fg(this.gV,this.Nu.bind(this))};h2._I.prototype.Nu=function(c){var o=new ev(y.E.z,!0);
o.data={Y:"nchange",iX:c,i7:this.i7};this.I(o)};function jP(){cs.call(this,[3],!1,"---lrs/adj",cs.Bl.acB)}jP.prototype=new cs("");
jP.prototype.Ed=function(){if(!S.Kt(this.m4)||this.z7)return;this.m4.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.z7=[];var Y=0;for(var c in j7.names){var o=new kz("<img src=\""+PIMG["adj/"+c]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,j7.names[c]);
o.B("click",this.Sf,this);this.z7.push(o);this.m4.appendChild(o.n);if(Y==4||Y==10)S.jR(this.m4);Y++}this._()};
jP.prototype.kX=function(){this.Ed()};jP.prototype.H0=function(){this.Ed()};jP.prototype._=function(){cs.prototype._.call(this);
if(this.z7==null)return;for(var Y=0;Y<this.z7.length;Y++)this.z7[Y]._()};jP.prototype.Sf=function(c){var o=this.z7.indexOf(c.target),K=es.Xw()[o],u=new ev(K.K,!0);
u.data=K.C;this.I(u)};function b7(){cs.call(this,[12,22],!1,null,cs.Bl.Oz);this.nM=S.t("div","padded");
this.RU=null;this.m4.appendChild(this.nM);this.zf=new bM(null,17.7,10);this.zf.parent=this;this.zf.B(y.E.z,this.oR,this);
this.nM.appendChild(this.zf.un)}b7.prototype=new cs("");b7.prototype.oR=function(c){var o=this.zf.h(),K=new ev(y.E.v,!0);
K.data={Y:"setstl",b:o.ho};K.f=r.rU;this.I(K);K.data={Y:"confirm"};this.I(K)};b7.prototype.VW=function(c,o){this.RU=c;
this.gd()};b7.prototype.gd=function(){var c=this.RU;if(c==null)return;this.zf.E8([c.dn,c.dx]);this.zf._Q()};
b7.prototype.kX=function(){this.gd()};b7.prototype.H0=function(){this.gd()};var hm=function(){function c(){cs.call(this,[9,3],!1,"---panels/brush",cs.Bl.yj);
this.u1=null;this.RU=null}c.prototype=new cs("");c.prototype.Ed=function(){var X=S.t("div","");this.m4.appendChild(X);
this.Xp=S.t("div","bordered cell");this.Xp.setAttribute("style","width:10em; height:28.5em;");X.appendChild(this.Xp);
this.Yf=[];this.xj=null;this.TQ=[];var $=this.agc.bind(this);this.C$=[new K("basic"),new K("useTipDynamics"),new K("useScatter"),new K("useColorDynamics"),new K("usePaintDynamics")];
for(var Y=0;Y<this.C$.length;Y++){var O=S.t("div","listitem"),n=this.C$[Y],l=null;n.parent=this;n.B("brushchange",this.abu,this);
var x=n.l$;if(Y==0){this.xj=new dV(x);O.appendChild(this.xj.n)}else{l=new fA(x,!1);l.B(y.E.z,this.akI,this);
O.appendChild(l.n)}this.TQ.push(l);this.Xp.appendChild(O);this.Yf.push(O);O.addEventListener("click",$,!1)}this.D8=S.t("div","cell padded");
X.appendChild(this.D8);this.setItem(0);this.xS=S.t("canvas");this.xS.height=10;X.appendChild(this.xS);
this.i0=this.xS.getContext("2d");this.S0()};c.prototype._Q=function(X,$){if(this.Oc==X)return;this.Oc=X;
this.s_=$;this.S0()};c.prototype.H0=function(){if(!S.Kt(this.m4))return;if(this.Xp){this.S0();return}this.Ed();
this._();this.VW(this.RU,iD.Vk)};c.prototype._=function(){cs.prototype._.call(this);if(this.Xp==null)return;
this.xj._();for(var Y=1;Y<this.TQ.length;Y++)this.TQ[Y]._();for(var Y=0;Y<this.C$.length;Y++)this.C$[Y]._()};
c.prototype.abu=function(X){var $=this.C$.indexOf(X.currentTarget),O=JSON.parse(JSON.stringify(this.C$[$].u1)),n=new ev(y.E.M,!0);
n.data={Y:y.H.NU,EU:iD.nD,u1:O};this.I(n)};c.prototype.akI=function(X){this.a5m(this.TQ.indexOf(X.currentTarget),X.currentTarget.s6())};
c.prototype.agc=function(X){var Y=this.Yf.indexOf(X.currentTarget);if(X.target.tagName.toLowerCase()=="input")return;
if(this.TQ[Y]&&!this.TQ[Y].s6()){this.TQ[Y].tb();this.a5m(Y,!0)}this.setItem(Y)};c.prototype.a5m=function(X,$){this.C$[X].aaX($)};
c.prototype.setItem=function(X){for(var Y=0;Y<this.C$.length;Y++)this.Yf[Y].className="listitem";if(this.D8.firstChild)this.D8.removeChild(this.D8.firstChild);
this.Yf[X].className="listitem selected";this.D8.appendChild(this.C$[X].n)};c.prototype.VW=function(X,$){this.RU=X;
if(this.Xp==null)return;for(var Y=0;Y<this.C$.length;Y++)this.C$[Y].VW(X,$);if($==iD.nD||$==iD.Vk){this.u1=X.i_.ET;
this.S0()}if($==iD.Mn)this.S0()};c.prototype.S0=function(){if(this.u1)this.enable();else{this.disable();
return}if(!S.Kt(this.m4))return;var X=this.RU;for(var Y=0;Y<this.C$.length;Y++){this.C$[Y].c(this.u1);
if(this.TQ[Y])this.TQ[Y].c(this.C$[Y].s6())}var $=JSON.parse(JSON.stringify(this.u1));$.Brsh.v.Dmtr.v.val=Math.min($.Brsh.v.Dmtr.v.val,50);
S.qI(this.xS,this.Oc,80);var O=new ez(0,0,this.xS.width,this.xS.height),n=this.RU.i_,x=new kD($,n?n.Z7:null,n?n.p1:null,{FK:1},X.V5,X.th,O,null,0),l=O.e/2,N=O.m-l*2;
x.moveTo(l,l);for(var Y=0;Y<=N;Y+=10)x.lineTo(l+Y,l+20*Math.sin(2*Math.PI*Y/N));x.finish();var f=this.i0.createImageData(O.m,O.e);
a.Ui(x.M5(),x.G5(),f.data,O);this.i0.putImageData(f,0,0)};function o(X){ax.call(this);X=X.split(".")[0];
this.yD=X;var $=this.n=S.t("span"),O=["Off","Fade"];O.push(X=="angleDynamics"?"Direction":"Pen Pressure");
var n=this.sO=new iW("Control",O);n.B(y.E.z,this.dY,this);$.appendChild(n.n);var x=this.awb=new fI(null,0,100,null,null,null,!0);
x.c(50);x.B(y.E.z,this.dY,this)}o.prototype=new ax;o.prototype.c=function(X){X=X<2?X:2;this.sO.c(X);
this.gd()};o.prototype.h=function(){var X=this.sO.h(),$=this.yD;X=X<=1?X:$=="angleDynamics"?6:2;return X};
o.prototype.dY=function(X){this.gd();X.target=X.currentTarget=this;this.I(X)};o.prototype.gd=function(X){this.awb.WR(this.sO.h()==1)};
function K(X){ax.call(this);this.n=S.t("div");this.u1=null;var $=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(X);
this.l$=[[15,0],[15,1],[15,2],[15,3],"Transfer"][$];this.Yy=X;this.Ue={};this.a8i=null;var O=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][$];
for(var Y=0;Y<O.length;Y++){var n=O[Y],x;if(n=="--br"){x=new eE;this.n.appendChild(x.un.firstChild)}else if(n=="Brsh.Dmtr")x=new js([12,14,0],1,1e3," px",0,!0);
else if(n=="Brsh.Angl")x=new js([12,15],0,359," \xB0");else if(n=="Brsh.Rndn")x=new js([12,16],0,100," %");
else if(n=="Brsh.Hrdn")x=new js([12,17],0,100," %");else if(n=="Brsh.Spcn")x=new js([12,18],1,300," %");
else if(n=="szVr.jitter")x=new js([15,4,0],0,100,"%");else if(n=="minimumDiameter")x=new js([15,4,1],0,100,"%");
else if(n=="angleDynamics.jitter")x=new js([15,4,2],0,100,"%");else if(n.endsWith("bVTy"))x=new o(n);
else if(n.endsWith("fStp"))x=new fI(null,0,100,null,null,null,!0);else if(n=="roundnessDynamics.jitter")x=new js([15,4,3],0,100,"%");
else if(n=="minimumRoundness")x=new js([15,4,4],1,100,"%");else if(n=="scatterDynamics.jitter")x=new js([15,5,0],0,1e3," %");
else if(n=="Cnt")x=new js([15,5,1],1,20);else if(n=="countDynamics.jitter")x=new js([15,5,2],0,100," %");
else if(n=="clVr.jitter")x=new js([15,6,0],0,100," %");else if(n=="H")x=new js([15,6,1],0,100," %");
else if(n=="Strt")x=new js([15,6,2],0,100," %");else if(n=="Brgh")x=new js([15,6,3],0,100," %");else if(n=="opVr.jitter")x=new js("Opacity Jitter",0,100," %");
else if(n=="prVr.jitter")x=new js("Flow Jitter",0,100," %");else throw n;this.Ue[n]=x;x.parent=this;
x.B(y.E.z,this.dY,this)}}K.prototype=new ax;K.prototype.a9$=function(){this.I(new ev("brushchange"))};
K.prototype.c=function(X){this.u1=JSON.parse(JSON.stringify(X));this.n.className=this.s6()?"":"disabled";
this.S0()};K.prototype._=function(){for(var X in this.Ue)this.Ue[X]._()};K.prototype.s6=function(){return!0};
K.prototype.VW=function(X,$){if($==iD.yj||$==iD.Vk){var O=this.Ue["--br"];if(O)O.E8(X.i_)}};K.prototype.dY=function(X){var $=X.target,O=this.Ue,n;
for(var x in O)if(O[x]==$)n=x;if(n=="--br"){var l=new ev(y.E.M,!0);l.data={Y:y.H.NU,EU:iD.nD,u1:$.h()};
this.I(l)}else{var N=u(this.u1,n),f=$.h();if(N){if(n.endsWith("bVTy")||n.endsWith("fStp")||n=="Cnt")N.v=f;
else N.v.val=f;this.a9$()}}};K.prototype.S0=function(){var X=this.u1,$=X.Brsh.v.classID,O=this.Ue,n=$!=this.a8i;
this.a8i=$;if(n){S._a(this.n);for(var x in O){if($!="computedBrush"&&$!="sampledBrush"&&x=="Brsh.Rndn")continue;
if($!="computedBrush"&&x=="Brsh.Hrdn")continue;var l=O[x],N=l.n;if(x=="--br"){N=l.hr.n;N.style.width="auto"}this.n.appendChild(N)}}for(var x in O){if(x=="--br")continue;
var f=u(X,x),z;if(f){if(x.endsWith("bVTy")||x.endsWith("fStp")||x=="Cnt")z=f.v;else z=f.v.val;O[x].c(z);
if(x.endsWith("fStp"))O[x].WR(u(X,x.split(".")[0]+".bVTy").v==1)}}};K.prototype.s6=function(){var X=this.Yy;
return X=="basic"?!0:this.u1[X].v};K.prototype.aaX=function(X){var $=this.Yy;if($=="basic")return;this.u1[$].v=X;
ac.zB.aum(this.u1);this.a9$()};function u(X,$){var O=$.split(".");X=X[O[0]];for(var Y=1;Y<O.length;Y++){if(X==null)return X;
X=X.v[O[Y]]}return X}return c}();function j8(){cs.call(this,[9,0],!1,"---panels/history",cs.Bl.DX);this.m4.setAttribute("style","min-width:200px;");
this.oX=S.t("div","hpbody scrollable");this.oX.style.height="160px";this.m4.appendChild(this.oX);this.a7f=-1;
this.HM=[];this.Gz="";this.uJ=new jf([{name:"Clear History"}],[{K:y.E.v,f:r.DX,C:{Y:"h_clear"}}])}j8.prototype=new cs("");
j8.prototype.l_=function(){return this.uJ};j8.prototype._Q=function(c,o){this.H0()};j8.prototype.kX=function(c){if(c==null){S._a(this.oX);
this.Gz="";return}S._a(this.oX);var o=0;for(var Y=0;Y<c.history.length;Y++)if(Y<=c.Wi&&!c.history[Y].gC)o=Y;
for(var Y=0;Y<c.history.length;Y++){var K=c.history[Y];if(K.gC)continue;var u=new fk(K,Y,o);u.parent=this;
this.oX.appendChild(u.n);this.HM.push(u)}if(c.Wi==c.history.length-1)this.H0()};j8.prototype.H0=function(){this.oX.scrollTop=this.oX.scrollHeight};
j8.prototype._=function(){cs.prototype._.call(this);for(var Y=0;Y<this.HM.length;Y++)this.HM[Y]._()};
function fk(c,Y,o){ax.call(this);this.index=Y;this.n=S.t("div",Y==o?"listitem selected":"listitem");
this.DM=c.name;this._();if(Y>o)this.n.style.opacity=.4;this.n.addEventListener("click",this.x5.bind(this),!1)}fk.prototype=new ax;
fk.prototype._=function(){this.n.textContent=iV.get(this.DM)};fk.prototype.x5=function(c){if(this.index==this.parent.a7f)return;
this.ux({Y:"h_itemchange",index:this.index})};fk.prototype.ux=function(c){var o=new ev(y.E.v,!0);o.data=c;
o.f=r.DX;this.I(o)};function hA(){cs.call(this,[9,10],!1,"---panels/histogram",cs.Bl.ave);var c=S.t("div","padded");
this.m4.appendChild(c);this.Wl=new eS(256,!0);c.appendChild(this.Wl.n);this.Cv=null}hA.prototype=new cs("");
hA.prototype.kX=function(c){this.Cv=c;this.gd()};hA.prototype.gd=function(){var c=this.Cv;if(!S.Kt(this.m4))return;
if(c==null||c.g.length==0){this.Wl.c(a.Fr(a.R(4)));return}var o=c.i9(),K=new ez(0,0,c.m,c.e),u=K.P();
if(c.u){var X=c.u.rect,$=a.R(X.P()*4);a.Ui(o,K,$,X);a.L7(c.u.channel,$);o=$;K=X;var O=c.u.channel;u=0;
for(var Y=0;Y<O.length;Y++)u+=O[Y];u=Math.round(u/255)}var n=a.Fr(o);n[0][255]+=3*(u-n[5]);for(var Y=1;
Y<4;Y++)n[Y][255]+=u-n[5];this.Wl.c(n,u)};hA.prototype.VW=function(c,o){this.Wl.fV(fW.BU[c.SU]["--text-color"])};
hA.prototype._=function(){cs.prototype._.call(this);this.Wl._()};hA.prototype.H0=function(){this.gd()};
function ga(){cs.call(this,[9,8],!1,"---adj/clrL",cs.Bl.agj);this.nM=S.t("div","padded");this.m4.appendChild(this.nM);
this.D0=new db(10);this.nM.appendChild(this.D0.n);this.dT=new hu;this.dT.parent=this;this.nM.appendChild(this.dT.un);
this.dT.un.style.marginTop="6px";this.D0.B(y.E.z,this.a9A,this);this.dT.B(y.E.z,this.a9A,this)}ga.prototype=new cs("");
ga.prototype.a9A=function(c){var o;if(c.target==this.D0)o=this.D0.h();else{var K=this.dT.h();o=Math.round(K.Z)<<16|Math.round(K.r)<<8|Math.round(K.J)}var u=new ev(y.E.M,!0);
u.data={Y:y.H.NU,EU:iD.Mn,D$:0,b:o};this.I(u)};ga.Nx=function(c,o){var K=o==iD.Vk,u=c.L6,X=c.KT,$=X.strokeStyleContent.v,O=null;
if((o==iD.Cr||K)&&u.KO==1){O=a.T.h0(u.gq.Clr.v);O=O.Z<<16|O.r<<8|O.J}if((o==iD.JP||K)&&X.strokeEnabled.v&&$.classID=="solidColorLayer"){O=a.T.h0($.Clr.v);
O=O.Z<<16|O.r<<8|O.J}if(o==iD.Mn||K)O=c.V5;return O};ga.prototype.VW=function(c,o){var K=c.V5,u=o==iD.Vk,X=ga.Nx(c,o);
if(X!=null){this.D0.c(X);this.dT.c({Z:X>>>16&255,r:X>>>8&255,J:X>>>0&255,Tw:"Color #"+a.On(X)})}if(o==iD.Op||u){var $=c.ao6;
this.dT.E8($)}};function ei(){cs.call(this,[12,72],!1,"---adj/mixr",cs.Bl.amb);this.YG=null;this.R4=null;
this.oX=S.t("div","lpbody scrollable");this.oX.style.marginTop="4px";this.V_=S.t("div","lpfoot");this.m4.appendChild(this.oX);
this.m4.appendChild(this.V_);this.gH=[];this.B("click",this.PD,this);this.NB=[];ei.fN([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.NB,this.V_,this.pG.bind(this),this.E2.bind(this));
this.uJ=new jf([{name:"Merge Channels",PS:!0}],[{K:y.E.M,C:{Y:y.H.Vl,n9:"mergechannels"}}])}ei.prototype=new cs("");
ei.prototype.l_=function(){return this.uJ};ei.fN=function(c,o,K,u,X){for(var Y=0;Y<c.length;Y++){var $=new kz("W",!1,c[Y]);
o.push($);S.pI($.n,u);K.appendChild($.n);var O=$.n;O.addEventListener("drop",X,!1);O.addEventListener("dragover",function(n){n.preventDefault()},!1);
O.addEventListener("dragenter",S.GB,!1)}};ei.C7=function(c,o){for(var Y=0;Y<c.length;Y++)if(c[Y].n==o.currentTarget)return Y};
ei.prototype.pG=function(c){var o=ei.C7(this.NB,c);if(o==0)this.I(co.gZ(!0,null,c));else{o--;var K=new ev(y.E.XV,!0),u={classID:"null"};
if(o==0)u.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(o==1)u.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else u.null=a5.Vs("Chnl",!0);K.data={ST:["duplicate","make","delete"][o],sK:u};this.I(K)}};ei.prototype.E2=function(c){var o=ei.C7(this.NB,c);
if(o==2){var K=new ev(y.E.XV,!0),u={classID:"null"};u.null=a5.Vs("Chnl",!0);K.data={ST:"duplicate",sK:u};
this.I(K)}else this.pG(c)};ei.prototype.AD=function(Y){var c=this.gH,o=c[Y];if(o==null){var K=S.t("canvas");
o=K.getContext("2d");c.push(o)}return o};ei.prototype.PD=function(c){var o=this.YG.slice(0),K=c.data.wM,u=o[0]+o[1]+o[2],X=this.R4;
if(-5<K&&K<0){var $=-K-1;if(c.data.Hx){if($==0)o=u==3?[0,0,0]:[1,1,1];else{if(o[$-1]==0)o[$-1]=1;else if(!0)o[$-1]=0}}else{if($==0)o=[1,1,1];
else{o=[0,0,0];o[$-1]=1}for(var Y=0;Y<X.lr.length;Y++)X.lr[Y].nd=!1;X.LL=[]}var O=new ev(y.E.v,!0);O.f=r.OC;
O.data={Y:"setcls",O:o};this.I(O);return}if(-1<K){var n=X.s[K],x=n.Xx==1?n.wD():n.$a(X).F;if(c.data.Hx)x.nd=!x.nd;
else{for(var Y=0;Y<X.lr.length;Y++)X.lr[Y].nd=!1;X.LL=[]}}else{var N=-K-5,x=X.lr[N];if(c.data.Hx)x.nd=!x.nd;
else{for(var Y=0;Y<X.lr.length;Y++)X.lr[Y].nd=!1;x.nd=!0;X.LL=[N];if(u!=0){var O=new ev(y.E.v,!0);O.f=r.OC;
O.data={Y:"setcls",O:[0,0,0]};this.I(O)}}}X.Jn=X.So=!0};ei.prototype.H0=function(){this.b6()};ei.prototype.kX=function(c){this.R4=c;
this.b6()};ei.prototype.b6=function(){var c=this.R4,o=this.oX,R=4;S._a(o);if(c==null||!S.Kt(o))return;
var K=c.m,u=c.e,X=new ez(0,0,K,u),$=this.YG=c.Q.O.slice(0),O=$[0]+$[1]+$[2],n=Math.round(34*S.Sm()),x=n;
if(K>u)x=Math.round(x*u/K);else n=Math.round(n*K/u);var l=["RGB"].concat(j7.eF);for(var Y=0;Y<4;Y++){var N=this.AD(Y);
a.nS.jO(N,n,x,X,c.i9(),X,!1,Y==0?null:Y-1);var f=Y==0?O==3:$[Y-1]==1,z=new co(-1-Y,!0,!0,N,l[Y],f,f);
z.parent=this;o.appendChild(z.n);S.KV(N.canvas)}for(var Y=0;Y<c.g.length;Y++){var V=c.s[c.g[Y]],d=V.Xx;
if(d!=1&&d!=3)continue;var e=d==1?V.wD():V.$a(c).F,N=this.AD(R+Y);R++;a.nS.WK(N,n,x,X,e);var z=new co(c.g[Y],!0,!0,N,V.getName()+(d==1?"":" Filter")+" Mask",!0,e.nd);
z.parent=this;o.appendChild(z.n);S.KV(N.canvas)}for(var Y=0;Y<c.lr.length;Y++){var e=c.lr[Y],N=this.AD(R+Y);
a.nS.WK(N,n,x,X,e);var z=new co(-5-Y,!0,e.name=="Quick Mask",N,e.name,c.LL.indexOf(Y)!=-1,e.nd,r.KX,{Y:gU.Xa,D$:"rnm",wM:Y});
z.parent=this;o.appendChild(z.n);S.KV(N.canvas)}};ei.prototype._Q=function(c,o){this.oX.style.height=o-30-4+"px";
this.oX.style.width=c+"px"};ei.prototype._=function(){cs.prototype._.call(this);this.b6();ei.$l(this.NB,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
ei.$l=function(c,o,K){var o=hE.DS(o,null,"miniscale");for(var Y=0;Y<c.length;Y++)c[Y].ro(o[Y],K?K[Y]:null)};
function co(c,o,K,u,X,$,O,n,x){ax.call(this);this.n=S.t("div");this.aD5=c;this.ayX=o;this.i0=u;this.aA6=n;
this.avu=x;this.mI=S.t("div",$?"head selected":"head");this.mI.setAttribute("style","height: "+40+"px");
var l=S.t("div","headL"),N=S.t("div","headR"),f=15;this.n.appendChild(this.mI);this.mI.appendChild(l);
this.mI.appendChild(N);this.JZ=S.t("div","eye");if(1<S.Sm()&&S.Sm()<1.5)f=f/S.Sm();this.JZ.setAttribute("style","background-size: "+f+"px "+f+"px;");
this.JZ.style.opacity=O?1:.2;if(o)l.appendChild(this.JZ);this.Th=S.t("div","thumb");if(u)this.Th.appendChild(u.canvas);
l.appendChild(this.Th);this.jQ=S.t("div","label");if(K)this.jQ.style.fontStyle="italic";this.jQ.textContent=iV.get(X);
l.appendChild(this.jQ);var z=this.mI;z.setAttribute("draggable","true");z.addEventListener("dragstart",function(R){R.stopPropagation();
R.dataTransfer.setData("Text","hello")},!1);z.addEventListener("drop",S.GB,!1);S.pI(this.mI,this.alg.bind(this));
if(!K)this.mI.addEventListener("mouseup",this.aDK.bind(this),!1)}co.prototype=new ax;co.prototype.Nu=function(c){var o=new ev(y.E.v,!0);
o.f=this.aA6;o.data=this.avu;o.data.name=c;this.I(o)};co.prototype.alg=function(c){var o=c.ctrlKey||c.metaKey,K=this.aD5;
if(o&&c.target==this.i0.canvas){this.I(co.gZ(this.ayX,K,c))}else{var u=new ev("click",!0);u.data={wM:K,Hx:c.target==this.JZ,dt:o};
this.I(u)}};co.prototype.aDK=function(c){if(c.detail==2&&c.target==this.jQ){var o=new cs.Fg(this.jQ,this.Nu.bind(this))}};
co.gZ=function(c,o,K){var u=0;if(K.shiftKey)u++;if(K.altKey)u+=2;var X=new ev(y.E.v,!0);X.f=r.TN;if(c){if(-5<o&&o<0){X=new ev(y.E.XV,!0);
X.data=r.mW.II(u,["RGB","Rd","Grn","Bl"][-1-o])}else X.data={Y:"fromchannel",Yg:[o,0,u]}}else X.data={Y:"frompath",Yg:[o,0,u]};
return X};function e8(){cs.call(this,[8,9],!1,"---panels/paths",cs.Bl.qB);this.YG=null;this.R4=null;
this.oX=S.t("div","lpbody scrollable");this.oX.style.marginTop="4px";this.V_=S.t("div","lpfoot");this.m4.appendChild(this.oX);
this.m4.appendChild(this.V_);this.m4.addEventListener("click",this.a5v.bind(this),!1);this.gH=[];this.B("click",this.PD,this);
this.NB=[];ei.fN(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.NB,this.V_,this.pG.bind(this),this.E2.bind(this))}e8.prototype=new cs("");
e8.prototype.pG=function(c,o){var K=ei.C7(this.NB,c),u;if(K<2){if(K==1&&c.altKey){u=new ev(y.E.M,!0);
u.data={Y:y.H.Vl,n9:"strokepath"}}else{u=new ev(y.E.XV,!0);u.data=r.ju.EO(K==0?null:"PbTl")}}else if(K==2)u=co.gZ(!1,null,c);
else if(K==3){u=new ev(y.E.XV,!0);u.data={ST:"make",sK:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(K>3){var u=new ev(y.E.v,!0);
u.f=r.iZ;u.data={Y:"pathedit",D$:["new","del"][K-4],azC:o}}this.I(u)};e8.prototype.E2=function(c){this.pG(c,!0)};
e8.prototype.AD=function(Y){var c=this.gH,o=c[Y];if(o==null){var K=S.t("canvas");o=K.getContext("2d");
c.push(o)}return o};e8.prototype.a5v=function(c){if(c.target==this.oX){var o=this.R4;o.o3=[];o.mU=[];
o.So=!0;o.Jn=!0}};e8.prototype.PD=function(c){var o=c.data.wM,K=this.R4,u=c.data.dt,X=o,$=K.mU,O=K.o3;
if(o<0){X=-1-o;$=K.o3;O=K.mU}if(u){var n=$.indexOf(X);if(n==-1)$.push(X);else $.splice(n,1)}else{while($.length!=0)$.pop();
while(O.length!=0)O.pop();$.push(X)}K.So=!0;K.Jn=!0};e8.prototype.H0=function(){this.b6()};e8.prototype.kX=function(c){this.R4=c;
this.b6()};e8.prototype.b6=function(){var c=this.R4,o=this.oX;S._a(o);if(c==null||!S.Kt(o))return;var K=c.m,u=c.e,X=new ez(0,0,K,u),$=this.YG=c.Q.O.slice(0),O=$[0]+$[1]+$[2],n=Math.round(34*S.Sm()),x=n;
if(K>u)x=Math.round(x*u/K);else n=Math.round(n*K/u);var l=c.Dr(),N=l[0];for(var Y=0;Y<N.length;Y++){var f=N[Y],z=this.AD(Y);
a.nS.arL(z,n,x,X,f.add.vmsk);var R=new co(f.wM,!1,f.wM>=0,z,f.name,l[1].indexOf(Y)!=-1,!1,r.iZ,{Y:"pathedit",D$:"rnm",wM:f.wM});
R.parent=this;o.appendChild(R.n);S.KV(z.canvas)}};e8.prototype._Q=function(c,o){this.oX.style.height=o-30-4+"px";
this.oX.style.width=c+"px"};e8.prototype._=function(){cs.prototype._.call(this);this.b6();ei.$l(this.NB,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function kB(c){cs.call(this,[9,c?4:5],!1,"---panels/"+(c?"character":"paragraph"),c?cs.Bl.atJ:cs.Bl.aa7);
this.m4.setAttribute("style","min-width:240px;");this.yi=c;this.lB=null;this.RU=null}kB.prototype=new cs("");
kB.prototype.Ed=function(){this.lB=new ff;var c=this.lB,o=this.m4;c.parent=this;if(this.yi){var K=S.t("div","marged");
o.appendChild(K);K.appendChild(c.fO.n);o.appendChild(S.t("hr"));var u=S.t("div","marged");o.appendChild(u);
u.appendChild(c.nE.n);u.appendChild(c.D4.n);var X=S.t("div","marged");o.appendChild(X);X.appendChild(c.$Q.n);
X.appendChild(c.w5.n);o.appendChild(S.t("hr"));var $=S.t("div","marged");o.appendChild($);$.appendChild(c.t$.n);
$.appendChild(c.r0.n);var O=S.t("div","marged");o.appendChild(O);O.appendChild(c.Ho.n);O.appendChild(c.Qr.n);
O.appendChild(c.D6.n);o.appendChild(S.t("hr"));var n=S.t("div","marged");o.appendChild(n);n.appendChild(c.u4.n);
n.appendChild(c.Ow.n);n.appendChild(c.O_.n);n.appendChild(c.Qd.n);n.appendChild(c.ak.n);n.appendChild(c.ok.n);
n.appendChild(c.lT.n);n.appendChild(c.EH.n)}else{var K=S.t("div","marged");o.appendChild(K);K.appendChild(c.nk.n);
K.appendChild(c.xi.n);K.appendChild(c.vt.n);K.appendChild(c.abt.n);K.appendChild(c.alp.n);K.appendChild(c.au0.n);
K.appendChild(c.ade.n);o.appendChild(S.t("hr"));var u=S.t("div","marged");o.appendChild(u);u.appendChild(c.eC.n);
u.appendChild(c.bt.n);u.appendChild(c.hM.n);o.appendChild(S.t("hr"));var X=S.t("div","marged");o.appendChild(X);
X.appendChild(c.Tl.n);X.appendChild(c.Dx.n);X.appendChild(c._v.n);X.appendChild(c.Ai.n)}};kB.prototype.H0=function(){if(!S.Kt(this.m4))return;
if(this.lB==null){this.Ed();var c=this.RU;if(c)this.lB.c(c.qH,c.ru,c.gv);this.lB._()}};kB.prototype._=function(){cs.prototype._.call(this);
if(this.lB)this.lB._()};kB.prototype.VW=function(c,o){this.RU=c;if(o!=iD.Vk&&o!=iD.al&&o!=iD.gk&&o!=iD.N6)return;
if(this.lB)this.lB.c(c.qH,c.ru,c.gv)};function g4(c){cs.call(this,c?"Character Styles":"Paragraph Styles",!1,null,c?cs.Bl.av5:cs.Bl.avK);
this.m4.setAttribute("style","min-width:240px;");var o=this.AY=S.t("div","scrollable");this.m4.appendChild(o);
o.setAttribute("style","max-height:400px;");this.fm=null;this.a9N=null;this.zU=null;this.yi=c?0:1;this.Cv=null;
this.RU=null;this.axs=g4.prototype.VJ.bind(this)}g4.prototype=new cs("");g4.prototype.kX=function(c,o,K){this.Cv=c;
this.RU=K;this.b6()};g4.prototype.b6=function(){var c=this.AY,Z=null;S._a(c);if(!S.Kt(this.m4))return;
var o=this.Cv,K=this.RU;if(o==null||K==null)return;var u=K.qH,X=this.fm=[],$={},O=this.a9N=[],n=this.zU=[],x={},l=this.yi,N=l==0?"Style":"Paragraph";
for(var Y=0;Y<o.s.length;Y++){var f=o.s[Y].add.TySh;if(f==null)continue;var z=f.Bz,R=f.i.ea(),V=z.ResourceDict.FontSet,d=z.EngineDict[N+"Run"],e=d.RunArray;
for(var p=0;p<e.length;p++){var h=g4.ahj(e[p][N+"Sheet"][l==0?"StyleSheetData":"Properties"],l,V,O,x,R),E=JSON.stringify(h);
if($[E]==null){$[E]=!0;X.push(h)}}}var q=l==0?function(gf,s){return s.FontSize-gf.FontSize}:function(gf,s){return gf.Justify-s.Justify};
X.sort(q);if(l==0){var v=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],W=v.length,D=new Array(W),I=1e9,A=0,F=0;
D.fill(1e9);for(var Y=0;Y<X.length;Y++){var U=X[Y],V=U.FontSize;I=Math.min(I,V);A=Math.max(A,V);var w=U.FillColor.Values;
for(var p=0;p<W;p++){var t=v[p],L=w[1]-t[1],J=w[2]-t[2],b=w[3]-t[3];D[p]=Math.min(D[p],L*L+J*J+b*b)}}for(var p=0;
p<W;p++)if(D[p]>F){F=D[p];Z=v[p]}}var B=g4.ahj(l==0?u.W$:u.Xi,l,u.c9,O,x,1),k=JSON.stringify(B);for(var Y=0;
Y<X.length;Y++){var i=S.t("div");c.appendChild(i);n.push(i);i.addEventListener("click",this.axs,!1);
var U=X[Y],H=JSON.stringify(U)==k;if(l==0){var m=O[U.Font].Name,j=m.toLowerCase(),Q=j.indexOf("bold")!=-1||j.indexOf("-black")!=-1,G=j.indexOf("italic")!=-1||j.indexOf("oblique")!=-1||j.endsWith("-it"),g=j.indexOf("light")!=-1,V=U.FontSize,w=U.FillColor.Values,P=Z;
if(H){P=P.slice(0);for(var p=1;p<4;p++)P[p]*=.8}var M=A==I?.5:(V-I)/(A-I),u=10+16*M,T="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+u+"px; color:"+CSS.DB({Z:w[1]*255,r:w[2]*255,J:w[3]*255})+"; border-bottom:1px solid grey; line-height:"+38+"px; background-color:"+CSS.DB({Z:P[1]*255,r:P[2]*255,J:P[3]*255})+";";
if(Q)T+=" font-weight:bold;";if(G)T+=" font-style:italic;";if(g)T+=" font-weight:lighter;";i.setAttribute("style",T);
var C=S.t("span");i.appendChild(C);C.setAttribute("style","display:inline-block;  width:"+(A>99?50:40)+"px;  text-align:right;  margin-right:5px;");
C.textContent=Math.round(V);C=S.t("span");i.appendChild(C);C.setAttribute("style","display:inline-block;  width:130px; ");
C.textContent=m}}};g4.prototype.VJ=function(c){var o=JSON.parse(JSON.stringify(this.RU.qH)),Y=this.zU.indexOf(c.currentTarget),K=this.fm[Y];
for(var u in K)if(u!="Font")o.W$[u]=K[u];ii.CQ(o,this.a9N[K.Font].Name);console.log(o);var X=new ev(y.E.M,!0);
X.data={Y:y.H.NU,EU:iD.al,qH:o};this.I(X);var X=new ev(y.E.v,!0);X.f=r.kO;X.data={Y:"updateStyles"};
this.I(X)};g4.ahj=function(c,o,K,u,X,$){var O=o==0?["Font","FontSize","FillColor"]:[],n={};for(var x=0;
x<O.length;x++)n[O[x]]=c[O[x]];if(o==0){if(n.Font!=null){var l=K[n.Font].Name;if(X[l]==null){X[l]=u.length;
u.push(K[n.Font])}n.Font=X[l]}n.FontSize=n.FontSize*$}return n};g4.prototype.H0=function(){if(!S.Kt(this.m4))return};
g4.prototype._=function(){cs.prototype._.call(this)};g4.prototype.VW=function(c,o){this.RU=c;this.b6()};
function bZ(){cs.call(this,[9,13],!1,"---panels/glyphs",cs.Bl.ag9);this.RU=null}bZ.prototype=new cs("");
bZ.prototype.Ed=function(){this.lB=new ff;this.lB.parent=this;this.agA=null;this.aez=null;this.sW=null;
this.a7P=null;this.Ww=Math.round(290*S.Sm());this.UG=45;this.agm=4;this.age=this.gd.bind(this);this.ahE=0;
this.z0=new iW(null,["Hi","Hello"]);this.z0.B(y.E.z,this.gd,this);var c=this.sf=new kz("-",null,null,!0);
c.B("click",this.ap3,this);var o=this.a6S=new kz("+",null,null,!0);o.B("click",this.ap3,this);this.hr=new aE(!1);
this.hr.B(y.E.z,this.hy,this);this.hr.n.style.height=250+"px";var K=this.UK=S.t("div","form padded");
this.m4.appendChild(K);K.appendChild(this.lB.fO.n);S.jR(K);K.appendChild(this.z0.n);K.appendChild(c.n);
K.appendChild(o.n);this.m4.appendChild(this.hr.n)};bZ.prototype._Q=function(c,o){if(this.Oc==c||this.lB==null)return;
this.Oc=c;this.Ww=Math.floor((c-13)*S.Sm());this.UK.setAttribute("style","width:"+this.Ww/S.Sm()+"px;");
this.hr.n.style.height=o-73+"px";this.gd()};bZ.prototype.hy=function(c){var o=this.at0(),K=Math.round(this.Ww/o);
o/=S.Sm();var u=this.hr.h()[0]*K*this.agm,X=this.hr.aDP();u+=Math.floor(X.y/o)*K;u+=Math.floor(X.x/o);
var $=this.sW[this.z0.h()];if(u>=$.length)return;var O=$[u],n=this.a7P[O],x=new ev(y.E.v,!0);x.f=r.kO;
if(n.TO.length==0)x.data={Y:"insertGlyph",b:u+1};else x.data={Y:"insertText",b:String.fromCodePoint(n.TO[0])};
this.I(x)};bZ.prototype.ap3=function(c){var o=1.2;if(c.target==this.sf){if(this.UG>20)this.UG/=o}else{if(this.UG<100)this.UG*=o}this.gd()};
bZ.prototype.H0=function(){this.VW(this.RU)};bZ.prototype.VW=function(c,o){this.RU=c;if(!S.Kt(this.m4))return;
if(this.lB==null)this.Ed();this.lB.c(c.qH,c.ru,c.gv);var K=c.qH,u=K.W$.Font,x=0;if(u==null)return;var X=K.c9[u].Name;
if(this.agA==X)return;var u=c.ru.YW(X);if(u==null)return;var $=u.maxp.numGlyphs,O=this.a7P=new Array($);
for(var Y=0;Y<$;Y++)O[Y]={TO:[]};var n=Date.now(),l=new Uint8Array(1048575);for(var Y=0;Y<1048575;Y++){var N=Typr.U.codeToGlyph(u,Y);
if(N!=0&&N<$){l[Y]=1;if(O[N].TO.length==0)x++;O[N].TO.push(Y)}}var f=bZ.vO,z=[];for(var Y=0;Y<f.length;
Y++)z.push([]);for(var N=1;N<$;N++){z[0].push(N);var R=O[N].TO[0];if(R==null){continue}for(var V=1;V<f.length;
V++){var d=f[V].A0;for(var Y=0;Y<d.length;Y+=2)if(d[Y]<=R&&R<=d[Y+1]){z[V].push(N);break}}}this.sW=z;
var e=[];for(var Y=0;Y<f.length;Y++)e.push(f[Y].xq+" ("+z[Y].length+")");var p=this.z0.h();this.z0.e8(e);
this.z0.c(p);this.agA=X;this.aez=u;this.gd()};bZ.prototype.at0=function(c){var o=Math.floor(this.Ww/this.UG);
return Math.floor(this.Ww/o)};bZ.prototype.gd=function(c){if(!S.Kt(this.m4)||this.sW==null)return;var o=this.sW[this.z0.h()],K=o.length,u=this.aez,X=Typr.U,$=this.at0(),O=$,n=O*.8,x=O*.8/u.head.unitsPerEm,l=[],N=Math.floor(this.Ww/$),f=Math.ceil(K/N),z=this.agm,R=Date.now();
for(var V=0;V<f;V+=z){var d=S.t("canvas"),e=d.getContext("2d");d.width=$*N;d.height=O*z;e.fillStyle="white";
e.fillRect(0,0,N*$,O*z);for(var p=0;p<z;p++){for(var h=0;h<N;h++){var Y=o[(V+p)*N+h];if(Y==null)break;
var E=X.glyphToPath(u,Y),q=a.A.jl(E.crds);e.fillStyle="#252525";if(q.SR()){var Z=u.hmtx,v=[],U=170;for(var W in Z)v.push(W);
var D=Z[v[0]][Y],I=Z[v[1]][Y],A=Math.max(D,I);E={cmds:"M L M L M L".split(" "),crds:[0,0,A,0,0,-U,0,U,A,-U,A,U]};
q.m=A;q.x=0;e.strokeStyle="rgba(0,255,0,1)"}e.beginPath();var w=h*$+($-q.m*x)*.5-q.x*x,t=p*O+n;e.translate(w,t);
e.scale(x,-x);X.pathToContext(E,e);e.scale(1/x,-1/x);e.translate(-w,-t);q.SR()?e.stroke():e.fill()}}e.beginPath();
for(var h=0;h<N;h++){var L=h*$+$+.5;e.moveTo(L,0);e.lineTo(L,O*z)}for(var p=0;p<z;p++){var J=p*O+O+.5;
e.moveTo(0,J);e.lineTo(N*$,J)}e.strokeStyle="rgba(0,0,0,0.3)";e.stroke();l.push(d)}this.hr.od(l,null,$*N,O*z)};
bZ.vO=[{xq:"All Glyphs"},{xq:"Basic Latin, Latin 1",A0:[0,127,128,143]},{xq:"Latin Extended-A",A0:[256,383]},{xq:"Latin Extended-B",A0:[384,591]},{xq:"Punctuations",A0:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{xq:"Greek",A0:[880,1023]},{xq:"Cyrillic",A0:[1024,1279]},{xq:"Hebrew",A0:[1424,1535]},{xq:"Arabic",A0:[1536,1791]},{xq:"Emoji",A0:[9728,10095,127744,129535]}];
function cK(){cs.call(this,[13,0],!1,null,cs.Bl.Mn);this.Wh=0;this.ahn=0;this.RU=null}cK.prototype=new cs("");
cK.prototype.Ed=function(){if(!S.Kt(this.m4)||this.dq)return;var c=S.t("div","flexrow padded");this.m4.appendChild(c);
var o=S.t("div");c.appendChild(o);this.dq=[];for(var Y=0;Y<2;Y++){var K=new hv;this.dq.push(K);K.B("click",this.ahL,this);
o.appendChild(K.n)}this.gl=new jU(192);console.log("hsb picker");this.gl.B(y.E.z,this.Q5,this);this.Td=new fH;
this.Td.parent=this;c.appendChild(this.gl.n);this.VW(this.RU,iD.Vk)};cK.prototype.ahL=function(c){var o=c.currentTarget,K=this.dq.indexOf(o);
if(K==this.Wh){this.Td.E4(K)}else{this.Wh=K;this.gd()}};cK.prototype.Q5=function(c){var o=this.gl.h();
this.gl.c(o);var K=Math.round(o.Z*255)<<16|Math.round(o.r*255)<<8|Math.round(o.J*255),u=new ev(y.E.M,!0);
u.data={Y:y.H.NU,EU:iD.Mn,D$:this.Wh,b:K};this.I(u);this.ahn=Date.now()};cK.prototype.gd=function(){if(this.Td==null)return;
var c=this.RU,o=this.Wh,K=[c.V5,c.th];for(var Y=0;Y<2;Y++){var u=this.dq[Y],X=u.n.style;u.fV(K[Y]);if(Y==o)X.filter="drop-shadow(0 0 1px #000000)"}var $=K[o];
if(Date.now()-this.ahn>100)this.gl.c({Z:($>>>16)/255,r:($>>>8&255)/255,J:($&255)/255})};cK.prototype.VW=function(c,o){this.RU=c;
if(this.Td==null)return;if(o==iD.Vk||o==iD.Mn){this.Td.agO(c.V5,c.th);this.gd()}};cK.prototype.kX=function(){this.Ed()};
cK.prototype.H0=function(){this.Ed();this.gd()};function gO(){cs.call(this,"CSS",!1,"---panels/css",cs.Bl.CSS);
this.Cv=null;var c=S.t("div","padded");this.m4.appendChild(c);this.Z9=S.t("textarea");S.E0(this.Z9);
c.appendChild(this.Z9)}gO.prototype=new cs("");gO.prototype._Q=function(c,o){if(this.Oc==c)return;this.Oc=c;
this.Z9.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(c-10)+"px; height:"+(o-10)+"px")};
gO.prototype.kX=function(c){this.Cv=c;this.gd()};gO.prototype.VW=function(c,o){if(o==iD.gk)this.gd()};
gO.prototype.gd=function(){var c=this.Cv;if(c==null||c.g.length==0)return;if(!S.Kt(this.m4))return;var o=c.s[c.g[0]],K=CSS.av2(o,c);
if(K.length!=0)this.Z9.value=K.join(";\n")+";";else this.Z9.value=""};gO.prototype.H0=function(){this.gd()};
function dw(){cs.call(this,"Text to Image",!1,null,cs.Bl.axN);this.Cv=null;var c=this.aaF=S.t("div","form padded labfxd");
this.m4.appendChild(c);this.arl=["512x512","1024x1024"];this.eq=0;this.Yp={};this.jB=[];this.cL=[];this.qu=null;
var o=["API Key","Generate"],K=this.zU=[[new dV("Stable Diffusion"),new hE(null,["Our key","Your own key"]),new fi],[new fi("Prompt",null,null,4),new fA("Inpaint the selection"),new kz([12,49],!0,null,!0)]];
K[1][0].c("goat riding a bike");for(var Y=0;Y<2;Y++){var u=new kz(o[Y]);this.jB.push(u);c.appendChild(u.n);
u.B("click",this.alY,this);var X=S.t("div");this.cL.push(X);var $=K[Y];for(var O=0;O<$.length;O++){$[O].parent=this;
X.appendChild($[O].n);if(Y==0)$[O].B(y.E.z,this.arw,this);if(Y==1&&O==2)$[O].B("click",this.aCq,this)}}S.sv(c);
this.Aw=S.t("div");c.appendChild(this.Aw);this.Wl=S.t("div","scrollable");this.cL[1].appendChild(this.Wl);
var n=window.locStor.getItem("dezgo_api_key");if(n){n=n.split(",");K[0][1].c(parseInt(n[0]));K[0][2].c(n[1])}else K[0][2].c("your_api_key");
this.arw();this.alY(null,1);dw.aeF=dw.prototype.ayO.bind(this)}dw.prototype=new cs("");dw.prototype.aCq=function(){var c=this.zU,o=c[0],K=c[1],u=o[1].h()==0,X=o[2].h().trim(),$=K[0].h().trim(),O=K[1].h(),n=dw.a6y(u,X,$,O?this.Cv:null);
if(n==1)S.SZ(this.m4,"disabled")};dw.aeF=null;dw.D0=0;dw.a1v=null;dw.XZ=function(c){if(!ar.Is()){var o=Math.round((Date.now()-dw.D0)/1e3),K=0;
if(o<K){window.confirm("Wait "+(K-o)+" seconds or get a Premium account for the unlimited access. Or enter your own API Key.");
return!1}}if(c&&dw.ye(c)==null){alert("Your area is too big, we support only smaller areas.");return!1}return!0};
dw.ye=function(c){var o=c.s[c.g[0]].rect,K=c.u.rect.ar(o),$=7;if(K.P()>1024*1024)return null;var u=K.P()>512*512,X=512*512;
if(u){X=1024*1024;$=15}while(!0){var O=K.clone();O.JG(1,1);O=O.ar(o);if(O.P()>K.P()&&O.P()<=X)K=O;else break}var n=K.m&$;
K.m-=n;K.x+=n>>>1;var x=K.e&$;K.e-=x;K.y+=x>>>1;return K};dw.a6y=function(c,o,K,u,X,$){if(!navigator.onLine){alert("Get online to use this feature.");
return}if(c&&!dw.XZ())return;var O=u?dw.ye(u).P()>512*512:!0,n,x,l=JSON.parse(d0.Bv("l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@59)-:68@@CUVOXZN[ch\\goxf</<5*.}\"/+-558JKDMOCxI}O('+lw$1*s#&%+TLO%73Z48P@KlETUyo|uk_ut5ovmvw7D=(05)4<E=EA^kdOWUcQ^e\\ef&3,zq'\"x&-$-.MZS-d~C[KVv8UlwV")),N=d0.Bv("UYqalMih`cpkf~knry{,$2(:3.A48@BEXG^QPdeicnahzzqu'(\" %5&(.5G4KP>GV[[MOUkm]acll|"),f={};
f[l[11]]=c?N:o;var z={};z[l[0]]=K;z[l[1]]=O?2:1;z[l[2]]=30;z[l[3]]=u?l[4]:l[5];if($)for(var R in $)z[R]=$[R];
var V=l[6]+(u==null?l[7]:l[8]),d=new XMLHttpRequest;d.open("POST",V,!0);for(var e in f)d.setRequestHeader(e,f[e]);
if(X==null)X=dw.aeF;d.onload=X;d.responseType="arraybuffer";if(u==null){d.setRequestHeader("content-type","application/x-www-form-urlencoded");
var p=[];for(var R in z)p.push(encodeURIComponent(R)+"="+encodeURIComponent(z[R]));d.send(p.join("&"));
n=x=512}else{var h=dw.ye(u),E=u.s[u.g[0]],q=u.u,Z=a.R(h.P()*4);a.Ui(E.buffer,E.rect,Z,h);var v=a.R(h.P());
a.qv(q.channel,q.rect,v,h);if(O){console.log("downscaling");var W=a.KP(Z,h);Z=W.PX;var D=a.Vw(v,h);v=D.PX;
h=D.rect}var I=UPNG.encode([Z.buffer],h.m,h.e);a.round(v);var A=a.R(h.P()*4);A.fill(255);a.oe(v,A);var U=UPNG.encode([A.buffer],h.m,h.e,null,null,null,!0),w=new FormData;
w.append(l[9],new Blob([I],{type:"image/png"}));w.append(l[10],new Blob([U],{type:"image/png"}));for(var R in z)w.append(R,z[R]);
d.send(w);n=h.m;x=h.e}dw.a1v=[n,x,O,c];return 1};dw.Or=function(c){dw.D0=Date.now();var o=this.a1v,K=o[0],u=o[1],X=o[2],$=o[3],n=30;
if(!$)return;var O=ar.Is()?"Premium":"Free",x=Math.max(K*u,512*512),l=(x*6849e-9-1.133)*Math.max(n,10);
if(X==2)l+=x*49278e-9;for(var Y=0;Y<l;Y++)ar.event("dez"+"go_De"+"zgo "+O+(c?" "+c:""))};dw.prototype.ayO=function(c){var o=this.zU;
S.MG(this.m4,"disabled");var K={created:Math.round(Date.now()/1e3),data:[{b64_json:c5.c1(c.target.response)}]},u=this.Yp,X=o[1][0].h().trim();
if(u[X]==null)u[X]=[];u[X].push(K);dw.Or();this.gd()};dw.prototype.arw=function(c){var o=this.zU,K=[o[0][1].h(),o[0][2].h().trim()];
window.locStor.setItem("dez"+"go_ap"+"i_key",K.join(","));o[0][2].WR(K[0]==1)};dw.prototype.alY=function(c,Y){S._a(this.Aw);
if(Y==null)Y=this.jB.indexOf(c.target);for(var o=0;o<2;o++)this.jB[o].c(o==Y);this.Aw.appendChild(this.cL[Y])};
dw.prototype._Q=function(c,o){if(this.Oc==c)return;this.Oc=c;this.aaF.style.width=c-16+"px";this.Wl.style.height=o-190+"px"};
dw.prototype.kX=function(c,o){this.Cv=c;if(c)this.eq=o.indexOf(c);this.gd()};dw.prototype.VW=function(c,o){};
dw.prototype._=function(c,o){cs.prototype._.call(this);var K=this.zU,X=" target=\"_blank\" style=\"color:inherit;\">";
for(var Y=0;Y<2;Y++){this.jB[Y]._();for(var u=0;u<K[Y].length;u++)this.zU[Y][u]._()}K[0][0].n.innerHTML="Stable Diffusion"};
dw.prototype.gd=function(){var c=this.Wl,o=this.Yp;S._a(c);var K=[];for(var u in o){o[u].sort(function(R,V){return V.created-R.created});
K.push([u,o[u]])}K.sort(function(R,V){return V[1][0].created-R[1][0].created});var X=this.asI.bind(this),$=this.qu=[[],[]];
for(var Y=0;Y<K.length;Y++){var u=K[Y][0],O=K[Y][1],n=S.t("div");n.textContent=u;c.appendChild(n);for(var x=0;
x<O.length;x++){var l=O[x].data;for(var N=0;N<l.length;N++){var f=l[N].b64_json,z=S.t("img");z.setAttribute("src","data:image/png;base64,"+f);
z.onclick=X;z.style.width=128/S.Sm()+"px";z.style.marginRight="4px";z.style.cursor="pointer";c.appendChild(z);
$[0].push(z);$[1].push(l[N])}}}};dw.prototype.asI=function(c){var Y=this.qu[0].indexOf(c.target),o=this.qu[1][Y].b64_json,K=c5.sT(o);
fn.Di({url:"file",eq:this.eq},K,this)};dw.prototype.H0=function(){this.gd()};function aH(){cs.call(this,[9,6],!1,"---panels/info",cs.Bl.amP);
this.m4.setAttribute("style","min-width:240px;");this.Cv=null;this.RU=null;this.DO=null;var c=this.pb=[];
for(var o=0;o<3;o++){var K=S.t("div","marged row");this.m4.appendChild(K);var u=S.t("div","cell");u.setAttribute("style","width:10em");
K.appendChild(u);var X=S.t("div","cell");X.setAttribute("style","width:10em");K.appendChild(X);var $=[8,4,3][o];
for(var Y=0;Y<$;Y++){var O=new dV("");c.push(O);O.c(0);O.n.style.padding="0";var n=Y<(o==1?2:4)?u:X;
n.appendChild(O.n);S.jR(n)}if(o<2)S.sv(this.m4)}this.yo=c[8];this.o2=c[9];this.mg=c[10];this.Cx=c[11];
S.sv(this.m4);this.DO=S.t("div");this.DO.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.m4.appendChild(this.DO)}aH.prototype=new cs("");aH.prototype.Xo=function(c,o,K,u,X){if(!S.Kt(this.m4)||c==null)return;
var $=c.Q.FT(X.x,X.y),O=new kn(Math.floor($.x),Math.floor($.y));if(!X.dm){var n=0,x=0,l=0,N=0,f=this.pb;
if(!X.dm&&!c.a89()&&new ez(0,0,c.m-1,c.e-1).Y3(O)){var z=c.i9(),Y=c.m*O.y+O.x<<2;n=z[Y+0];x=z[Y+1];l=z[Y+2];
N=z[Y+3]}var R=a.S4([n/255,x/255,l/255]);f[0].c("R: "+n);f[1].c("G: "+x);f[2].c("B: "+l);f[3].c("A: "+N);
f[4].c("C: "+Math.round(R[0]*100)+"%");f[5].c("M: "+Math.round(R[1]*100)+"%");f[6].c("Y: "+Math.round(R[2]*100)+"%");
f[7].c("K: "+Math.round(R[3]*100)+"%");var V=a.a3K(n,x,l);f[12].c("H: "+Math.round(V.s_*360)+"\xB0");
f[13].c("S: "+Math.round(V.Z0*100)+"%");f[14].c("B: "+Math.round(V.J*100/255)+"%")}var d=c.Q.U>1?new kn($.x,$.y):O;
this.yo.c("X: "+a.Pj.IL(d.x,c.$M,K,c.m));this.o2.c("Y: "+a.Pj.IL(d.y,c.$M,K,c.e));this.Uh()};aH.prototype.Uh=function(){var c=this.Cv,o=this.RU,K=0,u=0;
if(c&&o){if(c.Q.cI){K=c.Q.cI.m;u=c.Q.cI.e}else if(c.u){K=c.u.rect.m;u=c.u.rect.e}K=a.Pj.IL(Math.abs(K),c.$M,o,c.m);
u=a.Pj.IL(Math.abs(u),c.$M,o,c.e)}this.mg.c(iV.get([12,41]).charAt(0)+": "+K);this.Cx.c(iV.get([12,42]).charAt(0)+": "+u)};
aH.prototype._=function(){cs.prototype._.call(this);this.Uh()};aH.prototype.H0=function(){this.kX(this.Cv,null,this.RU)};
aH.prototype.kX=function(c,o,K){this.Cv=c;this.RU=K;if(!S.Kt(this.m4))return;console.log("update");this.Uh();
if(c&&c.g.length!=0){var u=c.g[0],X=c.s[u],$=j7.get(X.add)!=null,O=$&&c.g[0]>0;this.DO.innerHTML="";
for(var Y=0;Y<c.Lm.length;Y++){var n=c.Lm[Y],X=c.Q.dV(n.x,n.y),x=r.am.Uf(c,X,1,O?1:2),l={Z:x>>>16&255,r:x>>>8&255,J:x&255},d="<span style=\"display:inline-block; width:25px; text-align:right\">",e="</span>";
if(O){var N=c.g[0];c.g[0]=u-1;var f=r.am.Uf(c,X,1,1),z={Z:f>>>16&255,r:f>>>8&255,J:f&255};c.g[0]=N}var R=S.t("div");
R.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var V="<b>#"+(Y+1)+"</b>",p=[l.Z,l.r,l.J],h=O?[z.Z,z.r,z.J]:null,E=["R","G","B"];
for(var q=0;q<3;q++)V+="<br/>"+d+E[q]+e+": "+(O?d+h[q]+e+" /":"")+d+p[q]+e;R.innerHTML=V;this.DO.appendChild(R)}}};
function he(){cs.call(this,[9,1],!1,"---panels/layers",cs.Bl.KX);this.XG=null;this.fs=[];this.ff=null;
this.NX=null;this.mI=S.t("div","lphead");this.oX=S.t("div","lpbody scrollable");this.oX.addEventListener("scroll",this.ayt.bind(this),!1);
this.V_=S.t("div","lpfoot");var c=this.alG=S.t("span");c.setAttribute("style","display:inline-block; height:26px");
this.mI.appendChild(c);this.bE=new iW(null,ef.kp,ef.fc);this.bE.B(y.E.z,this.a8n,this);this.mI.appendChild(this.bE.n);
this.zN=new fI([12,0],0,100,"%",0);this.zN.B(y.E.z,this.awX,this);this.zN.parent=this;this.mI.appendChild(this.zN.n);
this.Q4=new aN([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Q4.B(y.E.z,this.a78,this);this.mI.appendChild(this.Q4.n);this.yU=new fI([12,26],0,100,"%",0);this.yU.B(y.E.z,this.ara,this);
this.yU.parent=this;this.mI.appendChild(this.yU.n);this.NB=[];this.fN();this.m4.appendChild(this.mI);
this.m4.appendChild(this.oX);this.oX.addEventListener("dragover",function(X){X.preventDefault()},!1);
this.oX.addEventListener("dragenter",S.GB,!1);this.oX.addEventListener("drop",this.asB.bind(this),!1);
this.m4.appendChild(this.V_);this.m4.addEventListener("contextmenu",S.GB,!1);this.B("rclick",this.axq,this);
var o=function(X,$,Y){return{zS:this.Ex[Y]==1}}.bind(this);this.aAp=new jf([{name:[0,6],w:o},{name:[14,10],w:o},{name:[6,57,2],w:o,ql:!0},{name:"Long-tap as a right click",w:o,ql:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",w:function(){return{zS:km.y2==0,w:!0}}},{name:"Thumbnails by Document",w:function(){return{zS:km.y2==1,w:!0}}}]);
this.aAp.B("select",this.a1A,this);this.Ex=[0,1,1,0];var K=window.locStor;if(K){var u=K.getItem("lpOpt");
if(u){u=JSON.parse(u);this.Ex=u[0];km.hm=u[1];km.y2=u[2]}}this.a1A()}he.prototype=new cs("");he.prototype.FX=function(){if(this.aq4)return;
var c=es.ae(!0),o=es.sw(!0);this.aq4=new jf(c,o);var c=[{name:[14,10]},{name:[14,11],ql:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],ql:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(K){return{w:K.s[K.g[0]].add.SoLd!=null}},ql:!0},{name:[6,8],w:he.aoc},{name:[6,34],w:function(K){var u=K.s[K.g[0]];
return{w:u.add.lmfx!=null&&!u.rD()}}},{name:[6,40],ql:!0,w:function(K){var u=K.s[K.g[0]];return{w:u.add.TySh!=null}}},{name:"",ql:!0,w:function(K){var u=K.s[K.g[0]],X=u.add.TySh,$=X?X.Bz:null;
return{w:X!=null&&$.Curve==null,RS:iV.get(X&&ii.DG($)==0?[16,3,1]:[16,3,0])}}},he.a92(!1),es.ak1(),{name:[6,12,0],w:function(K){var u=K==null?0:K.g.length;
return{w:u!=0&&(u!=1||K.g[0]!=0),RS:iV.get(u>1||u==1&&K.s[K.g[0]].rD()?[6,12,0]:[6,10])}}},{name:[6,12,1],ql:!0},{name:[13,0],sub:function(){var K=[];
for(var Y=0;Y<cw.M2.length;Y++)K.push({name:[13,1,Y],nS:"#"+a.On(cw.M2[Y])});return K}()}],o=[{K:y.E.M,C:{Y:y.H.Vl,n9:"layerstyle"}},{K:y.E.v,f:r.TN,C:{Y:"fromlayer",Yg:[null,0,0]}},{K:y.E.v,f:r.KX,C:{Y:gU.vi}},{K:y.E.M,C:{Y:y.H.Vl,n9:"duplinto"}},{K:y.E.v,f:r.KX,C:{Y:gU.Zv}},{K:y.E.XV,C:{ST:"newPlacedLayer"}},{K:y.E.v,f:r.KX,C:{Y:gU.LX}},{K:y.E.XV,C:{ST:"rasterizeLayer",sK:{classID:"rasterizeLayer",null:a5.Vs("Lyr",!0)}}},{K:y.E.XV,C:{ST:"rasterizeLayer",sK:{classID:"rasterizeLayer",null:a5.Vs("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:y.E.v,f:r.KX,C:{Y:gU.anE}},{K:y.E.v,f:r.kO,C:{Y:"switchPntPrgr"}},{K:y.E.v,f:r.KX,C:{Y:gU.Ru}},es.aqu(),{K:y.E.XV,C:{ST:"mergeLayersNew",sK:{__name:"Merge Layers",classID:"Mrg2"}}},{K:y.E.XV,C:{ST:"flattenImage"}},{sub:function(){var K=[];
for(var Y=0;Y<8;Y++)K.push({K:y.E.v,f:r.KX,C:{Y:gU.ka,avf:Y}});return K}()}];this.D8=new jf(c,o);var c=[{name:[6,45],w:function(K){var u=K.s[K.g[0]];
return{w:u.$a(K).F==null}}},{name:[6,47]}],o=[{K:y.E.v,f:r.KX,C:{Y:gU.HB}},{K:y.E.v,f:r.KX,C:{Y:gU.yT}}];
this.aAu=new jf(c,o);var c=[{name:"enab/disab",w:function(K){return{RS:iV.get(K.s[K.g[0]].wD().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(K){return{w:K.n_(!1,!0)}}}],o=[{K:y.E.v,f:r.KX,C:{Y:gU.H_}},{K:y.E.v,f:r.KX,C:{Y:gU.rP}},{K:y.E.v,f:r.KX,C:{Y:gU._t}}];
this.aBL=new jf(c,o);var c=[{name:"enab/disab",w:function(K){return{RS:iV.get(K.s[K.g[0]].$a(K).F.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],o=[{K:y.E.v,f:r.KX,C:{Y:gU.DZ}},{K:y.E.v,f:r.KX,C:{Y:gU.Eu}}];
this.alQ=new jf(c,o);var c=[{name:"enab/disab",w:function(K){return{RS:iV.get(K.s[K.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],o=[{K:y.E.v,f:r.KX,C:{Y:gU.fX}},{K:y.E.v,f:r.KX,C:{Y:gU.Og}},{K:y.E.v,f:r.KX,C:{Y:gU.uu}}];
this.azf=new jf(c,o);this.a5J=new jf(es.aB3(!0),es.Xw(!0));this.aBm=new jf(es.ae(),es.sw())};he.prototype.ayt=function(c){var o=this.oX.scrollTop-600;
for(var Y=0;Y<this.fs.length;Y++){var K=this.fs[Y],u=K.CE;if(o<K.CE)K.avU();if(K.CE>o+this.s_+600)break}};
he.prototype.l_=function(){return this.aAp};he.prototype.a1A=function(c){var o=this.Ex;if(c){var K=c.target.rC(),Y=K[0];
if(Y<4)o[Y]=1-o[Y];else if(Y<6){if(Y==4&&km.hm-10>=10)km.hm-=10;if(Y==5&&km.hm+10<=200)km.hm+=10;if(this.ff)this.ff.rH=!0}else{if(Y==6)km.y2=0;
if(Y==7)km.y2=1;if(this.ff)this.ff.rH=!0}var u=window.locStor;if(u)u.setItem("lpOpt",JSON.stringify([o,km.hm,km.y2]))}if(o[0]==1)this.a5Y();
var X=[[{n:this.alG}],[this.bE,this.zN],[this.Q4,this.yU]];for(var Y=0;Y<3;Y++)for(var $=0;$<X[Y].length;
$++)X[Y][$].n.style.display=o[Y]==1?"inline-block":"none";this._Q(this.Oc,this.s_)};he.prototype.an7=function(){var c=this.MR;
if(c==null)return!1;if(c.h()){var o=this.UM.h(),K=this.T5[o].h();if(o==0)return K.indexOf(!0)!=-1;if(o==1)return K!=""}return!1};
he.a92=function(c){var o=function(u){var X=u!=null&&u.g.length!=0&&u.s[u.g[0]].xQ;return{zS:X,w:u!=null&&u.eu(u.g[0]),C:{K:y.E.XV,C:{ST:X?"ungroup":"groupEvent",sK:{classID:X?"Ungr":"GrpL",null:a5.Vs("Lyr",!0)}}}}},K={name:[6,6,0],ql:!0,w:o};
if(c)K.rh=[d2.u6,d2.vm,d2.U6];return K};he.aoc=function(c,o){if(c)for(var Y=0;Y<c.g.length;Y++){var K=c.s[c.g[Y]];
if(K.add.TySh||K.add.SoLd||K.add.SoCo||K.add.GdFl||K.add.PtFl)return{w:!0}}return{w:!1}};he.prototype.asB=function(c){S.GB(c);
var o=c.dataTransfer.getData("Text"),K=1,u=0;if(o==""){S.JS(c,this,this.NX.indexOf(this.ff),u+(K>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),X=o.RL;
if(X=="l")this.ux({Y:gU.BF,source:o.vv,target:u,iM:K})}};he.prototype.axq=function(c){var o=this.ff,K=c.data,X;
if(o.g.indexOf(K.l)==-1){var u={Y:gU.rg,l:c.target.kI.index,VZ:K.Xx};this.ux(u)}if(o.g.indexOf(K.l)==-1)return;
this.FX();if(K.Xx==1){X=this.aBL}else if(K.Xx==2){X=this.azf}else if(K.Xx==3){X=this.alQ}else if(K.Xx==4){X=this.aAu}else if(K.Xx==5){X=this.aq4}else{X=this.D8}X._();
X.update(o);X.parent=this;var $=new ev(y.E.M,!0);$.data={Y:y.H.B2,KH:X,x:K.RT.x+1,y:K.RT.y+1};this.I($)};
he.prototype._=function(){cs.prototype._.call(this);this.bE._();this.zN._();this.Q4._();this.yU._();
if(this.MR){this.MR._();this.T5[0]._()}if(this.ff)this.kX(this.ff);var c="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var Y=0;Y<this.NB.length;Y++){var o=this.NB[Y];o.ro(S.RD(c[Y],null,"miniscale"));if(Y==1||Y==3){o.n.style.position="relative";
var K=S.t("img","gsicon");K.setAttribute("src",PIMG["tools/corner"]);K.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
o.n.appendChild(K)}}};he.prototype.kX=function(c,o){if(c&&!c.rH)return;if(c==null)S.SZ(this.m4,"disabled");
else S.MG(this.m4,"disabled");this.ff=c;this.NX=o;if(this.XG!=null){S._a(this.oX);this.XG=null;this.fs=[]}if(c==null)return;
var K=!1;for(var Y=0;Y<c.lr.length;Y++)if(c.lr[Y].nd)K=!0;this.XG=new cw(c.root,this,c,{A8:0,B3:!1},{aBi:K,ag0:this.an7()},this.fs,0,new ez(0,0,c.m,c.e));
if(c.g.length==0||c.s[c.g[0]]==null)S.SZ(this.mI,"disabled");else{S.MG(this.mI,"disabled");if(c.g.length==1&&c.ZL){var u=c.g[0];
for(var Y=0;Y<this.fs.length;Y++){var X=this.fs[Y];if(X.kI.index==u&&X.mI.scrollIntoView)X.mI.scrollIntoView({block:"nearest"})}}var $=c.s[c.g[0]];
if($.rD()){this.bE.e8([[15,10,27]].concat(ef.kp),[1].concat(ef.fc));var O=ef.oj.indexOf($.Mh);this.bE.c(O+1)}else{this.bE.e8(ef.kp,ef.fc);
var O=ef.oj.indexOf($.Mh);this.bE.c(O)}this.zN.c(Math.round(100*$.opacity/255));this.Q4.c([$.wu(0),$.wu(1),$.wu(2),$.wu(31)]);
var n=c.US();this.bE.WR(!n);this.yU.WR(!n);this.zN.WR(!n);this.Q4.WR(!(n&&!$.wu(31)));this.yU.c(Math.round(100*($.add.iOpa!=null?$.add.iOpa/255:1)));
this.NB[2].a18(iV.get($.wD()?[6,23]:[6,21]))}this.ayt(null)};he.prototype._Q=function(c,o){this.Oc=c;
this.s_=o;var K=this.mI.getBoundingClientRect().height;if(55<K&&K<56)K=60.2;var u=this.V_.getBoundingClientRect().height,X=o-(K+u+3);
this.oX.style.height=X+"px";this.oX.style.width=c+"px"};he.prototype.a8n=function(c){this.ux({Y:gU.f3,qU:this.bE.h()})};
he.prototype.awX=function(c){this.ux({Y:gU.qp,qU:Math.round(255*this.zN.h()/100)})};he.prototype.a78=function(c){this.ux({Y:gU.Ej,qU:[this.Q4.h(),[0,1,2,31]]})};
he.prototype.ara=function(c){this.ux({Y:gU.R_,qU:Math.round(255*this.yU.h()/100)})};he.prototype.mY=function(c){if(c.target==this.UM)this.a5Y();
var o=this.MR.h();if(o)S.MG(this.mm,"disabled");else S.SZ(this.mm,"disabled");this._();this.ff.rH=!0;
this.kX(this.ff);this.ff.rH=!1};he.prototype.a5Y=function(){var c=this.mm;if(c==null){var o=this.alG,K=this.MR=new fA([0,6]);
K.B(y.E.z,this.mY,this);o.appendChild(K.n);c=this.mm=S.t("span","disabled");o.appendChild(c);this.UM=new iW(null,["Kind",[12,48]],[]);
this.UM.B(y.E.z,this.mY,this);var u=this.T5=[new aN(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new fi(null,null,8)];
u[0].B(y.E.z,this.mY,this);u[1].B("input",this.mY,this)}S._a(c);c.appendChild(this.UM.n);c.appendChild(this.T5[this.UM.h()].n)};
he.prototype.amD=function(c){this.FX();this.axt(c,this.a5J)};he.prototype.at4=function(c){this.FX();
this.axt(c,this.aBm)};he.prototype.axt=function(c,o){var K=c.currentTarget;if(S.Kt(o.n))return;c.stopPropagation();
var u=K.getBoundingClientRect();o._();o.update(this.ff);o.parent=this;var X=new ev(y.E.M,!0);X.data={Y:y.H.B2,KH:o,x:u.left,y:u.top,amj:!0};
this.I(X)};he.prototype.ai6=function(c){this.ux({Y:gU.ah0})};he.prototype.a5W=function(c){this.ux({Y:this.ff.g.length>1?gU.ub:gU.w$})};
he.prototype.aky=function(c){this.ux({Y:gU.SA})};he.prototype.aCP=function(c){var o=this.ff;if(o.g.length==0)return;
var K=o.s[o.g[0]],u=K.Xx;this.ux({Y:u<=0?K.NR?gU.Og:gU.Zv:u==3?gU.Eu:gU.rP})};he.prototype.a28=function(c){this.ux({Y:gU.sd})};
he.prototype.ux=function(c){var o=new ev(y.E.v,!0);o.data=c;o.f=r.KX;this.I(o)};he.prototype.fN=function(){var c=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],o=[this.a28,this.at4,this.ai6,this.amD,this.a5W,this.aky,this.aCP],K=this.apI.bind(this);
for(var Y=0;Y<c.length;Y++){var u=new kz("W",!1,c[Y]);this.NB.push(u);S.pI(u.n,o[Y].bind(this));this.V_.appendChild(u.n);
if(Y>=c.length-3){var X=u.n;X.addEventListener("drop",K,!1);X.addEventListener("dragover",function($){$.preventDefault()},!1);
X.addEventListener("dragenter",S.GB,!1)}}};he.prototype.apI=function(c){S.GB(c);var o=0,K=this.NB;while(K[o].n!=c.currentTarget)o++;
K[o].Nv();var u=c.dataTransfer.getData("Text");if(u=="")return;var u=JSON.parse(u);if(u.RL=="l"){var X={Y:[gU.ub,gU.vi,gU.Zv][o-4]};
if(this.ff.g.indexOf(u.vv)==-1)X.l=u.vv;this.ux(X)}if(o!=6)return;if(u.RL=="sm"||u.RL=="s"){var $=new ev(y.E.v,!0);
$.f=r.rU;$.data={Y:u.RL=="sm"?"st_clear":"st_delsingle",l:u.vv,vv:u.uv};this.I($)}if(u.RL=="fm"||u.RL=="f"){this.ux({Y:u.RL=="fm"?gU.yT:gU.Tg,src:u.vv,uv:u.uv})}if(u.RL=="m"||u.RL=="vm"){this.ux({Y:u.RL=="m"?gU.rP:gU.Og,l:u.vv})}};
function cw(c,o,K,u,X,$,O,n){ax.call(this);this.parent=o;this.CE=O;this.kI=c;$.push(this);this.dp=K;
this.Nq=u;var x=o.oX,l=c.l,N=K.g.indexOf(c.index)!=-1,V=null;this.mI=S.t("div",N?"head selected":"head");
if(l.add.artb!=null){S.SZ(this.mI,"artb");n=l.rA()}var f=this.aBq=Math.floor(10+l.asK/S.Sm()),z="height: "+f+"px;";
if(N&&X.aBi)z+="background-color:rgba(255,50,50,0.4);";this.mI.setAttribute("style",z);this.P0=n;var R=this.amk=this.al9.bind(this),d=X.ag0&&!this.azu();
if(!d){if(c.depth!=0){x.appendChild(this.mI);O+=f-.3}if(l.vR()||l.Fe())if(l.cy()){V=this.aob=S.t("div","lpineck");
x.appendChild(V);if(l.vR()){V.addEventListener("contextmenu",R,!1);var e=new he.x4(iV.get([12,1]),"sm","layerstyle",c.depth,0,null);
O+=21;e.parent=this;V.appendChild(e.n);var p=l.add.lmfx,h=p.masterFXSwitch.v;e.OG(h);for(var Y=0;Y<gH.order.length;
Y++){var E=p[gH.N4[Y]].v;if(E.length==0)continue;for(var q=0;q<E.length;q++){var e=new he.x4(iV.get(gH.names[Y]),"s","layerstyle",c.depth,1,[Y,q]);
O+=21;e.OG(h&&E[q].v.enab.v);e.parent=this;V.appendChild(e.n)}}}if(l.Fe()){var Z=l.$a(K).F;if(Z)this.Gw=S.t("div","thumb");
var e=new he.x4(iV.get([12,55]),"fm",null,c.depth,0,-1,Z?this.Gw:null,f);O+=Z?f:21;e.parent=this;V.appendChild(e.n);
this.avt=e.n;this.avt.addEventListener("contextmenu",R,!1);var p=l.add.SoLd.filterFX.v,v=p.filterFXList.v,h=p.enab.v;
e.OG(h);for(var Y=v.length-1;Y>=0;Y--){var W=v[Y].v,D=gZ.h4(W);if(j7.N$[D])D=j7.N$[D];var I=W.Nm.v;if(gZ.names[D])I=iV.get(gZ.names[D]);
if(j7.names[D])I=iV.get(j7.names[D]);var A="afw_"+D,e=new he.x4(I,"f",A,c.depth,1,Y);O+=21;e.OG(h&&W.enab.v);
e.parent=this;V.appendChild(e.n)}}}}var U=l.add.lclr;if(U==null)U=0;U=U==0?u.A8:cw.M2[U];this.a2S=U;
if(l.rD()&&(l.add.lsct==aj.cD||X.ag0)){var w={A8:U,B3:u.B3||l.wu(31)};for(var Y=c.children.length-1;
Y>=0;Y--){var t=new cw(c.children[Y],o,K,w,X,$,O,n);O=t.auL}}this.auL=O}cw.prototype=new ax;cw.M2=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
cw.prototype.avU=function(){if(this.Bc)return;var c=this.kI,o=c.l,K=this.dp,u=this.Nq,f=!0,w=!1;c.Zq(K,this.P0,!0);
var X=S.t("div","headL"),$=S.t("div","headR");this.mI.appendChild(X);this.mI.appendChild($);var O=this.mI;
O.setAttribute("draggable","true");O.addEventListener("dragstart",this.HT.bind(this),!1);O.addEventListener("drop",this.qa.bind(this),!1);
O.addEventListener("dragover",this.cw.bind(this),!1);O.addEventListener("dragenter",S.GB,!1);O.addEventListener("dragleave",this.Hi.bind(this),!1);
var n=[],x=[null,null,null,null],l=o.IT(),N=c;while(N.parent){N=N.parent;l=l&&N.l.IT()}if(o.xQ){for(var Y=c.index-1;
Y>=0;Y--){var z=K.s[Y];if(!z.xQ){f=z.IT();break}}}var R=o.IT()?l&&f?2:1:0;this.Bc=S.t("div");var V=S.t("div",R==0?"sqr":"eye");
this.Bc.appendChild(V);V.style.opacity=[.12,.33,1][R];var d=S.t("div","space");this.jQ=S.t("div","label");
this.jQ.setAttribute("style","max-width:calc(100% - "+(96+c.depth*20)+"px); margin-top:"+(this.aBq-19)/2+"px;"+(o.lH?"text-decoration:underline;":""));
this.jQ.textContent=o.getName();this.GJ=S.t("div","lock");this.acA=S.t("div","lrfx");this.ZA=S.t("div","arfx");
var e=this.amk,p=this.a1E.bind(this);this.mI.addEventListener("click",p,!1);this.mI.addEventListener("contextmenu",e,!1);
var h=this.a2S;if(h!=0){var E=[h>>16,h>>8&255,h&255];for(var Y=0;Y<3;Y++){E[Y]="calc("+E[Y]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.Bc.setAttribute("style","background-color:rgba("+E.join(",")+",1);")}var q=this.afI.bind(this);
this.Bc.addEventListener("mousedown",q,!1);this.Bc.addEventListener("mouseover",q,!1);this.ZA.addEventListener("click",this.aDU.bind(this),!1);
n[0]=this.Bc;n[1]=d;n[10]=this.jQ;if(o.rD()){var Z=S.t("div","arrow"),v=S.t("div","folder");this.Ns(v);
Z.addEventListener("click",this.a0b.bind(this),!1);n[2]=Z;n[3]=v;Z.className=o.add.lsct==aj.cD?"open":"closed"}else{this.Th=S.t("div","thumb");
n[5]=this.Th;cw.ca(this.Th,o.Jp);this.Ns(this.Th);if(j7.get(o.add))S.SZ(o.Jp.canvas,"gsicon")}var W=o.wD();
if(W){this.m$=S.t("div","chain");this.zg=S.t("div","thumb");cw.ca(this.zg,o._Z,!0);this.m$.style.opacity=W.lS?1:0;
this.m$.addEventListener("click",this.aB9.bind(this),!1)}var D=o.NL()&&o.add.vmsk;if(o.add.vmsk&&!D){this.f4=S.t("div","chain");
this.Gg=S.t("div","thumb");cw.ca(this.Gg,o.gr,!0);this.f4.style.opacity=o.add.vmsk.lS?1:0;this.f4.addEventListener("click",this.ayo.bind(this),!1)}if(o.Fe()&&o.cy()&&o.$a(K).F){cw.ca(this.Gw,o.p8,!1);
this.Ns(this.Gw);this.Gw.addEventListener("click",p,!1);this.Gw.addEventListener("contextmenu",e,!1)}if(c.index==K.g[0]){var I=o.Xx,A;
if(I<=0)A=this.Th;else if(I==1)A=this.zg;else if(I==3)A=this.Gw;if(A)A.className="thumb active";if(o.NR&&this.Gg)this.Gg.className="thumb active"}d.setAttribute("style","width:"+Math.max(0,c.depth-1)*18+"px");
var U=o.add.lspf!=null&&o.add.lspf!=0||u.B3;this.GJ.style.opacity=o.wu(31)?1:.5;n[4]=o.xQ?S.t("div","clipp"):null;
n[6]=W?this.m$:null;n[7]=W?this.zg:null;n[8]=o.add.vmsk&&!D?this.f4:null;n[9]=o.add.vmsk&&!D?this.Gg:null;
var t=o.r6,L=K.g;if(t!=0)for(var Y=0;Y<L.length;Y++)if(K.s[L[Y]].r6==t){w=!0;break}if(w){x[0]=S.t("div",o.IW?"link":"linkX");
x[0].addEventListener("click",this.aAZ.bind(this),!1)}x[1]=U?this.GJ:null;x[2]=o.vR()?this.acA:null;
x[3]=o.vR()||o.Fe()?this.ZA:null;this.ZA.className=o.cy()?"arfx open  gsicon":"arfx closed  gsicon";
var J=n;for(var Y=0;Y<J.length;Y++)if(J[Y])X.appendChild(J[Y]);J=x;for(var Y=0;Y<J.length;Y++)if(J[Y])$.appendChild(J[Y])};
cw.ca=function(c,o,K){var u=o.canvas;S.KV(u);if(K)c.setAttribute("draggable","true");c.appendChild(u);
u.setAttribute("style",u.getAttribute("style")+"; pointer-events:none")};cw.prototype.Ns=function(c){S.pI(c,function(o){if(this.parent.Ex[3]==0)return;
S.NK(o);S.K1(document.body,function(){clearTimeout(this.ajk)}.bind(this));this.ajk=setTimeout(function(){var K=new ev("rclick",!0);
K.data={l:this.kI.index,Xx:this.Xx(o),RT:S.$_(o,document.body)};this.I(K)}.bind(this),600)}.bind(this))};
cw.hg=function(c,o){var K=o.getBoundingClientRect();return(c.clientY-K.top)/K.height};cw.prototype.HT=function(c){c.stopPropagation();
var o=c.target==this.zg?"m":c.target==this.Gg?"vm":"l";c.dataTransfer.setData("Text",JSON.stringify({RL:o,vv:this.kI.index}))};
cw.prototype.Hi=function(c){S.GB(c);this.ML()};cw.prototype.qa=function(c){S.GB(c);this.ML();var o=c.dataTransfer.getData("Text"),K=this.parent.ff,u=cw.hg(c,this.mI),X=this.kI.index;
if(u>.8){var $=!0,O=K.root.g4(X);while(O.parent!=null){var n=O.parent,x=n.children;if(x.indexOf(O)!=0)$=!1;
O=O.parent}if($){X=0;u=1}}if(o==""){S.JS(c,this,this.parent.NX.indexOf(K),X+(u>.5?0:1))}else if(o!="--panel"){var o=JSON.parse(o),l=o.RL;
if(l=="l")this.ux({Y:gU.BF,source:o.vv,target:X,iM:u});else if(l=="m"||l=="vm")this.ux({Y:l=="m"?gU.aoz:gU.$g,src:o.vv,$O:X});
else cw.axd(c,o,this)}};cw.axd=function(c,o,K,u){var X=o.RL,$=K.kI.index,O=o.vv;if(X=="s"||X=="sm")K.ux({Y:gU.dg,src:O,$O:$,uv:o.uv});
if(X=="f"||X=="fm")K.ux({Y:gU.aa0,src:O,$O:$,uv:o.uv,Gv:u==null?0:u})};cw.prototype.cw=function(c){S.GB(c);
var o=cw.hg(c,this.mI),K=this.kI.l.rD()&&.5<o&&o<.8;this.ML();var u="inset 0 "+(K?0:o>.5?-3:3)+"px "+(K?"5px black":"0 rgba(0,0,0,0.5)");
this.mI.style.boxShadow=u};cw.prototype.ML=function(c){this.mI.style.boxShadow=""};cw.a1i=-1;cw.Jc=!1;
cw.aca=function(c){cw.Jc=!1;document.body.removeEventListener("mouseup",cw.aca)};cw.prototype.afI=function(c){if(c.button!=0)return;
if(c.type=="mousedown"){cw.Jc=!0;document.body.addEventListener("mouseup",cw.aca,!1)}if(c.type=="mouseover"&&(!cw.Jc||cw.a1i==this.kI.index))return;
S.GB(c);this.ux({Y:gU.pO,l:this.kI.index});cw.a1i=this.kI.index};cw.prototype.a0b=function(c){S.GB(c);
this.ux({Y:gU.amv,l:this.kI.index})};cw.prototype.aB9=function(c){this.ux({Y:gU.qJ,l:this.kI.index})};
cw.prototype.ayo=function(c){this.ux({Y:gU.EX,l:this.kI.index})};cw.OM=0;cw.prototype.Nu=function(c){this.ux({Y:gU.c6,l:this.kI.index,name:c})};
cw.prototype.aDU=function(c){this.ux({Y:gU.acN,l:this.kI.index})};cw.prototype.aAZ=function(c){this.ux({Y:gU.j_,l:this.kI.index})};
cw.prototype.al9=function(c){if(c.button!=2&&!S.aB5(c)&&!(c.ctrlKey&&d2.Cf()))return;var o=this.Xx(c);
if(o!=3&&c.currentTarget==this.avt)o=4;if(c.target==this.acA||c.currentTarget==this.aob)o=5;var K=new ev("rclick",!0);
K.data={l:this.kI.index,Xx:o,RT:S.$_(c,document.body)};this.I(K)};cw.prototype.Xx=function(c){var o=c.target,K=o;
return K==this.Gg?2:K==this.zg?1:K==this.Th?0:K==this.Gw?3:-1};cw.prototype.a1E=function(c){var o=c.target,R;
if(o==this.Bc.firstChild||o==this.ZA||o==this.m$||o==this.f4||o.tagName&&o.tagName.toLowerCase()=="input")return;
var K=this.Xx(c),u=this.parent.ff,X=this.kI.index,$=u.s[X];if(o==this.GJ){this.ux({Y:gU.Ej,l:X,qU:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var O=cw.OM,n=Date.now()-O<300;cw.OM=Date.now();if(o==this.jQ){if(n){this.mI.setAttribute("draggable","false");
var x=new cs.Fg(this.jQ,this.Nu.bind(this))}else this.ux({Y:gU.rg,l:X,VZ:K,FV:!0});return}if(c.button==0&&n){if(o==this.jQ)return;
var l=new ev(y.E.v,!0),N=new ev(y.E.M,!0),f=new ev(y.E.XV,!0);if(K==0&&$.add.SoCo){var z=a.T.h0($.add.SoCo.Clr.v);
N.data={Y:y.H.Vl,n9:"colorpicker",A8:z.Z<<16|z.r<<8|z.J,hB:function(e){var p=a.T.mv({J:e&255,r:e>>>8&255,Z:e>>16&255});
p={classID:"null",Clr:{t:"Objc",v:p}};var h=new ev(y.E.v,!0);h.f=r.KX;h.data={Y:gU.Nl,FG:[X],Y$:!0,b:{KO:1,gq:p}};
this.I(h)}.bind(this),Tq:!0}}else if(K==0&&(j7.get($.add)||$.add.SoCo||$.add.GdFl||$.add.PtFl))N.data={Y:y.H.P8,n9:cs.Bl.jY};
else if(K!=0&&K!=-1)N.data={Y:y.H.P8,n9:cs.Bl.jY};else if(K==0&&$.add.SoLd)f.data={ST:"placedLayerEditContents",sK:{classID:"placedLayerEditContents"}};
else if(K==0&&$.add.TySh){l.f=r.kO;l.data={Y:"editCurr",Qb:X}}else N.data={Y:y.H.Vl,n9:"layerstyle",l:X};
this.I(f.data?f:N.data?N:l);return}if(c.button!=0)return;if(K==1||K==3){var V=K==3?$.$a(u).F:$.wD();
R=V.nd?u.Q.O.join("")=="111"?1:2:0}var d={Y:gU.rg,l:X,VZ:K,ax7:R,FV:!0};this.ux(d)};cw.prototype.ux=function(c){var o=new ev(y.E.v,!0);
o.data=c;o.f=r.KX;this.I(o)};cw.prototype.azu=function(){var c=this.kI.l,o=c.add,K=this.parent.UM.h(),u=this.parent.T5[K].h();
if(K==0){if(u[0]&&o.SoLd==null&&o.TySh==null&&c.Dc())return!0;if(u[1]&&j7.get(o)!=null)return!0;if(u[2]&&o.TySh!=null)return!0;
if(u[3]&&o.vstk!=null)return!0;if(u[4]&&o.SoLd!=null)return!0;return!1}if(K==1)return c.getName().toLowerCase().indexOf(u.toLowerCase())!=-1};
he.x4=function(c,o,K,u,X,$,O,n){ax.call(this);this.adX=o;this.sD=K;this.index=$;this.n=S.t("div","styleitem");
this.mI=S.t("div","head");this.aB4=null;if(o=="f"){var x=this.aB4=S.t("div","headR");x.textContent="\u2699";
this.mI.appendChild(x)}this.Bc=S.t("div","eye gsicon");this.jQ=S.t("div","label");this.n.appendChild(this.mI);
this.mI.appendChild(this.Bc);if(O){this.zg=O;this.mI.appendChild(O);this.mI.setAttribute("style","height: "+n+"px")}this.jQ.innerHTML=c;
this.n.setAttribute("style","margin-left: "+(24+u*16+X*22)+"px");this.mI.appendChild(this.jQ);this.Bc.addEventListener("click",this.a6p.bind(this),!1);
var l=this.n;l.setAttribute("draggable","true");l.addEventListener("dragstart",this.HT.bind(this),!1);
if(!0){l.addEventListener("drop",this.qa.bind(this),!1);l.addEventListener("dragover",this.cw.bind(this),!1);
l.addEventListener("dragenter",S.GB,!1);l.addEventListener("dragleave",this.Hi.bind(this),!1)}this.n.addEventListener("click",this.v$.bind(this),!1)};
he.x4.prototype=new ax;he.x4.prototype.HT=function(c){c.stopPropagation();c.dataTransfer.setData("Text",JSON.stringify({RL:this.adX,vv:this.parent.kI.index,uv:this.index}))};
he.x4.prototype.Hi=function(c){S.GB(c);this.ML()};he.x4.prototype.qa=function(c){S.GB(c);this.ML();var o=c.dataTransfer.getData("Text");
if(o=="")return;var o=JSON.parse(o);cw.axd(c,o,this.parent,this.index+(cw.hg(c,this.mI)>.5?0:1))};he.x4.prototype.cw=function(c){S.GB(c);
var o=cw.hg(c,this.mI)>.5;this.ML();var K="border-"+(o?"bottom":"top");this.mI.style[K]="0.2em solid rgba(0,0,0,0.5)"};
he.x4.prototype.ML=function(c){this.mI.style.border="none"};he.x4.prototype.OG=function(c){this.Bc.style.opacity=c?1:.2};
he.x4.prototype.v$=function(c){var o=cw.OM,K=Date.now()-o<300;cw.OM=Date.now();if(c.target==this.Bc)return;
var u=this.parent.kI.index;if(K&&this.sD!=null){var u=this.parent.kI.index,X=new ev(y.E.M,!0);if(this.sD.indexOf("afw_")==0){var $=this.sD.slice(4),O=kc[$]||gZ.k[$],n=c.target==this.aB4;
if(!n&&!O)return;X.data=r.WI.aoF(n?"blendOptions":$,{l:u,index:this.index})}else X.data={Y:y.H.Vl,n9:this.sD,l:u,index:this.index};
this.I(X)}else{if(c.target.className!="thumb")this.parent.ux({Y:gU.rg,l:u,VZ:0})}};he.x4.prototype.a6p=function(c){var o={fm:gU.Ee,f:gU.Qm,sm:gU.bd,s:gU.cs}[this.adX];
this.parent.ux({Y:o,l:this.parent.kI.index,index:this.index})};function de(){cs.call(this,"Guide Guy",!1,"---panels/guideguy",cs.Bl.adZ);
this.Cv=null;this.sO=new iW(null,a.Pj.gm)}de.prototype=new cs("");de.prototype.Ed=function(){this.pb=[];
var c=S.t("div","form padded");this.m4.appendChild(c);c.setAttribute("style","width:200px");this.m4.appendChild(c);
var o=S.t("canvas"),K=o.getContext("2d");o.width=o.height=160;var u=[32,0,16,160,0,32,160,16,0,112,160,16],X="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),$=[0,0,0,0,0,0,0,0,0,0];
c.appendChild(this.sO.n);for(var Y=0;Y<10;Y++){K.clearRect(0,0,160,160);K.setTransform(1,0,0,1,80,80);
K.rotate((Y&3)*Math.PI/2);K.translate(-80,-80);K.fillStyle="rgba(0,0,0,0.3)";if(Y<4){for(var O=0;O<12;
O+=4){K.fillStyle=O==0?"#000000":"rgba(0,0,0,0.3)";K.fillRect(u[O],u[O+1],u[O+2],u[O+3])}}else if(Y<6){var n=8*6;
K.fillRect(0,0,n,160);K.fillRect(8*7,0,n,160);K.fillStyle="#000000";K.fillRect(8*14,0,n,160)}else if(Y<8){K.fillRect(0,0,16,160);
K.fillRect(160-16,0,16,160);K.fillRect(32,0,160-64,160);K.fillStyle="#000000";K.fillRect(32,80-8,160-64,8*1)}else{K.fillRect(0,0,8*7,160);
K.fillRect(8*13,0,160,160);K.fillStyle="#000000";K.fillRect(8*7,80-8,8*6,8*1)}var x="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",l=new fI(x,0,200,null,Y==4||Y==5?0:2,null,null,4,X[Y]);
l.parent=this;l.B(y.E.z,this.awI,this);l.c($[Y]);l._();this.pb.push(l);c.appendChild(l.n)}var N=[[11,14],[11,15,0]];
this.z7=[];for(var Y=0;Y<N.length;Y++){var f=new kz(N[Y],!0,null,!0);this.z7.push(f);f.B("click",this.hX,this);
c.appendChild(f.n)}for(var Y=0;Y<6;Y++){K.setTransform(1,0,0,1,80,80);K.rotate(Math.floor(Y/3)*Math.PI/2);
K.translate(-80,-80);K.clearRect(0,0,160,160);K.fillStyle="rgba(0,0,0,0.3)";K.fillRect(0,0,160,160);
K.clearRect(16,16,128,128);K.fillStyle="#000000";var z=Y%3;K.fillRect([0,9,18][z]*8,0,16,160);var x="<img src=\""+o.toDataURL()+"\" class=\"autoscale gsicon\" /> ",f=new kz(x,!1,null,!1);
this.z7.push(f);f.B("click",this.hX,this);c.appendChild(f.n)}};de.prototype._=function(){cs.prototype._.call(this);
this.sO._();if(this.pb==null)return;for(var Y=0;Y<this.z7.length;Y++)this.z7[Y]._()};de.prototype.awI=function(c){var o=this.pb,K=o.indexOf(c.target),u=Math.floor(K/2),X=K&1,$=[];
for(var Y=0;Y<4;Y++)$.push(o[2*Y+X].h());var O=-1;if(u==2&&$[2]!=0&&$[3]!=0&&$[4]!=0)O=4;if(u==3&&$[3]!=0&&$[2]!=0&&$[4]!=0)O=4;
if(u==4&&$[4]!=0&&$[2]!=0&&$[3]!=0)O=3;if(O!=-1)o[2*O+X].c(0)};de.prototype.hX=function(c){var o=this.Cv,K=this.z7.indexOf(c.target),u=[[],[]];
if(o==null)return;var X=o.u?o.u.rect:new ez(0,0,o.m,o.e),$=X.m,O=X.e;if(K==0){var n=[[],[]],x=this.sO.h();
for(var Y=0;Y<this.pb.length;Y++){var l=this.pb[Y].h();l=a.Pj.Pv(l,o.$M,o.m,x);n[Y&1].push(l)}var N=[de.abc(n[0],X.x,X.x+$),de.abc(n[1],X.y,X.y+O)];
u=de.nL(N);r.W7.KJ(u,o.Tf())}else if(K==1){}else{K-=2;var f=Math.floor(K/3),N=[[],[]];N[f].push([X.x,X.x+$/2,X.x+$,X.y,X.y+O/2,X.y+O][K]);
u=de.nL(N);r.W7.KJ(u,o.Tf())}this.aAo(u)};de.nL=function(c){var o=[],K=[];for(var u=0;u<2;u++)for(var Y=0;
Y<c[u].length;Y++){o.push([u,c[u][Y]]);K.push(-1)}return[o,K]};de.prototype.ayz=function(c){var o=this.apY.indexOf(c.target)};
de.prototype.aAo=function(c){var o=new ev(y.E.v,!0);o.f=r.DA;o.data={Y:"gids",Um:c};this.I(o)};de.abc=function(c,o,K){var u=[],X=c[2],$=c[3],O=c[4],n=0;
if(X==0)n++;if($==0)n++;if(O==0)n++;if(n>1&&X==0&&$==0){if(c[0]!=0)u.push(o+c[0]);if(c[1]!=0)u.push(K-c[1]);
return u}var x=K-o-c[0]-c[1];if(X==0){if(O==0){X=Math.floor(x/$);O=(x-X*$)/(X-1)}else{X=1;while($*X+O*(X-1)+$+O<=x)X++}}else if(X!=0&&$!=0){if(X*$>x)X=Math.floor(x/$);
O=(x-X*$)/(X-1)}u.push(o+c[0],K-c[1]);var $=(x-O*(X-1))/X;for(var Y=1;Y<X;Y++){if(O==0)u.push(o+c[0]+Y*$);
else u.push(o+c[0]+Y*$+(Y-1)*O,o+c[0]+Y*$+Y*O)}return u};de.prototype.kX=function(c,o,K){this.Cv=c};
de.prototype.H0=function(){if(S.Kt(this.m4)&&this.pb==null)this.Ed();this._()};de.prototype.VW=function(c){this.sO.c(c.RG.MF)};
function ey(){cs.call(this,[9,2],!1,"---panels/properties",cs.Bl.jY);this.apv=null;this.dp=null;this.RU=null;
this.ats=-1;this.nM=null}ey.prototype=new cs("");ey.prototype._Q=function(c,o){this.Oc=c;this.s_=o;c=c-16;
o=o-30;var K=this.nM;if(K){K.style.width=c+"px";K.style.height=o+"px";for(var Y=0;Y<3;Y++)this.Bf[Y]._Q(c-12,o)}};
ey.prototype.Ed=function(){this.nM=S.t("div","padded scrollable");this.m4.appendChild(this.nM);var c=S.t("span");
this.nM.appendChild(c);this.Md=[new kz([0,3]),new kz([12,73]),new kz([12,91,0])];for(var Y=0;Y<this.Md.length;
Y++){var o=this.Md[Y];o.B("click",this.aC$,this);c.appendChild(o.n);if(Y==2)o.n.style.marginRight="0"}this.nM.appendChild(S.t("hr"));
this.WO=new ey.lX;this.WO.parent=this;this.k1=new ey.iI;this.k1.parent=this;this.v5=new ey.CK;this.v5.parent=this;
this.Bf=[this.WO,this.k1,this.v5];this.nM.appendChild(this.WO.n);this.V_=S.t("div","lpfoot");this.m4.appendChild(this.V_);
this.NB=[];for(var Y=0;Y<3;Y++){var o=new kz("W");o.B("click",this.pG,this);this.NB.push(o);this.V_.appendChild(o.n)}this._Q(this.Oc,this.s_)};
ey.prototype.pG=function(c){var Y=this.NB.indexOf(c.target),o=new ev(y.E.v,!0);o.f=r.KX;if(Y==0)o.data={Y:gU.Ru};
if(Y==1)o.data={Y:gU.pO};if(Y==2)o.data={Y:gU.Zv};this.I(o)};ey.prototype.aC$=function(c){var Y=this.Md.indexOf(c.currentTarget);
this.kk(Y);this.a9C(Y==1?this.k1.Sl:-1)};ey.prototype.kk=function(c){for(var Y=0;Y<3;Y++){this.Md[Y].Nv();
var o=this.Bf[Y].n;if(o.parentNode==this.nM&&Y!=c)this.nM.removeChild(o);if(o.parentNode!=this.nM&&Y==c)this.nM.appendChild(o)}this.Md[c].tb()};
ey.prototype.a9C=function(c){var o=this.dp.g[0],K=this.dp.s[o],u=c+1;if(c==1&&K.NR)return;var X=new ev(y.E.v,!0);
X.f=r.KX;if(c!=1&&K.NR){X.data={Y:gU.rg,l:o,VZ:2};this.I(X)}X.data={Y:gU.rg,l:o,VZ:u};this.I(X)};ey.prototype._=function(){cs.prototype._.call(this);
if(this.nM==null)return;this.kX(this.dp);for(var Y=0;Y<3;Y++){this.Md[Y]._();this.Bf[Y]._()}ei.$l(this.NB,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
ey.prototype.H0=function(){if(!S.Kt(this.m4))return;if(this.nM==null){this.Ed();this.VW(this.RU,iD.Vk);
this.kX(this.apv);this._()}};ey.prototype.kX=function(c){this.apv=c;if(this.nM==null)return;this.WO.kX(c);
this.k1.kX(c);this.v5.kX(c);if(c==null||c.g.length==0||c.s[c.g[0]]==null){S.SZ(this.m4,"disabled");this.dp=null;
return}else S.MG(this.m4,"disabled");var o=c.g[0],K=c.s[o];this.NB[0].c(K.xQ);this.NB[1].c(K.IT());var u=c.Dr(),X=u[0],$=u[1];
if($.length!=0){var O=X[$[0]],n=O.add.vogk,x=!1;if(n)for(var Y=0;Y<n.length;Y++){var l=n[Y].v;if(!a.O9.fa(l))continue;
x=!0;o=O.wM}}o+=","+x;if(c!=this.dp||this.ats!=o){this.dp=c;this.ats=o;if(x)this.kk(2);else if(K.Xx<1&&!K.NR||j7.get(K.add))this.kk(0);
else this.kk(1)}this.Md[1].WR(this.k1.Sl!=-1);this.Md[2].WR(x)};ey.prototype.VW=function(c,o){this.RU=c;
if(this.WO)this.WO.VW(c,o);if(this.v5)this.v5.VW(c,o)};ey.lX=function(){ax.call(this);this.n=S.t("div","form");
this.aiC=new dV("Hello");this.j7=new kz([1,12,2],null,null,!0);this.j7.n.style.axr="right";this.j7.B("click",this.a1,this);
this.n.appendChild(this.aiC.n);this.n.appendChild(this.j7.n);this._D=null;this.De=null;this.dp=null;
this.RU=null;this.arV=-1;this.ajE=null;this.kG=null;this.mz=new dQ(0,!0,!0);this.mz.parent=this;this.mz.B(y.E.z,this.alk,this);
this.n.appendChild(this.mz.n);this.tI=new hv(!0);this.tI.parent=this;this.tI.B(y.E.z,this.asG,this);
this.zR=S.t("div","marged hiline");this.zR.appendChild(this.tI.n);this.GV=new ic("GrFl",!0);this.GV.parent=this;
this.GV.B(y.E.z,this.a8Q,this);this.Xe=S.t("div","marged hiline");var c="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var Y=0;Y<c.length;Y++){var o=this.GV.Ue[c[Y]].n;this.Xe.appendChild(o)}this.jq=new ic("patternFill",!0);
this.jq.parent=this;this.jq.B(y.E.z,this.aBH,this);this.pi=S.t("div","marged hiline");var c=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<c.length;Y++){var o=this.jq.Ue[c[Y]].n;this.pi.appendChild(o)}this.jF={};for(var K in j7.names){if(kc[K]==null)continue;
this.jF[K]=new kc[K];this.jF[K].B(y.E.z,this.agW,this);this.jF[K].parent=this}var u=this.a9O=S.t("div","marged hiline");
this.n5=new dQ(0,!0);u.appendChild(this.n5.n);this.n5.B(y.E.z,this.mV,this);this.am_=null;this.TZ=new f2;
this.TZ.parent=this;this.TZ.B(y.E.z,this.mV,this);u.appendChild(this.TZ.n)};ey.lX.prototype=new ax;ey.lX.prototype.alk=function(c){var o=this.mz.h(),K=this.kG,u=new ez(o[0],o[1],o[2],o[3]);
if(u.Ug(K))return;this.kG=u;var X=new ev(y.E.v,!0);if(K.m==u.m&&K.e==u.e){X.f=r.DA;X.data={Y:"trsl",ln:u.x-K.x,B1:u.y-K.y}}else{X.f=r.Le;
X.data={Y:"scl",u0:[2,4],b:new kn(u.m/K.m,u.e/K.e),gg:0}}this.I(X)};ey.lX.prototype._Q=function(c,o){var K=this.jF;
for(var u in K)K[u]._Q(c,o)};ey.lX.prototype.a1=function(c){var o=this.dp,K=o.s[o.g[0]],u=j7.get(K.add);
this.De.c(gZ.ib(u));this.agW()};ey.lX.prototype._=function(){for(var c in this.jF)this.jF[c]._();this.GV._();
this.jq._();this.TZ._();this.n5._();this.j7._();this.mz._()};ey.lX.prototype.mV=function(c){var o=new ev(y.E.v,!0),K=this.n5.h(),u=this.am_;
if(c.target==this.n5&&K[2]==u[2]&&K[3]==u[3]){o.f=r.DA;o.data={Y:"trsl",ln:K[0]-u[0],B1:K[1]-u[1]}}else{var X=gU.i2(new ez(K[0],K[1],K[2],K[3])),$=this.TZ.apt();
$.artboardRect={t:"Objc",v:X};var O=this.dp,n=O.s[O.g[0]],x=n.add.artb.guideIndeces;if(x)$.guideIndeces=JSON.parse(JSON.stringify(x));
o.f=r.KX;o.data={Y:gU.P2,te:$}}this.I(o)};ey.lX.prototype.asG=function(c){var o=this.dp,K=o.g[0];if(o.s[K].add.SoCo==null)return;
var u=JSON.parse(JSON.stringify(o.s[K].add.SoCo));u.Clr.v=this.tI.h();this.AW({KO:1,gq:u})};ey.lX.prototype.a8Q=function(c){var o=this.dp,K=o.g[0];
if(o.s[K].add.GdFl==null)return;this.AW({KO:2,gq:this.GV.h()})};ey.lX.prototype.aBH=function(c){this.AW({KO:3,gq:this.jq.h()})};
ey.lX.prototype.AW=function(c){this.aA2(r.KX,{Y:gU.Nl,FG:[this.dp.g[0]],Y$:!0,b:c})};ey.lX.prototype.agW=function(c){this.aA2(r._r,{Y:"edit_layer",b:this.De.h()})};
ey.lX.prototype.aA2=function(c,o){var K=new ev(y.E.v,!0);K.f=c;K.data=o;this.I(K)};ey.lX.prototype.kX=function(c,o){var K=iV.get([0,3]),u=!1,X=!1,$=null;
this.dp=c;if(c&&c.s.length>0&&c.g.length!=0&&c.s[c.g[0]]){var O=c.s[c.g[0]],n=j7.get(O.add);if(n!=null&&this.jF[n]!=null){$=this.jF[n].n;
this.De=this.jF[n];this.jF[n].c(JSON.parse(JSON.stringify(O.add[n])));if(c.g[0]!=this.arV){var x=c.i9(c.g[0]-1);
this.ajE=a.Fr(x)}this.jF[n].VC(this.ajE);K=iV.get(j7.names[n]);u=!0}if(n==null&&O.add.artb==null){var l=this.kG=a.A.Qt(r.W.G5(c));
X=!l.SR();var N=c.e3();l.x-=N.x;l.y-=N.y;this.mz.c([l.x,l.y,l.m,l.e],[c.$M,c.m,this.RU.RG.MF])}if(O.add.SoCo){$=this.zR;
this.tI.c(O.add.SoCo.Clr.v);K=iV.get([6,48,0,0])}if(O.add.GdFl){$=this.Xe;this.GV.update(c,O.add.GdFl);
K=iV.get([6,48,0,1])}if(O.add.PtFl){$=this.pi;this.jq.update(c,O.add.PtFl);K=iV.get([6,48,0,2])}if(O.add.artb){var f=O.add.artb,z=O.rA();
$=this.a9O;this.TZ.aoy(f);var R=this.am_=[z.x,z.y,z.m,z.e];this.n5.c(R,[c.$M,c.m,this.RU.RG.MF]);K=iV.get([1,16,0])}this.arV=c.g[0]}if($!=this._D){if(this._D)this.n.removeChild(this._D);
if($!=null)this.n.appendChild($);this._D=$}this.aiC.c(K);this.j7.n.style.display=u?"":"none";this.mz.n.style.display=X?"":"none"};
ey.lX.prototype.VW=function(c,o){this.RU=c;this.GV.VW(c,o);this.jq.VW(c,o);if(o==iD.V2)this.kX(this.dp,c);
for(var K in this.jF)this.jF[K].VW(c,o)};ey.iI=function(){ax.call(this);this.n=S.t("div","form");this.dp=null;
this.Sl=0;var c=S.t("span","fitem");this.n.appendChild(c);this.Md=[new kz([6,2]),new kz([6,3]),new kz([6,50])];
for(var Y=0;Y<this.Md.length;Y++){var o=this.Md[Y];o.B("click",this.aen,this);c.appendChild(o.n)}this.AN=new js([12,74],0,255);
this.AN.B(y.E.z,this.dY,this);this.n.appendChild(this.AN.n);this.DV=new js([7,6],0,500,"px",2,!0);this.DV.B(y.E.z,this.dY,this);
this.n.appendChild(this.DV.n);this.aN=new kz([4,11],null,null,!0);this.aN.B("click",this.acO,this)};
ey.iI.prototype=new ax;ey.iI.prototype.acO=function(){var c=new ev(y.E.v,!0);c.f=r._r;c.data={Y:"start",JF:"nvrt"};
this.I(c)};ey.iI.prototype.dY=function(c){var o=this.AN.h(),K=this.DV.h(),u=new ev(y.E.v,!0);u.f=r.KX;
u.data={Y:gU.$K,gb:this.dp.g[0],oh:{MX:this.Sl,AN:o,DV:K}};this.I(u)};ey.iI.prototype._=function(){for(var Y=0;
Y<this.Md.length;Y++)this.Md[Y]._();this.AN._();this.DV._();this.aN._()};ey.iI.prototype.kX=function(c){this.dp=c;
this.b6()};ey.iI.prototype.aen=function(c){this.b6(this.Md.indexOf(c.currentTarget));this.parent.a9C(this.Sl)};
ey.iI.prototype.b6=function(c){var o=this.dp,K=this.Md;for(var Y=0;Y<3;Y++){var u=K[Y];u.Nv();u.Lc()}if(o==null||o.s.length==0||o.g.length==0||o.s[o.g[0]]==null)return;
var X=-1,$=o.s[o.g[0]];if($.Fe()&&$.$a(o).F!=null){K[2].R1();X=2}if($.add.vmsk){K[1].R1();X=1}if($.wD()){K[0].R1();
X=0}if(c!=null)X=c;else if($.NR)X=1;else if($.Xx==3)X=2;else if($.Xx==1)X=0;this.Sl=X;if(X==-1){this.AN.Lc();
this.DV.Lc();return}var O=$.v4(X);this.AN.R1();this.DV.R1();this.AN.c(O.AN);this.DV.c(O.DV);K[X].tb();
var n=this.aN.n;if(X==0)this.n.appendChild(n);else if(n.parentNode==this.n)this.n.removeChild(n)};ey.CK=function(){ax.call(this);
this.n=S.t("div","form");this.Cv=null;this.RU=null;this.D0=-1;this.mz=new dQ(0,!1);this.AH=new js([12,15],-180,180,"\xB0",2);
this.Gj=new dQ(1,!0);this.Ff=new js([12,94,0],0,100,null,2);this.La=new js([12,78],3,30);this.wm=new kz(["\u279C  ",[12,76,0]],null,null,!0);
this.mz.B(y.E.z,this.jE,this);this.AH.B(y.E.z,this.jE,this);this.Gj.B(y.E.z,this.jE,this);this.Ff.B(y.E.z,this.jE,this);
this.La.B(y.E.z,this.jE,this);this.wm.B("click",this.jE,this)};ey.CK.prototype=new ax;ey.CK.prototype._=function(){this.mz._();
this.AH._();this.Gj._();this.Ff._();this.La._()};ey.CK.prototype.jE=function(c){var o=this.Cv,K=a.O9.ly(o),u=c.target.h(),X=[this.mz,this.AH,this.Gj,this.Ff,this.La,this.wm].indexOf(c.target);
if(X==0){var $=o.e3(),O=[],n=O[0]=u[0]+$.x,x=O[1]=u[1]+$.y;O[2]=n+u[2];O[3]=x+u[3];u=O}if(X==1)u=u*Math.PI/180;
var l={0:1,1:2,2:3,3:3,4:4}[X];K[l]=u;var N=new ev(y.E.v,!0);N.f=r.KX;N.data={Y:gU.gQ,b:K,axy:X==5};
this.I(N)};ey.CK.prototype.kX=function(c){var o=this.n;this.Cv=c;if(c==null)return;var K=this.RU,u=[c.$M,c.m,K.RG.MF],X=a.O9.ly(c),$=X[0],O=X[1];
if(O==null)return;var n=$!=this.D0;this.D0=$;if(n)S._a(o);if(n)o.appendChild(this.mz.n);if(n)o.appendChild(this.AH.n);
var x=c.e3();this.mz.c([O[0]-x.x,O[1]-x.y,O[2]-O[0],O[3]-O[1]],u);this.AH.c(X[2]*180/Math.PI);if($==2){if(n)o.appendChild(this.Gj.n);
var l=X[3];this.Gj.c(l,u)}if($==7||$==8){if(n)o.appendChild(this.Ff.n);this.Ff.c(X[3])}if($==8){if(n)o.appendChild(this.La.n);
this.La.c(X[4])}o.appendChild(this.wm.n)};ey.CK.prototype.VW=function(c,o){this.RU=c;this.kX(this.Cv)};
function fD(c){cs.call(this,c.name,!0);this.ff=c;this.dd=null;this.ZB=new bn(this.m4);this.ZB.parent=this}fD.prototype=new cs;
fD.FF=function(){var c=document.createElement("canvas"),o=document.createElement("canvas"),K=16,u=a.R(16*16*4);
a.MY(u,K,K,8);var X=a.scale.Cu(u,K,K);return{mk:c,JE:o,fE:c.getContext("2d",{willReadFrequently:!0}),KE:o.getContext("2d"),RI:X}}();
fD.prototype.aBu=function(){if(this.ff.$G())return window.confirm(iV.get([22,6,3])+" "+this.ff.name+". "+iV.get([22,6,4]));
return!0};fD.prototype.VW=function(c,o){this.dd=c};fD.prototype.kX=function(c){this.H0();this.gd()};
fD.prototype._Q=function(c,o){if(c<=0||o<=0)return;this.Oc=c;this.s_=o;var K=this.ff,u=fD.FF,X=S.Sm();
K.Q.fE.m=Math.floor(c*X);K.Q.fE.e=Math.floor(o*X);S.qI(u.mk,c,o);S.qI(u.JE,c,o);S.qI(jT.kW(),c,o);if(K.Q.U==0)K.Q.U=r.PN.Nr(K.m,K.e,c*X,o*X);
this.gd()};fD.prototype.H0=function(){var c=this.m4.firstChild,o=fD.FF,K=jT.lW&&gN==0;if(!K&&c==jT.kW()||K&&c==o.mk)this.m4.removeChild(c);
var u=K?jT.kW():o.mk;if(!S.Kt(u))this.m4.appendChild(u)};fD.prototype.gd=function(){if(this.dd==null)return;
var c=this.ff,o=jT.lW&&gN==0;if(o)this.aai();else this.tY()};fD.prototype.aai=function(){if(jT.lW&&fD.dG==null){var c=fD.dG=[],o=[0,2,8,32,128];
for(var Y=0;Y<5;Y++)c[Y]=[new fD.SF(!1,o[Y],!1),new fD.SF(!0,o[Y],!1)];c.push([new fD.SF(!1,0,!0),new fD.SF(!0,0,!0)])}var K=this.ff,u=fD.FF,V,p=0,D,I;
if(K.zW==null)return;var X=K.Q,$=X.fE.m,O=X.fE.e,n=jT.i0;u.fE.clearRect(0,0,$,O);var x=this.ah5(K);if(X.ZR==null||X.ZR.m!=$||X.ZR.e!=O)X.ZR=new jT.Ko($,O);
if(x){var l=Date.now(),N=O,f=new Uint8Array(u.fE.getImageData(0,0,$,N).data.buffer);X.ZR.set(f,new ez(0,0,$,N));
this.q5=!0}else if(this.dd.zo){if(this.q5){jT.Gf(X.ZR);jT.En(1);this.q5=!1}var z=a.Pj.U5,f=new Uint8Array(K.Q.Ce.data.buffer);
X.ZR.set(f,new ez(0,0,z,O));var f=new Uint8Array(K.Q.BC.data.buffer);X.ZR.set(f,new ez(0,0,$,z));var f=new Uint8Array(u.fE.getImageData(0,O-z,$,z).data.buffer);
X.ZR.set(f,new ez(0,O-z,$,z));this.q5=!0}else if(this.q5){jT.Gf(X.ZR);jT.En(1);this.q5=!1}var R=X.dV(0,0);
if(fD.a8t==null)fD.a8t=new Float32Array(4*1024);var d=[0,0,0,0],e=fD.a8t;if(K.add.artd){e.fill(0);d=fD.DY(K);
var h=K.m,E=K.e,W=0;for(var Y=0;Y<K.s.length;Y++){var q=K.s[Y],Z=q.add.artb;if(Z==null||!q.IT())continue;
var v=q.rA();e[p]=v.x/h;e[p+1]=v.y/E;e[p+2]=v.m/h;e[p+3]=v.e/E;p+=4;if(p==e.length)break}if(p>2*4)W++;
if(p>8*4)W++;if(p>32*4)W++;V=fD.dG[W+1];e=new Float32Array(e.buffer,0,[2,8,32,128][W]*4)}else V=fD.dG[K.Ku?5:0];
var A=K.bx();if(A==null)V=V[0];else{V=V[1];I=A[K.add.fcmy==1?6:4];D=A[2]}jT.o0($,O);jT.En(0);jT.o0($,O);
V.mM();var U=new bE;U.scale($,O);U.concat(X._X(!0));U.scale(1/K.m,1/K.e);var w=[U.V,U.J,0,U.If,U.gI,0,U.hW,U.qj,1];
V.A4(X.ZR.hO,K.zW.hO,new Float32Array(w),new Float32Array([$/8,O/8,R.x/$,R.y/O]),K.m,K.e,1/K.Q.U,$,O,new Float32Array(d),e,new Float32Array(a.QW.ll(a.QW.ar5(X.O))),I,D);
n.drawArrays(n.TRIANGLES,0,6)};fD.DY=function(c){return[0,0,0,0]};fD.arp=function(c){var o=a.T.h0(c.v),K=[o.Z/255,o.r/255,o.J/255,1];
for(var Y=0;Y<4;Y++)K[Y]=Math.min(1,K[Y]);return K};fD.r_=function(c,o){var K=c[2]*255;if(jT.lW)K=o?0:Math.max(2,K);
return"rgba("+c[0]*255+","+c[1]*255+","+K+","+c[3]+")"};fD.k8=function(c){var o=c.length;if(jT.lW)for(var Y=0;
Y<o;Y+=4){if(c[Y+2]==0)c[Y+2]=3}};fD.prototype.tY=function(){var c=this.ff,o=fD.FF;if(gN==0&&c.buffer==null)return;
var K=c.Q,u=K.fE,X=u.m,$=u.e,O=new ez(0,0,c.m,c.e);o.KE.clearRect(0,0,X,$);o.fE.clearRect(0,0,X,$);var n=K._X(!0),x=n.clone();
x.fH();if(c.add.artd==null){o.fE.save();var l=x.QB(new kn(0,0));x.translate(-l.x,-l.y);o.fE.translate(Math.round(l.x),Math.round(l.y));
o.fE.fillStyle=gN==0?o.RI:"#ffffff";if(c.Ku)o.fE.fillRect(-5e3,-5e3,2e4,2e4);else{var N=c.add.arts;if(gN==1)for(var Y=0;
Y<N.length;Y++){var f=a.A.jl(N[Y]._C);this.fn(a.A.W6(f),x,o.fE);o.fE.fill()}else{this.fn(a.A.W6(O),x,o.fE);
o.fE.fill()}}o.fE.restore()}else{o.fE.fillStyle=fD.r_(fD.DY(c));o.fE.fillRect(0,0,X,$);o.fE.save();o.fE.setTransform(x.V,x.J,x.If,x.gI,x.hW,x.qj);
var z=c.root.children;for(var Y=0;Y<z.length;Y++){var R=z[Y].l;if(R.add.artb==null||!R.IT())continue;
var V=R.rA(),d=R.s1();if(d!=0)continue;o.fE.fillStyle=o.RI;o.fE.save();o.fE.scale(1/K.U,1/K.U);o.fE.fillRect(K.U*V.x,K.U*V.y,V.m*K.U,V.e*K.U);
o.fE.restore()}o.fE.restore()}if(K.TD.length!=u.P()){K.TD=a.R(u.P());K.Px=a.R(u.P()*4)}K.Px.fill(0);
if(gN==1){var x=K._X(!0);x.fH();o.fE.save();var e=a.A.W6(K.fE);a.A.i(e.j,K._X(!0),e.j);var f=a.A.P3(e.j);
o.fE.setTransform(x.V,x.J,x.If,x.gI,x.hW,x.qj);c.root.acE(c,o.fE,this.dd,f);o.fE.restore()}else{a.scale.adu(c.buffer,O,n,K.Px,u,c.Ku);
var p=c.bx();if(p)ICC.U.applyLUT(p[c.add.fcmy==1?5:3],p[2],K.Px,K.Px);if(K.O[0]+K.O[1]+K.O[2]!=3)a.QW.agE(K.Px,K.Px,a.QW.ar5(K.O));
o.KE.putImageData(new ImageData(new Uint8ClampedArray(K.Px.buffer),u.m,u.e),0,0);o.fE.drawImage(o.JE,0,0);
o.fE.getImageData(0,0,1,1)}this.ah5(c)};fD.prototype.ah5=function(c){var o=c.Q,K=o.O[0]+o.O[1]+o.O[2],u=fD.FF,X=!1,$=[];
for(var Y=0;Y<c.g.length;Y++){var O=c.s[c.g[Y]];if(O==null)continue;var n=O.Xx;if(n!=1&&n!=3)continue;
var x=n==1?O.wD():O.$a(c).F;if(x.nd)$.push(x)}for(var Y=0;Y<c.lr.length;Y++)if(c.lr[Y].nd)$.push(c.lr[Y]);
for(var Y=0;Y<$.length;Y++){var x=$[Y];this.a05(x,o,$.length==1&&K==0?2:1,x.color,x.A8);X=!0}var l=this.dd;
X=this.ad$(c,u.fE,o,$.length!=0)||X;if(c.u&&l.ja&&l.RG.yk){this.a05(c.u,o,0,0,null);X=!0}return X};fD.prototype.a05=function(c,o,K,u,X){var $=0;
if(X)$=Math.round(X.J)<<16|Math.round(X.r)<<8|Math.round(X.Z);var O=o._X(!0),n=o.fE,x=new ez(0,0,o.ff.m,o.ff.e),l=fD.FF;
if(o.Px==null||o.Px.length!=n.P()*4){o.TD=a.R(n.P());o.Px=a.R(n.P()*4)}o.TD.fill(u);o.Px.fill(0);var N=c.channel,f=c.rect;
a.scale.i(N,f,O,o.TD,n);if(K==0){var z=new Uint32Array([4278190080,4294967295]);fD.k8(new Uint8Array(z.buffer));
a.u.awT(o.TD,o.Px,n,z,S.Sm()>1.9)}else{var R=Date.now();a.u.anO(o.TD,o.Px,n,K,$);fD.k8(o.Px)}var V=new ImageData(new Uint8ClampedArray(o.Px.buffer),n.m,n.e);
l.KE.putImageData(V,0,0);l.fE.save();if(K!=0){var d=new ez(0,0,x.m,x.e),e=O.clone();e.fH();this.fn(a.A.W6(d),e,l.fE);
l.fE.clip()}l.fE.drawImage(l.JE,0,0);l.fE.restore()};fD.prototype.ad$=function(c,o,K,u){var X=c.S.A_!=null||c.S.nO!=null||c.S.vZ!=null||c.S.aH!=null||c.S.rW.length!=0||c.S.Uo.length!=0,$=this.dd,O=$.RG,n=fW.BU[$.SU],x=Math.round(12*S.Sm()),l=x/c.Q.U,N=K._X(!0);
N.fH();o.save();o.setTransform(N.V,N.J,N.If,N.gI,N.hW,N.qj);var f=fD.DY(c)[0];f=f<.5?f+.5:f-.5;f=""+Math.round(f*255).toString(16);
while(f.length<2)f="0"+f;o.font=l+"px sans-serif";if(c.add.artd){o.fillStyle="#"+f+f+f;for(var Y=0;Y<c.s.length;
Y++){var z=c.s[Y];if(z.add.artb==null||!z.IT())continue;var R=z.rA();o.save();o.beginPath();o.rect(R.x,R.y-2*l,R.m,2*l);
o.clip();o.fillText(z.getName(),R.x+2,R.y-l*.7);o.beginPath();o.restore();X=!0}}if(c.add.arts&&$.lm==r.aw2){var V=c.add.arts;
for(var Y=0;Y<V.length;Y++){var R=V[Y],d=a.A.jl(R._C),e=(Y+1+"").padStart(2,"0");e+=" - "+R.Ek;o.save();
o.beginPath();o.fillStyle=R.g?"#cce6ff":"#dddddd";o.rect(d.x,d.y,o.measureText(e).width+l,l*1.5);o.fill();
o.fillStyle="black";o.fillText(e,d.x+l/2,d.y+l*1.1);o.restore()}X=!0}function p(aU){return aU==1||aU==2||aU==4||aU==5}var h=fD.r_([.3,.5,1,1]),E=fD.r_([1,1,1,1]);
if($.ja&&O.es){o.fillStyle=o.strokeStyle=h;o.lineWidth=1.5/K.U;var q=c.Dr(),Z=q[0],v=q[1];for(var W=0;
W<v.length;W++){var z=Z[v[W]],D=z.add.vmsk,I=D.$,A=a.A.Uk(I);this.fn(A,null,o);o.stroke();X=!0;var U=3*S.Sm()/K.U;
for(var Y=0;Y<D.$C.length;Y++){var w=a.o.ank(I,D.$C[Y]);if(w==null)continue;var t=w.x,L=w.y;o.beginPath();
var J=Y==0;if(D.GL)J=!J;if(J){o.moveTo(t-U,L-U);o.lineTo(t+U,L+U);o.moveTo(t-U,L+U);o.lineTo(t+U,L-U);
o.stroke()}else{o.arc(t,L,U*1,0,2*Math.PI);o.fill()}X=!0}if(c.g.length!=1)continue;var b=-1,F=-1,B=-1;
for(var Y=0;Y<I.length;Y++){if(I[Y].type>5)continue;if(I[Y].type==0||I[Y].type==3){F=Y+1;B=I[Y].length;
if(I[Y].cS!=-1)b++;continue}if(D.g.indexOf(b)!=-1){var t=I[Y].L.x,L=I[Y].L.y;o.fillRect(t-U*.8,L-U*.8,2*U*.8,2*U*.8)}if(D.s5.indexOf(Y)!=-1){var k=I[Y],i=[k.L];
o.beginPath();o.moveTo(k.mL.x,k.mL.y);o.lineTo(k.L.x,k.L.y);o.lineTo(k.oC.x,k.oC.y);var H=F+(Y+B-F-1)%B,m=F+(Y+B-F+1)%B,j=I[H],Q=I[m];
if(j&&p(j.type)&&D.s5.indexOf(H)==-1){o.moveTo(j.L.x,j.L.y);o.lineTo(j.oC.x,j.oC.y);i.push(j.oC)}if(Q&&p(Q.type)&&D.s5.indexOf(m)==-1){o.moveTo(Q.L.x,Q.L.y);
o.lineTo(Q.mL.x,Q.mL.y);i.push(Q.mL)}o.stroke();if(!k.L.Ug(k.mL))i.push(k.mL);if(!k.L.Ug(k.oC))i.push(k.oC);
for(var G=0;G<i.length;G++){var w=i[G],t=w.x,L=w.y;if(G==0&&(k.type==2||k.type==5))o.fillRect(t-1.2*U,L-1.2*U,2.4*U,2.4*U);
else{o.beginPath();o.arc(t,L,U*1.2,0,2*Math.PI);o.fill();if(G!=0)o.fillStyle=E;o.beginPath();o.arc(t,L,U*.8,0,2*Math.PI);
o.fill();o.fillStyle=h}}}X=!0}}}o.lineWidth=1/K.U;if(c.S.fo){o.fillStyle=o.strokeStyle=h;var Q={j:[],G:[]},g=fD.ata;
if(g==null){g=fD.ata={j:[1,0],G:["M"]};for(var Y=1;Y<30;Y++){var P=Math.PI*2*Y/30;g.j.push(Math.cos(P),Math.sin(P));
g.G.push("L")}g.G.push("Z","M","L","M","L");g.j.push(-.5,0,.5,0,0,-.5,0,.5)}for(var Y=0;Y<c.S.fo.length;
Y++){var j=r.Ub.a3O(c.S.fo[Y],K),M=new bE(j[0],0,0,j[0],j[1],j[2]);a.A.concat(Q,g,M)}this.fn(Q,null,o);
o.stroke();X=!0}var T=new bE(1,0,0,1,.5/K.U,.5/K.U);if(c.Ku){o.fillStyle=o.strokeStyle=h;var Q={j:[0,0,c.m,0,c.m,c.e,0,c.e],G:["M","L","L","L","Z"]};
this.fn(Q,T,o);o.stroke();X=!0}if(c.S.It){o.fillStyle=o.strokeStyle=fD.r_([0,0,0,.5]);this.fn(c.S.It,null,o,!0);
o.fill("evenodd")}o.strokeStyle=h;o.fillStyle=E;if(c.S.vZ){this.fn(c.S.vZ,T,o);o.stroke()}var C=fD.YQ(c.S.bF,o,K);
o.fill();o.stroke();X=X||C;o.fillStyle=o.strokeStyle=fD.r_([0,0,0,jT.lW&&gN==0?1:.5],!0);if(c.S.A_){this.fn(c.S.A_,null,o);
o.fill()}if(c.S.nO){this.fn(c.S.nO,T,o);o.stroke()}for(var gf in c.S.m7)if(c.S.m7[gf].nO){this.fn(c.S.m7[gf].nO,null,o);
o.stroke();X=!0}var C=fD.YQ(c.S.vM,o,K);o.stroke();X=X||C;if(c.S.Wt.length+c.S.Nm.length+c.S.yb.length!=0){X=!0;
o.fillStyle=E;fD.hk(c.S.Wt,o,K,6);o.fill();fD.hk(c.S.Nm,o,K,6);o.fill();o.fillStyle=h;fD.hk(c.S.Wt,o,K,4);
o.fill();fD.hk(c.S.yb,o,K,4);o.fill();o.fillStyle=fD.r_([.7,.7,.7,1]);fD.hk(c.S.Nm,o,K,4);o.fill()}if(c.S.rW.length!=0){for(var Y=0;
Y<c.S.rW.length;Y++){var s=c.S.rW[Y],b3=s[1],d5;if(u){d5=o.getImageData(b3.x,b3.y,b3.m,b3.e);a.a.hA("norm",s[0],b3,new Uint8Array(d5.data.buffer),b3,b3,1)}else d5=new ImageData(new Uint8ClampedArray(s[0].buffer),b3.m,b3.e);
o.putImageData(d5,b3.x,b3.y)}}var gh=.5/K.U;o.lineWidth=1/K.U;if(c.S.bn){X=!0;var jt=c.S.bn,fl=jt.xh,A={G:[],j:[]};
for(var Y=0;Y<jt.ZS.length;Y++)a.A.concat(A,a.A.W6(jt.ZS[Y]));A.j=A.j.concat(fl);for(var Y=0;Y<fl.length;
Y+=4){A.G.push("M","L")}for(var Y=0;Y<A.j.length;Y++){A.j[Y]+=gh}o.strokeStyle=fD.r_([.9,.2,.2,1]);this.fn(A,null,o);
o.stroke();var eq=S.Sm(),c7=2/K.U;o.font=l*.9+"px sans-serif";for(var Y=0;Y<fl.length;Y+=4){var t=fl[Y],L=fl[Y+1],k8=fl[Y+2],hs=fl[Y+3],cq=Math.sqrt((hs-L)*(hs-L)+(k8-t)*(k8-t));
cq=a.Pj.IL(cq,c.$M,$,L==hs?c.m:c.e);var jn=new kn((t+k8)/2,(L+hs)/2);o.fillStyle=fD.r_([.9,.2,.2,1]);
var an=o.measureText(cq).width;o.fillRect(jn.x-an/2-c7*eq,jn.y-3.5*c7*eq,an+2*c7*eq,7*c7*eq);o.fillStyle=fD.r_([1,1,1,1]);
o.save();o.translate(jn.x-an/2,jn.y+2*c7*eq);o.scale(.1,.1);o.font=l*9+"px sans-serif";o.fillText(cq,0,0);
o.restore()}}if($.ja){if(O.uI&&c.Q.U>10&&gN==0){this.MY(c,o,1,1,.25,O.Mu,16777215);X=!0}if(O.wr){var hk=a.Pj.Pv(O.vl,c.$M,c.m,O.Vy),ds=hk;
if(O.Vy==4)ds*=c.e/c.m;this.MY(c,o,hk,ds,1,O.Mu,O.gt);X=!0}if(O.qb){var gT=c.Tf(),gP=c.bl(),ky=Math.max(c.Q.fE.m,c.Q.fE.e)/c.Q.U;
ky=Math.max(Math.max(c.m,c.e)*2,ky);for(var Y=0;Y<gT[0].length;Y++){var ay=gT[0][Y],bb=gT[1][Y];if(bb!=-1&&bb!=gP)continue;
var ap=K.dV(ay[1],ay[1]),cR=K.FT(Math.floor(ap.x)+.5,Math.floor(ap.y)+.5),c8=a.rf(O.uV);c8=[c8.Z/255,c8.r/255,c8.J/255,1];
if(bb!=-1)c8=[0,.5,1,1];o.beginPath();o.strokeStyle=fD.r_(c8);if(ay[0]==0){var gr=cR.x;o.moveTo(gr,-ky);
o.lineTo(gr,ky)}else{var fF=cR.x;o.moveTo(-ky,fF);o.lineTo(ky,fF)}o.stroke();X=!0}}var cj=c.Lm;if(cj.length>0&&$.lm==r.acv){var b3=7/c.Q.U,br=b3/3,hX=b3*4;
o.strokeStyle=o.fillStyle="black";for(var Y=0;Y<cj.length;Y++){var gG=cj[Y];o.fillRect(gG.x-.5*br,gG.y-.5*hX,br,hX);
o.fillRect(gG.x-.5*hX,gG.y-.5*br,hX,br);o.lineWidth=2.5/c.Q.U;o.beginPath();o.arc(gG.x,gG.y,b3,0,2*Math.PI);
o.stroke();o.font=1.9*b3+"px serif";o.lineWidth=1.25/c.Q.U;o.strokeText(""+(Y+1),gG.x+.75*b3,gG.y+2.5*b3)}X=!0}var jx=c.ni;
if(O.ni&&jx.length!=0){o.font=l*.8+"px sans-serif";var cr=[],a8=[];for(var Y=0;Y<jx.length;Y++){var f8=r.Jy.M4(jx,Y);
cr.push(f8);if(c.uW.indexOf(Y)!=-1)a8.push(f8)}cr.reverse();var dW=Date.now();cr=a.rect.ahD([0,0,c.m,c.e],cr);
for(var G=0;G<2;G++)for(var Y=0;Y<cr.length;Y++){var g7=cr[Y],b=g7[4],B=b!=null?jx[b]:null;if(B&&G==0||B==null&&G==1)continue;
var t=Math.round(g7[0]),L=Math.round(g7[1]),k8=Math.round(g7[2]),hs=Math.round(g7[3]);o.strokeStyle=o.fillStyle=fD.r_(B?[0,.7,.7,1]:[.8,.8,.8,1]);
o.strokeRect(t+gh,L+gh,k8-t,hs-L);var eU=Y+1,f7=o.measureText(eU),an=f7.width;o.fillRect(t,L,an+l/2,l);
o.fillStyle=fD.r_([1,1,1,1]);o.fillText(eU,t+l/4,L+l*.8)}var c7=2/c.Q.U,d7=2*c7;for(var Y=0;Y<a8.length;
Y++){var g7=a8[Y],t=Math.round(g7[0]),L=Math.round(g7[1]),k8=Math.round(g7[2]),hs=Math.round(g7[3]);
o.strokeStyle=o.fillStyle=fD.r_([1,.6,0,1]);o.strokeRect(t+gh,L+gh,k8-t,hs-L);var aW=[t,L,k8,L,k8,hs,t,hs];
for(var cy=0;cy<aW.length;cy+=2){var gr=aW[cy],fF=aW[cy+1],dh=aW[cy+2&7],fh=aW[cy+3&7];o.fillRect(gr-c7,fF-c7,d7,d7);
o.fillRect(Math.round((gr+dh)/2)-c7,Math.round((fF+fh)/2)-c7,d7,d7)}}X=!0}var dP=c.add.Anno;if(dP&&dP.length!=0)for(var Y=0;
Y<dP.length;Y++){var fg=dP[Y],c8=fg[2],gr=fg[0]-gh,fF=fg[1]-gh,d7=30/K.aT,bo=.4*d7,jK=.6*d7;o.beginPath();
o.moveTo(gr,fF+jK);o.lineTo(gr,fF);o.lineTo(gr+d7,fF);o.lineTo(gr+d7,fF+d7);o.lineTo(gr+bo,fF+d7);o.closePath();
o.lineTo(gr+bo,fF+jK);o.lineTo(gr+bo,fF+d7);if(Y==c.Q.KI){o.lineWidth*=5;o.strokeStyle=fD.r_([0,0,0,.5]);
o.stroke();o.lineWidth/=5}o.fillStyle=fD.r_([c8.Z/255,c8.r/255,c8.J/255,1]);o.fill();o.strokeStyle=fD.r_([0,0,0,1]);
o.stroke()}}o.strokeStyle=fD.r_([1,0,0,1]);if(c.S.aH){this.fn(c.S.aH,T,o);o.stroke()}o.restore();if($.zo){if(c.Q.BC==null||c.Q.BC.width!=c.Q.fE.m||c.Q.Ce.height!=c.Q.fE.e){c.Q.BC=o.createImageData(c.Q.fE.m,a.Pj.U5);
c.Q.Ce=o.createImageData(a.Pj.U5,c.Q.fE.e)}var n=fW.BU[$.SU],jQ=0,aZ=0,eo=c.m,dC=c.e;if(c.bl()!=-1){var R=c.s[c.bl()].rA();
jQ=R.x;aZ=R.y;eo=R.m;dC=R.e}jQ*=K.U;aZ*=K.U;var K=c.Q,hG=[1,c.$M,c.$M/2.54,c.$M/25.4,eo/100][O.MF],dy=K.U*c.m/2,fw=K.U*c.e/2,dM=[K.U*hG,new kn(K.p.x+(jQ+dy*hG-dy),K.p.y+(aZ+fw*hG-fw))];
if(O.MF==4)hG*=dC/eo;var aX=[K.U*hG,new kn(K.p.x+(jQ+dy*hG-dy),K.p.y+(aZ+fw*hG-fw))],fy=this.ZB.gw;a.Pj.ac3(K,n["--text-color"],n["--bg-input"],Math.floor(fy.x),Math.floor(fy.y),dM,aX);
var gp=cY.aoV(K.U,fD.r_([1,1,1,1]),c.m,c.e);fD.k8(c.Q.Ce.data);fD.k8(c.Q.BC.data);o.putImageData(c.Q.Ce,0,0);
o.putImageData(c.Q.BC,0,0);o.putImageData(gp,0,c.Q.fE.e-gp.height)}if(c.S.Uo.length!=0){for(var Y=0;
Y<c.S.Uo.length;Y++){var s=c.S.Uo[Y],b3=s[1];o.putImageData(new ImageData(new Uint8ClampedArray(s[0].buffer),b3.m,b3.e),b3.x,b3.y)}}return X};
fD.prototype.MY=function(c,o,K,u,X,$,O){while(K*c.Q.U<4){K*=2;u*=2}var n=c.m,x=c.e,l=.5/c.Q.U;O=a.rf(O);
o.strokeStyle=fD.r_([O.Z/255,O.r/255,O.J/255,X],!1);o.save();o.rect(0,0,n,x);o.clip();o.beginPath();
for(var N=0;N<=n;N+=K){o.moveTo(N+l,0);o.lineTo(N+l,x)}if($==0){for(var f=0;f<=x;f+=u){o.moveTo(0,f+l);
o.lineTo(n,f+l)}}else{u*=Math.sqrt(4/3);var z=u*Math.floor(n/u),R=n*(u/(2*K));for(var f=-z;f<=x+z;f+=u){o.moveTo(0,f);
o.lineTo(n,f-R);o.moveTo(0,f);o.lineTo(n,f+R)}}o.stroke();o.restore()};fD.hk=function(c,o,K,u){o.beginPath();
var X=u*S.Sm()/K.U,$=!1;for(var Y=0;Y<c.length;Y+=2){$=!0;var O=c[Y],n=c[Y+1];o.moveTo(O+X,n);o.arc(O,n,X,0,2*Math.PI)}return $};
fD.YQ=function(c,o,K,u){o.beginPath();var X=(u?u:1)*(4*S.Sm()+.5)/K.U,$=!1;for(var Y=0;Y<c.length;Y+=2){$=!0;
var O=c[Y],n=c[Y+1];o.rect(O-X,n-X,2*X,2*X)}return $};fD.ai=function(c,o,K,u){K.beginPath();if(u)K.rect(-1e5,-1e5,1e6,1e6);
var X=c;if(o){X=a.A.clone(c);a.A.i(X.j,o,X.j)}Typr.U.pathToContext({cmds:X.G,crds:X.j},K)};fD.prototype.fn=fD.ai;
fD.SF=function(c,o,K){jT.IM.call(this);var u=this.acg=o!=0,X=K?"true":"in01(sCoord)",$="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(c?"uniform sampler2D lut;  uniform float N;  "+jT.u7.a9Z:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(u?"uniform vec4 bgClr;  uniform vec4 ars["+o+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+jT.u7.aD_+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(K?"-floor(sCoord)":"")+"); \t\t\t\t"+(c?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(u?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+o+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+X+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+X+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",O="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.HP($,O)};fD.SF.prototype=new jT.IM;fD.SF.prototype.A4=function(c,o,K,u,X,$,O,n,x,l,N,f,z,R){this.MA("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var V=jT.i0,d=this.ge;V.uniformMatrix3fv(d.tmat,!1,K);V.uniform4fv(d.gsize,u);V.uniform3f(d.contSizeZoom,X,$,O);
V.uniform2f(d.cnvSize,n,x);V.uniformMatrix4fv(d.ctrn,!1,f);if(this.acg){V.uniform4fv(d.ars,N);V.uniform4fv(d.bgClr,l)}V.uniform1i(d.source,0);
V.uniform1i(d.target,1);V.activeTexture(V.TEXTURE0);V.bindTexture(V.TEXTURE_2D,c);V.activeTexture(V.TEXTURE1);
V.bindTexture(V.TEXTURE_2D,o);if(z){V.uniform1f(d.N,R);V.uniform1i(d.lut,2);V.activeTexture(V.TEXTURE2);
V.bindTexture(V.TEXTURE_2D,z.hO);var e=V.LINEAR;V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,e);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,e)}V.activeTexture(V.TEXTURE0)};function j6(){cs.call(this,[9,7],!1,"---panels/layercomps",cs.Bl.arK);
this.m4.setAttribute("style","min-width:240px;");this.dp=null;this.cC=-1;this.fs=[];this.oX=S.t("div","scrollable");
this.oX.style.height="160px";this.m4.appendChild(this.oX);this.V_=S.t("div","lpfoot");this.m4.appendChild(this.V_);
this.z7=[];var c=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],o=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var Y=0;Y<c.length;Y++){var K=c[Y];if(Y>0)K="<img src=\""+PIMG[c[Y]]+"\" class=\"miniscale gsicon\" />";
var u=new kz(K,!1,o[Y]);u.B("click",this.anG,this);this.V_.appendChild(u.n);this.z7.push(u)}}j6.prototype=new cs("");
j6.prototype._Q=function(c,o){this.m4.setAttribute("style","width:"+(c-2)+"px;");this.oX.style.height=o-28+"px"};
j6.prototype.ux=function(c){var o=new ev(y.E.v,!0);o.data=c;o.f=r.uQ;this.I(o)};j6.a1c="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
j6.prototype.anG=function(c){var Y=this.z7.indexOf(c.currentTarget)-1;if(Y==-1){var o=new ev(y.E.M,!0);
o.data={Y:y.H.Vj,bU:j6.a1c};this.I(o);return}if(Y!=1)if(this.cC==-1)return;this.ux({Y:["updLC","addLC","delLC"][Y],wM:this.cC});
if(Y==2)this.cC=-1};j6.prototype._=function(){cs.prototype._.call(this);for(var Y=0;Y<this.z7.length;
Y++)this.z7[Y]._()};j6.prototype.kX=function(c){if(c==null)S.SZ(this.m4,"disabled");else S.MG(this.m4,"disabled");
this.dp=c;S._a(this.oX);if(c==null)return;var o=c.Jr.lastAppliedComp?c.Jr.lastAppliedComp.v:0,K=c.Jr.list.v.slice(0);
K.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var Y=0;Y<K.length;
Y++){var u=K[Y].v,X=new cP(u.Nm.v,u.compID.v,u.capturedInfo.v,o,this.cC);X.B("activate",this.GY,this);
X.parent=this;this.oX.appendChild(X.n);this.fs.push(X)}};j6.prototype.GY=function(c){this.cC=c.currentTarget.wM;
this.kX(this.dp)};function cP(c,Y,o,K,u){ax.call(this);this.wM=Y;this.n=S.t("div","head listitem"+(Y==u?" selected":""));
var X=Y==K,$=new kz(X?"\u2713":"\u2014");if(X)$.tb();this.n.appendChild($.n);$.B("click",this.Pl,this);
var O=this.gV=S.t("span");O.textContent=c;this.n.appendChild(O);this.z7=[];if(Y!=0){this.n.addEventListener("mouseup",this.GY.bind(this),!1);
this.abe=S.t("span","headR");this.n.appendChild(this.abe);var n=["lrs/eye","pos","lrs/fx"],x=["Visibility","Position","Appearance"];
for(var l=0;l<n.length;l++){var N=new kz("<img src=\""+PIMG[n[l]]+"\" class=\"autoscale gsicon\" />",!1,x[l]);
if((o>>l&1)==0)N.n.setAttribute("style","opacity:0.3");N.B("click",this.a3l,this);this.abe.appendChild(N.n);
this.z7.push(N)}}}cP.prototype=new ax;cP.prototype.GY=function(c){if(c.target!=this.gV&&c.target!=this.n)return;
if(c.detail==1)this.I(new ev("activate",!1));else{var o=new cs.Fg(this.gV,this.Nu.bind(this))}};cP.prototype.a3l=function(c){var Y=this.z7.indexOf(c.currentTarget);
this.ux({Y:"editLC",aiX:Y,wM:this.wM})};cP.prototype.Nu=function(c){this.ux({Y:"editLC",iX:c,wM:this.wM})};
cP.prototype.Pl=function(c){this.ux({Y:"setLC",wM:this.wM})};cP.prototype.ux=function(c){var o=new ev(y.E.v,!0);
o.data=c;o.f=r.uQ;this.I(o)};function dz(){cs.call(this,[9,11],!1,"---panels/navigator",cs.Bl.ao9);var c=this.m4;
S.SZ(c,"padded");c.setAttribute("style","cursor:grab;");this.xS=S.t("canvas");c.appendChild(this.xS);
S.jR(c);S.Qf(this.xS);S.pI(this.xS,this.vN.bind(this));this.cA=new av(null,2,6400,"%",null,!0);this.cA.B(y.E.z,this.azM,this);
c.appendChild(this.cA.n);this.a83=this.Gy.bind(this);this.aaj=this.Mp.bind(this);this.Cv=null;this.Ws=null;
this.b7=!1}dz.prototype=new cs("");dz.prototype._Q=function(c,o){this.Oc=c*1.2;this.s_=o*1.2;this.gd()};
dz.prototype.azM=function(c){var o=this.cA.h(),K=this.Cv,u=o/100;if(.8<u&&u<1.2)u=1;else if(1.8<u)u=Math.round(u);
var X=new ev(y.E.v,!0);X.f=r.Hu;X.data={Y:"zoom",U:u};this.I(X)};dz.prototype.vN=function(c){var o=this.Cv;
if(o==null)return;this.b7=!0;S.SQ(window,this.a83);S.K1(window,this.aaj)};dz.prototype.Gy=function(c){var o=S.$_(c,this.xS),K=this.Cv,u=this.xS.width,X=this.xS.height,$=(o.x*S.Sm()-u/2)/u,O=(o.y*S.Sm()-X/2)/X,n=S.Sm()*K.Q.U,x=Math.round(-K.Q.U*K.m*$),l=Math.round(-K.Q.U*K.e*O);
r.bT.qM(K,x,l)};dz.prototype.Mp=function(c){S.UU(window,this.a83);S.Fo(window,this.aaj);this.b7=!1};
dz.prototype.kX=function(c){if(c==null&&this.Cv!=null)this.xS.width=100;this.Cv=c;this.gd()};dz.prototype.a6F=function(){var c=this.Cv,o=S.Sm(),K=r.PN.Nr(c.m,c.e,o*(this.Oc-10),o*(this.s_-36)),u=a.n3(c.i9(),new ez(0,0,c.m,c.e),K);
this.Ws=[u.PX,u.rect]};dz.prototype.gd=function(){var c=this.Cv;if(c==null||c.Q.U==0)return;var o=c.Q;
if(!S.Kt(this.m4))return;this.cA.c(o.U*100);if(!this.b7)this.a6F();var K=this.Ws[0],u=this.Ws[1],X=u.m,$=u.e,O=this.xS;
O.width=X;O.height=$;S.Vg(O,X,$);var n=this.m4;n.style.width=this.xS.style.width+12+"px";var x=O.getContext("2d"),l=x.createImageData(X,$);
a.lY(K,l.data);x.putImageData(l,0,0);x.getImageData(0,0,1,1);var N=o.fE,f=o.FT(N.x,N.y),z=o.FT(N.x+N.m,N.y+N.e),R=X/c.m;
x.scale(R,R);x.lineWidth=4/R;x.strokeStyle="#ff0000";x.strokeRect(f.x,f.y,z.x-f.x,z.y-f.y)};dz.prototype.VW=function(c,o){};
dz.prototype.H0=function(){this.gd()};function ao(c,o){cs.call(this,c.name,!1,c.icon,o);this.akj=c}ao.prototype=new cs("");
ao.prototype.Ed=function(){var c=this.m4,o=this.akj;if(!S.Kt(c)||this.ty)return;var K=this.ty=S.t("iframe");
K.setAttribute("src",o.url);this.m4.appendChild(K)};ao.prototype.H0=ao.prototype.kX=function(){this.Ed()};
ao.prototype.Zd=function(c){if(S.Kt(this.ty))this.ty.contentWindow.postMessage(c,"*")};ao.prototype._Q=function(c,o){if(this.ty==null)return;
this.ty.setAttribute("style","width:"+c+"px; height:"+o+"px")};function kC(){cs.call(this,[9,12],!1,"---panels/tpreset",cs.Bl.zK);
this.RU=null;this.CM=new hj(r.yj);this.CM.parent=this;var c=S.t("div","padded");c.setAttribute("style","width:20em");
this.m4.appendChild(c);c.appendChild(this.CM.un)}kC.prototype=new cs("");kC.prototype.H0=function(){this.CM.E8(this.RU.nu)};
kC.prototype.VW=function(c,o){this.RU=c;if(o==iD.Vk||o==iD.zK)this.CM.E8(c.nu)};kC.prototype._Q=function(c,o){this.CM.aoQ(this.RU.lm)};
kC.prototype._=function(){cs.prototype._.call(this);this.CM._()};var ad=function(){var c=[],o=null,K=null,u=null,X=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function $(){cs.call(this,"Memory",!1,null,cs.Bl.aoj);var z=S.t("div","padded");this.m4.appendChild(z);
K=new kz(["<< VAR0",[0,13,2]],!1,null,!0);K.addEventListener("click",function(R){c.pop();n()});z.appendChild(K.n);
o=S.t("div","scrollable");o.setAttribute("style","width:20em;  height:26em; margin-top:8px;");z.appendChild(o)}$.prototype=new cs("");
$.prototype.kX=function(z,R,V){u=R;this.H0()};$.prototype.H0=function(){K.WR(!1);if(!S.Kt(o))return;
var z={Ek:"Total:",mZ:[]};for(var Y=0;Y<u.length;Y++)z.mZ.push(l(u[Y]));f(z);c=[z];n()};$.prototype._=function(){cs.prototype._.call(this);
K._()};function O(z){var R=z.currentTarget,Y=0;while((R=R.previousSibling)!=null)Y++;c.push(c[c.length-1].mZ[Y-1]);
n()}function n(){K.WR(c.length>1);var z=c[c.length-1];S._a(o);x(z,o,0);z.mZ.sort(function(R,V){return V.aE[0]-R.aE[0]});
for(var Y=0;Y<z.mZ.length;Y++)x(z.mZ[Y],o,1)}function x(z,R,V){var d=kl.c3,e=V!=0&&z.mZ,p="margin-left:"+V*10+"px; margin-bottom:8px; padding:3px 5px;";
if(e)p+="cursor:pointer;";if(z.RL!=null)p+="background-color:rgba("+X[z.RL].join(",")+",0.2);";var h=S.t("div");
R.appendChild(h);h.setAttribute("style",p);h.innerHTML=S.LI(z.Ek)+"<br />"+"RAM: <b>"+d(z.aE[0])+"</b>\u2001GPU: <b>"+d(z.aE[1])+"</b>";
if(e)h.addEventListener("click",O,!1)}function l(z){var R={Ek:z.name,mZ:[],RL:0},V=jT.lW?1:0,d=1-V,e={Ek:"History",mZ:[],RL:5};
R.mZ.push(e);for(var Y=1;Y<z.history.length;Y++){var p=z.history[Y];e.mZ.push({Ek:iV.get(p.name),RL:5,aE:[p.qy(),0]})}f(e);
var e={Ek:"Final Image",aE:[z.m*z.e*4,V*z.m*z.e*4],RL:2};R.mZ.push(e);for(var Y=0;Y<z.s.length;Y++){var h=N(z.s[Y]);
if(h.mZ.length!=0)R.mZ.push(h)}var E=z.add.lnk2;if(E)for(var Y=0;Y<E.length;Y++){var h=E[Y],q={Ek:h.fp,mZ:[],RL:4},Z=0;
q.mZ.push({Ek:"Raw file",aE:[h.raw.length,0]});if(h.Za)for(var v=0;v<h.Za.length;v+=2)Z+=h.Za[v].length;
if(Z!=0)q.mZ.push({Ek:"Decoded pixels",aE:[Z,0]});f(q);R.mZ.push(q)}f(R);return R}function N(z){var R={Ek:z.getName(),mZ:[],RL:1},V=jT.lW?1:0,d=1-V,e=z.rect.P();
if(e!=0)R.mZ.push({Ek:"Layer pixels",aE:[e*4,V*e*4]});if(z.add.lmfx&&z.J9.dn.type){var p=z.J9.dn.type,Z=0;
for(var h in p){var E=0;for(var q=0;q<p[h].length;q++)if(h=="ebbl"){if(p[h][q].WV)E+=p[h][q].WV.hx.P();
if(p[h][q].bi)E+=p[h][q].bi.hx.P();if(p[h][q].Xj)E+=p[h][q].Xj.hx.P();if(p[h][q].XA)E+=p[h][q].XA.hx.P()}else E+=p[h][q].hx.P();
if(E!=0)R.mZ.push({Ek:iV.get(gH.names[gH.order.indexOf(h)]),aE:[d*E*4,V*E*4],RL:3})}if(z.J9.LD)Z+=e;
if(z.J9.rw)Z+=e;if(z.J9.e$)Z+=e;if(z.J9.e$)Z+=e;if(z.J9.q3)Z+=e;if(z.J9.K0)Z+=e;var v=z.J9.Oe?z.J9.Oe.length:0;
if(Z+v!=0)R.mZ.push({Ek:"Additional Blending Data",aE:[d*Z*4+v,V*Z*4]})}var W=z.wD(),D=W?W.rect.P():0;
if(D!=0){R.mZ.push({Ek:"Raster Mask",aE:[D,0]})}var W=z.add.vmsk,D=W&&W.o9?W.o9.rect.P():0;if(D!=0){R.mZ.push({Ek:"Vector Mask",aE:[D,0]})}f(R);
return R}function f(z){z.aE=[0,0];for(var Y=0;Y<z.mZ.length;Y++){z.aE[0]+=z.mZ[Y].aE[0];z.aE[1]+=z.mZ[Y].aE[1]}}return $}();
function hd(){cs.call(this,[9,14],!1,"---panels/notes",cs.Bl.a94);this.m4.setAttribute("style","min-width:240px;");
var c=S.t("div","padded");this.m4.appendChild(c);this.zu=new fi("Author");c.appendChild(this.zu.n);this.Z9=S.t("textarea");
S.E0(this.Z9);c.appendChild(this.Z9);var o=new kz("<<",null,null,!0);c.appendChild(o.n);this.a5w=o;var K=new kz(">>",null,null,!0);
c.appendChild(K.n);o.B("click",this.LG,this);K.B("click",this.LG,this);var u=this.ayk=new dV("");c.appendChild(u.n)}hd.prototype=new cs("");
hd.prototype.LG=function(c){var o=c.target==this.a5w?-1:1,K=this.Cv,u=K.add.Anno;if(u==null)return;var X=u.length,$=K.Q.KI;
K.Q.KI=($+o+X)%X;K.So=!0;this.gd()};hd.prototype.gd=function(){var c=this.Cv;if(c==null)return;var o=c.add.Anno;
if(o==null||o.length==0)return;var K=c.Q.KI,u=o[K];this.Z9.value=u[4];this.ayk.c(K+1+" / "+o.length);
this.zu.c(u[3])};hd.prototype._Q=function(c,o){if(this.Oc==c)return;this.Oc=c;o=Math.min(o,200);this.Z9.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(c-10)+"px; height:"+(o-66)+"px")};
hd.prototype.kX=function(c,o,K){this.Cv=c;this.gd()};function dT(){ax.call(this);this.f=0;this.wo=null;
this.n=S.t("div","toolconf");this.CM=null;this.TX=null;this.body=new S.t("div","body")}dT.prototype=new ax;
dT.prototype.ap$=function(c,o){this.f=c;this.wo=o;if(r.k7[c]){var K=this.CM=new hj(c);this.n.appendChild(K.n);
K.parent=this}else{this.TX=S.t("div");this.n.appendChild(this.TX)}this.n.appendChild(this.body);this._()};
dT.prototype.adi=function(c,o){};dT.prototype.a1X=function(c){};dT.prototype.VW=function(c,o){if(o==iD.Vk||o==iD.zK)if(this.CM)this.CM.E8(c.nu)};
dT.prototype.Fv=function(c){};dT.prototype._=function(){if(this.CM)this.CM._();else this.TX.innerHTML=S.RD(this.wo,null,"toolicon");
this.vI()};dT.prototype.vI=function(){};function aa(){dT.call(this);this.TZ=new f2;this.TZ.B(y.E.z,this.mV,this);
this.body.appendChild(this.TZ.n)}aa.prototype=new dT;aa.prototype.vI=function(){this.TZ._()};aa.prototype.mV=function(c){var o=new ev(y.E.M,!0);
o.data={Y:y.H.xA,f:this.f,EU:this.TZ.apt()};this.I(o)};aa.prototype.Fv=function(c){this.TZ.aoy(c.oq)};
function dd(c){dT.call(this);if(c==null)return;this.RU=null;this.pb={};if(c.indexOf("brush")!=-1&&c.indexOf("prsr")==-1)c.push("prsr");
for(var Y=0;Y<c.length;Y++){var o=c[Y],K=null;if(o=="brush"){K=new eE}if(o=="bmode"){K=new iW([12,19,0],ef.kp,ef.fc)}if(o=="bmode0"){K=new iW([12,19,0],ef.kp.slice(23))}if(o=="emode"){K=new iW([12,36],[[9,3],[10,38]])}if(o=="opacity"){K=new fI([12,0],0,100,"%");
K.c(100)}if(o=="flow"){K=new fI([12,63],0,100,"%");K.c(100)}if(o=="smth"){K=new fI([19,3,0],0,100,"%");
K.c(0)}if(o=="samp"){K=new iW([12,36],[[12,25,4],[12,25,5],[12,46]])}if(o=="wconf"){K=new it;K.c([40,!0,!0])}if(o=="sall"){K=new fA([12,25,2])}if(o=="smode"){K=new iW([12,36],[[19,7,0],[19,7,1]]);
K.c(1)}if(o=="pdetail"){K=new fA([12,65]);K.tb()}if(o=="rng"){K=new iW([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
K.c(1)}if(o=="expo"){K=new fI([12,5],0,100,"%");K.c(50)}if(o=="algnd"){K=new fA([12,75]);K.c(!1)}if(o=="sfrom"){K=new iW([12,70],[[17,1],[17,3],[17,0]])}if(o=="alt"){K=new aN(null,["Alt"],!0,["Select Source"])}if(o=="qsmode"){K=new hE([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(o=="redge"){K=new kz([7,11],!1,null,!0)}if(o=="sesu"){K=new kz("Select Subject",!1,null,!0)}if(o=="setop"){K=new aD}if(o=="patch"){K=new hE(null,[[12,70],[12,71]])}if(o=="strn"){K=new fI([12,64],1,100,"%");
K.c(50)}if(o=="prsr"){K=this.pb.brush.yc}this.body.appendChild(K.n);if(o=="prsr")continue;K.parent=this;
this.pb[o]=K;if(o=="brush")K.B(y.E.z,this.a48,this);else if(o=="redge"||o=="sesu")K.B("click",h0.a1w,this);
else K.B(y.E.z,this.lq,this)}}dd.prototype=new dT;dd.prototype.adi=function(c,o){c=c[1];var K=this.pb;
if(c.Md)K.bmode.c(ef.uR.indexOf(c.Md.v.BlnM));if(c.Opct)K.opacity.c(c.Opct.v);if(c.flow)K.flow.c(c.flow.v);
if(c.Brsh)K.brush.c(c,o.i_.Z7,o.i_.p1);if(c.FrgC){var u=a.T.h0(c.FrgC.v),X=new ev(y.E.M,!0);X.data={Y:y.H.NU,EU:iD.Mn,D$:0,b:u.Z<<16|u.r<<8|u.J};
this.I(X)}this.a48();this.lq()};dd.prototype.a1X=function(){if(r.k7[this.f]==null)return null;var c=this.pb,o;
for(var K in r.K6)if(r.K6[K]==this.f)o=K;var u=JSON.parse(JSON.stringify(c.brush.h()));u.classID=o;if(c.bmode)u.Md={t:"enum",v:{BlnM:ef.uR[c.bmode.h()]}};
if(c.opacity)u.Opct={t:"long",v:c.opacity.h()};if(c.flow)u.flow={t:"long",v:c.flow.h()};var X=this.RU.V5;
X={Z:X>>>16,r:X>>>8&255,J:X&255};u.FrgC={t:"Objc",v:a.T.mv(X)};return["Brush Preset "+u.Brsh.v.Dmtr.v.val,u]};
dd.prototype.vI=function(){for(var c in this.pb)this.pb[c]._()};dd.prototype.Fv=function(c){if(c.aC_=="showBrushOpts"){this.pb.brush.amt(c.RT.x,c.RT.y)}for(var o in c.Dy){var K=c.Dy[o];
if(o!="qsmode")K*=100;if(this.pb[o])this.pb[o].c(K)}};dd.prototype.VW=function(c,o){dT.prototype.VW.call(this,c,o);
this.RU=c;var K=this.pb.brush;if(K==null)return;if(o==iD.Vk||o==iD.yj)K.E8(c.i_);if(o==iD.nD){K.c(c.i_.ET,c.i_.Z7,c.i_.p1)}};
dd.prototype.a48=function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.NU,EU:iD.nD,u1:this.pb.brush.h()};this.I(c)};
dd.prototype.lq=function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.xA,f:this.f};for(var o in this.pb){if(o=="brush"||o=="redge")continue;
var K=this.pb[o].h();if(["opacity","flow","smth","expo","strn"].indexOf(o)!=-1)c.data[o]=K/100;else if(o=="bmode")c.data.bmode=ef.oj[K];
else if(o=="bmode0")c.data.bmode=ef.oj[23+K];else c.data[o]=K}this.I(c)};function h0(c,o){dT.call(this);
if(c)return;this.pb={};for(var Y=0;Y<o.length;Y++){var K=o[Y],u=null;if(K=="sesu"&&!S.aM())continue;
if(K=="binop")u=new aD;if(K=="feat"){u=new fI([7,6],0,100,"px");u.c(0)}if(K=="redge")u=new kz([7,11],!1,null,!0);
if(K=="sesu")u=new kz("Select Subject",!1,null,!0);if(K=="wconf")u=new it;if(K=="cstr")u=new hL;if(K=="anta"){u=new fA([12,25,1]);
u.c(!0)}if(K=="sall")u=new fA([12,25,2]);if(K=="redge"||K=="sesu")u.B("click",h0.a1w,this);else u.B(y.E.z,this.lq,this);
u.parent=this;this.body.appendChild(u.n);this.pb[K]=u}}h0.prototype=new dT;h0.prototype.Fv=function(c){if(c.fQ!=null)this.pb.binop.c(c.fQ);
else if(c.OS){for(var o in c.OS)if(this.pb[o])this.pb[o].c(c.OS[o])}else{var K=h0.QP;if(K==null){var u=aI.anU(!0);
K=h0.QP=new jf(u.items,u.u5)}K._();K.parent=this;K.update(c.fk,c.dd);var X=new ev(y.E.M,!0);X.data={Y:y.H.B2,KH:K,x:c.UN.ct+2,y:c.UN.TY+1};
this.I(X)}};h0.prototype.vI=function(){for(var c in this.pb)this.pb[c]._()};h0.a1w=function(c){var o=c.target==this.pb.sesu,K=new ev(o?y.E.v:y.E.M,!0);
if(o){K.f=r.TN;K.data={Y:"bgrm",b:2}}else K.data={Y:y.H.Vl,n9:"redge"};this.I(K)};h0.prototype.lq=function(){var c=new ev(y.E.M,!0);
c.data={Y:y.H.xA,f:this.f,OS:{}};for(var o in this.pb)c.data.OS[o]=this.pb[o].h();this.I(c)};function cB(){dd.call(this,["brush","strn"])}cB.prototype=new dd;
function kk(){dd.call(this,"brush bmode opacity flow smth prsr".split(" "))}kk.prototype=new dd;function dX(){dd.call(this,["brush","bmode0","samp","wconf"])}dX.prototype=new dd;
function h6(){dd.call(this,["brush"])}h6.prototype=new dd;function en(){dd.call(this,["brush","bmode","opacity","smth","prsr"])}en.prototype=new dd;
function i_(){dd.call(this,["brush","rng","expo"])}i_.prototype=new dd;function eR(){dd.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}eR.prototype=new dd;
function kg(c){dT.call(this);if(c==null)return;this.Md=[];this.x8=new kz("\u2026",!1,null,!0);if(!c)this.body.appendChild(this.x8.n);
this.x8.B("click",this.h9,this);this.IP=new ax;this.IP.parent=this;var o=this.IP.n=S.t("div","floatcont form"),K=[[17,0],[17,1],[11,12,0],[17,2]];
for(var Y=0;Y<K.length;Y++){var u=new kz(K[Y],!1,null,!0);this.Md.push(u);u.B("click",this.amN,this);
if(!c||Y==1)o.appendChild(u.n)}this.Zh=new hL;this.Zh.B(y.E.z,this.pv,this);if(!c)this.body.appendChild(this.Zh.n);
this.kH=new kz([15,7,6],!1,null,!0);this.kH.B("click",this.amN,this);if(!c)this.body.appendChild(this.kH.n);
this.Mf=new fA([15,7,10]);this.Mf.B(y.E.z,this.pv,this);if(!c)this.body.appendChild(this.Mf.n);this._8=new fA("Content-Aware");
this._8.B(y.E.z,this.pv,this);if(!c)this.body.appendChild(this._8.n);this.DK=new iG;this.DK.B("click",this.fh,this)}kg.prototype=new dT;
kg.prototype.h9=function(c){if(S.Kt(this.IP.n))return;var o=this.x8.n.getBoundingClientRect(),K=new ev(y.E.M,!0);
K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height+4};this.I(K)};kg.prototype.vI=function(){this.DK._();
for(var Y=0;Y<this.Md.length;Y++)this.Md[Y]._();this.Zh._();this.Mf._();this.kH._()};kg.prototype.Fv=function(c){if(c.xk){this.Zh.aj7(c.xk[0],c.xk[1]);
return}var o=this.DK.n;if(c.g5)this.body.appendChild(o);else if(this.body.contains(o))this.body.removeChild(o);
if(c.Zh)this.Zh.c(c.Zh)};kg.prototype.fh=function(c){var o={Y:y.H.xA,f:this.f,XF:this.DK.h()?"commit":"cancel"},K=new ev(y.E.M,!0);
K.data=o;this.I(K)};kg.prototype.amN=function(c){c.target.n.blur();var o={Y:y.H.xA,f:this.f,XF:"cropby",a4f:this.Md.indexOf(c.target)};
if(c.target==this.kH)o.XF="straighten";var K=new ev(y.E.M,!0);K.data={Y:y.H.Rv,KH:this.IP};this.I(K);
K.data=o;this.I(K)};kg.prototype.pv=function(c){var o={Y:y.H.xA,f:this.f,XF:"config",t2:{QY:this.Zh.h(),H3:this.Mf.h(),TK:this._8.h()},awA:c.target==this.Zh},K=new ev(y.E.M,!0);
K.data=o;this.I(K)};function fv(){kg.call(this,!1)}fv.prototype=new kg;function iP(){kg.call(this,!0)}iP.prototype=new kg;
function ca(){dd.call(this,["brush","rng","expo"])}ca.prototype=new dd;function bq(){dd.call(this,"brush emode opacity flow smth prsr".split(" "))}bq.prototype=new dd;
function jo(){dd.call(this,["brush","samp","wconf"])}jo.prototype=new dd;function hD(){h0.call(this,!1,["binop","feat","anta","redge","cstr"])}hD.prototype=new h0(!0);
function dq(){dT.call(this);var c=this.pb=[new iW([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new iW([12,70],[[17,1],[17,3],[17,0]]),new fA([12,20,1]),new fA([8,0])];
c[1].c(2);c[2].c(!0);for(var Y=0;Y<c.length;Y++){var o=c[Y];o.B(y.E.z,this.lq,this);this.body.appendChild(o.n)}}dq.prototype=new dT;
dq.prototype.lq=function(c){var o=this.pb,K=[];for(var Y=0;Y<o.length;Y++)K[Y]=o[Y].h();var u=new ev(y.E.M,!0);
u.data={Y:y.H.xA,f:this.f,OS:K};this.I(u)};dq.prototype.vI=function(){for(var Y=0;Y<this.pb.length;Y++)this.pb[Y]._()};
function i9(){dT.call(this);this.FZ=new el(!1);this.FZ.parent=this;this.FZ.B(y.E.z,this.dY,this);this.body.appendChild(this.FZ.n);
this.FZ.c(JSON.parse(gH.nl.aBk).v);this.dl=new iW(null,gH.T.names.slice(0,5));this.dl.B(y.E.z,this.dY,this);
this.body.appendChild(this.dl.n);this.su=new iW([12,19,0],ef.kp,ef.fc);this.su.B(y.E.z,this.dY,this);
this.body.appendChild(this.su.n);this.Ob=new fI([12,0],0,100,"%");this.Ob.parent=this;this.Ob.B(y.E.z,this.dY,this);
this.body.appendChild(this.Ob.n);this.Ob.c(100);this.fz=new fA([12,23,0]);this.fz.B(y.E.z,this.dY,this);
this.body.appendChild(this.fz.n);this.Oj=new fA([12,23,3]);this.Oj.B(y.E.z,this.dY,this);this.body.appendChild(this.Oj.n)}i9.prototype=new dT;
i9.prototype.vI=function(){this.dl._();this.su._();this.Ob._();this.fz._();this.Oj._()};i9.prototype.VW=function(c,o){dT.prototype.VW.call(this,c,o);
var K=o==iD.Mn;this.FZ.DL(c.V5,c.th);if(K||o==iD.cE||o==iD.Vk)this.FZ.E8(c.kQ)};i9.prototype.dY=function(){var c=new ev(y.E.M,!0);
c.data={Y:y.H.xA,f:this.f};c.data.EU={T:this.FZ.h(),ho:gH.T.types[this.dl.h()],GL:this.fz.s6(),MI:this.Oj.s6(),amn:ef.oj[this.su.h()],FK:this.Ob.h()/100};
this.I(c)};function cc(){dT.call(this);this.DD=new fA([8,7,1]);this.body.appendChild(this.DD.n);this.DD.B(y.E.z,this.lq,this)}cc.prototype=new dT;
cc.prototype.lq=function(){var c={Y:y.H.xA,f:this.f,Dv:this.DD.h()},o=new ev(y.E.M,!0);o.data=c;this.I(o)};
function ho(){dT.call(this);var c=S.t("span","fitem");this.body.appendChild(c);this.LZ=[new fI([12,15],-180,180,"\xB0"),new kz([1,12,2],null,null,!0)];
for(var Y=0;Y<this.LZ.length;Y++){var o=this.LZ[Y];o.parent=this;c.appendChild(o.n);o.B(Y==1?"click":y.E.z,this.b3,this)}}ho.prototype=new dT;
ho.prototype.vI=function(){for(var Y=0;Y<this.LZ.length;Y++)this.LZ[Y]._()};ho.prototype.Fv=function(c){this.LZ[0].c(c.K$*180/Math.PI)};
ho.prototype.b3=function(c){var o=this.LZ.indexOf(c.target),K=new ev(y.E.M,!0);K.data={Y:y.H.xA,f:this.f,K$:o==1?0:c.target.h()*Math.PI/180};
this.I(K)};function j$(){dd.call(this,["brush","algnd","sfrom","alt"])}j$.prototype=new dd;function em(){dT.call(this);
this.we=new ff;this.we.parent=this;this.body.appendChild(this.we.fO.n);this.body.appendChild(this.we.nE.n);
this.body.appendChild(this.we.Qr.n);this.body.appendChild(this.we.D6.n);var c=S.t("span","fitem");this.body.appendChild(c);
c.appendChild(this.we.nk.n);c.appendChild(this.we.xi.n);c.appendChild(this.we.vt.n);this.Vz=new iW("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.Vz.B(y.E.z,this.fh,this);this.body.appendChild(this.Vz.n);this.y0=new iW(null,["\u2B85","\u253F","\u2B87"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.y0.B(y.E.z,this.fh,this);this.body.appendChild(this.y0.n);this.rb=new kz([11,9],!1,null,!0);this.rb.B("click",this.aoP,this);
this.body.appendChild(this.rb.n);this.DK=new iG;this.DK.B("click",this.fh,this)}em.prototype=new dT;
em.prototype.vI=function(){this.DK._();this.we._();this.rb._()};em.prototype.aoP=function(c){var o={Y:y.H.xA,f:this.f,XF:"showwarp"},K=new ev(y.E.M,!0);
K.data=o;this.I(K)};em.prototype.Fv=function(c){if(c.XF=="showactive")this.body.appendChild(this.DK.n);
if(c.XF=="hideactive")this.body.removeChild(this.DK.n);if(c.XF=="changeOther"){this.Vz.c(c.Lt);this.y0.c([0,2,1][c.TJ])}if(c.XF=="showpan"){var o=[{name:[0,1],ql:!0}],K=[{K:y.E.v,f:r.kO,C:{Y:"editCurr",Qb:c.Qb}}],u=c.UN;
if(c.amL){o=[{name:["VAR0: VAR1",[0,5],[7,0]],ql:!0}];K=[{K:y.E.XV,C:r.mW.Io(!0)}];var X=aI.ax8();o=o.concat(X[0]);
K=K.concat(X[1])}o.push({name:[11,9]});K.push({K:y.E.M,C:{Y:y.H.xA,f:this.f,XF:"showwarp"}});var $=new jf(o,K);
$.parent=this;$._();$.update(c.fk,c.dd);var O=new ev(y.E.M,!0);O.data={Y:y.H.B2,KH:$,x:u.ct+2,y:u.TY+1};
this.I(O)}};em.prototype.VW=function(c,o){dT.prototype.VW.call(this,c,o);if(o!=iD.Vk&&o!=iD.al&&o!=iD.gk&&o!=iD.N6)return;
this.we.c(c.qH,c.ru,c.gv)};em.prototype.fh=function(c){var o={Y:y.H.xA,f:this.f,XF:this.DK.h()?"commit":"cancel"};
if(c.target==this.Vz||c.target==this.y0){o.XF="changeOther";o.Lt=this.Vz.h();o.TJ=[0,2,1][this.y0.h()]}var K=new ev(y.E.M,!0);
K.data=o;this.I(K)};function c2(){h0.call(this,!1,["binop","feat","anta","redge"])}c2.prototype=new h0(!0);
function fb(){dT.call(this);var c=[],K="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this._m=new fA([12,85]);this._m.c(!0);this._m.B(y.E.z,this.lq,this);c.push(this._m.n);this.OU=new iW(null,[[0,4],[0,3]]);
this.OU.B(y.E.z,this.lq,this);this.OU.c(1);c.push(this.OU.n);this.BE=new fA([20,1]);this.BE.B(y.E.z,this.lq,this);
c.push(this.BE.n);this.yx=new fA([12,83]);this.yx.B(y.E.z,this.lq,this);c.push(this.yx.n);this.IP=new ax;
this.IP.n=S.t("div","floatcont form");this.IP.n.setAttribute("style","max-width: 200px;");this.IP.parent=this;
var o=this.IP.n;this.aDT=new iW("Scale for exported files",["1x","2x","3x","4x"]);o.appendChild(this.aDT.n);
this.yE=new kz(K+" PNG",!1,"Save selected layers as PNG",!0);o.appendChild(this.yE.n);this.yE.B("click",this.wa,this);
this.a2L=new kz(K+" SVG",!1,"Save selected layers as SVG",!0);o.appendChild(this.a2L.n);this.a2L.B("click",this.wa,this);
var u=new kz(K,!1,"Save selected layers",!0);c.push(u.n);u.B("click",function(x){if(S.Kt(this.IP.n))return;
var l=u.n.getBoundingClientRect(),N=new ev(y.E.M,!0);N.data={Y:y.H.B2,KH:this.IP,x:l.left,y:l.top+l.height,Kd:!0};
this.I(N)},this);var X=S.t("span","fitem");c.push(X);var $=S.t("span","fitem");c.push($);this.z7=[];
for(var Y=0;Y<8;Y++){var O=Y==3||Y==7?[20,4,6]:[20,4,Y<3?Y:Y-1],n=new kz("Hi",!1,O);(Y<4?X:$).appendChild(n.n);
n.B("click",this.wa,this);this.z7.push(n)}for(var Y=0;Y<c.length;Y++)this.body.appendChild(c[Y]);this.anT=c}fb.prototype=new dT;
fb.prototype.Fv=function(c){var o=c.oq,K=c.a9I;this._m.c(o.cu);this.BE.c(o.cT);this.yx.c(o.bn);if(K){S._a(this.body);
for(var Y=0;Y<K.length;Y++)if(K[Y]==1&&this.anT[Y])this.body.appendChild(this.anT[Y])}};fb.prototype.wa=function(c){var o=this.z7.indexOf(c.target),K;
if(o==-1){K=new ev(y.E.M,!0);K.data={Y:y.H.xA,f:this.f,D$:c.target==this.yE?"getPNG":"getSVG",og:this.aDT.h()+1}}else{K=new ev(y.E.v,!0);
K.f=r.DA;K.data={Y:"algn",b:o}}this.I(K)};fb.prototype.lq=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.xA,f:this.f,D$:"prms",cu:this._m.s6(),a2y:this.OU.h(),cT:this.BE.s6(),bn:this.yx.s6()};
this.I(o)};fb.prototype.vI=function(){this._m._();this.OU._();this.BE._();this.yx._();var c="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var Y=0;Y<8;Y++){this.z7[Y].ro(S.RD("align/"+c[Y],null,"autoscale"))}};function ge(){h0.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}ge.prototype=new h0(!0);
function fo(){dd.call(this,["setop","patch"])}fo.prototype=new dd;function e$(){dd.call(this,["setop"])}e$.prototype=new dd;
function d1(c){var o=c==r.aiJ?[]:["bmode"];dd.call(this,o.concat(["opacity","wconf","sall"]))}d1.prototype=new dd;
function ia(){h0.call(this,!1,["binop","feat","anta","redge"])}ia.prototype=new h0(!0);function fV(){h0.call(this,!1,["binop","feat","anta","redge"])}fV.prototype=new h0(!0);
function hn(){h0.call(this,!1,["binop","feat","redge","cstr"])}hn.prototype=new h0(!0);function c0(){dT.call(this);
this.RU=null;this.Nq=null;this.oc=[new fi("X",null,3.2,null,!0),new fi("Y",null,3.2,null,!0),new fi("W",null,3.2,null,!0),new fi("H",null,3.2,null,!0),new fi([12,15],"\xB0",3.7,null,!0),new fi(["VAR0 1",[12,80,0]],null,3.5,null,!0),new fi(["VAR0 2",[12,80,0]],null,3.5,null,!0),new kz([15,7,6],!1,null,!0),new kz([2,2],!1,null,!0)];
for(var Y=0;Y<this.oc.length;Y++){var c=this.oc[Y];this.body.appendChild(c.n);if(Y>6)c.B("click",this.Tp,this)}this.tn=0}c0.prototype=new dT;
c0.prototype.Tp=function(c){var o=this.oc.indexOf(c.target)==7,K=new ev(y.E.v,!0);if(o){if(this.tn==0)return;
K.f=r.Le;K.data={Y:"rot",u0:[2,5],b:-this.tn}}else{K.f=r.yu;for(var Y=0;Y<6;Y++)this.oc[Y].c(null)}this.I(K)};
c0.prototype.Fv=function(c){function o(n,x,l){var N=Math.sqrt(Math.pow(x.x-n.x,2)+Math.pow(x.y-n.y,2)),f=Math.sqrt(Math.pow(x.x-l.x,2)+Math.pow(x.y-l.y,2)),z=Math.sqrt(Math.pow(l.x-n.x,2)+Math.pow(l.y-n.y,2));
return Math.acos((f*f+N*N-z*z)/(2*f*N))}if(c==null)return;this.Nq=c;var K=c.a0C,u=c.iW,X=u.x-K.x,$=u.y-K.y;
this.tn=-Math.atan2($,X);if(c.Kz)this.tn=o(u,K,c.Kz);var O=this.oc;O[0].c(this.c8(c,K.x));O[1].c(this.c8(c,K.y));
O[2].c(this.c8(c,X));O[3].c(this.c8(c,$));O[4].c((this.tn*180/Math.PI).toFixed(2));O[5].c(this.c8(c,kn.je(K,u)));
if(c.Kz){O[6].c(this.c8(c,kn.je(K,c.Kz)))}else O[6].c("")};c0.prototype.c8=function(c,o){var K=a.Pj.IL(o,c.$M,this.RU,c.af2,!1);
return parseFloat(K).toFixed(2)};c0.prototype.VW=function(c,o){this.RU=c;this.Fv(this.Nq)};c0.prototype.vI=function(){var c=this.oc;
for(var Y=0;Y<c.length;Y++)c[Y]._();S.eD(c[2],c[3])};function ec(){dd.call(this,["brush","strn","pdetail"])}ec.prototype=new dd;
function cT(){dd.call(this,["brush","sfrom"]);this.agI=[];var c=[[7,12]];for(var Y=0;Y<c.length;Y++){var o=new kz(c[Y],!1,null,!0);
this.agI.push(o);o.parent=this;this.body.appendChild(o.n);o.B("click",this.aqR,this)}}cT.prototype=new dd;
cT.prototype.aqR=function(c){var o=this.agI.indexOf(c.currentTarget),K=new ev(y.E.XV,!0);K.data=r.VN.P5(o==0?"contentAware":"aiHeal");
this.I(K)};function gD(){dd.call(this,["brush","strn"])}gD.prototype=new dd;function g_(){dd.call(this,["brush","flow","smode"])}g_.prototype=new dd;
function di(){dT.call(this);this.fH=!1;var c=S.t("span","fitem");this.body.appendChild(c);this.oJ=new hE(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
c.appendChild(this.oJ.n);this.oJ.B(y.E.z,this.lq,this);this.Sb=new kz([20,2]);this.body.appendChild(this.Sb.n);
this.Sb.B("click",this.a3M,this);this.CD=new kz([20,3]);this.body.appendChild(this.CD.n);this.CD.B("click",this.a3M,this);
this.DD=new fA([8,7,1]);this.body.appendChild(this.DD.n);this.DD.B(y.E.z,this.lq,this)}di.prototype=new dT;
di.prototype.vI=function(){this.Sb._();this.CD._()};di.prototype.lq=function(){var c={Y:y.H.xA,f:this.f,hI:this.oJ.h()==0,Dv:this.DD.h()},o=new ev(y.E.M,!0);
o.data=c;this.I(o)};di.prototype.Fv=function(c){if(this.fH!=c.fH)this.oJ.c(1-this.oJ.h());this.fH=c.fH};
di.prototype.a3M=function(c){var o=new ev(y.E.v,!0);o.f=r.Hu;o.data={Y:"adapt",b:c.target==this.Sb?"pixel":"fitscr"};
this.I(o)};function h3(c,o){dT.call(this);if(c==null)return;this._R=c;this.lj={};this.azi=o;for(var Y=0;
Y<c.length;Y++){var K=c[Y],u=null;if(K=="tmode"){u=new iW(null,[[12,76,1],[12,76,0],[12,76,2]]);u.c(0);
if(o)u.ail(2)}if(K=="make"){u=new hE("Make",[[17,2],[12,76,1]],null,!0)}if(K=="anta"){u=new fA([12,25,1]);
u.c(!0)}if(K=="binop"){u=new iW(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(K=="pshape")u=new iW(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(K=="shape")u=new bY([12,76,1]);if(K=="crad"){u=new fI([12,94,0],0,50,"px");u.c(0)}if(K=="cstr"){u=new hL}if(K=="irad"){u=new fI([12,94,1],0,100,"%");
u.c(40)}if(K=="length"){u=new fI([12,80,0],4,40);u.c(4)}if(K=="sides"){u=new fI([12,78],3,30);u.c(5)}if(K=="width"){u=new fI([12,41],1,100,"px");
u.c(5)}if(K=="tolr"){u=new fI([12,24],0,100);u.c(5)}if(K=="fstyle"){u=new hz([12,26])}if(K=="sstyle"){u=new fM}if(K=="psnap"){u=new fA([8,10])}if(K=="crnr"){u=new kz("\u2312",!1,[12,94,0],!0)}if(K=="aopts"){u=new f3;
u.c([!1,!1,50,60,0])}if(K=="smplp"){u=new kz([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}u.parent=this;
this.body.appendChild(u.n);this.lj[K]=u;u.B(K=="crnr"||K=="smplp"?"click":y.E.z,this.lq,this)}}h3.prototype=new dT;
h3.prototype.Fv=function(c){if(c.fQ!=null)this.lj.binop.c(c.fQ);else if(c.D$=="vals")for(var o in c.a7k)this.lj[o].c(c.a7k[o]);
else{var K=h3.QP,u=function($){return{w:$!=null&&$.n_(!1)}};if(K==null)K=h3.QP=new jf([{name:"Remove Anchor Point",w:function($){var O=$?$.Dr():null;
return{w:$&&O[1].length!=0&&O[0][O[1][0]].add.vmsk.s5.length!=0}}},{name:"Remove Path",w:function($){var O=$?$.Dr():null;
return{w:$&&O[1].length!=0&&O[0][O[1][0]].add.vmsk.g.length!=0}},ql:!0},{name:"Make Selection"},{name:[2,3],w:u},{name:[14,9],w:u}],[{K:y.E.v,f:r.FP,C:{Y:"remove",bm:!0}},{K:y.E.v,f:r.iZ,C:{Y:"remove"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"makesel"}},{K:y.E.XV,C:r.ju.EO(null)},{K:y.E.XV,C:r.ju.EO("PbTl")}]);
K.parent=this;K.update(c.fk,c.dd);var X=new ev(y.E.M,!0);X.data={Y:y.H.B2,KH:K,x:c.UN.ct+2,y:c.UN.TY+1};
this.I(X)}};h3.prototype.ax2=function(Y){return null};h3.prototype.vI=function(){for(var c in this.lj){this.lj[c]._()}};
h3.prototype.lq=function(c){var o=new ev(y.E.M,!0),K=this.lj;if(c.target==K.crnr){o=new ev(y.E.v,!0);
o.f=r.FP;o.data={Y:"crnr"}}else if(c.target==K.smplp){o=new ev(y.E.v,!0);o.f=r.iZ;o.data={Y:"smplp"}}else if(c.target==K.make){var Y=c.target.h();
console.log(Y);if(Y==0)o.data={Y:y.H.Vl,n9:"makesel"};else{o=new ev(y.E.v,!0);o.f=r.CJ;o.data={Y:"newfill",RL:0}}}else if(c.target==K.fstyle){o.data={Y:y.H.NU,EU:iD.Cr,b:K.fstyle.h()}}else if(c.target==K.sstyle){o.data={Y:y.H.NU,EU:iD.JP,b:K.sstyle.h()}}else if(c.target==K.tmode){o.data={Y:y.H.NU,EU:iD.IQ,b:K.tmode.h()}}else{if(K.pshape)this.Tr();
o.data={Y:y.H.xA,f:this.f};for(var u in K)o.data[u]=K[u].h()}this.I(o)};h3.prototype.Tr=function(){var c=this.lj,o=c.tmode.h(),K=c.pshape?this.ax2(c.pshape.h()):this._R,u;
if(o==0)u=["anta","make"];if(o==1)u=["anta","fstyle","sstyle"];if(o==2)u=["make","binop","fstyle","sstyle"];
var X=c.binop;if(X){var $=X.h();if(o==0){X.aA_(0)}else{X.ail(0);if($==0){X.c(1);this.lq({target:X})}}}S._a(this.body);
for(var Y=0;Y<K.length;Y++){var O=K[Y];if(u.indexOf(O)!=-1)continue;this.body.appendChild(c[O].n)}};
h3.prototype.VW=function(c,o){dT.prototype.VW.call(this,c,o);var K=this.lj.fstyle,u=this.lj.sstyle,X=this.lj.tmode;
if(K)K.VW(c,o);if(u)u.VW(c,o);if(o==iD.Vk||o==iD.OO)if(c.Vr.length!=0&&this.lj.shape){this.lj.shape.E8(c.Vr)}if(o==iD.Vk||o==iD.Cr)if(K)K.c(null,c.L6,c.QN);
if(o==iD.Vk||o==iD.JP)if(u)u.c(null,c.KT,c.$t);if(o==iD.Vk||o==iD.IQ){var $=c.zc;if(this.azi&&$==2)$=0;
if(X){X.c($);this.Tr()}}};function dl(){h3.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}dl.prototype=new h3;
function aM(){h3.call(this,"tmode make anta fstyle sstyle binop".split(" "))}aM.prototype=new h3;function g0(){h3.call(this,["fstyle","sstyle","smplp"]);
this.ajS=null;this.a3s=null;this.ac5=null;this.mF=new iW([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.b7=new kz("\u25BC");this.b7.tb();this.L2=new kz("\u25B2");this.L2.tb();this.xz=[this.mF,this.b7,this.L2];
for(var Y=0;Y<this.xz.length;Y++){var c=this.xz[Y];this.body.appendChild(c.n);c.parent=this;c.B(Y==0?y.E.z:"click",this.oR,this)}}g0.prototype=new h3;
g0.prototype.Fv=function(c){if(c.XF=="main"){var o=this.xz,K=c.D5;if(K){this.a3s=K.clone();this.ac5=JSON.stringify(c.O9);
var u=K.g.slice(0),X=u.length;for(var Y=0;Y<u.length;Y++)u[Y]++;u.sort(function(x,l){return x-l});o[0].R1();
o[1].WR(X!=0);o[2].WR(X!=0);o[0].ro(X==0?"No Paths":X==1?"Path "+u[0]:"Paths "+u.slice(0,3).join(",")+(X>3?"..":""));
if(X!=0){var $=K.g[0],O=a.o.uM(K.$,$),n=K.$[O];this.mF.c([3,0,1,2][n.cS])}}else for(var Y=0;Y<o.length;
Y++)o[Y].Lc()}else h3.prototype.Fv.call(this,c)};g0.prototype.vI=function(){h3.prototype.vI.call(this);
this.mF._()};g0.prototype.oR=function(c){if(c.target==this.mF||c.target==this.b7||c.target==this.L2){var o={},K=this.a3s,u=K.$,X=K.g,$=a.o.mn(u),O=JSON.parse(this.ac5);
X.sort(function(h,E){return h-E});if(c.target==this.mF){var n=this.mF.h();if(n<4)for(var Y=0;Y<X.length;
Y++)u[a.o.uM(u,X[Y])].cS=[1,2,3,0][n];else{if($<=1)return;K.$=a.o.R7(u);K.g=K.$.length==2?[]:[0];K.s5=[];
O=[a.O9._6()]}}else{var x=c.target==this.b7?-1:1,l=[];for(var Y=0;Y<$;Y++){var N=a.o.uM(u,Y),f=N+1+u[N].length;
l.push(u.slice(N,f))}var z=X.slice(0);for(var Y=0;Y<X.length;Y++)z[Y]=Math.max(Y,Math.min($-1-(X.length-1-Y),z[Y]+x));
if(X.join(",")==z.join(","))return;var R=JSON.parse(JSON.stringify(O));for(var Y=0;Y<X.length;Y++){var V=x==-1?Y:X.length-1-Y,N=X[V],f=z[V];
if(N!=f){var d=l[N];l[N]=l[f];l[f]=d;d=R[N];R[N]=R[f];R[f]=d}}var e=u.slice(0,2);for(var Y=0;Y<l.length;
Y++)e=e.concat(l[Y]);K.$=e;K.g=z;O=R}o.D5=K;o.O9=O;var p=new ev(y.E.M,!0);p.data={Y:y.H.xA,f:this.f,Yg:o};
this.I(p)}};function a9(){h3.call(this,["fstyle","sstyle","crnr","psnap"])}a9.prototype=new h3;function dN(){h3.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}dN.prototype=new h3;
function a7(){h3.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}a7.prototype=new h3;
function ht(){h3.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.lj.aopts.c([!1,!0,50,60,0])}ht.prototype=new h3;ht.prototype.ax2=function(Y){var c=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(c[Y])};function k6(){h3.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}k6.prototype=new h3;
function gb(){h3.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}gb.prototype=new h3;
function iE(){h0.call(this,!1,["binop","feat","redge","sesu"])}iE.prototype=new h0(!0);function f9(){dd.call(this,["brush","qsmode","redge","sesu"])}f9.prototype=new dd;
function hf(){dT.call(this);this.wU=[];for(var Y=0;Y<2;Y++){var c=new kz(Y==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.wU.push(c);c.B("click",this.oR,this);this.body.appendChild(c.n)}}hf.prototype=new dT;hf.prototype.oR=function(c){var o;
if(this.wU.indexOf(c.target)==0){o=new ev(y.E.XV,!0);o.data={ST:"make",sK:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{o=new ev(y.E.M,!0);
o.data={Y:y.H.Vl,n9:"divslice"}}this.I(o)};hf.prototype.vI=function(c){for(var Y=0;Y<this.wU.length;
Y++)this.wU[Y]._()};function a3(){dT.call(this);var c=this.zU=[new kz("\u25BC",null,null,!0),new kz("\u25B2",null,null,!0),new kz([5,4],null,null,!0),new kz(["VAR0...",[15,10,22]],null,null,!0)];
for(var Y=0;Y<4;Y++){var o=c[Y];this.body.appendChild(o.n);o.B("click",this.oR,this)}}a3.prototype=new dT;
a3.prototype.oR=function(c){var o=this.zU.indexOf(c.target),K;if(o==3){K=new ev(y.E.M,!0);K.data={Y:y.H.Vl,n9:"divslice"}}else{K=new ev(y.E.v,!0);
K.f=r.t4;K.data={Y:o==2?"delete":"reorder",dir:o==0?-1:1}}this.I(K)};a3.prototype._=function(){dT.prototype._.call(this);
for(var Y=0;Y<4;Y++)this.zU[Y]._()};function g8(c,o){dT.call(this);if(window.Typr==null||c)return;this.atg=o;
this.xB=null;this.aye=S.t("span","");this.akc=S.t("span","");var K=1,u=this.Qg={gg:new a_(null,24),yo:new fI("X",0,0,"px",0,!1,!0,4),o2:new fI("Y",0,0,"px",0,!1,!0,4),mg:new fI("W",0,0,["%","px"],2,!1,!0,5),wE:new kz("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Cx:new fI("H",0,0,["%","px"],2,!1,!0,5),aqq:new fI("\u2221",0,0,"\xB0",K,!1,!0),aCt:new fI("\u25B1 H",-85,85,"\xB0",K,!1,!0),avI:new fI("\u25B1 V",-85,85,"\xB0",K,!1,!0),d2:new iW(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),eQ:new iW("Protect",[])};
u.d2.c(1);u.wE.c(!0);for(var X in u){var $=u[X],O=!0;if(o&&($==u.aqq||$==u.aCt||$==u.avI||$==u.d2))O=!1;
if(!o&&$==u.eQ)O=!1;if(O)this.aye.appendChild($.n);var n=$==u.wE?"click":y.E.z;$.B(n,this.abm,this)}this.HU=new hE("Split",hE.DS(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.HU.c(-1);this.HU.B(y.E.z,this.acH,this);this.q7=new bX(!0,!0,!0);this.q7.B(y.E.z,this.acH,this);
this.q7.parent=this;var x=this.akc,l=this.q7;x.appendChild(this.HU.n);x.appendChild(l.Ii.n);x.appendChild(l.pU.n);
x.appendChild(l.LU.n);x.appendChild(l.Im.n);x.appendChild(l.iU.n);this.rb=new kz([11,9]);this.rb.B("click",this.a99,this);
this.DK=new iG;this.DK.B("click",this.fh,this)}g8.prototype=new dT;g8.prototype.Fv=function(c){if(c.UN){var o=g8,K=this.QP;
if(K==null)K=this.QP=new jf(o.aDY(),o.auM(this.f));K._();K.parent=this;K.update(c.fk,c.dd);var u=new ev(y.E.M,!0);
u.data={Y:y.H.B2,KH:K,x:c.UN.ct+2,y:c.UN.TY+1};this.I(u);return}S._a(this.body);this.xB=c;if(c.Qg){var X=c.Qg.aB,$=c.Qg.kn.clone(),O=Math.atan2(-$.J,$.V),n=new bE;
n.rotate(-O);$.concat(n);var x=this.Qg;x.gg.c(c.Qg.ss);x.yo.c(c.Qg.Q2.x);x.o2.c(c.Qg.Q2.y);x.mg.c($.V*(x.mg.z_()=="%"?100:X.m));
x.Cx.c($.gI*(x.Cx.z_()=="%"?100:X.e));x.aqq.c(-O*180/Math.PI);x.aCt.c(Math.atan($.If/$.gI)*180/Math.PI);
x.avI.c(0*180/Math.PI);this.body.appendChild(this.aye);this.rb.Nv();if(c.Qg.zj!=null)x.wE.c(c.Qg.zj)}if(c.eR){if(c.ar6)this.HU.c(-1);
this.q7.c(c.eR);this.body.appendChild(this.akc);this.rb.tb()}if(c.lr)x.eQ.e8(c.lr);this.body.appendChild(this.DK.n);
if(c.aDn&&!this.atg)this.body.appendChild(this.rb.n)};g8.prototype.abm=function(c){var o=this.Qg,K=this.xB.Qg.aB;
if(c.target==o.wE)o.wE.c(!o.wE.h());else if(o.wE.s6()){var u=o.Cx,X=o.mg,$=K.e,O=K.m;if(c.target==o.mg){u=o.mg;
X=o.Cx;$=K.m;O=K.e}var n=u.h()/(u.z_()=="%"?100:$);n*=X.z_()=="%"?100:O;X.c(n)}var x=[];for(var l in o)if(o[l]!=o.wE&&o[l]!=o.gg){var n=o[l].h();
if((o[l]==o.mg||o[l]==o.Cx)&&n==0){n=.1;o[l].c(n)}if(o[l]==o.mg&&o[l].z_()=="px")n/=K.m/100;if(o[l]==o.Cx&&o[l].z_()=="px")n/=K.e/100;
x.push(n)}var N=new kn(x[0],x[1]);if(c.target==o.gg){this.zk({XF:"ctyp",ss:o.gg.h()})}else if(c.target==o.yo||c.target==o.o2){this.zk({XF:"cen",Q2:N})}else{var f=this.xB.Qg.kn.clone(),z=f.clone(),R=Math.atan2(-f.J,f.V);
z.translate(-N.x,-N.y);z.rotate(-R);var V=new bE(z.V,z.J,z.If,z.gI,0,0);V.fH();z.concat(V);var d=x[2]/100,e=x[3]/100;
z.concat(new bE(d,d*Math.tan(x[6]*Math.PI/180),e*Math.tan(x[5]*Math.PI/180),e,0,0));z.rotate(-x[4]*Math.PI/180);
z.translate(N.x,N.y);this.xB.Qg.kn=z;this.zk({XF:"trn",Qg:z,S9:o.d2.h(),Gb:o.eQ.h(),zj:o.wE.h()})}};
g8.prototype.acH=function(c){var o=this.HU;this.zk(c.target==o?{XF:"splt",b:o.h()}:{XF:"wrp",eR:this.q7.h()})};
g8.prototype.a99=function(c){this.zk({XF:"switchWarp"})};g8.prototype.fh=function(c){this.zk({XF:this.DK.h()?"commit":"cancel"})};
g8.prototype.zk=function(c){c.Y=y.H.xA;c.f=this.f;var o=new ev(y.E.M,!0);o.data=c;this.I(o)};g8.prototype.vI=function(){var c=this.Qg;
for(var o in c)c[o]._();S.eD(c.mg,c.Cx);this.DK._();this.HU._();this.q7._();this.rb._()};g8.aDY=function(){var c=function(o){var K=!0;
if(o==null||o.g.length==0)K=!1;else{var u=o.g;for(var Y=0;Y<u.length;Y++){if(o.s[u[Y]].add.TySh)K=!1}}return{w:K}};
return[{name:[5,9],rh:"Shift+Alt+Ctrl + T",ql:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],w:c},{name:[2,9],w:c,ql:!0},{name:[11,9],w:function(o){if(o==null||o.g.length!=1)return{w:!1};
var K=o.s[o.g[0]];return{w:K.add.TySh==null&&!K.rD()}},ql:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
g8.auM=function(c){if(c==null)c=r.Le;return[{K:y.E.v,f:c,C:{Y:"again"}},{K:y.E.M,C:{Y:y.H.VO,f:c,oq:{B5:3}}},{K:y.E.M,C:{Y:y.H.VO,f:c,oq:{B5:4}}},{K:y.E.M,C:{Y:y.H.VO,f:c,oq:{B5:5}}},{K:y.E.M,C:{Y:y.H.VO,f:c,oq:{B5:2}}},{K:y.E.M,C:{Y:y.H.VO,f:c,oq:{B5:1}}},{K:y.E.M,C:{Y:y.H.VO,f:c,oq:{B5:-1}}},{K:y.E.XV,C:r.W.OD(!0,90,!0)},{K:y.E.XV,C:r.W.OD(!0,-90,!0)},{K:y.E.XV,C:r.W.OD(!0,-180,!0)},{K:y.E.XV,C:r.W.OD(!1,"Hrzn",!0)},{K:y.E.XV,C:r.W.OD(!1,"Vrtc",!0)}]};
function gB(){g8.call(this)}gB.prototype=new g8(!0);function bJ(){g8.call(this)}bJ.prototype=new g8(!0);
function aO(){g8.call(this,!1,!0)}aO.prototype=new g8(!0);function jk(){dT.call(this);var c=this._R=[new iW([12,36],["Rigid",[15,10,0],[24,4]]),new iW([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new fI([7,4],0,100,"px"),new fA("Show Mesh"),new kz("\u25BC",null,null,!0),new kz("\u25B2",null,null,!0)];
for(var Y=0;Y<c.length;Y++){var o=c[Y];o.parent=this;this.body.appendChild(o.n);o.B(Y<4?y.E.z:"click",this.a7Q,this)}this.DK=new iG;
this.DK.B("click",this.fh,this);this.body.appendChild(this.DK.n)}jk.prototype=new dT;jk.prototype.vI=function(){var c=this._R;
for(var Y=0;Y<4;Y++)c[Y]._();this.DK._()};jk.prototype.Fv=function(c){var c=c.EU;for(var Y=0;Y<4;Y++)this._R[Y].c(c[Y])};
jk.prototype.a7Q=function(c){var o=[];for(var Y=0;Y<4;Y++)o[Y]=this._R[Y].h();var K=this._R.indexOf(c.target);
if(K<4)this.zk({XF:"prm",EU:o});else this.zk({XF:"moveDepth",a5C:K==5})};jk.prototype.fh=function(c){this.zk({XF:this.DK.h()?"commit":"cancel"})};
jk.prototype.zk=function(c){c.Y=y.H.xA;c.f=this.f;var o=new ev(y.E.M,!0);o.data=c;this.I(o)};function hJ(){dT.call(this);
var c=this.pb=[new iW([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var Y=0;Y<c.length;Y++){var o=c[Y];
o.B(y.E.z,this.lq,this);this.body.appendChild(o.n)}}hJ.prototype=new dT;hJ.prototype.lq=function(c){var o=this.pb,K=[];
for(var Y=0;Y<o.length;Y++)K[Y]=o[Y].h();var u=new ev(y.E.M,!0);u.data={Y:y.H.xA,f:this.f,OS:K};this.I(u)};
hJ.prototype.vI=function(){for(var Y=0;Y<this.pb.length;Y++)this.pb[Y]._()};function hO(){h0.call(this,!1,["binop"]);
this.GW=new kz("Remove",!1,null,!0);this.GW.B("click",this.Sf,this);this.GW.n.style.marginRight="2em";
this.ayH=new fi("New content");this.jh=new kz("\u2026",!1,null,!0);this.jh.B("click",this.h9,this);this.yw=new kz("Replace",!1,null,!0);
this.yw.B("click",this.Sf,this);this.body.appendChild(this.GW.n);this.body.appendChild(this.ayH.n);this.body.appendChild(this.jh.n);
this.body.appendChild(this.yw.n);this.IP=new ax;this.IP.parent=this;var c=this.IP.n=S.t("div","floatcont form label6"),o=this.wA="euler euler_a ddim dpm k_lms pndm".split(" "),K=this.dy=[new fA("Use default settings"),new fi("Neg. prompt",null,13.25),new av("Guidance",-20,20),new av("Steps",10,50),new iW("Sampler",o)];
K[0].B(y.E.z,this._,this);K[0].c(!0);K[2].c(6);K[3].c(20);for(var Y=0;Y<K.length;Y++){c.appendChild(K[Y].n);
S.jR(c)}}hO.prototype=new h0(!0);hO.prototype._=function(){dT.prototype._.call(this);var c=this.dy;for(var Y=0;
Y<c.length;Y++){c[Y]._();if(Y>0)c[Y].WR(!c[0].h())}};hO.prototype.Sf=function(c){var o=this.dy,K={},u=["negative_prompt","guidance","steps","sampler"],X=!o[0].h();
if(X){for(var Y=1;Y<o.length;Y++)K[u[Y-1]]=o[Y].h();K.sampler=this.wA[K.sampler];K.steps=Math.min(K.steps,50)}var $=new ev(y.E.XV,!0);
$.data=r.VN.P5("aiHeal");if(c.target==this.yw){$.data.sK.prmt={t:"TEXT",v:this.ayH.h()};if(X)$.data.sK.EU=K}this.I($)};
hO.prototype.h9=function(c){if(S.Kt(this.IP.n))return;var o=this.jh.n.getBoundingClientRect(),K=new ev(y.E.M,!0);
K.data={Y:y.H.B2,KH:this.IP,x:o.left,y:o.top+o.height+4};this.I(K)};function gy(){ax.call(this);this.n=S.t("div","cmanager");
window.alert=function(u,X){this.amA(u,X);console.log("Alert: "+u)}.bind(this);window.onblur=function(u){var X=this;
X.jG()}.bind(this);this.Oc=0;this.s_=0;this.Ro=[];this.r4={};this.yL=S.t("div","alertcont");this.n.appendChild(this.yL);
this.atR=S.t("div","alertcont");this.n.appendChild(this.atR);this.OK=S.t("div","alertcont");this.adK=0;
this.v6=-1;this.ar7=null;this.wU=null;var c=this.asz=S.t("div","alertpanel");c.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.OK.appendChild(c);var o=this.RX=S.t("input");o.setAttribute("type","text");S.E0(o);o.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
o.addEventListener("input",this.acU.bind(this),!1);o.addEventListener("keydown",this.a3n.bind(this),!1);
c.appendChild(o);var K=this.aCL=S.t("div","contextpanel scrollable");K.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
K.addEventListener("click",this.akb.bind(this),!1);c.appendChild(K);S.pI(document.body,this.aE0.bind(this))}gy.prototype=new ax;
gy.prototype.cd=function(){if(S.Kt(this.OK))this.n.removeChild(this.OK)};gy.prototype.awl=function(c,o){var K=this.ar7=[],u=o.adN;
for(var Y=0;Y<aI.data.length;Y++){var X=aI.data[Y],$=[iV.get(X.name)],O=[Y];gy.mo(X.items,$,O,K,c,o,u==null?null:u[Y]==null?0:u[Y])}var n=o.k;
for(var Y=0;Y<n.Hv.length;Y++){var x=n.Hv[Y],l=n.keys[Y];for(var N=0;N<x.length;N++)K.push([["Tools",iV.get(x[N].f.name)],[-1,x[N].f.id],l?l.xq:null])}this.n.appendChild(this.OK);
var f=this.RX;f.focus();f.select();this.gd()};gy.prototype.acU=function(c){this.v6=-1;this.gd()};gy.prototype.gd=function(){var c=this.RX.value.toLowerCase().trim().replace(/  +/g," "),o=this.ar7,K=[],u=[],X=c.split(" ");
if(c!="")for(var Y=0;Y<o.length;Y++){var $=o[Y][0],O=[],n=0;for(var x=0;x<$.length;x++)O[x]=-1;for(var l=0;
l<X.length;l++)for(var x=0;x<$.length;x++){var N=$[x].toLowerCase().indexOf(X[l]);if(N!=-1){O[x]=[N,N+X[l].length];
n++;break}}if(n==X.length){K.push(o[Y]);u.push(O)}}var f=[],z=this.aCL;S._a(z);for(var Y=0;Y<K.length;
Y++){var R=K[Y],V=R[0],N=u[Y],d="enab",p="";if(Y==this.v6)d+=" active";var e=S.t("div",d);f.push(e);
z.appendChild(e);for(var x=0;x<V.length;x++){var h=N[x],E=X[x],q=V[x];if(h!=-1)q=q.slice(0,h[0])+"<span style=\"color:black\">"+q.slice(h[0],h[1])+"</span>"+q.slice(h[1]);
p+=q;if(x<V.length-1)p+=" \uFE65 "}if(R[2]&&(typeof R[2]!="string"||R[2].length==1))p+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+d2.k$(R[2])+"</span>";
e.innerHTML=p}this.wU=[K,f]};gy.prototype.a3n=function(c){var o=d2.y3,K=c.code;if(o(K,d2.G$))this.cd();
var u=o(K,d2.hF),X=o(K,d2.N5),$=o(K,d2.m8);if(u||X){this.v6=Math.max(0,Math.min(this.wU[0].length-1,this.v6+(u?-1:1)));
this.gd()}if($&&this.v6!=-1)this.awa(this.v6)};gy.mo=function(c,o,K,u,X,$,O){if(typeof O=="number"){if(O==0)return;
if(O==1)O=null}for(var Y=0;Y<c.length;Y++){if(O!=null&&(O[Y]==0||O[Y]==null))continue;var n=c[Y],x=o.slice(0),l=K.slice(0),N=iV.get(n.name);
if(n.w){var f=n.w(X,$,Y);if(f.RS)N=f.RS;if(f.w==!1)continue}x.push(N);l.push(Y);if(n.sub)gy.mo(n.sub,x,l,u,X,$,O?O[Y]:null);
else u.push([x,l,n.rh])}};gy.prototype.akb=function(c){var o=c.target;if(o.tagName.toLowerCase()=="span")o=o.parentNode;
var K=this.wU[1].indexOf(o);if(K!=-1)this.awa(K)};gy.prototype.awa=function(c){var o=this.wU[0][c][1];
if(o[0]==-1){var K=new ev(y.E.M,!0);K.data={Y:y.H.VO,f:o[1]};this.I(K)}else{var u=aI.data[o[0]].u5[o[1]];
for(var Y=2;Y<o.length;Y++)u=u.sub[o[Y]];var X=new ev(u.K,!0);X.f=u.f;X.data=u.C;this.I(X)}this.cd()};
gy.prototype._Q=function(c,o){this.Oc=c;this.s_=o;this.aCL.style["max-height"]=o-120+"px"};gy.prototype.awq=function(c){var o=S.t("div","alertpanel");
o.textContent=iV.get(c);this.yL.appendChild(o);this.r4[JSON.stringify(c)]=o};gy.prototype.aeK=function(c){var o=this.r4[JSON.stringify(c)];
this.yL.removeChild(o);delete this.r4[JSON.stringify(c)]};gy.prototype.amA=function(c,o){var K=this.atR;
for(var Y=0;Y<K.children.length;Y++)if(K.children[Y].textContent==c)return;var u=S.t("div","alertpanel tpanel");
u.textContent=c;u.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");K.appendChild(u);if(o==null)o=1500;
var X=o,$=Math.max(Date.now()+X,this.adK+X);setTimeout(function(){u.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){K.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},$-Date.now()-30);
setTimeout(function(){K.removeChild(K.firstChild);K.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},$-Date.now());
this.adK=$};gy.prototype.aE0=function(c){var o=this.Ro;for(var Y=o.length-1;Y>=0;Y--){var K=o[Y],u=c.target;
while(u!=null){if(u==K.n){this.jG(K);return}u=u.parentNode}}this.jG();var X=c.target;while(X!=this.OK&&X!=document.body)X=X.parentNode;
if(X!=this.OK)this.cd()};gy.prototype.jG=function(c){var o=this.Ro;for(var Y=0;Y<o.length;Y++){if(c&&c.a36(o[Y]))continue;
var K=o[Y].n;if(!(o[Y]instanceof jf))S.BA(o[Y],this.n);else this.n.removeChild(K);K.style.height="auto";
S.MG(K,"scrollable");o.splice(Y,1);Y--}};gy.prototype.acJ=function(c){this.jG(c.KH);var o=c.KH,K=o.n;
if(this.Ro.indexOf(o)!=-1)return;this.Ro.push(o);this.n.appendChild(K);var u=this.Oc,X=this.s_,$=c.x,O=c.y,n=this.n.getBoundingClientRect(),x=o instanceof jf,l=-1,N=X-2;
if(x||c.Kd){var f=o.RP(),z=o.acu();if(x)f=Math.min(f,200);var R=u-f-2,V=X-z-2;if(O<V)l=2;else if($<R)l=1;
else if(0<O-z-2)l=0;else l=3;if(c.amj)l=0;if(c.ahh)l=2;if(l==2){$=Math.min($,R)}else if(l==1){O=Math.min(O,V)}else if(l==0){O=O-z-2;
$=Math.min($,R);N=c.y}else if(l==3){$=$-f-2;O=Math.min(O,V)}}O=Math.max(2,O);var top=Math.round(O-n.y+this.n.offsetTop);
K.style.position="absolute";K.style["z-index"]=10;if(O+o.acu()>N){K.style.height=N-O+"px";S.SZ(K,"scrollable");
if(l==3)$-=10}K.style.left=Math.round($)+"px";K.style.top=top+"px";if(!(o instanceof jf))S.CR(o)};gy.prototype.amg=function(c){var o=c.KH,K=this.Ro.indexOf(o);
if(K==-1)return;this.Ro.splice(K,1);var u=o.n;if(!(o instanceof jf))S.BA(o,this.n);else this.n.removeChild(o.n)};
gy.prototype.ZG=function(){var c=this.Ro;return c.length==0?null:c[c.length-1]};gy.prototype.aiG=function(){this.amg({KH:this.ZG()})};
function aL(){ax.call(this);this.n=S.t("div","confbar")}aL.prototype=new ax;aL.prototype.a76=function(c){c.parent=this;
S._a(this.n);this.n.appendChild(c.n)};function fn(c){ax.call(this);fn.nM=this;fn.Di=c;this.RU=null;this.vo=S.t("input","");
this.vo.setAttribute("type","file");this.vo.setAttribute("multiple","");this.vo.addEventListener("change",function(o){this.Pu(o.target.files,null,this.Tk,null);
this.Tk=null}.bind(this),!1);document.body.appendChild(this.vo);this.vo.setAttribute("style","display:none");
this.azR=[];this.cc=!1;this.aav=[];this.Du=!1;this.ac4={};this.Tk=null}fn.prototype=new ax;fn.Di=null;
fn.Zo=function(c){try{var o={};o[c.type]=c;navigator.clipboard.write([new ClipboardItem(o)])}catch(ar){console.error(ar,ar.message)}};
fn.HC=function(c,o){navigator.clipboard.read().then(function(K){for(var Y=0;Y<K.length;Y++){try{var u=K[Y],X={},$=0,O=0;
for(var n=0;n<u.types.length;n++){var x=u.types[n];$++;u.getType(x).then(function(l){var N=x;new Response(l).arrayBuffer().then(function(f){X[this.RL]=f;
O++;if(O==$)fn.apC(X,c,o)}.bind({RL:this.RL}))}.bind({RL:x}))}}catch(ar){console.error(ar,ar.message)}}}).catch(function(K){})};
fn.a1B=function(c){navigator.permissions.query({name:"clipboard-read"}).then(function(o){c(o.state)})};
fn.apC=function(c,o,K){var u=["text/plain","image/png","text/html","text/plain"];for(var X in c)console.log(X,X.startsWith("text")?_.AF(new Uint8Array(c[X])).slice(0,100)+"...":c[X]);
for(var $=0;$<u.length;$++){var O=u[$],n=c[O];if(n==null)continue;if(O=="image/png"){fn.Di({name:"image.png"},n,o,K);
return}if(O=="text/plain"){var x=_.AF(new Uint8Array(n));if($==0)if(!x.startsWith("<!--")&&!x.startsWith("<svg"))continue;
if(K&&x.startsWith("<svg"))continue;var l=new ev(y.E.M,!0);l.data={Y:y.H.aaZ,b:x};o.I(l);return}if(O=="text/html"){var x=_.AF(new Uint8Array(n)),N=x.indexOf("src=\"");
if(N!=-1&&x.slice(N+5,N+9)!="http"){var f=N+10;while(x[f]!="\"")f++;var z=x.slice(N+5,f);fn.Di({name:"chart.png"},c5._T(z).buffer,o,K);
return}}}};fn.prototype.TU=function(c){if(c==null)c=[23,5];var o=JSON.stringify(c),K=this.ac4;if(K[o]==null)K[o]=0;
if(K[o]==0){var u=new ev(y.E.M,!0);u.data={Y:y.H.SB,g3:c};this.I(u)}K[o]++};fn.prototype.uZ=function(c){if(c==null)c=[23,5];
var o=JSON.stringify(c),K=this.ac4;if(K[o]==null)K[o]=0;K[o]--;if(K[o]==0){var u=new ev(y.E.M,!0);u.data={Y:y.H._E,g3:c};
this.I(u)}};fn.prototype.aDw=function(c,o){this.Tk=c;var K=window.showOpenFilePicker;if(K&&window.self==window.top){var u=this;
K({multiple:!0}).then(function(O){var n=[];function x(l){n.push(l);if(n.length==O.length){u.Pu(n,null,u.Tk,null,O);
u.Tk=null}else O[n.length].getFile().then(x)}O[n.length].getFile().then(x)});return}var X=this.vo;if(o)X.setAttribute("accept",o);
else X.removeAttribute("accept");var $=document.createEvent("MouseEvents");$.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
X.dispatchEvent($)};fn.prototype.km=function(c){if(c.url.indexOf("photopea.com#i")!=-1||c.url.indexOf("photopea.com/#i")!=-1){this.BX(c.url.split("#i").pop());
return}this.azR.push(c);this.aAF()};fn.prototype.aAF=function(){var c=this.azR;if(c.length==0||this.cc)return;
this.cc=!0;var o=c.shift();this.TU();if(o.Zk==null)o.Zk={};var K=new XMLHttpRequest;K.VF=o;var u=o.url;
if(o.Os&&!u.startsWith("data:image"))u="mirror.php?url="+encodeURIComponent(u);K.open("GET",u);if(o.MB)for(var X in o.MB)K.setRequestHeader(X,o.MB[X]);
K.responseType="arraybuffer";K.onload=this.a00.bind(this);K.send()};fn.prototype.Pu=function(c,o,K,u,X){for(var Y=0;
Y<c.length;Y++){this.TU();var $=c[Y],O=new FileReader;O.VF=$;O.VF.eq=K;O.VF.rR=u;O.ak0=o;if(X)O.VF.X8=X[Y];
O.onload=this.a00.bind(this);O.onerror=function(n){this.uZ()}.bind(this);this.aav.push([O,$])}this.vo.value=null;
this.ahl()};fn.prototype.ahl=function(){var c=this.aav;if(c.length==0||this.Du)return;this.Du=!0;var o=c.shift();
o[0].readAsArrayBuffer(o[1])};fn.prototype.ais=function(c,o,K){this.TU("Saving ...");this.RU=o;setTimeout(K.bind({Kr:c,caller:this}),50)};
fn.$k=function(c){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=new Uint8Array(c),u=K.length,X=u%3,$=u-X,O=[],n=0,x=0,l=0;
for(var Y=0;Y<$;Y+=3){n=K[Y];x=K[Y+1];l=K[Y+2];O.push(o[n>>2]+o[(n&3)<<4|x>>4]+o[(x&15)<<2|l>>6]+o[l&63])}if(X==1){n=K[$];
O.push(o[n>>2]+o[(n&3)<<4]+"==")}if(X==2){n=K[$];x=K[$+1];O.push(o[n>>2]+o[(n&3)<<4|x>>4]+o[(x&15)<<2]+"=")}var N=O.join("");
return N};fn.an2=function(c,o){var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(64),n=0,x=0,l=0,f=0;
for(var Y=0;Y<64;Y++)u[Y]=K.charCodeAt(Y);var X=new Uint8Array(c),$=o%3,O=o-$,N=new Uint8Array(Math.floor(o/3)*4+($==0?0:4));
for(var Y=0;Y<O;Y+=3){n=X[Y];x=X[Y+1];l=X[Y+2];N[f]=u[n>>>2];N[f+1]=u[(n&3)<<4|x>>>4];N[f+2]=u[(x&15)<<2|l>>>6];
N[f+3]=u[l&63];f+=4}if($==1){n=X[O];N[f]=u[n>>2];N[f+1]=u[(n&3)<<4];N[f+2]=61;N[f+3]=61}if($==2){n=X[O];
x=X[O+1];N[f]=u[n>>2];N[f+1]=u[(n&3)<<4|x>>4];N[f+2]=u[(x&15)<<2];N[f+3]=61}return N};fn.prototype.a00=function(c){var o,K=c.target.VF;
if(c.target instanceof XMLHttpRequest)o=c.target.response;else o=c.target.result;fn.Di(K,o,this,c.target.ak0);
this.uZ();if(c.target instanceof XMLHttpRequest){this.cc=!1;this.aAF()}else{this.Du=!1;this.ahl()}};
fn.ahm=function(c,o){var K=new XMLHttpRequest;K.open("POST","https://api.imgur.com/3/image",!0);K.vb=o;
K.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");K.setRequestHeader("Content-type","application/x-www-form-urlencoded");
K.setRequestHeader("Accept","application/json");K.addEventListener("load",fn.a8s);K.send("type=base64&image="+encodeURIComponent(fn.$k(c)));
alert("Saving to Imgur ...",4e3)};fn.a8s=function(c){var o=JSON.parse(c.target.response);if(o.success){if(c.target.vb)c.target.vb(o.data.link);
else window.open(o.data.link,"Imgur")}};fn.prototype.BX=function(c,o,K){this.TU();var u=new XMLHttpRequest;
u.responseType="arraybuffer";u.open("GET","https://f000.backblazeb2.com/file/"+(K?"pp-resources":"psdshared")+"/"+c);
u.onload=this.afh.bind(this);u.send();u.Nq=[Date.now(),c,o?c:null,K]};fn.prototype.afh=function(c){var o=c.target.Nq,K=new Uint8Array(c.target.response);
console.log(K.length+" B,",Date.now()-o[0]+" ms");for(var Y=0;Y<K.length;Y++)K[Y]=255-K[Y];K=pako.inflateRaw(K);
var u=JSON.parse(_.AF(K,0,2e3));fn.Di({name:u.name,pQ:o[2]},K.slice(2e3).buffer,this);this.uZ();if(!o[3])fn.Hs("act=0&id="+o[1])};
fn.prototype.arn=function(c,o,K,u){if(!(c instanceof ArrayBuffer))throw"e";c=new Uint8Array(c);var X=new Uint8Array(c.length+2e3),z="";
for(var Y=0;Y<2e3;Y++)X[Y]=32;_.o5(JSON.stringify({name:o}),X,0);X.set(c,2e3);c=X;c=pako.deflateRaw(c);
for(var Y=0;Y<c.length;Y++)c[Y]=255-c[Y];c=c.buffer;var $=c.byteLength,O=kl.c3($),n=~~(609e5/2),x=~~(209e5/2);
if($>n){confirm("Your file is "+O+". Our limit is "+kl.c3(n)+". Delete some layers and try again.");
return}if($>x){var l=confirm("Your file is quite large ("+O+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!l)return}var N=sha1(c),f=[];for(var Y=0;Y<20;Y++){var R=parseInt(N.slice(Y*2,Y*2+2),16);f.push(R);
z+=String.fromCharCode(R)}var V=btoa(z).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(fn.aBY(V,u)){console.log("file already exists");
if(K)K(V);else window.open("https://www.photopea.com#i"+V+".psd");return}this.TU("Publishing ...");var d=new XMLHttpRequest;
d.Nq=[c,N,V,K,u];d.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+V+"&size="+$+"&bname="+u);
d.onload=this.a0r.bind(this);d.send()};fn.aBY=function(c,o){try{var K=new XMLHttpRequest;K.open("HEAD","https://f000.backblazeb2.com/file/"+o+"/"+c,!1);
K.send();if(K.status==200)return!0}catch(ar){return!1}return!1};fn.prototype.a0r=function(c){console.log(c.target.response);
var o=JSON.parse(c.target.response),K=c.target.Nq,u=new XMLHttpRequest;u.open("POST",o.uploadUrl);u.setRequestHeader("Authorization",o.authorizationToken);
u.setRequestHeader("X-Bz-File-Name",K[2]);u.setRequestHeader("Content-Type","b2/x-auto");u.setRequestHeader("X-Bz-Content-Sha1",K[1]);
u.send(new Blob([K[0]]));u.onload=this.atE.bind({M0:this,Nq:K})};fn.prototype.atE=function(c){this.M0.uZ("Publishing ...");
if(this.Nq[3])this.Nq[3](this.Nq[2]);else window.open("https://www.photopea.com#i"+this.Nq[2]+".psd");
if(this.Nq[4]=="psdshared")fn.Hs("act=2&id="+this.Nq[2]+"&fileId="+JSON.parse(c.target.response).fileId)};
fn.Hs=function(c){var o=new XMLHttpRequest;o.open("GET","/papi/img/update.php?"+c+"&rnd="+Math.random());
o.send()};fn.save=function(c,o){var K=new Uint8Array(c),u=document.createElement("a");if(typeof u.download=="string"){var X=new Blob([K]),$=window.URL.createObjectURL(X);
u.href=$;u.download=o;document.body.appendChild(u);u.click();document.body.removeChild(u)}else{var O="data:application/octet-stream;base64,"+fn.$k(c);
window.open(O)}};function fd(){this.size=16;this.data=a.R(16)}fd.prototype.yl=function(c,o){if(c+o<=this.size)return;
var K=this.size;while(c+o>this.size)this.size*=2;var u=a.R(this.size);for(var Y=0;Y<K;Y++)u[Y]=this.data[Y];
this.data=u};var ab={};ab.fW=function(c,o,K,u){var X=o.split(":"),$=X[0];if(X.length==2){if($=="jpg")u=[Math.round(100*parseFloat(X[1]))];
if($=="webp")u=[Math.round(100*parseFloat(X[1])),100,0,!1,!1];if($=="psd")u=[!0,!0,!1,!1,!1];if($=="svg")u=X[1].split(",").map(function(n){return n=="true"})}var O=c5.PY(c,$.toUpperCase(),null,null,u,K);
return O};ab.a63=function(c,o,K){var u=c.i9(),X=o[0];return ab.fW(c,X,K)};ab.agp=function(){var c=this.Kr,o=this.caller,K=c.Zk.yq,u=K.formats,X,$;
c.i9();var O=Date.now();if(K.version==1){var n=[],x=0,N=0;for(var Y=0;Y<u.length;Y++){var l=ab.fW(c,u[Y],o.RU);
n.push(l);x+=l.byteLength}X=new Uint8Array(2e3+x);var f="{ \"source\": "+JSON.stringify(c.We)+", \"versions\": [\n";
for(var Y=0;Y<u.length;Y++){var z=new Uint8Array(n[Y]);f+="\t{\"format\": \""+u[Y].split(":")[0]+"\", \"start\": "+N+", \"size\": "+z.length+" }"+(Y+1<u.length?", ":"")+"\n";
X.set(z,2e3+N);N+=n[Y].byteLength}f+="] }";var R=_.o5(f,X,0);for(var Y=R;Y<2e3;Y++)X[Y]=32;$="application/octet-stream"}else{var V=new fd,d=0,e="",p=encodeURIComponent;
e="p="+p("{ \"source\": "+JSON.stringify(c.We)+", \"versions\": [");_.Ps(V,d,e);d+=e.length;for(var Y=0;
Y<u.length;Y++){e=p(" {\"format\": \""+u[Y].split(":")[0]+"\", \"data\": \"");_.Ps(V,d,e);d+=e.length;
var l=ab.fW(c,u[Y],o.RU),h=fn.an2(l,l.byteLength),R=h.length;V.yl(d,R);for(var E=0;E<R;E++){V.yl(d,3);
var q=h[E];if(q==43){V.data[d]=37;V.data[d+1]=50;V.data[d+2]=66;d+=3}else if(q==47){V.data[d]=37;V.data[d+1]=50;
V.data[d+2]=70;d+=3}else if(q==61){V.data[d]=37;V.data[d+1]=51;V.data[d+2]=68;d+=3}else{V.data[d]=q;
d++}}e=p("\" }"+(Y+1<u.length?", ":""));_.Ps(V,d,e);d+=e.length}e=p("] }");_.Ps(V,d,e);d+=e.length;X=V.data.slice(0,d);
$="application/x-www-form-urlencoded"}var Z=new XMLHttpRequest;Z.open("POST",K.url,!0);if($)Z.setRequestHeader("Content-Type",$);
Z.addEventListener("load",ab.aCX.bind(this));Z.send(new Blob([X.buffer]))};ab.aCX=function(c){this.caller.uZ("Saving ...");
var o=c.target.response;if(o.charAt(0)=="{"){o=JSON.parse(o);if(o.newSource)this.Kr.We=o.newSource;if(o.message)alert(o.message,2e3);
if(o.script){var K=new ev(y.E.M,!0);K.data={Y:y.H.Vj,bU:o.script};this.caller.I(K)}}else alert("Saved. Response: "+o,1500)};
ab.avw=function(c){var o=c.$s,K=o[1].split(".").pop(),u=ab.fW(c,K,null,K=="psd"&&o[0]==1?[!0,!1,!0,!1]:null),X=Storage.zn(o[0]);
return X.a4l(o[1],u)};ab.azK=function(c,o){var K=c.Jl.rZ;if(o==null)o=ab.fW(c,K);iU.D9(function(){var u=new XMLHttpRequest,X="https://www.googleapis.com/upload/drive/v3/files/"+c.Jl.file.id+"?uploadType=media"+"&"+iU.mG();
u.open("PATCH",X,!0);u.addEventListener("load",function($){var O=JSON.parse($.target.response);alert(O.name+" updated")});
u.send(o);alert("Saving \""+c.Jl.file.name+"\" to Google Drive ...")})};ab.Di=function(c,o,K,u){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)ab.agl(c,o,K,u);
else{try{ab.agl(c,o,K,u)}catch(ar){if(ar=="low_ram"){}else{var X="Error. Please, send your file to support@photopea.com and we will solve it.";
if(c5.c5(o)=="eps")X="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(X,1e4)}}}};ab.agl=function(c,o,K,u){var X;if(c.name){var $=c.name.lastIndexOf(".");X=$==-1?c.name:c.name.slice(0,$)}else{if(c.url.substring(0,5)=="data:"||c.url.indexOf("googleapis")!=-1)X="image";
else X=c.url.substring(c.url.lastIndexOf("/")+1).split(".")[0];X=X.slice(0,50)}var O=c.name?c.name:c.url,n=new Uint8Array(o),x=c5.c5(o),l=window.gtag;
if(Math.random()<.25&&l&&x!=null&&c5.nq(x))l("event",x,{event_category:"Formats"});if(x==null)x=_.MQ(n,0,4);
if(O&&O.toLowerCase().endsWith(".raw")){var N=new ev(y.E.M,!0);N.data={Y:y.H.Vl,n9:"importraw",xp:o,fp:O.split("/").pop()};
K.I(N);return}else if(x=="json"){var f="";for(var Y=0;Y<n.length;Y++)f+=String.fromCharCode(n[Y]);f=decodeURIComponent(escape(f));
var z=JSON.parse(f);if(z.name&&z.url){var N=new ev(y.E.M,!0);N.data={Y:y.H.asD,b:z};K.I(N)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(z)}return}if(x=="html"){var f=_.AF(n,0,n.length),R=new DOMParser,V=R.parseFromString(f,"text/html"),d=V.getElementsByTagName("meta");
for(var Y=0;Y<d.length;Y++){var e=d[Y],p=e.getAttribute("property"),h=e.getAttribute("content"),E=null;
if(p=="og:image")E=h;if(p==null&&h&&h.startsWith("0;url=/imgres?")){var q=h.slice(14).split("&");for(var Z=0;
Z<q.length;Z++)if(q[Z].startsWith("imgurl"))E=decodeURIComponent(q[Z].slice(7))}if(E==null)continue;
var N=new ev(y.E.M,!0);N.data={Y:y.H.ip,EU:{url:E,Os:!0,eq:c.eq}};K.I(N)}return}if(c5.nq(x)){var v,W,D=c5.nq(x);
if(c.eq!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(x)!=-1){var N=new ev(y.E.M,!0);if(0<=c.eq)N.data={Y:y.H.h3,target:c.eq,Qb:c.rR,ff:o,l$:X};
else{N=new ev(y.E.v,!0);N.data={Y:gU.fy,data:new Uint8Array(o),fp:X+"."+x};N.f=r.KX}K.I(N);return}var I=[X,D,x,c,K,u,o];
if(D.zi){var A=gN==0?"psd":"ai";v=new h_(X+(x==A?"":"-"+x)+"."+A);D.gP(o,v,ab.mi,I)}else{W=D.gP(o,null,ab.mi,I,K)}if(D.pk!=!0)ab.mi(v,W,I);
else K.TU();return}var U=new ev(y.E.M,!0);U.data={Y:y.H.j3,xp:o,Ek:c.name};var w=c instanceof File&&c.E3!=!0,N=new ev(y.E.M,!0);
N.data={Y:y.H.NU,Zk:"add",EU:null,Ye:null,aDz:c.E3};if(x=="zip"){var t=Date.now(),L=UZIP.parse(o),J="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var b in L){var F=!1;for(var Y=0;Y<J.length;Y++)if(b.toLowerCase().endsWith("."+J[Y]))F=!0;if(b.startsWith("__MACOSX/")||L[b].length==0)F=!0;
if(F)continue;var B=b.split("/").pop();ab.Di({name:B},L[b].buffer,K,u)}}else if(x=="jsx"||O&&O.toLowerCase().endsWith(".jsx")){if(w)K.I(U);
var f=_.AF(new Uint8Array(o));N.data={Y:y.H.Vj,bU:f};K.I(N)}else if(x=="otf"){if(w)K.I(U);var k=Typr.parse(o);
N.data.EU=iD.gk;for(var Y=0;Y<k.length;Y++){N.data.Ye=k[Y];K.I(N)}}else if(x=="asl"){if(w)K.I(U);var k=jN.Sr(o,O);
N.data.EU=iD.qR;N.data.Ye=k.oL;K.I(N);N.data.EU=iD.Oz;N.data.Ye=k.iA;K.I(N)}else if(x=="tpl"){if(w)K.I(U);
var k=aw.Sr(o);N.data.EU=iD.yj;N.data.Ye={Z7:k.Z7,p1:k.p1,list:[]};K.I(N);if(k.aqM.length!=0){N.data.EU=iD.OO;
N.data.Ye=k.aqM;K.I(N)}if(k.iA.length!=0){N.data.EU=iD.Oz;N.data.Ye=k.iA;K.I(N)}N.data.EU=iD.zK;N.data.Ye=k.list;
K.I(N)}else{var i="";for(var H in iD.Mt)if(iD.Mt[H][0]==x)i=H;if(i!=""){if(w)K.I(U);N.data.Ye=iD.Mt[i][2].Sr(o,O);
N.data.EU=i;K.I(N)}else if(o.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(x))}};
ab.mi=function(c,o,K){var u=K[0],X=K[1],$=K[2],O=K[3],n=K[4],x=K[5],l=K[6];if(X.pk)n.uZ();if(!X.zi){if(o.length==0)return;
if(o[0].t33421||o[0].t50706){a.raw.normalize(o[0],l);console.log(o[0]);var N=new ev(y.E.M,!0);N.data={Y:y.H.Vl,n9:"rawpea",lD:o[0]};
n.I(N);return}if(x){x(new Uint8Array(o[0].data),o[0].yS);return}c=c5.aS(u,o)}c.pQ=O.pQ;c.Hb=$;c.Zk=O.Zk;
c.We=O.url;c.rt=O.rt;c.Jl=O.Jl;c.X8=O.X8;c.$s=O.$s;if(c.Jl)c.Jl.rZ=$;if(c.s.length!=0){var N=new ev(y.E.M,!0);
N.data={Y:O.eq==null?y.H.dR:y.H.h3,target:O.eq,Qb:O.rR,ff:c};n.I(N)}};function f6(c){ax.call(this);this.yh=f6.yh++;
this.$L=c;this.a8p=this.arB.bind(this);this.aaw=this.ae6.bind(this);this.axE=this.aQ.bind(this);this.a5n=this.apA.bind(this);
this.aD7=this.afm.bind(this);this.a3W=this.arN.bind(this);this.Hm=0;this.anC=0;this.a0p=0;this.n=S.t("div","panelblock");
this.Ph=S.t("div","block");this.hG=S.t("div","collapsed");this.n.appendChild(this.Ph);this.kT=-1;this.Er=!0;
this.Ul=S.t("div","panelhead");this.Ph.appendChild(this.Ul);this.m_(this.Ul);this.Xy=new kz("\u2261");
this.Xy.n.setAttribute("style","position:absolute; right:0;");this.Xy.B("click",this.al5,this);this.oX=S.t("div","body");
this.Ph.appendChild(this.oX);this.Yf=[];this.Sh=null;this.Z6=null}f6.yh=0;f6.prototype=new ax;f6.aW=26.1;
f6.prototype.al5=function(c){var o=this.Yf[this.kT].l_(),K=c.currentTarget.n.getBoundingClientRect();
o._();o.update();o.parent=this;var u=new ev(y.E.M,!0);u.data={Y:y.H.B2,KH:o,x:K.left,y:K.top+K.height+2};
this.I(u)};f6.prototype.sP=function(c){var o=this.Ph,K=this.Ul,u=this.oX;if(S.Kt(K))o.removeChild(K);
if(S.Kt(u))o.removeChild(u);if(c==0)o.appendChild(K);o.appendChild(u);this.a0p=c};f6.GB=function(c){c.stopPropagation();
c.preventDefault()};f6.prototype.arB=function(c){var o=c.dataTransfer.types;if(o[1]!=null&&o[1]!=this.yh+"")return;
f6.GB(c);var cv=c.currentTarget;if(c.target==cv)S.SZ(cv,"highlight")};f6.prototype.ae6=function(c){f6.GB(c);
var cv=c.currentTarget;if(c.target==cv)S.MG(cv,"highlight")};f6.prototype.m_=function(c){c.addEventListener("dragenter",this.a8p,!1);
c.addEventListener("dragleave",this.aaw,!1);c.addEventListener("dragover",f6.GB,!1);c.addEventListener("drop",this.axE,!1);
c.addEventListener("dragstart",function(o){o.dataTransfer.setData("Text","--panel");o.dataTransfer.setData(this.yh+"","")}.bind(this),!1)};
f6.prototype.aQ=function(c){this.aaw(c);var o=null,cv=c.currentTarget,K=this.aBR(cv);if(cv==this.oX&&this.kT!=-1)o=this.kT;
else if(cv==this.Ul)o=null;else if(K!=-1)o=K;var u=c.dataTransfer.getData("Text");if(u==""||u.startsWith("http"))S.JS(c,this,o);
else if(u=="--panel"){var X=S.$_(c,cv),$=this.Yf,O=$.slice(0),Y=this.kT,n=K==-1?$.length:X.x<cv.getBoundingClientRect().width/2?K:K+1;
if(Y==n||Y+1==n||cv==this.oX)return;var x=Y<n?n-1:n,l=$[Y];$.splice(Y,1);$.splice(x,0,l);S._a(this.Ul);
for(var N=0;N<$.length;N++)this.Ul.appendChild($[N].jL);this.IX(x);var f=[];for(var Y=0;Y<$.length;Y++)f[Y]=O.indexOf($[Y]);
var z=new ev("shuffleItems",!1);z.data={a9o:f};this.I(z)}else if(o!=null&&this instanceof iM){var z=new ev(y.E.M,!0);
z.data={Y:y.H.a6A,a8g:o};this.I(z)}};f6.prototype.l7=function(){return null};f6.prototype.a3f=function(){if(this.l7()){this.Ul.style.padding="0px";
this.Z6=this.l7();this.oX.appendChild(this.Z6);this.oZ.WR(!1);var c=new ev(y.E.M,!0);c.data={Y:y.H.pw,b:1};
this.I(c)}};f6.prototype.a09=function(){if(this.Z6){this.Ul.style.padding="";this.oX.removeChild(this.Z6);
this.Z6=null;this.oZ.WR(!0);var c=new ev(y.E.M,!0);c.data={Y:y.H.pw,b:0};this.I(c)}};f6.prototype.aBR=function(c){var o=this.Yf;
for(var Y=0;Y<o.length;Y++)if(o[Y].jL==c)return Y;return-1};f6.prototype.c$=function(){for(var Y=0;Y<this.Yf.length;
Y++)this.Yf[Y].HG.Nv()};f6.prototype.iV=function(){return this.kT};f6.prototype.wZ=function(){if(this.Er)return;
this.Er=!0;this.n.removeChild(this.hG);this.n.appendChild(this.Ph)};f6.prototype.collapse=function(){if(!this.Er)return;
this.Er=!1;this.n.appendChild(this.hG);this.n.removeChild(this.Ph)};f6.prototype.aW=function(){var c=0;
if(this.a0p==0){c=this.Ul.getBoundingClientRect().height+1;c=Math.max(c,f6.aW)}return c};f6.prototype.az3=function(){return this.aW()+this.oX.getBoundingClientRect().height};
f6.prototype._Q=function(c,o){this.Ul.style.maxWidth=c+"px";var K=this.aW();if(this.kT!=-1)this.Yf[this.kT]._Q(c,o-K);
return o-K};f6.prototype.VW=function(c,o){if(this.kT!=-1)this.Yf[this.kT].VW(c,o)};f6.prototype.kX=function(c,o,K){this.Yf[this.kT].kX(c,o,K)};
f6.prototype.Of=function(c){this.a09();if(this.Yf.indexOf(c)!=-1){this.IX(this.Yf.indexOf(c));return}c.parent=this;
this.Yf.push(c);this.Ul.appendChild(c.jL);c.jL.addEventListener("mouseover",this.a5n,!1);this.m_(c.jL);
this.hG.appendChild(c.HG.n);c.HG.B("click",this.abH,this);c.B("select",this.abr,this);c.B(y.E.ZV,this.adk,this);
this.IX(this.Yf.length-1)};f6.prototype.apA=function(c){if(c.buttons==0)return;var o=c.currentTarget,K=o,Y=0;
while((K=K.previousSibling)!=null)Y++;this.anC=Y;o.addEventListener("mouseout",this.aD7,!1);this.Hm=setTimeout(this.a3W,700)};
f6.prototype.afm=function(c){var o=c.currentTarget,K=o,Y=0;while((K=K.previousSibling)!=null)Y++;o.removeEventListener("mouseout",this.aD7);
clearTimeout(this.Hm)};f6.prototype.arN=function(c){this.I(new ev(y.E.apj,!1))};f6.prototype.a6u=function(c){return this.anC};
f6.prototype.er=function(Y){var c=new ev(y.E.ZV,!1);c.data={_H:Y};this.I(c);var o=this.Yf[Y];this.Yf.splice(Y,1);
this.Ul.removeChild(o.jL);this.hG.removeChild(o.HG.n);o.jL.className="";o.HG.removeEventListener("click",this.abH,this);
o.HG.Nv();o.removeEventListener("activate",this.abr);o.removeEventListener(y.E.ZV,this.adk);var K=this.kT;
if(Y<K)K--;else if(Y==K&&Y==this.Yf.length)K--;this.IX(K);if(this.Yf.length==0)this.a3f()};f6.prototype.a4E=function(){return this.Yf.length};
f6.prototype.iK=function(){if(this.Yf.length!=0)this.Yf[this.kT].iK()};f6.prototype.IX=function(c,o){if(o==null)o=!0;
for(var Y=0;Y<this.Yf.length;Y++)this.Yf[Y].jL.className="";if(this.Sh)this.oX.removeChild(this.Sh);
this.Sh=null;this.kT=c;if(c==-1)return;var K=this.Yf[this.kT];this.Sh=K.m4;this.oX.appendChild(K.m4);
K.jL.className="active";if(!this.Er){this.I(new ev("showFloat"));this.Yf[c].HG.tb()}if(o)this.I(new ev(y.E.z,!1));
K.H0();var u=this.Xy.n;if(u.parentNode)this.Ul.removeChild(u);if(K.l_())this.Ul.appendChild(u);var X=new ev(y.E.M,!0);
X.data={Y:y.H.qh};this.I(X)};f6.prototype.abr=function(c){if(this.$L&&!this.$L.a0z())return;var Y=this.Yf.indexOf(c.currentTarget);
this.IX(Y)};f6.prototype.adk=function(c){if(this.$L&&!this.$L.a0z())return;var Y=this.Yf.indexOf(c.currentTarget);
this.er(Y)};f6.prototype.abH=function(c){var o=this.Yf.indexOf(c.currentTarget.parent);if(this.Yf[o].HG.s6())this.I(new ev("hideFloat"));
else this.IX(o)};f6.prototype.awZ=function(c){this.I(c)};function iM(c){f6.call(this,c);this.Oc=0;this.s_=0;
S.K1(this.Ul,this.azc.bind(this));this.aD=0;this.ako=this.a7t.bind(this);this.m_(this.oX);this.Li=["default;"];
this.oZ=new S.jI(this.oX);this.wf=new eH(!0);this.wf.parent=this;this.kR=this.wf.n;eH.CU(this.wf)}iM.prototype=new f6;
iM.prototype.azc=function(c){if(c.target!=this.Ul)return;var o=this.aD;this.aD=Date.now();if(Date.now()-o>300)return;
var K=new ev(y.E.M,!0);K.data={Y:y.H.Vl,n9:"newproject"};this.I(K)};iM.prototype.Sd=function(c,o){if(o)this.Li.push(c);
else{var K=this.Li.length-1;if(this.Li[K]==c)return;this.Li[K]=c}this.ys()};iM.prototype.ajA=function(){this.Li.pop();
this.ys()};iM.prototype.ys=function(){var c=this.Li[this.Li.length-1];this.oZ.kX(c,this.ap)};iM.prototype.VW=function(c,o){f6.prototype.VW.call(this,c,o);
this.wf.VW(c,o);if(!c.wO){}};iM.prototype._=function(){f6.prototype._.call(this);this.wf._()};iM.prototype.kX=function(c,o){for(var Y=0;
Y<o.length;Y++){var K=o[Y];this.Yf[Y].fA(K.name+(K.$G()?" *":""))}f6.prototype.kX.call(this,c,o)};iM.prototype.l7=function(){return this.kR};
iM.prototype._Q=function(c,o){if(this.Yf.length==0)o+=f6.aW-1;this.Oc=c;this.s_=o;o=f6.prototype._Q.call(this,c,o);
this.ap="height:"+o+"px; width:"+c+"px; overflow:hidden; position:relative;";this.ys();this.wf._Q(c,o)};
iM.prototype.Of=function(c){f6.prototype.Of.call(this,c);c.jL.addEventListener("click",this.ako,!1)};
iM.prototype.er=function(Y){var c=this.Yf[Y];S.Fo(c.jL,this.ako);f6.prototype.er.call(this,Y)};iM.prototype.a7t=function(c){var o=this.aD;
this.aD=Date.now();if(Date.now()-o>300)return;var K=this.aBR(c.currentTarget),u=this.Yf[K].ff.name,X=new ev(y.E.M,!0),$={K:y.E.v,f:r.KX,C:{Y:gU.eY}};
X.data={Y:y.H.Vl,n9:"namewindow",Ak:u.slice(0,u.length-4),t9:$};this.I(X)};function hS(c){ax.call(this);
if(c)return;fW.azg(1);this.n=S.t("div","flexrow app");this.LA=S.t("div");this.n.appendChild(this.LA);
setTimeout(function(){var K=window.hideCap;if(K)K()},25e3);this.IV=new d2;window.addEventListener("blur",function(K){this.IV.reset()}.bind(this),!1);
window.addEventListener("resize",this.sa.bind(this),!1);var o=this.LA;this.f2=new bp;this.f2.parent=this;
o.appendChild(this.f2.n);this.vG=new gy;this.vG.parent=this;o.appendChild(this.vG.n);this.eg=new fx(!0);
this.eg.parent=this;o.appendChild(this.eg.n);this.B(y.E.M,this.Gq,this);this.ps=this.e1.bind(this);window.requestAnimationFrame(this.ps)}hS.prototype=new ax;
hS.prototype.e1=function(c){this.ME();window.requestAnimationFrame(this.ps)};hS.prototype._=function(){};
hS.prototype.sa=function(c){var o=window.innerWidth,K=window.innerHeight;this._Q(o,K)};hS.prototype._Q=function(c,o){this.vG._Q(c,o);
this.f2._Q(c,o)};hS.prototype.Gq=function(c){var o=c.data.Y;if(o==y.H.B2)this.vG.acJ(c.data);if(o==y.H.Rv)this.vG.amg(c.data);
if(o==y.H.SB)this.vG.awq(c.data.g3);if(o==y.H._E)this.vG.aeK(c.data.g3);if(o==y.H.F0)this.vG.jG()};function kH(){hS.call(this);
this.gw={x:0,y:0,dm:!1};this.ez=!1;this.SP=!1;this.Yh=null;this.a9T=0;this.atX=!1;this.A7=0;window.onmessage=function(N){if(Storage.a7w(N.source))return;
if(N.data instanceof ArrayBuffer){var f=c5.c5(N.data),z=c5.nq(f);fn.Di({url:"file"},N.data,this);if(z==null)this.hU()}else if(N.data instanceof Object||N.data.startsWith("{")||N.data.startsWith("amp-")||N.data.startsWith("0=goog")||N.data.startsWith("3PCoo")||N.data.startsWith("ima://")){}else if(N.data.startsWith("--ur ")){var R=N.data.split(" ").pop(),E=null;
R=R.length==0?[]:R.split(",");console.log(R);var V=this.oz.Ye,d=new ev(y.E.M,!0);d.data={Y:y.H.NU,EU:iD.H1,qU:R};
this.I(d);var e=R,p=V;if(p.length>e.length){var h=p;p=e;e=h}for(var Y=0;Y<e.length;Y++)if(p.indexOf(e[Y])==-1)E=e[Y];
fn.Hs("act=3&id="+E+"&dif="+(e==R?1:-1));alert((e==R?"Resource added.":"Resource removed.")+" "+E)}else if(N.data.startsWith("--ot ")){if(this.f2.ZG())this.f2.ZG().close();
this._F.BX(N.data.split(" ").pop(),!0)}else if(N.data.startsWith("--et ")){}else{var d=new ev(y.E.M,!0);
d.data={Y:y.H.Vj,bU:N.data};this.I(d);this.hU()}}.bind(this);window.onbeforeunload=function(N){this.aha();
for(var Y=0;Y<this.eJ.length;Y++)if(this.eJ[Y].$G())return this.eJ[Y].name}.bind(this);window.setInterval(this.aDH.bind(this),5*60*1e3);
var c=this;if(window.indexedDB&&(!ji.$T()||document.hasStorageAccess==null)){var o={yl:window.indexedDB.open("pp",1)};
o.yl.onupgradeneeded=function(N){var f=N.target.result,z=f.createObjectStore("rsrc",{keyPath:"k"})};
o.yl.onsuccess=function(N){var f=c.oz.C1.hC=N.target.result,z=f.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=z.get("fs0");
R.onsuccess=function(N){if(N.target.result){var e=c.oz.C1.Zy=N.target.result.fset;for(var p in e){if(!p.endsWith(".jsx")&&!p.endsWith(".psd"))fn.Di({url:p,E3:!0},e[p],c)}}};
var V=new BroadcastChannel("pp-tabs"),d=[];V.onmessage=function(N){if(N.data=="id")V.postMessage(c.oz.C1.id);
else d.push(N.data)};V.postMessage("id");setTimeout(function(){var z=f.transaction(["rsrc"],"readwrite").objectStore("rsrc"),e=z.getAllKeys();
e.onsuccess=function(){var p=e.result,h=[],E=0;for(var Y=0;Y<p.length;Y++){if(p[Y]=="fs0")continue;if(d.indexOf(p[Y])!=-1)continue;
h.push(p[Y])}for(var Y=0;Y<h.length;Y++){var R=z.get(h[Y]);R.onsuccess=function(N){if(N.target.result){var q=N.target.result.fset;
for(var Z in q){try{fn.Di({url:Z,E3:!0},q[Z],c);var v=c.pL();v.GM=v.XC=-1}catch(N){console.log(N)}}E++;
if(E==h.length)for(var Y=0;Y<h.length;Y++){var R=z.delete(h[Y])}}}}}},200)}}var K=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO","!#$$,&4/9A?FE?PlETU"],u=S.if[d0.kN][d0.RC];
for(var Y=0;Y<K.length;Y++){var X=S.Bv(K[Y]);if(u.indexOf(X)!=-1){var $=S.if[d0.kN][d0.oX],O=S.Bv("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
S._a($);$[d0.ajv]=O;return}}this.k=kH.a3a();this.oz={k:this.k,a0e:!1,lm:null,v2:0,i_:{p1:[],Z7:[],list:[],ET:null},nu:[],akT:[],kQ:[],YX:[],Dd:[],dx:[],ao6:[],asp:[],Dd:[],Vr:[d$.ib()],dn:[],U8:[],DP:null,zc:0,Be:gH.Be.ib(),L6:{KO:1,gq:JSON.parse(JSON.stringify(gH.Kw[0]))},KT:gH.e_.ib(),QN:[null].concat(gH.Kw),$t:[null].concat(gH.Kw),ru:new bW(function(N){var f=new ev(y.E.M,!0);
f.data={Y:y.H.ip,EU:{url:"rsrc/fonts/"+N}};this.I(f)}.bind(this)),qH:{c9:[],W$:null,Xi:null},font:null,gv:[],Ye:[],aCe:{},V5:0,th:16777215,zo:!1,ja:!0,RG:{qb:!0,wr:!1,yk:!0,es:!0,uI:!0,ni:!0,vl:20,Vy:0,Mu:0,MF:0,gt:8421504,uV:65535},WJ:!0,Yi:[!0,!0,!1,!0,!0],C$:[0,1,2,3,5,6,7,9,10,16,17,100],SU:1,iN:!0,kx:{},wO:!0,aDo:!1,compact:!1,oA:1,Jt:0,kR:!0,NJ:null,C1:{id:"ts"+Math.round(Math.random()*16777215),atm:!1,av3:!1,Zy:{},uC:{},hC:null},ay$:0,al6:null,rQ:null,adL:null,cm:null};
bW.kB.HP(this);this.a0S={aB:new ez,S8:new kn};this.oz.qH=ii.ael();this.R2=new aI;this.bB=new aL;this.YA=new bG(this.k,!0);
this.Nc=new at;this.lQ=new iM(this);this.xo=S.t("div");this._J=!1;this.u9=this.ad3.bind(this);S.SZ(this.lQ.n,"mainblock");
this.eg.parent=this.R2.parent=this.bB.parent=this.YA.parent=this.Nc.parent=this.lQ.parent=this;this.lQ.B(y.E.z,this.ym,this);
this.lQ.B(y.E.ZV,this.azl,this);this.lQ.B("shuffleItems",this.amH,this);this.lQ.B(y.E.apj,this.a75,this);
this.B("mouse",this.anW,this);this.B(y.E.v,this.GN,this);this.B(y.E.XV,this.ahU,this);document.body.addEventListener("keydown",this.BO.bind(this),!1);
window.addEventListener("keyup",this.kf.bind(this),!1);window.addEventListener("paste",this.aCg.bind(this),!1);
window.addEventListener("copy",this.aua.bind(this),!1);window.addEventListener("wheel",function(N){if(N.ctrlKey)N.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(N){if(window.innerWidth>400)N.preventDefault();
this.oz.NJ=N}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(N){if(N.a6d){console.log("Service worker installing")}else if(N.ay9){console.log("Service worker installed")}else if(N.active){console.log("Service worker active")}}).catch(function(N){console.log("Registration failed with "+N)})}this.Yk=0;
this.eJ=[];this._F=new fn(ab.Di);this._F.parent=this;var n=this.LA,x=this.ey=S.t("div");x.appendChild(this.R2.n);
x.appendChild(this.bB.n);this.eg.a4u(x);var l=this.aA9=S.t("div","flexrow");n.appendChild(l);l.appendChild(this.YA.n);
l.appendChild(this.lQ.n);l.appendChild(this.Nc.n);this._F.km({url:"rsrc/basic/basic.zip"});this.iF(r.DA);
ar.HP(this.ae5.bind(this))}kH.prototype=new hS(!0);kH.prototype.hU=function(c){var o=new ev(y.E.M);o.data={Y:y.H.m0,EU:c?c:"done"};
this.I(o)};kH.prototype.aDH=function(){var c=this.oz.C1,K=!1;if(c.hC==null)return;var o=this.eJ;for(var Y=0;
Y<o.length;Y++){var u=o[Y];if(u.XC!=u.Wi){var X=Date.now(),$=c5.PY(u,"psd",0,0,[!0,!1,!0,!1,!0]);u.XC=u.Wi;
c.uC[u.name]=$;K=!0;console.log(Date.now()-X,"saving "+u.name,$.byteLength)}}if(K){var O=new ev(y.E.M);
O.data={Y:y.H.NU,EU:iD.xf,aA1:!0};this.I(O)}};kH.prototype.ae5=function(){S.if[d0.hq](this.aeW.bind(this),Math.pow(Math.PI,8)+S.if[d0.asm][d0.abT]()*1e4);
var c=ar.nH();if(c!=null&&c.globals!=null)this.$A(c.globals);else{this.atX=!0;var o=iV.q9();if(o&&o.length!=0){var K=o[0];
iV.g6(K,this.u9)}}if(!this.bC()){var u=S.aqh();if(u==0)this.aDo=!0;if(u==2)this.oz.wO=!1;if(u!=1&&Math.random()<.002)S.aDm()}if(!ji.$T()||!this.oz.wO){this.asv();
this.NC()}else{var X=S.Oa(S.if[d0.gT]);X[d0.Uu](d0.r1,this.agY.bind(this));X[d0.ta](S.hn("61="),S.hn("_MYOqDLGJa;A:6"));
X[d0.By]()}this.ez=!0;this.hU()};kH.prototype.agY=function(c){var o=JSON.parse(c.target[d0.vy]),K=S.if[d0.B0][d0.aew]()/1e3,u=S.if[d0.kN][d0.RC],X=!1;
for(var $ in o)if($.indexOf(".")!=-1&&u.indexOf($)!=-1&&parseInt(o[$])>K)X=!0;if(X)this.oz.wO=!1;this.asv();
this.NC()};kH.prototype.NC=function(c){this.SP=!0;if(!this.oz.kR)this.lQ.kR=null;else if(this.eJ.length==0)this.lQ.a3f();
this.kV(iD.Vk);this._();this.sa();this.Nc.kX(this.pL(),this.eJ,this.oz)};kH.prototype.$A=function(c){var o=this.oz;
if(c.fcolor!=null){o.V5=c.fcolor;var K=o.qH.W$.FillColor;if(K){var u=a.rf(o.V5);K.Values=[1,u.Z/255,u.r/255,u.J/255]}}if(c.bcolor!=null)o.th=c.bcolor;
if(c.rulers!=null)o.zo=c.rulers;if(c.extras!=null)o.ja=c.extras;if(c.favFam!=null)o.gv=c.favFam;if(c.rsrc!=null)o.Ye=c.rsrc;
if(c.font!=null)o.qH.c9[0].Name=c.font;if(c.panels!=null)o.C$=c.panels;if(c.as!=null)o.oA=c.as;if(c.co!=null)o.Jt=c.co;
if(c.eparams){var X=c.eparams,$=o.RG;if(X.guides!=null)$.qb=X.guides;if(X.grid!=null)$.wr=X.grid;if(X.gsize!=null)$.vl=X.gsize;
if(X.gunits!=null)$.Vy=X.gunits;if(X.gtype!=null)$.Mu=X.gtype;if(X.runits!=null)$.MF=X.runits;if(X.gcol!=null)$.gt=X.gcol;
if(X.gucol!=null)$.uV=X.gucol;if(X.sels!=null)$.yk=X.sels;if(X.paths!=null)$.es=X.paths;if(X.pgrid!=null)$.uI=X.pgrid;
if(X.slices!=null)$.ni=X.slices}if(c.lang!=null)iV.g6(c.lang,this.u9);if(c.theme!=null)o.SU=c.theme;
if(c.topt||o.BG){var O=c.topt?c.topt:{},n=o.BG?o.BG:{};for(var x in this.k.map){if(x>=103)continue;var l="t"+x;
if(O[l]||n[l])this.k.map[x].f.YF(O[l],n[l],this)}}};kH.prototype.asv=function(){if(this.oz.a0e)return;
this.oz.a0e=!0;var c=null,o=window.location.href,K=o.indexOf("="),u=o.indexOf("#");if(K!=-1)c=o.substring(o.indexOf("?")+1,K);
if(u!=-1&&u!=o.length-1){c="p";K=u}if(u!=-1&&o[u+1]=="i"){this._F.BX(o.slice(u+2,u+10))}else if(o.slice(u+1).startsWith("goog_rewarded")){}else if(u!=-1&&o[u+1]=="t"){this._F.BX(o.slice(u+2,u+10).split("").reverse().join(""),!0)}else if(c=="p"||c=="state"){var X=o.substring(K+1,o.length);
X=JSON.parse(decodeURI(X));if(c=="p"){if(X.script=="alert(73)")this.oz.wO=!1;if(X.script)ag.auz(this);
if(X.server)this.Yh=X.server;if(X.resources)for(var Y=0;Y<X.resources.length;Y++)this._F.km({url:X.resources[Y]});
if(X.files)for(var Y=0;Y<X.files.length;Y++)this._F.km({url:X.files[Y],Zk:{yq:X.server,agu:X.script}});
var $=X.environment;if($==null)$={};if($.plugins!=null)this.Nc.aqZ($.plugins);if($.localsave!=null)this.oz.iN=$.localsave;
if($.customIO!=null)this.oz.kx=$.customIO;if($.vmode!=null){var O=$.vmode;if(O==1)this.oz.compact=!0;
if(O==2)this.sP(1)}if($.intro!=null)this.oz.kR=$.intro;if($.menus!=null)this.oz.adN=$.menus;if($.tmnu!=null)this.oz.BG=$.tmnu;
if($.panels!=null)this.oz.C$=$.panels;if($.showtools!=null){var n=$.showtools,x=n.indexOf(this.oz.lm);
this.oz.VB=n;if(x==-1)this.iF(n[0])}if($.phrases!=null)iV.aBE($.phrases);if($.autosave!=null){this.oz.oA=0;
window.setInterval(function(){var f=new ev(y.E.M);f.data={Y:y.H.Ol};this.I(f)}.bind(this),$.autosave*1e3)}if($.icons!=null){for(var l in $.icons)if($.icons[l].indexOf("\"")==-1){if((l==d0.axa||l==d0.aDp)&&this.oz.wO)continue;
PIMG[l]=$.icons[l];PIMG["__"+l]=!0}}this.$A($);if(X.files==null&&X.script){bj.Eq(X.script,this);this.hU()}}else if(c=="state"){var N=this._F;
if(X.action=="create"){var f=new ev(y.E.M);f.data={Y:y.H.Vl,n9:"newproject",aqp:X.folderId};this.I(f)}if(X.action=="open"){for(var Y=0;
Y<X.ids.length;Y++)iU.D9(function(){var R="https://www.googleapis.com/drive/v3/files/"+this.aCk,V=new XMLHttpRequest;
V.open("GET",R);V.setRequestHeader("Authorization",iU.QX());V.send();V.onload=function(d){var e=JSON.parse(d.target.response);
N.km({url:R+"?alt=media",name:e.name,Jl:{file:e,rZ:""},MB:{Authorization:iU.QX()}})}}.bind({aCk:X.ids[Y]}));
alert("Loading files from Google Drive ...")}}}else{var z=window.launchQueue;if(z){var N=this._F;z.setConsumer(function(R){var V=R.files;
console.log(V);for(var Y=0;Y<V.length;Y++){var d=V[Y];d.getFile().then(function(e){N.Pu([e],null,null,null,[d])})}})}}};
kH.prototype._=function(){var c=document.getElementById("cap");if(c){var o=!1,K=c.getElementsByTagName("h1")[0],$=0,n=0,x=0;
K.textContent=o?"Photopea":iV.get([0,17,0]);var u=c.getElementsByTagName("p"),X=S.LI(iV.get([0,17,1])),O=["PSD","XCF","Sketch","XD","CDR"];
for(var Y=0;Y<O.length;Y++)X=X.replace(O[Y],"<b>"+O[Y]+"</b>");if(!o)X+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
u[0].innerHTML=X;X=iV.get([0,17,2])+" "+iV.get([0,17,3]);for(var Y=0;Y<X.length;Y++){var l=X[Y];if(l=="<")n++;
if(l==">")x++}if(!o&&n*x==9){var N=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var Y=0;Y<3;Y++){var f=X.indexOf("<",$),z=X.indexOf(">",$),R=X.slice(0,f)+"<a href=\""+N[Y]+"\" target=\"_blank\">"+X.slice(f+1,z)+"</a>";
$=R.length;X=R+X.slice(z+1)}u[1].innerHTML=X}else u[1].innerHTML=iV.get([0,17,2])}var V=document.getElementById("sponsors");
if(V)V.textContent=iV.get([0,17,4]);this.eg._();this.R2._();this.Nc._();this.YA._();this.f2._();this.lQ._();
for(var d in this.k.map)if(this.k.map[d].m6)this.k.map[d].m6._()};kH.prototype.bC=function(){var c=S.if[d0.AJ][d0.aqX];
if(c&&c[1]){if(c[1].endsWith(d0.hn("UUPSDm@ID")))return!0}return 4<S.if[d0.AJ][d0.WP][d0.ad5](d0.hn("'$!|"))};
kH.prototype._Q=function(c,o){c=Math.floor(c);o=Math.floor(o);var K=S.hn("WUMK&AM"),u=d0.uR,X=S.if[d0.kN],$=Math.max(c,window.screen.width),O=Math.max(o,window.screen.height),f=0;
if(ji.sl==null)ji.sl=Math.min($,O)<500||$<750?0:$<1500?1:2;var n=ji.sl,x=!this.SP||this.bC()||!this.oz.wO||ar.Is()||n==0;
if(!x&&ji.$T()){if(this.azU==null)this.azU=Math.random()<.5;x=this.azU}if(x){if(n!=0&&S.if[K]&&this.SP)S.if[K]()}else{if(n==0)o-=60;
else c-=n==1?180:320}hS.prototype._Q.call(this,c,o);if(x&&this._J){this.n[d0.Mg](this.xo);S._a(this.xo);
this._J=!1}if(!x&&!this._J){var l=function(V){if(Math.random()<.002){ar.event(ji.I$()?"gota_0":"gota_1")}this.acV(c,o);
var d=n==0?X[d0.oX]:this.n;d.appendChild(this.xo);this.xo[d0.KY](u,S.hn("_MMJLNDfKCAg")+(n==0?10:10)+S.hn("_d$ebOS?I:==Ba-+# }$M"));
this.xo[u][S.hn("_MMJLND&<:E")]=(n==0?0:19)+S.hn("_d");this.xo[u][S.hn("i5WJHX")]=n==0?0:1}.bind(this);
function N(){ji.a4M(l)}setTimeout(N,2300);this._J=!0}if(S.Kt(this.R2.n))f+=31;if(S.Kt(this.bB.n))f+=32;
this.eg.a5Q=this.oz.wO&&this.SP;this.eg._Q(c,f);var z=o-f,R=S.hn("_d");this.xo[u][d0.a3U]=(n==0?100>>>1:o-11)+R;
this.xo[u][d0.vw]=(n==0?c:6*Math.pow(10,2))+R;if(S.Kt(this.YA.n))this.YA._Q(c,z);this.Nc._Q(c,z);this.lQ._Q(c-this.YA.RP()-this.Nc.RP(),z)};
kH.prototype.acV=function(c,o){var K=function(){var u=new ev(y.E.M);u.data={Y:y.H.Vl,n9:"account"};this.I(u)}.bind(this);
ji.azr(c,o,this.xo,K)};kH.prototype.aua=function(c){console.log("systemCopy")};kH.prototype.aCg=function(c){if(S.Qz())return;
console.log("systemPaste");if(!c.clipboardData)return;var o=c.target.tagName.toLowerCase(),K=c.clipboardData.items;
if(K==null)return;var u=this.ath.bind(this);for(var Y=0;Y<K.length;Y++){var X=K[Y],$=X.getAsFile();if(X.type.indexOf("image")!=-1){if($.size==this.oz.ay$)return;
this.oz.ay$=$.size;if($){$.name="image.png";this._F.Pu([$],u)}}}};kH.prototype.ath=function(c,o){var K={buffer:c,rect:o},u=this.oz;
if(S.Qz()){var X=this.a0S,$=X.aB;if($.m==o.m&&$.e==o.e){K.rect=$;K.S8=X.S8}}else{if(u.rQ){var O=new ev(y.E.v,!0);
O.f=r.DX;O.data={Y:"h_stepbck"};this.I(O)}}u.rQ=K;var O=new ev(y.E.M,!0);O.data={Y:y.H.Q$,am1:!0};this.I(O)};
kH.prototype.avs=function(){if(this.f2.ZG()!=null)alert(iV.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
kH.prototype.GN=function(c){var o=this.pL();if(o==null){alert(iV.get([15,7,7]));return}var K=c.f==r.OC||c.f==r.Hu;
if(this.f2.I2()&&c.a2!=!0&&!K){this.avs();return}var u=this.k,X=this.oz.lm,$=c.f;if($==r.kO&&X==r.aU)$=r.aU;
if(X!=$&&u.map[X].f.I2()&&!K&&!(X==r.lF&&$==r.qS)){console.log("disabling",X);u.map[X].f.disable(o,this,this.oz,this.IV)}var O=this.k.map[$].f;
O.GN(c.data,this,o,this.IV,this.oz)};kH.prototype.ahU=function(c){var o=this.oz;if(c.data.mf!=!0)a5.aku({ST:c.data.ST,sK:c.data.sK},this,o,this.pL());
var K=o.DP,u=o.U8;if(K==null)return;var X={aek:!1,EP:"Step",aef:0,w:!0,exp:!1,ST:c.data.ST};if(K[2]==null)K[2]=u[K[0]].fE[K[1]].fE.length-1;
if(c.data.sK)X.sK=c.data.sK;u[K[0]].fE[K[1]].fE.splice(K[2]+1,0,X);K[2]++;this.kV(iD.v)};kH.prototype.Gq=function(c){if(this.aDo){c.data=0;
return c.type}if(S.if.__csrf&&!ar.Is()){var o=d0.hn("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(o,5e3);return}hS.prototype.Gq.call(this,c);var K=c.data.Y;if(K==y.H.XJ)a5.ad2(this.pL(),this.oz.U8,c.data.Yg[0],c.data.Yg[1],this);
if(K==y.H.a6A){this.acS(c.data.a8g)}if(K==y.H.a2W){this._();this.sa()}if(K==y.H.qh)this.sa();if(K==y.H.Yz)if(this.oz.NJ){this.oz.NJ.prompt();
this.oz.NJ=null}if(K==y.H.L3)this.lQ.Sd(c.data.Vp,c.data.push);if(K==y.H.aos)this.lQ.ajA();if(K==y.H.akE)this.ym(null,c.data.dir);
if(K==y.H.nR)this.lQ.er(this.eJ.indexOf(c.data.Kr?c.data.Kr:this.pL()));if(K==y.H.pw){if(c.data.TE)navigator.keyboard.lock(["Escape"]);
if(c.data.TE&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();else document.body.requestFullscreen()}else if(c.data.TE)document.body.webkitRequestFullScreen();
if(c.data.b!=null)this.sP(c.data.b)}if(K==y.H.awB){if(c.data.dm)this.IV.Ae(c.data.auP);else this.IV.vQ(c.data.auP);
this.y9(c.data.dm?"down":"up")}if(K==y.H.asD){var u=c.data.b;this.Nc.aqZ([u]);this._()}if(K==y.H.gp){var X=this.pL(),$=X.i9().slice(0),O=X.s[X.g[0]],n=new ez(0,0,X.m,X.e),x=h_.iE()+"-d71c-11e5-b1ae-a548a96e5f9f",l=new ev(y.E.M,!0);
if(c.data.EU==0){var N={name:"Default/"+X.name.split(".")[0],id:x,Y1:[$,n]};l.data={Y:y.H.NU,Zk:"add",EU:iD.qR,Ye:[N]};
this.I(l)}if(c.data.EU==1){var f=a.R(n.P()*4);a.ms(f,4294967295);a.a.hA("norm",$,n,f,n,n,1);var z=a.R(n.P());
a.yH(f,z);a.fH(z);var R=a.Rp(z,n);if(R.SR())R=n;var V=a.R(R.P());a.qv(z,n,V,R);R.x=R.y=0;var d={aB:R,id:x,Y1:[V,R]},e=ac.jz(x),p=e.Brsh.v;
p.Dmtr.v.val=Math.max(R.m,R.e);p.Spcn.v.val=10;l.data={Y:y.H.NU,Zk:"add",EU:iD.yj,Ye:{list:[{t:"Objc",v:e}],Z7:[d],p1:[]}};
this.I(l);l.data={Y:y.H.NU,EU:iD.nD,u1:e};this.I(l)}if(c.data.EU==2){var h=X.Dr(),E=h[0][h[1][0]],q={PB:"Default/"+O.getName(),Oq:x,$:E.add.vmsk.clone().$},Z=a.o.$$(q.$),v=new bE(Z.m,0,0,Z.e,Z.x,Z.y);
v.fH();a.o.Ik(q.$,v);Z.x=Z.y=0;q._C=Z.clone();l.data={Y:y.H.NU,Zk:"add",EU:iD.OO,Ye:[q]};this.I(l)}}if(K==y.H.ip)this._F.km(c.data.EU);
if(K==y.H.Rk){var W=c.data.at_,D=c.data.s2;if(W!=!0&&D!=!0&&this.jo("open"))return;var I=this.lQ.iV();
if(D)I=-1-I;this._F.aDw(W||D?I:null,c.data.avL)}if(K==y.H.PO){var A=c.data.amE,U=c.data.zC,w=this.b0(A);
if(U){var t=A==iD.yj,L=[];for(var Y=0;Y<U.length;Y++)L.push((t?w.list:w)[U[Y]]);w=t?{p1:w.p1,Z7:w.Z7,list:L}:L}if(A==iD.Oz){var n=new h_;
for(var Y=0;Y<w.length;Y++){var J=w[Y].ho.Lefx;if(J)bL.atM(J,n,this.oz.dx)}w={oL:n.add.Patt?n.add.Patt:[],iA:w}}if(A==iD.zK){var b=this.oz.i_;
w={Z7:[],p1:[],list:w};console.log(w)}if(A==iD.v)w=w[c.data.vv];var F=iD.Mt[A],$=F[2].jH(w);fn.save($,F[1]+"."+F[0])}if(K==y.H.j3){var B=this.oz.C1,k=c.data.ai7;
if(B.hC&&!B.atm&&!k){B.av3=window.confirm("Load \""+c.data.Ek+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
B.atm=!0}if((B.av3||k)&&B.hC){B.Zy[c.data.Ek]=c.data.xp;var l=new ev(y.E.M);l.data={Y:y.H.NU,EU:iD.xf};
this.I(l)}}if(K==y.H.aff){var X=this.pL(),m="<!DOCTYPE HTML>";if(X==null)return;var i=c5.Ec(X.i9().buffer,X.m,X.e),H=window.open();
m+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";m+="<body><img src=\""+i+"\" /></body>";
m+="</html>";H.document.write(m)}if(K==y.H.JW){if(this.jo("publishOnline"))return;var j=c.data.GA!="psd",X=this.pL();
if(X==null)return;if(!j&&X.pQ)return;var o="Your "+(j?"picture":"document")+" will be published at "+(j?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!j)o+=" We guarantee 6+ months of storage.";var Q=c.data.vb?!0:confirm(o);if(Q){if(!j){var l=new ev(y.E.v,!0);
l.f=r.KX;l.data={Y:gU.ml};this.I(l);var G=new ez(0,0,X.m,X.e);for(var Y=0;Y<X.s.length;Y++){var O=X.s[Y];
if(O.rect.SR()||O.rD()||O.wD()||O.EE()||O.NL()||O.add.TySh||O.add.vmsk||O.add.SoLd)continue;var g=G.ar(O.rect);
if(!g.Ug(O.rect)&&!g.SR()){var P=a.R(g.P()*4);a.Ui(O.buffer,O.rect,P,g);O.buffer=P;O.rect=g}if(!a.JO(O.buffer,O.rect.m,O.rect.e))continue;
var M=O.IT(),T=O.opacity,C=O.Mh,gf=O.xQ;O.OG(!0);O.opacity=255;O.Mh="norm";X.g=[Y];l.data={Y:gU.tP,GA:"jpg"};
this.I(l);var s=X.s[Y];O.OG(M);s.OG(M);O.opacity=s.opacity=T;O.Mh=s.Mh=C,O.xQ=s.xQ=gf}}if(X.fL){X.Lx()}var b3=X.m,d5=X.e,gh=c.data.aiF,jt;
if(gh)while(Math.max(b3,d5)>gh){b3=b3>>>1;d5=d5>>>1}console.log(b3,d5);if(c.data.GA=="psd")jt=c5.PY(X,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(c.data.GA=="png")jt=c5.PY(X,"png",b3,d5);else{var fl=c5.PY(X,"png",b3,d5),eq=c5.PY(X,"jpg",b3,d5);
jt=fl.byteLength<eq.byteLength?fl:eq}if(c.data.vb==null)c.data.vb=function(dL){var iv=j?dL:"https://www.photopea.com/#i"+dL+".psd",l=new ev(y.E.M);
l.data={Y:y.H.Vl,n9:"linkview",aql:iv};this.I(l)}.bind(this);if(j)fn.ahm(jt,c.data.vb);else this._F.arn(jt,X.name,c.data.vb,"psdshared")}}if(K==y.H.Ol){var X=this.pL(),c7=!1;
if(X==null)return;if(X.fL){X.Lx()}if(c.data.po){if(!this.Jh(X,c.data.po))return;var $=ab.a63(X,c.data.po,this.oz);
this.hU($);c7=!0}else if(X.rt){if(this.eJ.indexOf(X.rt.il)!=-1){var $=new Uint8Array(c5.nq("PSD").nC(X,null,null,[!0,!1])),l=new ev(y.E.v,!0);
l.data={Y:gU.fy,ff:X.rt.il,data:$,id:X.rt.ayL,fp:X.name};l.f=r.KX;this.I(l);alert("Smart Object updated")}c7=!0}else if(this.jo("save")){c7=!0}else if(X.Jl){ab.azK(X);
c7=!0}else if(X.$s){var k8=ab.avw(X);if(k8==1){alert("Already saving another file. Try again later.");
return}c7=!0}else if(X.Zk&&X.Zk.yq){if(!this.Jh(X,X.Zk.yq.formats))return;this._F.ais(X,this.oz,ab.agp);
c7=!0}else if(X.X8&&"psd jpg png gif webp svg bmp".split(" ").indexOf(X.Hb)!=-1){this.ac7();return}if(c7){X.GM=X.Wi;
X.tA=Date.now();X.Jn=!0}else{var l=new ev(y.E.M,!0);l.data={Y:y.H.to};this.I(l)}}if(K==y.H.to){if(!this.oz.iN){alert("function is disabled");
return}if(this.jo("saveAsPSD"))return;var X=this.pL();if(X==null)return;if(!this.Jh(X))return;var l=new ev(y.E.v,!0);
l.data={Y:gU.ml};l.f=r.KX;this.I(l);var hs=X.s.length,cq="Your document has "+X.s.length+" layers.";
if(hs>1<<15){alert(cq+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(hs>8e3&&!confirm(cq+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var jn={NT:[]};X.root.aDq([],jn);var an=jn.NT;if(an.length>11&&!confirm("One layer is nested "+(an.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+an.join(" \uD83E\uDC1A ")+"."))return;
var hk=window.showSaveFilePicker;if(window.parent!=window)hk=null;if(hk&&!c.data.abV){var ds={suggestedName:X.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
hk(ds).then(function(c){X.X8=c;X.name=c.name;X.So=!0;X.Hb="psd";this.ac7()}.bind(this));return}var gT=window.gtag;
if(X.Vh()&&gT)gT("event",X.Hb+":"+S.Bv(ar.Is()?"\"'|('61":"w'| "),{event_category:"Formats"});if(X.fL){X.Lx()}var gP=gN==0?"PSD":"AI",ky=c5.nq(gP);
if(c.data.abV){var $=X.Hb=="psd"?ky.nC(X):ab.fW(X,X.Hb,this.oz);this.a9H($,X,this)}else{var $=ky.nC(X);
fn.save($,X.name);X.GM=X.Wi;X.tA=Date.now();X.Jn=!0}}if(K==y.H.aX)window.open(c.data.link,"_blank");
if(K==y.H.ahQ){if(this.f2.I2()){this.avs();return}var X=this.pL(),O=X.s[X.g[0]],u=X.Uv(O.add.SoLd.Idnt.v);
for(var Y=0;Y<this.eJ.length;Y++){var ay=this.eJ[Y].rt;if(ay!=null&&ay.ayL==u.Il&&ay.il==X){this.lQ.IX(Y);
return}}fn.Di({name:u.fp,rt:{ayL:O.add.SoLd.Idnt.v,il:X}},u.raw.buffer,this)}if(K==y.H.a4K){var X=this.pL(),O=X.s[X.g[0]],u=X.Uv(O.add.SoLd.Idnt.v);
fn.save(u.raw.buffer,u.fp)}if(K==y.H.aiT){console.log(c.data);fn.Di({name:c.data.$s[1].split("/").pop(),$s:c.data.$s},c.data.OQ,this)}if(K==y.H.au7){var X=this.pL();
X.$s=c.data.$s;X.name=X.$s[1].split("/").pop();var l=new ev(y.E.M);l.data={Y:y.H.Ol};this.I(l)}if(K==y.H.db){this.ad6()}if(K==y.H.oO){this.a9D(c.data.Kv,c.data.Ba,c.data.JL)}if(K==y.H.Q$){this.a4D(c.data.am1,c.data.iq,c.data.JL)}if(K==y.H.aaZ){var bb=c.data.b;
if(this.oz.lm==r.kO&&this.BT().I2()){var l=new ev(y.E.v,!0);l.f=r.kO;l.data={Y:"insertText",b:bb};this.I(l);
return}if(bb.startsWith("vcb;")){var ap=JSON.parse(bb.slice(4));ap[0]=d$.a6f(ap[0]);var l=new ev(y.E.v,!0);
l.f=r.iZ;l.data={Y:"append",u0:"Paste Paths",a4e:ap};this.I(l)}else if(bb.startsWith("lrs;")){var cR=bb.split(";"),c8=this.eJ[parseInt(cR[1])];
if(c8==null)return;var gr=this.pL(),fF=c8.g;c8.g=JSON.parse(cR[2]);var cj=c8.Cq(null,c8!=gr);c8.g=fF;
var l=new ev(y.E.v,!0);l.data={Y:gU.WM,s:cj,il:c8,Cj:gr};l.f=r.KX;this.I(l)}else if(bb.startsWith("<!--")||bb.startsWith("<svg")){var br=_.qK(bb),gG=c5.nq("svg"),n=new h_("image.psd");
gG.gP(br.buffer,n);if(this.eJ.length!=0){var jx=n.s;if(jx.length==3&&jx[0].getName()=="</Layer group>"&&jx[2].rD())jx=[jx[1]];
var l=new ev(y.E.v,!0);l.f=r.KX;l.data={Y:gU.WM,s:jx,il:n,Cj:this.pL()};this.I(l)}else this.aDb(n)}}if(K==y.H.Vj){bj.Eq(c.data.bU,this)}if(K==y.H.m0){if(window.parent!=window)window.parent.postMessage(c.data.EU,"*");
this.Nc.Zd(c.data.EU)}if(K==y.H.P8){var cr=parseFloat(c.data.n9);if(this.oz.C$.indexOf(cr)==-1){var l=new ev(y.E.M,!0);
l.data={Y:y.H.NU,EU:iD.Vb,b:cr,Zk:"add"};this.I(l)}this.Nc.acL(c.data.n9)}if(K==y.H.Yx){this.vG.awl(this.pL(),this.oz)}if(K==y.H.Vl){var a8="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var Y=0;Y<a8.length;Y+=2)if(c.data.n9==a8[Y]&&this.jo(a8[Y+1]))return;if(!this.oz.iN&&c.data.window=="saveforweb"){alert("function is disabled");
return}this.f2.asJ(c.data.n9,this.pL(),c.data,this.eJ,this.IV)}if(K==y.H.fe)fn.save(c.data.data,c.data.name);
if(K==y.H.dR){if(!this.f2.I2()||c.a2)this.aDb(c.data.ff)}if(K==y.H.h3){this.lQ.IX(c.data.target);var l=new ev(y.E.v,!0);
l.data={Y:gU.arT,ff:c.data.ff,l$:c.data.l$,Qb:c.data.Qb};l.f=r.KX;this.I(l);this.iF(r.Le)}if(K==y.H.auv){jT.lW=!jT.lW;
if(this.eJ.length>0)this.pL().d()}if(K==y.H.a51){var f8=ar.nH();if(f8!=null&&f8.globals!=null)this.$A(f8.globals);
this.NC()}if(K==y.H.Jx){this._F.Pu(c.data.data,null,c.data.eq,c.data.rR,c.data.acm)}if(K==y.H.VO){var dW=this.BT();
if(!this.f2.ZG()!=null)this.iF(c.data.f,c.data.oq);var g7=this.BT();if(g7!=dW&&c.data.a3L)g7.x5(this.pL(),this,this.oz,this.IV,this.gw)}if(K==y.H.aq){if(this.k.Wj)this.iF(this.k.Wj)}if(K==y.H.xA){var eU=this.k.map[c.data.f].f,X=this.pL();
eU.sE(c.data,this,X,this.IV,this.oz);if(X)X.rH=!0;this.ap2()}if(K==y.H.Wu){var f7=this.k.map[c.data.f];
this.a11(f7);f7.m6.Fv(c.data)}if(K==y.H.NU){var X=this.pL(),d7,aW=!(X&&X.g.length!=0&&X.s[X.g[0]].add.TySh),cy=c.data.EU,dh=c.data.Ye,fh=this.oz;
if(c.data.Zk=="set"){var g7=r.K6[dh[1].classID];if(fh.lm!=g7)this.iF(g7);this.k.map[g7].m6.adi(dh,fh)}if(c.data.Zk=="add"){var F=iD.Mt[cy];
if(cy==iD.Vb){fh.C$.push(c.data.b);fh.C$.sort(function(dL,iv){return dL-iv})}else if(F==null){if(dh)fh.ru.aoZ(dh,c.data.aDz);
if(X)X.Jn=!0}else{var dP=this.b0(cy);if(cy==iD.yj){dP.Z7=dP.Z7.concat(dh.Z7);dP.p1=dP.p1.concat(dh.p1);
dP=dP.list;dh=dh.list}if(cy==iD.Oz&&X){for(var Y=0;Y<dh.length;Y++){var J=dh[Y].ho.Lefx;if(J)bL.acn(J,X,fh.dx)}}if(cy==iD.zK&&dh==null){var n=this.k.map[fh.lm].m6.a1X();
if(n==null)return;dh=[n]}for(var Y=0;Y<dh.length;Y++)dP.push(dh[Y]);if(cy==iD.OO){var fg={};for(var Y=0;
Y<dP.length;Y++){var bo=dP[Y].PB;while(fg[bo]!=null)bo=dP[Y].PB=bo+"X";fg[bo]=!0}}if(c.data.aDz!=!0)if(dP.length!=dh.length||cy==iD.Op||cy==iD.Oz||cy==iD.Lh||cy==iD.v)alert(iV.get(F[3])+" "+iV.get([23,1])+".")}}if(c.data.Zk=="del"){if(cy==iD.Vb){fh.C$.splice(fh.C$.indexOf(c.data.b),1)}else{var F=iD.Mt[cy],U=c.data.zC,dP=this.b0(cy);
if(cy==iD.yj)dP=dP.list;for(var Y=0;Y<U.length;Y++)dP[U[Y]]=null;for(var Y=0;Y<dP.length;Y++)if(dP[Y]==null){dP.splice(Y,1);
Y--}alert(iV.get(F[3])+" deleted.")}}if(c.data.Zk=="rnm"){var F=iD.Mt[cy],dP=this.b0(cy);if(cy==iD.yj)dP=dP.list;
if(dP[c.data.zC[0]]==null)return;F[2].fA(dP[c.data.zC[0]],(c.data.Sp?c.data.Sp:"")+c.data.b)}if(cy==iD.Cr){var jK=c.data.b;
fh.L6=jK;fh.QN[jK.KO]=jK.gq}if(cy==iD.JP){var jK=c.data.b;fh.KT=JSON.parse(JSON.stringify(jK));var jQ=gH.i$(jK);
fh.$t[jQ.KO]=jQ.gq}if(cy==iD.cv){fh.Be=c.data.b}if(cy==iD.IQ){fh.zc=c.data.b}if(cy==iD.al){fh.qH=c.data.qH;
var aZ=fh.qH.W$.FillColor;if(aW&&aZ){var eo=aZ.Values,dC={Z:eo[1]*255,r:eo[2]*255,J:eo[3]*255},hG=a.RZ(dC);
if(fh.V5!=hG){fh.V5=hG;d7=iD.Mn}}}if(cy==iD.nD){var P=JSON.parse(JSON.stringify(c.data.u1)),dy=P.useBrushSize;
if(dy&&dy.v){P.Brsh.v.Dmtr.v.val=fh.i_.ET.Brsh.v.Dmtr.v.val;dy.v=!1}fh.i_.ET=P;var fw={ST:"select",sK:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:P.Nm.v.split("/").pop()}}]}}},f7=this.BT();
f7.M0=this;f7.track(fw)}if(cy==iD.N6){fh.gv=c.data.qU}if(cy==iD.H1){fh.Ye=c.data.qU}if(cy==iD.Mn){var fw,dM="Clrs";
if(c.data.D$<2){var aX=c.data.b,fy=c.data.D$==0;console.log(a.rf(aX),a.rf(fh.V5));var gp=a.T.mv(a.rf(aX));
if(fy)fh.V5=aX;else fh.th=aX;dM=fy?"FrgC":"BckC";fw={ST:"set",sK:{__name:"Set",classID:"setd",T:{t:"Objc",v:gp}}}}if(c.data.D$==2){var aU=fh.V5;
fh.V5=fh.th;fh.th=aU;fw={ST:"exchange",sK:{__name:"Exchange",classID:"Exch"}}}if(c.data.D$==3){fh.V5=0;
fh.th=16777215;if(X!=null&&X.g.length!=0&&X.s[X.g[0]].Xx==1){var aU=fh.V5;fh.V5=fh.th;fh.th=aU}fw={ST:"reset",sK:{__name:"Reset",classID:"Rset"}}}if(fw){fw.sK.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:dM}}]};
var f7=this.BT();f7.M0=this;f7.track(fw)}var aZ=fh.qH.W$.FillColor;if(aW&&aZ){var e7=a.rf(fh.V5),eV=[1,e7.Z/255,e7.r/255,e7.J/255];
if(eV.join(",")!=aZ.Values.join(",")){aZ.Values=eV;d7=iD.al}}}if(cy==iD.Qh){fh.zo=!fh.zo;this.sa()}if(cy==iD.pn){fh.ja=!fh.ja;
this.sa()}var b8=fh.RG;if(cy==iD.Cp){b8.yk=!b8.yk;this.sa()}if(cy==iD.qB){b8.es=!b8.es;this.sa()}if(cy==iD.mR){b8.qb=!b8.qb;
this.sa()}if(cy==iD.Kx){b8.wr=!b8.wr;this.sa()}if(cy==iD.u8){b8.uI=!b8.uI;this.sa()}if(cy==iD.UC){b8.ni=!b8.ni;
this.sa()}if(cy==iD.V2){fh.RG=c.data.qU;this.sa()}if(cy==iD.afE){fh.WJ=!fh.WJ;this.sa()}if(cy==iD.Ux){fh.Yi[c.data.yI]=!fh.Yi[c.data.yI];
this.sa()}if(cy==iD.NF){iV.ud(c.data.lang,this.u9)}if(cy==iD.cb){fh.SU=c.data.SU;this._()}if(cy==iD.xf&&fh.C1.hC){var h$=fh.C1.hC.transaction(["rsrc"],"readwrite").objectStore("rsrc"),jZ={k:"fs0",fset:fh.C1.Zy};
if(c.data.aA1)jZ={k:fh.C1.id,fset:fh.C1.uC};var bu=Object.keys(jZ.fset).length==0?h$.delete(jZ.k):h$.put(jZ);
bu.onerror=function(c){console.log(c);alert("Storing failed. Browser says: "+c.target.error.message,7e3)}}this.kV(cy);
if(d7)this.kV(d7)}};kH.prototype.ac7=function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.SB,g3:"Saving ..."};
this.I(c);setTimeout(function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.to,abV:!0};this.I(c)}.bind(this),20)};
kH.prototype.a9H=function(c,o){o.X8.createWritable().then(function(K){K.write(c);return K}).then(function(K){return K.close()}).then(function(K){o.GM=o.Wi;
o.tA=Date.now();o.Jn=!0;var u=new ev(y.E.M,!0);u.data={Y:y.H._E,g3:"Saving ..."};this.I(u)}.bind(this)).catch(function(K){var u=new ev(y.E.M,!0);
u.data={Y:y.H._E,g3:"Saving ..."};this.I(u)}.bind(this))};kH.prototype.awy=function(){var c=this.oz,o=c.Ye,K=c.aCe;
for(var Y=0;Y<o.length;Y++){var u=o[Y];if(K[u])continue;K[u]=!0;this._F.BX(u,!1,!0)}};kH.prototype.ad3=function(){this._();
this.sa()};kH.prototype.jo=function(c){var o=this.oz.kx[c];if(o){var K=new ev(y.E.M,!0);K.data={Y:y.H.Vj,bU:o};
this.I(K)}return o!=null};kH.prototype.Jh=function(c,o){var K=!0,O=15;if(o){K=!1;for(var Y=0;Y<o.length;
Y++)if(o[Y].startsWith(S.hn("__M")))K=!0}var u=c.Vh()||c.rt&&c.rt.il.Vh();if(this.bC())u=!1;var X=new S.if[d0.B0],$=(X[S.Bv("xy,b-66:")]()&1)*60+X[S.hn("VQ]3LNRN<G")]();
if(u&&!ar.Is()&&$>O&&K){var n=S.if[S.Bv("}$z{2*35")][S.Bv("y'|!")],x=S.hn("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
x+="\n\n"+S.hn("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-$+120)+S.hn("nYRTXTBMd");
if(n.indexOf(S.Bv("\"|'/-1)(W0?@"))==-1)x=iV.get([0,11+6,3+2]);S.if._cwY(x);return!1}return!0};kH.prototype.b0=function(c){var o=this.oz,K=[iD.yj,iD.cE,iD.d9,iD.Lh,iD.qR,iD.OO,iD.Oz,iD.Op,iD.v,iD.zK,iD.Y_],u=[o.i_,o.kQ,o.YX,o.Dd,o.dx,o.Vr,o.dn,o.ao6,o.U8,o.nu,o.akT];
return u[K.indexOf(c)]};kH.prototype.ad6=function(){var c=this.a9D(),o=this.pL();if(o==null||o.g.length==0)return;
var K=o.s[o.g[0]],u=new ev(y.E.v);if(c==1){u.f=r.iZ;u.data={Y:"remove",u0:"Cut Paths"}}else{u=new ev(y.E.XV);
u.data={ST:"delete"}}this.I(u)};kH.prototype.a9D=function(c,o,K){if(c==null)c=!1;var u=this.oz;console.log("doCopy",c,o);
var X=this.pL();if(u.lm==r.kO&&this.BT().I2()){var $=new ev(y.E.v,!0);$.f=r.kO;$.data={Y:"copyText"};
this.I($);return}if(X==null||X.g.length==0)return;var O=X.s[o==null?X.g[0]:o],n=X.Dr(),x=n[0],N=n[1],f=x[N[0]];
if(!c&&f!=null&&f.add.vmsk.g.length!=0){var z=r.ju.k0(f.add.vmsk,f.add.vogk);if(S.Qz()){z[0]=d$.ap4(z[0]);
var R="vcb;"+JSON.stringify(z);fn.Zo(new Blob([R],{type:"text/plain"}))}else u.cm=z;return 1}else if(X.u==null){if(S.Qz()){var R="lrs;"+this.eJ.indexOf(X)+";"+JSON.stringify(X.g);
fn.Zo(new Blob([R],{type:"text/plain"}))}}else{var V,d;if(c){var e=new ez(0,0,X.m,X.e);d=e.ar(X.u.rect);
V=a.R(d.P()*4);a.Ui(X.i9(),e,V,d);a.Vu(X.u.channel,X.u.rect,V,d)}else if(X.LL.length!=0){d=X.u.rect.clone();
V=a.R(d.P()*4);var p=X.lr[X.LL[0]],h=p.U2(d);a.oe(h,V);a.bp(X.u.channel,V,3)}else{var E=O.oI(X,X.u);
if(E==null){alert("Copied area is empty");return}V=E.OQ;d=E.rect}var q=X.Q.O,Z=q[0]+q[1]+q[2];if(Z==1){var v=q.indexOf(1);
for(var Y=0;Y<V.length;Y+=4)V[Y]=V[Y+1]=V[Y+2]=V[Y+v]}var W=new kn(X.m,X.e);if(S.Qz()&&K!=!0){var D=c5.nq("PNG").aqV(V.buffer,d.m,d.e);
fn.Zo(new Blob([new Uint8Array(D)],{type:"image/png"}));this.a0S={aB:d,S8:W}}else u.rQ={buffer:V,rect:d,S8:W};
u.al6=d.clone();u.cm=null}};kH.prototype.a4D=function(c,o,K){if(o)this.anf=!0;console.log("doPaste");
var u=this.oz,X=u.rQ,x;if(this.eJ.length==0){if(!c&&S.Qz()){fn.HC(this,null);return}if(X){var $=c5.aS("image.psd",[{data:X.buffer.buffer,yS:X.rect}]),O=new ev(y.E.M);
O.data={Y:y.H.dR,ff:$};this.I(O)}return}var $=this.pL();if(u.lm==r.kO&&this.BT().I2()){fn.HC(this,null);
return}var n=$.s[$.g.length==0?$.s.length-1:$.g[0]];if(u.cm){var N=$.Dr(!0),f=N[0],z=N[1];x=f[z[0]]}var O=new ev(y.E.v,!0);
if(u.cm!=null&&x!=null){O.f=r.iZ;O.data={Y:"append",u0:"Paste Paths",a4e:u.cm}}else if(!c&&S.Qz()&&K!=!0){fn.HC(this,this.ath.bind(this));
return}else{if(X==null)return;if($.n_(!1)&&($.Q.O.join("")!="111"||$.LL.length!=0||n.Xx>0||n.rect.SR())){O.f=r.yj;
O.data={Y:"draw",aAd:!0,u0:[5,2]}}else{O.f=r.KX;O.data={Y:gU.Pm,iq:this.anf};this.anf=!1}O.data.rQ=X}this.I(O)};
kH.prototype.a0a=function(){var c=this.oz.ru;if(c.aqe())return;for(var Y=0;Y<this.eJ.length;Y++){var o=this.eJ[Y];
if(!hb.t0(o,c,this))continue;if(o._K)hb.Bw(o,c,this);var K=o.add.lnk2;if(K)for(var u=0;u<K.length;u++){var X=K[u];
if(X._K)r.Es.XX(o,X.Il,X.Za[1],X.Za[1],c)}if(o.ahx)continue;o.ahx=!0;if(o.Zk&&o.Zk.agu)bj.Eq(o.Zk.agu,this);
this.hU();var $=new ev(y.E.v);$.f=r.KX;$.data={Y:gU.Bk};var O=new ev(y.E.M);O.data={Y:y.H.P8,n9:cs.Bl.auX};
O.data={Y:y.H.Vl,n9:"saveforweb",GA:5,index:[10,0]}}};kH.prototype.kV=function(c){this.awy();var o=this.oz,K=o.lm,O=!1;
if(c==iD.nD){if(this.k.map[K].m6)this.k.map[K].m6.VW(o,c)}else for(var u in this.k.map)if(this.k.map[u].m6)this.k.map[u].m6.VW(o,c);
if(c==iD.gk){if(K!=r.kO)this.k.map[r.kO].f.VW(o,c);this.a0a()}this.lQ.VW(o,c);this.YA.VW(o,c);this.f2.VW(o,c);
if(gN==1&&(c==iD.Cr||c==iD.JP))this.k.map[r.Tc].f.VW(o,c);else this.BT().VW(o,c);this.Nc.VW(o,c);this.R2.VW(o,c);
if(c==iD.cb||c==iD.Vk){fW.azg(o.SU);this.update(!0)}var X=o.qH,$=X.W$.Font;if(c==iD.al&&$!=null&&X.c9[$].Name!=o.font){o.font=X.c9[$].Name;
O=!0}if([iD.Vb,iD.N6,iD.H1,iD.Mn,iD.Qh,iD.pn,iD.V2,iD.mR,iD.Kx,iD.Cp,iD.qB,iD.u8,iD.UC,iD.NF,iD.cb].indexOf(c)!=-1||O)this.ap2()};
kH.prototype.ap2=function(){if(!this.ez)return;var c={},o=this.k.map;for(var K in o){var u=o[K].f;if(u.eA&&u.eA()!=null)c["t"+K]=u.eA()}var X=this.oz,$=X.RG,O={guides:$.qb,grid:$.wr,sels:$.yk,paths:$.es,pgrid:$.uI,slices:$.ni,gsize:parseFloat($.vl.toFixed(2)),gunits:$.Vy,gtype:$.Mu,runits:$.MF};
if($.gt!=8421504)O.gcol=$.gt;if($.uV!=65535)O.gucol=$.uV;var n={fcolor:X.V5,bcolor:X.th,rulers:X.zo,extras:X.ja,favFam:X.gv,rsrc:X.Ye,panels:X.C$,eparams:O,lang:iV.He(),theme:X.SU,as:X.oA,co:X.Jt,topt:c};
if(X.font!=null)n.font=X.font;var x=ar.nH();if(x==null)x={};x.globals=n;ar.rn(x)};kH.prototype.xJ=function(c){var o=this.IV,K=this.gw,u=this.oz.lm,X=this.k.map[u].f,$=null,O=!1;
for(var Y=0;Y<this.k.aue.length;Y++){var n=this.k.aue[Y],x=!0;for(var l=0;l<n.rh.length;l++){var N=n.rh[l];
if(!o.N(N))x=!1}if(x&&(!n.rq||!X.I2())&&(n.FU==null||n.FU.indexOf(u)!=-1)){$=n.f;O=n.rq;break}}if((!K.dm||u==r.Qp||c)&&this.k.e5!=$&&($!=u||!O)){var f=this.pL();
if(this.k.e5!=null&&$==null)this.BT().disable(f,this,this.oz,o,!0);this.k.e5=$;this.BT().enable(f,this,this.oz,o,$!=null&&$!=u)}};
kH.prototype.j$=function(c){var o=this.oz.lm,K=this.pL();if(o!=null){this.k.map[o].f.disable(K,this,this.oz,this.IV)}};
kH.prototype.a11=function(c){if(c.m6==null){c.m6=new c._4(c.f.id);c.m6.ap$(c.f.id,c.f.wo);c.m6.VW(this.oz,iD.Vk);
c.m6._()}};kH.prototype.iF=function(c,o){if(c==r.Le&&this.f2.ZG())return;var K=this.pL(),u=this.oz;if(this.k.map[c].f.Yq(K,u,o)){this.j$();
if(c!=u.lm)this.k.Wj=u.lm?u.lm:r.DA;u.lm=c;this.YA.iF(u.lm);var X=this.k.map[c];this.k.qi[X.n7]=X.a4G;
this.a11(X);this.bB.a76(X.m6);var $=X.f;$.enable(K,this,this.oz,this.IV,!1,o);if(K)K.rH=!0;this.sa();
this.eg.abj()}};kH.prototype.BT=function(c){var o=this.k,K=o.B$,u=o.e5,X=this.oz.lm;if(K)X=K;else if(u&&c==null)X=u;
return o.map[X].f};kH.prototype.aDb=function(c){var o=this.oz,K=this.eJ.indexOf(c);if(K!=-1){this.lQ.IX(K);
return}if(this.Yh&&(c.Zk==null||c.Zk.yq==null)){c.Zk={yq:this.Yh}}if(c.We==null){c.We="local,"+this.a9T+","+c.name;
this.a9T++}c.tA=Date.now();if(gN==1&&c.add.arts==null)c.a8P();if(ji.I$()!=0&&!this.atX&&S.if[S.Bv("t$&!'31")].toString().indexOf(S.Bv(" u,$4&"))==-1){alert(S.Bv("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var Y=0;Y<c.s.length;Y++){var u=c.s[Y];if(u.add.SoLd!=null){var X=Date.now()}}var $=c.s.length,O=d0.gE(),n=Math.PI*(6550<<14)+(S.x1(31)?20:10)*7e7;
if(O>n){var $=c.s.length;c.s=[];return $}if(jT.lW){jT.ke(Math.max(c.m,c.e));for(var Y=0;Y<c.s.length;
Y++){var u=c.s[Y];if(u.Dc())jT.ke(Math.max(u.rect.m,u.rect.e))}}c.HR();c.nN();if(c.afv)c.aC6();else c.d();
c.afv=!1;this.eJ.push(c);this.lQ.Of(new fD(c));c.rH=!0;c.Jn=!0;this.a0a();var x=new ev(y.E.v);x.f=r._r;
x.data={Y:"auto",P1:2}};kH.prototype.pL=function(){return this.eJ[this.Yk]};kH.prototype.a0z=function(){return this.f2.ZG()==null};
kH.prototype.ym=function(c,o){this.j$();var K=this.eJ.length;if(o!=null)this.lQ.IX((this.lQ.iV()+o+K)%K);
this.Yk=this.lQ.iV();var u=this.pL();this.R2.aBD(u,this.oz);this.Nc.kX(u,this.eJ,this.oz);this.sa();
if(u)u.rH=!0};kH.prototype.azl=function(c){this.j$();var o=this.eJ,K=o[c.data._H];o.splice(c.data._H,1);
if(o.length==0){this.ym(c);var u=jT.kW(),X=fD.FF.mk;if(u.parentNode)u.parentNode.removeChild(u);if(X.parentNode)X.parentNode.removeChild(X)}this.aha(K.name)};
kH.prototype.aha=function(c){var o=this.oz.C1,K=!1;if(o.hC==null)return;for(var u in o.uC){if(c==null||u==c){delete o.uC[u];
K=!0}}if(K){var X=new ev(y.E.M);X.data={Y:y.H.NU,EU:iD.xf,aA1:!0};this.I(X)}};kH.prototype.amH=function(c){var o=[],K=c.data.a9o;
for(var Y=0;Y<K.length;Y++)o[Y]=this.eJ[K[Y]];this.eJ=o;this.Yk=this.lQ.iV()};kH.prototype.a75=function(c){var o=this.lQ,K=o.a6u(),u=this.BT(),X=this.pL();
if(K==o.iV()||!u.ak6())return;this.acS(K,u)};kH.prototype.acS=function(c,o){console.log("dup2doc");var K=this.oz,u=this.lQ,X=this.pL(),$=this.eJ[c],O,n=new ev(y.E.v,!0);
n.f=r.KX;if(X.u==null){n.data={Y:gU.WM,s:X.Cq(null,!0),il:X,Cj:$,aov:o==null};this.I(n)}else O=X.s[X.g[0]].oI(X,X.u);
var x=this.gw,N=K.zo;K.zo=!1;x=X.Q.FT(x.x,x.y);if(o)o.YM(X,this,K,this.IV);u.IX(c);if(X.u){n.data={Y:gU.Pm,rQ:{buffer:O.OQ,rect:O.rect}};
this.I(n)}x=$.Q.dV(x.x,x.y);if(o)o.x5($,this,K,this.IV,x);K.zo=N};kH.prototype.anW=function(c){var o=this.pL(),K=this.IV,u=this.oz,X=c.K4;
if(X)this.gw=X;if(X)X.y-=u.Jt;if(this.zy==null)this.zy=0;if(c.action=="multidown"){this.M3=c.ah.length;
this.zy=Date.now()}if(c.action=="up"&&Date.now()-this.zy<100){var $=new ev(y.E.v);$.f=r.DX;$.data={Y:this.M3==2?"h_stepbck":"h_stepfwd"};
this.I($)}if(c.action.startsWith("multi")){var O=new ev(y.E.v,!0);O.data={Y:c.action,ah:c.ah};O.f=r.Hu;
this.I(O);return}var n=this.k.map[r.DA].f;if((c.action=="down"||c.action=="rdown")&&u.lm!=r.DA&&this.k.e5!=r.DA&&n.aDM(o,this,u,K,X)){this.k.B$=r.DA;
n.enable(o,this,u,K,!0)}if(c.action=="idown"){K.Ae("Space");this.xJ(!0);c.action="down"}var x=this.f2.ZG(),N=x!=null&&x.Iq()&&this.k.e5==null?x:this.BT();
if(c.action=="scroll"){var f=!K.N(d2.vm)&&c.dt,O=new ev(y.E.v,!0);O.data={Y:"scroll",SS:c.SS.clone(),K4:X,ana:f};
O.f=K.N(d2.u6)||f?r.Hu:r.OC;this.I(O)}if(x!=null&&N!=x&&this.f2.I2()&&N.id!=r.OC&&N.id!=r.Hu)return;
if(c.action=="down")N.x5(o,this,u,K,X);if(c.action=="rdown")N.Cz(o,this,u,K,X);if(c.action=="move")N.Xo(o,this,u,K,X);
if(c.action=="up"||c.action=="iup"||c.action=="cancellast")N.v$(o,this,u,K,X,c.action=="cancellast");
if(c.action=="rup")N.Lz(o,this,u,K,X);if(c.action=="iup"){K.vQ("Space");this.xJ(!0)}if(c.action=="cancellast"){if(o&&o.history.length!=0&&Date.now()-o.history[o.history.length-1].auO<200){var $=new ev(y.E.v);
$.f=r.DX;$.data={Y:"h_stepbck"};this.I($)}}var z=this.Nc;if(c.action=="down")z.x5(o,this,u,K,X);if(c.action=="move")z.Xo(o,this,u,K,X);
if(c.action=="up")z.v$(o,this,u,K,X);if(c.action=="down"||c.action=="up"){this.xJ()}if(c.action=="down"||c.action=="up"||c.action=="ctx"){o.rH=!0}if((c.action=="up"||c.action=="rup")&&this.k.B$){this.k.B$=null;
n.disable(o,this,u,K)}};kH.prototype.ME=function(c){var o=this.pL(),K=this.gw;if(o&&this.BT().Wp(K,this.IV)){var u=o.Q,X=u.fE.m,$=u.fE.e,O=0,n=0,x=16;
if(K.x<x)O=x-K.x;if(K.x>X-x)O=K.x-(X-x);if(K.y<x)n=x-K.y;if(K.y>$-x)n=K.y-($-x);var l=this.IV.N(d2.Qx)?8:1;
if((O!=0||n!=0)&&(o.m*u.U>X||o.e*u.U>$)){O=Math.min(5,O*.5)*l;n=Math.min(5,n*.5)*l;if(K.x>x)O=-O;if(K.y>x)n=-n;
u.p.x+=O;u.p.y+=n;this.anW({K4:this.gw,action:"move"});o.So=!0}}this.update()};kH.prototype.update=function(c){var o=this.pL();
if(o==null)return;if(gN!=0){if(o.buffer)throw"e"}if(o.rH){var K=this.k.map;for(var u in K){if(K[u].f.fb)K[u].f.fb(o,this,this.oz,this.IV)}if(gN==1){K[r.Tc].f.fb(o,this,this.oz,this.IV,!0)}}if(o.fL&&gN==0)if(jT.lW)jT.ke(Math.max(o.m,o.e));
if(o.fL&&gN==0){o.Lx()}var X=o.Q,$=this.A7,O=this.A7=Date.now();if(o.fL||o.sG||o.Jn||o.So||c||X.aT!=X.U||!X.yJ.Ug(X.p)){var n=X.aT;
if(X.aT!=X.U){var x=r.PN.apb(X.U,X.aT>X.U),l=.12;if(X.aT<X.U&&X.aT<x)X.aT=x;if(X.aT>X.U&&X.aT>x)X.aT=x;
var N=Math.abs(X.U-x)*(O-$)*.001/l;if(X.aT<X.U)X.aT=Math.min(X.U,X.aT+N);else X.aT=Math.max(X.U,X.aT-N)}var f=n==X.U?0:(X.aT-X.U)/(n-X.U);
X.yJ.x=X.p.x+f*(X.yJ.x-X.p.x);X.yJ.y=X.p.y+f*(X.yJ.y-X.p.y);this.lQ.VW(this.oz,null);this.lQ.kX(o,this.eJ)}if((o.fL||o.So||o.rH)&&(!this.gw.dm||o.AZ)){if(o.rH)o.nN();
this.Nc.kX(o,this.eJ,this.oz);this.YA.aub(o,this.IV);o.ZL=!1}o.AZ=!1;o.rH=!1;o.fL=null;o.sG=o.Jn=o.So=!1};
kH.prototype.BO=function(c){var o=c.target.tagName.toLowerCase(),K=c.target.getAttribute("type"),u=d2,X=u.y3(c.code,u.m8);
if(!((o=="input"||o=="select"||o=="button")&&u.y3(c.code,u.q2))){if(u.iQ(c)&&o!="select"){c.preventDefault()}this.IV.Ae(u.iG(c));
this.y9("down")}};kH.prototype.kf=function(c){if(c.key==" ")this.IV.q0();if(d2.y3(c.code,d2.Rq))this.IV.reset();
this.IV.vQ(d2.iG(c));var o=c.target.tagName.toLowerCase();if(d2.iQ(c)&&o!="select"){c.preventDefault()}this.y9("up")};
kH.prototype.y9=function(c){var o=this.IV,K=this.pL(),u=K!=null&&K.g.length!=0;if(this.vG.ZG()!=null){if(o.N(d2.G$)||o.N(d2.m8)){this.vG.aiG()}return}this.xJ();
var X=this.Bd(d2.vm),$=o.N(d2.u6),O=o.N(d2.Qx);if(X&&o.N(d2.G0)&&c=="down"){var n=new ev(y.E.v),x=new ev(y.E.M);
n.f=r.DX;if(O){n.data={Y:"h_stepfwd"}}else{n.data={Y:"h_stepbck"}}if(this.f2.ZG()!=null&&this.f2.ZG().I2()){}else this.I(n)}if(X){var n=new ev(y.E.v),l=new ev(y.E.XV),x=new ev(y.E.M);
if(o.N(d2.Bu)&&o.N(d2.ge)){x.data={Y:y.H.Vl,n9:"storwindow"};this.I(x)}if(!$&&c=="down")for(var N in j7.keys){var f=j7.keys[N],z=!0;
for(var Y=0;Y<f.length;Y++)if(!o.N(f[Y]))z=!1;if(z){n.f=r._r;if(N=="hue2"&&O&&K.s[K.g[0]].add.SoLd==null)n.data={Y:"auto",P1:3};
else n.data={Y:"start",JF:N}}}if(o.N(d2.H)){if($){l.data={ST:"selectAllLayers",sK:{classID:"null",null:a5.Vs("Lyr",!0)}}}else l.data=r.mW.Io(!0)}if(o.N(d2.y6)){if($)x.data={Y:y.H.Vl,n9:"csize"};
else if(K)x.data={Y:y.H.oO,Kv:O}}if(o.N(d2.Vf)&&K.u){l.data=r.mW.Io()}if(o.N(d2.E)&&c=="down"){if(O)l.data={ST:"mergeVisible"};
else l.data={ST:"mergeLayersNew",sK:{__name:"Merge Layers",classID:"Mrg2"}}}if(o.N(d2.rz)){if(O&&this.oz.lm!=r.Le)x.data={Y:y.H.Vl,n9:"afw_fade"};
else if($){n.f=r.qS;n.data={Y:"applylast"}}else x.data={Y:y.H.Yx}}if(o.N(d2.U6)){if($&&K&&K.eu(K.g[0])){n.f=r.KX;
n.data={Y:gU.Ru}}else{n.f=r.KX;n.data={Y:gU.ub,vD:O}}}if(o.N(d2.T_)){x.data={Y:y.H.NU,EU:iD.pn}}if(o.N(d2.Bu)){if(O){n.data=null;
if($)x.data={Y:y.H.Vl,n9:"finfo"};else l.data={ST:"inverse"}}else if($)x.data={Y:y.H.Vl,n9:"isize"}}if(o.N(d2.Wo)){l.data={ST:(O?"cut":"copy")+"ToLayer"}}if(o.N(d2.gj)){x.data={Y:y.H.Vl,n9:"preferences"}}if(o.N(d2.s$)){if(O){n.f=r.KX;
n.data={Y:gU.SA}}else if(c=="down")x.data={Y:y.H.Vl,n9:"newproject"}}if(o.N(d2.jV)){if($)x.data={Y:y.H.Vl,n9:"storwindow",B5:0};
else{x.data={Y:y.H.Rk};o.reset()}}if(o.N(d2.Fu)){x.data={Y:y.H.aff};o.reset()}if(o.N(d2.Bl)){x.data={Y:y.H.NU,EU:iD.Qh}}if(o.N(d2.Ud)&&c=="down"){if(O){if($)x.data={Y:y.H.Vl,n9:"saveforweb"};
else x.data={Y:y.H.to}}else x.data={Y:y.H.Ol}}if(o.N(d2.J9)){if(O){n.f=r.KX;n.data={Y:gU.vi};this.I(n);
n.f=r.Le;n.data={Y:"again"}}else x.data={Y:y.H.VO,f:r.Le}}if(o.N(d2._x)){x.data={Y:y.H.Q$}}if(o.N(d2.x9)){this.lQ.iK()}if(o.N(d2.Ji)&&K&&K.Bj()){x.data={Y:y.H.db}}if(o.N(d2.Ef)||o.N(d2.aa)){n.f=r.KX;
n.data={Y:gU.cB,D$:0};if(o.N(d2.Ef))n.data.D$=O?3:2;else n.data.D$=O?0:1}if(o.N(d2._k)&&K){n.f=r.KX;
n.data={Y:gU.pO}}if(o.N(d2.m8)&&K){var R=0;if(O)R++;if($)R+=2;n.f=r.TN;n.data={Y:"frompath",Yg:[null,0,R]}}if(o.N(d2.uT)){l.data=r.zm.vY(0)}if(o.N(d2.q2)){var V=this.eJ.length,d=o.N(d2.Qx)?-1:1;
if(V>1)this.lQ.IX((this.lQ.iV()+V+d)%V)}if(o.N(d2.BD)){x.data={Y:y.H.NU,EU:iD.mR}}if(o.N(d2.xx)){x.data={Y:y.H.NU,EU:iD.Kx}}r.PN.a02(o,n);
if(this.f2.ZG()!=null&&this.f2.ZG().I2()){}else{if(n.data)this.I(n);if(l.data)this.I(l);if(x.data)this.I(x)}}if(!X&&$){var e;
if(o.N(d2.Ef))e="Bckw";if(o.N(d2.aa))e="Frwr";if(o.N(d2._k))e="Back";if(o.N(d2.uT))e="Frnt";if(e){var l=new ev(y.E.XV);
l.data={ST:"select",sK:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:e}}]},MkVs:{t:"bool",v:!1}}};
this.I(l)}}if(K&&K.g.length!=0){var p=K.s[K.g[0]],h=p.Xx;if(h==1||h==3||X){var n=new ev(y.E.v),E=h==3?p.$a(K).F:p.wD();
if(E){var q=E.nd?K.Q.O.join("")=="111"?1:2:0;n.f=r.Hu;if(E&&o.N(d2.G$)&&q!=0){n.data={Y:"mskView",b:0}}if(E&&o.N(d2.awG)){n.data={Y:"mskView",b:q==1?0:1}}if(E&&o.N(d2.ad4)){n.data={Y:"mskView",b:q==2?0:2}}if(n.data)this.I(n)}}}var Z=o.bP();
if(K&&X&&2<=Z&&Z<=5){var v=[1,1,1];if(Z>2){v=[0,0,0];v[Z-3]=1}var W=new ev(y.E.v,!0);W.f=r.OC;W.data={Y:"setcls",O:v};
this.I(W)}if(!o.N(d2.vm)&&!$&&c=="down"){var n=new ev(y.E.v),x=new ev(y.E.M),D=this.k.map[this.oz.lm],I=-1;
for(var Y=0;Y<this.k.keys.length;Y++)if(this.k.keys[Y]&&this.Bd(this.k.keys[Y]))I=Y;if(I!=-1){var A=null;
if(D.n7!=I)A=this.k.qi[I];if(D.n7==I&&O)A=(D.a4G+1)%this.k.Hv[I].length;if(A!=null){var U=this.k.Hv[I][A].f.id,w=this.oz.VB;
if((w==null||w.indexOf(parseInt(U))!=-1)&&!this.gw.dm)x.data={Y:y.H.VO,f:U}}}if(o.N(d2.T_))x.data={Y:y.H.VO,f:r.OC};
if(o.N(d2.Bl))x.data={Y:y.H.VO,f:r.uE};if(o.N(d2.Ji))x.data={Y:y.H.NU,EU:iD.Mn,D$:2};if(o.N(d2.Vf))x.data={Y:y.H.NU,EU:iD.Mn,D$:3};
if(x.data)this.I(x);if(o.N(d2.asR)&&K&&K.g.length==1){var p=K.s[K.g[0]];n.f=r.KX;var t=p.wu(0)||p.wu(1)||p.wu(2)||p.wu(31);
n.data={Y:gU.Ej,qU:t?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.I(n)}var Z=o.bP();if(u&&Z!=-1&&this.Bd(d2.NO[Z])){var L=K.g[0],p=K.s[L],J=d2.Lb(Math.round(100*p.opacity/255),Z);
n.f=r.KX;n.data={Y:gU.qp,qU:Math.round(255*J/100)};this.I(n)}var b=this.oz.v2;if(o.N(d2.q2)){x.data={Y:y.H.pw,b:b==0?1:0};
this.I(x)}if(o.N(d2.rz)||o.N(d2.G$)&&b==2){var F=document.fullscreenElement!=null==(b==2);x.data={Y:y.H.pw,b:b==0?2:0,TE:F};
this.I(x)}if(o.N(d2.Wg)&&!this.gw.dm){n.f=r.TN;n.data={Y:"qmask"};this.I(n)}}if(!o.N(d2.vm)&&!$&&O){var n=new ev(y.E.v),x=new ev(y.E.M);
if(o.N(d2._k))x.data={Y:y.H.Vl,n9:"shortcuts"};if(o.N(d2.w8))x.data={Y:y.H.Vl,n9:"fill"};if(o.N(d2.and))x.data={Y:y.H.Vl,n9:"sel_feather"};
if(u&&(o.N(d2.v0)||o.N(d2.pS))){var L=K.g[0],p=K.s[L],B=ef.oj,k=B.length,i=B.indexOf(p.Mh);n.f=r.KX;
n.data={Y:gU.f3,qU:(i+k+(o.N(d2.v0)?1:-1))%k};this.I(n)}if(x.data)this.I(x)}var n=new ev(y.E.v),H=c=="down"&&(this.Bd(d2.UL)||this.Bd(d2.Kf));
if((X||$)&&H){n=new ev(y.E.XV);n.data=r.VN.P5(X?"BckC":"FrgC");this.I(n)}else if(this.f2.ZG()==null&&K&&H&&!this.gw.dm){if(K.u!=null){n=new ev(y.E.XV);
n.data={ST:"delete"}}else if(K.g.length!=0){var p=K.s[K.g[0]];if(p.Xx==1)n.data={Y:gU.rP};else if(p.Xx==3)n.data={Y:gU.Eu};
else n.data={Y:gU.Zv};n.f=r.KX}this.I(n)}if(this.f2.ZG()!=null){if(o.N(d2.G$)){this.f2.ZG().awU()}else{this.f2.ZG().y9(K,this,this.oz,o)}}if(this.oz.lm==null)return;
var D=this.BT();if(this.f2.ZG()==null||this.k.e5)D.y9(K,this,this.oz,o)};kH.prototype.Bd=function(c){var o=this.IV,K=this.k.map[this.oz.lm].f,top=this.f2.ZG(),u=this.pL();
return o.N(c)&&!K.P6(c,u)&&(top==null||!top.P6(c,u))};kH.prototype.sP=function(c){var o=this.aA9,K=this.LA;
this.oz.v2=c;var u=S.Kt,X=this.R2.n;if(u(X))this.ey.removeChild(X);var $=this.bB.n;if(u($))this.ey.removeChild($);
var O=this.YA.n;if(u(O))o.removeChild(O);var n=this.lQ.n;if(u(n))o.removeChild(n);var x=this.Nc.n;if(u(x))o.removeChild(x);
if(c==0){this.ey.appendChild(X);this.ey.appendChild($);K.appendChild(o);o.appendChild(O);o.appendChild(n);
o.appendChild(x)}if(c==1){this.ey.appendChild(X);o.appendChild(n)}if(c==2){o.appendChild(n)}this.lQ.sP(c==2?1:0);
this.sa()};kH.prototype.aeW=function(c){if(this.bC())return 1;if(S.aqh()==0){this.oz={};this._Q=function(o,K){return Math.sqrt(o*K)}}return-1};
kH.a3a=function(){var c=gN==0?[[{f:new r.W7,_4:fb},{f:new r.Ub,_4:aa}],[{f:new r.vK,_4:hn,uk:0},{f:new r.rJ,_4:hD,uk:0}],[{f:new r.VH,_4:c2,uk:0},{f:new r.EZ,_4:ia,uk:0},{f:new r.Ck,_4:fV,uk:0}],[{f:new r.y1,_4:ge,uk:0},{f:new r.Aa,_4:f9,uk:0},{f:new r.PG,_4:iE,uk:0}],[{f:new r.a9k,_4:fv},{f:new r.ahc,_4:iP},{f:new r.Jy,_4:hf,uk:0},{f:new r.T8,_4:a3,uk:0}],[{f:new r.am,_4:dq},{f:new r.oN,_4:hJ,uk:0},{f:new r.Iw,_4:c0}],[{f:new r.Db,_4:cT,uk:0},{f:new r.gR,_4:j$,uk:0},{f:new r.VH(!0),_4:hO,uk:0},{f:new r.zT,_4:fo,uk:0},{f:new r.a8X,_4:e$,uk:0},{f:new r.jx,_4:h6,uk:0}],[{f:new r.NS,_4:kk,uk:0},{f:new r.Vo,_4:en,uk:0},{f:new r._L,_4:dX,uk:0}],[{f:new r.ec,_4:eR,uk:0}],[{f:new r.O8,_4:bq,uk:0},{f:new r.r5,_4:jo,uk:0},{f:new r.jK(!0),_4:d1,uk:0}],[{f:new r.YU,_4:i9,uk:0},{f:new r.jK,_4:d1,uk:0}],[{f:new r.ER,_4:cB,uk:0},{f:new r.j8,_4:ec,uk:0},{f:new r.Ft,_4:gD,uk:0}],[{f:new r.GC,_4:ca,uk:0},{f:new r.KU,_4:i_,uk:0},{f:new r.Ya,_4:g_,uk:0}],[{f:new r.gU,_4:em},{f:new r.pr,_4:em}],[{f:new r.E5(0),_4:dl},{f:new r.wK,_4:aM},{f:new r.E5(1),_4:dl},{f:new r.E5(2),_4:dl},{f:new r.E5(3),_4:dl},{f:new r.E5(4),_4:dl}],[{f:new r.G3,_4:g0},{f:new r.rm,_4:a9}],[{f:new r.Rect,_4:dN},{f:new r.AT,_4:a7},{f:new r.YV,_4:k6},{f:new r.H6,_4:ht},{f:new r.ko,_4:gb}],[{f:new r.bT,_4:cc},{f:new r.de,_4:ho}],[{f:new r.PN,_4:di}]]:[[{f:new r.W7,_4:fb}],[{f:new r.rm,_4:a9}],[{f:new r.E5(0),_4:dl}],[{f:new r.wK,_4:aM}],[{f:new r.gU,_4:em},{f:new r.pr,_4:em}],[{f:new r.YV,_4:k6}],[{f:new r.Rect,_4:dN},{f:new r.AT,_4:a7},{f:new r.H6,_4:ht},{f:new r.ko,_4:gb}],[{f:new r.a4I,_4:cc}],[{f:new r.bT,_4:cc},{f:new r.de,_4:ho}],[{f:new r.PN,_4:di}]],O="",n="";
if(gN==0&&!S.aM())c[6].splice(2,1);var o=gN==0?[d2._x,d2.ya,d2.Eb,d2.x9,d2.y6,d2.Bu,d2.Wo,d2.S7,d2.Ud,d2.E,d2.U6,null,d2.jV,d2.J9,d2.Fu,d2.H,d2.ge,d2.T_,d2.G0]:[d2._x,d2.H,d2.Fu,null,d2.J9,null,d2.ya,d2.T_,d2.G0],K={aue:[{f:r.Hu,rq:!1,rh:[d2.ait,d2.gO]},{f:r.OC,rq:!1,rh:[d2.gO]},{f:r.t4,rq:!0,rh:[d2.vm],FU:[r.Nn]},{f:r.Nn,rq:!0,rh:[d2.vm],FU:[r.t4]},{f:r.FP,rq:!0,rh:[d2.vm],FU:[r.iZ,r.Tc,r.MC]},{f:r.iZ,rq:!0,rh:[d2.vm],FU:[r.FP,r.CJ,r.tD,r.ij,r.B4,r.ry]},{f:r.DA,rq:!0,rh:[d2.vm]}],Hv:c,qi:[],keys:o,N8:[{f:new r.apw,_4:gB},{f:new r.ajC,_4:bJ},{f:new r.aDk,_4:aO},{f:new r.am(!0),_4:dq},{f:new r.xF,_4:jk}],Ic:[{f:new r.Es},{f:new r.History},{f:new r.J3},{f:new r.Lr},{f:new r.vk},{f:new r.WI}],map:{},Wj:null,e5:null,B$:null},u=K.Hv;
for(var Y=0;Y<u.length;Y++){var X=u[Y];if(ji=="---")continue;for(var $=0;$<X.length;$++)if(X[$].uk!=null&&X[$].uk!=gN){X.splice($,1);
$--}if(X.length==0){u.splice(Y,1);K.keys.splice(Y,1);Y--}}for(var Y=0;Y<K.Hv.length;Y++){var x=K.Hv[Y];
if(x=="---")continue;var l=K.keys[Y];for(var $=0;$<x.length;$++){K.map[x[$].f.id]=x[$];x[$].n7=Y;x[$].a4G=$;
var N=iV.get(x[$].f.name);n+="<li>"+x[$].f.id+": "+N+"</li>";O+="\t"+JSON.stringify(x[$].f.name)+", "+(l?"\""+l.xq+"\"":"null")+", "+x[$].f.id+", // "+N+"\n"}K.qi[Y]=0}for(var Y=0;
Y<K.N8.length;Y++)K.map[K.N8[Y].f.id]=K.N8[Y];for(var Y=0;Y<K.Ic.length;Y++)K.map[K.Ic[Y].f.id]=K.Ic[Y];
return K};function gt(c){ax.call(this);if(c==null)return;this.Oc=null;this.s_=null;this.n=S.t("div","sbar"+" "+c);
this.Zb=new S.t("div","top");this.Zb.innerHTML="> <";this.n.appendChild(this.Zb);this.WN=1;this.Zb.addEventListener("click",this.aqb.bind(this),!1)}gt.prototype=new ax;
gt.prototype.aqb=function(c){if(this.Oc!=null&&this.Oc<500&&this.WN==0)return;if(this.WN==0)this.wZ(!0);
else this.collapse(!0)};gt.prototype.ax0=function(c){this.WN=c;this.Zb.innerHTML=this.WN==0?"< >":"> <"};
gt.prototype.abE=function(){var c=new ev(y.E.M,!0);c.data={Y:y.H.qh};this.I(c)};gt.prototype.wZ=function(c){this.ax0(1);
if(c)this.abE()};gt.prototype.collapse=function(c){this.ax0(0);if(c)this.abE()};gt.prototype.HF=function(){return this.WN==1};
function gJ(c,o){gt.call(this,"vcolumn");this._s=c;this.a5o=o;this.H2();this.Aw=S.t("div");this.Aw.setAttribute("style","cursor:default;");
this.aB6=this.af9.bind(this);this.a5U=this.aCW.bind(this);this.aoJ=this.acf.bind(this);S.pI(this.n,this.aB6);
this.n.appendChild(this.Aw);this.pq=S.t("div");this.Aw.appendChild(this.pq);this.Jm=-1;this.aj_=S.t("div","float");
var K=this.JK=S.t("canvas","gsicon"),u=Math.round(12*S.Sm());K.width=K.height=u;var X=K.getContext("2d");
X.moveTo(2,2);X.lineTo(u-2,u-2);X.moveTo(2,7);X.lineTo(u-7,u-2);X.stroke();this.JK.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
S.Qf(this.JK);S.pI(this.JK,this.aB6);S.KV(K);this.Ge=[];this.Qv=[];this.apE=null;this.iT=null;this.a2q=0}gJ.prototype=new gt;
gJ.prototype.af9=function(c){var o=c.target==this.JK;if(!o){if(c.target!=this.n)return;if(!this.HF())return}else{var K=this.Ge[this.Jm].Ph;
K.style.pointerEvents="none";var u=K.getBoundingClientRect();this.apE=[u.width,u.height];this.Qv[this.Jm]=[u.width,u.height]}c.stopPropagation();
this.iT=S.$_(c,document.body);this.a2q=this._s;S.SQ(document,this.a5U);S.K1(document,this.aoJ)};gJ.prototype.aCW=function(c){var o=S.$_(c,document.body);
if(this.HF()){this._s=this.a2q+this.iT.x-o.x;this.H2()}else{var K=this.Qv[this.Jm],u=this.apE;K[0]=u[0]+this.iT.x-o.x;
K[1]=u[1]+o.y-this.iT.y}var X=new ev(y.E.M,!0);X.data={Y:y.H.qh};this.I(X)};gJ.prototype.acf=function(c){if(!this.HF()){var o=this.Ge[this.Jm].Ph;
o.style.pointerEvents="auto"}S.UU(document,this.a5U);S.Fo(document,this.aoJ)};gJ.prototype.anh=function(c){c.B("showFloat",this.a5L,this);
c.B("hideFloat",this.L_,this);this.Ge.push(c);c.parent=this;this.Aw.appendChild(c.n)};gJ.prototype.a7C=function(Y){var c=this.Ge[Y];
c.removeEventListener("showFloat",this.a5L,this);c.removeEventListener("hideFloat",this.L_,this);this.Ge.splice(Y,1);
c.parent=null;this.Aw.removeChild(c.n)};gJ.prototype.aAt=function(){return this.Ge.length};gJ.prototype.c$=function(){for(var Y=0;
Y<this.Ge.length;Y++)this.Ge[Y].c$()};gJ.prototype.a5L=function(c){this.c$();var o=this.aj_;this.pq.appendChild(o);
this.Jm=this.Ge.indexOf(c.currentTarget);var K=this.Ge[this.Jm].Ph;S._a(o);o.appendChild(K);o.appendChild(this.JK);
this._Q(this.Oc,this.s_)};gJ.prototype.L_=function(c){this.c$();if(this.Jm!=-1){this.pq.removeChild(this.aj_);
this.Jm=-1}};gJ.prototype.H2=function(){function c(o){return Math.round(o*S.Sm())/S.Sm()}this.n.setAttribute("style","width: "+this._s+"px; border-left-width:"+c(4)+"px; cursor:ew-resize;")};
gJ.prototype.wZ=function(c){this.H2();this.L_();for(var Y=0;Y<this.Ge.length;Y++)this.Ge[Y].wZ();gt.prototype.wZ.call(this,c)};
gJ.prototype.collapse=function(c){this.n.removeAttribute("style");for(var Y=0;Y<this.Ge.length;Y++)this.Ge[Y].collapse();
gt.prototype.collapse.call(this,c)};gJ.ayV=11;gJ.prototype._Q=function(c,o){this.Oc=c;this.s_=o;o-=gJ.ayV;
var K=this.Ge.length;if(K==0)return;if(!this.HF()){var u=o<400?o:400+(o-400)*.5;for(var Y=0;Y<K;Y++){var X=this.Ge[Y],$=this.Qv[Y];
X._Q($?$[0]:this._s,$?$[1]:u)}}else{var O=o;for(var Y=0;Y<K;Y++){var X=this.Ge[Y],n=X.az3();if(Y==K-1){n=O;
X.n.style.borderBottom="none"}X._Q(this._s,n);O-=n+4}}};function fx(c){ax.call(this);this.n=S.t("div");
this.Aw=null;this.Uq=0;this.uo=0;this.afr=c;this.aip=this.tT.bind(this);this.acK=this.Al.bind(this);
this.agF=this.cF.bind(this);this.WY=null;this.p3=null;this.mQ=null;S.pI(this.n,this.aip);var o=this.n,u="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
o.addEventListener("touchmove",S.NK,!1);this.a5Q=!0;this.z7=[];var K=this.aBo=S.t("div");K.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(K);var X=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",u+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",u+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",u+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var Y=0;Y<X.length;Y++){var $=new kz(X[Y]);this.z7.push($);$.n.setAttribute("style","margin-left:"+(Y<7?4:0)+"px;cursor:pointer;");
$.B("click",this.hX,this)}}fx.prototype=new ax;fx.prototype._=function(){var c=this.aBo;S._a(c);for(var Y=0;
Y<this.z7.length;Y++){var o=this.z7[Y];if(Y<5)o._();c.appendChild(o.n)}};fx.prototype.hX=function(c){var Y=this.z7.indexOf(c.currentTarget);
if(Y==0){if(window.showCap)window.showCap();return}var o=" issues learn blog api twitter facebook".split(" "),K=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),u=window.ga;
if(u)u("send","event","Links",o[Y]);var X=new ev(y.E.M,!0);X.data={Y:y.H.aX,link:K[Y]};this.I(X)};fx.prototype.tT=function(c){if(c.at2){c.preventDefault();
c.stopPropagation()}var o=window;S.SQ(o,this.acK);S.K1(o,this.agF);o=this.Aw;this.WY=new kn(parseInt(o.style.left),parseInt(o.style.top));
this.p3=S.$_(c,this.n);this.mQ=o.getBoundingClientRect()};fx.prototype.Al=function(c){var o=S.$_(c,this.n),K=this.WY.x+o.x-this.p3.x,u=this.WY.y+o.y-this.p3.y,X=this.Uq-this.mQ.width,$=this.uo-this.mQ.height;
if(this.afr)this.Aw.style.left=Math.min(0,Math.max(X,K))+"px";else this.Aw.style.top=Math.min(0,Math.max($,u))+"px";
if(K-10>0){this.p3.x=o.x-10;this.WY.x=0}if(K+10<X){this.p3.x=o.x+10;this.WY.x=X}};fx.prototype.cF=function(c){var o=window;
S.UU(o,this.acK);S.Fo(o,this.agF)};fx.prototype.a4u=function(c){if(this.Aw){this.n.removeChild(this.Aw)}this.Aw=c;
this.n.appendChild(c);c.style.position="absolute";if(this.afr)c.style.left=0;else c.style.top=0};fx.prototype._Q=function(c,o){this.Uq=c;
this.uo=o;this.n.setAttribute("style","position:relative; width: "+c+"px; height: "+o+"px; overflow:hidden; white-space: nowrap; ");
var K=this.Aw.firstChild,u=this.aBo,X=K?K.firstChild.getBoundingClientRect().width+80:1e9,$=170,O=this.a5Q&&c>X+$;
u[d0.uR][d0.ad8]=O?"":d0.tE;var n=this.z7;for(var Y=0;Y<n.length;Y++){var x=Y>4||c-X>500?"":d0.tE,l=n[Y];
l.n.style.display=x}};fx.prototype.abj=function(){this.Aw.style.left="0";this.Aw.style.top="0"};function at(){ax.call(this);
this.RU=null;this.uA=at.Fu;this.a43="";this.n=S.t("div","rightbar");this.lE=[new gJ(300),new gJ(268,!0)];
this.Ge=[new f6,new f6,new f6,new f6,new f6,new f6,new f6];this.aiZ=[]}at.prototype=new ax;at.prototype._=function(){var c=this.uA;
for(var Y=0;Y<c.length;Y++)c[Y].KH._()};at.Fu=[{KH:new h2,nt:3},{KH:new jP,nt:1},{KH:new hm,nt:4},{KH:new ei,nt:2},{KH:new kB(!0),nt:5},{KH:new g4(!0),nt:5},{KH:new cK,nt:0},{KH:new bZ,nt:5},{KH:new hA,nt:3},{KH:new j8,nt:0},{KH:new aH,nt:3},{KH:new he,nt:2},{KH:new j6,nt:4},{KH:new dz,nt:3},{KH:new hd,nt:5},{KH:new kB(!1),nt:5},{KH:new e8,nt:2},{KH:new ey,nt:3},{KH:new b7,nt:1},{KH:new ga,nt:0},{KH:new kC,nt:5},{KH:new gO,nt:6,Zf:!0}];
if(S.aM())at.Fu.push({KH:new dw,nt:6,Zf:!0});at.Fu.push({KH:new de,nt:6,Zf:!0},{KH:new ad,nt:6,Zf:!0});
(function(){var c=[{id:cs.Bl.ajH,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var Y=0;Y<c.length;Y++)at.Fu.push({KH:new ao(c[Y],100+Y),nt:6,Zf:!0})}());at.prototype.aqZ=function(c){for(var Y=0;
Y<c.length;Y++){var o=c[Y],K=new ao(o,"plg_"+o.name);this.uA.push({KH:K,nt:6});this.aiZ.push(K.ef)}this.gd()};
at.prototype.VW=function(c,o){this.RU=c;var K=this.uA;for(var Y=0;Y<K.length;Y++)K[Y].KH.VW(c,o);if(o==iD.Vb||o==iD.Vk)this.gd()};
at.prototype.Zd=function(c){var o=this.uA;for(var Y=0;Y<o.length;Y++)o[Y].KH.Zd(c)};at.prototype._Q=function(c,o){this.Oc=c;
this.s_=o;this.gd();this.lE[0]._Q(c,o);this.lE[1]._Q(c,o)};at.prototype.gd=function(){var c=this.RU,o=this.Oc,K=this.s_;
if(c==null||o==0)return;var u=c.C$.concat(this.aiZ),X=o<500||o<700&&o<K,$=JSON.stringify(u)+","+X;if($!=this.a43){this.a43=$;
S._a(this.n);var O=[];for(var Y=0;Y<this.lE.length;Y++){var n=this.lE[Y];O[Y]=n.HF();while(n.aAt()!=0)n.a7C(0);
n.wZ()}var x=[];for(var Y=0;Y<this.Ge.length;Y++){var l=this.Ge[Y];l.wZ();while(l.a4E()!=0)l.er(0);x.push(0)}for(var Y=0;
Y<u.length;Y++){var N=this.a2X(u[Y].toString());if(N==null)continue;this.Ge[N.nt].Of(N.KH);this.Ge[N.nt].IX(0);
x[N.nt]++}var f=[];for(var Y=0;Y<x.length;Y++){if(x[Y]==0)continue;var z=Y<3||X?1:0,n=this.lE[z];n.parent=this;
n.anh(this.Ge[Y]);f[z]=!0}for(var Y=0;Y<this.lE.length;Y++)if(f[Y])this.n.appendChild(this.lE[Y].n);
this.lE[0].collapse();if(o<700||this.RU.compact||!O[1]){this.lE[1].collapse()}var R=new ev(y.E.M,!0);
R.data={Y:y.H.qh};this.I(R)}};at.prototype.a2X=function(c){for(var Y=0;Y<this.uA.length;Y++)if(this.uA[Y].KH.ef==c)return this.uA[Y]};
at.prototype.acL=function(c){var o=this.a2X(c);this.Ge[o.nt].Of(o.KH)};at.prototype.kX=function(c,o,K){var u=this.uA;
for(var Y=0;Y<u.length;Y++)u[Y].KH.kX(c,o,K)};at.prototype.x5=function(c,o,K,u,X){var $=this.uA;for(var Y=0;
Y<$.length;Y++)$[Y].KH.x5(c,o,K,u,X)};at.prototype.Xo=function(c,o,K,u,X){var $=this.uA;for(var Y=0;
Y<$.length;Y++)$[Y].KH.Xo(c,o,K,u,X)};at.prototype.v$=function(c,o,K,u,X){var $=this.uA;for(var Y=0;
Y<$.length;Y++)$[Y].KH.v$(c,o,K,u,X)};function bG(c,o){gt.call(this,"toolbar");this.n.removeChild(this.Zb);
this.j5=S.t("div","tools");this.n.appendChild(this.j5);this.VB=null;this.lm=null;this.a22=o;this.d8=null;
this.Cv=null;this.alR=-1;this.a4q={};this.aAy=c;this.k=null;this.Yf=null;this.lI=null;this.e2=null;this.uJ=new fH;
this.uJ.n.style.marginTop="5px";this.uJ.n.style.marginBottom="3px";this.uJ.parent=this;this._U=new kz(S.RD("lrs/mask"),!1,[6,6,1]);
this._U.B("click",function($){var O=new ev(y.E.v,!0);O.f=r.TN;O.data={Y:"qmask"};this.I(O)},this);var K=new aN(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
K.B(y.E.z,this.amQ,this);var u=S.t("span","rangecontFloat form padded");u.appendChild(K.n);u.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var X=this.n;this.a9r=[!1,!1,!1,!1];this.Yl=new kz(S.RD("kb"),!1,"Virtual Keys");this.Yl.B("click",function($){var O=this.Yl.n.getBoundingClientRect();
u.style.top=O.top-110+"px";u.style.left=O.left+O.width+8+"px";if(S.Kt(u)){S.BA({n:u},X)}else{X.appendChild(u);
S.CR({n:u})}},this)}bG.prototype=new gt;bG.prototype.amQ=function(c){var o=c.target.h();this.Yl.c(o[0]||o[1]||o[2]||o[3]);
var K=new ev(y.E.M,!0);for(var Y=0;Y<4;Y++){if(o[Y]!=this.a9r[Y]){K.data={Y:y.H.awB,dm:o[Y],auP:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][Y]};
this.I(K)}}this.a9r=o.slice(0)};bG.prototype.aub=function(c,o){this.d8=o;this.Cv=c;if(c==null||c.g.length==0||c.s[c.g[0]]==null)return;
var K=c._U()!=null,u=c.Q.O,X=c.s[c.g[0]].Xx,$=X==1||X==3||K||u[0]+u[1]+u[2]==1;this.uJ.a2r($);this._U.c(K)};
bG.prototype.axu=function(c,o){var K=c.length,u=[];for(var Y=0;Y<K;Y++)u[Y]=c[Y].slice(0);c=u;var X=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],$=Math.min(X.length/2,K-o);
for(var Y=0;Y<$;Y++){var O=X[2*Y],n=X[2*Y+1];c[O]=c[O].concat(c[n]);c[n]=null}for(var Y=0;Y<c.length;
Y++)if(c[Y]==null){c.splice(Y,1);Y--}return c};bG.prototype.ahb=function(c,o){for(var Y=0;Y<o.length;
Y++)for(var K=0;K<o[Y].length;K++)if(o[Y][K].f.id==c)return Y};bG.prototype.awR=function(c){var o=this.aAy;
this.Yf=[];this.lI=[];this.e2=[];this.k=[];var K=o.Hv;if(c!=null&&this.a22)K=this.axu(K,c);var u=this.VB;
if(u){var X=[];for(var Y=0;Y<K.length;Y++){var $=[];for(var O=0;O<K[Y].length;O++){var n=K[Y][O];if(u==null||u.indexOf(parseInt(n.f.id))!=-1)$.push(n)}if($.length>0)X.push($)}K=X}for(var Y=0;
Y<K.length;Y++){var x=[],l=this.Yf.length,N=null,f=-1;for(var O=0;O<K[Y].length;O++){var n=K[Y][O].f,z=this.ahb(n.id,o.Hv),R=o.keys[z];
if(R==d2.T_&&O==1)R=d2.Bl;this.k.push(n);var V=new hH(n.name,R,n.wo,this.Yf.length,Y,K[Y].length>1);
this.Yf.push(V);var d=this.a4q[n.id];if(d==null)d=0;if(d>f){f=d;N=V}V.B(y.E.z,this.Pf,this);V.B("mover",this.Uz,this);
x.push({name:n.name,nS:n.wo,rh:R?R.xq:""})}this.lI.push(N);this.e2.push(x.length==1?null:[x,l])}};bG.prototype._Q=function(c,o){var K=this.s_=o,u=32;
if(1<S.Sm()&&S.Sm()<1.5)u=18+14*(1/S.Sm());var X=39+23,$=Math.floor((K-X)/u);if($!=this.alR){this.alR=$;
this.awR($);this.iF()}var O=this.lI.length*u+X,n=Math.min(1,K/O);if(.75<=n){this.j5.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+n+","+n+");");
this.n.setAttribute("style","height:"+(o-2)+"px;")}else{K-=4;this.j5.setAttribute("style","height: "+K+"px;  width:"+Math.ceil(O/K)*34+"px");
this.n.setAttribute("style","")}};bG.prototype._=function(){if(this.k==null)return;for(var Y=0;Y<this.Yf.length;
Y++)this.Yf[Y]._()};bG.prototype.Pf=function(c){var o=new ev(y.E.M,!0);o.data={Y:y.H.VO,f:this.k[c.id].id};
this.I(o)};bG.prototype.a4Y=function(c){var o=c.target.abh+c.target.rC()[0];this.Yf[o].cF(null,!0)};
bG.prototype.Uz=function(c){var o=this.d8,K=new ev(y.E.M,!0);K.data={Y:y.H.F0};this.I(K);var u=c.target,X=this.e2[u.n7];
if(X==null)return;var $=new jf(X[0],null,!0);$.abh=X[1];$.n7=u.n7;$.B("select",this.a4Y,this);$.parent=this;
$._();var O=u.n.getBoundingClientRect(),K=new ev(y.E.M,!0);K.data={Y:y.H.B2,KH:$,x:O.left+O.width+8,y:O.top};
if(o==null||!(o.N(d2.gO)||o.N(d2.vm)))this.I(K)};bG.prototype.iF=function(c){if(c==null)c=this.lm;this.lm=c;
if(this.k==null)return;this.a4q[c]=Date.now();var o=-1;for(var Y=0;Y<this.k.length;Y++)if(this.k[Y].id==c)o=Y;
for(var Y=0;Y<this.Yf.length;Y++){var K=this.Yf[Y];K.arj(o==Y)}if(o==-1)return;this.lI[this.Yf[o].n7]=this.Yf[o];
S._a(this.j5);var u=this.lI;for(var Y=0;Y<u.length;Y++){this.j5.appendChild(u[Y].n)}if(!this.a22)return;
this.j5.appendChild(this.uJ.n);if(this.s_>640)this.j5.appendChild(this._U.n);this.j5.appendChild(this.Yl.n)};
bG.prototype.VW=function(c,o){if(o==iD.Vk&&c.VB){this.VB=c.VB;this.awR();this.iF()}this.uJ.agO(c.V5,c.th);
if(gN==1&&o==iD.cv){this.uJ.aAl(c,this.Cv)}};function hH(c,o,K,u,X,$){ax.call(this);this.Hm=0;this.ZB=this.aiE.bind(this);
this.n7=X;this.i7=u;this.DM=c;this.yD=o;this.alr=$;this.wo=K;this.n=S.t("button","");this.n.innerHTML=S.RD(this.wo);
if(this.alr){var O=S.t("img","gsicon");O.setAttribute("src",PIMG["tools/corner"]);O.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(O)}this.n.addEventListener("touchstart",S.NK,!1);this._();S.pI(this.n,this.tT.bind(this));
S.K1(this.n,this.cF.bind(this));this.n.addEventListener("contextmenu",this.ZB,!1);this.n.addEventListener("contextmenu",hH.GB,!1)}hH.prototype=new ax;
hH.GB=function(c){c.stopPropagation();c.preventDefault();return!1};hH.prototype._=function(){var c=this.yD?" ("+this.yD.xq+")":"";
this.n.setAttribute("title",iV.get(this.DM)+c)};hH.prototype.tT=function(c){hH.D0=this.i7;this.Hm=setTimeout(this.ZB,160)};
hH.prototype.cF=function(c,o){if(o==null&&hH.D0!=this.i7)return;clearTimeout(this.Hm);var K=new ev(y.E.z,!1);
K.target=this;K.id=this.i7;this.I(K)};hH.prototype.aiE=function(c){var o=new ev("mover",!1);o.target=this;
o.id=this.i7;this.I(o)};hH.prototype.arj=function(c){this.n.className=c?"toolbtn active":"toolbtn"};
function aI(){ax.call(this);this.n=S.t("div","topbar");this.D2=S.t("span","");this.ame=0;this.n.appendChild(this.D2);
this.R4=null;this.Hp=null;this.Xr=[];this.C$=[];var c=this.tT.bind(this);for(var Y=0;Y<aI.data.length;
Y++){var o=S.t("button");this.Xr.push(o);var K=aI.data[Y];o.addEventListener("mouseover",c,!1);S.pI(o,c)}this.wn=new kz([0,13,0],!1,null,!0);
this.wn.B("click",this.Rb,this);this.n.appendChild(this.wn.n);this.oy=new kz(S.RD("tools/zoom",null,"autoscale"),!1,[12,86]);
this.oy.B("click",this.Rb,this);this.n.appendChild(this.oy.n);this.n1=new kz("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.n1.B("click",this.Rb,this);this.n.appendChild(this.n1.n)}aI.prototype=new ax;aI.prototype.ago=function(){if(this.C$.length!=0)return;
for(var Y=0;Y<aI.data.length;Y++){var c=aI.data[Y],o=new jf(c.items,c.u5);o.parent=this;this.C$.push(o)}this._()};
aI.prototype._=function(){this.wn._();this.oy._();this.n1._();for(var Y=0;Y<this.Xr.length;Y++)this.Xr[Y].textContent=iV.get(aI.data[Y].name);
this.aDv();for(var Y=0;Y<this.C$.length;Y++)this.C$[Y]._()};aI.prototype.Rb=function(c){var o=new ev(y.E.M,!0);
if(c.target==this.wn)o.data={Y:y.H.Vl,n9:"account"};else if(c.target==this.oy)o.data={Y:y.H.Yx};else o.data={Y:y.H.pw,TE:!0};
this.I(o)};aI.prototype.aBD=function(c,o){this.R4=c;this.Hp=o};aI.prototype.VW=function(c,o){this.Hp=c;
if(o==iD.Vk){var K=c.adN;S._a(this.D2);for(var Y=0;Y<this.Xr.length;Y++){var u=aI.data[Y];if(K==null||K[Y]==1||K[Y]instanceof Array)if(u.uk==null||u.uk==gN)this.D2.appendChild(this.Xr[Y]);
if(K!=null&&K[Y]instanceof Array){this.ago();this.C$[Y].asO(K[Y])}}this.n.removeChild(this.wn.n);this.n.removeChild(this.oy.n);
this.n.removeChild(this.n1.n);if(c.wO)this.n.appendChild(this.wn.n);this.n.appendChild(this.oy.n);this.n.appendChild(this.n1.n)}this.aDv()};
aI.prototype.aDv=function(c,o){var K=this.wn,u=12255232;if(ar.Co())u=ar.Is()?43520:16755200;K.n.setAttribute("style","color:#ffffff; background-color:#"+a.On(u))};
aI.prototype.tT=function(c){this.ago();var Y=this.Xr.indexOf(c.currentTarget),o=this.C$[Y];if(c.type=="mouseover"&&!S.Kt(this.C$[this.ame].n))return;
if(S.Kt(o.n))return;c.at2=!0;this.ame=Y;for(var Y=0;Y<aI.data.length;Y++)this.C$[Y].update(this.R4,this.Hp);
var K=c.target.getBoundingClientRect(),u=new ev(y.E.M,!0);u.data={Y:y.H.B2,KH:o,x:K.left,y:K.top+K.height+2,ahh:!0};
this.I(u)};aI.anU=function(c){var o=d2,K=o.vm,u=o.Qx,X=o.u6,$=function(l){return{w:l!=null}},O=function(l){return{w:l!=null&&l.u!=null}},n={name:[0,5],uk:0,items:[{name:[7,0],w:$,rh:[K,o.H]},{name:[7,1],rh:[K,o.Vf],w:O},{name:[7,2],rh:[u,K,o.Bu],w:O,ql:!0},{name:"Remove BG",w:function(l){return{w:S.aM()&&l!=null&&l.g.length!=0&&!l.s[l.g[0]].rect.SR()}}},{name:[7,8],w:$,PS:!0},{name:[7,13],PS:!0,w:function(l){return{w:l!=null&&l.g.length!=0&&!l.s[l.g[0]].rect.SR()}},ql:!0},{name:[7,11],PS:!0,w:function(l){return{w:l!=null&&l.g.length!=0&&!l.s[l.g[0]].rect.SR()}}},{name:[7,3],w:$,ql:!0,sub:[{name:[7,9],PS:!0,w:O},{name:[19,3,0],PS:!0,w:O},{name:[7,4],PS:!0,w:O},{name:[7,5],PS:!0,w:O},{name:[7,6],PS:!0,w:O,rh:"Shift+F6"}]},{name:"Grow",w:O},{name:"Similar",w:O,ql:!0},{name:[7,10],w:O,ql:!0},{name:[6,6,1],w:function(l){return{w:l!=null,zS:l!=null&&l._U()!=null}},rh:[o.Wg],ql:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],w:O}],u5:[{K:y.E.XV,C:r.mW.Io(!0)},{K:y.E.XV,C:r.mW.Io()},{K:y.E.XV,C:{ST:"inverse"}},{K:y.E.v,f:r.TN,C:{Y:"bgrm",b:1}},{K:y.E.M,C:{Y:y.H.Vl,n9:"crange"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"magiccut"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"redge"}},{sub:[{K:y.E.M,C:{Y:y.H.Vl,n9:"sel_border"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"sel_smoothness"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"sel_expand"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"sel_contract"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"sel_feather"}}]},{K:y.E.XV,C:{ST:"grow",sK:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:y.E.XV,C:{ST:"similar",sK:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:y.E.M,C:{Y:y.H.VO,f:r.qx}},{K:y.E.v,f:r.TN,C:{Y:"qmask"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"loadsel"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"savesel"}}]};
if(c){var x=n.items.length-1;n.items.splice(x-2,0,{name:[6,49],rh:[K,o.Wo],ql:!0});n.u5.splice(x-2,0,{K:y.E.XV,C:{ST:"copyToLayer"}});
n.items.splice(x-1,0,{name:[10,16],rh:[X,K,o.J9]});n.u5.splice(x-1,0,{K:y.E.M,C:{Y:y.H.VO,f:r.Le}})}return n};
aI.Xt=function(c,o){if(c==null||c.g.length==0)return!1;var K=c.s[c.g[0]];return K.add.TySh!=null&&o.lm==r.kO};
aI.ax8=function(){var c=d2,o=c.vm,K=c.Qx,u=c.u6,X=function($){return{w:$!=null}};return[[{name:[5,0],rh:[o,c.Ji],w:function($,O){return{w:$!=null&&($.Bj()||aI.Xt($,O))}}},{name:[5,1],rh:[o,c.y6],w:X},{name:[5,2],rh:[o,c._x],w:function($,O){return{w:aI.Xt()||S.Qz()||O.rQ!=null||O.cm!=null||O.a6J!=null}}},{name:[2,2],w:function($,O){return{w:$!=null&&($.u!=null||aI.Xt($,O))}},rh:"Delete",ql:!0}],[{K:y.E.M,C:{Y:y.H.db}},{K:y.E.M,C:{Y:y.H.oO}},{K:y.E.M,C:{Y:y.H.Q$}},{K:y.E.XV,C:{ST:"delete"}}]]};
aI.data=function(){var c=d2,o=c.vm,K=c.Qx,u=c.u6,X=function(R){return{w:R!=null&&R.g.length!=0}},$=function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].add.SoLd!=null}},O=function(R){return{w:R!=null}},n=function(R){return{w:R!=null&&R.n_(!1)}},x=[],l=[],N="none maxx avrg medn minn rang stdv summ vari".split(" "),f=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var Y=0;Y<N.length;Y++){x.push({name:f[Y],w:function(R,V){if(R==null||R.g.length!=1)return{w:!1};
var d=R.s[R.g[0]].add.SoLd;if(d==null)return{w:!1};return{w:!0,zS:d.Impr.v.classID==this.a25}}.bind({a25:N[Y]})});
l.push({K:y.E.v,f:r.KX,C:{Y:gU.M8,qU:N[Y]}})}var z=aI.ax8(!0);return[{name:[0,0],items:[{name:[5,3],rh:[u,o,c.s$],title:[11,7],PS:!0},{name:[1,0],rh:[o,c.jV],PS:!0},{name:[1,11],PS:!0,w:O},{name:["VAR0 VAR1",[1,0],[0,14]],ql:!0,sub:[{name:"Storage",PS:!0,rh:[u,o,c.jV]},{name:[1,5],PS:!0},{name:[11,0],PS:!0},{name:["PSD VAR0",[25,0]],PS:!0}]},{name:[1,18],ql:!0,w:O,sub:[{name:"PNG",rh:"Imgur.com",w:function(R,V){return{w:R!=null&&V.iN}}},{name:"JPG",rh:"Imgur.com",w:function(R,V){return{w:R!=null&&V.iN}}},{name:"PSD",rh:"Photopea.com",w:function(R,V){return{w:R!=null&&V.iN&&!R.pQ}}}]},{name:"Save ...",rh:[o,c.Ud],w:function(R,V){var d=iV.get([1,2]),e=!0;
if(R){if(R.rt)d+=" ("+iV.get([6,7,1])+")";if(R.Jl)d+=" (Google Drive)";if(R.$s)d+=" ("+Storage.list[R.$s[0]][0]+")";
e="psd jpg png gif webp svg bmp".split(" ").indexOf(R.Hb)!=-1}return{w:R!=null&&(R.$s!=null||R.X8!=null&&e||R.rt!=null||R.Zk!=null&&R.Zk.yq!=null||R.Jl!=null||V.kx.save!=null),RS:d}}},{name:gN==0?[1,3]:"Save as AI",w:function(R,V){return{w:R!=null&&V.iN}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:O,sub:[{name:(gN==0?"PSD":"AI")+" to Storage",w:function(R,V){return{w:R!=null&&V.iN}}},{name:["VAR0 PSD/PSB",[1,2]],PS:!0,w:function(R,V){return{w:R!=null&&V.iN}}}]},{name:[1,8],w:O,sub:function(){var R=c5.kA(0),V=[];
for(var Y=0;Y<R.length;Y++)V.push({name:R[Y],rh:"."+R[Y].toLowerCase()});V.push({name:[0,14],sub:function(){var R=c5.kA(1),V=[];
for(var Y=0;Y<R.length;Y++)V.push({name:R[Y],rh:"."+R[Y].toLowerCase()});return V}()});return V}()},{name:[1,4],PS:!0,w:O,ql:!0},{name:[1,9],PS:!0,w:O},{name:"Export Color Lookup",PS:!0,w:O,ql:!0},{name:[1,14],PS:!0,w:O,ql:!0},{name:[1,17],sub:[{name:"Batch",PS:!0},{name:"PDF Presentation",PS:!0},{name:"Convert Formats",PS:!0},{name:"Generate Mockups",PS:!0,w:O}]},{name:[1,10],PS:!0}],u5:[{K:y.E.M,C:{Y:y.H.Vl,n9:"newproject"}},{K:y.E.M,C:{Y:y.H.Rk}},{K:y.E.M,C:{Y:y.H.Rk,at_:!0}},{sub:[{K:y.E.M,C:{Y:y.H.Vl,n9:"storwindow",B5:0}},{K:y.E.M,C:{Y:y.H.Vl,n9:"open_from_url"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"camera"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"res0"}}]},{sub:[{K:y.E.M,C:{Y:y.H.JW,GA:"png"}},{K:y.E.M,C:{Y:y.H.JW,GA:"jpg"}},{K:y.E.M,C:{Y:y.H.JW,GA:"psd"}}]},{K:y.E.M,C:{Y:y.H.Ol}},{K:y.E.M,C:{Y:y.H.to}},{sub:[{K:y.E.M,C:{Y:y.H.Vl,n9:"storwindow",B5:1}},{K:y.E.M,C:{Y:y.H.Vl,n9:"savepsb"}}]},{sub:function(){var R=c5.kA(0),V=[];
for(var Y=0;Y<R.length;Y++)V.push({K:y.E.M,C:{Y:y.H.Vl,n9:"saveforweb",GA:Y}});V.push({sub:function(){var d=c5.kA(0).length,R=c5.kA(1),V=[];
for(var Y=0;Y<R.length;Y++)V.push({K:y.E.M,C:{Y:y.H.Vl,n9:"saveforweb",GA:d+Y}});return V}()});return V}()},{K:y.E.M,C:{Y:y.H.Vl,n9:"saveforweb",GA:5,a9u:!0}},{K:y.E.M,C:{Y:y.H.Vl,n9:"eassets"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"exlut"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"finfo"}},{sub:[{K:y.E.M,C:{Y:y.H.Vl,n9:"batch"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"pdfpres"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"cformat"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"mockups"}}]},{K:y.E.M,C:{Y:y.H.Vl,n9:"script"}}]},{name:[0,1],items:[{name:[2,8],w:O},{name:[2,0],w:O,rh:[K,o,c.G0]},{name:[2,1],w:O,rh:[o,c.G0],ql:!0},{name:[2,11],rh:[K,o,c.rz],ql:!0,PS:!0,w:function(R,V){return{w:bC.a1m(R)&&V.lm!=r.Le}}},z[0][0],z[0][1],{name:[5,7],rh:[K,o,c.y6],w:function(R){return{w:R!=null&&R.Bj()}}},z[0][2],z[0][3],{name:[2,3],w:n,PS:!0,rh:[K,c.w8]},{name:[14,9],w:n,PS:!0,ql:!0},{name:[10,48],w:n},{name:[10,46],w:function(R){return{w:r.xF.XZ(R)}}},{name:[10,16],w:O,rh:[u,o,c.J9]},{name:[2,4],w:O,sub:g8.aDY()},{name:[2,10,1],w:O},{name:[2,10,0],w:O,ql:!0},{name:[12,87],w:O,sub:[{name:[12,62],w:O},{name:[9,3],w:O},{name:[10,31],w:function(R){return{w:R!=null&&R.Dr()[1].length!=0}}}]},{name:[1,15],PS:!0},{name:[12,79],PS:!0,rh:[o,c.gj]},{name:[1,13],PS:!0}],u5:[{K:y.E.v,f:r.DX,C:{Y:"h_undoredo"}},{K:y.E.v,f:r.DX,C:{Y:"h_stepfwd"}},{K:y.E.v,f:r.DX,C:{Y:"h_stepbck"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"afw_fade"}},z[1][0],z[1][1],{K:y.E.M,C:{Y:y.H.oO,Kv:!0}},z[1][2],z[1][3],{K:y.E.M,C:{Y:y.H.Vl,n9:"fill"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"stroke"}},{K:y.E.M,C:{Y:y.H.VO,f:r.A$}},{K:y.E.v,f:r.qS,C:{Y:"start",MN:"rigidTransform"}},{K:y.E.M,C:{Y:y.H.VO,f:r.Le}},{sub:g8.auM()},{K:y.E.XV,C:{ST:"align",sK:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:y.E.v,f:r.KX,C:{Y:gU.Bk}},{sub:[{K:y.E.M,C:{Y:y.H.gp,EU:0}},{K:y.E.M,C:{Y:y.H.gp,EU:1}},{K:y.E.M,C:{Y:y.H.gp,EU:2}}]},{K:y.E.M,C:{Y:y.H.Vl,n9:"pmanager"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"preferences"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:O,ql:!0,sub:[{name:"RGB",w:function(R){if(R==null)return{w:!1};
return{zS:R.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(R){if(R==null)return{w:!1};return{zS:R.add.fcmy!=null,w:!0}}}]},{name:[3],w:O,ql:!0,sub:function(){var R=[];
for(var V in j7.names){R.push({name:j7.names[V],PS:kc[V]!=null,rh:j7.keys[V],ql:j7.ars.indexOf(V)!=-1});
if(V=="selc"){R.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],PS:!0,ql:!0});R.push({name:[19,7,0],rh:[o,K,c.ge],w:n});
R.push({name:[4,18],PS:!0,w:n})}}return R}()},{name:[4,16,0],w:n},{name:[4,16,1],w:n},{name:[4,16,2],w:n,ql:!0},{name:[11,11,1],w:n,PS:!0},{name:[11,11,0],w:n,PS:!0,ql:!0},{name:[11,3],w:O,PS:!0,rh:[u,o,c.y6]},{name:[11,10],w:O,PS:!0,rh:[u,o,c.Bu]},{name:[2,4],w:O,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(R){return{w:R!=null&&R.u!=null}}},{name:[11,12,0],w:O,rh:[o,c.uT],PS:!0},{name:[11,12,2],w:O,ql:!0},{name:[12,53],w:O},{name:[2,12],w:n,PS:!0,ql:!0},{name:[2,14],w:O,PS:!0}],u5:[{sub:[{K:y.E.v,f:r.DA,C:{Y:"fcmy",b:0}},{K:y.E.v,f:r.DA,C:{Y:"fcmy",b:1}}]},{sub:function(){var R=[];
for(var V in j7.names){R.push({K:y.E.v,f:r._r,C:{Y:"start",JF:V}});if(V=="selc"){R.push({K:y.E.v,f:r.qS,C:{Y:"start",MN:"adaptCorrect"}});
R.push({K:y.E.XV,C:{ST:"desaturate"}});R.push({K:y.E.v,f:r._r,C:{Y:"start",JF:"matc"}})}}return R}()},{K:y.E.XV,C:{ST:"levels",sK:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:y.E.XV,C:{ST:"levels",sK:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:y.E.XV,C:{ST:"levels",sK:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:y.E.M,C:{Y:y.H.Vl,n9:"rcolors"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"vbitmap"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"csize"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"isize"}},{sub:[{K:y.E.XV,C:r.W.OD(!0,90)},{K:y.E.XV,C:r.W.OD(!0,-90)},{K:y.E.XV,C:r.W.OD(!0,-180)},{K:y.E.XV,C:r.W.OD(!1,"Hrzn")},{K:y.E.XV,C:r.W.OD(!1,"Vrtc")}]},{K:y.E.XV,C:{ST:"crop",sK:{__name:"Crop",classID:"Crop"}}},{K:y.E.M,C:{Y:y.H.Vl,n9:"trim"}},{K:y.E.XV,C:{ST:"revealAll",sK:{classID:"RvlA"}}},{K:y.E.XV,C:{ST:"duplicate",sK:{classID:"Dplc",null:a5.Vs("Dcmn",!0)}}},{K:y.E.v,f:r._r,C:{Y:"start",JF:"aply"}},{K:y.E.M,C:{Y:y.H.Vl,n9:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:O,sub:[{name:[0,3],rh:[K,o,c.s$]},{name:[0,4]},{name:[1,16,0],PS:!0},{name:[1,16,3],PS:!0,ql:!0},{name:[6,49,0],rh:[o,c.Wo]},{name:[6,49,1],rh:[K,o,c.Wo],w:function(R){return{w:R!=null&&R.u!=null&&R.n_(!1)}}}]},{name:[6,0],w:X,rh:[o,c.Wo]},{name:[11,4],w:X},{name:[5,4],w:X,ql:!0},{name:[11,6],w:X,ql:!0,sub:es.ae(!0)},{name:[6,48,1],w:O,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:O,ql:!0,sub:es.aB3()},{name:[6,2],w:O,sub:[{name:[6,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()==null}}},{name:[6,5,0],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()==null}}},{name:[6,5,1],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()==null&&R.u!=null}}},{name:[6,5,2],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()==null&&R.u!=null}}},{name:[6,5,3],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()==null}},ql:!0},{name:[5,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()!=null}}},{name:[5,8],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()!=null&&R.n_(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].wD()!=null}}}]},{name:[6,3],w:O,sub:[{name:[6,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].add.vmsk==null}}},{name:[6,5,0],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].add.vmsk==null}}},{name:[12,76,7],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].add.vmsk==null}},ql:!0},{name:[5,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(R){return{w:R!=null&&R.g.length!=0&&R.s[R.g[0]].add.vmsk!=null}}}]},he.a92(!0),{name:[6,7,1],w:O,ql:!0,sub:[{name:[6,7,0],ql:!0},{name:"Open (Edit Contents)",w:$,PS:!0},{name:"Replace Contents",w:$,PS:!0},{name:"Export Contents",w:$,PS:!0,ql:!0},{name:[6,36,4],w:$,sub:x},{name:"Turn into JPG",w:$}]},{name:[6,8],w:he.aoc},{name:[6,34],ql:!0,w:function(R){if(R==null||R.g.length==0)return{w:!1};
var V=R.s[R.g[0]];return{w:V.add.lmfx!=null&&!V.rD()}}},{name:[6,9],w:O,ql:!0,rh:[o,c.U6]},{name:[6,55],w:O,sub:[{name:[6,56,0],rh:[K,o,c.aa]},{name:[6,56,1],rh:[o,c.aa]},{name:[6,56,2],rh:[o,c.Ef]},{name:[6,56,3],rh:[K,o,c.Ef]}]},{name:"Combine Shapes",w:O,ql:!0,sub:[{name:[18,1],nS:"set/union"},{name:[18,2],nS:"set/difference"},{name:[18,3],nS:"set/intersection"},{name:[18,4],nS:"set/xor"}]},{name:[6,58],w:O,ql:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],rh:[o,c.E],w:function(R){var V=R==null?0:R.g.length;
return{w:V!=0&&(V!=1||R.g[0]!=0),RS:iV.get(V>1||V==1&&R.s[R.g[0]].rD()?[6,12,0]:[6,10])}}},{name:[6,12,1],w:O},{name:[2,13],w:O}],u5:[{sub:[{K:y.E.v,f:r.KX,C:{Y:gU.SA}},{K:y.E.v,f:r.KX,C:{Y:gU.w$}},{K:y.E.M,C:{Y:y.H.Vl,n9:"newartb",B5:0}},{K:y.E.M,C:{Y:y.H.Vl,n9:"newartb",B5:1}},{K:y.E.XV,C:{ST:"copyToLayer"}},{K:y.E.XV,C:{ST:"cutToLayer"}}]},{K:y.E.v,f:r.KX,C:{Y:gU.vi}},{K:y.E.M,C:{Y:y.H.Vl,n9:"duplinto"}},{K:y.E.v,f:r.KX,C:{Y:gU.Zv}},{sub:es.sw(!0)},{sub:[{K:y.E.v,f:r.CJ,C:{Y:"newfill",RL:0}},{K:y.E.XV,C:r.mc.P5(1)},{K:y.E.XV,C:r.mc.P5(2)}]},{sub:es.Xw()},{sub:[{K:y.E.v,f:r.KX,C:{Y:gU.a0,B5:"RvlA"}},{K:y.E.v,f:r.KX,C:{Y:gU.a0,B5:"HdAl"}},{K:y.E.v,f:r.KX,C:{Y:gU.a0,B5:"RvlS"}},{K:y.E.v,f:r.KX,C:{Y:gU.a0,B5:"HdSl"}},{K:y.E.v,f:r.KX,C:{Y:gU.a0,B5:"Trns"}},{K:y.E.v,f:r.KX,C:{Y:gU.rP}},{K:y.E.v,f:r.KX,C:{Y:gU._t}},{K:y.E.v,f:r.KX,C:{Y:gU.H_}}]},{sub:[{K:y.E.v,f:r.KX,C:{Y:gU.bg,LV:!1}},{K:y.E.v,f:r.KX,C:{Y:gU.bg,LV:!0}},{K:y.E.v,f:r.KX,C:{Y:gU.bg,agf:!0}},{K:y.E.v,f:r.KX,C:{Y:gU.Og}},{K:y.E.v,f:r.KX,C:{Y:gU.fX}}]},{K:y.E.v,f:r.KX,C:{Y:gU.Ru}},{sub:[{K:y.E.XV,C:{ST:"newPlacedLayer"}},{K:y.E.XV,C:{ST:"placedLayerEditContents",sK:{classID:"placedLayerEditContents"}}},{K:y.E.XV,C:{ST:"placedLayerReplaceContents",sK:{classID:"placedLayerReplaceContents"}}},{K:y.E.XV,C:{ST:"placedLayerExportContents",sK:{classID:"placedLayerExportContents"}}},{sub:l},{K:y.E.v,f:r.KX,C:{Y:gU.aBn}}]},{K:y.E.XV,C:{ST:"rasterizeLayer",sK:{classID:"rasterizeLayer",null:a5.Vs("Lyr",!0)}}},{K:y.E.XV,C:{ST:"rasterizeLayer",sK:{classID:"rasterizeLayer",null:a5.Vs("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:y.E.v,f:r.KX,C:{Y:gU.ub}},{sub:[{K:y.E.v,f:r.KX,C:{Y:gU.cB,D$:0}},{K:y.E.v,f:r.KX,C:{Y:gU.cB,D$:1}},{K:y.E.v,f:r.KX,C:{Y:gU.cB,D$:2}},{K:y.E.v,f:r.KX,C:{Y:gU.cB,D$:3}}]},{sub:[{K:y.E.v,f:r.KX,C:{Y:gU.UB,_M:0}},{K:y.E.v,f:r.KX,C:{Y:gU.UB,_M:1}},{K:y.E.v,f:r.KX,C:{Y:gU.UB,_M:2}},{K:y.E.v,f:r.KX,C:{Y:gU.UB,_M:3}}]},{sub:[{K:y.E.v,f:r.KX,C:{Y:gU.pd,D$:"makeframes"}},{K:y.E.v,f:r.KX,C:{Y:gU.pd,D$:"unmakeframes"}},{K:y.E.v,f:r.KX,C:{Y:gU.pd,D$:"merge"}}]},{K:y.E.XV,C:{ST:"mergeLayersNew",sK:{__name:"Merge Layers",classID:"Mrg2"}}},{K:y.E.XV,C:{ST:"flattenImage"}},{K:y.E.v,f:r.qS,C:{Y:"start",MN:"defr"}}]},aI.anU(!1),function(){var R={name:[0,6],uk:0,items:[{name:[24,18,4],rh:[u,o,c.rz],w:O,ql:!0}],u5:[{K:y.E.v,f:r.qS,C:{Y:"applylast"}}]};
for(var Y=0;Y<gZ.vO.length;Y++){var V=gZ.vO[Y];if(V.gq!=null){var d={name:gZ.names[V.gq],PS:!0,ql:V.ql,w:O};
if(V.gq=="VaPo")d.w=n;R.items.push(d);R.u5.push({K:y.E.v,f:r.qS,C:{Y:"start",MN:V.gq}});continue}var e={name:V.Tw,sub:[],w:O};
R.items.push(e);var p={sub:[]};R.u5.push(p);for(var h=0;h<V.KC.length;h++){var E={name:gZ.names[V.KC[h]],PS:gZ.ib(V.KC[h])!=null};
e.sub.push(E);var q={K:y.E.v,f:r.qS,C:{Y:"start",MN:V.KC[h]}};p.sub.push(q)}}return R}(),{name:[0,7],items:[{name:[8,0],w:O,rh:[o,c.v0]},{name:[8,1],w:O,rh:[o,c.pS]},{name:[20,3],w:O,rh:[o,c.jJ]},{name:[20,2],w:O,rh:[o,c.Dj]},{name:[8,14],w:function(R,V){return{w:R!=null,zS:R!=null&&R.Ku}},ql:!0},{name:[12,36],ql:!0,sub:[{name:"Fullscreen",w:function(R,V){return{zS:document.fullscreenElement!=null}},ql:!0},{name:"Standard",w:function(R,V){return{zS:V.v2==0}}},{name:"Menu Bar and Canvas",w:function(R,V){return{zS:V.v2==1}}}]},{name:[8,13],rh:[o,c.T_],w:function(R,V){return{zS:V.ja}}},{name:[8,12],ql:!0,sub:[{name:[17,2],w:function(R,V){return{w:V.ja,zS:V.RG.yk}}},{name:[8,9],w:function(R,V){return{w:V.ja,zS:V.RG.es}}},{name:[8,2],w:function(R,V){return{w:V.ja,zS:V.RG.qb}},rh:[o,c.BD]},{name:[8,4],w:function(R,V){return{w:V.ja,zS:V.RG.wr}},rh:[o,c.xx]},{name:[8,8],w:function(R,V){return{w:V.ja,zS:V.RG.uI}}},{name:[8,11,0],w:function(R,V){return{w:V.ja,zS:V.RG.ni}}}]},{name:[8,3],w:function(R,V){return{zS:V.zo}},rh:[o,c.Bl],ql:!0},{name:[8,5],w:function(R,V){return{zS:V.WJ}}},{name:[8,6],ql:!0,sub:[{name:[8,2],w:function(R,V){return{zS:V.Yi[0]}}},{name:[8,4],w:function(R,V){return{zS:V.Yi[1]}}},{name:[9,1],w:function(R,V){return{zS:V.Yi[2]}}},{name:[8,11,0],w:function(R,V){return{zS:V.Yi[3]}}},{name:[8,7,0],w:function(R,V){return{zS:V.Yi[4]}}}]},{name:[11,15,2],w:function(R,V){return{w:R!=null,zS:R!=null&&R.yn}}},{name:[11,15,0],w:O},{name:[11,14],w:O,PS:!0},{name:[11,15,1],w:function(R,V){return{w:R!=null&&R.g.length!=0}},ql:!0},{name:[8,11,2],w:function(R,V){return{w:R!=null&&R.ni.length!=0}}}],u5:[{K:y.E.v,f:r.Hu,C:{Y:"zoom",hI:!0}},{K:y.E.v,f:r.Hu,C:{Y:"zoom",hI:!1}},{K:y.E.v,f:r.Hu,C:{Y:"adapt",b:"fitscr"}},{K:y.E.v,f:r.Hu,C:{Y:"adapt",b:"pixel"}},{K:y.E.v,f:r.DA,C:{Y:"pview"}},{sub:[{K:y.E.M,C:{Y:y.H.pw,TE:!0}},{K:y.E.M,C:{Y:y.H.pw,b:0}},{K:y.E.M,C:{Y:y.H.pw,b:1}},{K:y.E.M,C:{Y:y.H.pw,b:2}}]},{K:y.E.M,C:{Y:y.H.NU,EU:iD.pn}},{sub:[{K:y.E.M,C:{Y:y.H.NU,EU:iD.Cp}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.qB}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.mR}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.Kx}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.u8}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.UC}}]},{K:y.E.M,C:{Y:y.H.NU,EU:iD.Qh}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.afE}},{sub:[{K:y.E.M,C:{Y:y.H.NU,EU:iD.Ux,yI:0}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.Ux,yI:1}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.Ux,yI:2}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.Ux,yI:3}},{K:y.E.M,C:{Y:y.H.NU,EU:iD.Ux,yI:4}}]},{K:y.E.v,f:r.DA,C:{Y:"lockguides"}},{K:y.E.v,f:r.DA,C:{Y:"gids",Um:[[],[]]}},{K:y.E.M,C:{Y:y.H.Vl,n9:"addguides"}},{K:y.E.v,f:r.DA,C:{Y:"gidsFromLayer"}},{K:y.E.v,f:r.t4,C:{Y:"deleteAll"}}]},function(){var R={name:[0,8],items:[{name:[0,14],ql:!0,sub:[]},{name:"Plugins",ql:!0}],u5:[{sub:[]},{K:y.E.M,C:{Y:y.H.Vl,n9:"res1"}}]};
for(var Y=0;Y<at.Fu.length;Y++){var V=at.Fu[Y],d=function(){var e=V.KH.ef;return function(p,h){return{zS:h.C$.indexOf(parseInt(e))!=-1}}}();
(V.Zf?R.items[0].sub:R.items).push({name:V.KH.name,w:d});(V.Zf?R.u5[0].sub:R.u5).push({K:y.E.M,C:{Y:y.H.P8,n9:V.KH.ef}})}return R}(),function(){var R={name:[0,14],items:[],u5:[]},V={name:[0,9],sub:[]};
R.items.push(V);var d={sub:[]};R.u5.push(d);var e=iV.adH();for(var Y=0;Y<e.length;Y++){var p=e[Y],h=p.code,E=iV.a3Z(h);
V.sub.push({name:p.name,rh:h,w:function(q,Z){return{zS:this.rh==iV.He()}}});d.sub.push({K:y.E.M,C:{Y:y.H.NU,EU:iD.NF,lang:E}})}V.sub.push({name:[0,12]});
d.sub.push({K:y.E.M,C:{Y:y.H.aX,link:"https://www.photopea.com/translate/"}});var V={name:[0,15],sub:[]};
R.items.push(V);var d={sub:[]};R.u5.push(d);for(var Y=0;Y<fW.BU.length;Y++){V.sub.push({name:fW.BU[Y].name,w:function(q,Z){return{zS:this.name==fW.BU[Z.SU].name}}});
d.sub.push({K:y.E.M,C:{Y:y.H.NU,EU:iD.cb,SU:Y}})}R.items.push({name:[0,17,6],w:function(q,Z){return{w:Z.NJ!=null}}});
R.u5.push({K:y.E.M,C:{Y:y.H.Yz}});R.items.push({name:[11,13]});R.u5.push({K:y.E.M,C:{Y:y.H.Vl,n9:"shortcuts"}});
R.items.push({name:[0,16],w:function(q){return{zS:jT.lW,w:jT.qC}},ql:!0});R.u5.push({K:y.E.M,C:{Y:y.H.auv}});
R.items.push({name:"",w:function(q,Z){return Z.wO?{RS:"About Photopea",w:!0}:{RS:"",w:!1}}});R.u5.push({K:y.E.M,C:{Y:y.H.Vl,n9:"aboutpp"}});
return R}()]}();function bp(){ax.call(this);this.n=S.t("div","");this.Uq=0;this.uo=0;this.RU=null;this.nt=S.t("div","");
this.nt.setAttribute("style","width:200em; height:100em; position:absolute;");this.Gu=[];this._A=[];
this.ZE={}}bp.prototype=new ax;bp.prototype.Ed=function(c){var o=Date.now(),K=[];if(c=="-"){K=[new iK,new jC,new ba("pdfpres"),new ba("cformat"),new ba("batch"),new ba("mockups"),new cL,new eG,new kl,new b5,new dF,new c6,new gK,new jF,new aK,new aY,new dv,new hZ,new jh,new es,new iO("isize"),new iO("csize"),new dY,new et,new er,new bH,new hV,new iT,new aQ,new ah,new fL(!1),new fL(!0),new jm(0),new jm(1),new ed,new ak,new jl,new hT,new gc,new ai,new jO(0),new jO(1),new jO(2),new jO(3),new jO(4),new jO(5),new jO(6),new jO(7),new jO(8),new eZ,new dE,new da,new j9,new cH,new fX,new a6,new jM,new dS(0),new dS(1),new cO("border",[7,9],"px"),new cO("smoothness",[19,3,0],"px"),new cO("expand",[7,4],"px"),new cO("contract",[7,5],"px"),new cO("feather",[7,6],"px"),new jY(0,"namewindow",[12,48]),new jY(2,"billto","Bill To"),new jY(1,"cornerradius",[12,94,0],"px",!0,!0),new jY(1,"scaleeffects",[6,30,1],"%",!0),new jY(1,"doczoom","Zoom","%",!0),new jY(1,"setFPS","Set FPS","fps,120",!1),new jY(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(gN==0){K.push(new bB)}}else K=[new bC(c.slice(4))];this.awp(K);this.ZE[c]=!0};bp.prototype.awp=function(c){var o=this.RU;
for(var Y=0;Y<c.length;Y++){var K=c[Y];K.parent=this;this._A.push(K);this.PK(K);K._();if(o)K.VW(o,iD.Vk);
K.B(y.E.ZV,this.Fw,this);S.BA(K)}};bp.prototype._Q=function(c,o){this.Uq=c;this.uo=o;for(var Y=0;Y<this._A.length;
Y++)this.PK(this._A[Y])};bp.prototype._=function(){for(var Y=0;Y<this._A.length;Y++)this._A[Y]._()};
bp.prototype.ZG=function(){return this.Gu.length==0?null:this.Gu[this.Gu.length-1]};bp.prototype.I2=function(){for(var Y=0;
Y<this.Gu.length;Y++)if(this.Gu[Y].I2())return!0;return!1};bp.prototype.asJ=function(c,o,K,u,X){var $=c.startsWith("afw_"),O=null;
if(!$&&!this.ZE["-"])this.Ed("-");if($&&!this.ZE[c])this.Ed(c);if(typeof c=="object"){O=c;if(!O.arE(y.E.ZV,this.Fw))O.B(y.E.ZV,this.Fw,this);
O.parent=this}else for(var Y=0;Y<this._A.length;Y++)if(this._A[Y].id==c)O=this._A[Y];if(this.I2()&&O.I2()){alert("Finish the current action first");
return}if(!O.no(o))return;if(this.Gu.indexOf(O)!=-1){if(c=="colorpicker")O.kX(o,K,u,X);return}var n=this.Gu.length-1;
if(n>=0)S.SZ(this.Gu[n].n,"wdisabled");this.n.appendChild(O.n);this.Gu.push(O);this.PK(O);S.CR(O);O.kX(o,K,u,X)};
bp.prototype.PK=function(c){var o=this.Uq,K=this.uo,u=c.mC(o,K),X;if(u!=null){X=u}else{u=new kn(0,0);
X=c.a7e();if(X==null){var $=this.Gu.indexOf(c)+1;if(o<450||K<450)X=new kn(0,0);else X=new kn($*150,$*150)}}c.n.style.left=X.x+"px";
c.n.style.top=this.n.offsetTop+X.y+"px";c._Q(this.Uq-u.x*2,this.uo-u.y*2-34)};bp.prototype.VW=function(c,o){this.RU=c;
for(var Y=0;Y<this._A.length;Y++)this._A[Y].VW(c,o)};bp.prototype.Fw=function(c){var o=this.Gu.pop();
S.BA(o,this.n);var K=this.Gu.length-1;if(K>=0)S.MG(this.Gu[K].n,"wdisabled");if(this.nt.parentNode==this.n)this.n.removeChild(this.nt)};
window.onload=function(){document.body.appendChild(new kH().n)}}())